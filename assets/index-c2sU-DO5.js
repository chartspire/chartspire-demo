(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var lg={exports:{}},yd={},sg={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function j6(){if(f2)return Ut;f2=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function E(j,ie,xe){this.props=j,this.context=ie,this.refs=_,this.updater=xe||C}E.prototype.isReactComponent={},E.prototype.setState=function(j,ie){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ie,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=E.prototype;function M(j,ie,xe){this.props=j,this.context=ie,this.refs=_,this.updater=xe||C}var I=M.prototype=new T;I.constructor=M,w(I,E.prototype),I.isPureReactComponent=!0;var D=Array.isArray,O=Object.prototype.hasOwnProperty,N={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function V(j,ie,xe){var Me,Ie={},Ae=null,Je=null;if(ie!=null)for(Me in ie.ref!==void 0&&(Je=ie.ref),ie.key!==void 0&&(Ae=""+ie.key),ie)O.call(ie,Me)&&!F.hasOwnProperty(Me)&&(Ie[Me]=ie[Me]);var Oe=arguments.length-2;if(Oe===1)Ie.children=xe;else if(1<Oe){for(var Be=Array(Oe),ye=0;ye<Oe;ye++)Be[ye]=arguments[ye+2];Ie.children=Be}if(j&&j.defaultProps)for(Me in Oe=j.defaultProps,Oe)Ie[Me]===void 0&&(Ie[Me]=Oe[Me]);return{$$typeof:e,type:j,key:Ae,ref:Je,props:Ie,_owner:N.current}}function W(j,ie){return{$$typeof:e,type:j.type,key:ie,ref:j.ref,props:j.props,_owner:j._owner}}function Z(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function J(j){var ie={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(xe){return ie[xe]})}var he=/\/+/g;function H(j,ie){return typeof j=="object"&&j!==null&&j.key!=null?J(""+j.key):ie.toString(36)}function Y(j,ie,xe,Me,Ie){var Ae=typeof j;(Ae==="undefined"||Ae==="boolean")&&(j=null);var Je=!1;if(j===null)Je=!0;else switch(Ae){case"string":case"number":Je=!0;break;case"object":switch(j.$$typeof){case e:case r:Je=!0}}if(Je)return Je=j,Ie=Ie(Je),j=Me===""?"."+H(Je,0):Me,D(Ie)?(xe="",j!=null&&(xe=j.replace(he,"$&/")+"/"),Y(Ie,ie,xe,"",function(ye){return ye})):Ie!=null&&(Z(Ie)&&(Ie=W(Ie,xe+(!Ie.key||Je&&Je.key===Ie.key?"":(""+Ie.key).replace(he,"$&/")+"/")+j)),ie.push(Ie)),1;if(Je=0,Me=Me===""?".":Me+":",D(j))for(var Oe=0;Oe<j.length;Oe++){Ae=j[Oe];var Be=Me+H(Ae,Oe);Je+=Y(Ae,ie,xe,Be,Ie)}else if(Be=y(j),typeof Be=="function")for(j=Be.call(j),Oe=0;!(Ae=j.next()).done;)Ae=Ae.value,Be=Me+H(Ae,Oe++),Je+=Y(Ae,ie,xe,Be,Ie);else if(Ae==="object")throw ie=String(j),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Je}function K(j,ie,xe){if(j==null)return j;var Me=[],Ie=0;return Y(j,Me,"","",function(Ae){return ie.call(xe,Ae,Ie++)}),Me}function ne(j){if(j._status===-1){var ie=j._result;ie=ie(),ie.then(function(xe){(j._status===0||j._status===-1)&&(j._status=1,j._result=xe)},function(xe){(j._status===0||j._status===-1)&&(j._status=2,j._result=xe)}),j._status===-1&&(j._status=0,j._result=ie)}if(j._status===1)return j._result.default;throw j._result}var re={current:null},Q={transition:null},ue={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Q,ReactCurrentOwner:N};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ut.Children={map:K,forEach:function(j,ie,xe){K(j,function(){ie.apply(this,arguments)},xe)},count:function(j){var ie=0;return K(j,function(){ie++}),ie},toArray:function(j){return K(j,function(ie){return ie})||[]},only:function(j){if(!Z(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ut.Component=E,Ut.Fragment=t,Ut.Profiler=i,Ut.PureComponent=M,Ut.StrictMode=n,Ut.Suspense=d,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ut.act=le,Ut.cloneElement=function(j,ie,xe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Me=w({},j.props),Ie=j.key,Ae=j.ref,Je=j._owner;if(ie!=null){if(ie.ref!==void 0&&(Ae=ie.ref,Je=N.current),ie.key!==void 0&&(Ie=""+ie.key),j.type&&j.type.defaultProps)var Oe=j.type.defaultProps;for(Be in ie)O.call(ie,Be)&&!F.hasOwnProperty(Be)&&(Me[Be]=ie[Be]===void 0&&Oe!==void 0?Oe[Be]:ie[Be])}var Be=arguments.length-2;if(Be===1)Me.children=xe;else if(1<Be){Oe=Array(Be);for(var ye=0;ye<Be;ye++)Oe[ye]=arguments[ye+2];Me.children=Oe}return{$$typeof:e,type:j.type,key:Ie,ref:Ae,props:Me,_owner:Je}},Ut.createContext=function(j){return j={$$typeof:s,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:o,_context:j},j.Consumer=j},Ut.createElement=V,Ut.createFactory=function(j){var ie=V.bind(null,j);return ie.type=j,ie},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(j){return{$$typeof:u,render:j}},Ut.isValidElement=Z,Ut.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:ne}},Ut.memo=function(j,ie){return{$$typeof:h,type:j,compare:ie===void 0?null:ie}},Ut.startTransition=function(j){var ie=Q.transition;Q.transition={};try{j()}finally{Q.transition=ie}},Ut.unstable_act=le,Ut.useCallback=function(j,ie){return re.current.useCallback(j,ie)},Ut.useContext=function(j){return re.current.useContext(j)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(j){return re.current.useDeferredValue(j)},Ut.useEffect=function(j,ie){return re.current.useEffect(j,ie)},Ut.useId=function(){return re.current.useId()},Ut.useImperativeHandle=function(j,ie,xe){return re.current.useImperativeHandle(j,ie,xe)},Ut.useInsertionEffect=function(j,ie){return re.current.useInsertionEffect(j,ie)},Ut.useLayoutEffect=function(j,ie){return re.current.useLayoutEffect(j,ie)},Ut.useMemo=function(j,ie){return re.current.useMemo(j,ie)},Ut.useReducer=function(j,ie,xe){return re.current.useReducer(j,ie,xe)},Ut.useRef=function(j){return re.current.useRef(j)},Ut.useState=function(j){return re.current.useState(j)},Ut.useSyncExternalStore=function(j,ie,xe){return re.current.useSyncExternalStore(j,ie,xe)},Ut.useTransition=function(){return re.current.useTransition()},Ut.version="18.3.1",Ut}var g2;function ov(){return g2||(g2=1,sg.exports=j6()),sg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function X6(){if(v2)return yd;v2=1;var e=ov(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,d,h){var g,v={},y=null,C=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(C=d.ref);for(g in d)n.call(d,g)&&!o.hasOwnProperty(g)&&(v[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)v[g]===void 0&&(v[g]=d[g]);return{$$typeof:r,type:u,key:y,ref:C,props:v,_owner:i.current}}return yd.Fragment=t,yd.jsx=s,yd.jsxs=s,yd}var m2;function Y6(){return m2||(m2=1,lg.exports=X6()),lg.exports}var Os=Y6(),Td=ov(),op={},cg={exports:{}},Vi={},ug={exports:{}},dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function Z6(){return y2||(y2=1,function(e){function r(Q,ue){var le=Q.length;Q.push(ue);e:for(;0<le;){var j=le-1>>>1,ie=Q[j];if(0<i(ie,ue))Q[j]=ue,Q[le]=ie,le=j;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ue=Q[0],le=Q.pop();if(le!==ue){Q[0]=le;e:for(var j=0,ie=Q.length,xe=ie>>>1;j<xe;){var Me=2*(j+1)-1,Ie=Q[Me],Ae=Me+1,Je=Q[Ae];if(0>i(Ie,le))Ae<ie&&0>i(Je,Ie)?(Q[j]=Je,Q[Ae]=le,j=Ae):(Q[j]=Ie,Q[Me]=le,j=Me);else if(Ae<ie&&0>i(Je,le))Q[j]=Je,Q[Ae]=le,j=Ae;else break e}}return ue}function i(Q,ue){var le=Q.sortIndex-ue.sortIndex;return le!==0?le:Q.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],h=[],g=1,v=null,y=3,C=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Q){for(var ue=t(h);ue!==null;){if(ue.callback===null)n(h);else if(ue.startTime<=Q)n(h),ue.sortIndex=ue.expirationTime,r(d,ue);else break;ue=t(h)}}function D(Q){if(_=!1,I(Q),!w)if(t(d)!==null)w=!0,ne(O);else{var ue=t(h);ue!==null&&re(D,ue.startTime-Q)}}function O(Q,ue){w=!1,_&&(_=!1,T(V),V=-1),C=!0;var le=y;try{for(I(ue),v=t(d);v!==null&&(!(v.expirationTime>ue)||Q&&!J());){var j=v.callback;if(typeof j=="function"){v.callback=null,y=v.priorityLevel;var ie=j(v.expirationTime<=ue);ue=e.unstable_now(),typeof ie=="function"?v.callback=ie:v===t(d)&&n(d),I(ue)}else n(d);v=t(d)}if(v!==null)var xe=!0;else{var Me=t(h);Me!==null&&re(D,Me.startTime-ue),xe=!1}return xe}finally{v=null,y=le,C=!1}}var N=!1,F=null,V=-1,W=5,Z=-1;function J(){return!(e.unstable_now()-Z<W)}function he(){if(F!==null){var Q=e.unstable_now();Z=Q;var ue=!0;try{ue=F(!0,Q)}finally{ue?H():(N=!1,F=null)}}else N=!1}var H;if(typeof M=="function")H=function(){M(he)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,K=Y.port2;Y.port1.onmessage=he,H=function(){K.postMessage(null)}}else H=function(){E(he,0)};function ne(Q){F=Q,N||(N=!0,H())}function re(Q,ue){V=E(function(){Q(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){w||C||(w=!0,ne(O))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return t(d)},e.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ue=3;break;default:ue=y}var le=y;y=ue;try{return Q()}finally{y=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var le=y;y=Q;try{return ue()}finally{y=le}},e.unstable_scheduleCallback=function(Q,ue,le){var j=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?j+le:j):le=j,Q){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=le+ie,Q={id:g++,callback:ue,priorityLevel:Q,startTime:le,expirationTime:ie,sortIndex:-1},le>j?(Q.sortIndex=le,r(h,Q),t(d)===null&&Q===t(h)&&(_?(T(V),V=-1):_=!0,re(D,le-j))):(Q.sortIndex=ie,r(d,Q),w||C||(w=!0,ne(O))),Q},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(Q){var ue=y;return function(){var le=y;y=ue;try{return Q.apply(this,arguments)}finally{y=le}}}}(dg)),dg}var x2;function K6(){return x2||(x2=1,ug.exports=Z6()),ug.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function G6(){if(C2)return Vi;C2=1;var e=ov(),r=K6();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,l){s(a,l),s(a+"Capture",l)}function s(a,l){for(i[a]=l,a=0;a<l.length;a++)n.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function y(a){return d.call(v,a)?!0:d.call(g,a)?!1:h.test(a)?v[a]=!0:(g[a]=!0,!1)}function C(a,l,f,m){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,l,f,m){if(l===null||typeof l>"u"||C(a,l,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(a,l,f,m,b,k,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=a,this.type=l,this.sanitizeURL=k,this.removeEmptyString=A}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){E[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];E[l]=new _(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){E[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){E[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){E[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){E[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){E[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){E[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){E[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function M(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(T,M);E[l]=new _(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(T,M);E[l]=new _(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(T,M);E[l]=new _(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){E[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){E[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function I(a,l,f,m){var b=E.hasOwnProperty(l)?E[l]:null;(b!==null?b.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,f,b,m)&&(f=null),m||b===null?y(l)&&(f===null?a.removeAttribute(l):a.setAttribute(l,""+f)):b.mustUseProperty?a[b.propertyName]=f===null?b.type===3?!1:"":f:(l=b.attributeName,m=b.attributeNamespace,f===null?a.removeAttribute(l):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,m?a.setAttributeNS(m,l,f):a.setAttribute(l,f))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),N=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),J=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ue(a){return a===null||typeof a!="object"?null:(a=Q&&a[Q]||a["@@iterator"],typeof a=="function"?a:null)}var le=Object.assign,j;function ie(a){if(j===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);j=l&&l[1]||""}return`
`+j+a}var xe=!1;function Me(a,l){if(!a||xe)return"";xe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(fe){var m=fe}Reflect.construct(a,[],l)}else{try{l.call()}catch(fe){m=fe}a.call(l.prototype)}else{try{throw Error()}catch(fe){m=fe}a()}}catch(fe){if(fe&&m&&typeof fe.stack=="string"){for(var b=fe.stack.split(`
`),k=m.stack.split(`
`),A=b.length-1,U=k.length-1;1<=A&&0<=U&&b[A]!==k[U];)U--;for(;1<=A&&0<=U;A--,U--)if(b[A]!==k[U]){if(A!==1||U!==1)do if(A--,U--,0>U||b[A]!==k[U]){var G=`
`+b[A].replace(" at new "," at ");return a.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",a.displayName)),G}while(1<=A&&0<=U);break}}}finally{xe=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?ie(a):""}function Ie(a){switch(a.tag){case 5:return ie(a.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return a=Me(a.type,!1),a;case 11:return a=Me(a.type.render,!1),a;case 1:return a=Me(a.type,!0),a;default:return""}}function Ae(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case N:return"Portal";case W:return"Profiler";case V:return"StrictMode";case H:return"Suspense";case Y:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case J:return(a.displayName||"Context")+".Consumer";case Z:return(a._context.displayName||"Context")+".Provider";case he:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case K:return l=a.displayName||null,l!==null?l:Ae(a.type)||"Memo";case ne:l=a._payload,a=a._init;try{return Ae(a(l))}catch{}}return null}function Je(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(l);case 8:return l===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Oe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Be(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ye(a){var l=Be(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,k=f.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(A){m=""+A,k.call(this,A)}}),Object.defineProperty(a,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(A){m=""+A},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Fe(a){a._valueTracker||(a._valueTracker=ye(a))}function He(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return a&&(m=Be(a)?a.checked?"true":"false":a.value),a=m,a!==f?(l.setValue(a),!0):!1}function Ne(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function ke(a,l){var f=l.checked;return le({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function et(a,l){var f=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;f=Oe(l.value!=null?l.value:f),a._wrapperState={initialChecked:m,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ft(a,l){l=l.checked,l!=null&&I(a,"checked",l,!1)}function Ue(a,l){Ft(a,l);var f=Oe(l.value),m=l.type;if(f!=null)m==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Gt(a,l.type,f):l.hasOwnProperty("defaultValue")&&Gt(a,l.type,Oe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function St(a,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,f||l===a.value||(a.value=l),a.defaultValue=l}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Gt(a,l,f){(l!=="number"||Ne(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var qt=Array.isArray;function xt(a,l,f,m){if(a=a.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<a.length;f++)b=l.hasOwnProperty("$"+a[f].value),a[f].selected!==b&&(a[f].selected=b),b&&m&&(a[f].defaultSelected=!0)}else{for(f=""+Oe(f),l=null,b=0;b<a.length;b++){if(a[b].value===f){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function Cr(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Qr(a,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(t(92));if(qt(f)){if(1<f.length)throw Error(t(93));f=f[0]}l=f}l==null&&(l=""),f=l}a._wrapperState={initialValue:Oe(f)}}function Xr(a,l){var f=Oe(l.value),m=Oe(l.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),l.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),m!=null&&(a.defaultValue=""+m)}function lr(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Tt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Tt(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Qt,Wr=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,m,b){MSApp.execUnsafeLocalFunction(function(){return a(l,f,m,b)})}:a}(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Qt=Qt||document.createElement("div"),Qt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Qt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function sr(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(a){mt.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Ar[l]=Ar[a]})});function ze(a,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Ar.hasOwnProperty(a)&&Ar[a]?(""+l).trim():l+"px"}function Ct(a,l){a=a.style;for(var f in l)if(l.hasOwnProperty(f)){var m=f.indexOf("--")===0,b=ze(f,l[f],m);f==="float"&&(f="cssFloat"),m?a.setProperty(f,b):a[f]=b}}var gt=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(a,l){if(l){if(gt[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function vt(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=null;function Ht(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var pr=null,Ot=null,ut=null;function Dr(a){if(a=An(a)){if(typeof pr!="function")throw Error(t(280));var l=a.stateNode;l&&(l=_u(l),pr(a.stateNode,a.type,l))}}function ur(a){Ot?ut?ut.push(a):ut=[a]:Ot=a}function Fr(){if(Ot){var a=Ot,l=ut;if(ut=Ot=null,Dr(a),l)for(a=0;a<l.length;a++)Dr(l[a])}}function Tn(a,l){return a(l)}function At(){}var zr=!1;function Et(a,l,f){if(zr)return a(l,f);zr=!0;try{return Tn(a,l,f)}finally{zr=!1,(Ot!==null||ut!==null)&&(At(),Fr())}}function wr(a,l){var f=a.stateNode;if(f===null)return null;var m=_u(f);if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(t(231,l,typeof f));return f}var br=!1;if(u)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){br=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{br=!1}function cn(a,l,f,m,b,k,A,U,G){var fe=Array.prototype.slice.call(arguments,3);try{l.apply(f,fe)}catch(Se){this.onError(Se)}}var Yr=!1,un=null,dn=!1,In=null,ji={onError:function(a){Yr=!0,un=a}};function Xi(a,l,f,m,b,k,A,U,G){Yr=!1,un=null,cn.apply(ji,arguments)}function Qo(a,l,f,m,b,k,A,U,G){if(Xi.apply(this,arguments),Yr){if(Yr){var fe=un;Yr=!1,un=null}else throw Error(t(198));dn||(dn=!0,In=fe)}}function ki(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function vo(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Jo(a){if(ki(a)!==a)throw Error(t(188))}function mo(a){var l=a.alternate;if(!l){if(l=ki(a),l===null)throw Error(t(188));return l!==a?null:a}for(var f=a,m=l;;){var b=f.return;if(b===null)break;var k=b.alternate;if(k===null){if(m=b.return,m!==null){f=m;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===f)return Jo(b),a;if(k===m)return Jo(b),l;k=k.sibling}throw Error(t(188))}if(f.return!==m.return)f=b,m=k;else{for(var A=!1,U=b.child;U;){if(U===f){A=!0,f=b,m=k;break}if(U===m){A=!0,m=b,f=k;break}U=U.sibling}if(!A){for(U=k.child;U;){if(U===f){A=!0,f=k,m=b;break}if(U===m){A=!0,m=k,f=b;break}U=U.sibling}if(!A)throw Error(t(189))}}if(f.alternate!==m)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?a:l}function el(a){return a=mo(a),a!==null?tl(a):null}function tl(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=tl(a);if(l!==null)return l;a=a.sibling}return null}var Us=r.unstable_scheduleCallback,js=r.unstable_cancelCallback,rl=r.unstable_shouldYield,Gc=r.unstable_requestPaint,mr=r.unstable_now,qc=r.unstable_getCurrentPriorityLevel,Xs=r.unstable_ImmediatePriority,Ys=r.unstable_UserBlockingPriority,yo=r.unstable_NormalPriority,De=r.unstable_LowPriority,ql=r.unstable_IdlePriority,nl=null,pi=null;function Qc(a){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(nl,a,void 0,(a.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:Gs,Zs=Math.log,Ks=Math.LN2;function Gs(a){return a>>>=0,a===0?32:31-(Zs(a)/Ks|0)|0}var Wa=64,il=4194304;function Ha(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function fa(a,l){var f=a.pendingLanes;if(f===0)return 0;var m=0,b=a.suspendedLanes,k=a.pingedLanes,A=f&268435455;if(A!==0){var U=A&~b;U!==0?m=Ha(U):(k&=A,k!==0&&(m=Ha(k)))}else A=f&~b,A!==0?m=Ha(A):k!==0&&(m=Ha(k));if(m===0)return 0;if(l!==0&&l!==m&&(l&b)===0&&(b=m&-m,k=l&-l,b>=k||b===16&&(k&4194240)!==0))return l;if((m&4)!==0&&(m|=f&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=m;0<l;)f=31-qn(l),b=1<<f,m|=a[f],l&=~b;return m}function qs(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jc(a,l){for(var f=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,k=a.pendingLanes;0<k;){var A=31-qn(k),U=1<<A,G=b[A];G===-1?((U&f)===0||(U&m)!==0)&&(b[A]=qs(U,l)):G<=l&&(a.expiredLanes|=U),k&=~U}}function al(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ql(){var a=Wa;return Wa<<=1,(Wa&4194240)===0&&(Wa=64),a}function xo(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function Co(a,l,f){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-qn(l),a[l]=f}function Qs(a,l){var f=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<f;){var b=31-qn(f),k=1<<b;l[b]=0,m[b]=-1,a[b]=-1,f&=~k}}function wo(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var m=31-qn(f),b=1<<m;b&l|a[m]&l&&(a[m]|=l),f&=~b}}var Zt=0;function ga(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Jl,ol,Js,es,ts,ll=!1,bo=[],Yi=null,Zi=null,Ki=null,Ua=new Map,_o=new Map,Gi=[],eu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(a,l){switch(a){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ua.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(l.pointerId)}}function va(a,l,f,m,b,k){return a===null||a.nativeEvent!==k?(a={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:k,targetContainers:[b]},l!==null&&(l=An(l),l!==null&&ol(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function tu(a,l,f,m,b){switch(l){case"focusin":return Yi=va(Yi,a,l,f,m,b),!0;case"dragenter":return Zi=va(Zi,a,l,f,m,b),!0;case"mouseover":return Ki=va(Ki,a,l,f,m,b),!0;case"pointerover":var k=b.pointerId;return Ua.set(k,va(Ua.get(k)||null,a,l,f,m,b)),!0;case"gotpointercapture":return k=b.pointerId,_o.set(k,va(_o.get(k)||null,a,l,f,m,b)),!0}return!1}function tc(a){var l=Ca(a.target);if(l!==null){var f=ki(l);if(f!==null){if(l=f.tag,l===13){if(l=vo(f),l!==null){a.blockedOn=l,ts(a.priority,function(){Js(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function sl(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=iu(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var m=new f.constructor(f.type,f);Rt=m,f.target.dispatchEvent(m),Rt=null}else return l=An(f),l!==null&&ol(l),a.blockedOn=f,!1;l.shift()}return!0}function Yd(a,l,f){sl(a)&&f.delete(l)}function pf(){ll=!1,Yi!==null&&sl(Yi)&&(Yi=null),Zi!==null&&sl(Zi)&&(Zi=null),Ki!==null&&sl(Ki)&&(Ki=null),Ua.forEach(Yd),_o.forEach(Yd)}function dr(a,l){a.blockedOn===l&&(a.blockedOn=null,ll||(ll=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pf)))}function cr(a){function l(b){return dr(b,a)}if(0<bo.length){dr(bo[0],a);for(var f=1;f<bo.length;f++){var m=bo[f];m.blockedOn===a&&(m.blockedOn=null)}}for(Yi!==null&&dr(Yi,a),Zi!==null&&dr(Zi,a),Ki!==null&&dr(Ki,a),Ua.forEach(l),_o.forEach(l),f=0;f<Gi.length;f++)m=Gi[f],m.blockedOn===a&&(m.blockedOn=null);for(;0<Gi.length&&(f=Gi[0],f.blockedOn===null);)tc(f),f.blockedOn===null&&Gi.shift()}var rs=D.ReactCurrentBatchConfig,ru=!0;function ff(a,l,f,m){var b=Zt,k=rs.transition;rs.transition=null;try{Zt=1,i1(a,l,f,m)}finally{Zt=b,rs.transition=k}}function gf(a,l,f,m){var b=Zt,k=rs.transition;rs.transition=null;try{Zt=4,i1(a,l,f,m)}finally{Zt=b,rs.transition=k}}function i1(a,l,f,m){if(ru){var b=iu(a,l,f,m);if(b===null)w1(a,l,m,nu,f),ec(a,m);else if(tu(b,a,l,f,m))m.stopPropagation();else if(ec(a,m),l&4&&-1<eu.indexOf(a)){for(;b!==null;){var k=An(b);if(k!==null&&Jl(k),k=iu(a,l,f,m),k===null&&w1(a,l,m,nu,f),k===b)break;b=k}b!==null&&m.stopPropagation()}else w1(a,l,m,null,f)}}var nu=null;function iu(a,l,f,m){if(nu=null,a=Ht(m),a=Ca(a),a!==null)if(l=ki(a),l===null)a=null;else if(f=l.tag,f===13){if(a=vo(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return nu=a,null}function Zd(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qc()){case Xs:return 1;case Ys:return 4;case yo:case De:return 16;case ql:return 536870912;default:return 16}default:return 16}}var Rr=null,rc=null,ma=null;function a1(){if(ma)return ma;var a,l=rc,f=l.length,m,b="value"in Rr?Rr.value:Rr.textContent,k=b.length;for(a=0;a<f&&l[a]===b[a];a++);var A=f-a;for(m=1;m<=A&&l[f-m]===b[k-m];m++);return ma=b.slice(a,1<m?1-m:void 0)}function ns(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function $n(){return!0}function o1(){return!1}function Qn(a){function l(f,m,b,k,A){this._reactName=f,this._targetInst=b,this.type=m,this.nativeEvent=k,this.target=A,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(f=a[U],this[U]=f?f(k):k[U]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?$n:o1,this.isPropagationStopped=o1,this}return le(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),l}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=Qn(cl),is=le({},cl,{view:0,detail:0}),Kd=Qn(is),Wn,l1,Ln,ou=le({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h1,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ln&&(Ln&&a.type==="mousemove"?(Wn=a.screenX-Ln.screenX,l1=a.screenY-Ln.screenY):l1=Wn=0,Ln=a),Wn)},movementY:function(a){return"movementY"in a?a.movementY:l1}}),s1=Qn(ou),ko=le({},ou,{dataTransfer:0}),lu=Qn(ko),c1=le({},is,{relatedTarget:0}),_r=Qn(c1),So=le({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),u1=Qn(So),vf=le({},cl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),d1=Qn(vf),mf=le({},cl,{data:0}),Gd=Qn(mf),yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function as(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=su[a])?!!l[a]:!1}function h1(){return as}var Qd=le({},is,{key:function(a){if(a.key){var l=yf[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ns(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h1,charCode:function(a){return a.type==="keypress"?ns(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ns(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Jd=Qn(Qd),p1=le({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=Qn(p1),eh=le({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h1}),xf=Qn(eh),f1=le({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),g1=Qn(f1),Cf=le({},ou,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),th=Qn(Cf),fi=[9,13,27,32],nc=u&&"CompositionEvent"in window,ja=null;u&&"documentMode"in document&&(ja=document.documentMode);var rh=u&&"TextEvent"in window&&!ja,v1=u&&(!nc||ja&&8<ja&&11>=ja),nh=" ",ih=!1;function ah(a,l){switch(a){case"keyup":return fi.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var os=!1;function ls(a,l){switch(a){case"compositionend":return oh(l);case"keypress":return l.which!==32?null:(ih=!0,nh);case"textInput":return a=l.data,a===nh&&ih?null:a;default:return null}}function wf(a,l){if(os)return a==="compositionend"||!nc&&ah(a,l)?(a=a1(),ma=rc=Rr=null,os=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return v1&&l.locale!=="ko"?null:l.data;default:return null}}var bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uu(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!bf[a.type]:l==="textarea"}function m1(a,l,f,m){ur(m),l=xu(l,"onChange"),0<l.length&&(f=new au("onChange","change",null,f,m),a.push({event:f,listeners:l}))}var Si=null,Eo=null;function _f(a){ph(a,0)}function du(a){var l=It(a);if(He(l))return a}function kf(a,l){if(a==="change")return l}var ul=!1;if(u){var gi;if(u){var hu="oninput"in document;if(!hu){var lh=document.createElement("div");lh.setAttribute("oninput","return;"),hu=typeof lh.oninput=="function"}gi=hu}else gi=!1;ul=gi&&(!document.documentMode||9<document.documentMode)}function sh(){Si&&(Si.detachEvent("onpropertychange",ch),Eo=Si=null)}function ch(a){if(a.propertyName==="value"&&du(Eo)){var l=[];m1(l,Eo,a,Ht(a)),Et(_f,l)}}function Sf(a,l,f){a==="focusin"?(sh(),Si=l,Eo=f,Si.attachEvent("onpropertychange",ch)):a==="focusout"&&sh()}function Ef(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return du(Eo)}function ss(a,l){if(a==="click")return du(l)}function oe(a,l){if(a==="input"||a==="change")return du(l)}function me(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var pe=typeof Object.is=="function"?Object.is:me;function je(a,l){if(pe(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var b=f[m];if(!d.call(l,b)||!pe(a[b],l[b]))return!1}return!0}function yt(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ir(a,l){var f=yt(a);a=0;for(var m;f;){if(f.nodeType===3){if(m=a+f.textContent.length,a<=l&&m>=l)return{node:f,offset:l-a};a=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=yt(f)}}function Jr(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Jr(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function gr(){for(var a=window,l=Ne();l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=Ne(a.document)}return l}function ic(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function Mf(a){var l=gr(),f=a.focusedElem,m=a.selectionRange;if(l!==f&&f&&f.ownerDocument&&Jr(f.ownerDocument.documentElement,f)){if(m!==null&&ic(f)){if(l=m.start,a=m.end,a===void 0&&(a=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(a,f.value.length);else if(a=(l=f.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var b=f.textContent.length,k=Math.min(m.start,b);m=m.end===void 0?k:Math.min(m.end,b),!a.extend&&k>m&&(b=m,m=k,k=b),b=ir(f,k);var A=ir(f,m);b&&A&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),a.removeAllRanges(),k>m?(a.addRange(l),a.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),a.addRange(l)))}}for(l=[],a=f;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)a=l[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ei=u&&"documentMode"in document&&11>=document.documentMode,Xa=null,y1=null,ya=null,cs=!1;function ac(a,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;cs||Xa==null||Xa!==Ne(m)||(m=Xa,"selectionStart"in m&&ic(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ya&&je(ya,m)||(ya=m,m=xu(y1,"onSelect"),0<m.length&&(l=new au("onSelect","select",null,l,f),a.push({event:l,listeners:m}),l.target=Xa)))}function ar(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var us={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionend:ar("Transition","TransitionEnd")},pu={},oc={};u&&(oc=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function fu(a){if(pu[a])return pu[a];if(!us[a])return a;var l=us[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in oc)return pu[a]=l[f];return a}var uh=fu("animationend"),dh=fu("animationiteration"),lc=fu("animationstart"),Ya=fu("transitionend"),sc=new Map,x1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(a,l){sc.set(a,l),o(l,[a])}for(var gu=0;gu<x1.length;gu++){var vu=x1[gu],mu=vu.toLowerCase(),hh=vu[0].toUpperCase()+vu.slice(1);qi(mu,"on"+hh)}qi(uh,"onAnimationEnd"),qi(dh,"onAnimationIteration"),qi(lc,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(Ya,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function cc(a,l,f){var m=a.type||"unknown-event";a.currentTarget=f,Qo(m,l,void 0,a),a.currentTarget=null}function ph(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var m=a[f],b=m.event;m=m.listeners;e:{var k=void 0;if(l)for(var A=m.length-1;0<=A;A--){var U=m[A],G=U.instance,fe=U.currentTarget;if(U=U.listener,G!==k&&b.isPropagationStopped())break e;cc(b,U,fe),k=G}else for(A=0;A<m.length;A++){if(U=m[A],G=U.instance,fe=U.currentTarget,U=U.listener,G!==k&&b.isPropagationStopped())break e;cc(b,U,fe),k=G}}}if(dn)throw a=In,dn=!1,In=null,a}function Tr(a,l){var f=l[bu];f===void 0&&(f=l[bu]=new Set);var m=a+"__bubble";f.has(m)||(yu(l,a,2,!1),f.add(m))}function C1(a,l,f){var m=0;l&&(m|=4),yu(f,a,m,l)}var hl="_reactListening"+Math.random().toString(36).slice(2);function Mo(a){if(!a[hl]){a[hl]=!0,n.forEach(function(f){f!=="selectionchange"&&(dl.has(f)||C1(f,!1,a),C1(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[hl]||(l[hl]=!0,C1("selectionchange",!1,l))}}function yu(a,l,f,m){switch(Zd(l)){case 1:var b=ff;break;case 4:b=gf;break;default:b=i1}f=b.bind(null,l,f,a),b=void 0,!br||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(l,f,{capture:!0,passive:b}):a.addEventListener(l,f,!0):b!==void 0?a.addEventListener(l,f,{passive:b}):a.addEventListener(l,f,!1)}function w1(a,l,f,m,b){var k=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var U=m.stateNode.containerInfo;if(U===b||U.nodeType===8&&U.parentNode===b)break;if(A===4)for(A=m.return;A!==null;){var G=A.tag;if((G===3||G===4)&&(G=A.stateNode.containerInfo,G===b||G.nodeType===8&&G.parentNode===b))return;A=A.return}for(;U!==null;){if(A=Ca(U),A===null)return;if(G=A.tag,G===5||G===6){m=k=A;continue e}U=U.parentNode}}m=m.return}Et(function(){var fe=k,Se=Ht(f),Te=[];e:{var _e=sc.get(a);if(_e!==void 0){var Xe=au,Ge=a;switch(a){case"keypress":if(ns(f)===0)break e;case"keydown":case"keyup":Xe=Jd;break;case"focusin":Ge="focus",Xe=_r;break;case"focusout":Ge="blur",Xe=_r;break;case"beforeblur":case"afterblur":Xe=_r;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=s1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=xf;break;case uh:case dh:case lc:Xe=u1;break;case Ya:Xe=g1;break;case"scroll":Xe=Kd;break;case"wheel":Xe=th;break;case"copy":case"cut":case"paste":Xe=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=cu}var qe=(l&4)!==0,Kr=!qe&&a==="scroll",ce=qe?_e!==null?_e+"Capture":null:_e;qe=[];for(var te=fe,de;te!==null;){de=te;var Le=de.stateNode;if(de.tag===5&&Le!==null&&(de=Le,ce!==null&&(Le=wr(te,ce),Le!=null&&qe.push(ds(te,Le,de)))),Kr)break;te=te.return}0<qe.length&&(_e=new Xe(_e,Ge,null,f,Se),Te.push({event:_e,listeners:qe}))}}if((l&7)===0){e:{if(_e=a==="mouseover"||a==="pointerover",Xe=a==="mouseout"||a==="pointerout",_e&&f!==Rt&&(Ge=f.relatedTarget||f.fromElement)&&(Ca(Ge)||Ge[vi]))break e;if((Xe||_e)&&(_e=Se.window===Se?Se:(_e=Se.ownerDocument)?_e.defaultView||_e.parentWindow:window,Xe?(Ge=f.relatedTarget||f.toElement,Xe=fe,Ge=Ge?Ca(Ge):null,Ge!==null&&(Kr=ki(Ge),Ge!==Kr||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Xe=null,Ge=fe),Xe!==Ge)){if(qe=s1,Le="onMouseLeave",ce="onMouseEnter",te="mouse",(a==="pointerout"||a==="pointerover")&&(qe=cu,Le="onPointerLeave",ce="onPointerEnter",te="pointer"),Kr=Xe==null?_e:It(Xe),de=Ge==null?_e:It(Ge),_e=new qe(Le,te+"leave",Xe,f,Se),_e.target=Kr,_e.relatedTarget=de,Le=null,Ca(Se)===fe&&(qe=new qe(ce,te+"enter",Ge,f,Se),qe.target=de,qe.relatedTarget=Kr,Le=qe),Kr=Le,Xe&&Ge)t:{for(qe=Xe,ce=Ge,te=0,de=qe;de;de=hs(de))te++;for(de=0,Le=ce;Le;Le=hs(Le))de++;for(;0<te-de;)qe=hs(qe),te--;for(;0<de-te;)ce=hs(ce),de--;for(;te--;){if(qe===ce||ce!==null&&qe===ce.alternate)break t;qe=hs(qe),ce=hs(ce)}qe=null}else qe=null;Xe!==null&&en(Te,_e,Xe,qe,!1),Ge!==null&&Kr!==null&&en(Te,Kr,Ge,qe,!0)}}e:{if(_e=fe?It(fe):window,Xe=_e.nodeName&&_e.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&_e.type==="file")var tt=kf;else if(uu(_e))if(ul)tt=oe;else{tt=Ef;var lt=Sf}else(Xe=_e.nodeName)&&Xe.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(tt=ss);if(tt&&(tt=tt(a,fe))){m1(Te,tt,f,Se);break e}lt&&lt(a,_e,fe),a==="focusout"&&(lt=_e._wrapperState)&&lt.controlled&&_e.type==="number"&&Gt(_e,"number",_e.value)}switch(lt=fe?It(fe):window,a){case"focusin":(uu(lt)||lt.contentEditable==="true")&&(Xa=lt,y1=fe,ya=null);break;case"focusout":ya=y1=Xa=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,ac(Te,f,Se);break;case"selectionchange":if(Ei)break;case"keydown":case"keyup":ac(Te,f,Se)}var it;if(nc)e:{switch(a){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else os?ah(a,f)&&(dt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(dt="onCompositionStart");dt&&(v1&&f.locale!=="ko"&&(os||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&os&&(it=a1()):(Rr=Se,rc="value"in Rr?Rr.value:Rr.textContent,os=!0)),lt=xu(fe,dt),0<lt.length&&(dt=new Gd(dt,a,null,f,Se),Te.push({event:dt,listeners:lt}),it?dt.data=it:(it=oh(f),it!==null&&(dt.data=it)))),(it=rh?ls(a,f):wf(a,f))&&(fe=xu(fe,"onBeforeInput"),0<fe.length&&(Se=new Gd("onBeforeInput","beforeinput",null,f,Se),Te.push({event:Se,listeners:fe}),Se.data=it))}ph(Te,l)})}function ds(a,l,f){return{instance:a,listener:l,currentTarget:f}}function xu(a,l){for(var f=l+"Capture",m=[];a!==null;){var b=a,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=wr(a,f),k!=null&&m.unshift(ds(a,k,b)),k=wr(a,l),k!=null&&m.push(ds(a,k,b))),a=a.return}return m}function hs(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function en(a,l,f,m,b){for(var k=l._reactName,A=[];f!==null&&f!==m;){var U=f,G=U.alternate,fe=U.stateNode;if(G!==null&&G===m)break;U.tag===5&&fe!==null&&(U=fe,b?(G=wr(f,k),G!=null&&A.unshift(ds(f,G,U))):b||(G=wr(f,k),G!=null&&A.push(ds(f,G,U)))),f=f.return}A.length!==0&&a.push({event:l,listeners:A})}var Pn=/\r\n?/g,Tf=/\u0000|\uFFFD/g;function fh(a){return(typeof a=="string"?a:""+a).replace(Pn,`
`).replace(Tf,"")}function uc(a,l,f){if(l=fh(l),fh(a)!==l&&f)throw Error(t(425))}function Cu(){}var dc=null,pl=null;function hc(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,pc=typeof clearTimeout=="function"?clearTimeout:void 0,ps=typeof Promise=="function"?Promise:void 0,wu=typeof queueMicrotask=="function"?queueMicrotask:typeof ps<"u"?function(a){return ps.resolve(null).then(a).catch(fs)}:To;function fs(a){setTimeout(function(){throw a})}function b1(a,l){var f=l,m=0;do{var b=f.nextSibling;if(a.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(m===0){a.removeChild(b),cr(l);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=b}while(f);cr(l)}function Io(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function gh(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return a;l--}else f==="/$"&&l++}a=a.previousSibling}return null}var gs=Math.random().toString(36).slice(2),xa="__reactFiber$"+gs,Lo="__reactProps$"+gs,vi="__reactContainer$"+gs,bu="__reactEvents$"+gs,R="__reactListeners$"+gs,vs="__reactHandles$"+gs;function Ca(a){var l=a[xa];if(l)return l;for(var f=a.parentNode;f;){if(l=f[vi]||f[xa]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=gh(a);a!==null;){if(f=a[xa])return f;a=gh(a)}return l}a=f,f=a.parentNode}return null}function An(a){return a=a[xa]||a[vi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function It(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function _u(a){return a[Lo]||null}var _1=[],ms=-1;function Jn(a){return{current:a}}function Ir(a){0>ms||(a.current=_1[ms],_1[ms]=null,ms--)}function kr(a,l){ms++,_1[ms]=a.current,a.current=l}var Po={},Dn=Jn(Po),ei=Jn(!1),Hn=Po;function ys(a,l){var f=a.type.contextTypes;if(!f)return Po;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in f)b[k]=l[k];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=b),b}function ti(a){return a=a.childContextTypes,a!=null}function ku(){Ir(ei),Ir(Dn)}function vh(a,l,f){if(Dn.current!==Po)throw Error(t(168));kr(Dn,l),kr(ei,f)}function mh(a,l,f){var m=a.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var b in m)if(!(b in l))throw Error(t(108,Je(a)||"Unknown",b));return le({},f,m)}function Mi(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Po,Hn=Dn.current,kr(Dn,a),kr(ei,ei.current),!0}function yh(a,l,f){var m=a.stateNode;if(!m)throw Error(t(169));f?(a=mh(a,l,Hn),m.__reactInternalMemoizedMergedChildContext=a,Ir(ei),Ir(Dn),kr(Dn,a)):Ir(ei),kr(ei,f)}var Ka=null,Su=!1,k1=!1;function xh(a){Ka===null?Ka=[a]:Ka.push(a)}function fl(a){Su=!0,xh(a)}function Ao(){if(!k1&&Ka!==null){k1=!0;var a=0,l=Zt;try{var f=Ka;for(Zt=1;a<f.length;a++){var m=f[a];do m=m(!0);while(m!==null)}Ka=null,Su=!1}catch(b){throw Ka!==null&&(Ka=Ka.slice(a+1)),Us(Xs,Ao),b}finally{Zt=l,k1=!1}}return null}var xs=[],Fn=0,Eu=null,Mu=0,Ti=[],Ii=0,gl=null,wa=1,ba="";function vl(a,l){xs[Fn++]=Mu,xs[Fn++]=Eu,Eu=a,Mu=l}function Ch(a,l,f){Ti[Ii++]=wa,Ti[Ii++]=ba,Ti[Ii++]=gl,gl=a;var m=wa;a=ba;var b=32-qn(m)-1;m&=~(1<<b),f+=1;var k=32-qn(l)+b;if(30<k){var A=b-b%5;k=(m&(1<<A)-1).toString(32),m>>=A,b-=A,wa=1<<32-qn(l)+b|f<<b|m,ba=k+a}else wa=1<<k|f<<b|m,ba=a}function fc(a){a.return!==null&&(vl(a,1),Ch(a,1,0))}function ml(a){for(;a===Eu;)Eu=xs[--Fn],xs[Fn]=null,Mu=xs[--Fn],xs[Fn]=null;for(;a===gl;)gl=Ti[--Ii],Ti[Ii]=null,ba=Ti[--Ii],Ti[Ii]=null,wa=Ti[--Ii],Ti[Ii]=null}var Rn=null,mi=null,Lr=!1,Qi=null;function _a(a,l){var f=Oi(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=a,l=a.deletions,l===null?(a.deletions=[f],a.flags|=16):l.push(f)}function Tu(a,l){switch(a.tag){case 5:var f=a.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Rn=a,mi=Io(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Rn=a,mi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=gl!==null?{id:wa,overflow:ba}:null,a.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Oi(18,null,null,0),f.stateNode=l,f.return=a,a.child=f,Rn=a,mi=null,!0):!1;default:return!1}}function Ga(a){return(a.mode&1)!==0&&(a.flags&128)===0}function ri(a){if(Lr){var l=mi;if(l){var f=l;if(!Tu(a,l)){if(Ga(a))throw Error(t(418));l=Io(f.nextSibling);var m=Rn;l&&Tu(a,l)?_a(m,f):(a.flags=a.flags&-4097|2,Lr=!1,Rn=a)}}else{if(Ga(a))throw Error(t(418));a.flags=a.flags&-4097|2,Lr=!1,Rn=a}}}function wh(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Rn=a}function gc(a){if(a!==Rn)return!1;if(!Lr)return wh(a),Lr=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!hc(a.type,a.memoizedProps)),l&&(l=mi)){if(Ga(a))throw S1(),Error(t(418));for(;l;)_a(a,l),l=Io(l.nextSibling)}if(wh(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(l===0){mi=Io(a.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}a=a.nextSibling}mi=null}}else mi=Rn?Io(a.stateNode.nextSibling):null;return!0}function S1(){for(var a=mi;a;)a=Io(a.nextSibling)}function ka(){mi=Rn=null,Lr=!1}function Sa(a){Qi===null?Qi=[a]:Qi.push(a)}var bh=D.ReactCurrentBatchConfig;function vc(a,l,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var m=f.stateNode}if(!m)throw Error(t(147,a));var b=m,k=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(A){var U=b.refs;A===null?delete U[k]:U[k]=A},l._stringRef=k,l)}if(typeof a!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,a))}return a}function yl(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function _h(a){var l=a._init;return l(a._payload)}function E1(a){function l(ce,te){if(a){var de=ce.deletions;de===null?(ce.deletions=[te],ce.flags|=16):de.push(te)}}function f(ce,te){if(!a)return null;for(;te!==null;)l(ce,te),te=te.sibling;return null}function m(ce,te){for(ce=new Map;te!==null;)te.key!==null?ce.set(te.key,te):ce.set(te.index,te),te=te.sibling;return ce}function b(ce,te){return ce=aa(ce,te),ce.index=0,ce.sibling=null,ce}function k(ce,te,de){return ce.index=de,a?(de=ce.alternate,de!==null?(de=de.index,de<te?(ce.flags|=2,te):de):(ce.flags|=2,te)):(ce.flags|=1048576,te)}function A(ce){return a&&ce.alternate===null&&(ce.flags|=2),ce}function U(ce,te,de,Le){return te===null||te.tag!==6?(te=hd(de,ce.mode,Le),te.return=ce,te):(te=b(te,de),te.return=ce,te)}function G(ce,te,de,Le){var tt=de.type;return tt===F?Se(ce,te,de.props.children,Le,de.key):te!==null&&(te.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===ne&&_h(tt)===te.type)?(Le=b(te,de.props),Le.ref=vc(ce,te,de),Le.return=ce,Le):(Le=c0(de.type,de.key,de.props,null,ce.mode,Le),Le.ref=vc(ce,te,de),Le.return=ce,Le)}function fe(ce,te,de,Le){return te===null||te.tag!==4||te.stateNode.containerInfo!==de.containerInfo||te.stateNode.implementation!==de.implementation?(te=pd(de,ce.mode,Le),te.return=ce,te):(te=b(te,de.children||[]),te.return=ce,te)}function Se(ce,te,de,Le,tt){return te===null||te.tag!==7?(te=Il(de,ce.mode,Le,tt),te.return=ce,te):(te=b(te,de),te.return=ce,te)}function Te(ce,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return te=hd(""+te,ce.mode,de),te.return=ce,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case O:return de=c0(te.type,te.key,te.props,null,ce.mode,de),de.ref=vc(ce,null,te),de.return=ce,de;case N:return te=pd(te,ce.mode,de),te.return=ce,te;case ne:var Le=te._init;return Te(ce,Le(te._payload),de)}if(qt(te)||ue(te))return te=Il(te,ce.mode,de,null),te.return=ce,te;yl(ce,te)}return null}function _e(ce,te,de,Le){var tt=te!==null?te.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return tt!==null?null:U(ce,te,""+de,Le);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case O:return de.key===tt?G(ce,te,de,Le):null;case N:return de.key===tt?fe(ce,te,de,Le):null;case ne:return tt=de._init,_e(ce,te,tt(de._payload),Le)}if(qt(de)||ue(de))return tt!==null?null:Se(ce,te,de,Le,null);yl(ce,de)}return null}function Xe(ce,te,de,Le,tt){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return ce=ce.get(de)||null,U(te,ce,""+Le,tt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case O:return ce=ce.get(Le.key===null?de:Le.key)||null,G(te,ce,Le,tt);case N:return ce=ce.get(Le.key===null?de:Le.key)||null,fe(te,ce,Le,tt);case ne:var lt=Le._init;return Xe(ce,te,de,lt(Le._payload),tt)}if(qt(Le)||ue(Le))return ce=ce.get(de)||null,Se(te,ce,Le,tt,null);yl(te,Le)}return null}function Ge(ce,te,de,Le){for(var tt=null,lt=null,it=te,dt=te=0,fn=null;it!==null&&dt<de.length;dt++){it.index>dt?(fn=it,it=null):fn=it.sibling;var or=_e(ce,it,de[dt],Le);if(or===null){it===null&&(it=fn);break}a&&it&&or.alternate===null&&l(ce,it),te=k(or,te,dt),lt===null?tt=or:lt.sibling=or,lt=or,it=fn}if(dt===de.length)return f(ce,it),Lr&&vl(ce,dt),tt;if(it===null){for(;dt<de.length;dt++)it=Te(ce,de[dt],Le),it!==null&&(te=k(it,te,dt),lt===null?tt=it:lt.sibling=it,lt=it);return Lr&&vl(ce,dt),tt}for(it=m(ce,it);dt<de.length;dt++)fn=Xe(it,ce,dt,de[dt],Le),fn!==null&&(a&&fn.alternate!==null&&it.delete(fn.key===null?dt:fn.key),te=k(fn,te,dt),lt===null?tt=fn:lt.sibling=fn,lt=fn);return a&&it.forEach(function(Uo){return l(ce,Uo)}),Lr&&vl(ce,dt),tt}function qe(ce,te,de,Le){var tt=ue(de);if(typeof tt!="function")throw Error(t(150));if(de=tt.call(de),de==null)throw Error(t(151));for(var lt=tt=null,it=te,dt=te=0,fn=null,or=de.next();it!==null&&!or.done;dt++,or=de.next()){it.index>dt?(fn=it,it=null):fn=it.sibling;var Uo=_e(ce,it,or.value,Le);if(Uo===null){it===null&&(it=fn);break}a&&it&&Uo.alternate===null&&l(ce,it),te=k(Uo,te,dt),lt===null?tt=Uo:lt.sibling=Uo,lt=Uo,it=fn}if(or.done)return f(ce,it),Lr&&vl(ce,dt),tt;if(it===null){for(;!or.done;dt++,or=de.next())or=Te(ce,or.value,Le),or!==null&&(te=k(or,te,dt),lt===null?tt=or:lt.sibling=or,lt=or);return Lr&&vl(ce,dt),tt}for(it=m(ce,it);!or.done;dt++,or=de.next())or=Xe(it,ce,dt,or.value,Le),or!==null&&(a&&or.alternate!==null&&it.delete(or.key===null?dt:or.key),te=k(or,te,dt),lt===null?tt=or:lt.sibling=or,lt=or);return a&&it.forEach(function(Kf){return l(ce,Kf)}),Lr&&vl(ce,dt),tt}function Kr(ce,te,de,Le){if(typeof de=="object"&&de!==null&&de.type===F&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case O:e:{for(var tt=de.key,lt=te;lt!==null;){if(lt.key===tt){if(tt=de.type,tt===F){if(lt.tag===7){f(ce,lt.sibling),te=b(lt,de.props.children),te.return=ce,ce=te;break e}}else if(lt.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===ne&&_h(tt)===lt.type){f(ce,lt.sibling),te=b(lt,de.props),te.ref=vc(ce,lt,de),te.return=ce,ce=te;break e}f(ce,lt);break}else l(ce,lt);lt=lt.sibling}de.type===F?(te=Il(de.props.children,ce.mode,Le,de.key),te.return=ce,ce=te):(Le=c0(de.type,de.key,de.props,null,ce.mode,Le),Le.ref=vc(ce,te,de),Le.return=ce,ce=Le)}return A(ce);case N:e:{for(lt=de.key;te!==null;){if(te.key===lt)if(te.tag===4&&te.stateNode.containerInfo===de.containerInfo&&te.stateNode.implementation===de.implementation){f(ce,te.sibling),te=b(te,de.children||[]),te.return=ce,ce=te;break e}else{f(ce,te);break}else l(ce,te);te=te.sibling}te=pd(de,ce.mode,Le),te.return=ce,ce=te}return A(ce);case ne:return lt=de._init,Kr(ce,te,lt(de._payload),Le)}if(qt(de))return Ge(ce,te,de,Le);if(ue(de))return qe(ce,te,de,Le);yl(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,te!==null&&te.tag===6?(f(ce,te.sibling),te=b(te,de),te.return=ce,ce=te):(f(ce,te),te=hd(de,ce.mode,Le),te.return=ce,ce=te),A(ce)):f(ce,te)}return Kr}var Hr=E1(!0),Iu=E1(!1),mc=Jn(null),yi=null,Do=null,Cs=null;function qa(){Cs=Do=yi=null}function Lu(a){var l=mc.current;Ir(mc),a._currentValue=l}function xn(a,l,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===f)break;a=a.return}}function Fo(a,l){yi=a,Cs=Do=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(jn=!0),a.firstContext=null)}function Li(a){var l=a._currentValue;if(Cs!==a)if(a={context:a,memoizedValue:l,next:null},Do===null){if(yi===null)throw Error(t(308));Do=a,yi.dependencies={lanes:0,firstContext:a}}else Do=Do.next=a;return l}var xl=null;function M1(a){xl===null?xl=[a]:xl.push(a)}function Pu(a,l,f,m){var b=l.interleaved;return b===null?(f.next=f,M1(l)):(f.next=b.next,b.next=f),l.interleaved=f,Qa(a,m)}function Qa(a,l){a.lanes|=l;var f=a.alternate;for(f!==null&&(f.lanes|=l),f=a,a=a.return;a!==null;)a.childLanes|=l,f=a.alternate,f!==null&&(f.childLanes|=l),f=a,a=a.return;return f.tag===3?f.stateNode:null}var Pi=!1;function Au(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kh(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ja(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ai(a,l,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Jt&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,Qa(a,f)}return b=m.interleaved,b===null?(l.next=l,M1(m)):(l.next=b.next,b.next=l),m.interleaved=l,Qa(a,f)}function Du(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,wo(a,f)}}function Sh(a,l){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var b=null,k=null;if(f=f.firstBaseUpdate,f!==null){do{var A={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};k===null?b=k=A:k=k.next=A,f=f.next}while(f!==null);k===null?b=k=l:k=k.next=l}else b=k=l;f={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:m.shared,effects:m.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}function ws(a,l,f,m){var b=a.updateQueue;Pi=!1;var k=b.firstBaseUpdate,A=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var G=U,fe=G.next;G.next=null,A===null?k=fe:A.next=fe,A=G;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,U=Se.lastBaseUpdate,U!==A&&(U===null?Se.firstBaseUpdate=fe:U.next=fe,Se.lastBaseUpdate=G))}if(k!==null){var Te=b.baseState;A=0,Se=fe=G=null,U=k;do{var _e=U.lane,Xe=U.eventTime;if((m&_e)===_e){Se!==null&&(Se=Se.next={eventTime:Xe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Ge=a,qe=U;switch(_e=l,Xe=f,qe.tag){case 1:if(Ge=qe.payload,typeof Ge=="function"){Te=Ge.call(Xe,Te,_e);break e}Te=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=qe.payload,_e=typeof Ge=="function"?Ge.call(Xe,Te,_e):Ge,_e==null)break e;Te=le({},Te,_e);break e;case 2:Pi=!0}}U.callback!==null&&U.lane!==0&&(a.flags|=64,_e=b.effects,_e===null?b.effects=[U]:_e.push(U))}else Xe={eventTime:Xe,lane:_e,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Se===null?(fe=Se=Xe,G=Te):Se=Se.next=Xe,A|=_e;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;_e=U,U=_e.next,_e.next=null,b.lastBaseUpdate=_e,b.shared.pending=null}}while(!0);if(Se===null&&(G=Te),b.baseState=G,b.firstBaseUpdate=fe,b.lastBaseUpdate=Se,l=b.shared.interleaved,l!==null){b=l;do A|=b.lane,b=b.next;while(b!==l)}else k===null&&(b.shared.lanes=0);Bo|=A,a.lanes=A,a.memoizedState=Te}}function T1(a,l,f){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var m=a[l],b=m.callback;if(b!==null){if(m.callback=null,m=f,typeof b!="function")throw Error(t(191,b));b.call(m)}}}var yc={},Ea=Jn(yc),xc=Jn(yc),bs=Jn(yc);function eo(a){if(a===yc)throw Error(t(174));return a}function I1(a,l){switch(kr(bs,l),kr(xc,a),kr(Ea,yc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:$t(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=$t(l,a)}Ir(Ea),kr(Ea,l)}function Ro(){Ir(Ea),Ir(xc),Ir(bs)}function L1(a){eo(bs.current);var l=eo(Ea.current),f=$t(l,a.type);l!==f&&(kr(xc,a),kr(Ea,f))}function Fu(a){xc.current===a&&(Ir(Ea),Ir(xc))}var Or=Jn(0);function Cl(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var P1=[];function Ru(){for(var a=0;a<P1.length;a++)P1[a]._workInProgressVersionPrimary=null;P1.length=0}var Cc=D.ReactCurrentDispatcher,A1=D.ReactCurrentBatchConfig,Oo=0,Br=null,Zr=null,nn=null,_s=!1,wc=!1,wl=0,Nt=0;function On(){throw Error(t(321))}function D1(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!pe(a[f],l[f]))return!1;return!0}function bl(a,l,f,m,b,k){if(Oo=k,Br=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Cc.current=a===null||a.memoizedState===null?Lf:Wu,a=f(m,b),wc){k=0;do{if(wc=!1,wl=0,25<=k)throw Error(t(301));k+=1,nn=Zr=null,l.updateQueue=null,Cc.current=Ms,a=f(m,b)}while(wc)}if(Cc.current=$u,l=Zr!==null&&Zr.next!==null,Oo=0,nn=Zr=Br=null,_s=!1,l)throw Error(t(300));return a}function Ou(){var a=wl!==0;return wl=0,a}function Ma(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Br.memoizedState=nn=a:nn=nn.next=a,nn}function Di(){if(Zr===null){var a=Br.alternate;a=a!==null?a.memoizedState:null}else a=Zr.next;var l=nn===null?Br.memoizedState:nn.next;if(l!==null)nn=l,Zr=a;else{if(a===null)throw Error(t(310));Zr=a,a={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},nn===null?Br.memoizedState=nn=a:nn=nn.next=a}return nn}function Nn(a,l){return typeof l=="function"?l(a):l}function F1(a){var l=Di(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var m=Zr,b=m.baseQueue,k=f.pending;if(k!==null){if(b!==null){var A=b.next;b.next=k.next,k.next=A}m.baseQueue=b=k,f.pending=null}if(b!==null){k=b.next,m=m.baseState;var U=A=null,G=null,fe=k;do{var Se=fe.lane;if((Oo&Se)===Se)G!==null&&(G=G.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),m=fe.hasEagerState?fe.eagerState:a(m,fe.action);else{var Te={lane:Se,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};G===null?(U=G=Te,A=m):G=G.next=Te,Br.lanes|=Se,Bo|=Se}fe=fe.next}while(fe!==null&&fe!==k);G===null?A=m:G.next=U,pe(m,l.memoizedState)||(jn=!0),l.memoizedState=m,l.baseState=A,l.baseQueue=G,f.lastRenderedState=m}if(a=f.interleaved,a!==null){b=a;do k=b.lane,Br.lanes|=k,Bo|=k,b=b.next;while(b!==a)}else b===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function ks(a){var l=Di(),f=l.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=a;var m=f.dispatch,b=f.pending,k=l.memoizedState;if(b!==null){f.pending=null;var A=b=b.next;do k=a(k,A.action),A=A.next;while(A!==b);pe(k,l.memoizedState)||(jn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),f.lastRenderedState=k}return[k,m]}function Nu(){}function R1(a,l){var f=Br,m=Di(),b=l(),k=!pe(m.memoizedState,b);if(k&&(m.memoizedState=b,jn=!0),m=m.queue,Ta(to.bind(null,f,m,a),[a]),m.getSnapshot!==l||k||nn!==null&&nn.memoizedState.tag&1){if(f.flags|=2048,Ss(9,ni.bind(null,f,m,b,l),void 0,null),pn===null)throw Error(t(349));(Oo&30)!==0||O1(f,l,b)}return b}function O1(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=Br.updateQueue,l===null?(l={lastEffect:null,stores:null},Br.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function ni(a,l,f,m){l.value=f,l.getSnapshot=m,zu(l)&&N1(a)}function to(a,l,f){return f(function(){zu(l)&&N1(a)})}function zu(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!pe(a,f)}catch{return!0}}function N1(a){var l=Qa(a,1);l!==null&&ia(l,a,1,-1)}function bc(a){var l=Ma();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:a},l.queue=a,a=a.dispatch=Ph.bind(null,Br,a),[l.memoizedState,a]}function Ss(a,l,f,m){return a={tag:a,create:l,destroy:f,deps:m,next:null},l=Br.updateQueue,l===null?(l={lastEffect:null,stores:null},Br.updateQueue=l,l.lastEffect=a.next=a):(f=l.lastEffect,f===null?l.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,l.lastEffect=a)),a}function Bu(){return Di().memoizedState}function _c(a,l,f,m){var b=Ma();Br.flags|=a,b.memoizedState=Ss(1|l,f,void 0,m===void 0?null:m)}function Es(a,l,f,m){var b=Di();m=m===void 0?null:m;var k=void 0;if(Zr!==null){var A=Zr.memoizedState;if(k=A.destroy,m!==null&&D1(m,A.deps)){b.memoizedState=Ss(l,f,k,m);return}}Br.flags|=a,b.memoizedState=Ss(1|l,f,k,m)}function Vu(a,l){return _c(8390656,8,a,l)}function Ta(a,l){return Es(2048,8,a,l)}function Eh(a,l){return Es(4,2,a,l)}function ro(a,l){return Es(4,4,a,l)}function z1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function B1(a,l,f){return f=f!=null?f.concat([a]):null,Es(4,4,z1.bind(null,l,a),f)}function kc(){}function Mh(a,l){var f=Di();l=l===void 0?null:l;var m=f.memoizedState;return m!==null&&l!==null&&D1(l,m[1])?m[0]:(f.memoizedState=[a,l],a)}function Th(a,l){var f=Di();l=l===void 0?null:l;var m=f.memoizedState;return m!==null&&l!==null&&D1(l,m[1])?m[0]:(a=a(),f.memoizedState=[a,l],a)}function Ih(a,l,f){return(Oo&21)===0?(a.baseState&&(a.baseState=!1,jn=!0),a.memoizedState=f):(pe(f,l)||(f=Ql(),Br.lanes|=f,Bo|=f,a.baseState=!0),l)}function Lh(a,l){var f=Zt;Zt=f!==0&&4>f?f:4,a(!0);var m=A1.transition;A1.transition={};try{a(!1),l()}finally{Zt=f,A1.transition=m}}function V1(){return Di().memoizedState}function If(a,l,f){var m=Wo(a);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},$1(a))Un(l,f);else if(f=Pu(a,l,f,m),f!==null){var b=Zn();ia(f,a,m,b),Ji(f,l,m)}}function Ph(a,l,f){var m=Wo(a),b={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if($1(a))Un(l,b);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var A=l.lastRenderedState,U=k(A,f);if(b.hasEagerState=!0,b.eagerState=U,pe(U,A)){var G=l.interleaved;G===null?(b.next=b,M1(l)):(b.next=G.next,G.next=b),l.interleaved=b;return}}catch{}finally{}f=Pu(a,l,b,m),f!==null&&(b=Zn(),ia(f,a,m,b),Ji(f,l,m))}}function $1(a){var l=a.alternate;return a===Br||l!==null&&l===Br}function Un(a,l){wc=_s=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function Ji(a,l,f){if((f&4194240)!==0){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,wo(a,f)}}var $u={readContext:Li,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},Lf={readContext:Li,useCallback:function(a,l){return Ma().memoizedState=[a,l===void 0?null:l],a},useContext:Li,useEffect:Vu,useImperativeHandle:function(a,l,f){return f=f!=null?f.concat([a]):null,_c(4194308,4,z1.bind(null,l,a),f)},useLayoutEffect:function(a,l){return _c(4194308,4,a,l)},useInsertionEffect:function(a,l){return _c(4,2,a,l)},useMemo:function(a,l){var f=Ma();return l=l===void 0?null:l,a=a(),f.memoizedState=[a,l],a},useReducer:function(a,l,f){var m=Ma();return l=f!==void 0?f(l):l,m.memoizedState=m.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},m.queue=a,a=a.dispatch=If.bind(null,Br,a),[m.memoizedState,a]},useRef:function(a){var l=Ma();return a={current:a},l.memoizedState=a},useState:bc,useDebugValue:kc,useDeferredValue:function(a){return Ma().memoizedState=a},useTransition:function(){var a=bc(!1),l=a[0];return a=Lh.bind(null,a[1]),Ma().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,f){var m=Br,b=Ma();if(Lr){if(f===void 0)throw Error(t(407));f=f()}else{if(f=l(),pn===null)throw Error(t(349));(Oo&30)!==0||O1(m,l,f)}b.memoizedState=f;var k={value:f,getSnapshot:l};return b.queue=k,Vu(to.bind(null,m,k,a),[a]),m.flags|=2048,Ss(9,ni.bind(null,m,k,f,l),void 0,null),f},useId:function(){var a=Ma(),l=pn.identifierPrefix;if(Lr){var f=ba,m=wa;f=(m&~(1<<32-qn(m)-1)).toString(32)+f,l=":"+l+"R"+f,f=wl++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=Nt++,l=":"+l+"r"+f.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},Wu={readContext:Li,useCallback:Mh,useContext:Li,useEffect:Ta,useImperativeHandle:B1,useInsertionEffect:Eh,useLayoutEffect:ro,useMemo:Th,useReducer:F1,useRef:Bu,useState:function(){return F1(Nn)},useDebugValue:kc,useDeferredValue:function(a){var l=Di();return Ih(l,Zr.memoizedState,a)},useTransition:function(){var a=F1(Nn)[0],l=Di().memoizedState;return[a,l]},useMutableSource:Nu,useSyncExternalStore:R1,useId:V1,unstable_isNewReconciler:!1},Ms={readContext:Li,useCallback:Mh,useContext:Li,useEffect:Ta,useImperativeHandle:B1,useInsertionEffect:Eh,useLayoutEffect:ro,useMemo:Th,useReducer:ks,useRef:Bu,useState:function(){return ks(Nn)},useDebugValue:kc,useDeferredValue:function(a){var l=Di();return Zr===null?l.memoizedState=a:Ih(l,Zr.memoizedState,a)},useTransition:function(){var a=ks(Nn)[0],l=Di().memoizedState;return[a,l]},useMutableSource:Nu,useSyncExternalStore:R1,useId:V1,unstable_isNewReconciler:!1};function Fi(a,l){if(a&&a.defaultProps){l=le({},l),a=a.defaultProps;for(var f in a)l[f]===void 0&&(l[f]=a[f]);return l}return l}function Hu(a,l,f,m){l=a.memoizedState,f=f(m,l),f=f==null?l:le({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Uu={isMounted:function(a){return(a=a._reactInternals)?ki(a)===a:!1},enqueueSetState:function(a,l,f){a=a._reactInternals;var m=Zn(),b=Wo(a),k=Ja(m,b);k.payload=l,f!=null&&(k.callback=f),l=Ai(a,k,b),l!==null&&(ia(l,a,b,m),Du(l,a,b))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var m=Zn(),b=Wo(a),k=Ja(m,b);k.tag=1,k.payload=l,f!=null&&(k.callback=f),l=Ai(a,k,b),l!==null&&(ia(l,a,b,m),Du(l,a,b))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=Zn(),m=Wo(a),b=Ja(f,m);b.tag=2,l!=null&&(b.callback=l),l=Ai(a,b,m),l!==null&&(ia(l,a,m,f),Du(l,a,m))}};function W1(a,l,f,m,b,k,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,k,A):l.prototype&&l.prototype.isPureReactComponent?!je(f,m)||!je(b,k):!0}function _l(a,l,f){var m=!1,b=Po,k=l.contextType;return typeof k=="object"&&k!==null?k=Li(k):(b=ti(l)?Hn:Dn.current,m=l.contextTypes,k=(m=m!=null)?ys(a,b):Po),l=new l(f,k),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Uu,a.stateNode=l,l._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=k),l}function Ts(a,l,f,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==a&&Uu.enqueueReplaceState(l,l.state,null)}function H1(a,l,f,m){var b=a.stateNode;b.props=f,b.state=a.memoizedState,b.refs={},Au(a);var k=l.contextType;typeof k=="object"&&k!==null?b.context=Li(k):(k=ti(l)?Hn:Dn.current,b.context=ys(a,k)),b.state=a.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Hu(a,l,k,f),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&Uu.enqueueReplaceState(b,b.state,null),ws(a,f,b,m),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function kl(a,l){try{var f="",m=l;do f+=Ie(m),m=m.return;while(m);var b=f}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:a,source:l,stack:b,digest:null}}function ju(a,l,f){return{value:a,source:null,stack:f??null,digest:l??null}}function Is(a,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var Ah=typeof WeakMap=="function"?WeakMap:Map;function Sc(a,l,f){f=Ja(-1,f),f.tag=3,f.payload={element:null};var m=l.value;return f.callback=function(){r0||(r0=!0,ad=m),Is(a,l)},f}function Xu(a,l,f){f=Ja(-1,f),f.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var b=l.value;f.payload=function(){return m(b)},f.callback=function(){Is(a,l)}}var k=a.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(f.callback=function(){Is(a,l),typeof m!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),f}function Ec(a,l,f){var m=a.pingCache;if(m===null){m=a.pingCache=new Ah;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(f)||(b.add(f),a=zf.bind(null,a,l,f),l.then(a,a))}function Dh(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function U1(a,l,f,m,b){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Ja(-1,1),l.tag=2,Ai(f,l,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var Yu=D.ReactCurrentOwner,jn=!1;function Cn(a,l,f,m){l.child=a===null?Iu(l,null,f,m):Hr(l,a.child,f,m)}function Fh(a,l,f,m,b){f=f.render;var k=l.ref;return Fo(l,b),m=bl(a,l,f,m,k,b),f=Ou(),a!==null&&!jn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,ea(a,l,b)):(Lr&&f&&fc(l),l.flags|=1,Cn(a,l,m,b),l.child)}function j1(a,l,f,m,b){if(a===null){var k=f.type;return typeof k=="function"&&!s0(k)&&k.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=k,Ia(a,l,k,m,b)):(a=c0(f.type,null,m,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(k=a.child,(a.lanes&b)===0){var A=k.memoizedProps;if(f=f.compare,f=f!==null?f:je,f(A,m)&&a.ref===l.ref)return ea(a,l,b)}return l.flags|=1,a=aa(k,m),a.ref=l.ref,a.return=l,l.child=a}function Ia(a,l,f,m,b){if(a!==null){var k=a.memoizedProps;if(je(k,m)&&a.ref===l.ref)if(jn=!1,l.pendingProps=m=k,(a.lanes&b)!==0)(a.flags&131072)!==0&&(jn=!0);else return l.lanes=a.lanes,ea(a,l,b)}return Z1(a,l,f,m,b)}function X1(a,l,f){var m=l.pendingProps,b=m.children,k=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Ds,Ci),Ci|=f;else{if((f&1073741824)===0)return a=k!==null?k.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,kr(Ds,Ci),Ci|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:f,kr(Ds,Ci),Ci|=m}else k!==null?(m=k.baseLanes|f,l.memoizedState=null):m=f,kr(Ds,Ci),Ci|=m;return Cn(a,l,b,f),l.child}function Y1(a,l){var f=l.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Z1(a,l,f,m,b){var k=ti(f)?Hn:Dn.current;return k=ys(l,k),Fo(l,b),f=bl(a,l,f,m,k,b),m=Ou(),a!==null&&!jn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~b,ea(a,l,b)):(Lr&&m&&fc(l),l.flags|=1,Cn(a,l,f,b),l.child)}function K1(a,l,f,m,b){if(ti(f)){var k=!0;Mi(l)}else k=!1;if(Fo(l,b),l.stateNode===null)Ku(a,l),_l(l,f,m),H1(l,f,m,b),m=!0;else if(a===null){var A=l.stateNode,U=l.memoizedProps;A.props=U;var G=A.context,fe=f.contextType;typeof fe=="object"&&fe!==null?fe=Li(fe):(fe=ti(f)?Hn:Dn.current,fe=ys(l,fe));var Se=f.getDerivedStateFromProps,Te=typeof Se=="function"||typeof A.getSnapshotBeforeUpdate=="function";Te||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==m||G!==fe)&&Ts(l,A,m,fe),Pi=!1;var _e=l.memoizedState;A.state=_e,ws(l,m,A,b),G=l.memoizedState,U!==m||_e!==G||ei.current||Pi?(typeof Se=="function"&&(Hu(l,f,Se,m),G=l.memoizedState),(U=Pi||W1(l,f,U,m,_e,G,fe))?(Te||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=G),A.props=m,A.state=G,A.context=fe,m=U):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{A=l.stateNode,kh(a,l),U=l.memoizedProps,fe=l.type===l.elementType?U:Fi(l.type,U),A.props=fe,Te=l.pendingProps,_e=A.context,G=f.contextType,typeof G=="object"&&G!==null?G=Li(G):(G=ti(f)?Hn:Dn.current,G=ys(l,G));var Xe=f.getDerivedStateFromProps;(Se=typeof Xe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==Te||_e!==G)&&Ts(l,A,m,G),Pi=!1,_e=l.memoizedState,A.state=_e,ws(l,m,A,b);var Ge=l.memoizedState;U!==Te||_e!==Ge||ei.current||Pi?(typeof Xe=="function"&&(Hu(l,f,Xe,m),Ge=l.memoizedState),(fe=Pi||W1(l,f,fe,m,_e,Ge,G)||!1)?(Se||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(m,Ge,G),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(m,Ge,G)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===a.memoizedProps&&_e===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&_e===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Ge),A.props=m,A.state=Ge,A.context=G,m=fe):(typeof A.componentDidUpdate!="function"||U===a.memoizedProps&&_e===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&_e===a.memoizedState||(l.flags|=1024),m=!1)}return G1(a,l,f,m,k,b)}function G1(a,l,f,m,b,k){Y1(a,l);var A=(l.flags&128)!==0;if(!m&&!A)return b&&yh(l,f,!1),ea(a,l,k);m=l.stateNode,Yu.current=l;var U=A&&typeof f.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,a!==null&&A?(l.child=Hr(l,a.child,null,k),l.child=Hr(l,null,U,k)):Cn(a,l,U,k),l.memoizedState=m.state,b&&yh(l,f,!0),l.child}function Rh(a){var l=a.stateNode;l.pendingContext?vh(a,l.pendingContext,l.pendingContext!==l.context):l.context&&vh(a,l.context,!1),I1(a,l.containerInfo)}function La(a,l,f,m,b){return ka(),Sa(b),l.flags|=256,Cn(a,l,f,m),l.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function Tc(a){return{baseLanes:a,cachePool:null,transitions:null}}function Zu(a,l,f){var m=l.pendingProps,b=Or.current,k=!1,A=(l.flags&128)!==0,U;if((U=A)||(U=a!==null&&a.memoizedState===null?!1:(b&2)!==0),U?(k=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),kr(Or,b&1),a===null)return ri(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=m.children,a=m.fallback,k?(m=l.mode,k=l.child,A={mode:"hidden",children:A},(m&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=A):k=u0(A,m,0,null),a=Il(a,m,f,null),k.return=l,a.return=l,k.sibling=a,l.child=k,l.child.memoizedState=Tc(f),l.memoizedState=Mc,a):Ls(l,A));if(b=a.memoizedState,b!==null&&(U=b.dehydrated,U!==null))return st(a,l,A,m,U,b,f);if(k){k=m.fallback,A=l.mode,b=a.child,U=b.sibling;var G={mode:"hidden",children:m.children};return(A&1)===0&&l.child!==b?(m=l.child,m.childLanes=0,m.pendingProps=G,l.deletions=null):(m=aa(b,G),m.subtreeFlags=b.subtreeFlags&14680064),U!==null?k=aa(U,k):(k=Il(k,A,f,null),k.flags|=2),k.return=l,m.return=l,m.sibling=k,l.child=m,m=k,k=l.child,A=a.child.memoizedState,A=A===null?Tc(f):{baseLanes:A.baseLanes|f,cachePool:null,transitions:A.transitions},k.memoizedState=A,k.childLanes=a.childLanes&~f,l.memoizedState=Mc,m}return k=a.child,a=k.sibling,m=aa(k,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=f),m.return=l,m.sibling=null,a!==null&&(f=l.deletions,f===null?(l.deletions=[a],l.flags|=16):f.push(a)),l.child=m,l.memoizedState=null,m}function Ls(a,l){return l=u0({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function no(a,l,f,m){return m!==null&&Sa(m),Hr(l,a.child,null,f),a=Ls(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function st(a,l,f,m,b,k,A){if(f)return l.flags&256?(l.flags&=-257,m=ju(Error(t(422))),no(a,l,A,m)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(k=m.fallback,b=l.mode,m=u0({mode:"visible",children:m.children},b,0,null),k=Il(k,b,A,null),k.flags|=2,m.return=l,k.return=l,m.sibling=k,l.child=m,(l.mode&1)!==0&&Hr(l,a.child,null,A),l.child.memoizedState=Tc(A),l.memoizedState=Mc,k);if((l.mode&1)===0)return no(a,l,A,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var U=m.dgst;return m=U,k=Error(t(419)),m=ju(k,m,void 0),no(a,l,A,m)}if(U=(A&a.childLanes)!==0,jn||U){if(m=pn,m!==null){switch(A&-A){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|A))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Qa(a,b),ia(m,a,b,-1))}return dd(),m=ju(Error(t(421))),no(a,l,A,m)}return b.data==="$?"?(l.flags|=128,l.child=a.child,l=Bf.bind(null,a),b._reactRetry=l,null):(a=k.treeContext,mi=Io(b.nextSibling),Rn=l,Lr=!0,Qi=null,a!==null&&(Ti[Ii++]=wa,Ti[Ii++]=ba,Ti[Ii++]=gl,wa=a.id,ba=a.overflow,gl=l),l=Ls(l,m.children),l.flags|=4096,l)}function Ic(a,l,f){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),xn(a.return,l,f)}function Lc(a,l,f,m,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:b}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=f,k.tailMode=b)}function No(a,l,f){var m=l.pendingProps,b=m.revealOrder,k=m.tail;if(Cn(a,l,m.children,f),m=Or.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ic(a,f,l);else if(a.tag===19)Ic(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(kr(Or,m),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(f=l.child,b=null;f!==null;)a=f.alternate,a!==null&&Cl(a)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),Lc(l,!1,b,f,k);break;case"backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&Cl(a)===null){l.child=b;break}a=b.sibling,b.sibling=f,f=b,b=a}Lc(l,!0,f,null,k);break;case"together":Lc(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ku(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function ea(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),Bo|=l.lanes,(f&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,f=aa(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=aa(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function Oh(a,l,f){switch(l.tag){case 3:Rh(l),ka();break;case 5:L1(l);break;case 1:ti(l.type)&&Mi(l);break;case 4:I1(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,b=l.memoizedProps.value;kr(mc,m._currentValue),m._currentValue=b;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(kr(Or,Or.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Zu(a,l,f):(kr(Or,Or.current&1),a=ea(a,l,f),a!==null?a.sibling:null);kr(Or,Or.current&1);break;case 19:if(m=(f&l.childLanes)!==0,(a.flags&128)!==0){if(m)return No(a,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),kr(Or,Or.current),m)break;return null;case 22:case 23:return l.lanes=0,X1(a,l,f)}return ea(a,l,f)}var wn,q1,Nh,Q1;wn=function(a,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},q1=function(){},Nh=function(a,l,f,m){var b=a.memoizedProps;if(b!==m){a=l.stateNode,eo(Ea.current);var k=null;switch(f){case"input":b=ke(a,b),m=ke(a,m),k=[];break;case"select":b=le({},b,{value:void 0}),m=le({},m,{value:void 0}),k=[];break;case"textarea":b=Cr(a,b),m=Cr(a,m),k=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=Cu)}wt(f,m);var A;f=null;for(fe in b)if(!m.hasOwnProperty(fe)&&b.hasOwnProperty(fe)&&b[fe]!=null)if(fe==="style"){var U=b[fe];for(A in U)U.hasOwnProperty(A)&&(f||(f={}),f[A]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(i.hasOwnProperty(fe)?k||(k=[]):(k=k||[]).push(fe,null));for(fe in m){var G=m[fe];if(U=b!=null?b[fe]:void 0,m.hasOwnProperty(fe)&&G!==U&&(G!=null||U!=null))if(fe==="style")if(U){for(A in U)!U.hasOwnProperty(A)||G&&G.hasOwnProperty(A)||(f||(f={}),f[A]="");for(A in G)G.hasOwnProperty(A)&&U[A]!==G[A]&&(f||(f={}),f[A]=G[A])}else f||(k||(k=[]),k.push(fe,f)),f=G;else fe==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,U=U?U.__html:void 0,G!=null&&U!==G&&(k=k||[]).push(fe,G)):fe==="children"?typeof G!="string"&&typeof G!="number"||(k=k||[]).push(fe,""+G):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(i.hasOwnProperty(fe)?(G!=null&&fe==="onScroll"&&Tr("scroll",a),k||U===G||(k=[])):(k=k||[]).push(fe,G))}f&&(k=k||[]).push("style",f);var fe=k;(l.updateQueue=fe)&&(l.flags|=4)}},Q1=function(a,l,f,m){f!==m&&(l.flags|=4)};function Pc(a,l){if(!Lr)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function bn(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(l)for(var b=a.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=f,l}function Pf(a,l,f){var m=l.pendingProps;switch(ml(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(l),null;case 1:return ti(l.type)&&ku(),bn(l),null;case 3:return m=l.stateNode,Ro(),Ir(ei),Ir(Dn),Ru(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(gc(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Qi!==null&&(sd(Qi),Qi=null))),q1(a,l),bn(l),null;case 5:Fu(l);var b=eo(bs.current);if(f=l.type,a!==null&&l.stateNode!=null)Nh(a,l,f,m,b),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(t(166));return bn(l),null}if(a=eo(Ea.current),gc(l)){m=l.stateNode,f=l.type;var k=l.memoizedProps;switch(m[xa]=l,m[Lo]=k,a=(l.mode&1)!==0,f){case"dialog":Tr("cancel",m),Tr("close",m);break;case"iframe":case"object":case"embed":Tr("load",m);break;case"video":case"audio":for(b=0;b<Za.length;b++)Tr(Za[b],m);break;case"source":Tr("error",m);break;case"img":case"image":case"link":Tr("error",m),Tr("load",m);break;case"details":Tr("toggle",m);break;case"input":et(m,k),Tr("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},Tr("invalid",m);break;case"textarea":Qr(m,k),Tr("invalid",m)}wt(f,k),b=null;for(var A in k)if(k.hasOwnProperty(A)){var U=k[A];A==="children"?typeof U=="string"?m.textContent!==U&&(k.suppressHydrationWarning!==!0&&uc(m.textContent,U,a),b=["children",U]):typeof U=="number"&&m.textContent!==""+U&&(k.suppressHydrationWarning!==!0&&uc(m.textContent,U,a),b=["children",""+U]):i.hasOwnProperty(A)&&U!=null&&A==="onScroll"&&Tr("scroll",m)}switch(f){case"input":Fe(m),St(m,k,!0);break;case"textarea":Fe(m),lr(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=Cu)}m=b,l.updateQueue=m,m!==null&&(l.flags|=4)}else{A=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Tt(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=A.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=A.createElement(f,{is:m.is}):(a=A.createElement(f),f==="select"&&(A=a,m.multiple?A.multiple=!0:m.size&&(A.size=m.size))):a=A.createElementNS(a,f),a[xa]=l,a[Lo]=m,wn(a,l,!1,!1),l.stateNode=a;e:{switch(A=vt(f,m),f){case"dialog":Tr("cancel",a),Tr("close",a),b=m;break;case"iframe":case"object":case"embed":Tr("load",a),b=m;break;case"video":case"audio":for(b=0;b<Za.length;b++)Tr(Za[b],a);b=m;break;case"source":Tr("error",a),b=m;break;case"img":case"image":case"link":Tr("error",a),Tr("load",a),b=m;break;case"details":Tr("toggle",a),b=m;break;case"input":et(a,m),b=ke(a,m),Tr("invalid",a);break;case"option":b=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},b=le({},m,{value:void 0}),Tr("invalid",a);break;case"textarea":Qr(a,m),b=Cr(a,m),Tr("invalid",a);break;default:b=m}wt(f,b),U=b;for(k in U)if(U.hasOwnProperty(k)){var G=U[k];k==="style"?Ct(a,G):k==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Wr(a,G)):k==="children"?typeof G=="string"?(f!=="textarea"||G!=="")&&sr(a,G):typeof G=="number"&&sr(a,""+G):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?G!=null&&k==="onScroll"&&Tr("scroll",a):G!=null&&I(a,k,G,A))}switch(f){case"input":Fe(a),St(a,m,!1);break;case"textarea":Fe(a),lr(a);break;case"option":m.value!=null&&a.setAttribute("value",""+Oe(m.value));break;case"select":a.multiple=!!m.multiple,k=m.value,k!=null?xt(a,!!m.multiple,k,!1):m.defaultValue!=null&&xt(a,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=Cu)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return bn(l),null;case 6:if(a&&l.stateNode!=null)Q1(a,l,a.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(t(166));if(f=eo(bs.current),eo(Ea.current),gc(l)){if(m=l.stateNode,f=l.memoizedProps,m[xa]=l,(k=m.nodeValue!==f)&&(a=Rn,a!==null))switch(a.tag){case 3:uc(m.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&uc(m.nodeValue,f,(a.mode&1)!==0)}k&&(l.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[xa]=l,l.stateNode=m}return bn(l),null;case 13:if(Ir(Or),m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Lr&&mi!==null&&(l.mode&1)!==0&&(l.flags&128)===0)S1(),ka(),l.flags|=98560,k=!1;else if(k=gc(l),m!==null&&m.dehydrated!==null){if(a===null){if(!k)throw Error(t(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(t(317));k[xa]=l}else ka(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;bn(l),k=!1}else Qi!==null&&(sd(Qi),Qi=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Or.current&1)!==0?an===0&&(an=3):dd())),l.updateQueue!==null&&(l.flags|=4),bn(l),null);case 4:return Ro(),q1(a,l),a===null&&Mo(l.stateNode.containerInfo),bn(l),null;case 10:return Lu(l.type._context),bn(l),null;case 17:return ti(l.type)&&ku(),bn(l),null;case 19:if(Ir(Or),k=l.memoizedState,k===null)return bn(l),null;if(m=(l.flags&128)!==0,A=k.rendering,A===null)if(m)Pc(k,!1);else{if(an!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(A=Cl(a),A!==null){for(l.flags|=128,Pc(k,!1),m=A.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=f,f=l.child;f!==null;)k=f,a=m,k.flags&=14680066,A=k.alternate,A===null?(k.childLanes=0,k.lanes=a,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=A.childLanes,k.lanes=A.lanes,k.child=A.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=A.memoizedProps,k.memoizedState=A.memoizedState,k.updateQueue=A.updateQueue,k.type=A.type,a=A.dependencies,k.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return kr(Or,Or.current&1|2),l.child}a=a.sibling}k.tail!==null&&mr()>Sl&&(l.flags|=128,m=!0,Pc(k,!1),l.lanes=4194304)}else{if(!m)if(a=Cl(A),a!==null){if(l.flags|=128,m=!0,f=a.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Pc(k,!0),k.tail===null&&k.tailMode==="hidden"&&!A.alternate&&!Lr)return bn(l),null}else 2*mr()-k.renderingStartTime>Sl&&f!==1073741824&&(l.flags|=128,m=!0,Pc(k,!1),l.lanes=4194304);k.isBackwards?(A.sibling=l.child,l.child=A):(f=k.last,f!==null?f.sibling=A:l.child=A,k.last=A)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=mr(),l.sibling=null,f=Or.current,kr(Or,m?f&1|2:f&1),l):(bn(l),null);case 22:case 23:return ud(),m=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(Ci&1073741824)!==0&&(bn(l),l.subtreeFlags&6&&(l.flags|=8192)):bn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function Af(a,l){switch(ml(l),l.tag){case 1:return ti(l.type)&&ku(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ro(),Ir(ei),Ir(Dn),Ru(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Fu(l),null;case 13:if(Ir(Or),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));ka()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Ir(Or),null;case 4:return Ro(),null;case 10:return Lu(l.type._context),null;case 22:case 23:return ud(),null;case 24:return null;default:return null}}var Gu=!1,Nr=!1,Xn=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Ps(a,l){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){Vr(a,l,m)}else f.current=null}function Ac(a,l,f){try{f()}catch(m){Vr(a,l,m)}}var zh=!1;function Df(a,l){if(dc=ru,a=gr(),ic(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var b=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{f.nodeType,k.nodeType}catch{f=null;break e}var A=0,U=-1,G=-1,fe=0,Se=0,Te=a,_e=null;t:for(;;){for(var Xe;Te!==f||b!==0&&Te.nodeType!==3||(U=A+b),Te!==k||m!==0&&Te.nodeType!==3||(G=A+m),Te.nodeType===3&&(A+=Te.nodeValue.length),(Xe=Te.firstChild)!==null;)_e=Te,Te=Xe;for(;;){if(Te===a)break t;if(_e===f&&++fe===b&&(U=A),_e===k&&++Se===m&&(G=A),(Xe=Te.nextSibling)!==null)break;Te=_e,_e=Te.parentNode}Te=Xe}f=U===-1||G===-1?null:{start:U,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(pl={focusedElem:a,selectionRange:f},ru=!1,Ze=l;Ze!==null;)if(l=Ze,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Ze=a;else for(;Ze!==null;){l=Ze;try{var Ge=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var qe=Ge.memoizedProps,Kr=Ge.memoizedState,ce=l.stateNode,te=ce.getSnapshotBeforeUpdate(l.elementType===l.type?qe:Fi(l.type,qe),Kr);ce.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var de=l.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Le){Vr(l,l.return,Le)}if(a=l.sibling,a!==null){a.return=l.return,Ze=a;break}Ze=l.return}return Ge=zh,zh=!1,Ge}function io(a,l,f){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&a)===a){var k=b.destroy;b.destroy=void 0,k!==void 0&&Ac(l,f,k)}b=b.next}while(b!==m)}}function Dc(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&a)===a){var m=f.create;f.destroy=m()}f=f.next}while(f!==l)}}function qu(a){var l=a.ref;if(l!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof l=="function"?l(a):l.current=a}}function Bh(a){var l=a.alternate;l!==null&&(a.alternate=null,Bh(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[xa],delete l[Lo],delete l[bu],delete l[R],delete l[vs])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Vh(a){return a.tag===5||a.tag===3||a.tag===4}function $h(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Vh(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function J1(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(a,l):f.insertBefore(a,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(a,f)):(l=f,l.appendChild(a)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Cu));else if(m!==4&&(a=a.child,a!==null))for(J1(a,l,f),a=a.sibling;a!==null;)J1(a,l,f),a=a.sibling}function Qu(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(Qu(a,l,f),a=a.sibling;a!==null;)Qu(a,l,f),a=a.sibling}var hn=null,ta=!1;function Pa(a,l,f){for(f=f.child;f!==null;)ed(a,l,f),f=f.sibling}function ed(a,l,f){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(nl,f)}catch{}switch(f.tag){case 5:Nr||Ps(f,l);case 6:var m=hn,b=ta;hn=null,Pa(a,l,f),hn=m,ta=b,hn!==null&&(ta?(a=hn,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):hn.removeChild(f.stateNode));break;case 18:hn!==null&&(ta?(a=hn,f=f.stateNode,a.nodeType===8?b1(a.parentNode,f):a.nodeType===1&&b1(a,f),cr(a)):b1(hn,f.stateNode));break;case 4:m=hn,b=ta,hn=f.stateNode.containerInfo,ta=!0,Pa(a,l,f),hn=m,ta=b;break;case 0:case 11:case 14:case 15:if(!Nr&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var k=b,A=k.destroy;k=k.tag,A!==void 0&&((k&2)!==0||(k&4)!==0)&&Ac(f,l,A),b=b.next}while(b!==m)}Pa(a,l,f);break;case 1:if(!Nr&&(Ps(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(U){Vr(f,l,U)}Pa(a,l,f);break;case 21:Pa(a,l,f);break;case 22:f.mode&1?(Nr=(m=Nr)||f.memoizedState!==null,Pa(a,l,f),Nr=m):Pa(a,l,f);break;default:Pa(a,l,f)}}function As(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new Xn),l.forEach(function(m){var b=Vf.bind(null,a,m);f.has(m)||(f.add(m),m.then(b,b))})}}function xi(a,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var b=f[m];try{var k=a,A=l,U=A;e:for(;U!==null;){switch(U.tag){case 5:hn=U.stateNode,ta=!1;break e;case 3:hn=U.stateNode.containerInfo,ta=!0;break e;case 4:hn=U.stateNode.containerInfo,ta=!0;break e}U=U.return}if(hn===null)throw Error(t(160));ed(k,A,b),hn=null,ta=!1;var G=b.alternate;G!==null&&(G.return=null),b.return=null}catch(fe){Vr(b,l,fe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)td(l,a),l=l.sibling}function td(a,l){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(xi(l,a),ra(a),m&4){try{io(3,a,a.return),Dc(3,a)}catch(qe){Vr(a,a.return,qe)}try{io(5,a,a.return)}catch(qe){Vr(a,a.return,qe)}}break;case 1:xi(l,a),ra(a),m&512&&f!==null&&Ps(f,f.return);break;case 5:if(xi(l,a),ra(a),m&512&&f!==null&&Ps(f,f.return),a.flags&32){var b=a.stateNode;try{sr(b,"")}catch(qe){Vr(a,a.return,qe)}}if(m&4&&(b=a.stateNode,b!=null)){var k=a.memoizedProps,A=f!==null?f.memoizedProps:k,U=a.type,G=a.updateQueue;if(a.updateQueue=null,G!==null)try{U==="input"&&k.type==="radio"&&k.name!=null&&Ft(b,k),vt(U,A);var fe=vt(U,k);for(A=0;A<G.length;A+=2){var Se=G[A],Te=G[A+1];Se==="style"?Ct(b,Te):Se==="dangerouslySetInnerHTML"?Wr(b,Te):Se==="children"?sr(b,Te):I(b,Se,Te,fe)}switch(U){case"input":Ue(b,k);break;case"textarea":Xr(b,k);break;case"select":var _e=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var Xe=k.value;Xe!=null?xt(b,!!k.multiple,Xe,!1):_e!==!!k.multiple&&(k.defaultValue!=null?xt(b,!!k.multiple,k.defaultValue,!0):xt(b,!!k.multiple,k.multiple?[]:"",!1))}b[Lo]=k}catch(qe){Vr(a,a.return,qe)}}break;case 6:if(xi(l,a),ra(a),m&4){if(a.stateNode===null)throw Error(t(162));b=a.stateNode,k=a.memoizedProps;try{b.nodeValue=k}catch(qe){Vr(a,a.return,qe)}}break;case 3:if(xi(l,a),ra(a),m&4&&f!==null&&f.memoizedState.isDehydrated)try{cr(l.containerInfo)}catch(qe){Vr(a,a.return,qe)}break;case 4:xi(l,a),ra(a);break;case 13:xi(l,a),ra(a),b=a.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(id=mr())),m&4&&As(a);break;case 22:if(Se=f!==null&&f.memoizedState!==null,a.mode&1?(Nr=(fe=Nr)||Se,xi(l,a),Nr=fe):xi(l,a),ra(a),m&8192){if(fe=a.memoizedState!==null,(a.stateNode.isHidden=fe)&&!Se&&(a.mode&1)!==0)for(Ze=a,Se=a.child;Se!==null;){for(Te=Ze=Se;Ze!==null;){switch(_e=Ze,Xe=_e.child,_e.tag){case 0:case 11:case 14:case 15:io(4,_e,_e.return);break;case 1:Ps(_e,_e.return);var Ge=_e.stateNode;if(typeof Ge.componentWillUnmount=="function"){m=_e,f=_e.return;try{l=m,Ge.props=l.memoizedProps,Ge.state=l.memoizedState,Ge.componentWillUnmount()}catch(qe){Vr(m,f,qe)}}break;case 5:Ps(_e,_e.return);break;case 22:if(_e.memoizedState!==null){zo(Te);continue}}Xe!==null?(Xe.return=_e,Ze=Xe):zo(Te)}Se=Se.sibling}e:for(Se=null,Te=a;;){if(Te.tag===5){if(Se===null){Se=Te;try{b=Te.stateNode,fe?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(U=Te.stateNode,G=Te.memoizedProps.style,A=G!=null&&G.hasOwnProperty("display")?G.display:null,U.style.display=ze("display",A))}catch(qe){Vr(a,a.return,qe)}}}else if(Te.tag===6){if(Se===null)try{Te.stateNode.nodeValue=fe?"":Te.memoizedProps}catch(qe){Vr(a,a.return,qe)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===a)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===a)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===a)break e;Se===Te&&(Se=null),Te=Te.return}Se===Te&&(Se=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:xi(l,a),ra(a),m&4&&As(a);break;case 21:break;default:xi(l,a),ra(a)}}function ra(a){var l=a.flags;if(l&2){try{e:{for(var f=a.return;f!==null;){if(Vh(f)){var m=f;break e}f=f.return}throw Error(t(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(sr(b,""),m.flags&=-33);var k=$h(a);Qu(a,k,b);break;case 3:case 4:var A=m.stateNode.containerInfo,U=$h(a);J1(a,U,A);break;default:throw Error(t(161))}}catch(G){Vr(a,a.return,G)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Ju(a,l,f){Ze=a,rd(a)}function rd(a,l,f){for(var m=(a.mode&1)!==0;Ze!==null;){var b=Ze,k=b.child;if(b.tag===22&&m){var A=b.memoizedState!==null||Gu;if(!A){var U=b.alternate,G=U!==null&&U.memoizedState!==null||Nr;U=Gu;var fe=Nr;if(Gu=A,(Nr=G)&&!fe)for(Ze=b;Ze!==null;)A=Ze,G=A.child,A.tag===22&&A.memoizedState!==null?Wh(b):G!==null?(G.return=A,Ze=G):Wh(b);for(;k!==null;)Ze=k,rd(k),k=k.sibling;Ze=b,Gu=U,Nr=fe}na(a)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,Ze=k):na(a)}}function na(a){for(;Ze!==null;){var l=Ze;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Nr||Dc(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Nr)if(f===null)m.componentDidMount();else{var b=l.elementType===l.type?f.memoizedProps:Fi(l.type,f.memoizedProps);m.componentDidUpdate(b,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&T1(l,k,m);break;case 3:var A=l.updateQueue;if(A!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}T1(l,A,f)}break;case 5:var U=l.stateNode;if(f===null&&l.flags&4){f=U;var G=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&f.focus();break;case"img":G.src&&(f.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var fe=l.alternate;if(fe!==null){var Se=fe.memoizedState;if(Se!==null){var Te=Se.dehydrated;Te!==null&&cr(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Nr||l.flags&512&&qu(l)}catch(_e){Vr(l,l.return,_e)}}if(l===a){Ze=null;break}if(f=l.sibling,f!==null){f.return=l.return,Ze=f;break}Ze=l.return}}function zo(a){for(;Ze!==null;){var l=Ze;if(l===a){Ze=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Ze=f;break}Ze=l.return}}function Wh(a){for(;Ze!==null;){var l=Ze;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Dc(4,l)}catch(G){Vr(l,f,G)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var b=l.return;try{m.componentDidMount()}catch(G){Vr(l,b,G)}}var k=l.return;try{qu(l)}catch(G){Vr(l,k,G)}break;case 5:var A=l.return;try{qu(l)}catch(G){Vr(l,A,G)}}}catch(G){Vr(l,l.return,G)}if(l===a){Ze=null;break}var U=l.sibling;if(U!==null){U.return=l.return,Ze=U;break}Ze=l.return}}var Hh=Math.ceil,e0=D.ReactCurrentDispatcher,nd=D.ReactCurrentOwner,Ri=D.ReactCurrentBatchConfig,Jt=0,pn=null,tn=null,_n=0,Ci=0,Ds=Jn(0),an=0,Fc=null,Bo=0,Rc=0,t0=0,Oc=null,ii=null,id=0,Sl=1/0,ao=null,r0=!1,ad=null,Vo=null,n0=!1,$o=null,Yn=0,Nc=0,od=null,i0=-1,zc=0;function Zn(){return(Jt&6)!==0?mr():i0!==-1?i0:i0=mr()}function Wo(a){return(a.mode&1)===0?1:(Jt&2)!==0&&_n!==0?_n&-_n:bh.transition!==null?(zc===0&&(zc=Ql()),zc):(a=Zt,a!==0||(a=window.event,a=a===void 0?16:Zd(a.type)),a)}function ia(a,l,f,m){if(50<Nc)throw Nc=0,od=null,Error(t(185));Co(a,f,m),((Jt&2)===0||a!==pn)&&(a===pn&&((Jt&2)===0&&(Rc|=f),an===4&&Ho(a,_n)),ai(a,m),f===1&&Jt===0&&(l.mode&1)===0&&(Sl=mr()+500,Su&&Ao()))}function ai(a,l){var f=a.callbackNode;Jc(a,l);var m=fa(a,a===pn?_n:0);if(m===0)f!==null&&js(f),a.callbackNode=null,a.callbackPriority=0;else if(l=m&-m,a.callbackPriority!==l){if(f!=null&&js(f),l===1)a.tag===0?fl(Uh.bind(null,a)):xh(Uh.bind(null,a)),wu(function(){(Jt&6)===0&&Ao()}),f=null;else{switch(ga(m)){case 1:f=Xs;break;case 4:f=Ys;break;case 16:f=yo;break;case 536870912:f=ql;break;default:f=yo}f=qh(f,a0.bind(null,a))}a.callbackPriority=l,a.callbackNode=f}}function a0(a,l){if(i0=-1,zc=0,(Jt&6)!==0)throw Error(t(327));var f=a.callbackNode;if(Fs()&&a.callbackNode!==f)return null;var m=fa(a,a===pn?_n:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||l)l=o0(a,m);else{l=m;var b=Jt;Jt|=2;var k=Xh();(pn!==a||_n!==l)&&(ao=null,Sl=mr()+500,Ml(a,l));do try{Of();break}catch(U){jh(a,U)}while(!0);qa(),e0.current=k,Jt=b,tn!==null?l=0:(pn=null,_n=0,l=an)}if(l!==0){if(l===2&&(b=al(a),b!==0&&(m=b,l=ld(a,b))),l===1)throw f=Fc,Ml(a,0),Ho(a,m),ai(a,mr()),f;if(l===6)Ho(a,m);else{if(b=a.current.alternate,(m&30)===0&&!Ff(b)&&(l=o0(a,m),l===2&&(k=al(a),k!==0&&(m=k,l=ld(a,k))),l===1))throw f=Fc,Ml(a,0),Ho(a,m),ai(a,mr()),f;switch(a.finishedWork=b,a.finishedLanes=m,l){case 0:case 1:throw Error(t(345));case 2:Tl(a,ii,ao);break;case 3:if(Ho(a,m),(m&130023424)===m&&(l=id+500-mr(),10<l)){if(fa(a,0)!==0)break;if(b=a.suspendedLanes,(b&m)!==m){Zn(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=To(Tl.bind(null,a,ii,ao),l);break}Tl(a,ii,ao);break;case 4:if(Ho(a,m),(m&4194240)===m)break;for(l=a.eventTimes,b=-1;0<m;){var A=31-qn(m);k=1<<A,A=l[A],A>b&&(b=A),m&=~k}if(m=b,m=mr()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Hh(m/1960))-m,10<m){a.timeoutHandle=To(Tl.bind(null,a,ii,ao),m);break}Tl(a,ii,ao);break;case 5:Tl(a,ii,ao);break;default:throw Error(t(329))}}}return ai(a,mr()),a.callbackNode===f?a0.bind(null,a):null}function ld(a,l){var f=Oc;return a.current.memoizedState.isDehydrated&&(Ml(a,l).flags|=256),a=o0(a,l),a!==2&&(l=ii,ii=f,l!==null&&sd(l)),a}function sd(a){ii===null?ii=a:ii.push.apply(ii,a)}function Ff(a){for(var l=a;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var b=f[m],k=b.getSnapshot;b=b.value;try{if(!pe(k(),b))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ho(a,l){for(l&=~t0,l&=~Rc,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var f=31-qn(l),m=1<<f;a[f]=-1,l&=~m}}function Uh(a){if((Jt&6)!==0)throw Error(t(327));Fs();var l=fa(a,0);if((l&1)===0)return ai(a,mr()),null;var f=o0(a,l);if(a.tag!==0&&f===2){var m=al(a);m!==0&&(l=m,f=ld(a,m))}if(f===1)throw f=Fc,Ml(a,0),Ho(a,l),ai(a,mr()),f;if(f===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Tl(a,ii,ao),ai(a,mr()),null}function cd(a,l){var f=Jt;Jt|=1;try{return a(l)}finally{Jt=f,Jt===0&&(Sl=mr()+500,Su&&Ao())}}function El(a){$o!==null&&$o.tag===0&&(Jt&6)===0&&Fs();var l=Jt;Jt|=1;var f=Ri.transition,m=Zt;try{if(Ri.transition=null,Zt=1,a)return a()}finally{Zt=m,Ri.transition=f,Jt=l,(Jt&6)===0&&Ao()}}function ud(){Ci=Ds.current,Ir(Ds)}function Ml(a,l){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,pc(f)),tn!==null)for(f=tn.return;f!==null;){var m=f;switch(ml(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&ku();break;case 3:Ro(),Ir(ei),Ir(Dn),Ru();break;case 5:Fu(m);break;case 4:Ro();break;case 13:Ir(Or);break;case 19:Ir(Or);break;case 10:Lu(m.type._context);break;case 22:case 23:ud()}f=f.return}if(pn=a,tn=a=aa(a.current,null),_n=Ci=l,an=0,Fc=null,t0=Rc=Bo=0,ii=Oc=null,xl!==null){for(l=0;l<xl.length;l++)if(f=xl[l],m=f.interleaved,m!==null){f.interleaved=null;var b=m.next,k=f.pending;if(k!==null){var A=k.next;k.next=b,m.next=A}f.pending=m}xl=null}return a}function jh(a,l){do{var f=tn;try{if(qa(),Cc.current=$u,_s){for(var m=Br.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}_s=!1}if(Oo=0,nn=Zr=Br=null,wc=!1,wl=0,nd.current=null,f===null||f.return===null){an=1,Fc=l,tn=null;break}e:{var k=a,A=f.return,U=f,G=l;if(l=_n,U.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var fe=G,Se=U,Te=Se.tag;if((Se.mode&1)===0&&(Te===0||Te===11||Te===15)){var _e=Se.alternate;_e?(Se.updateQueue=_e.updateQueue,Se.memoizedState=_e.memoizedState,Se.lanes=_e.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Xe=Dh(A);if(Xe!==null){Xe.flags&=-257,U1(Xe,A,U,k,l),Xe.mode&1&&Ec(k,fe,l),l=Xe,G=fe;var Ge=l.updateQueue;if(Ge===null){var qe=new Set;qe.add(G),l.updateQueue=qe}else Ge.add(G);break e}else{if((l&1)===0){Ec(k,fe,l),dd();break e}G=Error(t(426))}}else if(Lr&&U.mode&1){var Kr=Dh(A);if(Kr!==null){(Kr.flags&65536)===0&&(Kr.flags|=256),U1(Kr,A,U,k,l),Sa(kl(G,U));break e}}k=G=kl(G,U),an!==4&&(an=2),Oc===null?Oc=[k]:Oc.push(k),k=A;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var ce=Sc(k,G,l);Sh(k,ce);break e;case 1:U=G;var te=k.type,de=k.stateNode;if((k.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(Vo===null||!Vo.has(de)))){k.flags|=65536,l&=-l,k.lanes|=l;var Le=Xu(k,U,l);Sh(k,Le);break e}}k=k.return}while(k!==null)}Zh(f)}catch(tt){l=tt,tn===f&&f!==null&&(tn=f=f.return);continue}break}while(!0)}function Xh(){var a=e0.current;return e0.current=$u,a===null?$u:a}function dd(){(an===0||an===3||an===2)&&(an=4),pn===null||(Bo&268435455)===0&&(Rc&268435455)===0||Ho(pn,_n)}function o0(a,l){var f=Jt;Jt|=2;var m=Xh();(pn!==a||_n!==l)&&(ao=null,Ml(a,l));do try{Rf();break}catch(b){jh(a,b)}while(!0);if(qa(),Jt=f,e0.current=m,tn!==null)throw Error(t(261));return pn=null,_n=0,an}function Rf(){for(;tn!==null;)Yh(tn)}function Of(){for(;tn!==null&&!rl();)Yh(tn)}function Yh(a){var l=Gh(a.alternate,a,Ci);a.memoizedProps=a.pendingProps,l===null?Zh(a):tn=l,nd.current=null}function Zh(a){var l=a;do{var f=l.alternate;if(a=l.return,(l.flags&32768)===0){if(f=Pf(f,l,Ci),f!==null){tn=f;return}}else{if(f=Af(f,l),f!==null){f.flags&=32767,tn=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{an=6,tn=null;return}}if(l=l.sibling,l!==null){tn=l;return}tn=l=a}while(l!==null);an===0&&(an=5)}function Tl(a,l,f){var m=Zt,b=Ri.transition;try{Ri.transition=null,Zt=1,Nf(a,l,f,m)}finally{Ri.transition=b,Zt=m}return null}function Nf(a,l,f,m){do Fs();while($o!==null);if((Jt&6)!==0)throw Error(t(327));f=a.finishedWork;var b=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var k=f.lanes|f.childLanes;if(Qs(a,k),a===pn&&(tn=pn=null,_n=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||n0||(n0=!0,qh(yo,function(){return Fs(),null})),k=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||k){k=Ri.transition,Ri.transition=null;var A=Zt;Zt=1;var U=Jt;Jt|=4,nd.current=null,Df(a,f),td(f,a),Mf(pl),ru=!!dc,pl=dc=null,a.current=f,Ju(f),Gc(),Jt=U,Zt=A,Ri.transition=k}else a.current=f;if(n0&&(n0=!1,$o=a,Yn=b),k=a.pendingLanes,k===0&&(Vo=null),Qc(f.stateNode),ai(a,mr()),l!==null)for(m=a.onRecoverableError,f=0;f<l.length;f++)b=l[f],m(b.value,{componentStack:b.stack,digest:b.digest});if(r0)throw r0=!1,a=ad,ad=null,a;return(Yn&1)!==0&&a.tag!==0&&Fs(),k=a.pendingLanes,(k&1)!==0?a===od?Nc++:(Nc=0,od=a):Nc=0,Ao(),null}function Fs(){if($o!==null){var a=ga(Yn),l=Ri.transition,f=Zt;try{if(Ri.transition=null,Zt=16>a?16:a,$o===null)var m=!1;else{if(a=$o,$o=null,Yn=0,(Jt&6)!==0)throw Error(t(331));var b=Jt;for(Jt|=4,Ze=a.current;Ze!==null;){var k=Ze,A=k.child;if((Ze.flags&16)!==0){var U=k.deletions;if(U!==null){for(var G=0;G<U.length;G++){var fe=U[G];for(Ze=fe;Ze!==null;){var Se=Ze;switch(Se.tag){case 0:case 11:case 15:io(8,Se,k)}var Te=Se.child;if(Te!==null)Te.return=Se,Ze=Te;else for(;Ze!==null;){Se=Ze;var _e=Se.sibling,Xe=Se.return;if(Bh(Se),Se===fe){Ze=null;break}if(_e!==null){_e.return=Xe,Ze=_e;break}Ze=Xe}}}var Ge=k.alternate;if(Ge!==null){var qe=Ge.child;if(qe!==null){Ge.child=null;do{var Kr=qe.sibling;qe.sibling=null,qe=Kr}while(qe!==null)}}Ze=k}}if((k.subtreeFlags&2064)!==0&&A!==null)A.return=k,Ze=A;else e:for(;Ze!==null;){if(k=Ze,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:io(9,k,k.return)}var ce=k.sibling;if(ce!==null){ce.return=k.return,Ze=ce;break e}Ze=k.return}}var te=a.current;for(Ze=te;Ze!==null;){A=Ze;var de=A.child;if((A.subtreeFlags&2064)!==0&&de!==null)de.return=A,Ze=de;else e:for(A=te;Ze!==null;){if(U=Ze,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Dc(9,U)}}catch(tt){Vr(U,U.return,tt)}if(U===A){Ze=null;break e}var Le=U.sibling;if(Le!==null){Le.return=U.return,Ze=Le;break e}Ze=U.return}}if(Jt=b,Ao(),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(nl,a)}catch{}m=!0}return m}finally{Zt=f,Ri.transition=l}}return!1}function l0(a,l,f){l=kl(f,l),l=Sc(a,l,1),a=Ai(a,l,1),l=Zn(),a!==null&&(Co(a,1,l),ai(a,l))}function Vr(a,l,f){if(a.tag===3)l0(a,a,f);else for(;l!==null;){if(l.tag===3){l0(l,a,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Vo===null||!Vo.has(m))){a=kl(f,a),a=Xu(l,a,1),l=Ai(l,a,1),a=Zn(),l!==null&&(Co(l,1,a),ai(l,a));break}}l=l.return}}function zf(a,l,f){var m=a.pingCache;m!==null&&m.delete(l),l=Zn(),a.pingedLanes|=a.suspendedLanes&f,pn===a&&(_n&f)===f&&(an===4||an===3&&(_n&130023424)===_n&&500>mr()-id?Ml(a,0):t0|=f),ai(a,l)}function Kh(a,l){l===0&&((a.mode&1)===0?l=1:(l=il,il<<=1,(il&130023424)===0&&(il=4194304)));var f=Zn();a=Qa(a,l),a!==null&&(Co(a,l,f),ai(a,f))}function Bf(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),Kh(a,f)}function Vf(a,l){var f=0;switch(a.tag){case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(f=b.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(l),Kh(a,f)}var Gh;Gh=function(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps||ei.current)jn=!0;else{if((a.lanes&f)===0&&(l.flags&128)===0)return jn=!1,Oh(a,l,f);jn=(a.flags&131072)!==0}else jn=!1,Lr&&(l.flags&1048576)!==0&&Ch(l,Mu,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Ku(a,l),a=l.pendingProps;var b=ys(l,Dn.current);Fo(l,f),b=bl(null,l,m,a,b,f);var k=Ou();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ti(m)?(k=!0,Mi(l)):k=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Au(l),b.updater=Uu,l.stateNode=b,b._reactInternals=l,H1(l,m,a,f),l=G1(null,l,m,!0,k,f)):(l.tag=0,Lr&&k&&fc(l),Cn(null,l,b,f),l=l.child),l;case 16:m=l.elementType;e:{switch(Ku(a,l),a=l.pendingProps,b=m._init,m=b(m._payload),l.type=m,b=l.tag=Wf(m),a=Fi(m,a),b){case 0:l=Z1(null,l,m,a,f);break e;case 1:l=K1(null,l,m,a,f);break e;case 11:l=Fh(null,l,m,a,f);break e;case 14:l=j1(null,l,m,Fi(m.type,a),f);break e}throw Error(t(306,m,""))}return l;case 0:return m=l.type,b=l.pendingProps,b=l.elementType===m?b:Fi(m,b),Z1(a,l,m,b,f);case 1:return m=l.type,b=l.pendingProps,b=l.elementType===m?b:Fi(m,b),K1(a,l,m,b,f);case 3:e:{if(Rh(l),a===null)throw Error(t(387));m=l.pendingProps,k=l.memoizedState,b=k.element,kh(a,l),ws(l,m,null,f);var A=l.memoizedState;if(m=A.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){b=kl(Error(t(423)),l),l=La(a,l,m,f,b);break e}else if(m!==b){b=kl(Error(t(424)),l),l=La(a,l,m,f,b);break e}else for(mi=Io(l.stateNode.containerInfo.firstChild),Rn=l,Lr=!0,Qi=null,f=Iu(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ka(),m===b){l=ea(a,l,f);break e}Cn(a,l,m,f)}l=l.child}return l;case 5:return L1(l),a===null&&ri(l),m=l.type,b=l.pendingProps,k=a!==null?a.memoizedProps:null,A=b.children,hc(m,b)?A=null:k!==null&&hc(m,k)&&(l.flags|=32),Y1(a,l),Cn(a,l,A,f),l.child;case 6:return a===null&&ri(l),null;case 13:return Zu(a,l,f);case 4:return I1(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Hr(l,null,m,f):Cn(a,l,m,f),l.child;case 11:return m=l.type,b=l.pendingProps,b=l.elementType===m?b:Fi(m,b),Fh(a,l,m,b,f);case 7:return Cn(a,l,l.pendingProps,f),l.child;case 8:return Cn(a,l,l.pendingProps.children,f),l.child;case 12:return Cn(a,l,l.pendingProps.children,f),l.child;case 10:e:{if(m=l.type._context,b=l.pendingProps,k=l.memoizedProps,A=b.value,kr(mc,m._currentValue),m._currentValue=A,k!==null)if(pe(k.value,A)){if(k.children===b.children&&!ei.current){l=ea(a,l,f);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var U=k.dependencies;if(U!==null){A=k.child;for(var G=U.firstContext;G!==null;){if(G.context===m){if(k.tag===1){G=Ja(-1,f&-f),G.tag=2;var fe=k.updateQueue;if(fe!==null){fe=fe.shared;var Se=fe.pending;Se===null?G.next=G:(G.next=Se.next,Se.next=G),fe.pending=G}}k.lanes|=f,G=k.alternate,G!==null&&(G.lanes|=f),xn(k.return,f,l),U.lanes|=f;break}G=G.next}}else if(k.tag===10)A=k.type===l.type?null:k.child;else if(k.tag===18){if(A=k.return,A===null)throw Error(t(341));A.lanes|=f,U=A.alternate,U!==null&&(U.lanes|=f),xn(A,f,l),A=k.sibling}else A=k.child;if(A!==null)A.return=k;else for(A=k;A!==null;){if(A===l){A=null;break}if(k=A.sibling,k!==null){k.return=A.return,A=k;break}A=A.return}k=A}Cn(a,l,b.children,f),l=l.child}return l;case 9:return b=l.type,m=l.pendingProps.children,Fo(l,f),b=Li(b),m=m(b),l.flags|=1,Cn(a,l,m,f),l.child;case 14:return m=l.type,b=Fi(m,l.pendingProps),b=Fi(m.type,b),j1(a,l,m,b,f);case 15:return Ia(a,l,l.type,l.pendingProps,f);case 17:return m=l.type,b=l.pendingProps,b=l.elementType===m?b:Fi(m,b),Ku(a,l),l.tag=1,ti(m)?(a=!0,Mi(l)):a=!1,Fo(l,f),_l(l,m,b),H1(l,m,b,f),G1(null,l,m,!0,a,f);case 19:return No(a,l,f);case 22:return X1(a,l,f)}throw Error(t(156,l.tag))};function qh(a,l){return Us(a,l)}function $f(a,l,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(a,l,f,m){return new $f(a,l,f,m)}function s0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Wf(a){if(typeof a=="function")return s0(a)?1:0;if(a!=null){if(a=a.$$typeof,a===he)return 11;if(a===K)return 14}return 2}function aa(a,l){var f=a.alternate;return f===null?(f=Oi(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function c0(a,l,f,m,b,k){var A=2;if(m=a,typeof a=="function")s0(a)&&(A=1);else if(typeof a=="string")A=5;else e:switch(a){case F:return Il(f.children,b,k,l);case V:A=8,b|=8;break;case W:return a=Oi(12,f,l,b|2),a.elementType=W,a.lanes=k,a;case H:return a=Oi(13,f,l,b),a.elementType=H,a.lanes=k,a;case Y:return a=Oi(19,f,l,b),a.elementType=Y,a.lanes=k,a;case re:return u0(f,b,k,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Z:A=10;break e;case J:A=9;break e;case he:A=11;break e;case K:A=14;break e;case ne:A=16,m=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=Oi(A,f,l,b),l.elementType=a,l.type=m,l.lanes=k,l}function Il(a,l,f,m){return a=Oi(7,a,m,l),a.lanes=f,a}function u0(a,l,f,m){return a=Oi(22,a,m,l),a.elementType=re,a.lanes=f,a.stateNode={isHidden:!1},a}function hd(a,l,f){return a=Oi(6,a,null,l),a.lanes=f,a}function pd(a,l,f){return l=Oi(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function Hf(a,l,f,m,b){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function fd(a,l,f,m,b,k,A,U,G){return a=new Hf(a,l,f,U,G),l===1?(l=1,k===!0&&(l|=8)):l=0,k=Oi(3,null,null,l),a.current=k,k.stateNode=a,k.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(k),a}function Uf(a,l,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:m==null?null:""+m,children:a,containerInfo:l,implementation:f}}function Qh(a){if(!a)return Po;a=a._reactInternals;e:{if(ki(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ti(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var f=a.type;if(ti(f))return mh(a,f,l)}return l}function Jh(a,l,f,m,b,k,A,U,G){return a=fd(f,m,!0,a,b,k,A,U,G),a.context=Qh(null),f=a.current,m=Zn(),b=Wo(f),k=Ja(m,b),k.callback=l??null,Ai(f,k,b),a.current.lanes=b,Co(a,b,m),ai(a,m),a}function d0(a,l,f,m){var b=l.current,k=Zn(),A=Wo(b);return f=Qh(f),l.context===null?l.context=f:l.pendingContext=f,l=Ja(k,A),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Ai(b,l,A),a!==null&&(ia(a,b,A,k),Du(a,b,A)),A}function h0(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function ep(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function gd(a,l){ep(a,l),(a=a.alternate)&&ep(a,l)}function jf(){return null}var tp=typeof reportError=="function"?reportError:function(a){console.error(a)};function p0(a){this._internalRoot=a}Bc.prototype.render=p0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));d0(a,l,null,null)},Bc.prototype.unmount=p0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;El(function(){d0(null,a,null,null)}),l[vi]=null}};function Bc(a){this._internalRoot=a}Bc.prototype.unstable_scheduleHydration=function(a){if(a){var l=es();a={blockedOn:null,target:a,priority:l};for(var f=0;f<Gi.length&&l!==0&&l<Gi[f].priority;f++);Gi.splice(f,0,a),f===0&&tc(a)}};function vd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function f0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function rp(){}function Xf(a,l,f,m,b){if(b){if(typeof m=="function"){var k=m;m=function(){var fe=h0(A);k.call(fe)}}var A=Jh(l,m,a,0,null,!1,!1,"",rp);return a._reactRootContainer=A,a[vi]=A.current,Mo(a.nodeType===8?a.parentNode:a),El(),A}for(;b=a.lastChild;)a.removeChild(b);if(typeof m=="function"){var U=m;m=function(){var fe=h0(G);U.call(fe)}}var G=fd(a,0,!1,null,null,!1,!1,"",rp);return a._reactRootContainer=G,a[vi]=G.current,Mo(a.nodeType===8?a.parentNode:a),El(function(){d0(l,G,f,m)}),G}function Ll(a,l,f,m,b){var k=f._reactRootContainer;if(k){var A=k;if(typeof b=="function"){var U=b;b=function(){var G=h0(A);U.call(G)}}d0(l,A,a,b)}else A=Xf(f,l,a,b,m);return h0(A)}Jl=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var f=Ha(l.pendingLanes);f!==0&&(wo(l,f|1),ai(l,mr()),(Jt&6)===0&&(Sl=mr()+500,Ao()))}break;case 13:El(function(){var m=Qa(a,1);if(m!==null){var b=Zn();ia(m,a,1,b)}}),gd(a,1)}},ol=function(a){if(a.tag===13){var l=Qa(a,134217728);if(l!==null){var f=Zn();ia(l,a,134217728,f)}gd(a,134217728)}},Js=function(a){if(a.tag===13){var l=Wo(a),f=Qa(a,l);if(f!==null){var m=Zn();ia(f,a,l,m)}gd(a,l)}},es=function(){return Zt},ts=function(a,l){var f=Zt;try{return Zt=a,l()}finally{Zt=f}},pr=function(a,l,f){switch(l){case"input":if(Ue(a,f),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==a&&m.form===a.form){var b=_u(m);if(!b)throw Error(t(90));He(m),Ue(m,b)}}}break;case"textarea":Xr(a,f);break;case"select":l=f.value,l!=null&&xt(a,!!f.multiple,l,!1)}},Tn=cd,At=El;var Yf={usingClientEntryPoint:!1,Events:[An,It,_u,ur,Fr,cd]},Vc={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zf={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=el(a),a===null?null:a.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||jf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g0.isDisabled&&g0.supportsFiber)try{nl=g0.inject(Zf),pi=g0}catch{}}return Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yf,Vi.createPortal=function(a,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vd(l))throw Error(t(200));return Uf(a,l,null,f)},Vi.createRoot=function(a,l){if(!vd(a))throw Error(t(299));var f=!1,m="",b=tp;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=fd(a,1,!1,null,null,f,!1,m,b),a[vi]=l.current,Mo(a.nodeType===8?a.parentNode:a),new p0(l)},Vi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=el(l),a=a===null?null:a.stateNode,a},Vi.flushSync=function(a){return El(a)},Vi.hydrate=function(a,l,f){if(!f0(l))throw Error(t(200));return Ll(null,a,l,!0,f)},Vi.hydrateRoot=function(a,l,f){if(!vd(a))throw Error(t(405));var m=f!=null&&f.hydratedSources||null,b=!1,k="",A=tp;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(A=f.onRecoverableError)),l=Jh(l,null,a,1,f??null,b,!1,k,A),a[vi]=l.current,Mo(a),m)for(a=0;a<m.length;a++)f=m[a],b=f._getVersion,b=b(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,b]:l.mutableSourceEagerHydrationData.push(f,b);return new Bc(l)},Vi.render=function(a,l,f){if(!f0(l))throw Error(t(200));return Ll(null,a,l,!1,f)},Vi.unmountComponentAtNode=function(a){if(!f0(a))throw Error(t(40));return a._reactRootContainer?(El(function(){Ll(null,null,a,!1,function(){a._reactRootContainer=null,a[vi]=null})}),!0):!1},Vi.unstable_batchedUpdates=cd,Vi.unstable_renderSubtreeIntoContainer=function(a,l,f,m){if(!f0(f))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Ll(a,l,f,!1,m)},Vi.version="18.3.1-next-f1338f8080-20240426",Vi}var w2;function q6(){if(w2)return cg.exports;w2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),cg.exports=G6(),cg.exports}var b2;function Q6(){if(b2)return op;b2=1;var e=q6();return op.createRoot=e.createRoot,op.hydrateRoot=e.hydrateRoot,op}var J6=Q6(),e8=Object.defineProperty,t8=(e,r,t)=>r in e?e8(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Re=(e,r,t)=>(t8(e,typeof r!="symbol"?r+"":r,t),t);/**
     * @license
     * KLineChart v10.0.0-alpha4
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */var Bg=function(e,r){return Bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Bg(e,r)};function Vt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Bg(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Qe=function(){return Qe=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Qe.apply(this,arguments)};function Lp(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function Y5(e,r,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function u(g){try{h(n.next(g))}catch(v){s(v)}}function d(g){try{h(n.throw(g))}catch(v){s(v)}}function h(g){g.done?o(g.value):i(g.value).then(u,d)}h((n=n.apply(e,[])).next())})}function Z5(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(t=0)),t;)try{if(n=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=r.call(e,t)}catch(g){h=[6,g],i=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ui(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yl(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o}function Wd(e,r,t){if(arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}var Mt;(function(e){e.Dashed="dashed",e.Solid="solid"})(Mt||(Mt={}));var rr;(function(e){e.Stroke="stroke",e.Fill="fill",e.StrokeFill="stroke_fill"})(rr||(rr={}));var B0;(function(e){e.Always="always",e.FollowCross="follow_cross",e.None="none"})(B0||(B0={}));var Yo;(function(e){e.Standard="standard",e.Rect="rect"})(Yo||(Yo={}));var $l;(function(e){e.Left="left",e.Middle="middle",e.Right="right"})($l||($l={}));var Pp;(function(e){e.Fixed="fixed",e.Pointer="pointer"})(Pp||(Pp={}));var xr;(function(e){e.HeikinAshi="heikin_ashi",e.CandleSolid="candle_solid",e.CandleStroke="candle_stroke",e.CandleUpStroke="candle_up_stroke",e.CandleDownStroke="candle_down_stroke",e.Ohlc="ohlc",e.Area="area"})(xr||(xr={}));var lp="#F92855",hg="rgba(249, 40, 85, .7)",sp="#2DC08E",pg="rgba(45, 192, 142, .7)",jc="#888888",Qp="#FFFFFF",ca="#1677FF",Xc="#76808F",Vg="#DDDDDD";function D0(e){return"rgba(22, 119, 255, ".concat(e,")")}function r8(){function e(){return{show:!0,size:1,color:"#EDEDED",style:Mt.Dashed,dashedValue:[2,2]}}return{show:!0,horizontal:e(),vertical:e()}}function n8(){var e={show:!0,color:Xc,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"};return{type:xr.CandleSolid,bar:{upColor:sp,downColor:lp,noChangeColor:jc,upBorderColor:sp,downBorderColor:lp,noChangeBorderColor:jc,upWickColor:sp,downWickColor:lp,noChangeWickColor:jc},area:{lineSize:2,lineColor:ca,smooth:!1,value:"close",backgroundColor:[{offset:0,color:D0(.01)},{offset:1,color:D0(.2)}],point:{show:!0,color:ca,radius:4,rippleColor:D0(.3),rippleRadius:8,animation:!0,animationDuration:1e3}},priceMark:{show:!0,high:Qe({},e),low:Qe({},e),last:{show:!0,upColor:sp,downColor:lp,noChangeColor:jc,line:{show:!0,style:Mt.Dashed,dashedValue:[4,4],size:1},text:{show:!0,style:rr.Fill,size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:Mt.Solid,borderSize:0,borderDashedValue:[2,2],color:Qp,family:"Helvetica Neue",weight:"normal",borderRadius:2}}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:B0.Always,showType:Yo.Standard,custom:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}],defaultValue:"n/a",rect:{position:Pp.Fixed,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,offsetLeft:4,offsetTop:4,offsetRight:4,offsetBottom:4,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},text:{size:12,family:"Helvetica Neue",weight:"normal",color:Xc,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},icons:[]},renko:{brick:{size:10}}}}function i8(){var e=["#FF9600","#935EBD",ca,"#E11D74","#01C5C4"].map(function(r){return{style:Mt.Solid,smooth:!1,size:1,dashedValue:[2,2],color:r}});return{ohlc:{upColor:pg,downColor:hg,noChangeColor:jc},bars:[{style:rr.Fill,borderStyle:Mt.Solid,borderSize:1,borderDashedValue:[2,2],upColor:pg,downColor:hg,noChangeColor:jc}],lines:e,circles:[{style:rr.Fill,borderStyle:Mt.Solid,borderSize:1,borderDashedValue:[2,2],upColor:pg,downColor:hg,noChangeColor:jc}],lastValueMark:{show:!1,text:{show:!1,style:rr.Fill,color:Qp,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:Mt.Solid,borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:B0.Always,showType:Yo.Standard,showName:!0,showParams:!0,defaultValue:"n/a",text:{size:12,family:"Helvetica Neue",weight:"normal",color:Xc,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},icons:[]}}}function _2(){return{show:!0,size:"auto",axisLine:{show:!0,color:Vg,size:1},tickText:{show:!0,color:Xc,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:6},tickLine:{show:!0,size:1,length:3,color:Vg}}}function a8(){function e(){return{show:!0,line:{show:!0,style:Mt.Dashed,dashedValue:[4,2],size:1,color:Xc},text:{show:!0,style:rr.Fill,color:Qp,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:Mt.Solid,borderDashedValue:[2,2],borderSize:1,borderColor:Xc,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:Xc}}}return{show:!0,horizontal:e(),vertical:e()}}function o8(){var e=D0(.35),r=D0(.25);function t(){return{style:rr.Fill,color:Qp,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:Mt.Solid,borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:ca,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ca}}return{point:{color:ca,borderColor:e,borderSize:1,radius:5,activeColor:ca,activeBorderColor:e,activeBorderSize:3,activeRadius:5},line:{style:Mt.Solid,smooth:!1,color:ca,size:1,dashedValue:[2,2]},rect:{style:rr.Fill,color:r,borderColor:ca,borderSize:1,borderRadius:0,borderStyle:Mt.Solid,borderDashedValue:[2,2]},polygon:{style:rr.Fill,color:ca,borderColor:ca,borderSize:1,borderStyle:Mt.Solid,borderDashedValue:[2,2]},circle:{style:rr.Fill,color:r,borderColor:ca,borderSize:1,borderStyle:Mt.Solid,borderDashedValue:[2,2]},arc:{style:Mt.Solid,color:ca,size:1,dashedValue:[2,2]},text:t()}}function l8(){return{size:1,color:Vg,fill:!0,activeBackgroundColor:D0(.08)}}function K5(){return{grid:r8(),candle:n8(),indicator:i8(),xAxis:_2(),yAxis:_2(),separator:l8(),crosshair:a8(),overlay:o8()}}function sn(e,r){if(!(!uo(e)&&!uo(r))){for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=e[t],i=r[t];uo(i)&&uo(n)?sn(n,i):ve(r[t])&&(e[t]=V0(r[t]))}}}function V0(e){if(!uo(e))return e;var r=null;Zo(e)?r=[]:r={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];uo(n)?r[t]=V0(n):r[t]=n}return r}function Zo(e){return Object.prototype.toString.call(e)==="[object Array]"}function di(e){return typeof e=="function"}function uo(e){return typeof e=="object"&&ve(e)}function at(e){return typeof e=="number"&&Number.isFinite(e)}function ve(e){return e!=null}function Hd(e){return typeof e=="boolean"}function Pr(e){return typeof e=="string"}var s8=/\\(\\)?/g,c8=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function Vn(e,r,t){if(ve(e)){var n=[];r.replace(c8,function(u){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var g=u;return ve(d[1])?g=d[2].replace(s8,"$1"):ve(d[0])&&(g=d[0].trim()),n.push(g),""});for(var i=e,o=0,s=n.length;ve(i)&&o<s;)i=i==null?void 0:i[n[o++]];return ve(i)?i:t??"--"}return t??"--"}function G5(e,r){var t={};return e.formatToParts(new Date(r)).forEach(function(n){var i=n.type,o=n.value;switch(i){case"year":{t.YYYY=o;break}case"month":{t.MM=o;break}case"day":{t.DD=o;break}case"hour":{t.HH=o==="24"?"00":o;break}case"minute":{t.mm=o;break}case"second":{t.ss=o;break}}}),t}function q5(e,r,t){var n=G5(e,r);return t.replace(/YYYY|MM|DD|HH|mm|ss/g,function(i){return n[i]})}function oi(e,r){var t=+e;return at(t)?t.toFixed(r??2):"".concat(e)}function Q5(e){var r=+e;if(at(r)){if(r>1e9)return"".concat(+(r/1e9).toFixed(3),"B");if(r>1e6)return"".concat(+(r/1e6).toFixed(3),"M");if(r>1e3)return"".concat(+(r/1e3).toFixed(3),"K")}return"".concat(e)}function J5(e,r){var t="".concat(e);if(r.length===0)return t;if(t.includes(".")){var n=t.split(".");return"".concat(n[0].replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(r)}),".").concat(n[1])}return t.replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(r)})}function em(e,r){var t="".concat(e),n=new RegExp("\\.0{"+r+",}[1-9][0-9]*$");if(n.test(t)){var i=t.split("."),o=i.length-1,s=i[o],u=/0*/.exec(s);if(ve(u)){var d=u[0].length;return i[o]=s.replace(/0*/,"0{".concat(d,"}")),i.join(".")}}return t}var xd=null;function Ns(e){var r,t;return(t=(r=e.ownerDocument.defaultView)===null||r===void 0?void 0:r.devicePixelRatio)!==null&&t!==void 0?t:1}function Zc(e,r,t){return"".concat(r??"normal"," ").concat(e??12,"px ").concat(t??"Helvetica Neue")}function Fd(e,r,t,n){if(!ve(xd)){var i=document.createElement("canvas"),o=Ns(i);xd=i.getContext("2d"),xd.scale(o,o)}return xd.font=Zc(r,t,n),Math.round(xd.measureText(e).width)}var ci;(function(e){e.OnZoom="onZoom",e.OnScroll="onScroll",e.OnVisibleRangeChange="onVisibleRangeChange",e.OnTooltipIconClick="onTooltipIconClick",e.OnCrosshairChange="onCrosshairChange",e.OnCandleBarClick="onCandleBarClick",e.OnPaneDrag="onPaneDrag"})(ci||(ci={}));var u8=function(){function e(){this._callbacks=[]}return e.prototype.subscribe=function(r){var t=this._callbacks.indexOf(r);t<0&&this._callbacks.push(r)},e.prototype.unsubscribe=function(r){if(di(r)){var t=this._callbacks.indexOf(r);t>-1&&this._callbacks.splice(t,1)}else this._callbacks=[]},e.prototype.execute=function(r){this._callbacks.forEach(function(t){t(r)})},e.prototype.isEmpty=function(){return this._callbacks.length===0},e}(),ft;(function(e){e.Normal="normal",e.Price="price",e.Volume="volume"})(ft||(ft={}));var Id;(function(e){e.Loading="loading",e.Error="error",e.Ready="ready"})(Id||(Id={}));function lv(e,r,t,n){var i=e.result,o=e.figures,s=e.styles,u=Vn(s,"circles",t.circles),d=u.length,h=Vn(s,"bars",t.bars),g=h.length,v=Vn(s,"lines",t.lines),y=v.length,C=0,w=0,_=0,E,T=0;o.forEach(function(M){var I;switch(M.type){case"circle":{T=C;var D=u[C%d];E=Qe(Qe({},D),{color:D.noChangeColor}),C++;break}case"bar":{T=w;var O=h[w%g];E=Qe(Qe({},O),{color:O.noChangeColor}),w++;break}case"line":{T=_,E=v[_%y],_++;break}}if(ve(M.type)){var N=(I=M.styles)===null||I===void 0?void 0:I.call(M,{data:{prev:i[r-1],current:i[r],next:i[r+1]},indicator:e,defaultStyles:t});n(M,Qe(Qe({},E),N),T)}})}var tm=function(){function e(r){this.precision=4,this.calcParams=[],this.shouldOhlc=!1,this.shouldFormatBigNumber=!1,this.visible=!0,this.zLevel=0,this.series=ft.Normal,this.figures=[],this.minValue=null,this.maxValue=null,this.styles=null,this.shouldUpdate=function(t,n){var i=JSON.stringify(t.calcParams)!==JSON.stringify(n.calcParams)||t.figures!==n.figures||t.calc!==n.calc,o=i||t.shortName!==n.shortName||t.series!==n.series||t.minValue!==n.minValue||t.maxValue!==n.maxValue||t.precision!==n.precision||t.shouldOhlc!==n.shouldOhlc||t.shouldFormatBigNumber!==n.shouldFormatBigNumber||t.visible!==n.visible||t.zLevel!==n.zLevel||t.extendData!==n.extendData||t.regenerateFigures!==n.regenerateFigures||t.createTooltipDataSource!==n.createTooltipDataSource||t.draw!==n.draw;return{calc:i,draw:o}},this.calc=function(){return[]},this.regenerateFigures=null,this.createTooltipDataSource=null,this.draw=null,this.onDataStateChange=null,this.result=[],this._lockSeriesPrecision=!1,this.override(r),this._lockSeriesPrecision=!1}return e.prototype.override=function(r){var t,n,i=this,o=i.result,s=Lp(i,["result"]);this._prevIndicator=Qe(Qe({},V0(s)),{result:o});var u=r.name,d=r.shortName,h=r.precision,g=r.styles,v=r.figures,y=r.calcParams,C=Lp(r,["name","shortName","precision","styles","figures","calcParams"]);Pr(this.name)||(this.name=u??""),this.shortName=(t=d??this.shortName)!==null&&t!==void 0?t:this.name,at(h)&&(this.precision=h,this._lockSeriesPrecision=!0),ve(g)&&((n=this.styles)!==null&&n!==void 0||(this.styles={}),sn(this.styles,g)),sn(this,C),ve(y)&&(this.calcParams=y,di(this.regenerateFigures)&&(this.figures=this.regenerateFigures(this.calcParams))),this.figures=v??this.figures},e.prototype.setSeriesPrecision=function(r){this._lockSeriesPrecision||(this.precision=r)},e.prototype.shouldUpdateImp=function(){var r=this._prevIndicator.zLevel!==this.zLevel,t=this.shouldUpdate(this._prevIndicator,this);return Hd(t)?{calc:t,draw:t,sort:r}:Qe(Qe({},t),{sort:r})},e.prototype.calcImp=function(r){return Y5(this,void 0,void 0,function(){var t;return Z5(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.calc(r,this)];case 1:return t=n.sent(),this.result=t,[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}})})},e.extend=function(r){var t=function(n){Vt(i,n);function i(){return n.call(this,r)||this}return i}(e);return t},e}(),F0;(function(e){e.Normal="normal",e.WeakMagnet="weak_magnet",e.StrongMagnet="strong_magnet"})(F0||(F0={}));function d8(){return["mouseClickEvent","mouseDoubleClickEvent","mouseRightClickEvent","tapEvent","doubleTapEvent","mouseDownEvent","touchStartEvent","mouseMoveEvent","touchMoveEvent"]}var k2=1,Cd=-1,h8="overlay_",y0="overlay_figure_",rm=function(){function e(r){this.groupId="",this.totalStep=1,this.currentStep=k2,this.lock=!1,this.visible=!0,this.zLevel=0,this.needDefaultPointFigure=!1,this.needDefaultXAxisFigure=!1,this.needDefaultYAxisFigure=!1,this.mode=F0.Normal,this.modeSensitivity=8,this.points=[],this.extendData=null,this.styles=null,this.createPointFigures=null,this.createXAxisFigures=null,this.createYAxisFigures=null,this.performEventPressedMove=null,this.performEventMoveForDrawing=null,this.onDrawStart=null,this.onDrawing=null,this.onDrawEnd=null,this.onClick=null,this.onDoubleClick=null,this.onRightClick=null,this.onPressedMoveStart=null,this.onPressedMoving=null,this.onPressedMoveEnd=null,this.onMouseEnter=null,this.onMouseLeave=null,this.onRemoved=null,this.onSelected=null,this.onDeselected=null,this._prevPressedPoint=null,this._prevPressedPoints=[],this.override(r)}return e.prototype.override=function(r){var t,n;this._prevOverlay=V0(this);var i=r.id,o=r.name;r.currentStep;var s=r.points,u=r.styles,d=Lp(r,["id","name","currentStep","points","styles"]);if(sn(this,d),Pr(this.name)||(this.name=o??""),!Pr(this.id)&&Pr(i)&&(this.id=i),ve(u)&&((t=this.styles)!==null&&t!==void 0||(this.styles={}),sn(this.styles,u)),Zo(s)&&s.length>0){var h=0;if(this.points=Wd([],Yl(s),!1),s.length>=this.totalStep-1?(this.currentStep=Cd,h=this.totalStep-1):(this.currentStep=s.length+1,h=s.length),di(this.performEventMoveForDrawing))for(var g=0;g<h;g++)this.performEventMoveForDrawing({currentStep:g+2,mode:this.mode,points:this.points,performPointIndex:g,performPoint:this.points[g]});this.currentStep===Cd&&((n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}))}},e.prototype.shouldUpdate=function(){var r=this._prevOverlay.zLevel!==this.zLevel,t=r||JSON.stringify(this._prevOverlay)!==JSON.stringify(this.points)||this._prevOverlay.visible!==this.visible||this._prevOverlay.extendData!==this.extendData||this._prevOverlay.styles!==this.styles;return{sort:r,draw:t}},e.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=Cd:this.currentStep++},e.prototype.forceComplete=function(){this.currentStep=Cd},e.prototype.isDrawing=function(){return this.currentStep!==Cd},e.prototype.isStart=function(){return this.currentStep===k2},e.prototype.eventMoveForDrawing=function(r){var t,n=this.currentStep-1,i={};at(r.timestamp)&&(i.timestamp=r.timestamp),at(r.dataIndex)&&(i.dataIndex=r.dataIndex),at(r.value)&&(i.value=r.value),this.points[n]=i,(t=this.performEventMoveForDrawing)===null||t===void 0||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:n,performPoint:i})},e.prototype.eventPressedPointMove=function(r,t){var n;this.points[t].timestamp=r.timestamp,at(r.value)&&(this.points[t].value=r.value),(n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},e.prototype.startPressedMove=function(r){this._prevPressedPoint=Qe({},r),this._prevPressedPoints=V0(this.points)},e.prototype.eventPressedOtherMove=function(r,t){if(this._prevPressedPoint!==null){var n=null;at(r.dataIndex)&&at(this._prevPressedPoint.dataIndex)&&(n=r.dataIndex-this._prevPressedPoint.dataIndex);var i=null;at(r.value)&&at(this._prevPressedPoint.value)&&(i=r.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(o){var s;at(o.timestamp)&&(o.dataIndex=t.timestampToDataIndex(o.timestamp));var u=Qe({},o);return at(n)&&at(o.dataIndex)&&(u.dataIndex=o.dataIndex+n,u.timestamp=(s=t.dataIndexToTimestamp(u.dataIndex))!==null&&s!==void 0?s:void 0),at(i)&&at(o.value)&&(u.value=o.value+i),u})}},e.extend=function(r){var t=function(n){Vt(i,n);function i(){return n.call(this,r)||this}return i}(e);return t},e}(),_i;(function(e){e[e.Tooltip=0]="Tooltip",e[e.Crosshair=1]="Crosshair",e[e.XAxis=2]="XAxis"})(_i||(_i={}));function Ap(e){var r={width:0,height:0,left:0,right:0,top:0,bottom:0};return ve(e)&&sn(r,e),r}var R0=-1;function Dp(e){return di(window.requestAnimationFrame)?window.requestAnimationFrame(e):window.setTimeout(e,20)}function S2(e){di(window.cancelAnimationFrame)?window.cancelAnimationFrame(e):window.clearTimeout(e)}function E2(e){if(di(window.requestIdleCallback))return window.requestIdleCallback(e);var r=performance.now();return window.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-r))}})},1)}function p8(e){di(window.cancelIdleCallback)?window.cancelIdleCallback(e):window.clearTimeout(e)}var $g=function(){function e(r){this._options={duration:500,iterationCount:1},this._currentIterationCount=0,this._running=!1,this._time=0,sn(this._options,r)}return e.prototype._loop=function(){var r=this;this._running=!0;var t=function(){var n;if(r._running){var i=new Date().getTime()-r._time;i<r._options.duration?((n=r._doFrameCallback)===null||n===void 0||n.call(r,i),Dp(t)):(r.stop(),r._currentIterationCount++,r._currentIterationCount<r._options.iterationCount&&r.start())}};Dp(t)},e.prototype.doFrame=function(r){return this._doFrameCallback=r,this},e.prototype.setDuration=function(r){return this._options.duration=r,this},e.prototype.setIterationCount=function(r){return this._options.iterationCount=r,this},e.prototype.start=function(){this._running||(this._time=new Date().getTime(),this._loop())},e.prototype.stop=function(){var r;this._running&&((r=this._doFrameCallback)===null||r===void 0||r.call(this,this._options.duration)),this._running=!1},e}(),fg=1,M2=new Date().getTime();function nm(e){var r=new Date().getTime();return r===M2?++fg:fg=1,M2=r,"".concat(e??"").concat(r,"_").concat(fg)}function Zl(e,r){var t,n=document.createElement(e),i=r??{};for(var o in i)n.style[o]=(t=i[o])!==null&&t!==void 0?t:"";return n}function Wg(e,r,t){var n=0,i=0;for(i=e.length-1;n!==i;){var o=Math.floor((i+n)/2),s=i-n,u=e[o][r];if(t===e[n][r])return n;if(t===e[i][r])return i;if(t===u)return o;if(t>u?n=o:i=o,s<=2)break}return n}function f8(e){var r=Math.floor(Rl(e)),t=Uc(r),n=e/t,i=0;return n<1.5?i=1:n<2.5?i=2:n<3.5?i=3:n<4.5?i=4:n<5.5?i=5:n<6.5?i=6:i=8,e=i*t,+e.toFixed(Math.abs(r))}function T2(e,r){r=Math.max(0,r??0);var t=Math.pow(10,r);return Math.round(e*t)/t}function g8(e){var r=e.toString(),t=r.indexOf("e");if(t>0){var n=+r.slice(t+1);return n<0?-n:0}var i=r.indexOf(".");return i<0?0:r.length-1-i}function im(e,r,t){for(var n,i,o=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],s=e.length,u=0;u<s;){var d=e[u];o[0]=Math.max((n=d[r])!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER,o[0]),o[1]=Math.min((i=d[t])!==null&&i!==void 0?i:Number.MAX_SAFE_INTEGER,o[1]),++u}return o}function Rl(e){return e===0?0:Math.log10(e)}function Uc(e){return Math.pow(10,e)}var ua;(function(e){e.Init="init",e.Forward="forward",e.Backward="backward",e.Update="update"})(ua||(ua={}));function I2(){return{from:0,to:0,realFrom:0,realTo:0}}function L2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.join("_")}var v8=function(){function e(r){this._requestIdleCallbackId=R0,this._tasks=r??[],this._operateTasks()}return e.prototype._operateTasks=function(r){var t=this;this._requestIdleCallbackId!==R0&&(p8(this._requestIdleCallbackId),this._requestIdleCallbackId=R0),r==null||r(),this._requestIdleCallbackId=E2(function(n){t._runTasks(n)})},e.prototype._runTasks=function(r){for(var t=this;r.timeRemaining()>0&&this._tasks.length>0;){var n=this._tasks.shift();n==null||n.handler()}this._tasks.length>0&&(this._requestIdleCallbackId=E2(function(i){t._runTasks(i)}))},e.prototype.addTask=function(r){var t=this;return this._operateTasks(function(){var n=t._tasks.findIndex(function(i){return i.id===r.id});n>-1?t._tasks[n]=r:t._tasks.push(r)}),this},e.prototype.removeTask=function(r){var t=this;return this._operateTasks(function(){var n=t._tasks.findIndex(function(i){return i.id===r});n>-1&&t._tasks.splice(n,1)}),this},e}(),da={Year:365*24*3600,Month:30*24*3600,Day:24*3600,Hour:3600,Minute:60,Second:1};function am(e,r,t,n,i,o){var s;n===void 0&&(n=0);for(var u=null,d=o??null,h=0;h<r.length;h++){var g=r[h].timestamp,v=da.Second,y=G5(t,g);ve(u)&&(y.YYYY!==u.YYYY?v=da.Year:y.MM!==u.MM?v=da.Month:y.DD!==u.DD?v=da.Day:y.HH!==u.HH?v=da.Hour:y.mm!==u.mm?v=da.Minute:v=da.Second),at(d)&&at(i==null?void 0:i.value)&&(i.value=Math.min(i.value,g-d));var C=(s=e.get(v))!==null&&s!==void 0?s:[];C.push({dataIndex:h+n,weight:v,timestamp:g}),e.set(v,C),u=y,d=g}}function om(e,r){var t=Math.max(Fd("0000-00-00 00:00:00",r.size,r.weight,r.family),146);return Math.ceil(t/e)}function Hg(e,r,t){var n=om(r,t),i=[];return Array.from(e.keys()).sort(function(o,s){return s-o}).forEach(function(o){var s=e.get(o),u=i;i=[];for(var d=u.length,h=0,g=s.length,v=1/0,y=-1/0,C=0;C<g;C++){for(var w=s[C],_=w.dataIndex;h<d;){var E=u[h],T=E.dataIndex;if(T<_)h++,i.push(E),y=T,v=1/0;else{v=T;break}}v-_>=n&&_-y>=n&&(i.push(w),y=_)}for(;h<d;h++)i.push(u[h])}),i}var m8={name:"AVP",shortName:"AVP",series:ft.Price,precision:2,styles:{lines:[{color:"#A020F0",size:1}]},figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(e){var r=0,t=0;return e.map(function(n){var i,o,s={},u=(i=n.turnover)!==null&&i!==void 0?i:0,d=(o=n.volume)!==null&&o!==void 0?o:0;return r+=u,t+=d,t!==0&&(s.avp=r/t),s})}},y8={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(e){var r,t,n=e.data,i=e.indicator,o=e.defaultStyles,s=n.prev,u=n.current,d=(r=s==null?void 0:s.ao)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(t=u==null?void 0:u.ao)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,g="";h>d?g=Vn(i.styles,"bars[0].upColor",o.bars[0].upColor):g=Vn(i.styles,"bars[0].downColor",o.bars[0].downColor);var v=h>d?rr.Stroke:rr.Fill;return{color:g,style:v,borderColor:g}}}],calc:function(e,r){var t=r.calcParams,n=Math.max(t[0],t[1]),i=0,o=0,s=0,u=0;return e.map(function(d,h){var g={},v=(d.low+d.high)/2;if(i+=v,o+=v,h>=t[0]-1){s=i/t[0];var y=e[h-(t[0]-1)];i-=(y.low+y.high)/2}if(h>=t[1]-1){u=o/t[1];var y=e[h-(t[1]-1)];o-=(y.low+y.high)/2}return h>=n-1&&(g.ao=s-u),g})}},x8={name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"bias".concat(t+1),title:"BIAS".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=t,o=[];return e.map(function(s,u){var d={},h=s.close;return i.forEach(function(g,v){var y;if(o[v]=((y=o[v])!==null&&y!==void 0?y:0)+h,u>=g-1){var C=o[v]/i[v];d[n[v].key]=(h-C)/C*100,o[v]-=e[u-(g-1)].close}}),d})}};function C8(e,r){var t=e.length,n=0;return e.forEach(function(i){var o=i.close-r;n+=o*o}),n=Math.abs(n),Math.sqrt(n/t)}var w8={name:"BOLL",shortName:"BOLL",series:ft.Price,calcParams:[20,2],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=t[0]-1,i=0;return e.map(function(o,s){var u=o.close,d={};if(i+=u,s>=n){d.mid=i/t[0];var h=C8(e.slice(s-n,s+1),d.mid);d.up=d.mid+t[1]*h,d.dn=d.mid-t[1]*h,i-=e[s-n].close}return d})}},b8={name:"BRAR",shortName:"BRAR",calcParams:[26],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0;return e.map(function(u,d){var h,g,v={},y=u.high,C=u.low,w=u.open,_=((h=e[d-1])!==null&&h!==void 0?h:u).close;if(o+=y-w,s+=w-C,n+=y-_,i+=_-C,d>=t[0]-1){s!==0?v.ar=o/s*100:v.ar=0,i!==0?v.br=n/i*100:v.br=0;var E=e[d-(t[0]-1)],T=E.high,M=E.low,I=E.open,D=((g=e[d-t[0]])!==null&&g!==void 0?g:e[d-(t[0]-1)]).close;n-=T-D,i-=D-M,o-=T-I,s-=I-M}return v})}},_8={name:"BBI",shortName:"BBI",series:ft.Price,precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.max.apply(Math,Wd([],Yl(t),!1)),i=[],o=[];return e.map(function(s,u){var d={},h=s.close;if(t.forEach(function(v,y){var C;i[y]=((C=i[y])!==null&&C!==void 0?C:0)+h,u>=v-1&&(o[y]=i[y]/v,i[y]-=e[u-(v-1)].close)}),u>=n-1){var g=0;o.forEach(function(v){g+=v}),d.bbi=g/4}return d})}},k8={name:"CCI",shortName:"CCI",calcParams:[20],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=t[0]-1,i=0,o=[];return e.map(function(s,u){var d={},h=(s.high+s.low+s.close)/3;if(i+=h,o.push(h),u>=n){var g=i/t[0],v=o.slice(u-n,u+1),y=0;v.forEach(function(_){y+=Math.abs(_-g)});var C=y/t[0];d.cci=C!==0?(h-g)/C/.015:0;var w=(e[u-n].high+e[u-n].low+e[u-n].close)/3;i-=w}return d})}},S8={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#FFFF00",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.ceil(t[1]/2.5+1),i=Math.ceil(t[2]/2.5+1),o=Math.ceil(t[3]/2.5+1),s=Math.ceil(t[4]/2.5+1),u=0,d=[],h=0,g=[],v=0,y=[],C=0,w=[],_=[];return e.forEach(function(E,T){var M,I,D,O,N,F={},V=(M=e[T-1])!==null&&M!==void 0?M:E,W=(V.high+V.close+V.low+V.open)/4,Z=Math.max(0,E.high-W),J=Math.max(0,W-E.low);T>=t[0]-1&&(J!==0?F.cr=Z/J*100:F.cr=0,u+=F.cr,h+=F.cr,v+=F.cr,C+=F.cr,T>=t[0]+t[1]-2&&(d.push(u/t[1]),T>=t[0]+t[1]+n-3&&(F.ma1=d[d.length-1-n]),u-=(I=_[T-(t[1]-1)].cr)!==null&&I!==void 0?I:0),T>=t[0]+t[2]-2&&(g.push(h/t[2]),T>=t[0]+t[2]+i-3&&(F.ma2=g[g.length-1-i]),h-=(D=_[T-(t[2]-1)].cr)!==null&&D!==void 0?D:0),T>=t[0]+t[3]-2&&(y.push(v/t[3]),T>=t[0]+t[3]+o-3&&(F.ma3=y[y.length-1-o]),v-=(O=_[T-(t[3]-1)].cr)!==null&&O!==void 0?O:0),T>=t[0]+t[4]-2&&(w.push(C/t[4]),T>=t[0]+t[4]+s-3&&(F.ma4=w[w.length-1-s]),C-=(N=_[T-(t[4]-1)].cr)!==null&&N!==void 0?N:0)),_.push(F)}),_}},E8={name:"DMA",shortName:"DMA",calcParams:[10,50,10],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.max(t[0],t[1]),i=0,o=0,s=0,u=[];return e.forEach(function(d,h){var g,v={},y=d.close;i+=y,o+=y;var C=0,w=0;if(h>=t[0]-1&&(C=i/t[0],i-=e[h-(t[0]-1)].close),h>=t[1]-1&&(w=o/t[1],o-=e[h-(t[1]-1)].close),h>=n-1){var _=C-w;v.dma=_,s+=_,h>=n+t[2]-2&&(v.ama=s/t[2],s-=(g=u[h-(t[2]-1)].dma)!==null&&g!==void 0?g:0)}u.push(v)}),u}},M8={name:"DMI",shortName:"DMI",calcParams:[14,6],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=0,g=0,v=[];return e.forEach(function(y,C){var w,_,E={},T=(w=e[C-1])!==null&&w!==void 0?w:y,M=T.close,I=y.high,D=y.low,O=I-D,N=Math.abs(I-M),F=Math.abs(M-D),V=I-T.high,W=T.low-D,Z=Math.max(Math.max(O,N),F),J=V>0&&V>W?V:0,he=W>0&&W>V?W:0;if(n+=Z,i+=J,o+=he,C>=t[0]-1){C>t[0]-1?(s=s-s/t[0]+Z,u=u-u/t[0]+J,d=d-d/t[0]+he):(s=n,u=i,d=o);var H=0,Y=0;s!==0&&(H=u*100/s,Y=d*100/s),E.pdi=H,E.mdi=Y;var K=0;Y+H!==0&&(K=Math.abs(Y-H)/(Y+H)*100),h+=K,C>=t[0]*2-2&&(C>t[0]*2-2?g=(g*(t[0]-1)+K)/t[0]:g=h/t[0],E.adx=g,C>=t[0]*2+t[1]-3&&(E.adxr=(((_=v[C-(t[1]-1)].adx)!==null&&_!==void 0?_:0)+g)/2))}v.push(E)}),v}},T8={name:"EMV",shortName:"EMV",calcParams:[14,9],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=[];return e.map(function(o,s){var u,d={};if(s>0){var h=e[s-1],g=o.high,v=o.low,y=(u=o.volume)!==null&&u!==void 0?u:0,C=(g+v)/2-(h.high+h.low)/2;if(y===0||g-v===0)d.emv=0;else{var w=y/1e8/(g-v);d.emv=C/w}n+=d.emv,i.push(d.emv),s>=t[0]&&(d.maEmv=n/t[0],n-=i[s-t[0]])}return d})}},I8={name:"EMA",shortName:"EMA",series:ft.Price,calcParams:[6,12,20],styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"ema".concat(t+1),title:"EMA".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=0,o=[];return e.map(function(s,u){var d={},h=s.close;return i+=h,t.forEach(function(g,v){u>=g-1&&(u>g-1?o[v]=(2*h+(g-1)*o[v])/(g+1):o[v]=i/g,d[n[v].key]=o[v])}),d})}},L8={name:"MTM",shortName:"MTM",calcParams:[12,6],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=[];return e.forEach(function(o,s){var u,d={};if(s>=t[0]){var h=o.close,g=e[s-t[0]].close;d.mtm=h-g,n+=d.mtm,s>=t[0]+t[1]-1&&(d.maMtm=n/t[1],n-=(u=i[s-(t[1]-1)].mtm)!==null&&u!==void 0?u:0)}i.push(d)}),i}},P8={name:"MA",shortName:"MA",series:ft.Price,calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"ma".concat(t+1),title:"MA".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[];return e.map(function(o,s){var u={},d=o.close;return t.forEach(function(h,g){var v;i[g]=((v=i[g])!==null&&v!==void 0?v:0)+d,s>=h-1&&(u[n[g].key]=i[g]/h,i[g]-=e[s-(h-1)].close)}),u})}},A8={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(e){var r,t,n=e.data,i=e.indicator,o=e.defaultStyles,s=n.prev,u=n.current,d=(r=s==null?void 0:s.macd)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(t=u==null?void 0:u.macd)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,g="";h>0?g=Vn(i.styles,"bars[0].upColor",o.bars[0].upColor):h<0?g=Vn(i.styles,"bars[0].downColor",o.bars[0].downColor):g=Vn(i.styles,"bars[0].noChangeColor",o.bars[0].noChangeColor);var v=d<h?rr.Stroke:rr.Fill;return{style:v,color:g,borderColor:g}}}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=Math.max(t[0],t[1]);return e.map(function(g,v){var y={},C=g.close;return n+=C,v>=t[0]-1&&(v>t[0]-1?i=(2*C+(t[0]-1)*i)/(t[0]+1):i=n/t[0]),v>=t[1]-1&&(v>t[1]-1?o=(2*C+(t[1]-1)*o)/(t[1]+1):o=n/t[1]),v>=h-1&&(s=i-o,y.dif=s,u+=s,v>=h+t[2]-2&&(v>h+t[2]-2?d=(s*2+d*(t[2]-1))/(t[2]+1):d=u/t[2],y.macd=(s-d)*2,y.dea=d)),y})}},D8={name:"OBV",shortName:"OBV",calcParams:[30],styles:{lines:[{color:"#A020F0",size:1},{color:"#007FFF",size:1}]},figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=[];return e.forEach(function(s,u){var d,h,g,v,y=(d=e[u-1])!==null&&d!==void 0?d:s;s.close<y.close?i-=(h=s.volume)!==null&&h!==void 0?h:0:s.close>y.close&&(i+=(g=s.volume)!==null&&g!==void 0?g:0);var C={obv:i};n+=i,u>=t[0]-1&&(C.maObv=n/t[0],n-=(v=o[u-(t[0]-1)].obv)!==null&&v!==void 0?v:0),o.push(C)}),o}},F8={name:"PVT",shortName:"PVT",styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(e){var r=0;return e.map(function(t,n){var i,o,s={},u=t.close,d=(i=t.volume)!==null&&i!==void 0?i:1,h=((o=e[n-1])!==null&&o!==void 0?o:t).close,g=0,v=h*d;return v!==0&&(g=(u-h)/v),r+=g,s.pvt=r,s})}},R8={name:"PSY",shortName:"PSY",calcParams:[12,6],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=[],s=[];return e.forEach(function(u,d){var h,g,v={},y=((h=e[d-1])!==null&&h!==void 0?h:u).close,C=u.close-y>0?1:0;o.push(C),n+=C,d>=t[0]-1&&(v.psy=n/t[0]*100,i+=v.psy,d>=t[0]+t[1]-2&&(v.maPsy=i/t[1],i-=(g=s[d-(t[1]-1)].psy)!==null&&g!==void 0?g:0),n-=o[d-(t[0]-1)]),s.push(v)}),s}},O8={name:"ROC",shortName:"ROC",calcParams:[12,6],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=[],i=0;return e.forEach(function(o,s){var u,d,h={};if(s>=t[0]-1){var g=o.close,v=((u=e[s-t[0]])!==null&&u!==void 0?u:e[s-(t[0]-1)]).close;v!==0?h.roc=(g-v)/v*100:h.roc=0,i+=h.roc,s>=t[0]-1+t[1]-1&&(h.maRoc=i/t[1],i-=(d=n[s-(t[1]-1)].roc)!==null&&d!==void 0?d:0)}n.push(h)}),n}},N8={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){var n=t+1;return{key:"rsi".concat(n),title:"RSI".concat(n,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=t,o=[],s=[];return e.map(function(u,d){var h,g={},v=((h=e[d-1])!==null&&h!==void 0?h:u).close,y=u.close-v;return i.forEach(function(C,w){var _,E,T;if(y>0?o[w]=((_=o[w])!==null&&_!==void 0?_:0)+y:s[w]=((E=s[w])!==null&&E!==void 0?E:0)+Math.abs(y),d>=C-1){s[w]!==0?g[n[w].key]=100-100/(1+o[w]/s[w]):g[n[w].key]=0;var M=e[d-(C-1)],I=(T=e[d-C])!==null&&T!==void 0?T:M,D=M.close-I.close;D>0?o[w]-=D:s[w]-=Math.abs(D)}}),g})}},z8={name:"SMA",shortName:"SMA",series:ft.Price,calcParams:[12,2],precision:2,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(e,r){var t=r.calcParams,n=0,i=0;return e.map(function(o,s){var u={},d=o.close;return n+=d,s>=t[0]-1&&(s>t[0]-1?i=(d*t[1]+i*(t[0]-t[1]+1))/(t[0]+1):i=n/t[0],u.sma=i),u})}},B8={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=[];return e.forEach(function(i,o){var s,u,d,h,g={},v=i.close;if(o>=t[0]-1){var y=im(e.slice(o-(t[0]-1),o+1),"high","low"),C=y[0],w=y[1],_=C-w,E=(v-w)/(_===0?1:_)*100;g.k=((t[1]-1)*((u=(s=n[o-1])===null||s===void 0?void 0:s.k)!==null&&u!==void 0?u:50)+E)/t[1],g.d=((t[2]-1)*((h=(d=n[o-1])===null||d===void 0?void 0:d.d)!==null&&h!==void 0?h:50)+g.k)/t[2],g.j=3*g.k-2*g.d}n.push(g)}),n}},V8={name:"SAR",shortName:"SAR",series:ft.Price,calcParams:[2,2,20],precision:2,shouldOhlc:!0,styles:{circles:[{upColor:"#FF7F50",downColor:"#A020F0",noChangeColor:"#A8A8A8"}]},figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(e){var r,t,n,i=e.data,o=e.indicator,s=e.defaultStyles,u=i.current,d=(r=u==null?void 0:u.sar)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(((t=u==null?void 0:u.high)!==null&&t!==void 0?t:0)+((n=u==null?void 0:u.low)!==null&&n!==void 0?n:0))/2,g=d<h?Vn(o.styles,"circles[0].upColor",s.circles[0].upColor):Vn(o.styles,"circles[0].downColor",s.circles[0].downColor);return{color:g}}}],calc:function(e,r){var t=r.calcParams,n=t[0]/100,i=t[1]/100,o=t[2]/100,s=n,u=-100,d=!1,h=0;return e.map(function(g,v){var y=h,C=g.high,w=g.low;if(d){(u===-100||u<C)&&(u=C,s=Math.min(s+i,o)),h=y+s*(u-y);var _=Math.min(e[Math.max(1,v)-1].low,w);h>g.low?(h=u,s=n,u=-100,d=!d):h>_&&(h=_)}else{(u===-100||u>w)&&(u=w,s=Math.min(s+i,o)),h=y+s*(u-y);var E=Math.max(e[Math.max(1,v)-1].high,C);h<g.high?(h=u,s=0,u=-100,d=!d):h<E&&(h=E)}return{high:C,low:w,sar:h}})}},$8={name:"TRIX",shortName:"TRIX",calcParams:[12,9],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=0,g=[];return e.forEach(function(v,y){var C,w={},_=v.close;if(n+=_,y>=t[0]-1&&(y>t[0]-1?i=(2*_+(t[0]-1)*i)/(t[0]+1):i=n/t[0],u+=i,y>=t[0]*2-2&&(y>t[0]*2-2?o=(2*i+(t[0]-1)*o)/(t[0]+1):o=u/t[0],d+=o,y>=t[0]*3-3))){var E=0,T=0;y>t[0]*3-3?(E=(2*o+(t[0]-1)*s)/(t[0]+1),T=(E-s)/s*100):E=d/t[0],s=E,w.trix=T,h+=T,y>=t[0]*3+t[1]-4&&(w.maTrix=h/t[1],h-=(C=g[y-(t[1]-1)].trix)!==null&&C!==void 0?C:0)}g.push(w)}),g}};function P2(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e){var r=e.data,t=e.indicator,n=e.defaultStyles,i=r.current,o=Vn(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor);return ve(i)&&(i.close>i.open?o=Vn(t.styles,"bars[0].upColor",n.bars[0].upColor):i.close<i.open&&(o=Vn(t.styles,"bars[0].downColor",n.bars[0].downColor))),{color:o}}}}var W8={name:"VOL",shortName:"VOL",series:ft.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},P2()],regenerateFigures:function(e){var r=e.map(function(t,n){return{key:"ma".concat(n+1),title:"MA".concat(t,": "),type:"line"}});return r.push(P2()),r},calc:function(e,r){var t=r.calcParams,n=r.figures,i=t,o=[];return e.map(function(s,u){var d,h=(d=s.volume)!==null&&d!==void 0?d:0,g={volume:h,open:s.open,close:s.close};return i.forEach(function(v,y){var C,w;o[y]=((C=o[y])!==null&&C!==void 0?C:0)+h,u>=v-1&&(g[n[y].key]=o[y]/v,o[y]-=(w=e[u-(v-1)].volume)!==null&&w!==void 0?w:0)}),g})}},H8={name:"VR",shortName:"VR",calcParams:[26,6],styles:{lines:[{color:"#FF6E6E",size:2},{color:"#FFD700",size:4}]},figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=[];return e.forEach(function(d,h){var g,v,y,C,w,_={},E=d.close,T=((g=e[h-1])!==null&&g!==void 0?g:d).close,M=(v=d.volume)!==null&&v!==void 0?v:0;if(E>T?n+=M:E<T?i+=M:o+=M,h>=t[0]-1){var I=o/2;i+I===0?_.vr=0:_.vr=(n+I)/(i+I)*100,s+=_.vr,h>=t[0]+t[1]-2&&(_.maVr=s/t[1],s-=(y=u[h-(t[1]-1)].vr)!==null&&y!==void 0?y:0);var D=e[h-(t[0]-1)],O=(C=e[h-t[0]])!==null&&C!==void 0?C:D,N=D.close,F=(w=D.volume)!==null&&w!==void 0?w:0;N>O.close?n-=F:N<O.close?i-=F:o-=F}u.push(_)}),u}},U8={name:"WR",shortName:"WR",calcParams:[6,10,14],styles:{lines:[{color:"#A020F0",size:1},{color:"#FFD700",size:1},{color:"#FF6E6E",size:1}]},figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=t;return e.map(function(o,s){var u={},d=o.close;return i.forEach(function(h,g){var v=h-1;if(s>=v){var y=im(e.slice(s-v,s+1),"high","low"),C=y[0],w=y[1],_=C-w;u[n[g].key]=_===0?0:(d-C)/_*100}}),u})}},sv={},j8=[m8,y8,x8,w8,b8,_8,k8,S8,E8,M8,T8,I8,L8,P8,A8,D8,F8,R8,O8,N8,z8,B8,V8,$8,W8,H8,U8];j8.forEach(function(e){sv[e.name]=tm.extend(e)});function lm(e){sv[e.name]=tm.extend(e)}function sm(e){var r;return(r=sv[e])!==null&&r!==void 0?r:null}var X8={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r,t,n=e.chart,i=e.coordinates,o=e.bounding,s=e.overlay,u=e.yAxis,d=s.points;if(i.length>0){var h=0;if(!((r=u==null?void 0:u.isInCandle())!==null&&r!==void 0)||r)h=n.getPrecision().price;else{var g=(t=n.getIndicators({paneId:s.paneId}).get(s.paneId))!==null&&t!==void 0?t:[];g.forEach(function(M){h=Math.max(h,M.precision)})}var v=[],y=[],C=0,w=o.width;if(i.length>1&&at(d[0].value)&&at(d[1].value)){var _=[1,.786,.618,.5,.382,.236,0],E=i[0].y-i[1].y,T=d[0].value-d[1].value;_.forEach(function(M){var I,D=i[1].y+E*M,O=n.getDecimalFold().format(n.getThousandsSeparator().format((((I=d[1].value)!==null&&I!==void 0?I:0)+T*M).toFixed(h)));v.push({coordinates:[{x:C,y:D},{x:w,y:D}]}),y.push({x:C,y:D,text:"".concat(O," (").concat((M*100).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:v},{type:"text",isCheckEvent:!1,attrs:y}]}return[]}},Y8={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding,n={x:0,y:r[0].y};return ve(r[1])&&r[0].x<r[1].x&&(n.x=t.width),[{type:"line",attrs:{coordinates:[r[0],n]}}]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].value=t.value,r[1].value=t.value},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].value=n.value)}},Z8={name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=[];return r.length===2&&t.push({coordinates:r}),[{type:"line",attrs:t}]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].value=t.value,r[1].value=t.value},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].value=n.value)}},K8={name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:t.width,y:r[0].y}]}}]}},cv=function(){function e(){this._children=[],this._callbacks=new Map}return e.prototype.registerEvent=function(r,t){return this._callbacks.set(r,t),this},e.prototype.onEvent=function(r,t,n){var i=this._callbacks.get(r);return ve(i)&&this.checkEventOn(t)?i(t,n):!1},e.prototype.checkEventOn=function(r){var t,n;try{for(var i=Ui(this._children),o=i.next();!o.done;o=i.next()){var s=o.value;if(s.checkEventOn(r))return!0}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!1},e.prototype.dispatchEvent=function(r,t,n){var i=this._children.length-1;if(i>-1){for(var o=i;o>-1;o--)if(this._children[o].dispatchEvent(r,t,n))return!0}return this.onEvent(r,t,n)},e.prototype.addChild=function(r){return this._children.push(r),this},e.prototype.clear=function(){this._children=[]},e}(),Bn=2,G8=function(e){Vt(r,e);function r(t){var n=e.call(this)||this;return n.attrs=t.attrs,n.styles=t.styles,n}return r.prototype.checkEventOn=function(t){return this.checkEventOnImp(t,this.attrs,this.styles)},r.prototype.setAttrs=function(t){return this.attrs=t,this},r.prototype.setStyles=function(t){return this.styles=t,this},r.prototype.draw=function(t){this.drawImp(t,this.attrs,this.styles)},r.extend=function(t){var n=function(i){Vt(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o.prototype.checkEventOnImp=function(s,u,d){return t.checkEventOn(s,u,d)},o.prototype.drawImp=function(s,u,d){t.draw(s,u,d)},o}(r);return n},r}(cv);function cm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=Ui(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.coordinates;if(d.length>1)for(var h=1;h<d.length;h++){var g=d[h-1],v=d[h];if(g.x===v.x){if(Math.abs(g.y-e.y)+Math.abs(v.y-e.y)-Math.abs(g.y-v.y)<Bn+Bn&&Math.abs(e.x-g.x)<Bn)return!0}else{var y=Jp(g,v),C=uv(y,e),w=Math.abs(C-e.y);if(Math.abs(g.x-e.x)+Math.abs(v.x-e.x)-Math.abs(g.x-v.x)<Bn+Bn&&w*w/(y[0]*y[0]+1)<Bn*Bn)return!0}}}}catch(_){t={error:_}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function uv(e,r){return e!==null?r.x*e[0]+e[1]:r.y}function Rd(e,r,t){var n=Jp(e,r);return uv(n,t)}function Jp(e,r){var t=e.x-r.x;if(t!==0){var n=(e.y-r.y)/t,i=e.y-n*e.x;return[n,i]}return null}function um(e,r,t){var n=r.length,i=at(t)?t>0&&t<1?t:0:t?.5:0;if(i>0&&n>2){for(var o=r[0].x,s=r[0].y,u=1;u<n-1;u++){var d=r[u-1],h=r[u],g=r[u+1],v=h.x-d.x,y=h.y-d.y,C=g.x-h.x,w=g.y-h.y,_=g.x-d.x,E=g.y-d.y,T=Math.sqrt(v*v+y*y),M=Math.sqrt(C*C+w*w),I=M/(M+T),D=h.x+_*i*I,O=h.y+E*i*I;D=Math.min(D,Math.max(g.x,h.x)),O=Math.min(O,Math.max(g.y,h.y)),D=Math.max(D,Math.min(g.x,h.x)),O=Math.max(O,Math.min(g.y,h.y)),_=D-h.x,E=O-h.y;var N=h.x-_*T/M,F=h.y-E*T/M;N=Math.min(N,Math.max(d.x,h.x)),F=Math.min(F,Math.max(d.y,h.y)),N=Math.max(N,Math.min(d.x,h.x)),F=Math.max(F,Math.min(d.y,h.y)),_=h.x-N,E=h.y-F,D=h.x+_*M/T,O=h.y+E*M/T,e.bezierCurveTo(o,s,N,F,h.x,h.y),o=D,s=O}var V=r[n-1];e.bezierCurveTo(o,s,V.x,V.y,V.x,V.y)}else for(var u=1;u<n;u++)e.lineTo(r[u].x,r[u].y)}function q8(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?Mt.Solid:i,s=t.smooth,u=s===void 0?!1:s,d=t.size,h=d===void 0?1:d,g=t.color,v=g===void 0?"currentColor":g,y=t.dashedValue,C=y===void 0?[2,2]:y;e.lineWidth=h,e.strokeStyle=v,o===Mt.Dashed?e.setLineDash(C):e.setLineDash([]);var w=h%2===1?.5:0;n.forEach(function(_){var E=_.coordinates;E.length>1&&(E.length===2&&(E[0].x===E[1].x||E[0].y===E[1].y)?(e.beginPath(),E[0].x===E[1].x?(e.moveTo(E[0].x+w,E[0].y),e.lineTo(E[1].x+w,E[1].y)):(e.moveTo(E[0].x,E[0].y+w),e.lineTo(E[1].x,E[1].y+w)),e.stroke(),e.closePath()):(e.save(),h%2===1&&e.translate(.5,.5),e.beginPath(),e.moveTo(E[0].x,E[0].y),um(e,E,u),e.stroke(),e.closePath(),e.restore()))})}var Q8={name:"line",checkEventOn:cm,draw:function(e,r,t){q8(e,r,t)}};function dm(e,r,t){var n=t??0,i=[];if(e.length>1)if(e[0].x===e[1].x){var o=0,s=r.height;if(i.push({coordinates:[{x:e[0].x,y:o},{x:e[0].x,y:s}]}),e.length>2){i.push({coordinates:[{x:e[2].x,y:o},{x:e[2].x,y:s}]});for(var u=e[0].x-e[2].x,d=0;d<n;d++){var h=u*(d+1);i.push({coordinates:[{x:e[0].x+h,y:o},{x:e[0].x+h,y:s}]})}}}else{var g=0,v=r.width,y=Jp(e[0],e[1]),C=y[0],w=y[1];if(i.push({coordinates:[{x:g,y:g*C+w},{x:v,y:v*C+w}]}),e.length>2){var _=e[2].y-C*e[2].x;i.push({coordinates:[{x:g,y:g*C+_},{x:v,y:v*C+_}]});for(var u=w-_,d=0;d<n;d++){var E=w+u*(d+1);i.push({coordinates:[{x:g,y:g*C+E},{x:v,y:v*C+E}]})}}}return i}var J8={name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:dm(r,t)}]}},e7={name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:dm(r,t,1)}]}},t7={name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r,t,n=e.chart,i=e.coordinates,o=e.bounding,s=e.overlay,u=e.yAxis,d=0;if(!((r=u==null?void 0:u.isInCandle())!==null&&r!==void 0)||r)d=n.getPrecision().price;else{var h=(t=n.getIndicators({paneId:s.paneId}).get(s.paneId))!==null&&t!==void 0?t:[];h.forEach(function(y){d=Math.max(d,y.precision)})}var g=s.points[0].value,v=g===void 0?0:g;return[{type:"line",attrs:{coordinates:[i[0],{x:o.width,y:i[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:i[0].x,y:i[0].y,text:n.getDecimalFold().format(n.getThousandsSeparator().format(v.toFixed(d))),baseline:"bottom"}}]}};function r7(e,r){if(e.length>1){var t={x:0,y:0};return e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?t={x:e[0].x,y:r.height}:t={x:e[0].x,y:0}:e[0].x>e[1].x?t={x:0,y:Rd(e[0],e[1],{x:0,y:e[0].y})}:t={x:r.width,y:Rd(e[0],e[1],{x:r.width,y:e[0].y})},{coordinates:[e[0],t]}}return[]}var n7={name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:r7(r,t)}]}},i7={name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates;return r.length===2?[{type:"line",attrs:{coordinates:r}}]:[]}},a7={name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return r.length===2?r[0].x===r[1].x?[{type:"line",attrs:{coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Rd(r[0],r[1],{x:0,y:r[0].y})},{x:t.width,y:Rd(r[0],r[1],{x:t.width,y:r[0].y})}]}}]:[]}},o7={name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;if(r.length===2){var n={x:r[0].x,y:0};return r[0].y<r[1].y&&(n.y=t.height),[{type:"line",attrs:{coordinates:[r[0],n]}}]}return[]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].timestamp=t.timestamp,r[0].dataIndex=t.dataIndex,r[1].timestamp=t.timestamp,r[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},l7={name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates;return r.length===2?[{type:"line",attrs:{coordinates:r}}]:[]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].timestamp=t.timestamp,r[0].dataIndex=t.dataIndex,r[1].timestamp=t.timestamp,r[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},s7={name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:{coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:t.height}]}}]}},c7={name:"simpleAnnotation",totalStep:2,styles:{line:{style:Mt.Dashed}},createPointFigures:function(e){var r,t=e.overlay,n=e.coordinates,i="";ve(t.extendData)&&(di(t.extendData)?i=t.extendData(t):i=(r=t.extendData)!==null&&r!==void 0?r:"");var o=n[0].x,s=n[0].y-6,u=s-50,d=u-5;return[{type:"line",attrs:{coordinates:[{x:o,y:s},{x:o,y:u}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:o,y:u},{x:o-4,y:d},{x:o+4,y:d}]},ignoreEvent:!0},{type:"text",attrs:{x:o,y:d,text:i,align:"center",baseline:"bottom"},ignoreEvent:!0}]}},u7={name:"simpleTag",totalStep:2,styles:{line:{style:Mt.Dashed}},createPointFigures:function(e){var r=e.bounding,t=e.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:r.width,y:t[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(e){var r,t,n=e.chart,i=e.overlay,o=e.coordinates,s=e.bounding,u=e.yAxis,d=(r=u==null?void 0:u.isFromZero())!==null&&r!==void 0?r:!1,h="left",g=0;d?(h="left",g=0):(h="right",g=s.width);var v="";return ve(i.extendData)&&(di(i.extendData)?v=i.extendData(i):v=(t=i.extendData)!==null&&t!==void 0?t:""),!ve(v)&&at(i.points[0].value)&&(v=oi(i.points[0].value,n.getPrecision().price)),{type:"text",attrs:{x:g,y:o[0].y,text:v,align:h,baseline:"middle"}}}},dv={},d7=[X8,Y8,Z8,K8,J8,e7,t7,n7,i7,a7,o7,l7,s7,c7,u7];d7.forEach(function(e){dv[e.name]=rm.extend(e)});function h7(e){dv[e.name]=rm.extend(e)}function p7(e){var r;return(r=dv[e])!==null&&r!==void 0?r:null}var f7={grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},text:{color:"#76808F"}}},indicator:{tooltip:{text:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},g7={grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},text:{color:"#929AA5"}}},indicator:{tooltip:{text:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}},v7={light:f7,dark:g7};function m7(e){var r;return(r=v7[e])!==null&&r!==void 0?r:null}var wp=30,hm=100,Bt={CANDLE:"candle_pane",INDICATOR:"indicator_pane_",X_AXIS:"x_axis_pane"},A2={MIN:1,MAX:50},y7=10,x7=80,C7=.2,Ug=10,w7=function(){function e(r,t){var n=this;this._styles=K5(),this._customApi={formatDate:function(v,y){return q5(n._dateTimeFormat,v,y)},formatBigNumber:Q5},this._locale="en-US",this._thousandsSeparator={sign:",",format:function(v){return J5(v,n._thousandsSeparator.sign)}},this._decimalFold={threshold:3,format:function(v){return em(v,n._decimalFold.threshold)}},this._precision={price:2,volume:0},this._dataList=[],this._loadMoreDataCallback=null,this._loading=!0,this._loadDataMore={forward:!1,backward:!1},this._zoomEnabled=!0,this._scrollEnabled=!0,this._totalBarSpace=0,this._barSpace=y7,this._offsetRightDistance=x7,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole=0,this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange=I2(),this._timeWeightTickMap=new Map,this._timeWeightTickList=[],this._minTimeDifference=Number.MAX_SAFE_INTEGER,this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._crosshair={},this._activeTooltipIcon=null,this._actions=new Map,this._indicators=new Map,this._taskScheduler=new v8,this._overlays=new Map,this._progressOverlayInfo=null,this._pressedOverlayInfo={paneId:"",overlay:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._hoverOverlayInfo={paneId:"",overlay:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._clickOverlayInfo={paneId:"",overlay:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},this._chart=r,this._calcOptimalBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace;var i=t??{},o=i.styles,s=i.locale,u=i.timezone,d=i.customApi,h=i.thousandsSeparator,g=i.decimalFold;ve(o)&&this.setStyles(o),Pr(s)&&this.setLocale(s),this.setTimezone(u??""),ve(d)&&this.setCustomApi(d),ve(h)&&this.setThousandsSeparator(h),ve(g)&&this.setDecimalFold(g)}return e.prototype.setStyles=function(r){var t,n,i=null;Pr(r)?i=m7(r):i=r,sn(this._styles,i),Zo((n=(t=i==null?void 0:i.candle)===null||t===void 0?void 0:t.tooltip)===null||n===void 0?void 0:n.custom)&&(this._styles.candle.tooltip.custom=i.candle.tooltip.custom)},e.prototype.getStyles=function(){return this._styles},e.prototype.setCustomApi=function(r){sn(this._customApi,r)},e.prototype.getCustomApi=function(){return this._customApi},e.prototype.setLocale=function(r){this._locale=r},e.prototype.getLocale=function(){return this._locale},e.prototype.setTimezone=function(r){if(!ve(this._dateTimeFormat)||this.getTimezone()!==r){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};r.length>0&&(t.timeZone=r);var n=null;try{n=new Intl.DateTimeFormat("en",t)}catch{}n!==null&&(this._classifyTimeWeightTicks(this._dataList),this._dateTimeFormat=n)}},e.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},e.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},e.prototype.setThousandsSeparator=function(r){sn(this._thousandsSeparator,r)},e.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},e.prototype.setDecimalFold=function(r){sn(this._decimalFold,r)},e.prototype.getDecimalFold=function(){return this._decimalFold},e.prototype.getPrecision=function(){return this._precision},e.prototype.setPrecision=function(r){sn(this._precision,r),this._synchronizeIndicatorSeriesPrecision()},e.prototype.getDataList=function(){return this._dataList},e.prototype.getVisibleRangeDataList=function(){return this._visibleRangeDataList},e.prototype.getVisibleRangeHighLowPrice=function(){return this._visibleRangeHighLowPrice},e.prototype.addData=function(r,t,n){var i=this,o,s,u,d,h=!1,g=!1,v=0;if(Zo(r)){switch(v=r.length,t){case ua.Init:{this.clearData(),this._dataList=r,this._loadDataMore.backward=(o=n==null?void 0:n.forward)!==null&&o!==void 0?o:!1,this._loadDataMore.forward=(s=n==null?void 0:n.forward)!==null&&s!==void 0?s:!1,this._classifyTimeWeightTicks(this._dataList),this.setOffsetRightDistance(this._offsetRightDistance),g=!0;break}case ua.Backward:{this._classifyTimeWeightTicks(r,!0),this._dataList=this._dataList.concat(r),this._loadDataMore.backward=(u=n==null?void 0:n.backward)!==null&&u!==void 0?u:!1,g=v>0;break}case ua.Forward:{this._dataList=r.concat(this._dataList),this._classifyTimeWeightTicks(this._dataList),this._loadDataMore.forward=(d=n==null?void 0:n.forward)!==null&&d!==void 0?d:!1,g=v>0;break}}this._loading=!1,h=!0}else{var y=this._dataList.length,C=r.timestamp,w=Vn(this._dataList[y-1],"timestamp",0);if(C>w){this._classifyTimeWeightTicks([r],!0),this._dataList.push(r);var _=this.getLastBarRightSideDiffBarCount();_<0&&this.setLastBarRightSideDiffBarCount(--_),v=1,h=!0,g=!0}else C===w&&(this._dataList[y-1]=r,h=!0,g=!0)}if(h&&g){this._adjustVisibleRange(),this.setCrosshair(this._crosshair,!0);var E=this.getIndicatorsByFilter({});E.forEach(function(T,M){T.forEach(function(I){i._addIndicatorCalcTask(M,I,t)})}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}},e.prototype.setLoadMoreDataCallback=function(r){this._loadMoreDataCallback=r},e.prototype._calcOptimalBarSpace=function(){var r=4,t=1-C7*Math.atan(Math.max(r,this._barSpace)-r)/(Math.PI*.5),n=Math.min(Math.floor(this._barSpace*t),Math.floor(this._barSpace));n%2===0&&n+2>=this._barSpace&&--n,this._gapBarSpace=Math.max(1,n)},e.prototype._classifyTimeWeightTicks=function(r,t){var n=0,i=null;t??!1?(n=this._dataList.length,i=this._dataList[n-1].timestamp):(this._timeWeightTickMap.clear(),this._minTimeDifference=Number.MAX_SAFE_INTEGER);var o={value:this._minTimeDifference};am(this._timeWeightTickMap,r,this._dateTimeFormat,n,o,i),this._minTimeDifference=o.value,this._timeWeightTickList=Hg(this._timeWeightTickMap,this._barSpace,this._styles.xAxis.tickText)},e.prototype.getTimeWeightTickList=function(){return this._timeWeightTickList},e.prototype._adjustVisibleRange=function(){var r=this,t,n,i=this._dataList.length,o=this._totalBarSpace/this._barSpace,s=0,u=0;this._scrollLimitRole===1?(s=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,u=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(s=this._minVisibleBarCount.left,u=this._minVisibleBarCount.right),s=Math.max(0,s),u=Math.max(0,u);var d=o-Math.min(s,i);this._lastBarRightSideDiffBarCount>d&&(this._lastBarRightSideDiffBarCount=d);var h=-i+Math.min(u,i);this._lastBarRightSideDiffBarCount<h&&(this._lastBarRightSideDiffBarCount=h);var g=Math.round(this._lastBarRightSideDiffBarCount+i+.5),v=g;g>i&&(g=i);var y=Math.round(g-o)-1;y<0&&(y=0);var C=this._lastBarRightSideDiffBarCount>0?Math.round(i+this._lastBarRightSideDiffBarCount-o)-1:y;this._visibleRange={from:y,to:g,realFrom:C,realTo:v},this.executeAction(ci.OnVisibleRangeChange,this._visibleRange),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}];for(var w=C;w<v;w++){var _=this._dataList[w],E=this.dataIndexToCoordinate(w);this._visibleRangeDataList.push({dataIndex:w,x:E,data:_}),ve(_)&&(this._visibleRangeHighLowPrice[0].price<_.high&&(this._visibleRangeHighLowPrice[0].price=_.high,this._visibleRangeHighLowPrice[0].x=E),this._visibleRangeHighLowPrice[1].price>_.low&&(this._visibleRangeHighLowPrice[1].price=_.low,this._visibleRangeHighLowPrice[1].x=E))}if(!this._loading&&ve(this._loadMoreDataCallback)){var T=null;y===0?this._loadDataMore.forward&&(this._loading=!0,T={type:ua.Forward,data:(t=this._dataList[0])!==null&&t!==void 0?t:null,callback:function(M,I){r.addData(M,ua.Forward,{forward:I??!1,backward:I??!1})}}):g===i&&this._loadDataMore.backward&&(this._loading=!0,T={type:ua.Backward,data:(n=this._dataList[i-1])!==null&&n!==void 0?n:null,callback:function(M,I){r.addData(M,ua.Backward,{forward:I??!1,backward:I??!1})}}),ve(T)&&this._loadMoreDataCallback(T)}},e.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:Math.floor(this._gapBarSpace/2)}},e.prototype.setBarSpace=function(r,t){r<A2.MIN||r>A2.MAX||this._barSpace===r||(this._barSpace=r,this._timeWeightTickList=Hg(this._timeWeightTickMap,this._barSpace,this._styles.xAxis.tickText),this._calcOptimalBarSpace(),t==null||t(),this._adjustVisibleRange(),this.setCrosshair(this._crosshair,!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}))},e.prototype.setTotalBarSpace=function(r){this._totalBarSpace!==r&&(this._totalBarSpace=r,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,!0))},e.prototype.setOffsetRightDistance=function(r,t){return this._offsetRightDistance=this._scrollLimitRole===1?Math.min(this._maxOffsetDistance.right,r):r,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,(t??!1)&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})),this},e.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},e.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},e.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},e.prototype.setLastBarRightSideDiffBarCount=function(r){this._lastBarRightSideDiffBarCount=r},e.prototype.setMaxOffsetLeftDistance=function(r){this._scrollLimitRole=1,this._maxOffsetDistance.left=r},e.prototype.setMaxOffsetRightDistance=function(r){this._scrollLimitRole=1,this._maxOffsetDistance.right=r},e.prototype.setLeftMinVisibleBarCount=function(r){this._scrollLimitRole=0,this._minVisibleBarCount.left=r},e.prototype.setRightMinVisibleBarCount=function(r){this._scrollLimitRole=0,this._minVisibleBarCount.right=r},e.prototype.getVisibleRange=function(){return this._visibleRange},e.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},e.prototype.scroll=function(r){if(this._scrollEnabled){var t=r/this._barSpace,n=this._lastBarRightSideDiffBarCount*this._barSpace;this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-t,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0});var i=Math.round(n-this._lastBarRightSideDiffBarCount*this._barSpace);i!==0&&this.executeAction(ci.OnScroll,{distance:i})}},e.prototype.getDataByDataIndex=function(r){var t;return(t=this._dataList[r])!==null&&t!==void 0?t:null},e.prototype.coordinateToFloatIndex=function(r){var t=this._dataList.length,n=(this._totalBarSpace-r)/this._barSpace,i=t+this._lastBarRightSideDiffBarCount-n;return Math.round(i*1e6)/1e6},e.prototype.dataIndexToTimestamp=function(r){var t=this._dataList.length;if(t===0)return null;var n=this.getDataByDataIndex(r);if(ve(n))return n.timestamp;var i=t-1;return r>i?this._dataList[i].timestamp+this._minTimeDifference*(r-i):r<0?this._dataList[0].timestamp-this._minTimeDifference*Math.abs(r):null},e.prototype.timestampToDataIndex=function(r){var t=this._dataList.length;if(t===0)return 0;var n=t-1,i=this._dataList[n].timestamp;if(r>i)return n+Math.floor((r-i)/this._minTimeDifference);var o=this._dataList[0].timestamp;return r<o?Math.floor((r-o)/this._minTimeDifference):Wg(this._dataList,"timestamp",r)},e.prototype.dataIndexToCoordinate=function(r){var t=this._dataList.length,n=t+this._lastBarRightSideDiffBarCount-r;return Math.floor(this._totalBarSpace-(n-.5)*this._barSpace+.5)},e.prototype.coordinateToDataIndex=function(r){return Math.ceil(this.coordinateToFloatIndex(r))-1},e.prototype.zoom=function(r,t){var n=this,i;if(this._zoomEnabled){var o=t??null;at(o==null?void 0:o.x)||(o={x:(i=this._crosshair.x)!==null&&i!==void 0?i:this._totalBarSpace/2});var s=o.x,u=this.coordinateToFloatIndex(s),d=this._barSpace,h=this._barSpace+r*(this._barSpace/Ug);this.setBarSpace(h,function(){n._lastBarRightSideDiffBarCount+=u-n.coordinateToFloatIndex(s)});var g=this._barSpace/d;g!==1&&this.executeAction(ci.OnZoom,{scale:g})}},e.prototype.setZoomEnabled=function(r){this._zoomEnabled=r},e.prototype.isZoomEnabled=function(){return this._zoomEnabled},e.prototype.setScrollEnabled=function(r){this._scrollEnabled=r},e.prototype.isScrollEnabled=function(){return this._scrollEnabled},e.prototype.setCrosshair=function(r,t){var n,i=r??{},o=0,s=0;at(i.x)?(o=this.coordinateToDataIndex(i.x),o<0?s=0:o>this._dataList.length-1?s=this._dataList.length-1:s=o):(o=this._dataList.length-1,s=o);var u=this._dataList[s],d=this.dataIndexToCoordinate(o),h={x:this._crosshair.x,y:this._crosshair.y,paneId:this._crosshair.paneId};this._crosshair=Qe(Qe({},i),{realX:d,kLineData:u,realDataIndex:o,dataIndex:s,timestamp:(n=this.dataIndexToTimestamp(o))!==null&&n!==void 0?n:void 0}),(h.x!==i.x||h.y!==i.y||h.paneId!==i.paneId)&&(ve(u)&&this._chart.crosshairChange(this._crosshair),(t??!1)||this._chart.updatePane(1))},e.prototype.getCrosshair=function(){return this._crosshair},e.prototype.setActiveTooltipIcon=function(r){this._activeTooltipIcon=r??null},e.prototype.getActiveTooltipIcon=function(){return this._activeTooltipIcon},e.prototype.executeAction=function(r,t){var n;(n=this._actions.get(r))===null||n===void 0||n.execute(t)},e.prototype.subscribeAction=function(r,t){var n;this._actions.has(r)||this._actions.set(r,new u8),(n=this._actions.get(r))===null||n===void 0||n.subscribe(t)},e.prototype.unsubscribeAction=function(r,t){var n=this._actions.get(r);ve(n)&&(n.unsubscribe(t),n.isEmpty()&&this._actions.delete(r))},e.prototype.hasAction=function(r){var t=this._actions.get(r);return ve(t)&&!t.isEmpty()},e.prototype._sortIndicators=function(r){var t;Pr(r)?(t=this._indicators.get(r))===null||t===void 0||t.sort(function(n,i){return n.zLevel-i.zLevel}):this._indicators.forEach(function(n){n.sort(function(i,o){return i.zLevel-o.zLevel})})},e.prototype._addIndicatorCalcTask=function(r,t,n){var i=this;this._taskScheduler.addTask({id:L2(r,t.name),handler:function(){var o;(o=t.onDataStateChange)===null||o===void 0||o.call(t,{state:Id.Loading,type:n,indicator:t}),t.calcImp(i._dataList).then(function(s){var u;s&&(i._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),(u=t.onDataStateChange)===null||u===void 0||u.call(t,{state:Id.Ready,type:n,indicator:t}))}).catch(function(){var s;(s=t.onDataStateChange)===null||s===void 0||s.call(t,{state:Id.Error,type:n,indicator:t})})}})},e.prototype.addIndicator=function(r,t,n){var i=r.name,o=this._indicators.get(t);if(ve(o)&&ve(o.find(function(d){return d.name===i})))return!1;ve(o)||(o=[]);var s=sm(i),u=new s;return this._synchronizeIndicatorSeriesPrecision(u),u.override(r),n||(this.removeIndicator({paneId:t}),o=[]),o.push(u),this._indicators.set(t,o),this._sortIndicators(t),this._addIndicatorCalcTask(t,u,ua.Init),!0},e.prototype.getIndicatorsByPaneId=function(r){var t;return(t=this._indicators.get(r))!==null&&t!==void 0?t:[]},e.prototype.getIndicatorsByFilter=function(r){var t=function(u,d){return u.filter(function(h){return!ve(d)||h.name===d})},n=r.paneId,i=r.name,o=new Map;if(ve(n)){var s=this.getIndicatorsByPaneId(n);o.set(n,t(s,i))}else ve(i)?this._indicators.forEach(function(u,d){o.set(d,t(u,i))}):this._indicators.forEach(function(u,d){o.set(d,t(u))});return o},e.prototype.removeIndicator=function(r){var t=this,n=!1,i=this.getIndicatorsByFilter(r);return i.forEach(function(o,s){var u=t.getIndicatorsByPaneId(s);o.forEach(function(d){var h=u.findIndex(function(g){return g.name===d.name});h>-1&&(t._taskScheduler.removeTask(L2(s,d.name)),u.splice(h,1),n=!0)}),u.length===0&&t._indicators.delete(s)}),n},e.prototype.hasIndicators=function(r){return this._indicators.has(r)},e.prototype._synchronizeIndicatorSeriesPrecision=function(r){var t=this._precision,n=t.price,i=t.volume,o=function(s){switch(s.series){case ft.Price:{s.setSeriesPrecision(n);break}case ft.Volume:{s.setSeriesPrecision(i);break}}};ve(r)?o(r):this._indicators.forEach(function(s){s.forEach(function(u){o(u)})})},e.prototype.overrideIndicator=function(r,t){var n=this,i=r.name,o=new Map;if(ve(t)){var s=this._indicators.get(t);ve(s)&&o.set(t,s)}else o=this._indicators;var u=!1,d=!1;return o.forEach(function(h,g){var v=h.find(function(E){return E.name===i});if(ve(v)){v.override(r);var y=v.shouldUpdateImp(),C=y.calc,w=y.draw,_=y.sort;_&&(d=!0),C?n._addIndicatorCalcTask(g,v,ua.Update):w&&(u=!0)}}),d&&this._sortIndicators(),u?(this._chart.layout({update:!0}),!0):!1},e.prototype.getOverlaysByFilter=function(r){var t,n,i=r.id,o=r.groupId,s=r.paneId,u=r.name,d=function(C){return C.filter(function(w){return ve(i)?w.id===i:ve(o)?w.groupId===o&&(!ve(u)||w.name===u):!ve(u)||w.name===u})},h=new Map;if(ve(s)){var g=this.getOverlaysByPaneId(s);h.set(s,d(g))}else this._overlays.forEach(function(C,w){h.set(w,d(C))});var v=(t=this._progressOverlayInfo)===null||t===void 0?void 0:t.overlay;if(ve(v)){var y=(n=h.get(v.paneId))!==null&&n!==void 0?n:[];y.push(v),h.set(v.paneId,y)}return h},e.prototype.getOverlaysByPaneId=function(r){var t;if(!Pr(r)){var n=[];return this._overlays.forEach(function(i){n=n.concat(i)}),n}return(t=this._overlays.get(r))!==null&&t!==void 0?t:[]},e.prototype._sortOverlays=function(r){var t;Pr(r)?(t=this._overlays.get(r))===null||t===void 0||t.sort(function(n,i){return n.zLevel-i.zLevel}):this._overlays.forEach(function(n){n.sort(function(i,o){return i.zLevel-o.zLevel})})},e.prototype.addOverlays=function(r,t){var n=this,i=[],o=r.map(function(s,u){var d,h,g,v,y,C;if(ve(s.id)){var w=null;try{for(var _=Ui(n._overlays),E=_.next();!E.done;E=_.next()){var T=Yl(E.value,2),M=T[1],I=M.find(function(F){return F.id===s.id});if(ve(I)){w=I;break}}}catch(F){d={error:F}}finally{try{E&&!E.done&&(h=_.return)&&h.call(_)}finally{if(d)throw d.error}}if(ve(w))return s.id}var D=p7(s.name);if(ve(D)){var O=(g=s.id)!==null&&g!==void 0?g:nm(h8),I=new D;s.id=O,(v=s.groupId)!==null&&v!==void 0||(s.groupId=O),I.override(s);var N=I.paneId;return i.includes(N)||i.push(N),I.isDrawing()?n._progressOverlayInfo={paneId:N,overlay:I,appointPaneFlag:t[u]}:(n._overlays.has(N)||n._overlays.set(N,[]),(y=n._overlays.get(N))===null||y===void 0||y.push(I)),I.isStart()&&((C=I.onDrawStart)===null||C===void 0||C.call(I,{overlay:I,chart:n._chart})),O}return null});return i.length>0&&(this._sortOverlays(),i.forEach(function(s){n._chart.updatePane(1,s)}),this._chart.updatePane(1,Bt.X_AXIS)),o},e.prototype.getProgressOverlayInfo=function(){return this._progressOverlayInfo},e.prototype.progressOverlayComplete=function(){var r;if(this._progressOverlayInfo!==null){var t=this._progressOverlayInfo,n=t.overlay,i=t.paneId;n.isDrawing()||(this._overlays.has(i)||this._overlays.set(i,[]),(r=this._overlays.get(i))===null||r===void 0||r.push(n),this._sortOverlays(i),this._progressOverlayInfo=null)}},e.prototype.updateProgressOverlayInfo=function(r,t){this._progressOverlayInfo!==null&&(Hd(t)&&t&&(this._progressOverlayInfo.appointPaneFlag=t),this._progressOverlayInfo.paneId=r,this._progressOverlayInfo.overlay.override({paneId:r}))},e.prototype.overrideOverlay=function(r){var t=this,n=!1,i=[],o=this.getOverlaysByFilter(r);return o.forEach(function(s,u){s.forEach(function(d){d.override(r);var h=d.shouldUpdate(),g=h.sort,v=h.draw;g&&(n=!0),(g||v)&&(i.includes(u)||i.push(u))})}),n&&this._sortOverlays(),i.length>0?(i.forEach(function(s){t._chart.updatePane(1,s)}),this._chart.updatePane(1,Bt.X_AXIS),!0):!1},e.prototype.removeOverlay=function(r){var t=this,n=[],i=this.getOverlaysByFilter(r);return i.forEach(function(o,s){var u=t.getOverlaysByPaneId(s);o.forEach(function(d){var h;if((h=d.onRemoved)===null||h===void 0||h.call(d,{overlay:d,chart:t._chart}),n.includes(s)||n.push(s),d.isDrawing())t._progressOverlayInfo=null;else{var g=u.findIndex(function(v){return v.id===d.id});g>-1&&u.splice(g,1)}u.length===0&&t._overlays.delete(s)})}),n.length>0?(n.forEach(function(o){t._chart.updatePane(1,o)}),this._chart.updatePane(1,Bt.X_AXIS),!0):!1},e.prototype.setPressedOverlayInfo=function(r){this._pressedOverlayInfo=r},e.prototype.getPressedOverlayInfo=function(){return this._pressedOverlayInfo},e.prototype.setHoverOverlayInfo=function(r,t){var n=this._hoverOverlayInfo,i=n.overlay,o=n.figureType,s=n.figureKey,u=n.figureIndex,d=r.overlay;if(((i==null?void 0:i.id)!==(d==null?void 0:d.id)||o!==r.figureType||u!==r.figureIndex)&&(this._hoverOverlayInfo=r,(i==null?void 0:i.id)!==(d==null?void 0:d.id))){var h=!1,g=!1;i!==null&&(g=!0,di(i.onMouseLeave)&&(i.onMouseLeave(Qe({chart:this._chart,overlay:i,figureKey:s,figureIndex:u},t)),h=!0)),d!==null&&(g=!0,di(d.onMouseEnter)&&(d.onMouseEnter(Qe({chart:this._chart,overlay:d,figureKey:r.figureKey,figureIndex:r.figureIndex},t)),h=!0)),g&&this._sortOverlays(),h||this._chart.updatePane(1)}},e.prototype.getHoverOverlayInfo=function(){return this._hoverOverlayInfo},e.prototype.setClickOverlayInfo=function(r,t){var n,i,o,s,u=this._clickOverlayInfo,d=u.paneId,h=u.overlay,g=u.figureType,v=u.figureKey,y=u.figureIndex,C=r.overlay;(n=C==null?void 0:C.isDrawing())!==null&&n!==void 0&&n||(i=C==null?void 0:C.onClick)===null||i===void 0||i.call(C,Qe({chart:this._chart,overlay:C,figureKey:r.figureKey,figureIndex:r.figureIndex},t)),((h==null?void 0:h.id)!==(C==null?void 0:C.id)||g!==r.figureType||y!==r.figureIndex)&&(this._clickOverlayInfo=r,(h==null?void 0:h.id)!==(C==null?void 0:C.id)&&((o=h==null?void 0:h.onDeselected)===null||o===void 0||o.call(h,Qe({chart:this._chart,overlay:h,figureKey:v,figureIndex:y},t)),(s=C==null?void 0:C.onSelected)===null||s===void 0||s.call(C,Qe({chart:this._chart,overlay:C,figureKey:r.figureKey,figureIndex:r.figureIndex},t)),this._chart.updatePane(1,r.paneId),d!==r.paneId&&this._chart.updatePane(1,d),this._chart.updatePane(1,Bt.X_AXIS)))},e.prototype.getClickOverlayInfo=function(){return this._clickOverlayInfo},e.prototype.isOverlayEmpty=function(){return this._overlays.size===0&&this._progressOverlayInfo===null},e.prototype.isOverlayDrawing=function(){var r,t;return(t=(r=this._progressOverlayInfo)===null||r===void 0?void 0:r.overlay.isDrawing())!==null&&t!==void 0?t:!1},e.prototype.clearData=function(){this._loadDataMore.backward=!1,this._loadDataMore.forward=!1,this._loading=!0,this._dataList=[],this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._visibleRange=I2(),this._timeWeightTickMap.clear(),this._timeWeightTickList=[],this._crosshair={},this._activeTooltipIcon=null},e.prototype.getChart=function(){return this._chart},e}(),jt={MAIN:"main",X_AXIS:"xAxis",Y_AXIS:"yAxis",SEPARATOR:"separator"},Ld=7;function b7(){return Y5(this,void 0,void 0,function(){return Z5(this,function(e){switch(e.label){case 0:return[4,new Promise(function(r){var t=new ResizeObserver(function(n){r(n.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})];case 1:return[2,e.sent()]}})})}var D2=function(){function e(r,t){var n=this;this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._nextPixelWidth=0,this._nextPixelHeight=0,this._requestAnimationId=R0,this._mediaQueryListener=function(){var i=Ns(n._element);n._nextPixelWidth=Math.round(n._element.clientWidth*i),n._nextPixelHeight=Math.round(n._element.clientHeight*i),n._resetPixelRatio()},this._listener=t,this._element=Zl("canvas",r),this._ctx=this._element.getContext("2d"),b7().then(function(i){n._supportedDevicePixelContentBox=i,i?(n._resizeObserver=new ResizeObserver(function(o){var s=o.find(function(d){return d.target===n._element}),u=s==null?void 0:s.devicePixelContentBoxSize[0];ve(u)&&(n._nextPixelWidth=u.inlineSize,n._nextPixelHeight=u.blockSize,(n._pixelWidth!==n._nextPixelWidth||n._pixelHeight!==n._nextPixelHeight)&&n._resetPixelRatio())}),n._resizeObserver.observe(n._element,{box:"device-pixel-content-box"})):(n._mediaQueryList=window.matchMedia("(resolution: ".concat(Ns(n._element),"dppx)")),n._mediaQueryList.addListener(n._mediaQueryListener))}).catch(function(i){return!1})}return e.prototype._resetPixelRatio=function(){var r=this;this._executeListener(function(){var t=r._element.clientWidth,n=r._element.clientHeight;r._width=t,r._height=n,r._pixelWidth=r._nextPixelWidth,r._pixelHeight=r._nextPixelHeight,r._element.width=r._nextPixelWidth,r._element.height=r._nextPixelHeight;var i=r._nextPixelWidth/t,o=r._nextPixelHeight/n;r._ctx.scale(i,o)})},e.prototype._executeListener=function(r){var t=this;this._requestAnimationId===R0&&(this._requestAnimationId=Dp(function(){t._ctx.clearRect(0,0,t._width,t._height),r==null||r(),t._listener(),t._requestAnimationId=R0}))},e.prototype.update=function(r,t){if(this._width!==r||this._height!==t){if(this._element.style.width="".concat(r,"px"),this._element.style.height="".concat(t,"px"),!this._supportedDevicePixelContentBox){var n=Ns(this._element);this._nextPixelWidth=Math.round(r*n),this._nextPixelHeight=Math.round(t*n),this._resetPixelRatio()}}else this._executeListener()},e.prototype.getElement=function(){return this._element},e.prototype.getContext=function(){return this._ctx},e.prototype.destroy=function(){ve(this._resizeObserver)&&this._resizeObserver.unobserve(this._element),ve(this._mediaQueryList)&&this._mediaQueryList.removeListener(this._mediaQueryListener)},e}(),pm=function(e){Vt(r,e);function r(t,n){var i=e.call(this)||this;return i._bounding=Ap(),i._pane=n,i._rootContainer=t,i._container=i.createContainer(),t.appendChild(i._container),i}return r.prototype.setBounding=function(t){return sn(this._bounding,t),this},r.prototype.getContainer=function(){return this._container},r.prototype.getBounding=function(){return this._bounding},r.prototype.getPane=function(){return this._pane},r.prototype.update=function(t){this.updateImp(this._container,this._bounding,t??3)},r.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},r}(cv),hv=function(e){Vt(r,e);function r(t,n){var i=e.call(this,t,n)||this;i._mainCanvas=new D2({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){i.updateMain(i._mainCanvas.getContext())}),i._overlayCanvas=new D2({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){i.updateOverlay(i._overlayCanvas.getContext())});var o=i.getContainer();return o.appendChild(i._mainCanvas.getElement()),o.appendChild(i._overlayCanvas.getElement()),i}return r.prototype.createContainer=function(){return Zl("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},r.prototype.updateImp=function(t,n,i){var o=n.width,s=n.height,u=n.left;t.style.left="".concat(u,"px");var d=i,h=t.clientWidth,g=t.clientHeight;switch((o!==h||s!==g)&&(t.style.width="".concat(o,"px"),t.style.height="".concat(s,"px"),d=3),d){case 0:{this._mainCanvas.update(o,s);break}case 1:{this._overlayCanvas.update(o,s);break}case 3:case 4:{this._mainCanvas.update(o,s),this._overlayCanvas.update(o,s);break}}},r.prototype.destroy=function(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=Zl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),u=s.getContext("2d"),d=Ns(s);return s.width=i*d,s.height=o*d,u.scale(d,d),u.drawImage(this._mainCanvas.getElement(),0,0,i,o),t&&u.drawImage(this._overlayCanvas.getElement(),0,0,i,o),s},r}(pm);function $0(e){return e==="transparent"||e==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(e)||/^[hH][Ss][Ll][Aa]\(([\s]*(3603[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(e)}function fm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=Ui(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.x,h=u.y,g=u.r,v=e.x-d,y=e.y-h;if(!(v*v+y*y>g*g))return!0}}catch(C){t={error:C}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function _7(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?rr.Fill:i,s=t.color,u=s===void 0?"currentColor":s,d=t.borderSize,h=d===void 0?1:d,g=t.borderColor,v=g===void 0?"currentColor":g,y=t.borderStyle,C=y===void 0?Mt.Solid:y,w=t.borderDashedValue,_=w===void 0?[2,2]:w,E=(o===rr.Fill||t.style===rr.StrokeFill)&&(!Pr(u)||!$0(u));E&&(e.fillStyle=u,n.forEach(function(T){var M=T.x,I=T.y,D=T.r;e.beginPath(),e.arc(M,I,D,0,Math.PI*2),e.closePath(),e.fill()})),(o===rr.Stroke||t.style===rr.StrokeFill)&&h>0&&!$0(v)&&(e.strokeStyle=v,e.lineWidth=h,C===Mt.Dashed?e.setLineDash(_):e.setLineDash([]),n.forEach(function(T){var M=T.x,I=T.y,D=T.r;(!E||D>h)&&(e.beginPath(),e.arc(M,I,D,0,Math.PI*2),e.closePath(),e.stroke())}))}var k7={name:"circle",checkEventOn:fm,draw:function(e,r,t){_7(e,r,t)}};function gm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=Ui(i),s=o.next();!s.done;s=o.next()){for(var u=s.value,d=!1,h=u.coordinates,g=0,v=h.length-1;g<h.length;v=g++)h[g].y>e.y!=h[v].y>e.y&&e.x<(h[v].x-h[g].x)*(e.y-h[g].y)/(h[v].y-h[g].y)+h[g].x&&(d=!d);if(d)return!0}}catch(y){t={error:y}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function S7(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?rr.Fill:i,s=t.color,u=s===void 0?"currentColor":s,d=t.borderSize,h=d===void 0?1:d,g=t.borderColor,v=g===void 0?"currentColor":g,y=t.borderStyle,C=y===void 0?Mt.Solid:y,w=t.borderDashedValue,_=w===void 0?[2,2]:w;(o===rr.Fill||t.style===rr.StrokeFill)&&(!Pr(u)||!$0(u))&&(e.fillStyle=u,n.forEach(function(E){var T=E.coordinates;e.beginPath(),e.moveTo(T[0].x,T[0].y);for(var M=1;M<T.length;M++)e.lineTo(T[M].x,T[M].y);e.closePath(),e.fill()})),(o===rr.Stroke||t.style===rr.StrokeFill)&&h>0&&!$0(v)&&(e.strokeStyle=v,e.lineWidth=h,C===Mt.Dashed?e.setLineDash(_):e.setLineDash([]),n.forEach(function(E){var T=E.coordinates;e.beginPath(),e.moveTo(T[0].x,T[0].y);for(var M=1;M<T.length;M++)e.lineTo(T[M].x,T[M].y);e.closePath(),e.stroke()}))}var E7={name:"polygon",checkEventOn:gm,draw:function(e,r,t){S7(e,r,t)}};function vm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=Ui(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.x,h=u.width;h<Bn*2&&(d-=Bn,h=Bn*2);var g=u.y,v=u.height;if(v<Bn*2&&(g-=Bn,v=Bn*2),e.x>=d&&e.x<=d+h&&e.y>=g&&e.y<=g+v)return!0}}catch(y){t={error:y}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function mm(e,r,t){var n,i=[];i=i.concat(r);var o=t.style,s=o===void 0?rr.Fill:o,u=t.color,d=u===void 0?"transparent":u,h=t.borderSize,g=h===void 0?1:h,v=t.borderColor,y=v===void 0?"transparent":v,C=t.borderStyle,w=C===void 0?Mt.Solid:C,_=t.borderRadius,E=_===void 0?0:_,T=t.borderDashedValue,M=T===void 0?[2,2]:T,I=(n=e.roundRect)!==null&&n!==void 0?n:e.rect,D=(s===rr.Fill||t.style===rr.StrokeFill)&&(!Pr(d)||!$0(d));if(D&&(e.fillStyle=d,i.forEach(function(F){var V=F.x,W=F.y,Z=F.width,J=F.height;e.beginPath(),I.call(e,V,W,Z,J,E),e.closePath(),e.fill()})),(s===rr.Stroke||t.style===rr.StrokeFill)&&g>0&&!$0(y)){e.strokeStyle=y,e.fillStyle=y,e.lineWidth=g,w===Mt.Dashed?e.setLineDash(M):e.setLineDash([]);var O=g%2===1?.5:0,N=Math.round(O*2);i.forEach(function(F){var V=F.x,W=F.y,Z=F.width,J=F.height;Z>g*2&&J>g*2?(e.beginPath(),I.call(e,V+O,W+O,Z-N,J-N,E),e.closePath(),e.stroke()):D||e.fillRect(V,W,Z,J)})}}var M7={name:"rect",checkEventOn:vm,draw:function(e,r,t){mm(e,r,t)}};function ym(e,r){var t=r.size,n=t===void 0?12:t,i=r.paddingLeft,o=i===void 0?0:i,s=r.paddingTop,u=s===void 0?0:s,d=r.paddingRight,h=d===void 0?0:d,g=r.paddingBottom,v=g===void 0?0:g,y=r.weight,C=y===void 0?"normal":y,w=r.family,_=e.x,E=e.y,T=e.text,M=e.align,I=M===void 0?"left":M,D=e.baseline,O=D===void 0?"top":D,N=e.width,F=e.height,V=N??o+Fd(T,n,C,w)+h,W=F??u+n+v,Z=0;switch(I){case"left":case"start":{Z=_;break}case"right":case"end":{Z=_-V;break}default:{Z=_-V/2;break}}var J=0;switch(O){case"top":case"hanging":{J=E;break}case"bottom":case"ideographic":case"alphabetic":{J=E-W;break}default:{J=E-W/2;break}}return{x:Z,y:J,width:V,height:W}}function xm(e,r,t){var n,i,o=[];o=o.concat(r);try{for(var s=Ui(o),u=s.next();!u.done;u=s.next()){var d=u.value,h=ym(d,t),g=h.x,v=h.y,y=h.width,C=h.height;if(e.x>=g&&e.x<=g+y&&e.y>=v&&e.y<=v+C)return!0}}catch(w){n={error:w}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1}function T7(e,r,t){var n=[];n=n.concat(r);var i=t.color,o=i===void 0?"currentColor":i,s=t.size,u=s===void 0?12:s,d=t.family,h=t.weight,g=t.paddingLeft,v=g===void 0?0:g,y=t.paddingTop,C=y===void 0?0:y,w=t.paddingRight,_=w===void 0?0:w,E=n.map(function(T){return ym(T,t)});mm(e,E,Qe(Qe({},t),{color:t.backgroundColor})),e.textAlign="left",e.textBaseline="top",e.font=Zc(u,h,d),e.fillStyle=o,n.forEach(function(T,M){var I=E[M];e.fillText(T.text,I.x+v,I.y+C,I.width-v-_)})}var I7={name:"text",checkEventOn:xm,draw:function(e,r,t){T7(e,r,t)}};function L7(e,r){var t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)}function Cm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=Ui(i),s=o.next();!s.done;s=o.next()){var u=s.value;if(Math.abs(L7(e,u)-u.r)<Bn){var d=u.r,h=u.startAngle,g=u.endAngle,v=d*Math.cos(h)+u.x,y=d*Math.sin(h)+u.y,C=d*Math.cos(g)+u.x,w=d*Math.sin(g)+u.y;if(e.x<=Math.max(v,C)+Bn&&e.x>=Math.min(v,C)-Bn&&e.y<=Math.max(y,w)+Bn&&e.y>=Math.min(y,w)-Bn)return!0}}}catch(_){t={error:_}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function P7(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?Mt.Solid:i,s=t.size,u=s===void 0?1:s,d=t.color,h=d===void 0?"currentColor":d,g=t.dashedValue,v=g===void 0?[2,2]:g;e.lineWidth=u,e.strokeStyle=h,o===Mt.Dashed?e.setLineDash(v):e.setLineDash([]),n.forEach(function(y){var C=y.x,w=y.y,_=y.r,E=y.startAngle,T=y.endAngle;e.beginPath(),e.arc(C,w,_,E,T),e.stroke(),e.closePath()})}var A7={name:"arc",checkEventOn:Cm,draw:function(e,r,t){P7(e,r,t)}},pv={},D7=[k7,Q8,E7,M7,I7,A7];D7.forEach(function(e){pv[e.name]=G8.extend(e)});function F7(e){var r;return(r=pv[e])!==null&&r!==void 0?r:null}function W0(e){var r;return(r=pv[e])!==null&&r!==void 0?r:null}var go=function(e){Vt(r,e);function r(t){var n=e.call(this)||this;return n._widget=t,n}return r.prototype.getWidget=function(){return this._widget},r.prototype.createFigure=function(t,n){var i=F7(t.name);if(i!==null){var o=new i(t);if(ve(n)){for(var s in n)n.hasOwnProperty(s)&&o.registerEvent(s,n[s]);this.addChild(o)}return o}return null},r.prototype.draw=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.clear(),this.drawImp(t,n)},r}(cv),R7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i,o=this.getWidget(),s=this.getWidget().getPane(),u=s.getChart(),d=o.getBounding(),h=u.getStyles().grid,g=h.show;if(g){t.save(),t.globalCompositeOperation="destination-over";var v=h.horizontal,y=v.show;if(y){var C=s.getAxisComponent(),w=C.getTicks().map(function(M){return{coordinates:[{x:0,y:M.coord},{x:d.width,y:M.coord}]}});(n=this.createFigure({name:"line",attrs:w,styles:v}))===null||n===void 0||n.draw(t)}var _=h.vertical,E=_.show;if(E){var T=u.getXAxisPane().getAxisComponent(),w=T.getTicks().map(function(I){return{coordinates:[{x:I.coord,y:0},{x:I.coord,y:d.height}]}});(i=this.createFigure({name:"line",attrs:w,styles:_}))===null||i===void 0||i.draw(t)}t.restore()}},r}(go),wm=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.eachChildren=function(t){for(var n=this.getWidget().getPane(),i=n.getChart().getChartStore(),o=i.getVisibleRangeDataList(),s=i.getBarSpace(),u=o.length,d=0;d<u;)t(o[d],s,d),++d},r}(go),O7=1e-6,bm=function(e){Vt(r,e);function r(){var t=e.apply(this,Wd([],Yl(arguments),!1))||this;return t._heikinAshiCache=new Map,t._boundCandleBarClickEvent=function(n){return function(){return t.getWidget().getPane().getChart().getChartStore().executeAction(ci.OnCandleBarClick,n),!1}},t}return r.prototype.drawImp=function(t){var n=this,i=this.getWidget().getPane(),o=i.getId()===Bt.CANDLE,s=i.getChart().getChartStore(),u=this.getCandleBarOptions();if(u!==null){var d=0,h=0;if(u.type===xr.Ohlc){var g=s.getBarSpace().gapBar;d=Math.min(Math.max(Math.round(g*.2),1),8),d>2&&d%2===1&&d--,h=Math.floor(h/2)}u.type!==xr.HeikinAshi&&this._heikinAshiCache.clear();var v=i.getAxisComponent();this.eachChildren(function(y,C){var w=y.data,_=y.x;if(ve(w)){var E=w.open,T=w.high,M=w.low,I=w.close,D=u.type,O=u.styles,N=[];I>E?(N[0]=O.upColor,N[1]=O.upBorderColor,N[2]=O.upWickColor):I<E?(N[0]=O.downColor,N[1]=O.downBorderColor,N[2]=O.downWickColor):(N[0]=O.noChangeColor,N[1]=O.noChangeBorderColor,N[2]=O.noChangeWickColor);var F=v.convertToPixel(E),V=v.convertToPixel(I),W=[F,V,v.convertToPixel(T),v.convertToPixel(M)];W.sort(function(H,Y){return H-Y});var Z=C.gapBar%2===0?1:0,J=[];switch(D){case xr.CandleSolid:{J=n._createSolidBar(_,W,C,N,Z);break}case xr.CandleStroke:{J=n._createStrokeBar(_,W,C,N,Z);break}case xr.CandleUpStroke:{I>E?J=n._createStrokeBar(_,W,C,N,Z):J=n._createSolidBar(_,W,C,N,Z);break}case xr.CandleDownStroke:{E>I?J=n._createStrokeBar(_,W,C,N,Z):J=n._createSolidBar(_,W,C,N,Z);break}case xr.Ohlc:{J=[{name:"rect",attrs:[{x:_-h,y:W[0],width:d,height:W[3]-W[0]},{x:_-C.halfGapBar,y:F+d>W[3]?W[3]-d:F,width:C.halfGapBar,height:d},{x:_+h,y:V+d>W[3]?W[3]-d:V,width:C.halfGapBar-h,height:d}],styles:{color:N[0]}}];break}case xr.HeikinAshi:{var he=n._calculateHeikinAshi(y);N=n._getHeikinAshiColors(he.haValues.open,he.haValues.close,E,I,O),J=n._createSolidBar(_,he.priceY,C,N,Z);break}}J.forEach(function(H){var Y,K=null;o&&(K={mouseClickEvent:n._boundCandleBarClickEvent(y)}),(Y=n.createFigure(H,K??void 0))===null||Y===void 0||Y.draw(t)})}})}},r.prototype.getCandleBarOptions=function(){var t=this.getWidget().getPane().getChart().getStyles().candle;return{type:t.type,styles:t.bar}},r.prototype._createSolidBar=function(t,n,i,o,s){return[{name:"rect",attrs:{x:t,y:n[0],width:1,height:n[3]-n[0]},styles:{color:o[2]}},{name:"rect",attrs:{x:t-i.halfGapBar,y:n[1],width:i.gapBar+s,height:Math.max(1,n[2]-n[1])},styles:{style:rr.StrokeFill,color:o[0],borderColor:o[1]}}]},r.prototype._createStrokeBar=function(t,n,i,o,s){return[{name:"rect",attrs:[{x:t,y:n[0],width:1,height:n[1]-n[0]},{x:t,y:n[2],width:1,height:n[3]-n[2]}],styles:{color:o[2]}},{name:"rect",attrs:{x:t-i.halfGapBar,y:n[1],width:i.gapBar+s,height:Math.max(1,n[2]-n[1])},styles:{style:rr.Stroke,borderColor:o[1]}}]},r.prototype._calculateHeikinAshi=function(t){var n=t.data,i=t.dataIndex,o=n,s=o.open,u=o.high,d=o.low,h=o.close,g=this._heikinAshiCache.get(i);if(g!==void 0){var v=this.getWidget().getPane().getAxisComponent(),y=[v.convertToPixel(g.open),v.convertToPixel(g.close),v.convertToPixel(g.high),v.convertToPixel(g.low)];return y.sort(function(N,F){return N-F}),{priceY:y,haValues:g}}var C=(s+u+d+h)/4,w=0;if(i>0){var _=this._getHeikinAshiValues(i-1);if(_!==null)w=(_.open+_.close)/2;else{var E=this.getPreviousData(i);E!==null?w=(E.open+E.close)/2:w=s}}else w=(s+h)/2;var T=Math.max(u,w,C),M=Math.min(d,w,C),I={open:w,high:T,low:M,close:C};this._heikinAshiCache.set(i,I);var D=this.getWidget().getPane().getAxisComponent(),O=[D.convertToPixel(w),D.convertToPixel(C),D.convertToPixel(T),D.convertToPixel(M)];return O.sort(function(N,F){return N-F}),{priceY:O,haValues:I}},r.prototype._getHeikinAshiValues=function(t){var n=this._heikinAshiCache.get(t);if(n!==void 0)return n;var i=this.getWidget().getPane().getChart().getChartStore().getDataList();if(t<0||t>=i.length)return null;var o=i[t],s=null;t>0&&(s=this._getHeikinAshiValues(t-1));var u=o.open,d=o.high,h=o.low,g=o.close,v=(u+d+h+g)/4,y=0;s!==null?y=(s.open+s.close)/2:y=(u+g)/2;var C=Math.max(d,y,v),w=Math.min(h,y,v),_={open:y,high:C,low:w,close:v};return this._heikinAshiCache.set(t,_),_},r.prototype.getPreviousData=function(t){var n=this.getWidget().getPane(),i=n.getChart().getChartStore(),o=i.getDataList();return t<=0||t>=o.length?null:t>0&&t<o.length?o[t-1]:null},r.prototype._getHeikinAshiColors=function(t,n,i,o,s){var u=[],d=n-t;return d>O7?(u[0]=s.upColor,u[1]=s.upBorderColor,u[2]=s.upWickColor):d<-1e-6?(u[0]=s.downColor,u[1]=s.downBorderColor,u[2]=s.downWickColor):o>i?(u[0]=s.upColor,u[1]=s.upBorderColor,u[2]=s.upWickColor):o<i?(u[0]=s.downColor,u[1]=s.downBorderColor,u[2]=s.downWickColor):(u[0]=s.noChangeColor,u[1]=s.noChangeBorderColor,u[2]=s.noChangeWickColor),u},r}(wm),N7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getCandleBarOptions=function(){var t,n,i=this.getWidget().getPane(),o=i.getAxisComponent();if(!o.isInCandle()){var s=i.getChart().getChartStore(),u=s.getIndicatorsByPaneId(i.getId());try{for(var d=Ui(u),h=d.next();!h.done;h=d.next()){var g=h.value;if(g.shouldOhlc&&g.visible){var v=g.styles,y=s.getStyles().indicator,C=Vn(v,"ohlc.upColor",y.ohlc.upColor),w=Vn(v,"ohlc.downColor",y.ohlc.downColor),_=Vn(v,"ohlc.noChangeColor",y.ohlc.noChangeColor);return{type:xr.Ohlc,styles:{upColor:C,downColor:w,noChangeColor:_,upBorderColor:C,downBorderColor:w,noChangeBorderColor:_,upWickColor:C,downWickColor:w,noChangeWickColor:_}}}}}catch(E){t={error:E}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}return null},r.prototype.drawImp=function(t){var n=this;e.prototype.drawImp.call(this,t);var i=this.getWidget(),o=i.getPane(),s=o.getChart(),u=i.getBounding(),d=s.getXAxisPane().getAxisComponent(),h=o.getAxisComponent(),g=s.getChartStore(),v=g.getIndicatorsByPaneId(o.getId()),y=g.getStyles().indicator;t.save(),v.forEach(function(C){if(C.visible){C.zLevel<0?t.globalCompositeOperation="destination-over":t.globalCompositeOperation="source-over";var w=!1;if(C.draw!==null&&(t.save(),w=C.draw({ctx:t,chart:s,indicator:C,bounding:u,xAxis:d,yAxis:h}),t.restore()),!w){var _=C.result,E=[];n.eachChildren(function(T,M){var I,D,O,N=M.halfGapBar,F=T.dataIndex,V=T.x,W=d.convertToPixel(F-1),Z=d.convertToPixel(F+1),J=(I=_[F-1])!==null&&I!==void 0?I:null,he=(D=_[F])!==null&&D!==void 0?D:null,H=(O=_[F+1])!==null&&O!==void 0?O:null,Y={x:W},K={x:V},ne={x:Z};C.figures.forEach(function(re){var Q=re.key,ue=J==null?void 0:J[Q];at(ue)&&(Y[Q]=h.convertToPixel(ue));var le=he==null?void 0:he[Q];at(le)&&(K[Q]=h.convertToPixel(le));var j=H==null?void 0:H[Q];at(j)&&(ne[Q]=h.convertToPixel(j))}),lv(C,F,y,function(re,Q,ue){var le,j,ie;if(ve(he==null?void 0:he[re.key])){var xe=K[re.key],Me=(le=re.attrs)===null||le===void 0?void 0:le.call(re,{data:{prev:J,current:he,next:H},coordinate:{prev:Y,current:K,next:ne},bounding:u,barSpace:M,xAxis:d,yAxis:h});if(!ve(Me))switch(re.type){case"circle":{Me={x:V,y:xe,r:Math.max(1,N)};break}case"rect":case"bar":{var Ie=(j=re.baseValue)!==null&&j!==void 0?j:h.getRange().from,Ae=h.convertToPixel(Ie),Je=Math.abs(Ae-xe);Ie!==(he==null?void 0:he[re.key])&&(Je=Math.max(1,Je));var Oe=0;xe>Ae?Oe=Ae:Oe=xe,Me={x:V-N,y:Oe,width:Math.max(1,N*2),height:Je};break}case"line":{ve(E[ue])||(E[ue]=[]),at(K[re.key])&&at(ne[re.key])&&E[ue].push({coordinates:[{x:K.x,y:K[re.key]},{x:ne.x,y:ne[re.key]}],styles:Q});break}}var Be=re.type;ve(Me)&&Be!=="line"&&((ie=n.createFigure({name:Be==="bar"?"rect":Be,attrs:Me,styles:Q}))===null||ie===void 0||ie.draw(t))}})}),E.forEach(function(T){var M,I,D,O;if(T.length>1){for(var N=[{coordinates:[T[0].coordinates[0],T[0].coordinates[1]],styles:T[0].styles}],F=1;F<T.length;F++){var V=N[N.length-1],W=T[F],Z=V.coordinates[V.coordinates.length-1];Z.x===W.coordinates[0].x&&Z.y===W.coordinates[0].y&&V.styles.style===W.styles.style&&V.styles.color===W.styles.color&&V.styles.size===W.styles.size&&V.styles.smooth===W.styles.smooth&&((M=V.styles.dashedValue)===null||M===void 0?void 0:M[0])===((I=W.styles.dashedValue)===null||I===void 0?void 0:I[0])&&((D=V.styles.dashedValue)===null||D===void 0?void 0:D[1])===((O=W.styles.dashedValue)===null||O===void 0?void 0:O[1])?V.coordinates.push(W.coordinates[1]):N.push({coordinates:[W.coordinates[0],W.coordinates[1]],styles:W.styles})}N.forEach(function(J){var he,H=J.coordinates,Y=J.styles;(he=n.createFigure({name:"line",attrs:{coordinates:H},styles:Y}))===null||he===void 0||he.draw(t)})}})}}}),t.restore()},r}(bm),z7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane(),o=n.getBounding(),s=n.getPane().getChart().getChartStore(),u=s.getCrosshair(),d=s.getStyles().crosshair;if(Pr(u.paneId)&&d.show){if(u.paneId===i.getId()){var h=u.y;this._drawLine(t,[{x:0,y:h},{x:o.width,y:h}],d.horizontal)}var g=u.realX;this._drawLine(t,[{x:g,y:0},{x:g,y:o.height}],d.vertical)}},r.prototype._drawLine=function(t,n,i){var o;if(i.show){var s=i.line;s.show&&((o=this.createFigure({name:"line",attrs:{coordinates:n},styles:s}))===null||o===void 0||o.draw(t))}},r}(go),_m=function(e){Vt(r,e);function r(){var t=e.apply(this,Wd([],Yl(arguments),!1))||this;return t._boundIconClickEvent=function(n){return function(){var i=t.getWidget().getPane();return i.getChart().getChartStore().executeAction(ci.OnTooltipIconClick,Qe({},n)),!0}},t._boundIconMouseMoveEvent=function(n){return function(){return t.getWidget().getPane().getChart().getChartStore().setActiveTooltipIcon(Qe({},n)),!0}},t}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane(),o=i.getChart().getChartStore(),s=o.getCrosshair();if(ve(s.kLineData)){var u=n.getBounding(),d=o.getStyles().indicator.tooltip,h=d.offsetLeft,g=d.offsetTop,v=d.offsetRight;this.drawIndicatorTooltip(t,h,g,u.width-v)}},r.prototype.drawIndicatorTooltip=function(t,n,i,o){var s=this,u=this.getWidget().getPane(),d=u.getChart().getChartStore(),h=d.getStyles().indicator,g=h.tooltip;if(this.isDrawTooltip(d.getCrosshair(),g)){var v=d.getIndicatorsByPaneId(u.getId()),y=g.text;v.forEach(function(C){var w=0,_={x:n,y:i},E=s.getIndicatorTooltipData(C),T=E.name,M=E.calcParamsText,I=E.legends,D=E.icons,O=T.length>0,N=I.length>0;if(O||N){var F=Yl(s.classifyTooltipIcons(D),3),V=F[0],W=F[1],Z=F[2];if(w=s.drawStandardTooltipIcons(t,V,_,C.name,n,w,o),O){var J=T;M.length>0&&(J="".concat(J).concat(M)),w=s.drawStandardTooltipLegends(t,[{title:{text:"",color:y.color},value:{text:J,color:y.color}}],_,n,w,o,y)}w=s.drawStandardTooltipIcons(t,W,_,C.name,n,w,o),N&&(w=s.drawStandardTooltipLegends(t,I,_,n,w,o,g.text)),w=s.drawStandardTooltipIcons(t,Z,_,C.name,n,w,o),i=_.y+w}})}return i},r.prototype.drawStandardTooltipIcons=function(t,n,i,o,s,u,d){var h=this;if(n.length>0){var g=0,v=0;n.forEach(function(_){var E=_.marginLeft,T=E===void 0?0:E,M=_.marginTop,I=M===void 0?0:M,D=_.marginRight,O=D===void 0?0:D,N=_.marginBottom,F=N===void 0?0:N,V=_.paddingLeft,W=V===void 0?0:V,Z=_.paddingTop,J=Z===void 0?0:Z,he=_.paddingRight,H=he===void 0?0:he,Y=_.paddingBottom,K=Y===void 0?0:Y,ne=_.size,re=_.fontFamily,Q=_.icon;t.font=Zc(ne,"normal",re),g+=T+W+t.measureText(Q).width+H+O,v=Math.max(v,I+J+ne+K+F)}),i.x+g>d?(i.x=s,i.y+=u,u=v):u=Math.max(u,v);var y=this.getWidget().getPane(),C=y.getId(),w=y.getChart().getChartStore().getActiveTooltipIcon();n.forEach(function(_){var E,T=_.marginLeft,M=T===void 0?0:T,I=_.marginTop,D=I===void 0?0:I,O=_.marginRight,N=O===void 0?0:O,F=_.paddingLeft,V=F===void 0?0:F,W=_.paddingTop,Z=W===void 0?0:W,J=_.paddingRight,he=J===void 0?0:J,H=_.paddingBottom,Y=H===void 0?0:H,K=_.color,ne=_.activeColor,re=_.size,Q=_.fontFamily,ue=_.icon,le=_.backgroundColor,j=_.activeBackgroundColor,ie=(w==null?void 0:w.paneId)===C&&w.indicatorName===o&&w.iconId===_.id;(E=h.createFigure({name:"text",attrs:{text:ue,x:i.x+M,y:i.y+D},styles:{paddingLeft:V,paddingTop:Z,paddingRight:he,paddingBottom:Y,color:ie?ne:K,size:re,family:Q,backgroundColor:ie?j:le}},{mouseClickEvent:h._boundIconClickEvent({paneId:C,indicatorName:o,iconId:_.id}),mouseMoveEvent:h._boundIconMouseMoveEvent({paneId:C,indicatorName:o,iconId:_.id})}))===null||E===void 0||E.draw(t),i.x+=M+V+t.measureText(ue).width+he+N})}return u},r.prototype.drawStandardTooltipLegends=function(t,n,i,o,s,u,d){var h=this;if(n.length>0){var g=d.marginLeft,v=d.marginTop,y=d.marginRight,C=d.marginBottom,w=d.size,_=d.family,E=d.weight;t.font=Zc(w,E,_),n.forEach(function(T){var M,I,D=T.title,O=T.value,N=t.measureText(D.text).width,F=t.measureText(O.text).width,V=N+F,W=v+w+C;i.x+g+V+y>u?(i.x=o,i.y+=s,s=W):s=Math.max(s,W),D.text.length>0&&((M=h.createFigure({name:"text",attrs:{x:i.x+g,y:i.y+v,text:D.text},styles:{color:D.color,size:w,family:_,weight:E}}))===null||M===void 0||M.draw(t)),(I=h.createFigure({name:"text",attrs:{x:i.x+g+N,y:i.y+v,text:O.text},styles:{color:O.color,size:w,family:_,weight:E}}))===null||I===void 0||I.draw(t),i.x+=g+V+y})}return s},r.prototype.isDrawTooltip=function(t,n){var i=n.showRule;return i===B0.Always||i===B0.FollowCross&&Pr(t.paneId)},r.prototype.getIndicatorTooltipData=function(t){var n,i,o=this.getWidget().getPane().getChart().getChartStore(),s=o.getStyles().indicator,u=s.tooltip,d=u.showName?t.shortName:"",h="",g=t.calcParams;g.length>0&&u.showParams&&(h="(".concat(g.join(","),")"));var v={name:d,calcParamsText:h,legends:[],icons:u.icons},y=o.getCrosshair().dataIndex,C=t.result,w=o.getCustomApi(),_=o.getDecimalFold(),E=o.getThousandsSeparator(),T=[];if(t.visible){var M=(i=(n=C[y])!==null&&n!==void 0?n:C[y-1])!==null&&i!==void 0?i:{};lv(t,y,s,function(H,Y){if(Pr(H.title)){var K=Y.color,ne=M[H.key];at(ne)&&(ne=oi(ne,t.precision),t.shouldFormatBigNumber&&(ne=w.formatBigNumber(ne)),ne=_.format(E.format(ne))),T.push({title:{text:H.title,color:K},value:{text:ne??u.defaultValue,color:K}})}}),v.legends=T}if(di(t.createTooltipDataSource)){var I=this.getWidget(),D=I.getPane(),O=D.getChart(),N=t.createTooltipDataSource({chart:O,indicator:t,crosshair:o.getCrosshair(),bounding:I.getBounding(),xAxis:D.getChart().getXAxisPane().getAxisComponent(),yAxis:D.getAxisComponent()}),F=N.name,V=N.calcParamsText,W=N.legends,Z=N.icons;if(Pr(F)&&u.showName&&(v.name=F),Pr(V)&&u.showParams&&(v.calcParamsText=V),ve(Z)&&(v.icons=Z),ve(W)&&t.visible){var J=[],he=s.tooltip.text.color;W.forEach(function(H){var Y={text:"",color:he};uo(H.title)?Y=H.title:Y.text=H.title;var K={text:"",color:he};uo(H.value)?K=H.value:K.text=H.value,at(Number(K.text))&&(K.text=_.format(E.format(K.text))),J.push({title:Y,value:K})}),v.legends=J}}return v},r.prototype.classifyTooltipIcons=function(t){var n=[],i=[],o=[];return t.forEach(function(s){switch(s.position){case $l.Left:{n.push(s);break}case $l.Middle:{i.push(s);break}case $l.Right:{o.push(s);break}}}),[n,i,o]},r}(go),km=function(e){Vt(r,e);function r(t){var n=e.call(this,t)||this;return n._initEvent(),n}return r.prototype._initEvent=function(){var t=this,n=this.getWidget().getPane(),i=n.getId(),o=n.getChart(),s=o.getChartStore();this.registerEvent("mouseMoveEvent",function(u){var d,h=s.getProgressOverlayInfo();if(h!==null){var g=h.overlay,v=h.paneId;g.isStart()&&(s.updateProgressOverlayInfo(i),v=i);var y=g.points.length-1,C="".concat(y0,"point_").concat(y);return g.isDrawing()&&v===i&&(g.eventMoveForDrawing(t._coordinateToPoint(g,u)),(d=g.onDrawing)===null||d===void 0||d.call(g,Qe({chart:o,overlay:g,figureKey:C,figureIndex:y},u))),t._figureMouseMoveEvent(g,1,C,y,0)(u)}return s.setHoverOverlayInfo({paneId:i,overlay:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},u),!1}).registerEvent("mouseClickEvent",function(u){var d,h,g=s.getProgressOverlayInfo();if(g!==null){var v=g.overlay,y=g.paneId;v.isStart()&&(s.updateProgressOverlayInfo(i,!0),y=i);var C=v.points.length-1,w="".concat(y0,"point_").concat(C);return v.isDrawing()&&y===i&&(v.eventMoveForDrawing(t._coordinateToPoint(v,u)),(d=v.onDrawing)===null||d===void 0||d.call(v,Qe({chart:o,overlay:v,figureKey:w,figureIndex:C},u)),v.nextStep(),v.isDrawing()||(s.progressOverlayComplete(),(h=v.onDrawEnd)===null||h===void 0||h.call(v,Qe({chart:o,overlay:v,figureKey:w,figureIndex:C},u)))),t._figureMouseClickEvent(v,1,w,C,0)(u)}return s.setClickOverlayInfo({paneId:i,overlay:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1},u),!1}).registerEvent("mouseDoubleClickEvent",function(u){var d,h=s.getProgressOverlayInfo();if(h!==null){var g=h.overlay,v=h.paneId;if(g.isDrawing()&&v===i&&(g.forceComplete(),!g.isDrawing())){s.progressOverlayComplete();var y=g.points.length-1,C="".concat(y0,"point_").concat(y);(d=g.onDrawEnd)===null||d===void 0||d.call(g,Qe({chart:o,overlay:g,figureKey:C,figureIndex:y},u))}var w=g.points.length-1;return t._figureMouseClickEvent(g,1,"".concat(y0,"point_").concat(w),w,0)(u)}return!1}).registerEvent("mouseRightClickEvent",function(u){var d=s.getProgressOverlayInfo();if(d!==null){var h=d.overlay;if(h.isDrawing()){var g=h.points.length-1;return t._figureMouseRightClickEvent(h,1,"".concat(y0,"point_").concat(g),g,0)(u)}}return!1}).registerEvent("mouseUpEvent",function(u){var d,h=s.getPressedOverlayInfo(),g=h.overlay,v=h.figureIndex,y=h.figureKey;return g!==null&&((d=g.onPressedMoveEnd)===null||d===void 0||d.call(g,Qe({chart:o,overlay:g,figureKey:y,figureIndex:v},u))),s.setPressedOverlayInfo({paneId:i,overlay:null,figureType:0,figureKey:"",figureIndex:-1,attrsIndex:-1}),!1}).registerEvent("pressedMouseMoveEvent",function(u){var d,h,g=s.getPressedOverlayInfo(),v=g.overlay,y=g.figureType,C=g.figureIndex,w=g.figureKey;if(v!==null){if(!v.lock&&!((h=(d=v.onPressedMoving)===null||d===void 0?void 0:d.call(v,Qe({chart:o,overlay:v,figureIndex:C,figureKey:w},u)))!==null&&h!==void 0&&h)){var _=t._coordinateToPoint(v,u);y===1?v.eventPressedPointMove(_,C):v.eventPressedOtherMove(_,t.getWidget().getPane().getChart().getChartStore())}return!0}return!1})},r.prototype._createFigureEvents=function(t,n,i,o,s,u){var d=null;if(!t.isDrawing()){var h=[];if(ve(u)&&(Hd(u)?u&&(h=d8()):h=u),h.length===0)return{mouseMoveEvent:this._figureMouseMoveEvent(t,n,i,o,s),mouseDownEvent:this._figureMouseDownEvent(t,n,i,o,s),mouseClickEvent:this._figureMouseClickEvent(t,n,i,o,s),mouseRightClickEvent:this._figureMouseRightClickEvent(t,n,i,o,s),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(t,n,i,o,s)};d={},!h.includes("mouseMoveEvent")&&!h.includes("touchMoveEvent")&&(d.mouseMoveEvent=this._figureMouseMoveEvent(t,n,i,o,s)),!h.includes("mouseDownEvent")&&!h.includes("touchStartEvent")&&(d.mouseDownEvent=this._figureMouseDownEvent(t,n,i,o,s)),!h.includes("mouseClickEvent")&&!h.includes("tapEvent")&&(d.mouseClickEvent=this._figureMouseClickEvent(t,n,i,o,s)),!h.includes("mouseDoubleClickEvent")&&!h.includes("doubleTapEvent")&&(d.mouseDoubleClickEvent=this._figureMouseDoubleClickEvent(t,n,i,o,s)),h.includes("mouseRightClickEvent")||(d.mouseRightClickEvent=this._figureMouseRightClickEvent(t,n,i,o,s))}return d??void 0},r.prototype._figureMouseMoveEvent=function(t,n,i,o,s){var u=this;return function(d){var h=u.getWidget().getPane();return h.getChart().getChartStore().setHoverOverlayInfo({paneId:h.getId(),overlay:t,figureType:n,figureKey:i,figureIndex:o,attrsIndex:s},d),!0}},r.prototype._figureMouseDownEvent=function(t,n,i,o,s){var u=this;return function(d){var h,g=u.getWidget().getPane(),v=g.getId();return t.startPressedMove(u._coordinateToPoint(t,d)),(h=t.onPressedMoveStart)===null||h===void 0||h.call(t,Qe({chart:g.getChart(),overlay:t,figureIndex:o,figureKey:i},d)),g.getChart().getChartStore().setPressedOverlayInfo({paneId:v,overlay:t,figureType:n,figureKey:i,figureIndex:o,attrsIndex:s}),!0}},r.prototype._figureMouseClickEvent=function(t,n,i,o,s){var u=this;return function(d){var h=u.getWidget().getPane(),g=h.getId();return h.getChart().getChartStore().setClickOverlayInfo({paneId:g,overlay:t,figureType:n,figureKey:i,figureIndex:o,attrsIndex:s},d),!0}},r.prototype._figureMouseDoubleClickEvent=function(t,n,i,o,s){var u=this;return function(d){var h;return(h=t.onDoubleClick)===null||h===void 0||h.call(t,Qe(Qe({},d),{chart:u.getWidget().getPane().getChart(),figureIndex:o,figureKey:i,overlay:t})),!0}},r.prototype._figureMouseRightClickEvent=function(t,n,i,o,s){var u=this;return function(d){var h,g;return(g=(h=t.onRightClick)===null||h===void 0?void 0:h.call(t,Qe({chart:u.getWidget().getPane().getChart(),overlay:t,figureIndex:o,figureKey:i},d)))!==null&&g!==void 0&&g||u.getWidget().getPane().getChart().getChartStore().removeOverlay(t),!0}},r.prototype._coordinateToPoint=function(t,n){var i,o={},s=this.getWidget().getPane(),u=s.getChart(),d=s.getId(),h=u.getChartStore();if(this.coordinateToPointTimestampDataIndexFlag()){var g=u.getXAxisPane().getAxisComponent(),v=g.convertFromPixel(n.x),y=(i=h.dataIndexToTimestamp(v))!==null&&i!==void 0?i:void 0;o.timestamp=y,o.dataIndex=v}if(this.coordinateToPointValueFlag()){var C=s.getAxisComponent(),w=C.convertFromPixel(n.y);if(t.mode!==F0.Normal&&d===Bt.CANDLE&&at(o.dataIndex)){var _=h.getDataByDataIndex(o.dataIndex);if(_!==null){var E=t.modeSensitivity;if(w>_.high)if(t.mode===F0.WeakMagnet){var T=C.convertToPixel(_.high),M=C.convertFromPixel(T-E);w<M&&(w=_.high)}else w=_.high;else if(w<_.low)if(t.mode===F0.WeakMagnet){var I=C.convertToPixel(_.low),M=C.convertFromPixel(I-E);w>M&&(w=_.low)}else w=_.low;else{var D=Math.max(_.open,_.close),O=Math.min(_.open,_.close);w>D?w-D<_.high-w?w=D:w=_.high:w<O?w-_.low<O-w?w=_.low:w=O:D-w<w-O?w=D:w=O}}}o.value=w}return o},r.prototype.coordinateToPointValueFlag=function(){return!0},r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},r.prototype.dispatchEvent=function(t,n,i){return this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()?this.onEvent(t,n,i):e.prototype.dispatchEvent.call(this,t,n,i)},r.prototype.checkEventOn=function(){return!0},r.prototype.drawImp=function(t){var n=this,i=this.getCompleteOverlays();i.forEach(function(s){s.visible&&n._drawOverlay(t,s)});var o=this.getProgressOverlay();ve(o)&&o.visible&&this._drawOverlay(t,o)},r.prototype._drawOverlay=function(t,n){var i=n.points,o=this.getWidget().getPane(),s=o.getChart(),u=s.getChartStore(),d=o.getAxisComponent(),h=s.getXAxisPane().getAxisComponent(),g=i.map(function(y){var C,w=null;at(y.timestamp)&&(w=u.timestampToDataIndex(y.timestamp));var _={x:0,y:0};return at(w)&&(_.x=h.convertToPixel(w)),at(y.value)&&(_.y=(C=d==null?void 0:d.convertToPixel(y.value))!==null&&C!==void 0?C:0),_});if(g.length>0){var v=[].concat(this.getFigures(n,g));this.drawFigures(t,n,v)}this.drawDefaultFigures(t,n,g)},r.prototype.drawFigures=function(t,n,i){var o=this,s=this.getWidget().getPane().getChart().getStyles().overlay;i.forEach(function(u,d){var h=u.type,g=u.styles,v=u.attrs,y=u.ignoreEvent,C=[].concat(v);C.forEach(function(w,_){var E,T,M,I=o._createFigureEvents(n,2,(E=u.key)!==null&&E!==void 0?E:"",d,_,y),D=Qe(Qe(Qe({},s[h]),(T=n.styles)===null||T===void 0?void 0:T[h]),g);(M=o.createFigure({name:h,attrs:w,styles:D},I))===null||M===void 0||M.draw(t)})})},r.prototype.getCompleteOverlays=function(){var t=this.getWidget().getPane();return t.getChart().getChartStore().getOverlaysByPaneId(t.getId())},r.prototype.getProgressOverlay=function(){var t=this.getWidget().getPane(),n=t.getChart().getChartStore().getProgressOverlayInfo();return ve(n)&&n.paneId===t.getId()?n.overlay:null},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),g=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createPointFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:g,yAxis:h}))!==null&&o!==void 0?o:[]},r.prototype.drawDefaultFigures=function(t,n,i){var o=this,s,u;if(n.needDefaultPointFigure){var d=this.getWidget().getPane().getChart().getChartStore(),h=d.getHoverOverlayInfo(),g=d.getClickOverlayInfo();if(((s=h.overlay)===null||s===void 0?void 0:s.id)===n.id&&h.figureType!==0||((u=g.overlay)===null||u===void 0?void 0:u.id)===n.id&&g.figureType!==0){var v=d.getStyles().overlay,y=n.styles,C=Qe(Qe({},v.point),y==null?void 0:y.point);i.forEach(function(w,_){var E,T,M,I=w.x,D=w.y,O=C.radius,N=C.color,F=C.borderColor,V=C.borderSize;((E=h.overlay)===null||E===void 0?void 0:E.id)===n.id&&h.figureType===1&&h.figureIndex===_&&(O=C.activeRadius,N=C.activeColor,F=C.activeBorderColor,V=C.activeBorderSize),(T=o.createFigure({name:"circle",attrs:{x:I,y:D,r:O+V},styles:{color:F}},o._createFigureEvents(n,1,"".concat(y0,"point_").concat(_),_,0)))===null||T===void 0||T.draw(t),(M=o.createFigure({name:"circle",attrs:{x:I,y:D,r:O},styles:{color:N}}))===null||M===void 0||M.draw(t)})}}},r}(go),Sm=function(e){Vt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._gridView=new R7(i),i._indicatorView=new N7(i),i._crosshairLineView=new z7(i),i._tooltipView=i.createTooltipView(),i._overlayView=new km(i),i.addChild(i._tooltipView),i.addChild(i._overlayView),i.getContainer().style.cursor="crosshair",i.registerEvent("mouseMoveEvent",function(){return n.getChart().getChartStore().setActiveTooltipIcon(),!1}),i}return r.prototype.getName=function(){return jt.MAIN},r.prototype.updateMain=function(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t))},r.prototype.createTooltipView=function(){return new _m(this)},r.prototype.updateMainContent=function(t){},r.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t)),this._tooltipView.draw(t)},r}(hv),B7=function(e){Vt(r,e);function r(){var t=e.apply(this,Wd([],Yl(arguments),!1))||this;return t._ripplePoint=t.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),t._animationFrameTime=0,t._animation=new $g({iterationCount:1/0}).doFrame(function(n){t._animationFrameTime=n;var i=t.getWidget().getPane();i.getChart().updatePane(0,i.getId())}),t}return r.prototype.drawImp=function(t){var n,i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=d.getDataList(),g=h.length-1,v=s.getBounding(),y=u.getAxisComponent(),C=d.getStyles().candle.area,w=[],_=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,T=null;if(this.eachChildren(function(F){var V=F.data,W=F.x,Z=V==null?void 0:V[C.value];if(at(Z)){var J=y.convertToPixel(Z);E===Number.MIN_SAFE_INTEGER&&(E=W),w.push({x:W,y:J}),_=Math.min(_,J),F.dataIndex===g&&(T={x:W,y:J})}}),w.length>0){(n=this.createFigure({name:"line",attrs:{coordinates:w},styles:{color:C.lineColor,size:C.lineSize,smooth:C.smooth}}))===null||n===void 0||n.draw(t);var M=C.backgroundColor,I="";if(Zo(M)){var D=t.createLinearGradient(0,v.height,0,_);try{M.forEach(function(F){var V=F.offset,W=F.color;D.addColorStop(V,W)})}catch{}I=D}else I=M;t.fillStyle=I,t.beginPath(),t.moveTo(E,v.height),t.lineTo(w[0].x,w[0].y),um(t,w,C.smooth),t.lineTo(w[w.length-1].x,v.height),t.closePath(),t.fill()}var O=C.point;if(O.show&&ve(T)){(i=this.createFigure({name:"circle",attrs:{x:T.x,y:T.y,r:O.radius},styles:{style:"fill",color:O.color}}))===null||i===void 0||i.draw(t);var N=O.rippleRadius;O.animation&&(N=O.radius+this._animationFrameTime/O.animationDuration*(O.rippleRadius-O.radius),this._animation.setDuration(O.animationDuration).start()),(o=this._ripplePoint)===null||o===void 0||o.setAttrs({x:T.x,y:T.y,r:N}).setStyles({style:"fill",color:O.rippleColor}).draw(t)}else this.stopAnimation()},r.prototype.stopAnimation=function(){this._animation.stop()},r}(wm),V7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane(),o=i.getChart().getChartStore(),s=o.getStyles().candle.priceMark,u=s.high,d=s.low;if(s.show&&(u.show||d.show)){var h=o.getVisibleRangeHighLowPrice(),g=o.getPrecision(),v=i.getAxisComponent(),y=h[0],C=y.price,w=y.x,_=h[1],E=_.price,T=_.x,M=v.convertToPixel(C),I=v.convertToPixel(E),D=o.getDecimalFold(),O=o.getThousandsSeparator();u.show&&C!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,D.format(O.format(oi(C,g.price))),{x:w,y:M},M<I?[-2,-5]:[2,5],u),d.show&&E!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,D.format(O.format(oi(E,g.price))),{x:T,y:I},M<I?[2,5]:[-2,-5],d)}},r.prototype._drawMark=function(t,n,i,o,s){var u,d,h,g=i.x,v=i.y+o[0];(u=this.createFigure({name:"line",attrs:{coordinates:[{x:g-2,y:v+o[0]},{x:g,y:v},{x:g+2,y:v+o[0]}]},styles:{color:s.color}}))===null||u===void 0||u.draw(t);var y=0,C=0,w="left",_=this.getWidget().getBounding().width;g>_/2?(y=g-5,C=y-s.textOffset,w="right"):(y=g+5,w="left",C=y+s.textOffset);var E=v+o[1];(d=this.createFigure({name:"line",attrs:{coordinates:[{x:g,y:v},{x:g,y:E},{x:y,y:E}]},styles:{color:s.color}}))===null||d===void 0||d.draw(t),(h=this.createFigure({name:"text",attrs:{x:C,y:E,text:n,align:w,baseline:"middle"},styles:{color:s.color,size:s.textSize,family:s.textFamily,weight:s.textWeight}}))===null||h===void 0||h.draw(t)},r}(go),$7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i=this.getWidget(),o=i.getPane(),s=i.getBounding(),u=o.getChart().getChartStore(),d=u.getStyles().candle.priceMark,h=d.last,g=h.line;if(d.show&&h.show&&g.show){var v=o.getAxisComponent(),y=u.getDataList(),C=y[y.length-1];if(ve(C)){var w=C.close,_=C.open,E=v.convertToNicePixel(w),T="";w>_?T=h.upColor:w<_?T=h.downColor:T=h.noChangeColor,(n=this.createFigure({name:"line",attrs:{coordinates:[{x:0,y:E},{x:s.width,y:E}]},styles:{style:g.style,color:T,size:g.size,dashedValue:g.dashedValue}}))===null||n===void 0||n.draw(t)}}},r}(go),Ul;(function(e){e.Left="left",e.Right="right"})(Ul||(Ul={}));function F2(){return{from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0}}var Em=function(){function e(r){this.scrollZoomEnabled=!0,this._range=F2(),this._prevRange=F2(),this._ticks=[],this._autoCalcTickFlag=!0,this._parent=r}return e.prototype.getParent=function(){return this._parent},e.prototype.buildTicks=function(r){return this._autoCalcTickFlag&&(this._range=this.createRangeImp()),this._prevRange.from!==this._range.from||this._prevRange.to!==this._range.to||r?(this._prevRange=this._range,this._ticks=this.createTicksImp(),!0):!1},e.prototype.getTicks=function(){return this._ticks},e.prototype.setRange=function(r){this._autoCalcTickFlag=!1,this._range=r},e.prototype.getRange=function(){return this._range},e.prototype.setAutoCalcTickFlag=function(r){this._autoCalcTickFlag=r},e.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},e}(),W7={time:"",open:"",high:"",low:"",close:"",volume:"",turnover:"",change:""},H7={time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: "},U7={"zh-CN":W7,"en-US":H7};function j7(e,r){var t;return(t=U7[r][e])!==null&&t!==void 0?t:e}var X7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane().getChart().getChartStore(),o=i.getCrosshair();if(ve(o.kLineData)){var s=n.getBounding(),u=i.getStyles(),d=u.candle,h=u.indicator;if(d.tooltip.showType===Yo.Rect&&h.tooltip.showType===Yo.Rect){var g=this.isDrawTooltip(o,d.tooltip),v=this.isDrawTooltip(o,h.tooltip);this._drawRectTooltip(t,g,v,d.tooltip.offsetTop)}else if(d.tooltip.showType===Yo.Standard&&h.tooltip.showType===Yo.Standard){var y=d.tooltip,C=y.offsetLeft,w=y.offsetTop,_=y.offsetRight,E=s.width-_,T=this._drawCandleStandardTooltip(t,C,w,E);this.drawIndicatorTooltip(t,C,T,E)}else if(d.tooltip.showType===Yo.Rect&&h.tooltip.showType===Yo.Standard){var M=d.tooltip,C=M.offsetLeft,w=M.offsetTop,_=M.offsetRight,E=s.width-_,I=this.drawIndicatorTooltip(t,C,w,E),g=this.isDrawTooltip(o,d.tooltip);this._drawRectTooltip(t,g,!1,I)}else{var D=d.tooltip,C=D.offsetLeft,w=D.offsetTop,_=D.offsetRight,E=s.width-_,O=this._drawCandleStandardTooltip(t,C,w,E),v=this.isDrawTooltip(o,h.tooltip);this._drawRectTooltip(t,!1,v,O)}}},r.prototype._drawCandleStandardTooltip=function(t,n,i,o){var s=this.getWidget().getPane().getChart().getChartStore(),u=s.getStyles().candle,d=u.tooltip,h=d.text,g=0,v={x:n,y:i},y=s.getCrosshair();if(this.isDrawTooltip(y,d)){var C=this._getCandleTooltipLegends(),w=Yl(this.classifyTooltipIcons(d.icons),3),_=w[0],E=w[1],T=w[2];g=this.drawStandardTooltipIcons(t,_,v,"",n,g,o),g=this.drawStandardTooltipIcons(t,E,v,"",n,g,o),C.length>0&&(g=this.drawStandardTooltipLegends(t,C,v,n,g,o,h)),g=this.drawStandardTooltipIcons(t,T,v,"",n,g,o)}return v.y+g},r.prototype._drawRectTooltip=function(t,n,i,o){var s=this,u,d,h=this.getWidget(),g=h.getPane(),v=g.getChart().getChartStore(),y=v.getStyles(),C=y.candle,w=y.indicator,_=C.tooltip,E=w.tooltip;if(n||i){var T=this._getCandleTooltipLegends(),M=_.offsetLeft,I=_.offsetTop,D=_.offsetRight,O=_.offsetBottom,N=_.text,F=N.marginLeft,V=N.marginRight,W=N.marginTop,Z=N.marginBottom,J=N.size,he=N.weight,H=N.family,Y=_.rect,K=Y.position,ne=Y.paddingLeft,re=Y.paddingRight,Q=Y.paddingTop,ue=Y.paddingBottom,le=Y.offsetLeft,j=Y.offsetRight,ie=Y.offsetTop,xe=Y.offsetBottom,Me=Y.borderSize,Ie=Y.borderRadius,Ae=Y.borderColor,Je=Y.color,Oe=0,Be=0,ye=0;n&&(t.font=Zc(J,he,H),T.forEach(function(gt){var wt=gt.title,vt=gt.value,Rt="".concat(wt.text).concat(vt.text),Ht=t.measureText(Rt).width+F+V;Oe=Math.max(Oe,Ht)}),ye+=(Z+W+J)*T.length);var Fe=E.text,He=Fe.marginLeft,Ne=Fe.marginRight,ke=Fe.marginTop,et=Fe.marginBottom,Ft=Fe.size,Ue=Fe.weight,St=Fe.family,Gt=[];if(i){var qt=v.getIndicatorsByPaneId(g.getId());t.font=Zc(Ft,Ue,St),qt.forEach(function(gt){var wt=s.getIndicatorTooltipData(gt).legends;Gt.push(wt),wt.forEach(function(vt){var Rt=vt.title,Ht=vt.value,pr="".concat(Rt.text).concat(Ht.text),Ot=t.measureText(pr).width+He+Ne;Oe=Math.max(Oe,Ot),ye+=ke+et+Ft})})}if(Be+=Oe,Be!==0&&ye!==0){var xt=v.getCrosshair(),Cr=h.getBounding(),Qr=g.getYAxisWidget().getBounding();Be+=Me*2+ne+re,ye+=Me*2+Q+ue;var Xr=Cr.width/2,lr=K===Pp.Pointer&&xt.paneId===Bt.CANDLE,Tt=((u=xt.realX)!==null&&u!==void 0?u:0)>Xr,$t=0;if(lr){var Qt=xt.realX;Tt?$t=Qt-j-Be:$t=Qt+le}else{var Wr=this.getWidget().getPane().getAxisComponent();Tt?($t=le+M,Wr.inside&&Wr.position===Ul.Left&&($t+=Qr.width)):($t=Cr.width-j-Be-D,Wr.inside&&Wr.position===Ul.Right&&($t-=Qr.width))}var sr=o+ie;if(lr){var Ar=xt.y;sr=Ar-ye/2,sr+ye>Cr.height-xe-O&&(sr=Cr.height-xe-ye-O),sr<o+ie&&(sr=o+ie+I)}(d=this.createFigure({name:"rect",attrs:{x:$t,y:sr,width:Be,height:ye},styles:{style:rr.StrokeFill,color:Je,borderColor:Ae,borderSize:Me,borderRadius:Ie}}))===null||d===void 0||d.draw(t);var mt=$t+Me+ne+F,ze=sr+Me+Q;if(n&&T.forEach(function(gt){var wt,vt;ze+=W;var Rt=gt.title;(wt=s.createFigure({name:"text",attrs:{x:mt,y:ze,text:Rt.text},styles:{color:Rt.color,size:J,family:H,weight:he}}))===null||wt===void 0||wt.draw(t);var Ht=gt.value;(vt=s.createFigure({name:"text",attrs:{x:$t+Be-Me-V-re,y:ze,text:Ht.text,align:"right"},styles:{color:Ht.color,size:J,family:H,weight:he}}))===null||vt===void 0||vt.draw(t),ze+=J+Z}),i){var Ct=$t+Me+ne+He;Gt.forEach(function(gt){gt.forEach(function(wt){var vt,Rt;ze+=ke;var Ht=wt.title,pr=wt.value;(vt=s.createFigure({name:"text",attrs:{x:Ct,y:ze,text:Ht.text},styles:{color:Ht.color,size:Ft,family:St,weight:Ue}}))===null||vt===void 0||vt.draw(t),(Rt=s.createFigure({name:"text",attrs:{x:$t+Be-Me-Ne-re,y:ze,text:pr.text,align:"right"},styles:{color:pr.color,size:Ft,family:St,weight:Ue}}))===null||Rt===void 0||Rt.draw(t),ze+=Ft+et})})}}}},r.prototype._getCandleTooltipLegends=function(){var t,n,i,o,s,u,d=this.getWidget().getPane().getChart().getChartStore(),h=d.getStyles().candle,g=d.getDataList(),v=d.getCustomApi(),y=d.getDecimalFold(),C=d.getThousandsSeparator(),w=d.getLocale(),_=d.getPrecision(),E=_.price,T=_.volume,M=(t=d.getCrosshair().dataIndex)!==null&&t!==void 0?t:0,I=h.tooltip,D=I.text.color,O=(n=g[M-1])!==null&&n!==void 0?n:null,N=g[M],F=(i=O==null?void 0:O.close)!==null&&i!==void 0?i:N.close,V=N.close-F,W={"{time}":v.formatDate(N.timestamp,"YYYY-MM-DD HH:mm",_i.Tooltip),"{open}":y.format(C.format(oi(N.open,E))),"{high}":y.format(C.format(oi(N.high,E))),"{low}":y.format(C.format(oi(N.low,E))),"{close}":y.format(C.format(oi(N.close,E))),"{volume}":y.format(C.format(v.formatBigNumber(oi((o=N.volume)!==null&&o!==void 0?o:I.defaultValue,T)))),"{turnover}":y.format(C.format(oi((s=N.turnover)!==null&&s!==void 0?s:I.defaultValue,E))),"{change}":F===0?I.defaultValue:"".concat(C.format(oi(V/F*100)),"%")},Z=di(I.custom)?I.custom({prev:O,current:N,next:(u=g[M+1])!==null&&u!==void 0?u:null},h):I.custom;return Z.map(function(J){var he,H=J.title,Y=J.value,K={text:"",color:D};uo(H)?K=Qe({},H):K.text=H,K.text=j7(K.text,w);var ne={text:I.defaultValue,color:D};uo(Y)?ne=Qe({},Y):ne.text=Y;var re=/{(\S*)}/.exec(ne.text);if(re!==null&&re.length>1){var Q="{".concat(re[1],"}");ne.text=ne.text.replace(Q,(he=W[Q])!==null&&he!==void 0?he:I.defaultValue),Q==="{change}"&&(ne.color=V===0?h.priceMark.last.noChangeColor:V>0?h.priceMark.last.upColor:h.priceMark.last.downColor)}return{title:K,value:ne}})},r}(_m),Y7=function(e){Vt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._candleBarView=new bm(i),i._candleAreaView=new B7(i),i._candleHighLowPriceView=new V7(i),i._candleLastPriceLineView=new $7(i),i.addChild(i._candleBarView),i}return r.prototype.updateMainContent=function(t){var n=this.getPane().getChart().getStyles().candle;n.type!==xr.Area?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleAreaView.stopAnimation()):this._candleAreaView.draw(t),this._candleLastPriceLineView.draw(t)},r.prototype.createTooltipView=function(){return new X7(this)},r}(Sm),Mm=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t,n){var i=this,o,s,u=this.getWidget(),d=u.getPane(),h=u.getBounding(),g=d.getAxisComponent(),v=this.getAxisStyles(d.getChart().getStyles());if(v.show&&(v.axisLine.show&&((o=this.createFigure({name:"line",attrs:this.createAxisLine(h,v),styles:v.axisLine}))===null||o===void 0||o.draw(t)),!n[0])){var y=g.getTicks();if(v.tickLine.show){var C=this.createTickLines(y,h,v);C.forEach(function(_){var E;(E=i.createFigure({name:"line",attrs:_,styles:v.tickLine}))===null||E===void 0||E.draw(t)})}if(v.tickText.show){var w=this.createTickTexts(y,h,v);(s=this.createFigure({name:"text",attrs:w,styles:v.tickText}))===null||s===void 0||s.draw(t)}}},r}(go),Z7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAxisStyles=function(t){return t.yAxis},r.prototype.createAxisLine=function(t,n){var i=this.getWidget().getPane().getAxisComponent(),o=n.axisLine.size,s=0;return i.isFromZero()?s=0:s=t.width-o,{coordinates:[{x:s,y:0},{x:s,y:t.height}]}},r.prototype.createTickLines=function(t,n,i){var o=this.getWidget().getPane().getAxisComponent(),s=i.axisLine,u=i.tickLine,d=0,h=0;return o.isFromZero()?(d=0,s.show&&(d+=s.size),h=d+u.length):(d=n.width,s.show&&(d-=s.size),h=d-u.length),t.map(function(g){return{coordinates:[{x:d,y:g.coord},{x:h,y:g.coord}]}})},r.prototype.createTickTexts=function(t,n,i){var o=this.getWidget().getPane().getAxisComponent(),s=i.axisLine,u=i.tickLine,d=i.tickText,h=0;o.isFromZero()?(h=d.marginStart,s.show&&(h+=s.size),u.show&&(h+=u.length)):(h=n.width-d.marginEnd,s.show&&(h-=s.size),u.show&&(h-=u.length));var g=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(function(v){return{x:h,y:v.coord,text:v.text,align:g,baseline:"middle"}})},r}(Mm),K7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i=this.getWidget(),o=i.getPane(),s=i.getBounding(),u=o.getChart().getChartStore(),d=u.getStyles().candle.priceMark,h=d.last,g=h.text;if(d.show&&h.show&&g.show){var v=u.getPrecision(),y=o.getAxisComponent(),C=u.getDataList(),w=C[C.length-1];if(ve(w)){var _=w.close,E=w.open,T=y.convertToNicePixel(_),M="";_>E?M=h.upColor:_<E?M=h.downColor:M=h.noChangeColor;var I=y.getRange(),D=y.displayValueToText(y.realValueToDisplayValue(y.valueToRealValue(_,{range:I}),{range:I}),v.price);D=u.getDecimalFold().format(u.getThousandsSeparator().format(D));var O=0,N="left";y.isFromZero()?(O=0,N="left"):(O=s.width,N="right"),(n=this.createFigure({name:"text",attrs:{x:O,y:T,text:D,align:N,baseline:"middle"},styles:Qe(Qe({},g),{backgroundColor:M})}))===null||n===void 0||n.draw(t)}}},r}(go),G7=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this,i=this.getWidget(),o=i.getPane(),s=i.getBounding(),u=o.getChart().getChartStore(),d=u.getStyles().indicator,h=d.lastValueMark,g=h.text;if(h.show){var v=o.getAxisComponent(),y=v.getRange(),C=u.getDataList(),w=C.length-1,_=u.getIndicatorsByPaneId(o.getId()),E=u.getCustomApi(),T=u.getDecimalFold(),M=u.getThousandsSeparator();_.forEach(function(I){var D,O,N=I.result,F=(O=(D=N[w])!==null&&D!==void 0?D:N[w-1])!==null&&O!==void 0?O:{};if(ve(F)&&I.visible){var V=I.precision;lv(I,w,d,function(W,Z){var J,he=F[W.key];if(at(he)){var H=v.convertToNicePixel(he),Y=v.displayValueToText(v.realValueToDisplayValue(v.valueToRealValue(he,{range:y}),{range:y}),V);I.shouldFormatBigNumber&&(Y=E.formatBigNumber(Y)),Y=T.format(M.format(Y));var K=0,ne="left";v.isFromZero()?(K=0,ne="left"):(K=s.width,ne="right"),(J=n.createFigure({name:"text",attrs:{x:K,y:H,text:Y,align:ne,baseline:"middle"},styles:Qe(Qe({},g),{backgroundColor:Z.color})}))===null||J===void 0||J.draw(t)}})}})}},r}(go),Tm=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},r.prototype.drawDefaultFigures=function(t,n,i){this.drawFigures(t,n,this.getDefaultFigures(n,i))},r.prototype.getDefaultFigures=function(t,n){var i,o=this.getWidget(),s=o.getPane(),u=s.getChart().getChartStore(),d=u.getClickOverlayInfo(),h=[];if(t.needDefaultYAxisFigure&&t.id===((i=d.overlay)===null||i===void 0?void 0:i.id)&&d.paneId===s.getId()){var g=s.getAxisComponent(),v=o.getBounding(),y=Number.MAX_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER,w=g.isFromZero(),_="left",E=0;w?(_="left",E=0):(_="right",E=v.width);var T=u.getDecimalFold(),M=u.getThousandsSeparator();n.forEach(function(I,D){var O=t.points[D];if(at(O.value)){y=Math.min(y,I.y),C=Math.max(C,I.y);var N=T.format(M.format(oi(O.value,u.getPrecision().price)));h.push({type:"text",attrs:{x:E,y:I.y,text:N,align:_,baseline:"middle"},ignoreEvent:!0})}}),n.length>1&&h.unshift({type:"rect",attrs:{x:0,y,width:v.width,height:C-y},ignoreEvent:!0})}return h},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),g=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createYAxisFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:g,yAxis:h}))!==null&&o!==void 0?o:[]},r}(km),Im=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i=this.getWidget(),o=i.getPane(),s=i.getBounding(),u=i.getPane().getChart().getChartStore(),d=u.getCrosshair(),h=u.getStyles().crosshair;if(Pr(d.paneId)&&this.compare(d,o.getId())&&h.show){var g=this.getDirectionStyles(h),v=g.text;if(g.show&&v.show){var y=o.getAxisComponent(),C=this.getText(d,u,y);t.font=Zc(v.size,v.weight,v.family),(n=this.createFigure({name:"text",attrs:this.getTextAttrs(C,t.measureText(C).width,d,s,y,v),styles:v}))===null||n===void 0||n.draw(t)}}},r.prototype.compare=function(t,n){return t.paneId===n},r.prototype.getDirectionStyles=function(t){return t.horizontal},r.prototype.getText=function(t,n,i){var o=i,s=i.convertFromPixel(t.y),u=0,d=!1;if(o.isInCandle())u=n.getPrecision().price;else{var h=n.getIndicatorsByPaneId(t.paneId);h.forEach(function(y){u=Math.max(y.precision,u),d||(d=y.shouldFormatBigNumber)})}var g=o.getRange(),v=o.displayValueToText(o.realValueToDisplayValue(o.valueToRealValue(s,{range:g}),{range:g}),u);return d&&(v=n.getCustomApi().formatBigNumber(v)),n.getDecimalFold().format(n.getThousandsSeparator().format(v))},r.prototype.getTextAttrs=function(t,n,i,o,s,u){var d=s,h=0,g="left";return d.isFromZero()?(h=0,g="left"):(h=o.width,g="right"),{x:h,y:i.y,text:t,align:g,baseline:"middle"}},r}(go),q7=function(e){Vt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._yAxisView=new Z7(i),i._candleLastPriceLabelView=new K7(i),i._indicatorLastValueView=new G7(i),i._overlayYAxisView=new Tm(i),i._crosshairHorizontalLabelView=new Im(i),i.getContainer().style.cursor="ns-resize",i.addChild(i._overlayYAxisView),i}return r.prototype.getName=function(){return jt.Y_AXIS},r.prototype.updateMain=function(t){var n=this.getPane().getOptions().state==="minimize";this._yAxisView.draw(t,n),n||(this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t))},r.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t))},r}(hv),cp=8,bp=function(e){Vt(r,e);function r(t,n){var i=e.call(this,t)||this;return i.reverse=!1,i.inside=!1,i.position=Ul.Right,i.gap={top:.2,bottom:.1},i.createRange=function(o){return o.defaultRange},i.minSpan=function(o){return Uc(-o)},i.valueToRealValue=function(o){return o},i.realValueToDisplayValue=function(o){return o},i.displayValueToRealValue=function(o){return o},i.realValueToValue=function(o){return o},i.displayValueToText=function(o,s){return oi(o,s)},i.override(n),i}return r.prototype.override=function(t){var n=t.name,i=t.gap,o=Lp(t,["name","gap"]);Pr(this.name)||(this.name=n),sn(this.gap,i),sn(this,o)},r.prototype.createRangeImp=function(){var t=this.getParent(),n=t.getChart(),i=n.getChartStore(),o=t.getId(),s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,d=!1,h=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER,v=Number.MAX_SAFE_INTEGER,y=i.getIndicatorsByPaneId(o);y.forEach(function(Ie){d||(d=Ie.shouldOhlc),v=Math.min(v,Ie.precision),at(Ie.minValue)&&(h=Math.min(h,Ie.minValue)),at(Ie.maxValue)&&(g=Math.max(g,Ie.maxValue))});var C=4,w=this.isInCandle();if(w){var _=i.getPrecision().price;v!==Number.MAX_SAFE_INTEGER?C=Math.min(v,_):C=_}else v!==Number.MAX_SAFE_INTEGER&&(C=v);var E=i.getVisibleRangeDataList(),T=n.getStyles().candle,M=T.type===xr.Area,I=T.area.value,D=w&&!M||!w&&d;E.forEach(function(Ie){var Ae=Ie.dataIndex,Je=Ie.data;if(ve(Je)&&(D&&(s=Math.min(s,Je.low),u=Math.max(u,Je.high)),w&&M)){var Oe=Je[I];at(Oe)&&(s=Math.min(s,Oe),u=Math.max(u,Oe))}y.forEach(function(Be){var ye,Fe=Be.result,He=Be.figures,Ne=(ye=Fe[Ae])!==null&&ye!==void 0?ye:{};He.forEach(function(ke){var et=Ne[ke.key];at(et)&&(s=Math.min(s,et),u=Math.max(u,et))})})}),s!==Number.MAX_SAFE_INTEGER&&u!==Number.MIN_SAFE_INTEGER?(s=Math.min(h,s),u=Math.max(g,u)):(s=0,u=10);var O=u-s,N={from:s,to:u,range:O,realFrom:s,realTo:u,realRange:O,displayFrom:s,displayTo:u,displayRange:O},F=this.createRange({chart:n,paneId:o,defaultRange:N}),V=F.realFrom,W=F.realTo,Z=F.realRange,J=this.minSpan(C);if(V===W||Z<J){var he=h===V,H=g===W,Y=cp/2;V=he?V:H?V-cp*J:V-Y*J,W=H?W:he?W+cp*J:W+Y*J}var K=this.getBounding().height,ne=this.gap,re=ne.top,Q=ne.bottom,ue=re;ue>=1&&(ue=ue/K);var le=Q;le>=1&&(le=le/K),Z=W-V,V=V-Z*le,W=W+Z*ue;var j=this.realValueToValue(V,{range:F}),ie=this.realValueToValue(W,{range:F}),xe=this.realValueToDisplayValue(V,{range:F}),Me=this.realValueToDisplayValue(W,{range:F});return{from:j,to:ie,range:ie-j,realFrom:V,realTo:W,realRange:W-V,displayFrom:xe,displayTo:Me,displayRange:Me-xe}},r.prototype.isInCandle=function(){return this.getParent().getId()===Bt.CANDLE},r.prototype.isFromZero=function(){return this.position===Ul.Left&&this.inside||this.position===Ul.Right&&!this.inside},r.prototype.createTicksImp=function(){var t=this,n,i,o=this.getRange(),s=o.displayFrom,u=o.displayTo,d=o.displayRange,h=[];if(d>=0){var g=f8(d/cp),v=g8(g),y=T2(Math.ceil(s/g)*g,v),C=T2(Math.floor(u/g)*g,v),w=0,_=y;if(g!==0)for(;_<=C;){var E=_.toFixed(v);h[w]={text:E,coord:0,value:E},++w,_+=g}}var T=this.getParent(),M=(i=(n=T.getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,I=T.getChart().getChartStore(),D=[],O=I.getIndicatorsByPaneId(T.getId()),N=I.getStyles(),F=0,V=!1;this.isInCandle()?F=I.getPrecision().price:O.forEach(function(Y){F=Math.max(F,Y.precision),V||(V=Y.shouldFormatBigNumber)});var W=I.getCustomApi(),Z=I.getThousandsSeparator(),J=I.getDecimalFold(),he=N.xAxis.tickText.size,H=NaN;return h.forEach(function(Y){var K=Y.value,ne=t.displayValueToText(+K,F),re=t.convertToPixel(t.realValueToValue(t.displayValueToRealValue(+K,{range:o}),{range:o}));V&&(ne=W.formatBigNumber(K)),ne=J.format(Z.format(ne));var Q=at(H);re>he&&re<M-he&&(Q&&Math.abs(H-re)>he*2||!Q)&&(D.push({text:ne,coord:re,value:K}),H=re)}),di(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:D}):D},r.prototype.getAutoSize=function(){var t=this.getParent(),n=t.getChart(),i=n.getChartStore(),o=i.getStyles(),s=o.yAxis,u=s.size;if(u!=="auto")return u;var d=0;if(s.show&&(s.axisLine.show&&(d+=s.axisLine.size),s.tickLine.show&&(d+=s.tickLine.length),s.tickText.show)){var h=0;this.getTicks().forEach(function(I){h=Math.max(h,Fd(I.text,s.tickText.size,s.tickText.weight,s.tickText.family))}),d+=s.tickText.marginStart+s.tickText.marginEnd+h}var g=o.crosshair,v=0;if(g.show&&g.horizontal.show&&g.horizontal.text.show){var y=i.getIndicatorsByPaneId(t.getId()),C=0,w=!1;y.forEach(function(I){C=Math.max(I.precision,C),w||(w=I.shouldFormatBigNumber)});var _=2;if(this.isInCandle()){var E=i.getPrecision().price,T=o.indicator.lastValueMark;T.show&&T.text.show?_=Math.max(C,E):_=E}else _=C;var M=oi(this.getRange().displayTo,_);w&&(M=i.getCustomApi().formatBigNumber(M)),M=i.getDecimalFold().format(M),v+=g.horizontal.text.paddingLeft+g.horizontal.text.paddingRight+g.horizontal.text.borderSize*2+Fd(M,g.horizontal.text.size,g.horizontal.text.weight,g.horizontal.text.family)}return Math.max(d,v)},r.prototype.getBounding=function(){return this.getParent().getYAxisWidget().getBounding()},r.prototype.convertFromPixel=function(t){var n=this.getBounding().height,i=this.getRange(),o=i.realFrom,s=i.realRange,u=this.reverse?t/n:1-t/n,d=u*s+o;return this.realValueToValue(d,{range:i})},r.prototype.convertToPixel=function(t){var n,i,o=this.getRange(),s=this.valueToRealValue(t,{range:o}),u=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,d=o.realFrom,h=o.realRange,g=(s-d)/h;return this.reverse?Math.round(g*u):Math.round((1-g)*u)},r.prototype.convertToNicePixel=function(t){var n,i,o=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,s=this.convertToPixel(t);return Math.round(Math.max(o*.05,Math.min(s,o*.98)))},r.extend=function(t){var n=function(i){Vt(o,i);function o(s){return i.call(this,s,t)||this}return o}(r);return n},r}(Em),Q7={name:"normal"},J7={name:"percentage",minSpan:function(){return Math.pow(10,-2)},displayValueToText:function(e){return"".concat(oi(e,2),"%")},valueToRealValue:function(e,r){var t=r.range;return(e-t.from)/t.range*t.realRange+t.realFrom},realValueToValue:function(e,r){var t=r.range;return(e-t.realFrom)/t.realRange*t.range+t.from},createRange:function(e){var r=e.chart,t=e.defaultRange,n=r.getDataList(),i=r.getVisibleRange(),o=n[i.from];if(ve(o)){var s=t.from,u=t.to,d=t.range,h=(t.from-o.close)/o.close*100,g=(t.to-o.close)/o.close*100,v=g-h;return{from:s,to:u,range:d,realFrom:h,realTo:g,realRange:v,displayFrom:h,displayTo:g,displayRange:v}}return t}},e4={name:"logarithm",minSpan:function(e){return .05*Uc(-e)},valueToRealValue:function(e){return e<0?-Rl(Math.abs(e)):Rl(e)},realValueToDisplayValue:function(e){return e<0?-Uc(Math.abs(e)):Uc(e)},displayValueToRealValue:function(e){return e<0?-Rl(Math.abs(e)):Rl(e)},realValueToValue:function(e){return e<0?-Uc(Math.abs(e)):Uc(e)},createRange:function(e){var r=e.defaultRange,t=r.from,n=r.to,i=r.range,o=t<0?-Rl(Math.abs(t)):Rl(t),s=n<0?-Rl(Math.abs(n)):Rl(n);return{from:t,to:n,range:i,realFrom:o,realTo:s,realRange:s-o,displayFrom:t,displayTo:n,displayRange:i}}},R2={normal:bp.extend(Q7),percentage:bp.extend(J7),logarithm:bp.extend(e4)};function t4(e){var r;return(r=R2[e])!==null&&r!==void 0?r:R2.normal}var Lm=function(){function e(r,t,n,i){this._bounding=Ap(),this._originalBounding=Ap(),this._visible=!0,this._chart=n,this._id=i,this._init(r,t)}return e.prototype._init=function(r,t){this._rootContainer=r,this._container=Zl("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"}),t!==null?r.insertBefore(this._container,t):r.appendChild(this._container)},e.prototype.getContainer=function(){return this._container},e.prototype.setVisible=function(r){this._visible!==r&&(this._container.style.display=r?"block":"none",this._visible=r)},e.prototype.getVisible=function(){return this._visible},e.prototype.getId=function(){return this._id},e.prototype.getChart=function(){return this._chart},e.prototype.getBounding=function(){return this._bounding},e.prototype.setOriginalBounding=function(r){sn(this._originalBounding,r)},e.prototype.getOriginalBounding=function(){return this._originalBounding},e.prototype.update=function(r){this._bounding.height!==this._container.clientHeight&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(r??3,this._container,this._bounding)},e.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},e}(),Pm=function(e){Vt(r,e);function r(t,n,i,o,s){var u=e.call(this,t,n,i,o)||this;u._yAxisWidget=null,u._options={id:"",minHeight:wp,dragEnabled:!0,order:0,height:hm,state:"normal",axis:{name:"normal",scrollZoomEnabled:!0}};var d=u.getContainer();return u._mainWidget=u.createMainWidget(d),u._yAxisWidget=u.createYAxisWidget(d),u.setOptions(s),u}return r.prototype.setOptions=function(t){var n,i,o,s,u,d=this.getId();if(d===Bt.CANDLE||d===Bt.X_AXIS){var h=(n=t.axis)===null||n===void 0?void 0:n.name;(!ve(this._axis)||ve(h)&&this._options.axis.name!==h)&&(this._axis=this.createAxisComponent(h??"normal"))}else ve(this._axis)||(this._axis=this.createAxisComponent("normal"));this._axis instanceof bp&&this._axis.setAutoCalcTickFlag(!0),sn(this._options,t),this._axis.override(Qe(Qe({},this._options.axis),{name:(o=(i=t.axis)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:"normal"}));var g=null,v="default";return this.getId()===Bt.X_AXIS?(g=this.getMainWidget().getContainer(),v="ew-resize"):(g=this.getYAxisWidget().getContainer(),v="ns-resize"),!((u=(s=t.axis)===null||s===void 0?void 0:s.scrollZoomEnabled)!==null&&u!==void 0)||u?g.style.cursor=v:g.style.cursor="default",this},r.prototype.getOptions=function(){return this._options},r.prototype.getAxisComponent=function(){return this._axis},r.prototype.setBounding=function(t,n,i,o){var s,u,d,h;sn(this.getBounding(),t);var g={};ve(t.height)&&(g.height=t.height),ve(t.top)&&(g.top=t.top),this._mainWidget.setBounding(g);var v=ve(n);if(v&&this._mainWidget.setBounding(n),ve(this._yAxisWidget)){this._yAxisWidget.setBounding(g);var y=this._axis;y.position===Ul.Left?ve(i)&&this._yAxisWidget.setBounding(Qe(Qe({},i),{left:0})):ve(o)&&(this._yAxisWidget.setBounding(o),v&&this._yAxisWidget.setBounding({left:((s=n.left)!==null&&s!==void 0?s:0)+((u=n.width)!==null&&u!==void 0?u:0)+((d=n.right)!==null&&d!==void 0?d:0)-((h=o.width)!==null&&h!==void 0?h:0)}))}return this},r.prototype.getMainWidget=function(){return this._mainWidget},r.prototype.getYAxisWidget=function(){return this._yAxisWidget},r.prototype.updateImp=function(t){var n;this._mainWidget.update(t),(n=this._yAxisWidget)===null||n===void 0||n.update(t)},r.prototype.destroy=function(){var t;e.prototype.destroy.call(this),this._mainWidget.destroy(),(t=this._yAxisWidget)===null||t===void 0||t.destroy()},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=Zl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),u=s.getContext("2d"),d=Ns(s);s.width=i*d,s.height=o*d,u.scale(d,d);var h=this._mainWidget.getBounding();if(u.drawImage(this._mainWidget.getImage(t),h.left,0,h.width,h.height),this._yAxisWidget!==null){var g=this._yAxisWidget.getBounding();u.drawImage(this._yAxisWidget.getImage(t),g.left,0,g.width,g.height)}return s},r.prototype.createYAxisWidget=function(t){return null},r}(Lm),Am=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createAxisComponent=function(t){var n=t4(t??"default");return new n(this)},r.prototype.createMainWidget=function(t){return new Sm(t,this)},r.prototype.createYAxisWidget=function(t){return new q7(t,this)},r}(Pm),r4=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createMainWidget=function(t){return new Y7(t,this)},r}(Am),n4=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAxisStyles=function(t){return t.xAxis},r.prototype.createAxisLine=function(t){return{coordinates:[{x:0,y:0},{x:t.width,y:0}]}},r.prototype.createTickLines=function(t,n,i){var o=i.tickLine,s=i.axisLine.size;return t.map(function(u){return{coordinates:[{x:u.coord,y:0},{x:u.coord,y:s+o.length}]}})},r.prototype.createTickTexts=function(t,n,i){var o=i.tickText,s=i.axisLine.size,u=i.tickLine.length;return t.map(function(d){return{x:d.coord,y:s+u+o.marginStart,text:d.text,align:"center",baseline:"top"}})},r}(Mm),i4=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},r.prototype.coordinateToPointValueFlag=function(){return!1},r.prototype.getCompleteOverlays=function(){return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()},r.prototype.getProgressOverlay=function(){var t,n;return(n=(t=this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo())===null||t===void 0?void 0:t.overlay)!==null&&n!==void 0?n:null},r.prototype.getDefaultFigures=function(t,n){var i,o=[],s=this.getWidget(),u=s.getPane(),d=u.getChart().getChartStore(),h=d.getClickOverlayInfo();if(t.needDefaultXAxisFigure&&t.id===((i=h.overlay)===null||i===void 0?void 0:i.id)){var g=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;n.forEach(function(y,C){g=Math.min(g,y.x),v=Math.max(v,y.x);var w=t.points[C];if(at(w.timestamp)){var _=d.getCustomApi().formatDate(w.timestamp,"YYYY-MM-DD HH:mm",_i.Crosshair);o.push({type:"text",attrs:{x:y.x,y:0,text:_,align:"center"},ignoreEvent:!0})}}),n.length>1&&o.unshift({type:"rect",attrs:{x:g,y:0,width:v-g,height:s.getBounding().height},ignoreEvent:!0})}return o},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),g=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createXAxisFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:g,yAxis:h}))!==null&&o!==void 0?o:[]},r}(Tm),a4=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.compare=function(t){return ve(t.timestamp)},r.prototype.getDirectionStyles=function(t){return t.vertical},r.prototype.getText=function(t,n){var i=t.timestamp;return n.getCustomApi().formatDate(i,"YYYY-MM-DD HH:mm",_i.Crosshair)},r.prototype.getTextAttrs=function(t,n,i,o,s,u){var d=i.realX,h=0,g="center";return d-n/2-u.paddingLeft<0?(h=0,g="left"):d+n/2+u.paddingRight>o.width?(h=o.width,g="right"):h=d,{x:h,y:0,text:t,align:g,baseline:"top"}},r}(Im),o4=function(e){Vt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._xAxisView=new n4(i),i._overlayXAxisView=new i4(i),i._crosshairVerticalLabelView=new a4(i),i.getContainer().style.cursor="ew-resize",i.addChild(i._overlayXAxisView),i}return r.prototype.getName=function(){return jt.X_AXIS},r.prototype.updateMain=function(t){this._xAxisView.draw(t)},r.prototype.updateOverlay=function(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)},r}(hv),l4=function(e){Vt(r,e);function r(t,n){var i=e.call(this,t)||this;return i.override(n),i}return r.prototype.override=function(t){var n=t.name,i=t.scrollZoomEnabled,o=t.createTicks;Pr(this.name)||(this.name=n),this.scrollZoomEnabled=i??this.scrollZoomEnabled,this.createTicks=o??this.createTicks},r.prototype.createRangeImp=function(){var t=this.getParent().getChart().getChartStore(),n=t.getVisibleRange(),i=n.realFrom,o=n.realTo,s=i,u=o,d=o-i+1,h={from:s,to:u,range:d,realFrom:s,realTo:u,realRange:d,displayFrom:s,displayTo:u,displayRange:d};return h},r.prototype.createTicksImp=function(){var t=this,n=this.getRange(),i=n.realFrom,o=n.realTo,s=this.getParent().getChart().getChartStore(),u=s.getCustomApi().formatDate,d=s.getTimeWeightTickList(),h=[],g=function(I,D){var O,N;try{for(var F=Ui(I),V=F.next();!V.done;V=F.next()){var W=V.value;if(W.dataIndex>=D&&W.dataIndex<o){var Z=W.timestamp,J=W.weight,he=W.dataIndex,H="";switch(J){case da.Year:{H=u(Z,"YYYY",_i.XAxis);break}case da.Month:{H=u(Z,"YYYY-MM",_i.XAxis);break}case da.Day:{H=u(Z,"MM-DD",_i.XAxis);break}case da.Hour:case da.Minute:{H=u(Z,"HH:mm",_i.XAxis);break}case da.Second:{H=u(Z,"mm:ss",_i.XAxis);break}default:{H=u(Z,"YYYY-MM-DD HH:mm",_i.XAxis);break}}h.push({coord:t.convertToPixel(he),value:Z,text:H})}}}catch(Y){O={error:Y}}finally{try{V&&!V.done&&(N=F.return)&&N.call(F)}finally{if(O)throw O.error}}};if(g(d,i),d.length>0){for(var v=s.getBarSpace().bar,y=s.getStyles().xAxis.tickText,C=om(v,y),w=d[d.length-1].dataIndex+C-1,_=[],E=w;E<o;E++){var T=s.dataIndexToTimestamp(E);at(T)&&_.push({timestamp:T})}if(_.length>0){var M=new Map;am(M,_,s.getDateTimeFormat(),w),g(Hg(M,v,y),w)}}return di(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:h}):h},r.prototype.getAutoSize=function(){var t=this.getParent().getChart().getStyles(),n=t.xAxis,i=n.size;if(i!=="auto")return i;var o=t.crosshair,s=0;n.show&&(n.axisLine.show&&(s+=n.axisLine.size),n.tickLine.show&&(s+=n.tickLine.length),n.tickText.show&&(s+=n.tickText.marginStart+n.tickText.marginEnd+n.tickText.size));var u=0;return o.show&&o.vertical.show&&o.vertical.text.show&&(u+=o.vertical.text.paddingTop+o.vertical.text.paddingBottom+o.vertical.text.borderSize*2+o.vertical.text.size),Math.max(s,u)},r.prototype.getBounding=function(){return this.getParent().getMainWidget().getBounding()},r.prototype.convertTimestampFromPixel=function(t){var n=this.getParent().getChart().getChartStore(),i=n.coordinateToDataIndex(t);return n.dataIndexToTimestamp(i)},r.prototype.convertTimestampToPixel=function(t){var n=this.getParent().getChart().getChartStore(),i=n.timestampToDataIndex(t);return n.dataIndexToCoordinate(i)},r.prototype.convertFromPixel=function(t){return this.getParent().getChart().getChartStore().coordinateToDataIndex(t)},r.prototype.convertToPixel=function(t){return this.getParent().getChart().getChartStore().dataIndexToCoordinate(t)},r.extend=function(t){var n=function(i){Vt(o,i);function o(s){return i.call(this,s,t)||this}return o}(r);return n},r}(Em),s4={name:"normal"},O2={normal:l4.extend(s4)};function c4(e){var r;return(r=O2[e])!==null&&r!==void 0?r:O2.normal}var u4=function(e){Vt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createAxisComponent=function(t){var n=c4(t);return new n(this)},r.prototype.createMainWidget=function(t){return new o4(t,this)},r}(Pm);function d4(e,r){var t=0;return function(){var n=Date.now();n-t>r&&(e.apply(this,arguments),t=n)}}var h4=function(e){Vt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._dragFlag=!1,i._dragStartY=0,i._topPaneHeight=0,i._bottomPaneHeight=0,i._topPane=null,i._bottomPane=null,i._pressedMouseMoveEvent=d4(i._pressedTouchMouseMoveEvent,20),i.registerEvent("touchStartEvent",i._mouseDownEvent.bind(i)).registerEvent("touchMoveEvent",i._pressedMouseMoveEvent.bind(i)).registerEvent("touchEndEvent",i._mouseUpEvent.bind(i)).registerEvent("mouseDownEvent",i._mouseDownEvent.bind(i)).registerEvent("mouseUpEvent",i._mouseUpEvent.bind(i)).registerEvent("pressedMouseMoveEvent",i._pressedMouseMoveEvent.bind(i)).registerEvent("mouseEnterEvent",i._mouseEnterEvent.bind(i)).registerEvent("mouseLeaveEvent",i._mouseLeaveEvent.bind(i)),i}return r.prototype.getName=function(){return jt.SEPARATOR},r.prototype.checkEventOn=function(){return!0},r.prototype._mouseDownEvent=function(t){var n=this;this._dragFlag=!0,this._dragStartY=t.pageY;var i=this.getPane(),o=i.getChart();this._topPane=i.getTopPane(),this._bottomPane=i.getBottomPane();var s=o.getDrawPanes();if(this._topPane.getOptions().state==="minimize")for(var u=s.findIndex(function(v){var y;return v.getId()===((y=n._topPane)===null||y===void 0?void 0:y.getId())}),d=u-1;d>-1;d--){var h=s[d];if(h.getOptions().state!=="minimize"){this._topPane=h;break}}if(this._bottomPane.getOptions().state==="minimize")for(var u=s.findIndex(function(C){var w;return C.getId()===((w=n._bottomPane)===null||w===void 0?void 0:w.getId())}),d=u+1;d<s.length;d++){var g=s[d];if(g.getOptions().state!=="minimize"){this._bottomPane=g;break}}return this._topPaneHeight=this._topPane.getBounding().height,this._bottomPaneHeight=this._bottomPane.getBounding().height,!0},r.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._topPane=null,this._bottomPane=null,this._topPaneHeight=0,this._bottomPaneHeight=0,this._mouseLeaveEvent()},r.prototype._pressedTouchMouseMoveEvent=function(t){var n=t.pageY-this._dragStartY,i=n<0;if(ve(this._topPane)&&ve(this._bottomPane)){var o=this._bottomPane.getOptions();if(this._topPane.getOptions().state!=="minimize"&&o.state!=="minimize"&&o.dragEnabled){var s=null,u=null,d=0,h=0;i?(s=this._topPane,u=this._bottomPane,d=this._topPaneHeight,h=this._bottomPaneHeight):(s=this._bottomPane,u=this._topPane,d=this._bottomPaneHeight,h=this._topPaneHeight);var g=s.getOptions().minHeight;if(d>g){var v=Math.max(d-Math.abs(n),g),y=d-v;s.setBounding({height:v}),u.setBounding({height:h+y});var C=this.getPane(),w=C.getChart();w.getChartStore().executeAction(ci.OnPaneDrag,{paneId:C.getId()}),w.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}}}return!0},r.prototype._mouseEnterEvent=function(){var t=this.getPane(),n=t.getBottomPane();if(n.getOptions().dragEnabled){var i=t.getChart(),o=i.getStyles().separator;return this.getContainer().style.background=o.activeBackgroundColor,!0}return!1},r.prototype._mouseLeaveEvent=function(){return this._dragFlag?!1:(this.getContainer().style.background="transparent",!0)},r.prototype.createContainer=function(){return Zl("div",{width:"100%",height:"".concat(Ld,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},r.prototype.updateImp=function(t,n,i){if(i===4||i===2){var o=this.getPane().getChart().getStyles().separator;t.style.top="".concat(-Math.floor((Ld-o.size)/2),"px"),t.style.height="".concat(Ld,"px")}},r}(pm),N2=function(e){Vt(r,e);function r(t,n,i,o,s,u){var d=e.call(this,t,n,i,o)||this;return d.getContainer().style.overflow="",d._topPane=s,d._bottomPane=u,d._separatorWidget=new h4(d.getContainer(),d),d}return r.prototype.setBounding=function(t){return sn(this.getBounding(),t),this},r.prototype.getTopPane=function(){return this._topPane},r.prototype.setTopPane=function(t){return this._topPane=t,this},r.prototype.getBottomPane=function(){return this._bottomPane},r.prototype.setBottomPane=function(t){return this._bottomPane=t,this},r.prototype.getWidget=function(){return this._separatorWidget},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=this.getChart().getStyles().separator,u=Zl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),d=u.getContext("2d"),h=Ns(u);return u.width=i*h,u.height=o*h,d.scale(h,h),d.fillStyle=s.color,d.fillRect(0,0,i,o),u},r.prototype.updateImp=function(t,n,i){if(t===4||t===2){var o=this.getChart().getStyles().separator;n.style.backgroundColor=o.color,n.style.height="".concat(i.height,"px"),n.style.marginLeft="".concat(i.left,"px"),n.style.width="".concat(i.width,"px"),this._separatorWidget.update(t)}},r}(Lm);function z2(){return typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("firefox")}function gg(){return typeof window>"u"?!1:/iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)}var x0={CancelClick:5,CancelTap:5,DoubleClick:5,DoubleTap:30},wd={Left:0,Middle:1,Right:2},p4=10,f4=function(){function e(r,t,n){var i=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!gg(),this._onFirefoxOutsideMouseUp=function(o){i._mouseUpHandler(o)},this._onMobileSafariDoubleClick=function(o){if(i._firesTouchEvents(o)){if(++i._tapCount,i._tapTimeoutId!==null&&i._tapCount>1){var s=i._mouseTouchMoveWithDownInfo(i._getCoordinate(o),i._tapCoordinate).manhattanDistance;s<x0.DoubleTap&&!i._cancelTap&&i._processEvent(i._makeCompatEvent(o),i._handler.doubleTapEvent),i._resetTapTimeout()}}else if(++i._clickCount,i._clickTimeoutId!==null&&i._clickCount>1){var s=i._mouseTouchMoveWithDownInfo(i._getCoordinate(o),i._clickCoordinate).manhattanDistance;s<x0.DoubleClick&&!i._cancelClick&&i._processEvent(i._makeCompatEvent(o),i._handler.mouseDoubleClickEvent),i._resetClickTimeout()}},this._target=r,this._handler=t,this._options=n,this._init()}return e.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},e.prototype._mouseEnterHandler=function(r){var t=this,n,i,o;(n=this._unsubscribeMousemove)===null||n===void 0||n.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(o=this._unsubscribeContextMenu)===null||o===void 0||o.call(this);var s=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){t._target.removeEventListener("mousemove",s)},this._target.addEventListener("mousemove",s);var u=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){t._target.removeEventListener("wheel",u)},this._target.addEventListener("wheel",u,{passive:!1});var d=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){t._target.removeEventListener("contextmenu",d)},this._target.addEventListener("contextmenu",d,{passive:!1}),!this._firesTouchEvents(r)&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},e.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._mouseMoveHandler=function(r){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(r)||(this._processEvent(this._makeCompatEvent(r),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},e.prototype._mouseWheelHandler=function(r){if(Math.abs(r.deltaX)>Math.abs(r.deltaY)){if(!ve(this._handler.mouseWheelHortEvent)||(this._preventDefault(r),Math.abs(r.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(r),-r.deltaX)}else{if(!ve(this._handler.mouseWheelVertEvent))return;var t=-(r.deltaY/100);if(t===0)return;switch(this._preventDefault(r),r.deltaMode){case r.DOM_DELTA_PAGE:{t*=120;break}case r.DOM_DELTA_LINE:{t*=32;break}}if(t!==0){var n=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(r),n)}}},e.prototype._contextMenuHandler=function(r){this._preventDefault(r)},e.prototype._touchMoveHandler=function(r){var t=this._touchWithId(r.changedTouches,this._activeTouchId);if(t!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(r),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),i=n.xOffset,o=n.yOffset,s=n.manhattanDistance;if(!(!this._touchMoveExceededManhattanDistance&&s<x0.CancelTap)){if(!this._touchMoveExceededManhattanDistance){var u=i*.5,d=o>=u&&!this._options.treatVertDragAsPageScroll(),h=u>o&&!this._options.treatHorzDragAsPageScroll();!d&&!h&&(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(r,t),this._handler.touchMoveEvent)}}},e.prototype._mouseMoveWithDownHandler=function(r){if(r.button===wd.Left){var t=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._mouseMoveStartCoordinate),n=t.manhattanDistance;n>=x0.CancelClick&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(r),this._handler.pressedMouseMoveEvent)}},e.prototype._mouseTouchMoveWithDownInfo=function(r,t){var n=Math.abs(t.x-r.x),i=Math.abs(t.y-r.y),o=n+i;return{xOffset:n,yOffset:i,manhattanDistance:o}},e.prototype._touchEndHandler=function(r){var t=this._touchWithId(r.changedTouches,this._activeTouchId);if(t===null&&r.touches.length===0&&(t=r.changedTouches[0]),t!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(r),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var n=this._makeCompatEvent(r,t);if(this._processEvent(n,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1){var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance;i<x0.DoubleTap&&!this._cancelTap&&this._processEvent(n,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processEvent(n,this._handler.tapEvent),ve(this._handler.tapEvent)&&this._preventDefault(r));this._tapCount===0&&this._preventDefault(r),r.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(r))}},e.prototype._mouseUpHandler=function(r){if(r.button===wd.Left){var t=this._makeCompatEvent(r);if(this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),z2()){var n=this._target.ownerDocument.documentElement;n.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp)}if(!this._firesTouchEvents(r))if(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1){var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._clickCoordinate).manhattanDistance;i<x0.DoubleClick&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent)}},e.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},e.prototype._touchStartHandler=function(r){if(this._activeTouchId===null){var t=r.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(r);var n=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);{var i=this._touchMoveHandler.bind(this),o=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){n.removeEventListener("touchmove",i),n.removeEventListener("touchend",o)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,r),500)}this._processEvent(this._makeCompatEvent(r,t),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapCoordinate=this._getCoordinate(t))}},e.prototype._mouseDownHandler=function(r){if(r.button===wd.Right){this._preventDefault(r),this._processEvent(this._makeCompatEvent(r),this._handler.mouseRightClickEvent);return}if(r.button===wd.Left){var t=this._target.ownerDocument.documentElement;z2()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(r),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);{var n=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",n),t.removeEventListener("mouseup",i)},t.addEventListener("mousemove",n),t.addEventListener("mouseup",i)}this._mousePressed=!0,!this._firesTouchEvents(r)&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickCoordinate=this._getCoordinate(r)))}},e.prototype._init=function(){var r=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));{var t=this._target.ownerDocument,n=function(i){r._handler.mouseDownOutsideEvent!=null&&(i.composed&&r._target.contains(i.composedPath()[0])||i.target!==null&&r._target.contains(i.target)||r._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",n)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",n)},t.addEventListener("mousedown",n),t.addEventListener("touchstart",n,{passive:!0})}gg()&&(this._unsubscribeMobileSafariEvents=function(){r._target.removeEventListener("dblclick",r._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(i){if(i.button===wd.Middle)return i.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},e.prototype._initPinch=function(){var r=this;!ve(this._handler.pinchStartEvent)&&!ve(this._handler.pinchEvent)&&!ve(this._handler.pinchEndEvent)||(this._target.addEventListener("touchstart",function(t){r._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){if(!(t.touches.length!==2||r._startPinchMiddleCoordinate===null)&&ve(r._handler.pinchEvent)){var n=r._getTouchDistance(t.touches[0],t.touches[1]),i=n/r._startPinchDistance;r._handler.pinchEvent(Qe(Qe({},r._startPinchMiddleCoordinate),{pageX:0,pageY:0}),i),r._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",function(t){r._checkPinchState(t.touches)}))},e.prototype._checkPinchState=function(r){r.length===1&&(this._pinchPrevented=!1),r.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(r)},e.prototype._startPinch=function(r){var t=this._target.getBoundingClientRect();this._startPinchMiddleCoordinate={x:(r[0].clientX-t.left+(r[1].clientX-t.left))/2,y:(r[0].clientY-t.top+(r[1].clientY-t.top))/2},this._startPinchDistance=this._getTouchDistance(r[0],r[1]),ve(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},e.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,ve(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},e.prototype._mouseLeaveHandler=function(r){var t,n,i;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(n=this._unsubscribeMouseWheel)===null||n===void 0||n.call(this),(i=this._unsubscribeContextMenu)===null||i===void 0||i.call(this),!this._firesTouchEvents(r)&&this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!gg())},e.prototype._longTapHandler=function(r){var t=this._touchWithId(r.touches,this._activeTouchId);t!==null&&(this._processEvent(this._makeCompatEvent(r,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},e.prototype._firesTouchEvents=function(r){var t;return ve((t=r.sourceCapabilities)===null||t===void 0?void 0:t.firesTouchEvents)?r.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(r)<this._lastTouchEventTimeStamp+500},e.prototype._processEvent=function(r,t){t==null||t.call(this._handler,r)},e.prototype._makeCompatEvent=function(r,t){var n=this,i=t??r,o=this._target.getBoundingClientRect();return{x:i.clientX-o.left,y:i.clientY-o.top,pageX:i.pageX,pageY:i.pageY,isTouch:!r.type.startsWith("mouse")&&r.type!=="contextmenu"&&r.type!=="click"&&r.type!=="wheel",preventDefault:function(){r.type!=="touchstart"&&n._preventDefault(r)}}},e.prototype._getTouchDistance=function(r,t){var n=r.clientX-t.clientX,i=r.clientY-t.clientY;return Math.sqrt(n*n+i*i)},e.prototype._preventDefault=function(r){r.cancelable&&r.preventDefault()},e.prototype._getCoordinate=function(r){return{x:r.pageX,y:r.pageY}},e.prototype._eventTimeStamp=function(r){var t;return(t=r.timeStamp)!==null&&t!==void 0?t:performance.now()},e.prototype._touchWithId=function(r,t){for(var n=0;n<r.length;++n)if(r[n].identifier===t)return r[n];return null},e}(),g4=function(){function e(r,t){var n=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(i){if(i.shiftKey)switch(i.code){case"Equal":{n._chart.getChartStore().zoom(.5);break}case"Minus":{n._chart.getChartStore().zoom(-.5);break}case"ArrowLeft":{var o=n._chart.getChartStore();o.startScroll(),o.scroll(-3*o.getBarSpace().bar);break}case"ArrowRight":{var o=n._chart.getChartStore();o.startScroll(),o.scroll(3*o.getBarSpace().bar);break}}},this._container=r,this._chart=t,this._event=new f4(r,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),r.addEventListener("keydown",this._boundKeyBoardDownEvent)}return e.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},e.prototype.pinchEvent=function(r,t){var n=this._findWidgetByEvent(r),i=n.pane,o=n.widget;if((i==null?void 0:i.getId())!==Bt.X_AXIS&&(o==null?void 0:o.getName())===jt.MAIN){var s=this._makeWidgetEvent(r,o),u=(t-this._pinchScale)*5;return this._pinchScale=t,this._chart.getChartStore().zoom(u,{x:s.x,y:s.y}),!0}return!1},e.prototype.mouseWheelHortEvent=function(r,t){var n=this._chart.getChartStore();return n.startScroll(),n.scroll(t),!0},e.prototype.mouseWheelVertEvent=function(r,t){var n=this._findWidgetByEvent(r).widget,i=this._makeWidgetEvent(r,n),o=n==null?void 0:n.getName();return o===jt.MAIN?(this._chart.getChartStore().zoom(t,{x:i.x,y:i.y}),!0):!1},e.prototype.mouseDownEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(this._mouseDownWidget=i,i!==null){var o=this._makeWidgetEvent(r,i),s=i.getName();switch(s){case jt.SEPARATOR:return i.dispatchEvent("mouseDownEvent",o);case jt.MAIN:{var u=n.getAxisComponent().getRange();return this._prevYAxisRange=Qe({},u),this._startScrollCoordinate={x:o.x,y:o.y},this._chart.getChartStore().startScroll(),i.dispatchEvent("mouseDownEvent",o)}case jt.X_AXIS:{var d=i.dispatchEvent("mouseDownEvent",o);return d&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:o.x,y:o.y},this._xAxisStartScaleDistance=o.pageX,d}case jt.Y_AXIS:{var d=i.dispatchEvent("mouseDownEvent",o);d&&this._chart.updatePane(1);var u=n.getAxisComponent().getRange();return this._prevYAxisRange=Qe({},u),this._yAxisStartScaleDistance=o.pageY,d}}}return!1},e.prototype.mouseMoveEvent=function(r){var t,n,i,o=this._findWidgetByEvent(r),s=o.pane,u=o.widget,d=this._makeWidgetEvent(r,u);if((((t=this._mouseMoveTriggerWidgetInfo.pane)===null||t===void 0?void 0:t.getId())!==(s==null?void 0:s.getId())||((n=this._mouseMoveTriggerWidgetInfo.widget)===null||n===void 0?void 0:n.getName())!==(u==null?void 0:u.getName()))&&(u==null||u.dispatchEvent("mouseEnterEvent",d),(i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0||i.dispatchEvent("mouseLeaveEvent",d),this._mouseMoveTriggerWidgetInfo={pane:s,widget:u}),u!==null){var h=u.getName();switch(h){case jt.MAIN:{var g=u.dispatchEvent("mouseMoveEvent",d),v=this._chart.getChartStore(),y={x:d.x,y:d.y,paneId:s==null?void 0:s.getId()};return g&&v.getActiveTooltipIcon()!==null&&(y=void 0,u.getContainer().style.cursor="pointer"),this._chart.getChartStore().setCrosshair(y),g}case jt.SEPARATOR:case jt.X_AXIS:case jt.Y_AXIS:{var g=u.dispatchEvent("mouseMoveEvent",d);return this._chart.getChartStore().setCrosshair(),g}}}return!1},e.prototype.pressedMouseMoveEvent=function(r){var t,n,i;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===jt.SEPARATOR)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",r);var o=this._findWidgetByEvent(r),s=o.pane,u=o.widget;if(u!==null&&((t=this._mouseDownWidget)===null||t===void 0?void 0:t.getPane().getId())===(s==null?void 0:s.getId())&&((n=this._mouseDownWidget)===null||n===void 0?void 0:n.getName())===u.getName()){var d=this._makeWidgetEvent(r,u),h=u.getName();switch(h){case jt.MAIN:{var g=u.getBounding(),v=u.dispatchEvent("pressedMouseMoveEvent",d);if(!v&&this._startScrollCoordinate!==null){var y=s.getAxisComponent();if(this._prevYAxisRange!==null&&!y.getAutoCalcTickFlag()&&y.scrollZoomEnabled){var C=this._prevYAxisRange,w=C.from,_=C.to,E=C.range,T=0;y.reverse?T=this._startScrollCoordinate.y-d.y:T=d.y-this._startScrollCoordinate.y;var M=T/g.height,I=E*M,D=w+I,O=_+I,N=y.valueToRealValue(D,{range:this._prevYAxisRange}),F=y.valueToRealValue(O,{range:this._prevYAxisRange}),V=y.realValueToDisplayValue(N,{range:this._prevYAxisRange}),W=y.realValueToDisplayValue(F,{range:this._prevYAxisRange});y.setRange({from:D,to:O,range:O-D,realFrom:N,realTo:F,realRange:F-N,displayFrom:V,displayTo:W,displayRange:W-V})}var Z=d.x-this._startScrollCoordinate.x;this._chart.getChartStore().scroll(Z)}return this._chart.getChartStore().setCrosshair({x:d.x,y:d.y,paneId:s==null?void 0:s.getId()}),v}case jt.X_AXIS:{var v=u.dispatchEvent("pressedMouseMoveEvent",d);if(v)this._chart.updatePane(1);else{var J=s.getAxisComponent();if(J.scrollZoomEnabled){var M=this._xAxisStartScaleDistance/d.pageX;if(Number.isFinite(M)){var he=(M-this._xAxisScale)*10;this._xAxisScale=M,this._chart.getChartStore().zoom(he,(i=this._xAxisStartScaleCoordinate)!==null&&i!==void 0?i:void 0)}}}return v}case jt.Y_AXIS:{var v=u.dispatchEvent("pressedMouseMoveEvent",d);if(v)this._chart.updatePane(1);else{var y=s.getAxisComponent();if(this._prevYAxisRange!==null&&y.scrollZoomEnabled){var H=this._prevYAxisRange,w=H.from,_=H.to,E=H.range,M=d.pageY/this._yAxisStartScaleDistance,Y=E*M,I=(Y-E)/2,D=w-I,O=_+I,N=y.valueToRealValue(D,{range:this._prevYAxisRange}),F=y.valueToRealValue(O,{range:this._prevYAxisRange}),V=y.realValueToDisplayValue(N,{range:this._prevYAxisRange}),W=y.realValueToDisplayValue(F,{range:this._prevYAxisRange});y.setRange({from:D,to:O,range:Y,realFrom:N,realTo:F,realRange:F-N,displayFrom:V,displayTo:W,displayRange:W-V}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}}return v}}}return!1},e.prototype.mouseUpEvent=function(r){var t=this._findWidgetByEvent(r).widget,n=!1;if(t!==null){var i=this._makeWidgetEvent(r,t),o=t.getName();switch(o){case jt.MAIN:case jt.SEPARATOR:case jt.X_AXIS:case jt.Y_AXIS:{n=t.dispatchEvent("mouseUpEvent",i);break}}n&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,n},e.prototype.mouseClickEvent=function(r){var t=this._findWidgetByEvent(r).widget;if(t!==null){var n=this._makeWidgetEvent(r,t);return t.dispatchEvent("mouseClickEvent",n)}return!1},e.prototype.mouseRightClickEvent=function(r){var t=this._findWidgetByEvent(r).widget,n=!1;if(t!==null){var i=this._makeWidgetEvent(r,t),o=t.getName();switch(o){case jt.MAIN:case jt.X_AXIS:case jt.Y_AXIS:{n=t.dispatchEvent("mouseRightClickEvent",i);break}}n&&this._chart.updatePane(1)}return!1},e.prototype.mouseDoubleClickEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(i!==null){var o=i.getName();switch(o){case jt.MAIN:{var s=this._makeWidgetEvent(r,i);return i.dispatchEvent("mouseDoubleClickEvent",s)}case jt.Y_AXIS:{var u=n.getAxisComponent();if(!u.getAutoCalcTickFlag())return u.setAutoCalcTickFlag(!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),!0;break}}}return!1},e.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().setCrosshair(),!0},e.prototype.touchStartEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(i!==null){var o=this._makeWidgetEvent(r,i),s=i.getName();switch(s){case jt.MAIN:{var u=this._chart.getChartStore();if(i.dispatchEvent("mouseDownEvent",o))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,u.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._flingScrollRequestId!==null&&(S2(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime(),this._startScrollCoordinate={x:o.x,y:o.y},u.startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var d=o.x-this._touchCoordinate.x,h=o.y-this._touchCoordinate.y,g=Math.sqrt(d*d+h*h);g<p4?(this._touchCoordinate={x:o.x,y:o.y},u.setCrosshair({x:o.x,y:o.y,paneId:n==null?void 0:n.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,u.setCrosshair())}return!0}case jt.X_AXIS:case jt.Y_AXIS:{var v=i.dispatchEvent("mouseDownEvent",o);return v&&this._chart.updatePane(1),v}}}return!1},e.prototype.touchMoveEvent=function(r){var t,n,i,o=this._findWidgetByEvent(r),s=o.pane,u=o.widget;if(u!==null){var d=this._makeWidgetEvent(r,u),h=u.getName(),g=this._chart.getChartStore();switch(h){case jt.MAIN:{if(u.dispatchEvent("pressedMouseMoveEvent",d))return(t=d.preventDefault)===null||t===void 0||t.call(d),g.setCrosshair(void 0,!0),this._chart.updatePane(1),!0;if(this._touchCoordinate!==null)(n=d.preventDefault)===null||n===void 0||n.call(d),g.setCrosshair({x:d.x,y:d.y,paneId:s==null?void 0:s.getId()});else if(this._startScrollCoordinate!==null&&Math.abs(this._startScrollCoordinate.x-d.x)>this._startScrollCoordinate.y-d.y){var v=d.x-this._startScrollCoordinate.x;g.scroll(v)}return!0}case jt.X_AXIS:case jt.Y_AXIS:{var y=u.dispatchEvent("pressedMouseMoveEvent",d);return y&&((i=d.preventDefault)===null||i===void 0||i.call(d),this._chart.updatePane(1)),y}}}return!1},e.prototype.touchEndEvent=function(r){var t=this,n=this._findWidgetByEvent(r).widget;if(n!==null){var i=this._makeWidgetEvent(r,n),o=n.getName();switch(o){case jt.MAIN:{if(n.dispatchEvent("mouseUpEvent",i),this._startScrollCoordinate!==null){var s=new Date().getTime()-this._flingStartTime,u=i.x-this._startScrollCoordinate.x,d=u/(s>0?s:1)*20;if(s<200&&Math.abs(d)>0){var h=this._chart.getChartStore(),g=function(){t._flingScrollRequestId=Dp(function(){h.startScroll(),h.scroll(d),d=d*(1-.025),Math.abs(d)<1?t._flingScrollRequestId!==null&&(S2(t._flingScrollRequestId),t._flingScrollRequestId=null):g()})};g()}}return!0}case jt.X_AXIS:case jt.Y_AXIS:{var v=n.dispatchEvent("mouseUpEvent",i);v&&this._chart.updatePane(1)}}}return!1},e.prototype.tapEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget,o=!1;if(i!==null){var s=this._makeWidgetEvent(r,i),u=i.dispatchEvent("mouseClickEvent",s);if(i.getName()===jt.MAIN){var d=this._makeWidgetEvent(r,i),h=this._chart.getChartStore();u?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,h.setCrosshair(void 0,!0),o=!0):(!this._touchCancelCrosshair&&!this._touchZoomed&&(this._touchCoordinate={x:d.x,y:d.y},h.setCrosshair({x:d.x,y:d.y,paneId:n==null?void 0:n.getId()},!0),o=!0),this._touchCancelCrosshair=!1)}(o||u)&&this._chart.updatePane(1)}return o},e.prototype.doubleTapEvent=function(r){return this.mouseDoubleClickEvent(r)},e.prototype.longTapEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(i!==null&&i.getName()===jt.MAIN){var o=this._makeWidgetEvent(r,i);return this._touchCoordinate={x:o.x,y:o.y},this._chart.getChartStore().setCrosshair({x:o.x,y:o.y,paneId:n==null?void 0:n.getId()}),!0}return!1},e.prototype._findWidgetByEvent=function(r){var t,n,i,o,s=r.x,u=r.y,d=this._chart.getSeparatorPanes(),h=this._chart.getStyles().separator.size;try{for(var g=Ui(d),v=g.next();!v.done;v=g.next()){var y=Yl(v.value,2),C=y[1],w=C.getBounding(),_=w.top-Math.round((Ld-h)/2);if(s>=w.left&&s<=w.left+w.width&&u>=_&&u<=_+Ld)return{pane:C,widget:C.getWidget()}}}catch(Z){t={error:Z}}finally{try{v&&!v.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}var E=this._chart.getDrawPanes(),T=null;try{for(var M=Ui(E),I=M.next();!I.done;I=M.next()){var D=I.value,w=D.getBounding();if(s>=w.left&&s<=w.left+w.width&&u>=w.top&&u<=w.top+w.height){T=D;break}}}catch(Z){i={error:Z}}finally{try{I&&!I.done&&(o=M.return)&&o.call(M)}finally{if(i)throw i.error}}var O=null;if(T!==null){if(!ve(O)){var N=T.getMainWidget(),F=N.getBounding();s>=F.left&&s<=F.left+F.width&&u>=F.top&&u<=F.top+F.height&&(O=N)}if(!ve(O)){var V=T.getYAxisWidget();if(V!==null){var W=V.getBounding();s>=W.left&&s<=W.left+W.width&&u>=W.top&&u<=W.top+W.height&&(O=V)}}}return{pane:T,widget:O}},e.prototype._makeWidgetEvent=function(r,t){var n,i,o,s=(n=t==null?void 0:t.getBounding())!==null&&n!==void 0?n:null;return Qe(Qe({},r),{x:r.x-((i=s==null?void 0:s.left)!==null&&i!==void 0?i:0),y:r.y-((o=s==null?void 0:s.top)!==null&&o!==void 0?o:0)})},e.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},e}(),co;(function(e){e.Root="root",e.Main="main",e.YAxis="yAxis"})(co||(co={}));var v4=function(){function e(r,t){this._chartBounding=Ap(),this._drawPanes=[],this._separatorPanes=new Map,this._layoutOptions={measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!1,forceBuildYAxisTick:!1},this._layoutPending=!1,this._initContainer(r),this._chartEvent=new g4(this._chartContainer,this),this._chartStore=new w7(this,t),this._initPanes(t),this._layout()}return e.prototype._initContainer=function(r){this._container=r,this._chartContainer=Zl("div",{position:"relative",width:"100%",height:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",overflow:"hidden",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,r.appendChild(this._chartContainer),this._cacheChartBounding()},e.prototype._cacheChartBounding=function(){this._chartBounding.width=Math.floor(this._chartContainer.clientWidth),this._chartBounding.height=Math.floor(this._chartContainer.clientHeight)},e.prototype._initPanes=function(r){var t=this,n,i=(n=r==null?void 0:r.layout)!==null&&n!==void 0?n:[{type:"candle"}],o=function(u){var d,h;if(!ve(t._candlePane)){var g=(d=u.options)!==null&&d!==void 0?d:{};sn(g,{id:Bt.CANDLE}),t._candlePane=t._createPane(r4,Bt.CANDLE,g);var v=(h=u.content)!==null&&h!==void 0?h:[];v.forEach(function(y){t.createIndicator(y,!0,g)})}},s=function(u){if(!ve(t._xAxisPane)){var d=t._createPane(u4,Bt.X_AXIS,u??{});t._xAxisPane=d}};i.forEach(function(u){var d;switch(u.type){case"candle":{o(u);break}case"indicator":{var h=(d=u.content)!==null&&d!==void 0?d:[];if(h.length>0){var g=null;h.forEach(function(v){ve(g)?t.createIndicator(v,!0,{id:g}):g=t.createIndicator(v,!0,u.options)})}break}case"xAxis":{s(u.options);break}}}),o({}),s({order:Number.MAX_SAFE_INTEGER})},e.prototype._createPane=function(r,t,n){var i,o,s,u=null,d=null,h=(i=n==null?void 0:n.order)!==null&&i!==void 0?i:0,g=this._drawPanes.length;if(g>0&&(h<this._drawPanes[0].getOptions().order&&(d=new r(this._chartContainer,this._drawPanes[0].getContainer(),this,t,n??{}),u=0),!ve(d)))for(var v=1;v<this._drawPanes.length;v++){var y=this._drawPanes[v-1],C=this._drawPanes[v];if(h>=y.getOptions().order&&h<C.getOptions().order){var w=null;C.getId()!==Bt.X_AXIS?w=(s=(o=this._separatorPanes.get(C))===null||o===void 0?void 0:o.getContainer())!==null&&s!==void 0?s:null:w=C.getContainer(),d=new r(this._chartContainer,w,this,t,n??{}),u=v;break}}ve(d)||(d=new r(this._chartContainer,null,this,t,n??{}));var _=0;if(at(u)?(this._drawPanes.splice(u,0,d),_=u):(this._drawPanes.push(d),_=this._drawPanes.length-1),d.getId()!==Bt.X_AXIS){var E=this._drawPanes[_+1];if(ve(E)&&E.getId()===Bt.X_AXIS&&(E=this._drawPanes[_+2]),ve(E)){var T=this._separatorPanes.get(E);ve(T)?T.setTopPane(d):(T=new N2(this._chartContainer,E.getContainer(),this,"",d,E),this._separatorPanes.set(E,T))}var y=this._drawPanes[_-1];if(ve(y)&&y.getId()===Bt.X_AXIS&&(y=this._drawPanes[_-2]),ve(y)){var T=new N2(this._chartContainer,d.getContainer(),this,"",y,d);this._separatorPanes.set(d,T)}}return d},e.prototype._recalculatePaneHeight=function(r,t,n){if(n===0)return!1;var i=this._drawPanes.filter(function(v){var y=v.getId();return v.getOptions().state==="normal"&&y!==r.getId()&&y!==Bt.X_AXIS}),o=i.length;if(o===0)return!1;if(r.getId()!==Bt.CANDLE&&ve(this._candlePane)&&this._candlePane.getOptions().state==="normal"){var s=this._candlePane.getBounding().height;if(s>0){var u=this._candlePane.getOptions().minHeight,d=s+n;d<u&&(d=u,t-=s+n-d),this._candlePane.setBounding({height:d})}}else{var h=n,g=Math.floor(n/o);i.forEach(function(v,y){var C=v.getBounding().height,w=0;y===o-1?w=C+h:w=C+g,w<v.getOptions().minHeight&&(w=v.getOptions().minHeight),v.setBounding({height:w}),h-=w-C}),Math.abs(h)>0&&(t-=h)}return r.setBounding({height:t}),!0},e.prototype.getDrawPaneById=function(r){if(r===Bt.CANDLE)return this._candlePane;if(r===Bt.X_AXIS)return this._xAxisPane;var t=this._drawPanes.find(function(n){return n.getId()===r});return t??null},e.prototype.getContainer=function(){return this._container},e.prototype.getChartStore=function(){return this._chartStore},e.prototype.getXAxisPane=function(){return this._xAxisPane},e.prototype.getDrawPanes=function(){return this._drawPanes},e.prototype.getSeparatorPanes=function(){return this._separatorPanes},e.prototype.layout=function(r){var t=this,n,i,o,s,u;(n=r.measureHeight)!==null&&n!==void 0&&n&&(this._layoutOptions.measureHeight=r.measureHeight),(i=r.measureWidth)!==null&&i!==void 0&&i&&(this._layoutOptions.measureWidth=r.measureWidth),(o=r.update)!==null&&o!==void 0&&o&&(this._layoutOptions.update=r.update),(s=r.buildYAxisTick)!==null&&s!==void 0&&s&&(this._layoutOptions.buildYAxisTick=r.buildYAxisTick),(u=r.buildYAxisTick)!==null&&u!==void 0&&u&&(this._layoutOptions.forceBuildYAxisTick=r.forceBuildYAxisTick),this._layoutPending||(this._layoutPending=!0,Promise.resolve().then(function(d){t._layout(),t._layoutPending=!1}).catch(function(d){}))},e.prototype._layout=function(){var r=this,t=this._layoutOptions,n=t.measureHeight,i=t.measureWidth,o=t.update,s=t.buildYAxisTick,u=t.forceBuildYAxisTick;if(n){var d=this._chartBounding.height,h=this.getStyles().separator.size,g=this._xAxisPane.getAxisComponent().getAutoSize(),v=d-g;v<0&&(v=0),this._drawPanes.forEach(function(H){var Y=H.getId();if(ve(r._separatorPanes.get(H))&&(v-=h),Y!==Bt.X_AXIS&&Y!==Bt.CANDLE&&H.getVisible()){var K=H.getBounding().height;K>v?(K=v,v=0):v-=K,H.setBounding({height:K})}}),this._candlePane.setBounding({height:Math.max(v,0)}),this._xAxisPane.setBounding({height:g});var y=0;this._drawPanes.forEach(function(H){var Y=r._separatorPanes.get(H);ve(Y)&&(Y.setBounding({height:h,top:y}),y+=h),H.setBounding({top:y}),y+=H.getBounding().height})}var C=i;if((s||u)&&this._drawPanes.forEach(function(H){var Y=H.getAxisComponent().buildTicks(u);C||(C=Y)}),C){var w=this._chartBounding.width,_=this.getStyles(),E=0,T=!0,M=0,I=!0;this._drawPanes.forEach(function(H){if(H.getId()!==Bt.X_AXIS){var Y=H.getAxisComponent(),K=Y.inside,ne=Y.getAutoSize();Y.position===Ul.Left?(E=Math.max(E,ne),K&&(T=!1)):(M=Math.max(M,ne),K&&(I=!1))}});var D=w,O=0,N=0;T&&(D-=E,O=E),I&&(D-=M,N=M),this._chartStore.setTotalBarSpace(D);var F={width:w},V={width:D,left:O,right:N},W={width:E},Z={width:M},J=_.separator.fill,he={};J?he=F:he=V,this._drawPanes.forEach(function(H){var Y;(Y=r._separatorPanes.get(H))===null||Y===void 0||Y.setBounding(he),H.setBounding(F,V,W,Z)})}o&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4)),this._layoutOptions={measureHeight:!1,measureWidth:!1,update:!1,buildYAxisTick:!1,forceBuildYAxisTick:!1}},e.prototype.updatePane=function(r,t){var n=this;if(ve(t)){var i=this.getDrawPaneById(t);i==null||i.update(r)}else this._drawPanes.forEach(function(o){var s;o.update(r),(s=n._separatorPanes.get(o))===null||s===void 0||s.update(r)})},e.prototype.crosshairChange=function(r){var t=this;if(this._chartStore.hasAction(ci.OnCrosshairChange)){var n={};this._drawPanes.forEach(function(i){var o=i.getId(),s={},u=t._chartStore.getIndicatorsByPaneId(o);u.forEach(function(d){var h,g=d.result;s[d.name]=g[(h=r.dataIndex)!==null&&h!==void 0?h:g.length-1]}),n[o]=s}),Pr(r.paneId)&&this._chartStore.executeAction(ci.OnCrosshairChange,Qe(Qe({},r),{indicatorData:n}))}},e.prototype.getDom=function(r,t){var n,i;if(ve(r)){var o=this.getDrawPaneById(r);if(ve(o)){var s=t??co.Root;switch(s){case co.Root:return o.getContainer();case co.Main:return o.getMainWidget().getContainer();case co.YAxis:return(i=(n=o.getYAxisWidget())===null||n===void 0?void 0:n.getContainer())!==null&&i!==void 0?i:null}}}else return this._chartContainer;return null},e.prototype.getSize=function(r,t){var n,i;if(ve(r)){var o=this.getDrawPaneById(r);if(ve(o)){var s=t??co.Root;switch(s){case co.Root:return o.getBounding();case co.Main:return o.getMainWidget().getBounding();case co.YAxis:return(i=(n=o.getYAxisWidget())===null||n===void 0?void 0:n.getBounding())!==null&&i!==void 0?i:null}}}else return this._chartBounding;return null},e.prototype.setPrecision=function(r){this._chartStore.setPrecision(r)},e.prototype.getPrecision=function(){return this._chartStore.getPrecision()},e.prototype.setStyles=function(r){var t=this;this._setOptions(function(){t._chartStore.setStyles(r)})},e.prototype.getStyles=function(){return this._chartStore.getStyles()},e.prototype.setCustomApi=function(r){var t=this;this._setOptions(function(){t._chartStore.setCustomApi(r)})},e.prototype.getCustomApi=function(){return this._chartStore.getCustomApi()},e.prototype.setLocale=function(r){var t=this;this._setOptions(function(){t._chartStore.setLocale(r)})},e.prototype.getLocale=function(){return this._chartStore.getLocale()},e.prototype.setTimezone=function(r){var t=this;this._setOptions(function(){t._chartStore.setTimezone(r)})},e.prototype.getTimezone=function(){return this._chartStore.getTimezone()},e.prototype.setThousandsSeparator=function(r){var t=this;this._setOptions(function(){t._chartStore.setThousandsSeparator(r)})},e.prototype.getThousandsSeparator=function(){return this._chartStore.getThousandsSeparator()},e.prototype.setDecimalFold=function(r){var t=this;this._setOptions(function(){t._chartStore.setDecimalFold(r)})},e.prototype.getDecimalFold=function(){return this._chartStore.getDecimalFold()},e.prototype._setOptions=function(r){r(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.setOffsetRightDistance=function(r){this._chartStore.setOffsetRightDistance(r,!0)},e.prototype.getOffsetRightDistance=function(){return this._chartStore.getOffsetRightDistance()},e.prototype.setMaxOffsetLeftDistance=function(r){r<0||this._chartStore.setMaxOffsetLeftDistance(r)},e.prototype.setMaxOffsetRightDistance=function(r){r<0||this._chartStore.setMaxOffsetRightDistance(r)},e.prototype.setLeftMinVisibleBarCount=function(r){r<0||this._chartStore.setLeftMinVisibleBarCount(Math.ceil(r))},e.prototype.setRightMinVisibleBarCount=function(r){r<0||this._chartStore.setRightMinVisibleBarCount(Math.ceil(r))},e.prototype.setBarSpace=function(r){this._chartStore.setBarSpace(r)},e.prototype.getBarSpace=function(){return this._chartStore.getBarSpace()},e.prototype.getVisibleRange=function(){return this._chartStore.getVisibleRange()},e.prototype.clearData=function(){this._chartStore.clearData()},e.prototype.getDataList=function(){return this._chartStore.getDataList()},e.prototype.applyNewData=function(r,t){this._drawPanes.forEach(function(i){i.getAxisComponent().setAutoCalcTickFlag(!0)});var n={forward:!1,backward:!1};Hd(t)?(n.forward=t,n.backward=t):n=Qe(Qe({},n),t),this._chartStore.addData(r,ua.Init,n)},e.prototype.updateData=function(r){this._chartStore.addData(r,ua.Update)},e.prototype.setLoadMoreDataCallback=function(r){this._chartStore.setLoadMoreDataCallback(r)},e.prototype.createIndicator=function(r,t,n){var i,o=Pr(r)?{name:r}:r;if(sm(o.name)===null)return null;var s=Qe({},n);Pr(s.id)||(s.id=nm(Bt.INDICATOR));var u=this.getDrawPaneById(s.id);ve(u)||(u=this._createPane(Am,s.id,s),(i=s.height)!==null&&i!==void 0||(s.height=hm)),this.setPaneOptions(s);var d=this._chartStore.addIndicator(o,s.id,t??!1);return d&&this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),s.id},e.prototype.overrideIndicator=function(r,t){return this._chartStore.overrideIndicator(r,t)},e.prototype.getIndicators=function(r){return this._chartStore.getIndicatorsByFilter(r??{})},e.prototype.removeIndicator=function(r){var t=this,n=this._chartStore.removeIndicator(r??{});if(n){var i=!1,o=[];this._drawPanes.forEach(function(s){var u=s.getId();u!==Bt.CANDLE&&u!==Bt.X_AXIS&&o.push(u)}),o.forEach(function(s){var u,d,h;if(!t._chartStore.hasIndicators(s)){var g=t._drawPanes.findIndex(function(M){return M.getId()===s}),v=t._drawPanes[g];if(ve(v)){i=!0;var y=t._separatorPanes.get(v);if(ve(y)){var C=y.getTopPane();try{for(var w=Ui(t._separatorPanes),_=w.next();!_.done;_=w.next()){var E=_.value;if(E[1].getTopPane().getId()===s){E[1].setTopPane(C);break}}}catch(M){u={error:M}}finally{try{_&&!_.done&&(d=w.return)&&d.call(w)}finally{if(u)throw u.error}}y.destroy(),t._separatorPanes.delete(v)}t._recalculatePaneHeight(v,0,v.getBounding().height),t._drawPanes.splice(g,1),v.destroy();var T=t._drawPanes[0];ve(T)&&T.getId()===Bt.X_AXIS&&(T=t._drawPanes[1]),(h=t._separatorPanes.get(T))===null||h===void 0||h.destroy(),t._separatorPanes.delete(T)}}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({measureHeight:i,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return n},e.prototype.createOverlay=function(r){var t=this,n=[],i=[],o=function(u){!ve(u.paneId)||t.getDrawPaneById(u.paneId)===null?(u.paneId=Bt.CANDLE,i.push(!1)):i.push(!0),n.push(u)};Pr(r)?o({name:r}):Zo(r)?r.forEach(function(u){var d=null;Pr(u)?d={name:u}:d=u,o(d)}):o(r);var s=this._chartStore.addOverlays(n,i);return Zo(r)?s:s[0]},e.prototype.getOverlays=function(r){return this._chartStore.getOverlaysByFilter(r??{})},e.prototype.overrideOverlay=function(r){return this._chartStore.overrideOverlay(r)},e.prototype.removeOverlay=function(r){return this._chartStore.removeOverlay(r??{})},e.prototype.setPaneOptions=function(r){var t,n,i=this,o,s=!1,u=!1,d=ve(r.id),h=function(_){var E=_.getId();if(d&&r.id===E||!d){if(E!==Bt.X_AXIS){if(at(r.height)&&r.height>0){var T=Math.max((o=r.minHeight)!==null&&o!==void 0?o:_.getOptions().minHeight,0),M=Math.max(T,r.height);u=!0,s=!0,_.setOriginalBounding({height:M}),g._recalculatePaneHeight(_,M,-M)}if(ve(r.state)&&_.getOptions().state!==r.state){s=!0,u=!0;var I=r.state;switch(I){case"maximize":{var D=g._drawPanes.find(function(W){var Z=W.getId();return W.getOptions().state==="maximize"&&Z!==Bt.X_AXIS});if(!ve(D)){_.getOptions().state==="normal"&&_.setOriginalBounding({height:_.getBounding().height}),_.setOptions({state:I});var O=g._chartBounding.height;_.setBounding({height:O-g._xAxisPane.getBounding().height}),g._drawPanes.forEach(function(W){var Z;W.getId()!==Bt.X_AXIS&&W.getId()!==E&&(W.setBounding({height:W.getOriginalBounding().height}),W.setVisible(!1),(Z=i._separatorPanes.get(W))===null||Z===void 0||Z.setVisible(!1))})}break}case"minimize":{var M=_.getBounding().height,N=_.getOptions().state,F=M-wp;N==="maximize"&&(F=_.getOriginalBounding().height-wp),g._recalculatePaneHeight(_,wp,F)&&(N==="normal"&&_.setOriginalBounding({height:M}),_.setOptions({state:I})),g._drawPanes.forEach(function(Z){var J;Z.getId()!==Bt.X_AXIS&&(Z.setVisible(!0),(J=i._separatorPanes.get(Z))===null||J===void 0||J.setVisible(!0))});break}default:{var M=_.getOriginalBounding().height;g._recalculatePaneHeight(_,M,_.getBounding().height-M)&&_.setOptions({state:I}),g._drawPanes.forEach(function(Z){var J;Z.getId()!==Bt.X_AXIS&&(Z.setVisible(!0),(J=i._separatorPanes.get(Z))===null||J===void 0||J.setVisible(!0))});break}}}}ve(r.axis)&&(u=!0);var V=Qe({},r);if(delete V.state,_.setOptions(V),E===r.id)return"break"}},g=this;try{for(var v=Ui(this._drawPanes),y=v.next();!y.done;y=v.next()){var C=y.value,w=h(C);if(w==="break")break}}catch(_){t={error:_}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}u&&this.layout({measureHeight:s,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.getPaneOptions=function(r){var t;if(ve(r)){var n=this.getDrawPaneById(r);return(t=n==null?void 0:n.getOptions())!==null&&t!==void 0?t:null}return this._drawPanes.map(function(i){return i.getOptions()})},e.prototype.setZoomEnabled=function(r){this._chartStore.setZoomEnabled(r)},e.prototype.isZoomEnabled=function(){return this._chartStore.isZoomEnabled()},e.prototype.setScrollEnabled=function(r){this._chartStore.setScrollEnabled(r)},e.prototype.isScrollEnabled=function(){return this._chartStore.isScrollEnabled()},e.prototype.scrollByDistance=function(r,t){var n=this,i=at(t)&&t>0?t:0;if(this._chartStore.startScroll(),i>0){var o=new $g({duration:i});o.doFrame(function(s){var u=r*(s/i);n._chartStore.scroll(u)}),o.start()}else this._chartStore.scroll(r)},e.prototype.scrollToRealTime=function(r){var t=this._chartStore.getBarSpace().bar,n=this._chartStore.getLastBarRightSideDiffBarCount()-this._chartStore.getInitialOffsetRightDistance()/t,i=n*t;this.scrollByDistance(i,r)},e.prototype.scrollToDataIndex=function(r,t){var n=(this._chartStore.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-r))*this._chartStore.getBarSpace().bar;this.scrollByDistance(n,t)},e.prototype.scrollToTimestamp=function(r,t){var n=Wg(this.getDataList(),"timestamp",r);this.scrollToDataIndex(n,t)},e.prototype.zoomAtCoordinate=function(r,t,n){var i=this,o=at(n)&&n>0?n:0,s=this._chartStore.getBarSpace().bar,u=s*r,d=u-s;if(o>0){var h=0,g=new $g({duration:o});g.doFrame(function(v){var y=d*(v/o),C=(y-h)/i._chartStore.getBarSpace().bar*Ug;i._chartStore.zoom(C,t),h=y}),g.start()}else this._chartStore.zoom(d/s*Ug,t)},e.prototype.zoomAtDataIndex=function(r,t,n){var i=this._chartStore.dataIndexToCoordinate(t);this.zoomAtCoordinate(r,{x:i,y:0},n)},e.prototype.zoomAtTimestamp=function(r,t,n){var i=Wg(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(r,i,n)},e.prototype.convertToPixel=function(r,t){var n=this,i,o=t??{},s=o.paneId,u=s===void 0?Bt.CANDLE:s,d=o.absolute,h=d===void 0?!1:d,g=[];if(u!==Bt.X_AXIS){var v=this.getDrawPaneById(u);if(v!==null){var y=v.getBounding(),C=[].concat(r),w=this._xAxisPane.getAxisComponent(),_=v.getAxisComponent();g=C.map(function(E){var T={},M=E.dataIndex;if(at(E.timestamp)&&(M=n._chartStore.timestampToDataIndex(E.timestamp)),at(M)&&(T.x=w.convertToPixel(M)),at(E.value)){var I=_.convertToPixel(E.value);T.y=h?y.top+I:I}return T})}}return Zo(r)?g:(i=g[0])!==null&&i!==void 0?i:{}},e.prototype.convertFromPixel=function(r,t){var n=this,i,o=t??{},s=o.paneId,u=s===void 0?Bt.CANDLE:s,d=o.absolute,h=d===void 0?!1:d,g=[];if(u!==Bt.X_AXIS){var v=this.getDrawPaneById(u);if(v!==null){var y=v.getBounding(),C=[].concat(r),w=this._xAxisPane.getAxisComponent(),_=v.getAxisComponent();g=C.map(function(E){var T,M={};if(at(E.x)){var I=w.convertFromPixel(E.x);M.dataIndex=I,M.timestamp=(T=n._chartStore.dataIndexToTimestamp(I))!==null&&T!==void 0?T:void 0}if(at(E.y)){var D=h?E.y-y.top:E.y;M.value=_.convertFromPixel(D)}return M})}}return Zo(r)?g:(i=g[0])!==null&&i!==void 0?i:{}},e.prototype.executeAction=function(r,t){var n;switch(r){case ci.OnCrosshairChange:{var i=Qe({},t);(n=i.paneId)!==null&&n!==void 0||(i.paneId=Bt.CANDLE),this._chartStore.setCrosshair(i);break}}},e.prototype.subscribeAction=function(r,t){this._chartStore.subscribeAction(r,t)},e.prototype.unsubscribeAction=function(r,t){this._chartStore.unsubscribeAction(r,t)},e.prototype.getConvertPictureUrl=function(r,t,n){var i=this,o=this._chartBounding,s=o.width,u=o.height,d=Zl("canvas",{width:"".concat(s,"px"),height:"".concat(u,"px"),boxSizing:"border-box"}),h=d.getContext("2d"),g=Ns(d);d.width=s*g,d.height=u*g,h.scale(g,g),h.fillStyle=n??"#FFFFFF",h.fillRect(0,0,s,u);var v=r??!1;return this._drawPanes.forEach(function(y){var C=i._separatorPanes.get(y);if(ve(C)){var w=C.getBounding();h.drawImage(C.getImage(v),w.left,w.top,w.width,w.height)}var _=y.getBounding();h.drawImage(y.getImage(v),0,_.top,s,_.height)}),d.toDataURL("image/".concat(t??"jpeg"))},e.prototype.resize=function(){this._cacheChartBounding(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.destroy=function(){var r=this;this._chartEvent.destroy(),this._drawPanes.forEach(function(t){var n;t.destroy(),(n=r._separatorPanes.get(t))===null||n===void 0||n.destroy()}),this._drawPanes=[],this._separatorPanes.clear(),this._container.removeChild(this._chartContainer)},e}(),B2=new Map,m4=1;function y4(e,r){var t=null;if(Pr(e)?t=document.getElementById(e):t=e,t===null)return null;var n=B2.get(t.id);if(ve(n))return n;var i="k_line_chart_".concat(m4++);return n=new v4(t,r),n.id=i,t.setAttribute("k-line-chart-id",i),B2.set(i,n),n}var qr={clone:V0,merge:sn,isString:Pr,isNumber:at,isValid:ve,isObject:uo,isArray:Zo,isFunction:di,isBoolean:Hd,formatValue:Vn,formatPrecision:oi,formatBigNumber:Q5,formatDate:q5,formatThousands:J5,formatFoldDecimal:em,calcTextWidth:Fd,getLinearSlopeIntercept:Jp,getLinearYFromSlopeIntercept:uv,getLinearYFromCoordinates:Rd,checkCoordinateOnArc:Cm,checkCoordinateOnCircle:fm,checkCoordinateOnLine:cm,checkCoordinateOnPolygon:gm,checkCoordinateOnRect:vm,checkCoordinateOnText:xm};const x4="",C4="",w4="",b4="",_4="",k4="",S4="",E4="",M4="",T4="",I4="",L4="",P4="",A4="MA()",D4="EMA()",F4="SMA",R4="BOLL()",O4="BBI()",N4="SAR()",z4="VOL()",B4="MACD()",V4="KDJ()",$4="RSI()",W4="BIAS()",H4="BRAR()",U4="CCI()",j4="DMI()",X4="CR()",Y4="PSY()",Z4="DMA()",K4="TRIX()",G4="OBV()",q4="VR()",Q4="WR()",J4="MTM()",ex="EMV()",tx="ROC()",rx="PVT()",nx="AO()",ix="",ax="(UTC-10) ",ox="(UTC-8) ",lx="(UTC-7) ",sx="(UTC-5) ",cx="(UTC-4) ",ux="(UTC-3) ",dx="(UTC+1) ",hx="(UTC+2) ",px="(UTC+3) ",fx="(UTC+4) ",gx="(UTC+5) ",vx="(UTC+6) ",mx="(UTC+7) ",yx="(UTC+8) ",xx="(UTC+9) ",Cx="(UTC+10) ",wx="(UTC+12) ",bx="",_x="",kx="",Sx="",Ex="",Mx="",Tx="",Ix="",Lx="",Px="",Ax="",Dx="",Fx="",Rx="",Ox="",Nx="",zx="",Bx="",Vx="",$x="",Wx="",Hx="",Ux="",jx="",Xx="",Yx="",Zx="",Kx="",Gx="",qx="",Qx="",Jx="",eC="ABCD",tC="XABCD",rC="",nC="",iC="",aC="",oC="1",lC="2",sC="3",cC="4",uC="5",dC="",hC="",pC="",fC="",gC="",vC="",mC="",yC="OHLC",xC="",CC="",wC="",bC="",_C="",kC="",SC="",EC="",MC="",TC="",IC="",LC="",PC="",AC="",DC={indicator:x4,main_indicator:C4,sub_indicator:w4,favourites:b4,setting:_4,replay:k4,timezone:S4,screenshot:E4,full_screen:M4,exit_full_screen:T4,save:I4,confirm:L4,cancel:P4,ma:A4,ema:D4,sma:F4,boll:R4,bbi:O4,sar:N4,vol:z4,macd:B4,kdj:V4,rsi:$4,bias:W4,brar:H4,cci:U4,dmi:j4,cr:X4,psy:Y4,dma:Z4,trix:K4,obv:G4,vr:q4,wr:Q4,mtm:J4,emv:ex,roc:tx,pvt:rx,ao:nx,utc:ix,honolulu:ax,juneau:ox,los_angeles:lx,chicago:sx,toronto:cx,sao_paulo:ux,london:dx,berlin:hx,bahrain:px,dubai:fx,ashkhabad:gx,almaty:vx,bangkok:mx,shanghai:yx,tokyo:xx,sydney:Cx,norfolk:wx,D:bx,"5D":"5",W:_x,M:kx,"3M":"3","6M":"6",Y:Sx,"5Y":"5","Light Theme 1":"1","Light Theme 2":"2","Midnight Theme":"","Dark Theme":"","Dark Gray Theme":"","Blue Theme":"","Red Theme":"","Green Theme":"","Yellow Theme":"","Pink Theme":"",horizontal_straight_line:Ex,horizontal_ray_line:Mx,horizontal_segment:Tx,vertical_straight_line:Ix,vertical_ray_line:Lx,vertical_segment:Px,straight_line:Ax,ray_line:Dx,segment:Fx,arrow:Rx,price_line:Ox,price_channel_line:Nx,parallel_straight_line:zx,fibonacci_line:Bx,fibonacci_segment:Vx,fibonacci_circle:$x,fibonacci_spiral:Wx,fibonacci_speed_resistance_fan:Hx,fibonacci_extension:Ux,gann_box:jx,rect:Xx,parallelogram:Yx,circle:Zx,triangle:Kx,three_waves:Gx,five_waves:qx,eight_waves:Qx,any_waves:Jx,abcd:eC,xabcd:tC,weak_magnet:rC,strong_magnet:nC,symbol_search:iC,symbol_code:aC,params_1:oC,params_2:lC,params_3:sC,params_4:cC,params_5:uC,period:dC,standard_deviation:hC,candle_type:pC,candle_solid:fC,candle_stroke:gC,candle_up_stroke:vC,candle_down_stroke:mC,ohlc:yC,area:xC,heikin_ashi:CC,last_price_show:wC,high_price_show:bC,low_price_show:_C,indicator_last_value_show:kC,price_axis_type:SC,normal:EC,percentage:MC,log:TC,reverse_coordinate:IC,grid_show:LC,restore_default:PC,volumeBars:AC},FC="Indicator",RC="Indicators",OC="Main Indicator",NC="Sub Indicator",zC="Favourites",BC="Setting",VC="Replay",$C="Timezone",WC="Screenshot",HC="Full Screen",UC="Exit",jC="Save",XC="Confirm",YC="Cancel",ZC="MA - Moving Average",KC="EMA - Exponential Moving Average",GC="SMA - Simple Moving Average",qC="BOLL - Bolinger Bands",QC="BBI - Bull And Bearlndex",JC="SAR - Stop and Reverse",ew="VOL - Volume (sub)",tw="MACD - Moving Average Convergence / Divergence",rw="KDJ - KDJ Index",nw="RSI - Relative Strength Index",iw="BIAS - Bias Ratio",aw="BRAR - Emotional Index",ow="CCI - Commodity Channel Index",lw="DMI - Directional Movement Index (PDI, MDI, ADX, ADXR)",sw="PDI - Plus Directional Indicator",cw="MDI - Minus Directional Indicator",uw="ADX - Average Directional Index",dw="ADXR - Average Directional Index Rating",hw="CR - Energy Index",pw="PSY - Psychological Line",fw="DMA - Different of Moving Average",gw="TRIX - Triple Exponentially Smoothed Moving Average",vw="OBV - On Balance Volume",mw="VR - Volatility Volume Ratio",yw="WR - Williams %R",xw="MTM - Momentum Index",Cw="EMV - Ease of Movement Value",ww="ROC - Price Rate of Change",bw="PVT - Price and Volume Trend",_w="AO - Awesome Oscillator",kw="ADL - Accumulation/Distribution Line",Sw="MFI - Money Flow Index",Ew="VOL - Volume",Mw="WMA - Weighted Moving Average",Tw="WEM - Weighted Exponential Moving Average",Iw="QS - Qstick",Lw="AROON - Aroon",Pw="ATR - Average True Range",Aw="TR - True Range",Dw="WS - Wilder's Smoothing",Fw="UTC",Rw="(UTC-10) Honolulu",Ow="(UTC-8) Juneau",Nw="(UTC-7) Los Angeles",zw="(UTC-5) Chicago",Bw="(UTC-4) Toronto",Vw="(UTC-3) Sao Paulo",$w="(UTC+1) London",Ww="(UTC+2) Berlin",Hw="(UTC+3) Bahrain",Uw="(UTC+4) Dubai",jw="(UTC+5) Ashkhabad",Xw="(UTC+6) Almaty",Yw="(UTC+7) Bangkok",Zw="(UTC+8) Shanghai",Kw="(UTC+9) Tokyo",Gw="(UTC+10) Sydney",qw="(UTC+12) Norfolk",Qw="D",Jw="W",eb="M",tb="Y",rb="Horizontal Line",nb="Horizontal Ray",ib="Horizontal Segment",ab="Vertical Line",ob="Vertical Ray",lb="Vertical Segment",sb="Trend Line",cb="Ray",ub="Segment",db="Arrow",hb="Price Line",pb="Price Channel Line",fb="Parallel Line",gb="Fibonacci Line",vb="Fibonacci Segment",mb="Fibonacci Circle",yb="Fibonacci Spiral",xb="Fibonacci Sector",Cb="Fibonacci Extension",wb="Gann Box",bb="Rect",_b="Parallelogram",kb="Circle",Sb="Triangle",Eb="Three Waves",Mb="Five Waves",Tb="Eight Waves",Ib="Any Waves",Lb="ABCD Pattern",Pb="XABCD Pattern",Ab="Weak Magnet",Db="Strong Magnet",Fb="Symbol Search",Rb="Symbol Code",Ob="Parameter 1",Nb="Parameter 2",zb="Parameter 3",Bb="Parameter 4",Vb="Parameter 5",$b="Period",Wb="Standard Deviation",Hb="Charts",Ub="Candle Type",jb="Candle Solid",Xb="Candle Stroke",Yb="Candle Up Stroke",Zb="Candle Down Stroke",Kb="OHLC",Gb="Area",qb="Heikin Ashi",Qb="Renko",Jb="Brick Size",e_="Show Last Price",t_="Show Highest Price",r_="Show Lowest Price",n_="Show indicator's last value",i_="Normal",a_="Percentage",o_="Log",l_="Restore Defaults",s_="Standard",c_="Show Grids",u_="Show Horizontal Grids",d_="Horizontal Grid Size",h_="Horizontal Grid Color",p_="Show Vertical Grids",f_="Vertical Grid Size",g_="Vertical Grid Color",v_="Fill Stroke",m_="Always",y_="Stroke",x_="Stroke Fill",C_="Ruler",w_="RR",b_="Enable Crosshair Sync",__="Enable Time Sync",k_="Enable Ticker Sync",S_="Enable Interval Sync",E_="Enable Drawing Sync",M_="Multichart",T_="Paper Trading",I_="Balance",L_="Trade",P_="Positions",A_="Orders",D_="Trades",F_="Cash",R_="Market",O_="Limit",N_="Buy",z_="Sell",B_="Quantity",V_="Price",$_="Estimated Total",W_="No open positions",H_="Avg Price",U_="Current Price",j_="P&L",X_="Close Position",Y_="No pending orders",Z_="Status",K_="Cancel Order",G_="No trades executed",q_="Your trade history will appear here",Q_="Clear All Trades",J_="Are you sure you want to clear all {count} trades? This action cannot be undone.",ek="Symbol/Side",tk="Qty",rk="Total",nk="Date/Time",ik="Cash Amount",ak="Operation",ok="Add Cash",lk="Remove Cash",sk="Pending buy orders",ck="Balance after removal",uk="Max safe removal",dk=" Insufficient funds for pending orders!",hk="Add",pk="Remove",fk=" Reset Trading Account",gk=` RESET TRADING ACCOUNT 

This will permanently delete:
 {orders} pending orders
 {positions} open positions
 {trades} trade records
 Reset balance to $10,000

This action cannot be undone!

Are you sure you want to continue?`,vk=` Trading account has been reset successfully!

 Balance: $10,000
 All orders, positions, and trades cleared`,mk="Pending Orders Summary",yk="Pending Buy Orders",xk="Pending Sell Orders",Ck="Available Cash",wk="Max Cash Removal",bk={indicator:FC,indicators:RC,main_indicator:OC,sub_indicator:NC,favourites:zC,setting:BC,replay:VC,timezone:$C,screenshot:WC,full_screen:HC,exit_full_screen:UC,save:jC,confirm:XC,cancel:YC,ma:ZC,ema:KC,sma:GC,boll:qC,bbi:QC,sar:JC,vol:ew,macd:tw,kdj:rw,rsi:nw,bias:iw,brar:aw,cci:ow,dmi:lw,pdi:sw,mdi:cw,adx:uw,adxr:dw,cr:hw,psy:pw,dma:fw,trix:gw,obv:vw,vr:mw,wr:yw,mtm:xw,emv:Cw,roc:ww,pvt:bw,ao:_w,adl:kw,"force index":"FI - Force Index",mfi:Sw,"volume weighted average price":"VWAP - Volume Weighted Average Price",volumebars:Ew,"volume profile fixed range":"Volume Profile - Fixed Range",wma:Mw,wema:Tw,"chandelier exit":"CE -  Chandelier Exit","keltner channels":"KC - Keltner Channels","ichimoku cloud":"IC - Ichimoku Cloud","chaikin oscillator":"CO - Chaikin Oscillator","percentage price oscillator":"PPO - Percentage Price Oscillator","percentage volume oscillator":"PVO - Percentage Volume Oscillator",qstick:Iw,"absolute price oscillator":"APO - Absolute Price Oscillator","balance of power":"BOP - Balance of Power",aroon:Lw,"double exponential moving average":"DEMA - Double Exponential Moving Average",atr:Pw,tr:Aw,"envelope (sma)":"ENV (SMA) - Envelope (SMA)","envelope (ema)":"ENV (EMA) - Envelope (EMA)",ws:Dw,"volume price trend":"VPT - Volume Price Trend","negative volume index":"NVI - Negative Volume Index","money flow volume":"MFV - Money Flow Volume","money flow multiplier":"MFM - Money Flow Multiplier","average price":"AVP - Average Price","moving linear regression":"MLR - Moving Linear Regression","moving least square":"MLS - Moving Least Square",utc:Fw,honolulu:Rw,juneau:Ow,los_angeles:Nw,chicago:zw,toronto:Bw,sao_paulo:Vw,london:$w,berlin:Ww,bahrain:Hw,dubai:Uw,ashkhabad:jw,almaty:Xw,bangkok:Yw,shanghai:Zw,tokyo:Kw,sydney:Gw,norfolk:qw,D:Qw,"5D":"5D",W:Jw,M:eb,"3M":"3M","6M":"6M",Y:tb,"5Y":"5Y","Light Theme 1":"Light Theme 1","Light Theme 2":"Light Theme 2","Midnight Theme":"Midnight Theme","Dark Theme":"Dark Theme","Dark Gray Theme":"Dark Gray Theme","Blue Theme":"Blue Theme","Red Theme":"Red Theme","Green Theme":"Green Theme","Yellow Theme":"Yellow Theme","Pink Theme":"Pink Theme",horizontal_straight_line:rb,horizontal_ray_line:nb,horizontal_segment:ib,vertical_straight_line:ab,vertical_ray_line:ob,vertical_segment:lb,straight_line:sb,ray_line:cb,segment:ub,arrow:db,price_line:hb,price_channel_line:pb,parallel_straight_line:fb,fibonacci_line:gb,fibonacci_segment:vb,fibonacci_circle:mb,fibonacci_spiral:yb,fibonacci_speed_resistance_fan:xb,fibonacci_extension:Cb,gann_box:wb,rect:bb,parallelogram:_b,circle:kb,triangle:Sb,three_waves:Eb,five_waves:Mb,eight_waves:Tb,any_waves:Ib,abcd:Lb,xabcd:Pb,weak_magnet:Ab,strong_magnet:Db,symbol_search:Fb,symbol_code:Rb,params_1:Ob,params_2:Nb,params_3:zb,params_4:Bb,params_5:Vb,period:$b,standard_deviation:Wb,charts:Hb,candle_type:Ub,candle_solid:jb,candle_stroke:Xb,candle_up_stroke:Yb,candle_down_stroke:Zb,ohlc:Kb,area:Gb,heikin_ashi:qb,renko:Qb,brick_size:Jb,last_price_show:e_,high_price_show:t_,low_price_show:r_,indicator_last_value_show:n_,normal:i_,percentage:a_,log:o_,restore_default:l_,standard:s_,"candle.bar.upColor":"Candle Up Color","candle.bar.downColor":"Candle Down Color","candle.bar.noChangeColor":"Candle No Change Color","candle.bar.upBorderColor":"Candle Up Border Color","candle.bar.downBorderColor":"Candle Down Border Color","candle.bar.noChangeBorderColor":"Candle No Change Border Color","candle.bar.upWickColor":"Candle Up Wick Color","candle.bar.downWickColor":"Candle Down Wick Color","candle.bar.noChangeWickColor":"Candle No Change Wick Color","candle.priceMark.high.show":"Show High Price Mark","candle.priceMark.high.color":"High Price Mark Color","candle.priceMark.high.textSize":"High Price Mark Text Size","candle.priceMark.high.textFamily":"High Price Mark Text Family","candle.priceMark.high.textWeight":"High Price Mark Text Weight","candle.priceMark.low.show":"Show Low Price Mark","candle.priceMark.low.color":"Low Price Mark Color","candle.priceMark.low.textSize":"Low Price Mark Text Size","candle.priceMark.low.textFamily":"Low Price Mark Text Family","candle.priceMark.low.textWeight":"Low Price Mark Text Weight","candle.priceMark.last.show":"Show Last Price Mark","candle.priceMark.last.upColor":"Last Price Mark Up Color","candle.priceMark.last.downColor":"Last Price Mark Down Color","candle.priceMark.last.noChangeColor":"Last Price Mark No Change Color","candle.priceMark.last.line.show":"Show Last Price Mark Line","candle.priceMark.last.line.style":"Last Price Mark Line Style","candle.priceMark.last.line.size":"Last Price Mark Line Size","candle.priceMark.last.text.show":"Show Last Price Mark Text","candle.priceMark.last.text.style":"Last Price Mark Text Style","candle.priceMark.last.text.size":"Last Price Mark Text Size","candle.priceMark.last.text.color":"Last Price Mark Text Color","candle.tooltip.showRule":"Candle Tooltip","candle.tooltip.showType":"Candle Tooltip Type","candle.tooltip.rect.position":"Candle Tooltip Rect Position","candle.tooltip.rect.color":"Candle Tooltip Rect Color","candle.tooltip.rect.borderColor":"Candle Tooltip Rect Border Color","candle.tooltip.text.size":"Candle Tooltip Text Size","candle.tooltip.text.weight":"Candle Tooltip Text Weight","candle.tooltip.text.color":"Candle Tooltip Text Color","indicator.lastValueMark.show":"Show Last Value Mark","indicator.lastValueMark.text.show":"Show Last Value Mark Text","indicator.lastValueMark.text.style":"Last Value Mark Text Style","indicator.lastValueMark.text.size":"Last Value Mark Text Size","indicator.lastValueMark.text.weight":"Last Value Mark Text Weight","indicator.lastValueMark.text.color":"Last Value Mark Text Color","indicator.lastValueMark.text.borderStyle":"Last Value Mark Text Border Style","indicator.lastValueMark.text.borderColor":"Last Value Mark Text Border Color","indicator.lastValueMark.text.borderSize":"Last Value Mark Text Border Size","indicator.lastValueMark.text.borderDashedValue":"Last Value Mark Text Border Border Dashed Value","indicator.lastValueMark.text.paddingLeft":"Last Value Mark Text Border Padding Left","indicator.lastValueMark.text.paddingTop":"Last Value Mark Text Border Style Padding Top","indicator.lastValueMark.text.paddingRight":"Last Value Mark Text Border Padding Right","indicator.lastValueMark.text.paddingBottom":"Last Value Mark Text Border Padding Bottom","indicator.lastValueMark.text.borderRadius":"Last Value Mark Text Border Border Radius","indicator.tooltip.showRule":"Show Tooltip Rule","indicator.tooltip.showType":"Show Tooltip Type","indicator.tooltip.showName":"Show Tooltip Name","indicator.tooltip.showParams":"Show Tooltip Params","indicator.tooltip.offsetTop":"Tooltip Offset Top","indicator.tooltip.offsetLeft":"Tooltip Offset Left","indicator.tooltip.offsetBottom":"Tooltip Offset Right","indicator.tooltip.offsetRight":"Tooltip Offset Bottom","indicator.tooltip.text.size":"Tooltip Text Size","indicator.tooltip.text.weight":"Tooltip Text Weight","indicator.tooltip.text.color":"Tooltip Text Color","indicator.tooltip.text.marginLeft":"Tooltip Text Margin Left","indicator.tooltip.text.marginTop":"Tooltip Text Margin Top","indicator.tooltip.text.marginRight":"Tooltip Text Margin Right","indicator.tooltip.text.marginBottom":"Tooltip Text Margin Bottom",grid_show:c_,grid_horizontal_show:u_,grid_horizontal_size:d_,grid_horizontal_color:h_,grid_vertical_show:p_,grid_vertical_size:f_,grid_vertical_color:g_,"xAxis.show":"Show X Axis","xAxis.axisLine.show":"Show X Axis Line","xAxis.axisLine.color":"X Axis Line Color","xAxis.axisLine.size":"X Axis Line Size","xAxis.tickText.show":"Show X Axis Tick Text","xAxis.tickText.size":"X Axis Tick Text Size","xAxis.tickText.weight":"X Axis Tick Text Weight","xAxis.tickText.color":"X Axis Tick Text Color","xAxis.tickLine.show":"Show X Axis Tick Line","xAxis.tickLine.size":"X Axis Tick Line Size","xAxis.tickLine.length":"X Axis Tick Line Length","xAxis.tickLine.color":"X Axis Tick Line Color","yAxis.show":"Show Y Axis","yAxis.position":"Y Axis Position","yAxis.type":"Y Axis Type","yAxis.inside":"Y Axis Inside","yAxis.reverse":"Y Axis Reverse","yAxis.axisLine.show":"Show Y Axis Line","yAxis.axisLine.size":"Y Axis Line Size","yAxis.axisLine.color":"Y Axis Line Color","yAxis.tickText.show":"Show Y Axis Tick Text","yAxis.tickText.color":"Y Axis Tick Text Color","yAxis.tickText.size":"Y Axis Tick Text Size","yAxis.tickText.weight":"Y Axis Tick Text Weight","yAxis.tickText.marginStart":"Y Axis Tick Text Margin Start","yAxis.tickText.marginEnd":"Y Axis Tick Text Margin End","yAxis.tickLine.show":"Show Y Axis Tick Line","yAxis.tickLine.color":"Y Axis Tick Line Color","yAxis.tickLine.size":"Y Axis Tick Line Size","yAxis.tickLine.length":"Y Axis Tick Line Length","separator.size":"Sub Indicator Separator Size","separator.fill":"Sub Indicator Separator Fill","separator.activeBackgroundColor":"Sub Indicator Separator Color","crosshair.show":"Show Crosshair","crosshair.horizontal.show":"Show Horizontal Crosshair","crosshair.horizontal.line.show":"Show Horizontal Crosshair Line","crosshair.horizontal.line.style":"Horizontal Crosshair Line Style","crosshair.horizontal.line.size":"Horizontal Crosshair Line Size","crosshair.horizontal.line.color":"Horizontal Crosshair Line Color","crosshair.horizontal.text.show":"Show Horizontal Crosshair Text","crosshair.horizontal.text.style":"Horizontal Crosshair Text Style","crosshair.horizontal.text.size":"Horizontal Crosshair Text Size","crosshair.horizontal.text.weight":"Horizontal Crosshair Text Weight","crosshair.horizontal.text.color":"Horizontal Crosshair Text Color","crosshair.horizontal.text.backgroundColor":"Horizontal Crosshair Text Bg Color","crosshair.vertical.show":"Show Vertical Crosshair","crosshair.vertical.line.show":"Show Vertical Crosshair Line","crosshair.vertical.line.style":"Vertical Crosshair Line Style","crosshair.vertical.line.size":"Vertical Crosshair Line Size","crosshair.vertical.line.color":"Vertical Crosshair Line Color","crosshair.vertical.text.show":"Show Vertical Crosshair Text","crosshair.vertical.text.style":"Vertical Crosshair Text Style","crosshair.vertical.text.size":"Vertical Crosshair Text Size","crosshair.vertical.text.weight":"Vertical Crosshair Text Weight","crosshair.vertical.text.color":"Vertical Crosshair Text Color","crosshair.vertical.text.backgroundColor":"Vertical Crosshair Text Bg Color","overlay.point.color":"Point Color","overlay.point.borderColor":"Point Border Color","overlay.point.borderSize":"Point Border Size","overlay.point.activeColor":"Point Active Color","overlay.point.activeBorderColor":"Point Active Border Color","overlay.point.activeBorderSize":"Point Active Border Size","overlay.point.activeRadius":"Point Active Radius","overlay.line.style":"Line Style","overlay.line.smooth":"Line Smooth","overlay.line.size":"Line Size","overlay.line.color":"Line Color","overlay.rect.style":"Rect Style","overlay.rect.color":"Rect Color","overlay.rect.borderColor":"Rect Border Color","overlay.rect.borderSize":"Rect Border Size","overlay.rect.borderRadius":"Rect Border Radius","overlay.rect.borderStyle":"Rect Border Style","overlay.polygon.style":"Polygon Style","overlay.polygon.color":"Polygon Color","overlay.polygon.borderColor":"Polygon Border Color","overlay.polygon.borderStyle":"Polygon Border Style","overlay.polygon.borderSize":"Polygon Border Size","overlay.circle.style":"Circle Style","overlay.circle.color":"Circle Color","overlay.circle.borderColor":"Circle Border Color","overlay.circle.borderStyle":"Circle Border Style","overlay.circle.borderSize":"Circle Border Size","overlay.arc.style":"Arc Style","overlay.arc.size":"Arc Size","overlay.arc.color":"Arc Color","overlay.text.style":"Text Style","overlay.text.size":"Text Size","overlay.text.family":"Text Family","overlay.text.weight":"Text Weight","overlay.text.color":"Text Color","overlay.text.backgroundColor":"Text Background Color","overlay.text.borderColor":"Text Border Color","overlay.text.borderSize":"Text Border Size","overlay.text.borderStyle":"Text Border Style","overlay.text.borderDashedValue":"Text Border Dashed Value","overlay.text.borderRadius":"Text Border Radius","overlay.text.paddingLeft":"Text Padding Left","overlay.text.paddingRight":"Text Padding Right","overlay.text.paddingTop":"Text Padding Top","overlay.text.paddingBottom":"Text Padding Bottom",fill_stroke:v_,always:m_,stroke:y_,stroke_fill:x_,ruler:C_,rr:w_,enable_crosshair_sync:b_,enable_time_sync:__,enable_ticker_sync:k_,enable_interval_sync:S_,enable_drawing_sync:E_,multichart:M_,paper_trading:T_,balance:I_,trade:L_,positions:P_,orders:A_,trades:D_,cash:F_,market:R_,limit:O_,buy:N_,sell:z_,quantity:B_,price:V_,estimated_total:$_,no_open_positions:W_,avg_price:H_,current_price:U_,pnl:j_,close_position:X_,no_pending_orders:Y_,status:Z_,cancel_order:K_,no_trades_executed:G_,your_trade_history_will_appear_here:q_,clear_all_trades:Q_,are_you_sure_clear_trades:J_,symbol_side:ek,qty:tk,total:rk,date_time:nk,cash_amount:ik,operation:ak,add_cash:ok,remove_cash:lk,pending_buy_orders:sk,balance_after_removal:ck,max_safe_removal:uk,insufficient_funds_warning:dk,add:hk,remove:pk,reset_trading_account:fk,reset_account_confirmation:gk,reset_account_success:vk,pending_orders_summary:mk,pending_buy_orders_summary:yk,pending_sell_orders_summary:xk,available_cash:Ck,max_cash_removal:wk},_k={"zh-CN":DC,"en-US":bk},L=(e,r)=>{var t;return((t=_k[r])==null?void 0:t[e])??e};function Pd(e,r,t){const n=(e.x-r.x)*Math.cos(t)-(e.y-r.y)*Math.sin(t)+r.x,i=(e.x-r.x)*Math.sin(t)+(e.y-r.y)*Math.cos(t)+r.y;return{x:n,y:i}}function jg(e,r){if(e.length>1){let t;return e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?t={x:e[0].x,y:r.height}:t={x:e[0].x,y:0}:e[0].x>e[1].x?t={x:0,y:qr.getLinearYFromCoordinates(e[0],e[1],{x:0,y:e[0].y})}:t={x:r.width,y:qr.getLinearYFromCoordinates(e[0],e[1],{x:r.width,y:e[0].y})},{coordinates:[e[0],t]}}return[]}function Dm(e,r){const t=Math.abs(e.x-r.x),n=Math.abs(e.y-r.y);return Math.sqrt(t*t+n*n)}const kk={name:"arrow",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{if(e.length>1){const r=e[1].x>e[0].x?0:1,t=qr.getLinearSlopeIntercept(e[0],e[1]);let n;t!=null?n=Math.atan(t[0])+Math.PI*r:e[1].y>e[0].y?n=Math.PI/2:n=Math.PI/2*3;const i=Pd({x:e[1].x-8,y:e[1].y+4},e[1],n),o=Pd({x:e[1].x-8,y:e[1].y-4},e[1],n);return[{type:"line",attrs:{coordinates:e}},{type:"line",ignoreEvent:!0,attrs:{coordinates:[i,e[1],o]}}]}return[]}},Sk={name:"circle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{circle:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length>1){const r=Dm(e[0],e[1]);return{type:"circle",attrs:{...e[0],r},styles:{style:"stroke_fill"}}}return[]}},Ek={name:"rect",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>e.length>1?[{type:"polygon",attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{style:"stroke_fill"}}]:[]},Mk={name:"parallelogram",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length===2)return[{type:"line",ignoreEvent:!0,attrs:{coordinates:e}}];if(e.length===3){const r={x:e[0].x+(e[2].x-e[1].x),y:e[2].y};return[{type:"polygon",attrs:{coordinates:[e[0],e[1],e[2],r]},styles:{style:"stroke_fill"}}]}return[]},performEventPressedMove:({points:e,performPointIndex:r,performPoint:t})=>{r<2&&(e[0].price=t.price,e[1].price=t.price)},performEventMoveForDrawing:({currentStep:e,points:r,performPoint:t})=>{e===2&&(r[0].price=t.price)}},Tk={name:"triangle",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>[{type:"polygon",attrs:{coordinates:e},styles:{style:"stroke_fill"}}]},Ik={name:"fibonacciCircle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{if(e.length>1){const r=Math.abs(e[0].x-e[1].x),t=Math.abs(e[0].y-e[1].y),n=Math.sqrt(r*r+t*t),i=[.236,.382,.5,.618,.786,1],o=[],s=[];return i.forEach(u=>{const d=n*u;o.push({...e[0],r:d}),s.push({x:e[0].x,y:e[0].y+d+6,text:`${(u*100).toFixed(1)}%`})}),[{type:"circle",attrs:o,styles:{style:"stroke"}},{type:"text",ignoreEvent:!0,attrs:s}]}return[]}},Lk={name:"fibonacciSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:e,coordinates:r,overlay:t})=>{const n=[],i=[];if(r.length>1){const o=r[1].x>r[0].x?r[0].x:r[1].x,s=[1,.786,.618,.5,.382,.236,0],u=r[0].y-r[1].y,d=t.points,h=d[0].value-d[1].value;s.forEach(g=>{const v=r[1].y+u*g,y=(d[1].value+h*g).toFixed(e.getPrecision().price);n.push({coordinates:[{x:r[0].x,y:v},{x:r[1].x,y:v}]}),i.push({x:o,y:v,text:`${y} (${(g*100).toFixed(1)}%)`,baseline:"bottom"})})}return[{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},Pk={name:"fibonacciSpiral",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e,bounding:r})=>{if(e.length>1){const t=Dm(e[0],e[1])/Math.sqrt(24),n=e[1].x>e[0].x?0:1,i=qr.getLinearSlopeIntercept(e[0],e[1]);let o;i!=null?o=Math.atan(i[0])+Math.PI*n:e[1].y>e[0].y?o=Math.PI/2:o=Math.PI/2*3;const s=Pd({x:e[0].x-t,y:e[0].y},e[0],o),u=Pd({x:e[0].x-t,y:e[0].y-t},e[0],o),d=[{...s,r:t,startAngle:o,endAngle:o+Math.PI/2},{...u,r:t*2,startAngle:o+Math.PI/2,endAngle:o+Math.PI}];let h=e[0].x-t,g=e[0].y-t;for(let v=2;v<9;v++){const y=d[v-2].r+d[v-1].r;let C=0;switch(v%4){case 0:{C=o,h-=d[v-2].r;break}case 1:{C=o+Math.PI/2,g-=d[v-2].r;break}case 2:{C=o+Math.PI,h+=d[v-2].r;break}case 3:{C=o+Math.PI/2*3,g+=d[v-2].r;break}}const w=C+Math.PI/2,_=Pd({x:h,y:g},e[0],o);d.push({..._,r:y,startAngle:C,endAngle:w})}return[{type:"arc",attrs:d},{type:"line",attrs:jg(e,r)}]}return[]}},Ak={name:"fibonacciSpeedResistanceFan",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e,bounding:r})=>{const t=[];let n=[];const i=[];if(e.length>1){const o=e[1].x>e[0].x?-38:4,s=e[1].y>e[0].y?-2:20,u=e[1].x-e[0].x,d=e[1].y-e[0].y;[1,.75,.618,.5,.382,.25,0].forEach(h=>{const g=e[1].x-u*h,v=e[1].y-d*h;t.push({coordinates:[{x:g,y:e[0].y},{x:g,y:e[1].y}]}),t.push({coordinates:[{x:e[0].x,y:v},{x:e[1].x,y:v}]}),n=n.concat(jg([e[0],{x:g,y:e[1].y}],r)),n=n.concat(jg([e[0],{x:e[1].x,y:v}],r)),i.unshift({x:e[0].x+o,y:v+10,text:`${h.toFixed(3)}`}),i.unshift({x:g-18,y:e[0].y+s,text:`${h.toFixed(3)}`})})}return[{type:"line",attrs:t},{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},Dk={name:"fibonacciExtension",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:e,coordinates:r,overlay:t})=>{const n=[],i=[];if(r.length>2){const o=t.points,s=o[1].value-o[0].value,u=r[1].y-r[0].y,d=[0,.236,.382,.5,.618,.786,1],h=r[2].x>r[1].x?r[1].x:r[2].x;d.forEach(g=>{const v=r[2].y+u*g,y=(o[2].value+s*g).toFixed(e.getPrecision().price);n.push({coordinates:[{x:r[1].x,y:v},{x:r[2].x,y:v}]}),i.push({x:h,y:v,text:`${y} (${(g*100).toFixed(1)}%)`,baseline:"bottom"})})}return[{type:"line",attrs:{coordinates:r},styles:{style:"dashed"}},{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},Fk={name:"gannBox",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length>1){const r=(e[1].y-e[0].y)/4,t=e[1].x-e[0].x,n=[{coordinates:[e[0],{x:e[1].x,y:e[1].y-r}]},{coordinates:[e[0],{x:e[1].x,y:e[1].y-r*2}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y+r}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y+r*2}]},{coordinates:[{...e[0]},{x:e[0].x+t*.236,y:e[1].y}]},{coordinates:[{...e[0]},{x:e[0].x+t*.5,y:e[1].y}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[0].x+t*.236,y:e[0].y}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[0].x+t*.5,y:e[0].y}]}],i=[{coordinates:[e[0],e[1]]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y}]}];return[{type:"line",attrs:[{coordinates:[e[0],{x:e[1].x,y:e[0].y}]},{coordinates:[{x:e[1].x,y:e[0].y},e[1]]},{coordinates:[e[1],{x:e[0].x,y:e[1].y}]},{coordinates:[{x:e[0].x,y:e[1].y},e[0]]}]},{type:"polygon",ignoreEvent:!0,attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{style:"fill"}},{type:"line",attrs:n,styles:{style:"dashed"}},{type:"line",attrs:i}]}return[]}},Rk={name:"threeWaves",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},Ok={name:"fiveWaves",totalStep:7,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},Nk={name:"eightWaves",totalStep:10,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},zk={name:"anyWaves",totalStep:Number.MAX_SAFE_INTEGER,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},Bk={name:"abcd",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{let r=[],t=[];const n=["A","B","C","D"],i=e.map((o,s)=>({...o,baseline:"bottom",text:`(${n[s]})`}));return e.length>2&&(r=[e[0],e[2]],e.length>3&&(t=[e[1],e[3]])),[{type:"line",attrs:{coordinates:e}},{type:"line",attrs:[{coordinates:r},{coordinates:t}],styles:{style:"dashed"}},{type:"text",ignoreEvent:!0,attrs:i}]}},Vk={name:"xabcd",totalStep:6,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e,overlay:r})=>{const t=[],n=[],i=["X","A","B","C","D"],o=e.map((s,u)=>({...s,baseline:"bottom",text:`(${i[u]})`}));return e.length>2&&(t.push({coordinates:[e[0],e[2]]}),n.push({coordinates:[e[0],e[1],e[2]]}),e.length>3&&(t.push({coordinates:[e[1],e[3]]}),e.length>4&&(t.push({coordinates:[e[2],e[4]]}),n.push({coordinates:[e[2],e[3],e[4]]})))),[{type:"line",attrs:{coordinates:e}},{type:"line",attrs:t,styles:{style:"dashed"}},{type:"polygon",ignoreEvent:!0,attrs:n},{type:"text",ignoreEvent:!0,attrs:o}]}},$k={name:"ruler",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{backgroundColor:"rgba(22, 119, 255, 0.25)",tipBackgroundColor:"#1677FF",lineColor:"#1677FF"},extendData:e=>{if(e.length<2)return[];const[r,t]=e,n=t.dataIndex-r.dataIndex,i=t.value-r.value,o=i/r.value*100,s=t.timestamp-r.timestamp,u=Math.floor(s/(24*60*60*1e3)),d=Math.floor(s%(24*60*60*1e3)/(60*60*1e3)),h=Math.floor(s%(60*60*1e3)/(60*1e3));let g="";return u>0?(g=`${u} day${u>1?"s":""}`,d>0&&(g+=`, ${d} hour${d>1?"s":""}`)):d>0?(g=`${d} hour${d>1?"s":""}`,h>0&&(g+=`, ${h} minute${h>1?"s":""}`)):g=`${h} minute${h>1?"s":""}`,[`${i.toFixed(2)} (${o.toFixed(2)}%)`,`Bars: ${n}, d: ${g}`]},createPointFigures:({coordinates:e,overlay:r,bounding:t})=>{var n,i,o,s;if(e.length>1){const u=e[0].x<e[1].x,d=e[0].y<e[1].y,h={x:Math.round((e[0].x+e[1].x)/2),y:Math.round((e[0].y+e[1].y)/2)},g=(n=r.styles)==null?void 0:n.backgroundColor,v=(i=r.styles)==null?void 0:i.tipBackgroundColor,y=(o=r.styles)==null?void 0:o.lineColor,C=((s=r.extendData)==null?void 0:s.call(r,r.points))??[],w=[{type:"polygon",attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{color:g}},{type:"line",attrs:{coordinates:[{x:e[0].x,y:h.y},{x:e[1].x,y:h.y}]},styles:{color:y}},{type:"line",attrs:{coordinates:[{x:h.x,y:e[0].y},{x:h.x,y:e[1].y}]},styles:{color:y}}];u?w.push({type:"line",attrs:{coordinates:[{x:e[1].x-6,y:h.y-4},{x:e[1].x,y:h.y},{x:e[1].x-6,y:h.y+4}]}}):w.push({type:"line",attrs:{coordinates:[{x:e[1].x+6,y:h.y-4},{x:e[1].x,y:h.y},{x:e[1].x+6,y:h.y+4}]}}),d?w.push({type:"line",attrs:{coordinates:[{x:h.x-4,y:e[1].y-6},{x:h.x,y:e[1].y},{x:h.x+4,y:e[1].y-6}]},styles:{color:y}}):w.push({type:"line",attrs:{coordinates:[{x:h.x-4,y:e[1].y+6},{x:h.x,y:e[1].y},{x:h.x+4,y:e[1].y+6}]},styles:{color:y}});const _=C.length;if(_>0){let E,T=0;const M=_*12+(_-1)*4+8*2;C.forEach(D=>{T=Math.max(qr.calcTextWidth(D),T)}),T+=12*2,d?e[1].y+8+M>t.height?E=t.height-M:E=e[1].y+8:e[1].y-8-M<0?E=0:E=e[1].y-8-M,w.push({type:"rect",attrs:{x:h.x-T/2,y:E,width:T,height:M},styles:{borderRadius:4,color:v}});let I=E+8;C.forEach(D=>{w.push({type:"text",attrs:{x:h.x,y:I,text:D,align:"center"},styles:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,backgroundColor:"none"}}),I+=16})}return w}return[]}};var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Fp.exports;(function(e,r){(function(){var t,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",v=1,y=2,C=4,w=1,_=2,E=1,T=2,M=4,I=8,D=16,O=32,N=64,F=128,V=256,W=512,Z=30,J="...",he=800,H=16,Y=1,K=2,ne=3,re=1/0,Q=9007199254740991,ue=17976931348623157e292,le=NaN,j=4294967295,ie=j-1,xe=j>>>1,Me=[["ary",F],["bind",E],["bindKey",T],["curry",I],["curryRight",D],["flip",W],["partial",O],["partialRight",N],["rearg",V]],Ie="[object Arguments]",Ae="[object Array]",Je="[object AsyncFunction]",Oe="[object Boolean]",Be="[object Date]",ye="[object DOMException]",Fe="[object Error]",He="[object Function]",Ne="[object GeneratorFunction]",ke="[object Map]",et="[object Number]",Ft="[object Null]",Ue="[object Object]",St="[object Promise]",Gt="[object Proxy]",qt="[object RegExp]",xt="[object Set]",Cr="[object String]",Qr="[object Symbol]",Xr="[object Undefined]",lr="[object WeakMap]",Tt="[object WeakSet]",$t="[object ArrayBuffer]",Qt="[object DataView]",Wr="[object Float32Array]",sr="[object Float64Array]",Ar="[object Int8Array]",mt="[object Int16Array]",ze="[object Int32Array]",Ct="[object Uint8Array]",gt="[object Uint8ClampedArray]",wt="[object Uint16Array]",vt="[object Uint32Array]",Rt=/\b__p \+= '';/g,Ht=/\b(__p \+=) '' \+/g,pr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ot=/&(?:amp|lt|gt|quot|#39);/g,ut=/[&<>"']/g,Dr=RegExp(Ot.source),ur=RegExp(ut.source),Fr=/<%-([\s\S]+?)%>/g,Tn=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/,wr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,br=/[\\^$.*+?()[\]{}|]/g,fr=RegExp(br.source),cn=/^\s+/,Yr=/\s/,un=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dn=/\{\n\/\* \[wrapped with (.+)\] \*/,In=/,? & /,ji=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xi=/[()=,{}\[\]\/\s]/,Qo=/\\(\\)?/g,ki=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vo=/\w*$/,Jo=/^[-+]0x[0-9a-f]+$/i,mo=/^0b[01]+$/i,el=/^\[object .+?Constructor\]$/,tl=/^0o[0-7]+$/i,Us=/^(?:0|[1-9]\d*)$/,js=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rl=/($^)/,Gc=/['\n\r\u2028\u2029\\]/g,mr="\\ud800-\\udfff",qc="\\u0300-\\u036f",Xs="\\ufe20-\\ufe2f",Ys="\\u20d0-\\u20ff",yo=qc+Xs+Ys,De="\\u2700-\\u27bf",ql="a-z\\xdf-\\xf6\\xf8-\\xff",nl="\\xac\\xb1\\xd7\\xf7",pi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qc="\\u2000-\\u206f",qn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zs="A-Z\\xc0-\\xd6\\xd8-\\xde",Ks="\\ufe0e\\ufe0f",Gs=nl+pi+Qc+qn,Wa="[']",il="["+mr+"]",Ha="["+Gs+"]",fa="["+yo+"]",qs="\\d+",Jc="["+De+"]",al="["+ql+"]",Ql="[^"+mr+Gs+qs+De+ql+Zs+"]",xo="\\ud83c[\\udffb-\\udfff]",Co="(?:"+fa+"|"+xo+")",Qs="[^"+mr+"]",wo="(?:\\ud83c[\\udde6-\\uddff]){2}",Zt="[\\ud800-\\udbff][\\udc00-\\udfff]",ga="["+Zs+"]",Jl="\\u200d",ol="(?:"+al+"|"+Ql+")",Js="(?:"+ga+"|"+Ql+")",es="(?:"+Wa+"(?:d|ll|m|re|s|t|ve))?",ts="(?:"+Wa+"(?:D|LL|M|RE|S|T|VE))?",ll=Co+"?",bo="["+Ks+"]?",Yi="(?:"+Jl+"(?:"+[Qs,wo,Zt].join("|")+")"+bo+ll+")*",Zi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ki="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ua=bo+ll+Yi,_o="(?:"+[Jc,wo,Zt].join("|")+")"+Ua,Gi="(?:"+[Qs+fa+"?",fa,wo,Zt,il].join("|")+")",eu=RegExp(Wa,"g"),ec=RegExp(fa,"g"),va=RegExp(xo+"(?="+xo+")|"+Gi+Ua,"g"),tu=RegExp([ga+"?"+al+"+"+es+"(?="+[Ha,ga,"$"].join("|")+")",Js+"+"+ts+"(?="+[Ha,ga+ol,"$"].join("|")+")",ga+"?"+ol+"+"+es,ga+"+"+ts,Ki,Zi,qs,_o].join("|"),"g"),tc=RegExp("["+Jl+mr+yo+Ks+"]"),sl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pf=-1,dr={};dr[Wr]=dr[sr]=dr[Ar]=dr[mt]=dr[ze]=dr[Ct]=dr[gt]=dr[wt]=dr[vt]=!0,dr[Ie]=dr[Ae]=dr[$t]=dr[Oe]=dr[Qt]=dr[Be]=dr[Fe]=dr[He]=dr[ke]=dr[et]=dr[Ue]=dr[qt]=dr[xt]=dr[Cr]=dr[lr]=!1;var cr={};cr[Ie]=cr[Ae]=cr[$t]=cr[Qt]=cr[Oe]=cr[Be]=cr[Wr]=cr[sr]=cr[Ar]=cr[mt]=cr[ze]=cr[ke]=cr[et]=cr[Ue]=cr[qt]=cr[xt]=cr[Cr]=cr[Qr]=cr[Ct]=cr[gt]=cr[wt]=cr[vt]=!0,cr[Fe]=cr[He]=cr[lr]=!1;var rs={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ru={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ff={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},i1=parseFloat,nu=parseInt,iu=typeof Vl=="object"&&Vl&&Vl.Object===Object&&Vl,Zd=typeof self=="object"&&self&&self.Object===Object&&self,Rr=iu||Zd||Function("return this")(),rc=r&&!r.nodeType&&r,ma=rc&&!0&&e&&!e.nodeType&&e,a1=ma&&ma.exports===rc,ns=a1&&iu.process,$n=function(){try{var oe=ma&&ma.require&&ma.require("util").types;return oe||ns&&ns.binding&&ns.binding("util")}catch{}}(),o1=$n&&$n.isArrayBuffer,Qn=$n&&$n.isDate,cl=$n&&$n.isMap,au=$n&&$n.isRegExp,is=$n&&$n.isSet,Kd=$n&&$n.isTypedArray;function Wn(oe,me,pe){switch(pe.length){case 0:return oe.call(me);case 1:return oe.call(me,pe[0]);case 2:return oe.call(me,pe[0],pe[1]);case 3:return oe.call(me,pe[0],pe[1],pe[2])}return oe.apply(me,pe)}function l1(oe,me,pe,je){for(var yt=-1,ir=oe==null?0:oe.length;++yt<ir;){var Jr=oe[yt];me(je,Jr,pe(Jr),oe)}return je}function Ln(oe,me){for(var pe=-1,je=oe==null?0:oe.length;++pe<je&&me(oe[pe],pe,oe)!==!1;);return oe}function ou(oe,me){for(var pe=oe==null?0:oe.length;pe--&&me(oe[pe],pe,oe)!==!1;);return oe}function s1(oe,me){for(var pe=-1,je=oe==null?0:oe.length;++pe<je;)if(!me(oe[pe],pe,oe))return!1;return!0}function ko(oe,me){for(var pe=-1,je=oe==null?0:oe.length,yt=0,ir=[];++pe<je;){var Jr=oe[pe];me(Jr,pe,oe)&&(ir[yt++]=Jr)}return ir}function lu(oe,me){var pe=oe==null?0:oe.length;return!!pe&&as(oe,me,0)>-1}function c1(oe,me,pe){for(var je=-1,yt=oe==null?0:oe.length;++je<yt;)if(pe(me,oe[je]))return!0;return!1}function _r(oe,me){for(var pe=-1,je=oe==null?0:oe.length,yt=Array(je);++pe<je;)yt[pe]=me(oe[pe],pe,oe);return yt}function So(oe,me){for(var pe=-1,je=me.length,yt=oe.length;++pe<je;)oe[yt+pe]=me[pe];return oe}function u1(oe,me,pe,je){var yt=-1,ir=oe==null?0:oe.length;for(je&&ir&&(pe=oe[++yt]);++yt<ir;)pe=me(pe,oe[yt],yt,oe);return pe}function vf(oe,me,pe,je){var yt=oe==null?0:oe.length;for(je&&yt&&(pe=oe[--yt]);yt--;)pe=me(pe,oe[yt],yt,oe);return pe}function d1(oe,me){for(var pe=-1,je=oe==null?0:oe.length;++pe<je;)if(me(oe[pe],pe,oe))return!0;return!1}var mf=p1("length");function Gd(oe){return oe.split("")}function yf(oe){return oe.match(ji)||[]}function qd(oe,me,pe){var je;return pe(oe,function(yt,ir,Jr){if(me(yt,ir,Jr))return je=ir,!1}),je}function su(oe,me,pe,je){for(var yt=oe.length,ir=pe+(je?1:-1);je?ir--:++ir<yt;)if(me(oe[ir],ir,oe))return ir;return-1}function as(oe,me,pe){return me===me?du(oe,me,pe):su(oe,Qd,pe)}function h1(oe,me,pe,je){for(var yt=pe-1,ir=oe.length;++yt<ir;)if(je(oe[yt],me))return yt;return-1}function Qd(oe){return oe!==oe}function Jd(oe,me){var pe=oe==null?0:oe.length;return pe?f1(oe,me)/pe:le}function p1(oe){return function(me){return me==null?t:me[oe]}}function cu(oe){return function(me){return oe==null?t:oe[me]}}function eh(oe,me,pe,je,yt){return yt(oe,function(ir,Jr,gr){pe=je?(je=!1,ir):me(pe,ir,Jr,gr)}),pe}function xf(oe,me){var pe=oe.length;for(oe.sort(me);pe--;)oe[pe]=oe[pe].value;return oe}function f1(oe,me){for(var pe,je=-1,yt=oe.length;++je<yt;){var ir=me(oe[je]);ir!==t&&(pe=pe===t?ir:pe+ir)}return pe}function g1(oe,me){for(var pe=-1,je=Array(oe);++pe<oe;)je[pe]=me(pe);return je}function Cf(oe,me){return _r(me,function(pe){return[pe,oe[pe]]})}function th(oe){return oe&&oe.slice(0,hu(oe)+1).replace(cn,"")}function fi(oe){return function(me){return oe(me)}}function nc(oe,me){return _r(me,function(pe){return oe[pe]})}function ja(oe,me){return oe.has(me)}function rh(oe,me){for(var pe=-1,je=oe.length;++pe<je&&as(me,oe[pe],0)>-1;);return pe}function v1(oe,me){for(var pe=oe.length;pe--&&as(me,oe[pe],0)>-1;);return pe}function nh(oe,me){for(var pe=oe.length,je=0;pe--;)oe[pe]===me&&++je;return je}var ih=cu(rs),ah=cu(ru);function oh(oe){return"\\"+gf[oe]}function os(oe,me){return oe==null?t:oe[me]}function ls(oe){return tc.test(oe)}function wf(oe){return sl.test(oe)}function bf(oe){for(var me,pe=[];!(me=oe.next()).done;)pe.push(me.value);return pe}function uu(oe){var me=-1,pe=Array(oe.size);return oe.forEach(function(je,yt){pe[++me]=[yt,je]}),pe}function m1(oe,me){return function(pe){return oe(me(pe))}}function Si(oe,me){for(var pe=-1,je=oe.length,yt=0,ir=[];++pe<je;){var Jr=oe[pe];(Jr===me||Jr===g)&&(oe[pe]=g,ir[yt++]=pe)}return ir}function Eo(oe){var me=-1,pe=Array(oe.size);return oe.forEach(function(je){pe[++me]=je}),pe}function _f(oe){var me=-1,pe=Array(oe.size);return oe.forEach(function(je){pe[++me]=[je,je]}),pe}function du(oe,me,pe){for(var je=pe-1,yt=oe.length;++je<yt;)if(oe[je]===me)return je;return-1}function kf(oe,me,pe){for(var je=pe+1;je--;)if(oe[je]===me)return je;return je}function ul(oe){return ls(oe)?sh(oe):mf(oe)}function gi(oe){return ls(oe)?ch(oe):Gd(oe)}function hu(oe){for(var me=oe.length;me--&&Yr.test(oe.charAt(me)););return me}var lh=cu(ff);function sh(oe){for(var me=va.lastIndex=0;va.test(oe);)++me;return me}function ch(oe){return oe.match(va)||[]}function Sf(oe){return oe.match(tu)||[]}var Ef=function oe(me){me=me==null?Rr:ss.defaults(Rr.Object(),me,ss.pick(Rr,Yd));var pe=me.Array,je=me.Date,yt=me.Error,ir=me.Function,Jr=me.Math,gr=me.Object,ic=me.RegExp,Mf=me.String,Ei=me.TypeError,Xa=pe.prototype,y1=ir.prototype,ya=gr.prototype,cs=me["__core-js_shared__"],ac=y1.toString,ar=ya.hasOwnProperty,us=0,pu=function(){var c=/[^.]+$/.exec(cs&&cs.keys&&cs.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),oc=ya.toString,fu=ac.call(gr),uh=Rr._,dh=ic("^"+ac.call(ar).replace(br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lc=a1?me.Buffer:t,Ya=me.Symbol,sc=me.Uint8Array,x1=lc?lc.allocUnsafe:t,qi=m1(gr.getPrototypeOf,gr),gu=gr.create,vu=ya.propertyIsEnumerable,mu=Xa.splice,hh=Ya?Ya.isConcatSpreadable:t,Za=Ya?Ya.iterator:t,dl=Ya?Ya.toStringTag:t,cc=function(){try{var c=No(gr,"defineProperty");return c({},"",{}),c}catch{}}(),ph=me.clearTimeout!==Rr.clearTimeout&&me.clearTimeout,Tr=je&&je.now!==Rr.Date.now&&je.now,C1=me.setTimeout!==Rr.setTimeout&&me.setTimeout,hl=Jr.ceil,Mo=Jr.floor,yu=gr.getOwnPropertySymbols,w1=lc?lc.isBuffer:t,ds=me.isFinite,xu=Xa.join,hs=m1(gr.keys,gr),en=Jr.max,Pn=Jr.min,Tf=je.now,fh=me.parseInt,uc=Jr.random,Cu=Xa.reverse,dc=No(me,"DataView"),pl=No(me,"Map"),hc=No(me,"Promise"),To=No(me,"Set"),pc=No(me,"WeakMap"),ps=No(gr,"create"),wu=pc&&new pc,fs={},b1=zo(dc),Io=zo(pl),gh=zo(hc),gs=zo(To),xa=zo(pc),Lo=Ya?Ya.prototype:t,vi=Lo?Lo.valueOf:t,bu=Lo?Lo.toString:t;function R(c){if(rn(c)&&!Lt(c)&&!(c instanceof It)){if(c instanceof An)return c;if(ar.call(c,"__wrapped__"))return Hh(c)}return new An(c)}var vs=function(){function c(){}return function(p){if(!Gr(p))return{};if(gu)return gu(p);c.prototype=p;var x=new c;return c.prototype=t,x}}();function Ca(){}function An(c,p){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}R.templateSettings={escape:Fr,evaluate:Tn,interpolate:At,variable:"",imports:{_:R}},R.prototype=Ca.prototype,R.prototype.constructor=R,An.prototype=vs(Ca.prototype),An.prototype.constructor=An;function It(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function _u(){var c=new It(this.__wrapped__);return c.__actions__=Un(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Un(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Un(this.__views__),c}function _1(){if(this.__filtered__){var c=new It(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function ms(){var c=this.__wrapped__.value(),p=this.__dir__,x=Lt(c),S=p<0,P=x?c.length:0,z=q1(0,P,this.__views__),X=z.start,q=z.end,se=q-X,Ce=S?q:X-1,we=this.__iteratees__,Ee=we.length,Ve=0,rt=Pn(se,this.__takeCount__);if(!x||!S&&P==se&&rt==se)return Ss(c,this.__actions__);var ht=[];e:for(;se--&&Ve<rt;){Ce+=p;for(var Wt=-1,pt=c[Ce];++Wt<Ee;){var Yt=we[Wt],er=Yt.iteratee,la=Yt.type,wi=er(pt);if(la==K)pt=wi;else if(!wi){if(la==Y)continue e;break e}}ht[Ve++]=pt}return ht}It.prototype=vs(Ca.prototype),It.prototype.constructor=It;function Jn(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var S=c[p];this.set(S[0],S[1])}}function Ir(){this.__data__=ps?ps(null):{},this.size=0}function kr(c){var p=this.has(c)&&delete this.__data__[c];return this.size-=p?1:0,p}function Po(c){var p=this.__data__;if(ps){var x=p[c];return x===d?t:x}return ar.call(p,c)?p[c]:t}function Dn(c){var p=this.__data__;return ps?p[c]!==t:ar.call(p,c)}function ei(c,p){var x=this.__data__;return this.size+=this.has(c)?0:1,x[c]=ps&&p===t?d:p,this}Jn.prototype.clear=Ir,Jn.prototype.delete=kr,Jn.prototype.get=Po,Jn.prototype.has=Dn,Jn.prototype.set=ei;function Hn(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var S=c[p];this.set(S[0],S[1])}}function ys(){this.__data__=[],this.size=0}function ti(c){var p=this.__data__,x=Rn(p,c);if(x<0)return!1;var S=p.length-1;return x==S?p.pop():mu.call(p,x,1),--this.size,!0}function ku(c){var p=this.__data__,x=Rn(p,c);return x<0?t:p[x][1]}function vh(c){return Rn(this.__data__,c)>-1}function mh(c,p){var x=this.__data__,S=Rn(x,c);return S<0?(++this.size,x.push([c,p])):x[S][1]=p,this}Hn.prototype.clear=ys,Hn.prototype.delete=ti,Hn.prototype.get=ku,Hn.prototype.has=vh,Hn.prototype.set=mh;function Mi(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var S=c[p];this.set(S[0],S[1])}}function yh(){this.size=0,this.__data__={hash:new Jn,map:new(pl||Hn),string:new Jn}}function Ka(c){var p=Ic(this,c).delete(c);return this.size-=p?1:0,p}function Su(c){return Ic(this,c).get(c)}function k1(c){return Ic(this,c).has(c)}function xh(c,p){var x=Ic(this,c),S=x.size;return x.set(c,p),this.size+=x.size==S?0:1,this}Mi.prototype.clear=yh,Mi.prototype.delete=Ka,Mi.prototype.get=Su,Mi.prototype.has=k1,Mi.prototype.set=xh;function fl(c){var p=-1,x=c==null?0:c.length;for(this.__data__=new Mi;++p<x;)this.add(c[p])}function Ao(c){return this.__data__.set(c,d),this}function xs(c){return this.__data__.has(c)}fl.prototype.add=fl.prototype.push=Ao,fl.prototype.has=xs;function Fn(c){var p=this.__data__=new Hn(c);this.size=p.size}function Eu(){this.__data__=new Hn,this.size=0}function Mu(c){var p=this.__data__,x=p.delete(c);return this.size=p.size,x}function Ti(c){return this.__data__.get(c)}function Ii(c){return this.__data__.has(c)}function gl(c,p){var x=this.__data__;if(x instanceof Hn){var S=x.__data__;if(!pl||S.length<i-1)return S.push([c,p]),this.size=++x.size,this;x=this.__data__=new Mi(S)}return x.set(c,p),this.size=x.size,this}Fn.prototype.clear=Eu,Fn.prototype.delete=Mu,Fn.prototype.get=Ti,Fn.prototype.has=Ii,Fn.prototype.set=gl;function wa(c,p){var x=Lt(c),S=!x&&$c(c),P=!x&&!S&&Rs(c),z=!x&&!S&&!P&&v0(c),X=x||S||P||z,q=X?g1(c.length,Mf):[],se=q.length;for(var Ce in c)(p||ar.call(c,Ce))&&!(X&&(Ce=="length"||P&&(Ce=="offset"||Ce=="parent")||z&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||Nr(Ce,se)))&&q.push(Ce);return q}function ba(c){var p=c.length;return p?c[_s(0,p-1)]:t}function vl(c,p){return Ju(Un(c),Ga(p,0,c.length))}function Ch(c){return Ju(Un(c))}function fc(c,p,x){(x!==t&&!oo(c[p],x)||x===t&&!(p in c))&&_a(c,p,x)}function ml(c,p,x){var S=c[p];(!(ar.call(c,p)&&oo(S,x))||x===t&&!(p in c))&&_a(c,p,x)}function Rn(c,p){for(var x=c.length;x--;)if(oo(c[x][0],p))return x;return-1}function mi(c,p,x,S){return Sa(c,function(P,z,X){p(S,P,x(P),X)}),S}function Lr(c,p){return c&&Ji(p,zn(p),c)}function Qi(c,p){return c&&Ji(p,zi(p),c)}function _a(c,p,x){p=="__proto__"&&cc?cc(c,p,{configurable:!0,enumerable:!0,value:x,writable:!0}):c[p]=x}function Tu(c,p){for(var x=-1,S=p.length,P=pe(S),z=c==null;++x<S;)P[x]=z?t:Qf(c,p[x]);return P}function Ga(c,p,x){return c===c&&(x!==t&&(c=c<=x?c:x),p!==t&&(c=c>=p?c:p)),c}function ri(c,p,x,S,P,z){var X,q=p&v,se=p&y,Ce=p&C;if(x&&(X=P?x(c,S,P,z):x(c)),X!==t)return X;if(!Gr(c))return c;var we=Lt(c);if(we){if(X=Pc(c),!q)return Un(c,X)}else{var Ee=wn(c),Ve=Ee==He||Ee==Ne;if(Rs(c))return B1(c,q);if(Ee==Ue||Ee==Ie||Ve&&!P){if(X=se||Ve?{}:bn(c),!q)return se?Lf(c,Qi(X,c)):$u(c,Lr(X,c))}else{if(!cr[Ee])return P?c:{};X=Pf(c,Ee,q)}}z||(z=new Fn);var rt=z.get(c);if(rt)return rt;z.set(c,X),Jv(c)?c.forEach(function(pt){X.add(ri(pt,p,x,pt,c,z))}):qv(c)&&c.forEach(function(pt,Yt){X.set(Yt,ri(pt,p,x,Yt,c,z))});var ht=Ce?se?Tc:Mc:se?zi:zn,Wt=we?t:ht(c);return Ln(Wt||c,function(pt,Yt){Wt&&(Yt=pt,pt=c[Yt]),ml(X,Yt,ri(pt,p,x,Yt,c,z))}),X}function wh(c){var p=zn(c);return function(x){return gc(x,c,p)}}function gc(c,p,x){var S=x.length;if(c==null)return!S;for(c=gr(c);S--;){var P=x[S],z=p[P],X=c[P];if(X===t&&!(P in c)||!z(X))return!1}return!0}function S1(c,p,x){if(typeof c!="function")throw new Ei(s);return As(function(){c.apply(t,x)},p)}function ka(c,p,x,S){var P=-1,z=lu,X=!0,q=c.length,se=[],Ce=p.length;if(!q)return se;x&&(p=_r(p,fi(x))),S?(z=c1,X=!1):p.length>=i&&(z=ja,X=!1,p=new fl(p));e:for(;++P<q;){var we=c[P],Ee=x==null?we:x(we);if(we=S||we!==0?we:0,X&&Ee===Ee){for(var Ve=Ce;Ve--;)if(p[Ve]===Ee)continue e;se.push(we)}else z(p,Ee,S)||se.push(we)}return se}var Sa=Fi(yi),bh=Fi(Do,!0);function vc(c,p){var x=!0;return Sa(c,function(S,P,z){return x=!!p(S,P,z),x}),x}function yl(c,p,x){for(var S=-1,P=c.length;++S<P;){var z=c[S],X=p(z);if(X!=null&&(q===t?X===X&&!oa(X):x(X,q)))var q=X,se=z}return se}function _h(c,p,x,S){var P=c.length;for(x=zt(x),x<0&&(x=-x>P?0:P+x),S=S===t||S>P?P:zt(S),S<0&&(S+=P),S=x>S?0:t2(S);x<S;)c[x++]=p;return c}function E1(c,p){var x=[];return Sa(c,function(S,P,z){p(S,P,z)&&x.push(S)}),x}function Hr(c,p,x,S,P){var z=-1,X=c.length;for(x||(x=Gu),P||(P=[]);++z<X;){var q=c[z];p>0&&x(q)?p>1?Hr(q,p-1,x,S,P):So(P,q):S||(P[P.length]=q)}return P}var Iu=Hu(),mc=Hu(!0);function yi(c,p){return c&&Iu(c,p,zn)}function Do(c,p){return c&&mc(c,p,zn)}function Cs(c,p){return ko(p,function(x){return Pl(c[x])})}function qa(c,p){p=Ta(p,c);for(var x=0,S=p.length;c!=null&&x<S;)c=c[na(p[x++])];return x&&x==S?c:t}function Lu(c,p,x){var S=p(c);return Lt(c)?S:So(S,x(c))}function xn(c){return c==null?c===t?Xr:Ft:dl&&dl in gr(c)?Ku(c):J1(c)}function Fo(c,p){return c>p}function Li(c,p){return c!=null&&ar.call(c,p)}function xl(c,p){return c!=null&&p in gr(c)}function M1(c,p,x){return c>=Pn(p,x)&&c<en(p,x)}function Pu(c,p,x){for(var S=x?c1:lu,P=c[0].length,z=c.length,X=z,q=pe(z),se=1/0,Ce=[];X--;){var we=c[X];X&&p&&(we=_r(we,fi(p))),se=Pn(we.length,se),q[X]=!x&&(p||P>=120&&we.length>=120)?new fl(X&&we):t}we=c[0];var Ee=-1,Ve=q[0];e:for(;++Ee<P&&Ce.length<se;){var rt=we[Ee],ht=p?p(rt):rt;if(rt=x||rt!==0?rt:0,!(Ve?ja(Ve,ht):S(Ce,ht,x))){for(X=z;--X;){var Wt=q[X];if(!(Wt?ja(Wt,ht):S(c[X],ht,x)))continue e}Ve&&Ve.push(ht),Ce.push(rt)}}return Ce}function Qa(c,p,x,S){return yi(c,function(P,z,X){p(S,x(P),z,X)}),S}function Pi(c,p,x){p=Ta(p,c),c=hn(c,p);var S=c==null?c:c[na(Yn(p))];return S==null?t:Wn(S,c,x)}function Au(c){return rn(c)&&xn(c)==Ie}function kh(c){return rn(c)&&xn(c)==$t}function Ja(c){return rn(c)&&xn(c)==Be}function Ai(c,p,x,S,P){return c===p?!0:c==null||p==null||!rn(c)&&!rn(p)?c!==c&&p!==p:Du(c,p,x,S,Ai,P)}function Du(c,p,x,S,P,z){var X=Lt(c),q=Lt(p),se=X?Ae:wn(c),Ce=q?Ae:wn(p);se=se==Ie?Ue:se,Ce=Ce==Ie?Ue:Ce;var we=se==Ue,Ee=Ce==Ue,Ve=se==Ce;if(Ve&&Rs(c)){if(!Rs(p))return!1;X=!0,we=!1}if(Ve&&!we)return z||(z=new Fn),X||v0(c)?K1(c,p,x,S,P,z):G1(c,p,se,x,S,P,z);if(!(x&w)){var rt=we&&ar.call(c,"__wrapped__"),ht=Ee&&ar.call(p,"__wrapped__");if(rt||ht){var Wt=rt?c.value():c,pt=ht?p.value():p;return z||(z=new Fn),P(Wt,pt,x,S,z)}}return Ve?(z||(z=new Fn),Rh(c,p,x,S,P,z)):!1}function Sh(c){return rn(c)&&wn(c)==ke}function ws(c,p,x,S){var P=x.length,z=P,X=!S;if(c==null)return!z;for(c=gr(c);P--;){var q=x[P];if(X&&q[2]?q[1]!==c[q[0]]:!(q[0]in c))return!1}for(;++P<z;){q=x[P];var se=q[0],Ce=c[se],we=q[1];if(X&&q[2]){if(Ce===t&&!(se in c))return!1}else{var Ee=new Fn;if(S)var Ve=S(Ce,we,se,c,p,Ee);if(!(Ve===t?Ai(we,Ce,w|_,S,Ee):Ve))return!1}}return!0}function T1(c){if(!Gr(c)||zh(c))return!1;var p=Pl(c)?dh:el;return p.test(zo(c))}function yc(c){return rn(c)&&xn(c)==qt}function Ea(c){return rn(c)&&wn(c)==xt}function xc(c){return rn(c)&&np(c.length)&&!!dr[xn(c)]}function bs(c){return typeof c=="function"?c:c==null?Bi:typeof c=="object"?Lt(c)?Or(c[0],c[1]):Fu(c):h2(c)}function eo(c){if(!io(c))return hs(c);var p=[];for(var x in gr(c))ar.call(c,x)&&x!="constructor"&&p.push(x);return p}function I1(c){if(!Gr(c))return $h(c);var p=io(c),x=[];for(var S in c)S=="constructor"&&(p||!ar.call(c,S))||x.push(S);return x}function Ro(c,p){return c<p}function L1(c,p){var x=-1,S=Ni(c)?pe(c.length):[];return Sa(c,function(P,z,X){S[++x]=p(P,z,X)}),S}function Fu(c){var p=Lc(c);return p.length==1&&p[0][2]?qu(p[0][0],p[0][1]):function(x){return x===c||ws(x,c,p)}}function Or(c,p){return Ze(c)&&Dc(p)?qu(na(c),p):function(x){var S=Qf(x,c);return S===t&&S===p?Jf(x,c):Ai(p,S,w|_)}}function Cl(c,p,x,S,P){c!==p&&Iu(p,function(z,X){if(P||(P=new Fn),Gr(z))P1(c,p,X,x,Cl,S,P);else{var q=S?S(Pa(c,X),z,X+"",c,p,P):t;q===t&&(q=z),fc(c,X,q)}},zi)}function P1(c,p,x,S,P,z,X){var q=Pa(c,x),se=Pa(p,x),Ce=X.get(se);if(Ce){fc(c,x,Ce);return}var we=z?z(q,se,x+"",c,p,X):t,Ee=we===t;if(Ee){var Ve=Lt(se),rt=!Ve&&Rs(se),ht=!Ve&&!rt&&v0(se);we=se,Ve||rt||ht?Lt(q)?we=q:on(q)?we=Un(q):rt?(Ee=!1,we=B1(se,!0)):ht?(Ee=!1,we=Lh(se,!0)):we=[]:md(se)||$c(se)?(we=q,$c(q)?we=r2(q):(!Gr(q)||Pl(q))&&(we=bn(se))):Ee=!1}Ee&&(X.set(se,we),P(we,se,S,z,X),X.delete(se)),fc(c,x,we)}function Ru(c,p){var x=c.length;if(x)return p+=p<0?x:0,Nr(p,x)?c[p]:t}function Cc(c,p,x){p.length?p=_r(p,function(z){return Lt(z)?function(X){return qa(X,z.length===1?z[0]:z)}:z}):p=[Bi];var S=-1;p=_r(p,fi(st()));var P=L1(c,function(z,X,q){var se=_r(p,function(Ce){return Ce(z)});return{criteria:se,index:++S,value:z}});return xf(P,function(z,X){return If(z,X,x)})}function A1(c,p){return Oo(c,p,function(x,S){return Jf(c,S)})}function Oo(c,p,x){for(var S=-1,P=p.length,z={};++S<P;){var X=p[S],q=qa(c,X);x(q,X)&&bl(z,Ta(X,c),q)}return z}function Br(c){return function(p){return qa(p,c)}}function Zr(c,p,x,S){var P=S?h1:as,z=-1,X=p.length,q=c;for(c===p&&(p=Un(p)),x&&(q=_r(c,fi(x)));++z<X;)for(var se=0,Ce=p[z],we=x?x(Ce):Ce;(se=P(q,we,se,S))>-1;)q!==c&&mu.call(q,se,1),mu.call(c,se,1);return c}function nn(c,p){for(var x=c?p.length:0,S=x-1;x--;){var P=p[x];if(x==S||P!==z){var z=P;Nr(P)?mu.call(c,P,1):zu(c,P)}}return c}function _s(c,p){return c+Mo(uc()*(p-c+1))}function wc(c,p,x,S){for(var P=-1,z=en(hl((p-c)/(x||1)),0),X=pe(z);z--;)X[S?z:++P]=c,c+=x;return X}function wl(c,p){var x="";if(!c||p<1||p>Q)return x;do p%2&&(x+=c),p=Mo(p/2),p&&(c+=c);while(p);return x}function Nt(c,p){return xi(Qu(c,p,Bi),c+"")}function On(c){return ba(m0(c))}function D1(c,p){var x=m0(c);return Ju(x,Ga(p,0,x.length))}function bl(c,p,x,S){if(!Gr(c))return c;p=Ta(p,c);for(var P=-1,z=p.length,X=z-1,q=c;q!=null&&++P<z;){var se=na(p[P]),Ce=x;if(se==="__proto__"||se==="constructor"||se==="prototype")return c;if(P!=X){var we=q[se];Ce=S?S(we,se,q):t,Ce===t&&(Ce=Gr(we)?we:Nr(p[P+1])?[]:{})}ml(q,se,Ce),q=q[se]}return c}var Ou=wu?function(c,p){return wu.set(c,p),c}:Bi,Ma=cc?function(c,p){return cc(c,"toString",{configurable:!0,enumerable:!1,value:tg(p),writable:!0})}:Bi;function Di(c){return Ju(m0(c))}function Nn(c,p,x){var S=-1,P=c.length;p<0&&(p=-p>P?0:P+p),x=x>P?P:x,x<0&&(x+=P),P=p>x?0:x-p>>>0,p>>>=0;for(var z=pe(P);++S<P;)z[S]=c[S+p];return z}function F1(c,p){var x;return Sa(c,function(S,P,z){return x=p(S,P,z),!x}),!!x}function ks(c,p,x){var S=0,P=c==null?S:c.length;if(typeof p=="number"&&p===p&&P<=xe){for(;S<P;){var z=S+P>>>1,X=c[z];X!==null&&!oa(X)&&(x?X<=p:X<p)?S=z+1:P=z}return P}return Nu(c,p,Bi,x)}function Nu(c,p,x,S){var P=0,z=c==null?0:c.length;if(z===0)return 0;p=x(p);for(var X=p!==p,q=p===null,se=oa(p),Ce=p===t;P<z;){var we=Mo((P+z)/2),Ee=x(c[we]),Ve=Ee!==t,rt=Ee===null,ht=Ee===Ee,Wt=oa(Ee);if(X)var pt=S||ht;else Ce?pt=ht&&(S||Ve):q?pt=ht&&Ve&&(S||!rt):se?pt=ht&&Ve&&!rt&&(S||!Wt):rt||Wt?pt=!1:pt=S?Ee<=p:Ee<p;pt?P=we+1:z=we}return Pn(z,ie)}function R1(c,p){for(var x=-1,S=c.length,P=0,z=[];++x<S;){var X=c[x],q=p?p(X):X;if(!x||!oo(q,se)){var se=q;z[P++]=X===0?0:X}}return z}function O1(c){return typeof c=="number"?c:oa(c)?le:+c}function ni(c){if(typeof c=="string")return c;if(Lt(c))return _r(c,ni)+"";if(oa(c))return bu?bu.call(c):"";var p=c+"";return p=="0"&&1/c==-re?"-0":p}function to(c,p,x){var S=-1,P=lu,z=c.length,X=!0,q=[],se=q;if(x)X=!1,P=c1;else if(z>=i){var Ce=p?null:Fh(c);if(Ce)return Eo(Ce);X=!1,P=ja,se=new fl}else se=p?[]:q;e:for(;++S<z;){var we=c[S],Ee=p?p(we):we;if(we=x||we!==0?we:0,X&&Ee===Ee){for(var Ve=se.length;Ve--;)if(se[Ve]===Ee)continue e;p&&se.push(Ee),q.push(we)}else P(se,Ee,x)||(se!==q&&se.push(Ee),q.push(we))}return q}function zu(c,p){return p=Ta(p,c),c=hn(c,p),c==null||delete c[na(Yn(p))]}function N1(c,p,x,S){return bl(c,p,x(qa(c,p)),S)}function bc(c,p,x,S){for(var P=c.length,z=S?P:-1;(S?z--:++z<P)&&p(c[z],z,c););return x?Nn(c,S?0:z,S?z+1:P):Nn(c,S?z+1:0,S?P:z)}function Ss(c,p){var x=c;return x instanceof It&&(x=x.value()),u1(p,function(S,P){return P.func.apply(P.thisArg,So([S],P.args))},x)}function Bu(c,p,x){var S=c.length;if(S<2)return S?to(c[0]):[];for(var P=-1,z=pe(S);++P<S;)for(var X=c[P],q=-1;++q<S;)q!=P&&(z[P]=ka(z[P]||X,c[q],p,x));return to(Hr(z,1),p,x)}function _c(c,p,x){for(var S=-1,P=c.length,z=p.length,X={};++S<P;){var q=S<z?p[S]:t;x(X,c[S],q)}return X}function Es(c){return on(c)?c:[]}function Vu(c){return typeof c=="function"?c:Bi}function Ta(c,p){return Lt(c)?c:Ze(c,p)?[c]:rd(vr(c))}var Eh=Nt;function ro(c,p,x){var S=c.length;return x=x===t?S:x,!p&&x>=S?c:Nn(c,p,x)}var z1=ph||function(c){return Rr.clearTimeout(c)};function B1(c,p){if(p)return c.slice();var x=c.length,S=x1?x1(x):new c.constructor(x);return c.copy(S),S}function kc(c){var p=new c.constructor(c.byteLength);return new sc(p).set(new sc(c)),p}function Mh(c,p){var x=p?kc(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.byteLength)}function Th(c){var p=new c.constructor(c.source,vo.exec(c));return p.lastIndex=c.lastIndex,p}function Ih(c){return vi?gr(vi.call(c)):{}}function Lh(c,p){var x=p?kc(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.length)}function V1(c,p){if(c!==p){var x=c!==t,S=c===null,P=c===c,z=oa(c),X=p!==t,q=p===null,se=p===p,Ce=oa(p);if(!q&&!Ce&&!z&&c>p||z&&X&&se&&!q&&!Ce||S&&X&&se||!x&&se||!P)return 1;if(!S&&!z&&!Ce&&c<p||Ce&&x&&P&&!S&&!z||q&&x&&P||!X&&P||!se)return-1}return 0}function If(c,p,x){for(var S=-1,P=c.criteria,z=p.criteria,X=P.length,q=x.length;++S<X;){var se=V1(P[S],z[S]);if(se){if(S>=q)return se;var Ce=x[S];return se*(Ce=="desc"?-1:1)}}return c.index-p.index}function Ph(c,p,x,S){for(var P=-1,z=c.length,X=x.length,q=-1,se=p.length,Ce=en(z-X,0),we=pe(se+Ce),Ee=!S;++q<se;)we[q]=p[q];for(;++P<X;)(Ee||P<z)&&(we[x[P]]=c[P]);for(;Ce--;)we[q++]=c[P++];return we}function $1(c,p,x,S){for(var P=-1,z=c.length,X=-1,q=x.length,se=-1,Ce=p.length,we=en(z-q,0),Ee=pe(we+Ce),Ve=!S;++P<we;)Ee[P]=c[P];for(var rt=P;++se<Ce;)Ee[rt+se]=p[se];for(;++X<q;)(Ve||P<z)&&(Ee[rt+x[X]]=c[P++]);return Ee}function Un(c,p){var x=-1,S=c.length;for(p||(p=pe(S));++x<S;)p[x]=c[x];return p}function Ji(c,p,x,S){var P=!x;x||(x={});for(var z=-1,X=p.length;++z<X;){var q=p[z],se=S?S(x[q],c[q],q,x,c):t;se===t&&(se=c[q]),P?_a(x,q,se):ml(x,q,se)}return x}function $u(c,p){return Ji(c,ea(c),p)}function Lf(c,p){return Ji(c,Oh(c),p)}function Wu(c,p){return function(x,S){var P=Lt(x)?l1:mi,z=p?p():{};return P(x,c,st(S,2),z)}}function Ms(c){return Nt(function(p,x){var S=-1,P=x.length,z=P>1?x[P-1]:t,X=P>2?x[2]:t;for(z=c.length>3&&typeof z=="function"?(P--,z):t,X&&Xn(x[0],x[1],X)&&(z=P<3?t:z,P=1),p=gr(p);++S<P;){var q=x[S];q&&c(p,q,S,z)}return p})}function Fi(c,p){return function(x,S){if(x==null)return x;if(!Ni(x))return c(x,S);for(var P=x.length,z=p?P:-1,X=gr(x);(p?z--:++z<P)&&S(X[z],z,X)!==!1;);return x}}function Hu(c){return function(p,x,S){for(var P=-1,z=gr(p),X=S(p),q=X.length;q--;){var se=X[c?q:++P];if(x(z[se],se,z)===!1)break}return p}}function Uu(c,p,x){var S=p&E,P=Ts(c);function z(){var X=this&&this!==Rr&&this instanceof z?P:c;return X.apply(S?x:this,arguments)}return z}function W1(c){return function(p){p=vr(p);var x=ls(p)?gi(p):t,S=x?x[0]:p.charAt(0),P=x?ro(x,1).join(""):p.slice(1);return S[c]()+P}}function _l(c){return function(p){return u1(u2(c2(p).replace(eu,"")),c,"")}}function Ts(c){return function(){var p=arguments;switch(p.length){case 0:return new c;case 1:return new c(p[0]);case 2:return new c(p[0],p[1]);case 3:return new c(p[0],p[1],p[2]);case 4:return new c(p[0],p[1],p[2],p[3]);case 5:return new c(p[0],p[1],p[2],p[3],p[4]);case 6:return new c(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new c(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var x=vs(c.prototype),S=c.apply(x,p);return Gr(S)?S:x}}function H1(c,p,x){var S=Ts(c);function P(){for(var z=arguments.length,X=pe(z),q=z,se=no(P);q--;)X[q]=arguments[q];var Ce=z<3&&X[0]!==se&&X[z-1]!==se?[]:Si(X,se);if(z-=Ce.length,z<x)return jn(c,p,Is,P.placeholder,t,X,Ce,t,t,x-z);var we=this&&this!==Rr&&this instanceof P?S:c;return Wn(we,this,X)}return P}function kl(c){return function(p,x,S){var P=gr(p);if(!Ni(p)){var z=st(x,3);p=zn(p),x=function(q){return z(P[q],q,P)}}var X=c(p,x,S);return X>-1?P[z?p[X]:X]:t}}function ju(c){return La(function(p){var x=p.length,S=x,P=An.prototype.thru;for(c&&p.reverse();S--;){var z=p[S];if(typeof z!="function")throw new Ei(s);if(P&&!X&&Ls(z)=="wrapper")var X=new An([],!0)}for(S=X?S:x;++S<x;){z=p[S];var q=Ls(z),se=q=="wrapper"?Zu(z):t;se&&Ac(se[0])&&se[1]==(F|I|O|V)&&!se[4].length&&se[9]==1?X=X[Ls(se[0])].apply(X,se[3]):X=z.length==1&&Ac(z)?X[q]():X.thru(z)}return function(){var Ce=arguments,we=Ce[0];if(X&&Ce.length==1&&Lt(we))return X.plant(we).value();for(var Ee=0,Ve=x?p[Ee].apply(this,Ce):we;++Ee<x;)Ve=p[Ee].call(this,Ve);return Ve}})}function Is(c,p,x,S,P,z,X,q,se,Ce){var we=p&F,Ee=p&E,Ve=p&T,rt=p&(I|D),ht=p&W,Wt=Ve?t:Ts(c);function pt(){for(var Yt=arguments.length,er=pe(Yt),la=Yt;la--;)er[la]=arguments[la];if(rt)var wi=no(pt),sa=nh(er,wi);if(S&&(er=Ph(er,S,P,rt)),z&&(er=$1(er,z,X,rt)),Yt-=sa,rt&&Yt<Ce){var ln=Si(er,wi);return jn(c,p,Is,pt.placeholder,x,er,ln,q,se,Ce-Yt)}var lo=Ee?x:this,Dl=Ve?lo[c]:c;return Yt=er.length,q?er=ta(er,q):ht&&Yt>1&&er.reverse(),we&&se<Yt&&(er.length=se),this&&this!==Rr&&this instanceof pt&&(Dl=Wt||Ts(Dl)),Dl.apply(lo,er)}return pt}function Ah(c,p){return function(x,S){return Qa(x,c,p(S),{})}}function Sc(c,p){return function(x,S){var P;if(x===t&&S===t)return p;if(x!==t&&(P=x),S!==t){if(P===t)return S;typeof x=="string"||typeof S=="string"?(x=ni(x),S=ni(S)):(x=O1(x),S=O1(S)),P=c(x,S)}return P}}function Xu(c){return La(function(p){return p=_r(p,fi(st())),Nt(function(x){var S=this;return c(p,function(P){return Wn(P,S,x)})})})}function Ec(c,p){p=p===t?" ":ni(p);var x=p.length;if(x<2)return x?wl(p,c):p;var S=wl(p,hl(c/ul(p)));return ls(p)?ro(gi(S),0,c).join(""):S.slice(0,c)}function Dh(c,p,x,S){var P=p&E,z=Ts(c);function X(){for(var q=-1,se=arguments.length,Ce=-1,we=S.length,Ee=pe(we+se),Ve=this&&this!==Rr&&this instanceof X?z:c;++Ce<we;)Ee[Ce]=S[Ce];for(;se--;)Ee[Ce++]=arguments[++q];return Wn(Ve,P?x:this,Ee)}return X}function U1(c){return function(p,x,S){return S&&typeof S!="number"&&Xn(p,x,S)&&(x=S=t),p=Al(p),x===t?(x=p,p=0):x=Al(x),S=S===t?p<x?1:-1:Al(S),wc(p,x,S,c)}}function Yu(c){return function(p,x){return typeof p=="string"&&typeof x=="string"||(p=Aa(p),x=Aa(x)),c(p,x)}}function jn(c,p,x,S,P,z,X,q,se,Ce){var we=p&I,Ee=we?X:t,Ve=we?t:X,rt=we?z:t,ht=we?t:z;p|=we?O:N,p&=~(we?N:O),p&M||(p&=-4);var Wt=[c,p,P,rt,Ee,ht,Ve,q,se,Ce],pt=x.apply(t,Wt);return Ac(c)&&ed(pt,Wt),pt.placeholder=S,td(pt,c,p)}function Cn(c){var p=Jr[c];return function(x,S){if(x=Aa(x),S=S==null?0:Pn(zt(S),292),S&&ds(x)){var P=(vr(x)+"e").split("e"),z=p(P[0]+"e"+(+P[1]+S));return P=(vr(z)+"e").split("e"),+(P[0]+"e"+(+P[1]-S))}return p(x)}}var Fh=To&&1/Eo(new To([,-0]))[1]==re?function(c){return new To(c)}:ig;function j1(c){return function(p){var x=wn(p);return x==ke?uu(p):x==xt?_f(p):Cf(p,c(p))}}function Ia(c,p,x,S,P,z,X,q){var se=p&T;if(!se&&typeof c!="function")throw new Ei(s);var Ce=S?S.length:0;if(Ce||(p&=-97,S=P=t),X=X===t?X:en(zt(X),0),q=q===t?q:zt(q),Ce-=P?P.length:0,p&N){var we=S,Ee=P;S=P=t}var Ve=se?t:Zu(c),rt=[c,p,x,S,P,we,Ee,z,X,q];if(Ve&&Vh(rt,Ve),c=rt[0],p=rt[1],x=rt[2],S=rt[3],P=rt[4],q=rt[9]=rt[9]===t?se?0:c.length:en(rt[9]-Ce,0),!q&&p&(I|D)&&(p&=-25),!p||p==E)var ht=Uu(c,p,x);else p==I||p==D?ht=H1(c,p,q):(p==O||p==(E|O))&&!P.length?ht=Dh(c,p,x,S):ht=Is.apply(t,rt);var Wt=Ve?Ou:ed;return td(Wt(ht,rt),c,p)}function X1(c,p,x,S){return c===t||oo(c,ya[x])&&!ar.call(S,x)?p:c}function Y1(c,p,x,S,P,z){return Gr(c)&&Gr(p)&&(z.set(p,c),Cl(c,p,t,Y1,z),z.delete(p)),c}function Z1(c){return md(c)?t:c}function K1(c,p,x,S,P,z){var X=x&w,q=c.length,se=p.length;if(q!=se&&!(X&&se>q))return!1;var Ce=z.get(c),we=z.get(p);if(Ce&&we)return Ce==p&&we==c;var Ee=-1,Ve=!0,rt=x&_?new fl:t;for(z.set(c,p),z.set(p,c);++Ee<q;){var ht=c[Ee],Wt=p[Ee];if(S)var pt=X?S(Wt,ht,Ee,p,c,z):S(ht,Wt,Ee,c,p,z);if(pt!==t){if(pt)continue;Ve=!1;break}if(rt){if(!d1(p,function(Yt,er){if(!ja(rt,er)&&(ht===Yt||P(ht,Yt,x,S,z)))return rt.push(er)})){Ve=!1;break}}else if(!(ht===Wt||P(ht,Wt,x,S,z))){Ve=!1;break}}return z.delete(c),z.delete(p),Ve}function G1(c,p,x,S,P,z,X){switch(x){case Qt:if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case $t:return!(c.byteLength!=p.byteLength||!z(new sc(c),new sc(p)));case Oe:case Be:case et:return oo(+c,+p);case Fe:return c.name==p.name&&c.message==p.message;case qt:case Cr:return c==p+"";case ke:var q=uu;case xt:var se=S&w;if(q||(q=Eo),c.size!=p.size&&!se)return!1;var Ce=X.get(c);if(Ce)return Ce==p;S|=_,X.set(c,p);var we=K1(q(c),q(p),S,P,z,X);return X.delete(c),we;case Qr:if(vi)return vi.call(c)==vi.call(p)}return!1}function Rh(c,p,x,S,P,z){var X=x&w,q=Mc(c),se=q.length,Ce=Mc(p),we=Ce.length;if(se!=we&&!X)return!1;for(var Ee=se;Ee--;){var Ve=q[Ee];if(!(X?Ve in p:ar.call(p,Ve)))return!1}var rt=z.get(c),ht=z.get(p);if(rt&&ht)return rt==p&&ht==c;var Wt=!0;z.set(c,p),z.set(p,c);for(var pt=X;++Ee<se;){Ve=q[Ee];var Yt=c[Ve],er=p[Ve];if(S)var la=X?S(er,Yt,Ve,p,c,z):S(Yt,er,Ve,c,p,z);if(!(la===t?Yt===er||P(Yt,er,x,S,z):la)){Wt=!1;break}pt||(pt=Ve=="constructor")}if(Wt&&!pt){var wi=c.constructor,sa=p.constructor;wi!=sa&&"constructor"in c&&"constructor"in p&&!(typeof wi=="function"&&wi instanceof wi&&typeof sa=="function"&&sa instanceof sa)&&(Wt=!1)}return z.delete(c),z.delete(p),Wt}function La(c){return xi(Qu(c,t,t0),c+"")}function Mc(c){return Lu(c,zn,ea)}function Tc(c){return Lu(c,zi,Oh)}var Zu=wu?function(c){return wu.get(c)}:ig;function Ls(c){for(var p=c.name+"",x=fs[p],S=ar.call(fs,p)?x.length:0;S--;){var P=x[S],z=P.func;if(z==null||z==c)return P.name}return p}function no(c){var p=ar.call(R,"placeholder")?R:c;return p.placeholder}function st(){var c=R.iteratee||rg;return c=c===rg?bs:c,arguments.length?c(arguments[0],arguments[1]):c}function Ic(c,p){var x=c.__data__;return Ps(p)?x[typeof p=="string"?"string":"hash"]:x.map}function Lc(c){for(var p=zn(c),x=p.length;x--;){var S=p[x],P=c[S];p[x]=[S,P,Dc(P)]}return p}function No(c,p){var x=os(c,p);return T1(x)?x:t}function Ku(c){var p=ar.call(c,dl),x=c[dl];try{c[dl]=t;var S=!0}catch{}var P=oc.call(c);return S&&(p?c[dl]=x:delete c[dl]),P}var ea=yu?function(c){return c==null?[]:(c=gr(c),ko(yu(c),function(p){return vu.call(c,p)}))}:ag,Oh=yu?function(c){for(var p=[];c;)So(p,ea(c)),c=qi(c);return p}:ag,wn=xn;(dc&&wn(new dc(new ArrayBuffer(1)))!=Qt||pl&&wn(new pl)!=ke||hc&&wn(hc.resolve())!=St||To&&wn(new To)!=xt||pc&&wn(new pc)!=lr)&&(wn=function(c){var p=xn(c),x=p==Ue?c.constructor:t,S=x?zo(x):"";if(S)switch(S){case b1:return Qt;case Io:return ke;case gh:return St;case gs:return xt;case xa:return lr}return p});function q1(c,p,x){for(var S=-1,P=x.length;++S<P;){var z=x[S],X=z.size;switch(z.type){case"drop":c+=X;break;case"dropRight":p-=X;break;case"take":p=Pn(p,c+X);break;case"takeRight":c=en(c,p-X);break}}return{start:c,end:p}}function Nh(c){var p=c.match(dn);return p?p[1].split(In):[]}function Q1(c,p,x){p=Ta(p,c);for(var S=-1,P=p.length,z=!1;++S<P;){var X=na(p[S]);if(!(z=c!=null&&x(c,X)))break;c=c[X]}return z||++S!=P?z:(P=c==null?0:c.length,!!P&&np(P)&&Nr(X,P)&&(Lt(c)||$c(c)))}function Pc(c){var p=c.length,x=new c.constructor(p);return p&&typeof c[0]=="string"&&ar.call(c,"index")&&(x.index=c.index,x.input=c.input),x}function bn(c){return typeof c.constructor=="function"&&!io(c)?vs(qi(c)):{}}function Pf(c,p,x){var S=c.constructor;switch(p){case $t:return kc(c);case Oe:case Be:return new S(+c);case Qt:return Mh(c,x);case Wr:case sr:case Ar:case mt:case ze:case Ct:case gt:case wt:case vt:return Lh(c,x);case ke:return new S;case et:case Cr:return new S(c);case qt:return Th(c);case xt:return new S;case Qr:return Ih(c)}}function Af(c,p){var x=p.length;if(!x)return c;var S=x-1;return p[S]=(x>1?"& ":"")+p[S],p=p.join(x>2?", ":" "),c.replace(un,`{
/* [wrapped with `+p+`] */
`)}function Gu(c){return Lt(c)||$c(c)||!!(hh&&c&&c[hh])}function Nr(c,p){var x=typeof c;return p=p??Q,!!p&&(x=="number"||x!="symbol"&&Us.test(c))&&c>-1&&c%1==0&&c<p}function Xn(c,p,x){if(!Gr(x))return!1;var S=typeof p;return(S=="number"?Ni(x)&&Nr(p,x.length):S=="string"&&p in x)?oo(x[p],c):!1}function Ze(c,p){if(Lt(c))return!1;var x=typeof c;return x=="number"||x=="symbol"||x=="boolean"||c==null||oa(c)?!0:Et.test(c)||!zr.test(c)||p!=null&&c in gr(p)}function Ps(c){var p=typeof c;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null}function Ac(c){var p=Ls(c),x=R[p];if(typeof x!="function"||!(p in It.prototype))return!1;if(c===x)return!0;var S=Zu(x);return!!S&&c===S[0]}function zh(c){return!!pu&&pu in c}var Df=cs?Pl:og;function io(c){var p=c&&c.constructor,x=typeof p=="function"&&p.prototype||ya;return c===x}function Dc(c){return c===c&&!Gr(c)}function qu(c,p){return function(x){return x==null?!1:x[c]===p&&(p!==t||c in gr(x))}}function Bh(c){var p=de(c,function(S){return x.size===h&&x.clear(),S}),x=p.cache;return p}function Vh(c,p){var x=c[1],S=p[1],P=x|S,z=P<(E|T|F),X=S==F&&x==I||S==F&&x==V&&c[7].length<=p[8]||S==(F|V)&&p[7].length<=p[8]&&x==I;if(!(z||X))return c;S&E&&(c[2]=p[2],P|=x&E?0:M);var q=p[3];if(q){var se=c[3];c[3]=se?Ph(se,q,p[4]):q,c[4]=se?Si(c[3],g):p[4]}return q=p[5],q&&(se=c[5],c[5]=se?$1(se,q,p[6]):q,c[6]=se?Si(c[5],g):p[6]),q=p[7],q&&(c[7]=q),S&F&&(c[8]=c[8]==null?p[8]:Pn(c[8],p[8])),c[9]==null&&(c[9]=p[9]),c[0]=p[0],c[1]=P,c}function $h(c){var p=[];if(c!=null)for(var x in gr(c))p.push(x);return p}function J1(c){return oc.call(c)}function Qu(c,p,x){return p=en(p===t?c.length-1:p,0),function(){for(var S=arguments,P=-1,z=en(S.length-p,0),X=pe(z);++P<z;)X[P]=S[p+P];P=-1;for(var q=pe(p+1);++P<p;)q[P]=S[P];return q[p]=x(X),Wn(c,this,q)}}function hn(c,p){return p.length<2?c:qa(c,Nn(p,0,-1))}function ta(c,p){for(var x=c.length,S=Pn(p.length,x),P=Un(c);S--;){var z=p[S];c[S]=Nr(z,x)?P[z]:t}return c}function Pa(c,p){if(!(p==="constructor"&&typeof c[p]=="function")&&p!="__proto__")return c[p]}var ed=ra(Ou),As=C1||function(c,p){return Rr.setTimeout(c,p)},xi=ra(Ma);function td(c,p,x){var S=p+"";return xi(c,Af(S,Wh(Nh(S),x)))}function ra(c){var p=0,x=0;return function(){var S=Tf(),P=H-(S-x);if(x=S,P>0){if(++p>=he)return arguments[0]}else p=0;return c.apply(t,arguments)}}function Ju(c,p){var x=-1,S=c.length,P=S-1;for(p=p===t?S:p;++x<p;){var z=_s(x,P),X=c[z];c[z]=c[x],c[x]=X}return c.length=p,c}var rd=Bh(function(c){var p=[];return c.charCodeAt(0)===46&&p.push(""),c.replace(wr,function(x,S,P,z){p.push(P?z.replace(Qo,"$1"):S||x)}),p});function na(c){if(typeof c=="string"||oa(c))return c;var p=c+"";return p=="0"&&1/c==-re?"-0":p}function zo(c){if(c!=null){try{return ac.call(c)}catch{}try{return c+""}catch{}}return""}function Wh(c,p){return Ln(Me,function(x){var S="_."+x[0];p&x[1]&&!lu(c,S)&&c.push(S)}),c.sort()}function Hh(c){if(c instanceof It)return c.clone();var p=new An(c.__wrapped__,c.__chain__);return p.__actions__=Un(c.__actions__),p.__index__=c.__index__,p.__values__=c.__values__,p}function e0(c,p,x){(x?Xn(c,p,x):p===t)?p=1:p=en(zt(p),0);var S=c==null?0:c.length;if(!S||p<1)return[];for(var P=0,z=0,X=pe(hl(S/p));P<S;)X[z++]=Nn(c,P,P+=p);return X}function nd(c){for(var p=-1,x=c==null?0:c.length,S=0,P=[];++p<x;){var z=c[p];z&&(P[S++]=z)}return P}function Ri(){var c=arguments.length;if(!c)return[];for(var p=pe(c-1),x=arguments[0],S=c;S--;)p[S-1]=arguments[S];return So(Lt(x)?Un(x):[x],Hr(p,1))}var Jt=Nt(function(c,p){return on(c)?ka(c,Hr(p,1,on,!0)):[]}),pn=Nt(function(c,p){var x=Yn(p);return on(x)&&(x=t),on(c)?ka(c,Hr(p,1,on,!0),st(x,2)):[]}),tn=Nt(function(c,p){var x=Yn(p);return on(x)&&(x=t),on(c)?ka(c,Hr(p,1,on,!0),t,x):[]});function _n(c,p,x){var S=c==null?0:c.length;return S?(p=x||p===t?1:zt(p),Nn(c,p<0?0:p,S)):[]}function Ci(c,p,x){var S=c==null?0:c.length;return S?(p=x||p===t?1:zt(p),p=S-p,Nn(c,0,p<0?0:p)):[]}function Ds(c,p){return c&&c.length?bc(c,st(p,3),!0,!0):[]}function an(c,p){return c&&c.length?bc(c,st(p,3),!0):[]}function Fc(c,p,x,S){var P=c==null?0:c.length;return P?(x&&typeof x!="number"&&Xn(c,p,x)&&(x=0,S=P),_h(c,p,x,S)):[]}function Bo(c,p,x){var S=c==null?0:c.length;if(!S)return-1;var P=x==null?0:zt(x);return P<0&&(P=en(S+P,0)),su(c,st(p,3),P)}function Rc(c,p,x){var S=c==null?0:c.length;if(!S)return-1;var P=S-1;return x!==t&&(P=zt(x),P=x<0?en(S+P,0):Pn(P,S-1)),su(c,st(p,3),P,!0)}function t0(c){var p=c==null?0:c.length;return p?Hr(c,1):[]}function Oc(c){var p=c==null?0:c.length;return p?Hr(c,re):[]}function ii(c,p){var x=c==null?0:c.length;return x?(p=p===t?1:zt(p),Hr(c,p)):[]}function id(c){for(var p=-1,x=c==null?0:c.length,S={};++p<x;){var P=c[p];S[P[0]]=P[1]}return S}function Sl(c){return c&&c.length?c[0]:t}function ao(c,p,x){var S=c==null?0:c.length;if(!S)return-1;var P=x==null?0:zt(x);return P<0&&(P=en(S+P,0)),as(c,p,P)}function r0(c){var p=c==null?0:c.length;return p?Nn(c,0,-1):[]}var ad=Nt(function(c){var p=_r(c,Es);return p.length&&p[0]===c[0]?Pu(p):[]}),Vo=Nt(function(c){var p=Yn(c),x=_r(c,Es);return p===Yn(x)?p=t:x.pop(),x.length&&x[0]===c[0]?Pu(x,st(p,2)):[]}),n0=Nt(function(c){var p=Yn(c),x=_r(c,Es);return p=typeof p=="function"?p:t,p&&x.pop(),x.length&&x[0]===c[0]?Pu(x,t,p):[]});function $o(c,p){return c==null?"":xu.call(c,p)}function Yn(c){var p=c==null?0:c.length;return p?c[p-1]:t}function Nc(c,p,x){var S=c==null?0:c.length;if(!S)return-1;var P=S;return x!==t&&(P=zt(x),P=P<0?en(S+P,0):Pn(P,S-1)),p===p?kf(c,p,P):su(c,Qd,P,!0)}function od(c,p){return c&&c.length?Ru(c,zt(p)):t}var i0=Nt(zc);function zc(c,p){return c&&c.length&&p&&p.length?Zr(c,p):c}function Zn(c,p,x){return c&&c.length&&p&&p.length?Zr(c,p,st(x,2)):c}function Wo(c,p,x){return c&&c.length&&p&&p.length?Zr(c,p,t,x):c}var ia=La(function(c,p){var x=c==null?0:c.length,S=Tu(c,p);return nn(c,_r(p,function(P){return Nr(P,x)?+P:P}).sort(V1)),S});function ai(c,p){var x=[];if(!(c&&c.length))return x;var S=-1,P=[],z=c.length;for(p=st(p,3);++S<z;){var X=c[S];p(X,S,c)&&(x.push(X),P.push(S))}return nn(c,P),x}function a0(c){return c==null?c:Cu.call(c)}function ld(c,p,x){var S=c==null?0:c.length;return S?(x&&typeof x!="number"&&Xn(c,p,x)?(p=0,x=S):(p=p==null?0:zt(p),x=x===t?S:zt(x)),Nn(c,p,x)):[]}function sd(c,p){return ks(c,p)}function Ff(c,p,x){return Nu(c,p,st(x,2))}function Ho(c,p){var x=c==null?0:c.length;if(x){var S=ks(c,p);if(S<x&&oo(c[S],p))return S}return-1}function Uh(c,p){return ks(c,p,!0)}function cd(c,p,x){return Nu(c,p,st(x,2),!0)}function El(c,p){var x=c==null?0:c.length;if(x){var S=ks(c,p,!0)-1;if(oo(c[S],p))return S}return-1}function ud(c){return c&&c.length?R1(c):[]}function Ml(c,p){return c&&c.length?R1(c,st(p,2)):[]}function jh(c){var p=c==null?0:c.length;return p?Nn(c,1,p):[]}function Xh(c,p,x){return c&&c.length?(p=x||p===t?1:zt(p),Nn(c,0,p<0?0:p)):[]}function dd(c,p,x){var S=c==null?0:c.length;return S?(p=x||p===t?1:zt(p),p=S-p,Nn(c,p<0?0:p,S)):[]}function o0(c,p){return c&&c.length?bc(c,st(p,3),!1,!0):[]}function Rf(c,p){return c&&c.length?bc(c,st(p,3)):[]}var Of=Nt(function(c){return to(Hr(c,1,on,!0))}),Yh=Nt(function(c){var p=Yn(c);return on(p)&&(p=t),to(Hr(c,1,on,!0),st(p,2))}),Zh=Nt(function(c){var p=Yn(c);return p=typeof p=="function"?p:t,to(Hr(c,1,on,!0),t,p)});function Tl(c){return c&&c.length?to(c):[]}function Nf(c,p){return c&&c.length?to(c,st(p,2)):[]}function Fs(c,p){return p=typeof p=="function"?p:t,c&&c.length?to(c,t,p):[]}function l0(c){if(!(c&&c.length))return[];var p=0;return c=ko(c,function(x){if(on(x))return p=en(x.length,p),!0}),g1(p,function(x){return _r(c,p1(x))})}function Vr(c,p){if(!(c&&c.length))return[];var x=l0(c);return p==null?x:_r(x,function(S){return Wn(p,t,S)})}var zf=Nt(function(c,p){return on(c)?ka(c,p):[]}),Kh=Nt(function(c){return Bu(ko(c,on))}),Bf=Nt(function(c){var p=Yn(c);return on(p)&&(p=t),Bu(ko(c,on),st(p,2))}),Vf=Nt(function(c){var p=Yn(c);return p=typeof p=="function"?p:t,Bu(ko(c,on),t,p)}),Gh=Nt(l0);function qh(c,p){return _c(c||[],p||[],ml)}function $f(c,p){return _c(c||[],p||[],bl)}var Oi=Nt(function(c){var p=c.length,x=p>1?c[p-1]:t;return x=typeof x=="function"?(c.pop(),x):t,Vr(c,x)});function s0(c){var p=R(c);return p.__chain__=!0,p}function Wf(c,p){return p(c),c}function aa(c,p){return p(c)}var c0=La(function(c){var p=c.length,x=p?c[0]:0,S=this.__wrapped__,P=function(z){return Tu(z,c)};return p>1||this.__actions__.length||!(S instanceof It)||!Nr(x)?this.thru(P):(S=S.slice(x,+x+(p?1:0)),S.__actions__.push({func:aa,args:[P],thisArg:t}),new An(S,this.__chain__).thru(function(z){return p&&!z.length&&z.push(t),z}))});function Il(){return s0(this)}function u0(){return new An(this.value(),this.__chain__)}function hd(){this.__values__===t&&(this.__values__=e2(this.value()));var c=this.__index__>=this.__values__.length,p=c?t:this.__values__[this.__index__++];return{done:c,value:p}}function pd(){return this}function Hf(c){for(var p,x=this;x instanceof Ca;){var S=Hh(x);S.__index__=0,S.__values__=t,p?P.__wrapped__=S:p=S;var P=S;x=x.__wrapped__}return P.__wrapped__=c,p}function fd(){var c=this.__wrapped__;if(c instanceof It){var p=c;return this.__actions__.length&&(p=new It(this)),p=p.reverse(),p.__actions__.push({func:aa,args:[a0],thisArg:t}),new An(p,this.__chain__)}return this.thru(a0)}function Uf(){return Ss(this.__wrapped__,this.__actions__)}var Qh=Wu(function(c,p,x){ar.call(c,x)?++c[x]:_a(c,x,1)});function Jh(c,p,x){var S=Lt(c)?s1:vc;return x&&Xn(c,p,x)&&(p=t),S(c,st(p,3))}function d0(c,p){var x=Lt(c)?ko:E1;return x(c,st(p,3))}var h0=kl(Bo),ep=kl(Rc);function gd(c,p){return Hr(Ll(c,p),1)}function jf(c,p){return Hr(Ll(c,p),re)}function tp(c,p,x){return x=x===t?1:zt(x),Hr(Ll(c,p),x)}function p0(c,p){var x=Lt(c)?Ln:Sa;return x(c,st(p,3))}function Bc(c,p){var x=Lt(c)?ou:bh;return x(c,st(p,3))}var vd=Wu(function(c,p,x){ar.call(c,x)?c[x].push(p):_a(c,x,[p])});function f0(c,p,x,S){c=Ni(c)?c:m0(c),x=x&&!S?zt(x):0;var P=c.length;return x<0&&(x=en(P+x,0)),ip(c)?x<=P&&c.indexOf(p,x)>-1:!!P&&as(c,p,x)>-1}var rp=Nt(function(c,p,x){var S=-1,P=typeof p=="function",z=Ni(c)?pe(c.length):[];return Sa(c,function(X){z[++S]=P?Wn(p,X,x):Pi(X,p,x)}),z}),Xf=Wu(function(c,p,x){_a(c,x,p)});function Ll(c,p){var x=Lt(c)?_r:L1;return x(c,st(p,3))}function Yf(c,p,x,S){return c==null?[]:(Lt(p)||(p=p==null?[]:[p]),x=S?t:x,Lt(x)||(x=x==null?[]:[x]),Cc(c,p,x))}var Vc=Wu(function(c,p,x){c[x?0:1].push(p)},function(){return[[],[]]});function Zf(c,p,x){var S=Lt(c)?u1:eh,P=arguments.length<3;return S(c,st(p,4),x,P,Sa)}function g0(c,p,x){var S=Lt(c)?vf:eh,P=arguments.length<3;return S(c,st(p,4),x,P,bh)}function a(c,p){var x=Lt(c)?ko:E1;return x(c,Le(st(p,3)))}function l(c){var p=Lt(c)?ba:On;return p(c)}function f(c,p,x){(x?Xn(c,p,x):p===t)?p=1:p=zt(p);var S=Lt(c)?vl:D1;return S(c,p)}function m(c){var p=Lt(c)?Ch:Di;return p(c)}function b(c){if(c==null)return 0;if(Ni(c))return ip(c)?ul(c):c.length;var p=wn(c);return p==ke||p==xt?c.size:eo(c).length}function k(c,p,x){var S=Lt(c)?d1:F1;return x&&Xn(c,p,x)&&(p=t),S(c,st(p,3))}var A=Nt(function(c,p){if(c==null)return[];var x=p.length;return x>1&&Xn(c,p[0],p[1])?p=[]:x>2&&Xn(p[0],p[1],p[2])&&(p=[p[0]]),Cc(c,Hr(p,1),[])}),U=Tr||function(){return Rr.Date.now()};function G(c,p){if(typeof p!="function")throw new Ei(s);return c=zt(c),function(){if(--c<1)return p.apply(this,arguments)}}function fe(c,p,x){return p=x?t:p,p=c&&p==null?c.length:p,Ia(c,F,t,t,t,t,p)}function Se(c,p){var x;if(typeof p!="function")throw new Ei(s);return c=zt(c),function(){return--c>0&&(x=p.apply(this,arguments)),c<=1&&(p=t),x}}var Te=Nt(function(c,p,x){var S=E;if(x.length){var P=Si(x,no(Te));S|=O}return Ia(c,S,p,x,P)}),_e=Nt(function(c,p,x){var S=E|T;if(x.length){var P=Si(x,no(_e));S|=O}return Ia(p,S,c,x,P)});function Xe(c,p,x){p=x?t:p;var S=Ia(c,I,t,t,t,t,t,p);return S.placeholder=Xe.placeholder,S}function Ge(c,p,x){p=x?t:p;var S=Ia(c,D,t,t,t,t,t,p);return S.placeholder=Ge.placeholder,S}function qe(c,p,x){var S,P,z,X,q,se,Ce=0,we=!1,Ee=!1,Ve=!0;if(typeof c!="function")throw new Ei(s);p=Aa(p)||0,Gr(x)&&(we=!!x.leading,Ee="maxWait"in x,z=Ee?en(Aa(x.maxWait)||0,p):z,Ve="trailing"in x?!!x.trailing:Ve);function rt(ln){var lo=S,Dl=P;return S=P=t,Ce=ln,X=c.apply(Dl,lo),X}function ht(ln){return Ce=ln,q=As(Yt,p),we?rt(ln):X}function Wt(ln){var lo=ln-se,Dl=ln-Ce,p2=p-lo;return Ee?Pn(p2,z-Dl):p2}function pt(ln){var lo=ln-se,Dl=ln-Ce;return se===t||lo>=p||lo<0||Ee&&Dl>=z}function Yt(){var ln=U();if(pt(ln))return er(ln);q=As(Yt,Wt(ln))}function er(ln){return q=t,Ve&&S?rt(ln):(S=P=t,X)}function la(){q!==t&&z1(q),Ce=0,S=se=P=q=t}function wi(){return q===t?X:er(U())}function sa(){var ln=U(),lo=pt(ln);if(S=arguments,P=this,se=ln,lo){if(q===t)return ht(se);if(Ee)return z1(q),q=As(Yt,p),rt(se)}return q===t&&(q=As(Yt,p)),X}return sa.cancel=la,sa.flush=wi,sa}var Kr=Nt(function(c,p){return S1(c,1,p)}),ce=Nt(function(c,p,x){return S1(c,Aa(p)||0,x)});function te(c){return Ia(c,W)}function de(c,p){if(typeof c!="function"||p!=null&&typeof p!="function")throw new Ei(s);var x=function(){var S=arguments,P=p?p.apply(this,S):S[0],z=x.cache;if(z.has(P))return z.get(P);var X=c.apply(this,S);return x.cache=z.set(P,X)||z,X};return x.cache=new(de.Cache||Mi),x}de.Cache=Mi;function Le(c){if(typeof c!="function")throw new Ei(s);return function(){var p=arguments;switch(p.length){case 0:return!c.call(this);case 1:return!c.call(this,p[0]);case 2:return!c.call(this,p[0],p[1]);case 3:return!c.call(this,p[0],p[1],p[2])}return!c.apply(this,p)}}function tt(c){return Se(2,c)}var lt=Eh(function(c,p){p=p.length==1&&Lt(p[0])?_r(p[0],fi(st())):_r(Hr(p,1),fi(st()));var x=p.length;return Nt(function(S){for(var P=-1,z=Pn(S.length,x);++P<z;)S[P]=p[P].call(this,S[P]);return Wn(c,this,S)})}),it=Nt(function(c,p){var x=Si(p,no(it));return Ia(c,O,t,p,x)}),dt=Nt(function(c,p){var x=Si(p,no(dt));return Ia(c,N,t,p,x)}),fn=La(function(c,p){return Ia(c,V,t,t,t,p)});function or(c,p){if(typeof c!="function")throw new Ei(s);return p=p===t?p:zt(p),Nt(c,p)}function Uo(c,p){if(typeof c!="function")throw new Ei(s);return p=p==null?0:en(zt(p),0),Nt(function(x){var S=x[p],P=ro(x,0,p);return S&&So(P,S),Wn(c,this,P)})}function Kf(c,p,x){var S=!0,P=!0;if(typeof c!="function")throw new Ei(s);return Gr(x)&&(S="leading"in x?!!x.leading:S,P="trailing"in x?!!x.trailing:P),qe(c,p,{leading:S,maxWait:p,trailing:P})}function b9(c){return fe(c,1)}function _9(c,p){return it(Vu(p),c)}function k9(){if(!arguments.length)return[];var c=arguments[0];return Lt(c)?c:[c]}function S9(c){return ri(c,C)}function E9(c,p){return p=typeof p=="function"?p:t,ri(c,C,p)}function M9(c){return ri(c,v|C)}function T9(c,p){return p=typeof p=="function"?p:t,ri(c,v|C,p)}function I9(c,p){return p==null||gc(c,p,zn(p))}function oo(c,p){return c===p||c!==c&&p!==p}var L9=Yu(Fo),P9=Yu(function(c,p){return c>=p}),$c=Au(function(){return arguments}())?Au:function(c){return rn(c)&&ar.call(c,"callee")&&!vu.call(c,"callee")},Lt=pe.isArray,A9=o1?fi(o1):kh;function Ni(c){return c!=null&&np(c.length)&&!Pl(c)}function on(c){return rn(c)&&Ni(c)}function D9(c){return c===!0||c===!1||rn(c)&&xn(c)==Oe}var Rs=w1||og,F9=Qn?fi(Qn):Ja;function R9(c){return rn(c)&&c.nodeType===1&&!md(c)}function O9(c){if(c==null)return!0;if(Ni(c)&&(Lt(c)||typeof c=="string"||typeof c.splice=="function"||Rs(c)||v0(c)||$c(c)))return!c.length;var p=wn(c);if(p==ke||p==xt)return!c.size;if(io(c))return!eo(c).length;for(var x in c)if(ar.call(c,x))return!1;return!0}function N9(c,p){return Ai(c,p)}function z9(c,p,x){x=typeof x=="function"?x:t;var S=x?x(c,p):t;return S===t?Ai(c,p,t,x):!!S}function Gf(c){if(!rn(c))return!1;var p=xn(c);return p==Fe||p==ye||typeof c.message=="string"&&typeof c.name=="string"&&!md(c)}function B9(c){return typeof c=="number"&&ds(c)}function Pl(c){if(!Gr(c))return!1;var p=xn(c);return p==He||p==Ne||p==Je||p==Gt}function Gv(c){return typeof c=="number"&&c==zt(c)}function np(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Q}function Gr(c){var p=typeof c;return c!=null&&(p=="object"||p=="function")}function rn(c){return c!=null&&typeof c=="object"}var qv=cl?fi(cl):Sh;function V9(c,p){return c===p||ws(c,p,Lc(p))}function $9(c,p,x){return x=typeof x=="function"?x:t,ws(c,p,Lc(p),x)}function W9(c){return Qv(c)&&c!=+c}function H9(c){if(Df(c))throw new yt(o);return T1(c)}function U9(c){return c===null}function j9(c){return c==null}function Qv(c){return typeof c=="number"||rn(c)&&xn(c)==et}function md(c){if(!rn(c)||xn(c)!=Ue)return!1;var p=qi(c);if(p===null)return!0;var x=ar.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&ac.call(x)==fu}var qf=au?fi(au):yc;function X9(c){return Gv(c)&&c>=-Q&&c<=Q}var Jv=is?fi(is):Ea;function ip(c){return typeof c=="string"||!Lt(c)&&rn(c)&&xn(c)==Cr}function oa(c){return typeof c=="symbol"||rn(c)&&xn(c)==Qr}var v0=Kd?fi(Kd):xc;function Y9(c){return c===t}function Z9(c){return rn(c)&&wn(c)==lr}function K9(c){return rn(c)&&xn(c)==Tt}var G9=Yu(Ro),q9=Yu(function(c,p){return c<=p});function e2(c){if(!c)return[];if(Ni(c))return ip(c)?gi(c):Un(c);if(Za&&c[Za])return bf(c[Za]());var p=wn(c),x=p==ke?uu:p==xt?Eo:m0;return x(c)}function Al(c){if(!c)return c===0?c:0;if(c=Aa(c),c===re||c===-re){var p=c<0?-1:1;return p*ue}return c===c?c:0}function zt(c){var p=Al(c),x=p%1;return p===p?x?p-x:p:0}function t2(c){return c?Ga(zt(c),0,j):0}function Aa(c){if(typeof c=="number")return c;if(oa(c))return le;if(Gr(c)){var p=typeof c.valueOf=="function"?c.valueOf():c;c=Gr(p)?p+"":p}if(typeof c!="string")return c===0?c:+c;c=th(c);var x=mo.test(c);return x||tl.test(c)?nu(c.slice(2),x?2:8):Jo.test(c)?le:+c}function r2(c){return Ji(c,zi(c))}function Q9(c){return c?Ga(zt(c),-Q,Q):c===0?c:0}function vr(c){return c==null?"":ni(c)}var J9=Ms(function(c,p){if(io(p)||Ni(p)){Ji(p,zn(p),c);return}for(var x in p)ar.call(p,x)&&ml(c,x,p[x])}),n2=Ms(function(c,p){Ji(p,zi(p),c)}),ap=Ms(function(c,p,x,S){Ji(p,zi(p),c,S)}),e3=Ms(function(c,p,x,S){Ji(p,zn(p),c,S)}),t3=La(Tu);function r3(c,p){var x=vs(c);return p==null?x:Lr(x,p)}var n3=Nt(function(c,p){c=gr(c);var x=-1,S=p.length,P=S>2?p[2]:t;for(P&&Xn(p[0],p[1],P)&&(S=1);++x<S;)for(var z=p[x],X=zi(z),q=-1,se=X.length;++q<se;){var Ce=X[q],we=c[Ce];(we===t||oo(we,ya[Ce])&&!ar.call(c,Ce))&&(c[Ce]=z[Ce])}return c}),i3=Nt(function(c){return c.push(t,Y1),Wn(i2,t,c)});function a3(c,p){return qd(c,st(p,3),yi)}function o3(c,p){return qd(c,st(p,3),Do)}function l3(c,p){return c==null?c:Iu(c,st(p,3),zi)}function s3(c,p){return c==null?c:mc(c,st(p,3),zi)}function c3(c,p){return c&&yi(c,st(p,3))}function u3(c,p){return c&&Do(c,st(p,3))}function d3(c){return c==null?[]:Cs(c,zn(c))}function h3(c){return c==null?[]:Cs(c,zi(c))}function Qf(c,p,x){var S=c==null?t:qa(c,p);return S===t?x:S}function p3(c,p){return c!=null&&Q1(c,p,Li)}function Jf(c,p){return c!=null&&Q1(c,p,xl)}var f3=Ah(function(c,p,x){p!=null&&typeof p.toString!="function"&&(p=oc.call(p)),c[p]=x},tg(Bi)),g3=Ah(function(c,p,x){p!=null&&typeof p.toString!="function"&&(p=oc.call(p)),ar.call(c,p)?c[p].push(x):c[p]=[x]},st),v3=Nt(Pi);function zn(c){return Ni(c)?wa(c):eo(c)}function zi(c){return Ni(c)?wa(c,!0):I1(c)}function m3(c,p){var x={};return p=st(p,3),yi(c,function(S,P,z){_a(x,p(S,P,z),S)}),x}function y3(c,p){var x={};return p=st(p,3),yi(c,function(S,P,z){_a(x,P,p(S,P,z))}),x}var x3=Ms(function(c,p,x){Cl(c,p,x)}),i2=Ms(function(c,p,x,S){Cl(c,p,x,S)}),C3=La(function(c,p){var x={};if(c==null)return x;var S=!1;p=_r(p,function(z){return z=Ta(z,c),S||(S=z.length>1),z}),Ji(c,Tc(c),x),S&&(x=ri(x,v|y|C,Z1));for(var P=p.length;P--;)zu(x,p[P]);return x});function w3(c,p){return a2(c,Le(st(p)))}var b3=La(function(c,p){return c==null?{}:A1(c,p)});function a2(c,p){if(c==null)return{};var x=_r(Tc(c),function(S){return[S]});return p=st(p),Oo(c,x,function(S,P){return p(S,P[0])})}function _3(c,p,x){p=Ta(p,c);var S=-1,P=p.length;for(P||(P=1,c=t);++S<P;){var z=c==null?t:c[na(p[S])];z===t&&(S=P,z=x),c=Pl(z)?z.call(c):z}return c}function k3(c,p,x){return c==null?c:bl(c,p,x)}function S3(c,p,x,S){return S=typeof S=="function"?S:t,c==null?c:bl(c,p,x,S)}var o2=j1(zn),l2=j1(zi);function E3(c,p,x){var S=Lt(c),P=S||Rs(c)||v0(c);if(p=st(p,4),x==null){var z=c&&c.constructor;P?x=S?new z:[]:Gr(c)?x=Pl(z)?vs(qi(c)):{}:x={}}return(P?Ln:yi)(c,function(X,q,se){return p(x,X,q,se)}),x}function M3(c,p){return c==null?!0:zu(c,p)}function T3(c,p,x){return c==null?c:N1(c,p,Vu(x))}function I3(c,p,x,S){return S=typeof S=="function"?S:t,c==null?c:N1(c,p,Vu(x),S)}function m0(c){return c==null?[]:nc(c,zn(c))}function L3(c){return c==null?[]:nc(c,zi(c))}function P3(c,p,x){return x===t&&(x=p,p=t),x!==t&&(x=Aa(x),x=x===x?x:0),p!==t&&(p=Aa(p),p=p===p?p:0),Ga(Aa(c),p,x)}function A3(c,p,x){return p=Al(p),x===t?(x=p,p=0):x=Al(x),c=Aa(c),M1(c,p,x)}function D3(c,p,x){if(x&&typeof x!="boolean"&&Xn(c,p,x)&&(p=x=t),x===t&&(typeof p=="boolean"?(x=p,p=t):typeof c=="boolean"&&(x=c,c=t)),c===t&&p===t?(c=0,p=1):(c=Al(c),p===t?(p=c,c=0):p=Al(p)),c>p){var S=c;c=p,p=S}if(x||c%1||p%1){var P=uc();return Pn(c+P*(p-c+i1("1e-"+((P+"").length-1))),p)}return _s(c,p)}var F3=_l(function(c,p,x){return p=p.toLowerCase(),c+(x?s2(p):p)});function s2(c){return eg(vr(c).toLowerCase())}function c2(c){return c=vr(c),c&&c.replace(js,ih).replace(ec,"")}function R3(c,p,x){c=vr(c),p=ni(p);var S=c.length;x=x===t?S:Ga(zt(x),0,S);var P=x;return x-=p.length,x>=0&&c.slice(x,P)==p}function O3(c){return c=vr(c),c&&ur.test(c)?c.replace(ut,ah):c}function N3(c){return c=vr(c),c&&fr.test(c)?c.replace(br,"\\$&"):c}var z3=_l(function(c,p,x){return c+(x?"-":"")+p.toLowerCase()}),B3=_l(function(c,p,x){return c+(x?" ":"")+p.toLowerCase()}),V3=W1("toLowerCase");function $3(c,p,x){c=vr(c),p=zt(p);var S=p?ul(c):0;if(!p||S>=p)return c;var P=(p-S)/2;return Ec(Mo(P),x)+c+Ec(hl(P),x)}function W3(c,p,x){c=vr(c),p=zt(p);var S=p?ul(c):0;return p&&S<p?c+Ec(p-S,x):c}function H3(c,p,x){c=vr(c),p=zt(p);var S=p?ul(c):0;return p&&S<p?Ec(p-S,x)+c:c}function U3(c,p,x){return x||p==null?p=0:p&&(p=+p),fh(vr(c).replace(cn,""),p||0)}function j3(c,p,x){return(x?Xn(c,p,x):p===t)?p=1:p=zt(p),wl(vr(c),p)}function X3(){var c=arguments,p=vr(c[0]);return c.length<3?p:p.replace(c[1],c[2])}var Y3=_l(function(c,p,x){return c+(x?"_":"")+p.toLowerCase()});function Z3(c,p,x){return x&&typeof x!="number"&&Xn(c,p,x)&&(p=x=t),x=x===t?j:x>>>0,x?(c=vr(c),c&&(typeof p=="string"||p!=null&&!qf(p))&&(p=ni(p),!p&&ls(c))?ro(gi(c),0,x):c.split(p,x)):[]}var K3=_l(function(c,p,x){return c+(x?" ":"")+eg(p)});function G3(c,p,x){return c=vr(c),x=x==null?0:Ga(zt(x),0,c.length),p=ni(p),c.slice(x,x+p.length)==p}function q3(c,p,x){var S=R.templateSettings;x&&Xn(c,p,x)&&(p=t),c=vr(c),p=ap({},p,S,X1);var P=ap({},p.imports,S.imports,X1),z=zn(P),X=nc(P,z),q,se,Ce=0,we=p.interpolate||rl,Ee="__p += '",Ve=ic((p.escape||rl).source+"|"+we.source+"|"+(we===At?ki:rl).source+"|"+(p.evaluate||rl).source+"|$","g"),rt="//# sourceURL="+(ar.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pf+"]")+`
`;c.replace(Ve,function(pt,Yt,er,la,wi,sa){return er||(er=la),Ee+=c.slice(Ce,sa).replace(Gc,oh),Yt&&(q=!0,Ee+=`' +
__e(`+Yt+`) +
'`),wi&&(se=!0,Ee+=`';
`+wi+`;
__p += '`),er&&(Ee+=`' +
((__t = (`+er+`)) == null ? '' : __t) +
'`),Ce=sa+pt.length,pt}),Ee+=`';
`;var ht=ar.call(p,"variable")&&p.variable;if(!ht)Ee=`with (obj) {
`+Ee+`
}
`;else if(Xi.test(ht))throw new yt(u);Ee=(se?Ee.replace(Rt,""):Ee).replace(Ht,"$1").replace(pr,"$1;"),Ee="function("+(ht||"obj")+`) {
`+(ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ee+`return __p
}`;var Wt=d2(function(){return ir(z,rt+"return "+Ee).apply(t,X)});if(Wt.source=Ee,Gf(Wt))throw Wt;return Wt}function Q3(c){return vr(c).toLowerCase()}function J3(c){return vr(c).toUpperCase()}function e6(c,p,x){if(c=vr(c),c&&(x||p===t))return th(c);if(!c||!(p=ni(p)))return c;var S=gi(c),P=gi(p),z=rh(S,P),X=v1(S,P)+1;return ro(S,z,X).join("")}function t6(c,p,x){if(c=vr(c),c&&(x||p===t))return c.slice(0,hu(c)+1);if(!c||!(p=ni(p)))return c;var S=gi(c),P=v1(S,gi(p))+1;return ro(S,0,P).join("")}function r6(c,p,x){if(c=vr(c),c&&(x||p===t))return c.replace(cn,"");if(!c||!(p=ni(p)))return c;var S=gi(c),P=rh(S,gi(p));return ro(S,P).join("")}function n6(c,p){var x=Z,S=J;if(Gr(p)){var P="separator"in p?p.separator:P;x="length"in p?zt(p.length):x,S="omission"in p?ni(p.omission):S}c=vr(c);var z=c.length;if(ls(c)){var X=gi(c);z=X.length}if(x>=z)return c;var q=x-ul(S);if(q<1)return S;var se=X?ro(X,0,q).join(""):c.slice(0,q);if(P===t)return se+S;if(X&&(q+=se.length-q),qf(P)){if(c.slice(q).search(P)){var Ce,we=se;for(P.global||(P=ic(P.source,vr(vo.exec(P))+"g")),P.lastIndex=0;Ce=P.exec(we);)var Ee=Ce.index;se=se.slice(0,Ee===t?q:Ee)}}else if(c.indexOf(ni(P),q)!=q){var Ve=se.lastIndexOf(P);Ve>-1&&(se=se.slice(0,Ve))}return se+S}function i6(c){return c=vr(c),c&&Dr.test(c)?c.replace(Ot,lh):c}var a6=_l(function(c,p,x){return c+(x?" ":"")+p.toUpperCase()}),eg=W1("toUpperCase");function u2(c,p,x){return c=vr(c),p=x?t:p,p===t?wf(c)?Sf(c):yf(c):c.match(p)||[]}var d2=Nt(function(c,p){try{return Wn(c,t,p)}catch(x){return Gf(x)?x:new yt(x)}}),o6=La(function(c,p){return Ln(p,function(x){x=na(x),_a(c,x,Te(c[x],c))}),c});function l6(c){var p=c==null?0:c.length,x=st();return c=p?_r(c,function(S){if(typeof S[1]!="function")throw new Ei(s);return[x(S[0]),S[1]]}):[],Nt(function(S){for(var P=-1;++P<p;){var z=c[P];if(Wn(z[0],this,S))return Wn(z[1],this,S)}})}function s6(c){return wh(ri(c,v))}function tg(c){return function(){return c}}function c6(c,p){return c==null||c!==c?p:c}var u6=ju(),d6=ju(!0);function Bi(c){return c}function rg(c){return bs(typeof c=="function"?c:ri(c,v))}function h6(c){return Fu(ri(c,v))}function p6(c,p){return Or(c,ri(p,v))}var f6=Nt(function(c,p){return function(x){return Pi(x,c,p)}}),g6=Nt(function(c,p){return function(x){return Pi(c,x,p)}});function ng(c,p,x){var S=zn(p),P=Cs(p,S);x==null&&!(Gr(p)&&(P.length||!S.length))&&(x=p,p=c,c=this,P=Cs(p,zn(p)));var z=!(Gr(x)&&"chain"in x)||!!x.chain,X=Pl(c);return Ln(P,function(q){var se=p[q];c[q]=se,X&&(c.prototype[q]=function(){var Ce=this.__chain__;if(z||Ce){var we=c(this.__wrapped__),Ee=we.__actions__=Un(this.__actions__);return Ee.push({func:se,args:arguments,thisArg:c}),we.__chain__=Ce,we}return se.apply(c,So([this.value()],arguments))})}),c}function v6(){return Rr._===this&&(Rr._=uh),this}function ig(){}function m6(c){return c=zt(c),Nt(function(p){return Ru(p,c)})}var y6=Xu(_r),x6=Xu(s1),C6=Xu(d1);function h2(c){return Ze(c)?p1(na(c)):Br(c)}function w6(c){return function(p){return c==null?t:qa(c,p)}}var b6=U1(),_6=U1(!0);function ag(){return[]}function og(){return!1}function k6(){return{}}function S6(){return""}function E6(){return!0}function M6(c,p){if(c=zt(c),c<1||c>Q)return[];var x=j,S=Pn(c,j);p=st(p),c-=j;for(var P=g1(S,p);++x<c;)p(x);return P}function T6(c){return Lt(c)?_r(c,na):oa(c)?[c]:Un(rd(vr(c)))}function I6(c){var p=++us;return vr(c)+p}var L6=Sc(function(c,p){return c+p},0),P6=Cn("ceil"),A6=Sc(function(c,p){return c/p},1),D6=Cn("floor");function F6(c){return c&&c.length?yl(c,Bi,Fo):t}function R6(c,p){return c&&c.length?yl(c,st(p,2),Fo):t}function O6(c){return Jd(c,Bi)}function N6(c,p){return Jd(c,st(p,2))}function z6(c){return c&&c.length?yl(c,Bi,Ro):t}function B6(c,p){return c&&c.length?yl(c,st(p,2),Ro):t}var V6=Sc(function(c,p){return c*p},1),$6=Cn("round"),W6=Sc(function(c,p){return c-p},0);function H6(c){return c&&c.length?f1(c,Bi):0}function U6(c,p){return c&&c.length?f1(c,st(p,2)):0}return R.after=G,R.ary=fe,R.assign=J9,R.assignIn=n2,R.assignInWith=ap,R.assignWith=e3,R.at=t3,R.before=Se,R.bind=Te,R.bindAll=o6,R.bindKey=_e,R.castArray=k9,R.chain=s0,R.chunk=e0,R.compact=nd,R.concat=Ri,R.cond=l6,R.conforms=s6,R.constant=tg,R.countBy=Qh,R.create=r3,R.curry=Xe,R.curryRight=Ge,R.debounce=qe,R.defaults=n3,R.defaultsDeep=i3,R.defer=Kr,R.delay=ce,R.difference=Jt,R.differenceBy=pn,R.differenceWith=tn,R.drop=_n,R.dropRight=Ci,R.dropRightWhile=Ds,R.dropWhile=an,R.fill=Fc,R.filter=d0,R.flatMap=gd,R.flatMapDeep=jf,R.flatMapDepth=tp,R.flatten=t0,R.flattenDeep=Oc,R.flattenDepth=ii,R.flip=te,R.flow=u6,R.flowRight=d6,R.fromPairs=id,R.functions=d3,R.functionsIn=h3,R.groupBy=vd,R.initial=r0,R.intersection=ad,R.intersectionBy=Vo,R.intersectionWith=n0,R.invert=f3,R.invertBy=g3,R.invokeMap=rp,R.iteratee=rg,R.keyBy=Xf,R.keys=zn,R.keysIn=zi,R.map=Ll,R.mapKeys=m3,R.mapValues=y3,R.matches=h6,R.matchesProperty=p6,R.memoize=de,R.merge=x3,R.mergeWith=i2,R.method=f6,R.methodOf=g6,R.mixin=ng,R.negate=Le,R.nthArg=m6,R.omit=C3,R.omitBy=w3,R.once=tt,R.orderBy=Yf,R.over=y6,R.overArgs=lt,R.overEvery=x6,R.overSome=C6,R.partial=it,R.partialRight=dt,R.partition=Vc,R.pick=b3,R.pickBy=a2,R.property=h2,R.propertyOf=w6,R.pull=i0,R.pullAll=zc,R.pullAllBy=Zn,R.pullAllWith=Wo,R.pullAt=ia,R.range=b6,R.rangeRight=_6,R.rearg=fn,R.reject=a,R.remove=ai,R.rest=or,R.reverse=a0,R.sampleSize=f,R.set=k3,R.setWith=S3,R.shuffle=m,R.slice=ld,R.sortBy=A,R.sortedUniq=ud,R.sortedUniqBy=Ml,R.split=Z3,R.spread=Uo,R.tail=jh,R.take=Xh,R.takeRight=dd,R.takeRightWhile=o0,R.takeWhile=Rf,R.tap=Wf,R.throttle=Kf,R.thru=aa,R.toArray=e2,R.toPairs=o2,R.toPairsIn=l2,R.toPath=T6,R.toPlainObject=r2,R.transform=E3,R.unary=b9,R.union=Of,R.unionBy=Yh,R.unionWith=Zh,R.uniq=Tl,R.uniqBy=Nf,R.uniqWith=Fs,R.unset=M3,R.unzip=l0,R.unzipWith=Vr,R.update=T3,R.updateWith=I3,R.values=m0,R.valuesIn=L3,R.without=zf,R.words=u2,R.wrap=_9,R.xor=Kh,R.xorBy=Bf,R.xorWith=Vf,R.zip=Gh,R.zipObject=qh,R.zipObjectDeep=$f,R.zipWith=Oi,R.entries=o2,R.entriesIn=l2,R.extend=n2,R.extendWith=ap,ng(R,R),R.add=L6,R.attempt=d2,R.camelCase=F3,R.capitalize=s2,R.ceil=P6,R.clamp=P3,R.clone=S9,R.cloneDeep=M9,R.cloneDeepWith=T9,R.cloneWith=E9,R.conformsTo=I9,R.deburr=c2,R.defaultTo=c6,R.divide=A6,R.endsWith=R3,R.eq=oo,R.escape=O3,R.escapeRegExp=N3,R.every=Jh,R.find=h0,R.findIndex=Bo,R.findKey=a3,R.findLast=ep,R.findLastIndex=Rc,R.findLastKey=o3,R.floor=D6,R.forEach=p0,R.forEachRight=Bc,R.forIn=l3,R.forInRight=s3,R.forOwn=c3,R.forOwnRight=u3,R.get=Qf,R.gt=L9,R.gte=P9,R.has=p3,R.hasIn=Jf,R.head=Sl,R.identity=Bi,R.includes=f0,R.indexOf=ao,R.inRange=A3,R.invoke=v3,R.isArguments=$c,R.isArray=Lt,R.isArrayBuffer=A9,R.isArrayLike=Ni,R.isArrayLikeObject=on,R.isBoolean=D9,R.isBuffer=Rs,R.isDate=F9,R.isElement=R9,R.isEmpty=O9,R.isEqual=N9,R.isEqualWith=z9,R.isError=Gf,R.isFinite=B9,R.isFunction=Pl,R.isInteger=Gv,R.isLength=np,R.isMap=qv,R.isMatch=V9,R.isMatchWith=$9,R.isNaN=W9,R.isNative=H9,R.isNil=j9,R.isNull=U9,R.isNumber=Qv,R.isObject=Gr,R.isObjectLike=rn,R.isPlainObject=md,R.isRegExp=qf,R.isSafeInteger=X9,R.isSet=Jv,R.isString=ip,R.isSymbol=oa,R.isTypedArray=v0,R.isUndefined=Y9,R.isWeakMap=Z9,R.isWeakSet=K9,R.join=$o,R.kebabCase=z3,R.last=Yn,R.lastIndexOf=Nc,R.lowerCase=B3,R.lowerFirst=V3,R.lt=G9,R.lte=q9,R.max=F6,R.maxBy=R6,R.mean=O6,R.meanBy=N6,R.min=z6,R.minBy=B6,R.stubArray=ag,R.stubFalse=og,R.stubObject=k6,R.stubString=S6,R.stubTrue=E6,R.multiply=V6,R.nth=od,R.noConflict=v6,R.noop=ig,R.now=U,R.pad=$3,R.padEnd=W3,R.padStart=H3,R.parseInt=U3,R.random=D3,R.reduce=Zf,R.reduceRight=g0,R.repeat=j3,R.replace=X3,R.result=_3,R.round=$6,R.runInContext=oe,R.sample=l,R.size=b,R.snakeCase=Y3,R.some=k,R.sortedIndex=sd,R.sortedIndexBy=Ff,R.sortedIndexOf=Ho,R.sortedLastIndex=Uh,R.sortedLastIndexBy=cd,R.sortedLastIndexOf=El,R.startCase=K3,R.startsWith=G3,R.subtract=W6,R.sum=H6,R.sumBy=U6,R.template=q3,R.times=M6,R.toFinite=Al,R.toInteger=zt,R.toLength=t2,R.toLower=Q3,R.toNumber=Aa,R.toSafeInteger=Q9,R.toString=vr,R.toUpper=J3,R.trim=e6,R.trimEnd=t6,R.trimStart=r6,R.truncate=n6,R.unescape=i6,R.uniqueId=I6,R.upperCase=a6,R.upperFirst=eg,R.each=p0,R.eachRight=Bc,R.first=Sl,ng(R,function(){var c={};return yi(R,function(p,x){ar.call(R.prototype,x)||(c[x]=p)}),c}(),{chain:!1}),R.VERSION=n,Ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){R[c].placeholder=R}),Ln(["drop","take"],function(c,p){It.prototype[c]=function(x){x=x===t?1:en(zt(x),0);var S=this.__filtered__&&!p?new It(this):this.clone();return S.__filtered__?S.__takeCount__=Pn(x,S.__takeCount__):S.__views__.push({size:Pn(x,j),type:c+(S.__dir__<0?"Right":"")}),S},It.prototype[c+"Right"]=function(x){return this.reverse()[c](x).reverse()}}),Ln(["filter","map","takeWhile"],function(c,p){var x=p+1,S=x==Y||x==ne;It.prototype[c]=function(P){var z=this.clone();return z.__iteratees__.push({iteratee:st(P,3),type:x}),z.__filtered__=z.__filtered__||S,z}}),Ln(["head","last"],function(c,p){var x="take"+(p?"Right":"");It.prototype[c]=function(){return this[x](1).value()[0]}}),Ln(["initial","tail"],function(c,p){var x="drop"+(p?"":"Right");It.prototype[c]=function(){return this.__filtered__?new It(this):this[x](1)}}),It.prototype.compact=function(){return this.filter(Bi)},It.prototype.find=function(c){return this.filter(c).head()},It.prototype.findLast=function(c){return this.reverse().find(c)},It.prototype.invokeMap=Nt(function(c,p){return typeof c=="function"?new It(this):this.map(function(x){return Pi(x,c,p)})}),It.prototype.reject=function(c){return this.filter(Le(st(c)))},It.prototype.slice=function(c,p){c=zt(c);var x=this;return x.__filtered__&&(c>0||p<0)?new It(x):(c<0?x=x.takeRight(-c):c&&(x=x.drop(c)),p!==t&&(p=zt(p),x=p<0?x.dropRight(-p):x.take(p-c)),x)},It.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},It.prototype.toArray=function(){return this.take(j)},yi(It.prototype,function(c,p){var x=/^(?:filter|find|map|reject)|While$/.test(p),S=/^(?:head|last)$/.test(p),P=R[S?"take"+(p=="last"?"Right":""):p],z=S||/^find/.test(p);P&&(R.prototype[p]=function(){var X=this.__wrapped__,q=S?[1]:arguments,se=X instanceof It,Ce=q[0],we=se||Lt(X),Ee=function(Yt){var er=P.apply(R,So([Yt],q));return S&&Ve?er[0]:er};we&&x&&typeof Ce=="function"&&Ce.length!=1&&(se=we=!1);var Ve=this.__chain__,rt=!!this.__actions__.length,ht=z&&!Ve,Wt=se&&!rt;if(!z&&we){X=Wt?X:new It(this);var pt=c.apply(X,q);return pt.__actions__.push({func:aa,args:[Ee],thisArg:t}),new An(pt,Ve)}return ht&&Wt?c.apply(this,q):(pt=this.thru(Ee),ht?S?pt.value()[0]:pt.value():pt)})}),Ln(["pop","push","shift","sort","splice","unshift"],function(c){var p=Xa[c],x=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",S=/^(?:pop|shift)$/.test(c);R.prototype[c]=function(){var P=arguments;if(S&&!this.__chain__){var z=this.value();return p.apply(Lt(z)?z:[],P)}return this[x](function(X){return p.apply(Lt(X)?X:[],P)})}}),yi(It.prototype,function(c,p){var x=R[p];if(x){var S=x.name+"";ar.call(fs,S)||(fs[S]=[]),fs[S].push({name:p,func:x})}}),fs[Is(t,T).name]=[{name:"wrapper",func:t}],It.prototype.clone=_u,It.prototype.reverse=_1,It.prototype.value=ms,R.prototype.at=c0,R.prototype.chain=Il,R.prototype.commit=u0,R.prototype.next=hd,R.prototype.plant=Hf,R.prototype.reverse=fd,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=Uf,R.prototype.first=R.prototype.head,Za&&(R.prototype[Za]=pd),R},ss=Ef();ma?((ma.exports=ss)._=ss,rc._=ss):Rr._=ss}).call(Vl)})(Fp,Fp.exports);var nt=Fp.exports;function Rm(e,r,t){const n=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],i=e.length;let o=0;for(;o<i;){const s=e[o];n[0]=Math.max(s[r]??Number.MIN_SAFE_INTEGER,n[0]),n[1]=Math.min(s[t]??Number.MAX_SAFE_INTEGER,n[1]),++o}return n}const Wk=/\\(\\)?/g,Hk=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function Sn(e,r,t){if(Sr(e)){const n=[];r.replace(Hk,(u,...d)=>{let h=u;return Sr(d[1])?h=d[2].replace(Wk,"$1"):Sr(d[0])&&(h=d[0].trim()),n.push(h),""});let i=e,o=0;const s=n.length;for(;Sr(i)&&o<s;)i=i==null?void 0:i[n[o++]];return Sr(i)?i:t??"--"}return t??"--"}function Sr(e){return e!=null}function V2(e,r,t,n){const i=new Path2D;if(r.length>1){i.moveTo(r[0],n);for(let o=0;o<r.length;o++)i.lineTo(r[o],t[o]);i.lineTo(r[r.length-1],n)}return i}function zs(e,r,t,n,i){if(r.length===0)return;const o=e.canvas;e.save(),e.fillStyle=i,e.clip(V2(e,r,t,o.height)),e.fill(V2(e,r,n,0)),e.restore()}function ha(e,r){const t=[],n=2/(r+1);let i=0;for(let o=0;o<r;o++)i+=e[o];i/=r,t[r-1]=i;for(let o=r;o<e.length;o++){const s=(e[o]-t[o-1])*n+t[o-1];t[o]=s}for(let o=0;o<r-1;o++)t[o]=t[r-1];return t}function Om(e,r){const t=[];for(let n=0;n<e.length;n++){if(n<r-1){t[n]=0;continue}let i=0;for(let o=0;o<r;o++)i+=e[n-o];t[n]=i/r}return t}function Bs(e){if(e.startsWith("rgb(")){const o=e.match(/\d+/g);if(o&&o.length===3)return{r:parseInt(o[0]),g:parseInt(o[1]),b:parseInt(o[2])}}let r=e.replace(/^#/,"");if(!/^[0-9A-Fa-f]{6}$/.test(r))return{r:233,g:30,b:99};const t=parseInt(r.substring(0,2),16),n=parseInt(r.substring(2,4),16),i=parseInt(r.substring(4,6),16);return{r:t,g:n,b:i}}function Uk(){return{target:{color:"#279d8233"},loss:{color:"#f2385a33"},midLine:{color:"#76808F80",size:1},targetText:{backgroundColor:"#279d82"},lossText:{backgroundColor:"#f2385a"}}}function jo(e,r,t){if(t==="top"){if(!nt.isNumber(e.value)||!nt.isNumber(r.value))return;e.value<r.value&&(e.value=r.value)}else if(t==="bottom"){if(!nt.isNumber(e.value)||!nt.isNumber(r.value))return;e.value>r.value&&(e.value=r.value)}else t==="vertical"?(e.timestamp=r.timestamp,e.dataIndex=r.dataIndex):e.value=r.value}function $2(e,r){return{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),width:Math.abs(e.x-r.x),height:Math.abs(e.y-r.y)}}function jk(e){return({coordinates:r,overlay:t,yAxis:n,xAxis:i})=>{var o,s,u,d,h;if(!Sr(n)||!Sr(i))return[];if(r.length<2)return[];const g=[];return g.push({type:"rect",attrs:$2(r[0],r[1]),styles:e?(o=t.styles)==null?void 0:o.target:(s=t.styles)==null?void 0:s.loss}),g.push({type:"line",attrs:{coordinates:[{x:r[0].x,y:r[1].y},r[1]]},styles:(u=t.styles)==null?void 0:u.midLine}),Sr(r[2])&&g.push({type:"rect",attrs:$2(r[1],r[2]),styles:e?(d=t.styles)==null?void 0:d.loss:(h=t.styles)==null?void 0:h.target}),g}}function Xk(e){return({chart:r,coordinates:t,overlay:n,yAxis:i,xAxis:o})=>{var s,u,d,h,g;if(!Sr(i)||!Sr(o))return[];if(t.length<3)return[];if(n.currentStep!==-1)return[];const v=n.extendData;if(!v.hovered&&!v.selected)return[];const y=r.getLocale(),C=n.points;if(!nt.isNumber(C[0].value)||!nt.isNumber(C[1].value)||!nt.isNumber(C[2].value)||!nt.isNumber(C[0].timestamp)||!nt.isNumber(C[1].timestamp)||!nt.isNumber(C[2].timestamp))return[];let w=0;i.isInCandle()?w=r.getPrecision().price:r.getIndicators({paneId:n.paneId}).forEach(W=>{W.forEach(Z=>{w=Math.max(w,Z.precision)})});const _=[],E=(o.convertTimestampToPixel(C[0].timestamp)+o.convertTimestampToPixel(C[1].timestamp))/2,T=r.getDecimalFold().format(r.getThousandsSeparator().format((C[0].value-C[1].value).toFixed(w))),M=100*(C[0].value/C[1].value-1),I=L(e?"target":"loss",y);_.push({type:"text",attrs:{x:E,y:t[0].y,text:`${I}${T} (${M.toFixed(2)}%)`,baseline:"bottom",align:"center"},styles:e?(s=n.styles)==null?void 0:s.targetText:(u=n.styles)==null?void 0:u.lossText});const D=r.getDecimalFold().format(r.getThousandsSeparator().format((C[1].value-C[2].value).toFixed(w))),O=-100*(C[2].value/C[1].value-1),N=L(e?"loss":"target",y);_.push({type:"text",attrs:{x:E,y:t[2].y,text:`${N}${D} (${O.toFixed(2)}%)`,baseline:"top",align:"center"},styles:e?(d=n.styles)==null?void 0:d.lossText:(h=n.styles)==null?void 0:h.targetText});const F=e?M/O:O/M;if(!nt.isNumber(F)||F<=0)return _;const V=L("riskReward",y);return _.push({type:"text",attrs:{x:E,y:t[1].y,text:`${V}${F.toFixed(2)}`,baseline:"middle",align:"center"},styles:(g=n.styles)==null?void 0:g.targetText}),_}}function Nm(e){return r=>{const t=jk(e)(r),n=Xk(e)(r);return[...t,...n]}}const zm={styles:Uk(),totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,extendData:{hovered:!1,selected:!1},onMouseEnter:({overlay:e})=>{const r=e.extendData;return r.hovered=!0,!0},onMouseLeave:({overlay:e})=>{const r=e.extendData;return r.hovered=!1,!0},onSelected:({overlay:e})=>{const r=e.extendData;return r.selected=!0,!0},onDeselected:({overlay:e})=>{const r=e.extendData;return r.selected=!1,!0},performEventPressedMove:({points:e,performPoint:r,performPointIndex:t})=>{t===0?(jo(r,e[1],"top"),jo(e[2],r,"vertical")):t===1?(jo(r,e[0],"bottom"),jo(r,e[2],"top")):t===2&&(jo(r,e[1],"bottom"),jo(e[0],r,"vertical"))},performEventMoveForDrawing:({points:e,performPoint:r,currentStep:t})=>{t===2?jo(r,e[0],"bottom"):t===3&&(jo(r,e[1],"bottom"),e[1].timestamp===r.timestamp?jo(r,e[0],"vertical"):jo(e[0],r,"vertical"))}},Yk={name:"longPosition",createPointFigures:Nm(!0),...zm},Zk={name:"shortPosition",createPointFigures:Nm(!1),...zm},Kk=[kk,Sk,Ek,Tk,Mk,Ik,Lk,Pk,Ak,Dk,Fk,Rk,Ok,Nk,zk,Bk,Vk,$k,Yk,Zk],Bm={isMainIndicator:!0,isSubIndicator:!1,name:"volumeBars",shortName:"Volume",zLevel:-1,figures:[],styles:{bars:[{upColor:"rgba(0, 252, 0, 0.8)",downColor:"rgba(252, 0, 0, 0.8)",noChangeColor:"rgba(128, 128, 128, 0.8)"}],custom:[{opacity:.3}]},calc:e=>e.map(r=>({volume:r.volume,close:r.close,open:r.open})),draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i})=>{const{realFrom:o,realTo:s}=r.getVisibleRange(),{gapBar:u,halfGapBar:d}=r.getBarSpace(),{result:h}=t;let g=0;for(let C=o;C<s;C++){const w=h[C];w&&(g=Math.max(g,w.volume))}const v=n.height*.4,y=W0("rect");for(let C=o;C<s;C++){const w=h[C];if(w){const _=Math.round(w.volume/g*v),E=Gk(w.open<w.close?t.styles.bars[0].upColor:w.open>w.close?t.styles.bars[0].downColor:t.styles.bars[0].noChangeColor,t.styles.custom[0].opacity);new y({name:"rect",attrs:{x:i.convertToPixel(C)-d,y:n.height-_,width:u,height:_},styles:{color:E}}).draw(e)}}return!0}};function Gk(e,r){return e.replace(/rgba\((\d+), (\d+), (\d+), (.+)\)/,`rgba($1, $2, $3, ${r})`)}const Vm={isMainIndicator:!0,isSubIndicator:!1,name:"Volume Profile Fixed Range",shortName:"Vol Profile",zLevel:-1,figures:[],calcParams:[{name:"Value Area Percentage",type:"number",value:.7,min:0,max:1}],styles:{lines:[{color:"#87CEFA",size:1,style:Mt.Dashed},{color:"#ff0000",size:3},{color:"#87CEFA",size:1,style:Mt.Dashed}],bars:[{upColor:"rgb(255,127,80)",downColor:"rgba(0, 128, 0, 0.8)"}]},calc:(e,r)=>e,createTooltipDataSource:({chart:e,indicator:r,crosshair:t})=>{var n,i,o;const s=r.result[t.dataIndex];return console.log(t.realX),s?{legends:[{title:"POC",value:{text:s.pocPrice.toFixed(2),color:"blue"}},{title:"Value Area Low",value:{text:s.valueAreaLowPrice.toFixed(2),color:"green"}},{title:"Value Area High",value:{text:s.valueAreaHighPrice.toFixed(2),color:((o=(i=(n=r==null?void 0:r.styles)==null?void 0:n.lines)==null?void 0:i[0])==null?void 0:o.color)??"white"}}]}:{}},draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s,u,d,h,g,v,y,C,w,_,E,T,M,I,D,O,N,F,V,W,Z,J,he,H,Y,K,ne,re,Q,ue,le,j,ie,xe;const{realFrom:Me,realTo:Ie}=r.getVisibleRange(),{gapBar:Ae,halfGapBar:Je}=r.getBarSpace(),Oe=t.result.slice(Me,Ie);let Be=Math.max(40,Math.min(200,Math.floor(Oe.length/5)*2));n.height/Be<Ae+2&&(Be=Math.floor(n.height/(Ae+1)));const ye=new Array(Be).fill(0),Fe=Math.min(...Oe.map(Tt=>Tt.low)),He=(Math.max(...Oe.map(Tt=>Tt.high))-Fe)/Be,Ne=W0("line"),ke=W0("rect");Oe.forEach(Tt=>{if(Tt.volume===void 0)return;const $t=Math.max(0,Math.min(Be-1,Math.floor((Tt.low-Fe)/He))),Qt=Math.max(0,Math.min(Be-1,Math.floor((Tt.high-Fe)/He))),Wr=Tt.high-Tt.low;for(let sr=$t;sr<=Qt;sr++){const Ar=Fe+sr*He,mt=Ar+He,ze=Math.max(Tt.low,Ar),Ct=Math.min(Tt.high,mt)-ze;if(Ct>0){const gt=Ct/Wr;ye[sr]+=Tt.volume*gt}}});const et=ye.indexOf(Math.max(...ye)),Ft=Fe+(et+.5)*He,Ue=ye.reduce((Tt,$t)=>Tt+$t,0),St=typeof((s=t.calcParams)==null?void 0:s[0])=="object"&&t.calcParams[0]!==null&&"value"in t.calcParams[0]?Number(t.calcParams[0].value):.7,Gt=Ue*St;let qt=0,xt=0,Cr=ye.length-1;for(let Tt=et;Tt>=0;Tt--)if(qt+=ye[Tt],qt>Gt/2){xt=Tt;break}qt=0;for(let Tt=et;Tt<ye.length;Tt++)if(qt+=ye[Tt],qt>Gt/2){Cr=Tt;break}const Qr=Fe+xt*He,Xr=Fe+(Cr+1)*He,lr={volumeProfile:ye,pocPrice:Ft,valueAreaLowPrice:Qr,valueAreaHighPrice:Xr};if(lr.volumeProfile=ye,lr.pocPrice=Ft,lr.valueAreaHighPrice=Xr,lr.valueAreaLowPrice=Qr,lr.volumeProfile[0]!==void 0){new Ne({name:"line",styles:{style:(h=(d=(u=t==null?void 0:t.styles)==null?void 0:u.lines)==null?void 0:d[1])==null?void 0:h.style,color:(y=(v=(g=t==null?void 0:t.styles)==null?void 0:g.lines)==null?void 0:v[1])==null?void 0:y.color,size:(_=(w=(C=t==null?void 0:t.styles)==null?void 0:C.lines)==null?void 0:w[1])==null?void 0:_.size},attrs:{coordinates:[{x:i.convertToPixel(Me),y:o.convertToPixel(lr.pocPrice)},{x:i.convertToPixel(Ie),y:o.convertToPixel(lr.pocPrice)}]}}).draw(e),new Ne({name:"line",styles:{style:(M=(T=(E=t==null?void 0:t.styles)==null?void 0:E.lines)==null?void 0:T[0])==null?void 0:M.style,color:(O=(D=(I=t==null?void 0:t.styles)==null?void 0:I.lines)==null?void 0:D[0])==null?void 0:O.color,size:(V=(F=(N=t==null?void 0:t.styles)==null?void 0:N.lines)==null?void 0:F[0])==null?void 0:V.size},attrs:{coordinates:[{x:i.convertToPixel(Me),y:o.convertToPixel(lr.valueAreaLowPrice)},{x:i.convertToPixel(Ie),y:o.convertToPixel(lr.valueAreaLowPrice)}]}}).draw(e),new Ne({name:"line",styles:{style:(J=(Z=(W=t==null?void 0:t.styles)==null?void 0:W.lines)==null?void 0:Z[2])==null?void 0:J.style,color:(Y=(H=(he=t==null?void 0:t.styles)==null?void 0:he.lines)==null?void 0:H[2])==null?void 0:Y.color,size:(re=(ne=(K=t==null?void 0:t.styles)==null?void 0:K.lines)==null?void 0:ne[2])==null?void 0:re.size},attrs:{coordinates:[{x:i.convertToPixel(Me),y:o.convertToPixel(lr.valueAreaHighPrice)},{x:i.convertToPixel(Ie),y:o.convertToPixel(lr.valueAreaHighPrice)}]}}).draw(e);let Tt=0;const $t=n.height*.4;for(let Qt=0;Qt<lr.volumeProfile.length;Qt++)Tt=Math.max(Tt,lr.volumeProfile[Qt]);for(let Qt=0;Qt<ye.length;Qt++){const Wr=Math.round(ye[Qt]/Tt*$t),sr=o.convertToPixel(Fe+Qt*He),Ar=Qt>=xt&&Qt<=Cr?((le=(ue=(Q=t==null?void 0:t.styles)==null?void 0:Q.bars)==null?void 0:ue[0])==null?void 0:le.upColor)??"rgb(255,127,80)":((xe=(ie=(j=t==null?void 0:t.styles)==null?void 0:j.bars)==null?void 0:ie[0])==null?void 0:xe.downColor)??"rgba(0, 128, 0, 0.8)";new ke({name:"rect",attrs:{x:n.width-Wr,y:sr-Je,width:Wr,height:Math.min(17,Ae)},styles:{color:Ar}}).draw(e)}}return!0}},qk={isMainIndicator:!1,isSubIndicator:!0,name:"WR",shortName:"WR",calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:10},{name:"period3",type:"number",value:14}],styles:{lines:[{color:"#A020F0",size:1},{color:"#FFD700",size:1},{color:"#FF6E6E",size:1}]},figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`wr${t+1}`,title:`WR${t+1}: `,type:"line"})),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t;return e.map((o,s)=>{const u={},d=o.close;return i.forEach((h,g)=>{const v=h.value-1;if(s>=v){const y=Rm(e.slice(s-v,s+1),"high","low"),C=y[0],w=y[1],_=C-w;u[n[g].key]=_===0?0:(d-C)/_*100}}),u})}},Qk={isMainIndicator:!1,isSubIndicator:!0,name:"TRIX",shortName:"TRIX",calcParams:[{name:"period",type:"number",value:12},{name:"maPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0;const g=[];return e.forEach((v,y)=>{const C={},w=v.close;if(n+=w,y>=t[0].value-1&&(y>t[0].value-1?i=(2*w+(t[0].value-1)*i)/(t[0].value+1):i=n/t[0].value,u+=i,y>=t[0].value*2-2&&(y>t[0].value*2-2?o=(2*i+(t[0].value-1)*o)/(t[0].value+1):o=u/t[0].value,d+=o,y>=t[0].value*3-3))){let _=0,E=0;y>t[0].value*3-3?(_=(2*o+(t[0].value-1)*s)/(t[0].value+1),E=(_-s)/s*100):_=d/t[0].value,s=_,C.trix=E,h+=E,y>=t[0].value*3+t[1].value-4&&(C.maTrix=h/t[1].value,h-=g[y-(t[1].value-1)].trix??0)}g.push(C)}),g}};function W2(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=Sn(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return Sr(n)&&n&&(n.close>n.open?i=Sn(r.styles,"bars[0].upColor",t.bars[0].upColor):n.close<n.open&&(i=Sn(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}}const Jk={isMainIndicator:!1,isSubIndicator:!0,name:"VOL",shortName:"VOL",series:ft.Volume,calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},W2()],regenerateFigures:e=>{const r=e.map((t,n)=>({key:`ma${n+1}`,title:`MA${t}: `,type:"line"}));return r.push(W2()),r},calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[];return e.map((s,u)=>{const d=s.volume??0,h={volume:d,open:s.open,close:s.close};return i.forEach((g,v)=>{o[v]=(o[v]??0)+d,u>=g-1&&(h[n[v].key]=o[v]/g,o[v]-=e[u-(g-1)].volume??0)}),h})}},eS={isMainIndicator:!1,isSubIndicator:!0,name:"VR",shortName:"VR",calcParams:[{name:"params_1",type:"number",value:26},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#FF6E6E",size:2},{color:"#FFD700",size:4}]},figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;const u=[];return e.forEach((d,h)=>{const g={},v=d.close,y=(e[h-1]??d).close,C=d.volume??0;if(v>y?n+=C:v<y?i+=C:o+=C,h>=t[0].value-1){const w=o/2;i+w===0?g.vr=0:g.vr=(n+w)/(i+w)*100,s+=g.vr,h>=t[0].value+t[1].value-2&&(g.maVr=s/t[1].value,s-=u[h-(t[1].value-1)].vr??0);const _=e[h-(t[0].value-1)],E=e[h-t[0].value]??_,T=_.close,M=_.volume??0;T>E.close?n-=M:T<E.close?i-=M:o-=M}u.push(g)}),u}},tS={isMainIndicator:!1,isSubIndicator:!0,name:"KDJ",shortName:"KDJ",calcParams:[{name:"period",type:"number",value:9},{name:"dPeriod",type:"number",value:3},{name:"jPeriod",type:"number",value:3}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=[];return e.forEach((i,o)=>{var s,u;const d={},h=i.close;if(o>=t[0].value-1){const g=Rm(e.slice(o-(t[0].value-1),o+1),"high","low"),v=g[0],y=g[1],C=v-y,w=(h-y)/(C===0?1:C)*100;d.k=((t[1].value-1)*(((s=n[o-1])==null?void 0:s.k)??50)+w)/t[1].value,d.d=((t[2].value-1)*(((u=n[o-1])==null?void 0:u.d)??50)+d.k)/t[2].value,d.j=3*d.k-2*d.d}n.push(d)}),n}},rS={isMainIndicator:!0,isSubIndicator:!1,name:"SAR",shortName:"SAR",series:ft.Price,calcParams:[{name:"startAf",type:"number",value:2},{name:"step",type:"number",value:2},{name:"maxAf",type:"number",value:20}],precision:2,shouldOhlc:!0,styles:{circles:[{upColor:"#FF7F50",downColor:"#A020F0",noChangeColor:"#A8A8A8"}]},figures:[{key:"sar",title:"SAR: ",type:"circle",styles:({data:e,indicator:r,defaultStyles:t})=>{const{current:n}=e,i=(n==null?void 0:n.sar)??Number.MIN_SAFE_INTEGER,o=(((n==null?void 0:n.high)??0)+((n==null?void 0:n.low)??0))/2;return{color:i<o?Sn(r.styles,"circles[0].upColor",t.circles[0].upColor):Sn(r.styles,"circles[0].downColor",t.circles[0].downColor)}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value/100,i=t[1].value/100,o=t[2].value/100;let s=n,u=-100,d=!1,h=0;return e.map((g,v)=>{const y=h,C=g.high,w=g.low;if(d){(u===-100||u<C)&&(u=C,s=Math.min(s+i,o)),h=y+s*(u-y);const _=Math.min(e[Math.max(1,v)-1].low,w);h>g.low?(h=u,s=n,u=-100,d=!d):h>_&&(h=_)}else{(u===-100||u>w)&&(u=w,s=Math.min(s+i,o)),h=y+s*(u-y);const _=Math.max(e[Math.max(1,v)-1].high,C);h<g.high?(h=u,s=0,u=-100,d=!d):h<_&&(h=_)}return{high:C,low:w,sar:h}})}},nS={isMainIndicator:!1,isSubIndicator:!0,name:"ROC",shortName:"ROC",calcParams:[{name:"period",type:"number",value:12},{name:"maPeriod",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=[];let i=0;return e.forEach((o,s)=>{const u={};if(s>=t[0].value-1){const d=o.close,h=(e[s-t[0].value]??e[s-(t[0].value-1)]).close;h!==0?u.roc=(d-h)/h*100:u.roc=0,i+=u.roc,s>=t[0].value-1+t[1].value-1&&(u.maRoc=i/t[1].value,i-=n[s-(t[1].value-1)].roc??0)}n.push(u)}),n}},iS={isMainIndicator:!1,isSubIndicator:!0,name:"RSI",shortName:"RSI",calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:12},{name:"period3",type:"number",value:24}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>{const n=t+1;return{key:`rsi${n}`,title:`RSI${n}: `,type:"line"}}),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[],s=[];return e.map((u,d)=>{const h={},g=(e[d-1]??u).close,v=u.close-g;return i.forEach((y,C)=>{if(v>0?o[C]=(o[C]??0)+v:s[C]=(s[C]??0)+Math.abs(v),d>=y.value-1){s[C]!==0?h[n[C].key]=100-100/(1+o[C]/s[C]):h[n[C].key]=0;const w=e[d-(y.value-1)],_=e[d-y.value]??w,E=w.close-_.close;E>0?o[C]-=E:s[C]-=Math.abs(E)}}),h})}},aS={isMainIndicator:!0,isSubIndicator:!1,name:"SMA",shortName:"SMA",series:ft.Price,calcParams:[{name:"period1",type:"number",value:12},{name:"period2",type:"number",value:2}],precision:2,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;return e.map((o,s)=>{const u={},d=o.close;return n+=d,s>=t[0].value-1&&(s>t[0].value-1?i=(d*t[1].value+i*(t[0].value-t[1].value+1))/(t[0].value+1):i=n/t[0].value,u.sma=i),u})}},oS={isMainIndicator:!1,isSubIndicator:!0,name:"PVT",shortName:"PVT",styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:e=>{let r=0;return e.map((t,n)=>{const i={},o=t.close,s=t.volume??1,u=(e[n-1]??t).close;let d=0;const h=u*s;return h!==0&&(d=(o-u)/h),r+=d,i.pvt=r,i})}},lS={isMainIndicator:!1,isSubIndicator:!0,name:"PSY",shortName:"PSY",calcParams:[{name:"params_1",type:"number",value:12},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;const o=[],s=[];return e.forEach((u,d)=>{const h={},g=(e[d-1]??u).close,v=u.close-g>0?1:0;o.push(v),n+=v,d>=t[0].value-1&&(h.psy=n/t[0].value*100,i+=h.psy,d>=t[0].value+t[1].value-2&&(h.maPsy=i/t[1].value,i-=s[d-(t[1].value-1)].psy??0),n-=o[d-(t[0].value-1)]),s.push(h)}),s}},sS={isMainIndicator:!0,isSubIndicator:!1,name:"MA",shortName:"MA",series:ft.Price,calcParams:[{name:"ma1",type:"number",value:5},{name:"ma2",type:"number",value:10},{name:"ma3",type:"number",value:30},{name:"ma4",type:"number",value:60}],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`ma${t+1}`,title:`MA${r}: `,type:"line"})),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=[];return e.map((o,s)=>{const u={},d=o.close;return t.forEach((h,g)=>{i[g]=(i[g]??0)+d,s>=h-1&&(u[n[g].key]=i[g]/h,i[g]-=e[s-(h-1)].close)}),u})}},cS={isMainIndicator:!1,isSubIndicator:!0,name:"MTM",shortName:"MTM",calcParams:[{name:"params_1",type:"number",value:12},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0;const i=[];return e.forEach((o,s)=>{const u={};if(s>=t[0].value){const d=o.close,h=e[s-t[0].value].close;u.mtm=d-h,n+=u.mtm,s>=t[0].value+t[1].value-1&&(u.maMtm=n/t[1].value,n-=i[s-(t[1].value-1)].mtm??0)}i.push(u)}),i}},uS={isMainIndicator:!1,isSubIndicator:!0,name:"DMI",shortName:"DMI",calcParams:[{name:"period",type:"number",value:14},{name:"adxrPeriod",type:"number",value:6}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,g=0;const v=[];return e.forEach((y,C)=>{const w={},_=e[C-1]??y,E=_.close,T=y.high,M=y.low,I=T-M,D=Math.abs(T-E),O=Math.abs(E-M),N=T-_.high,F=_.low-M,V=Math.max(Math.max(I,D),O),W=N>0&&N>F?N:0,Z=F>0&&F>N?F:0;if(n+=V,i+=W,o+=Z,C>=t[0].value-1){C>t[0].value-1?(s=s-s/t[0].value+V,u=u-u/t[0].value+W,d=d-d/t[0].value+Z):(s=n,u=i,d=o);let J=0,he=0;s!==0&&(J=u*100/s,he=d*100/s),w.pdi=J,w.mdi=he;let H=0;he+J!==0&&(H=Math.abs(he-J)/(he+J)*100),h+=H,C>=t[0].value*2-2&&(C>t[0].value*2-2?g=(g*(t[0].value-1)+H)/t[0].value:g=h/t[0].value,w.adx=g,C>=t[0].value*2+t[1].value-3&&(w.adxr=((v[C-(t[1].value-1)].adx??0)+g)/2))}v.push(w)}),v}},dS={isMainIndicator:!1,isSubIndicator:!0,name:"EMV",shortName:"EMV",calcParams:[{name:"params_1",type:"number",value:14},{name:"params_2",type:"number",value:9}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0;const i=[];return e.map((o,s)=>{const u={};if(s>0){const d=e[s-1],h=o.high,g=o.low,v=o.volume??0,y=(h+g)/2-(d.high+d.low)/2;if(v===0||h-g===0)u.emv=0;else{const C=v/1e8/(h-g);u.emv=y/C}n+=u.emv,i.push(u.emv),s>=t[0].value&&(u.maEmv=n/t[0].value,n-=i[s-t[0].value])}return u})}},hS={isMainIndicator:!0,isSubIndicator:!1,name:"EMA",shortName:"EMA",series:ft.Price,calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:12},{name:"period3",type:"number",value:20}],styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`ema${t+1}`,title:`EMA${r}: `,type:"line"})),calc:(e,r)=>{const{calcParams:t,figures:n}=r;let i=0;const o=[];return e.map((s,u)=>{const d={},h=s.close;return i+=h,t.forEach((g,v)=>{u>=g.value-1&&(u>g.value-1?o[v]=(2*h+(g.value-1)*o[v])/(g.value+1):o[v]=i/g.value,d[n[v].key]=o[v])}),d})}},pS={isMainIndicator:!1,isSubIndicator:!0,name:"CR",shortName:"CR",calcParams:[{name:"cr",type:"number",value:26},{name:"ma1",type:"number",value:10},{name:"ma2",type:"number",value:20},{name:"ma3",type:"number",value:40},{name:"ma4",type:"number",value:60}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#FFFF00",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=Math.ceil(t[1].value/2.5+1),i=Math.ceil(t[2].value/2.5+1),o=Math.ceil(t[3].value/2.5+1),s=Math.ceil(t[4].value/2.5+1);let u=0;const d=[];let h=0;const g=[];let v=0;const y=[];let C=0;const w=[],_=[];return e.forEach((E,T)=>{const M={},I=e[T-1]??E,D=(I.high+I.close+I.low+I.open)/4,O=Math.max(0,E.high-D),N=Math.max(0,D-E.low);T>=t[0].value-1&&(N!==0?M.cr=O/N*100:M.cr=0,u+=M.cr,h+=M.cr,v+=M.cr,C+=M.cr,T>=t[0].value+t[1].value-2&&(d.push(u/t[1].value),T>=t[0].value+t[1].value+n-3&&(M.ma1=d[d.length-1-n]),u-=_[T-(t[1].value-1)].cr??0),T>=t[0].value+t[2].value-2&&(g.push(h/t[2].value),T>=t[0].value+t[2].value+i-3&&(M.ma2=g[g.length-1-i]),h-=_[T-(t[2].value-1)].cr??0),T>=t[0].value+t[3].value-2&&(y.push(v/t[3].value),T>=t[0].value+t[3].value+o-3&&(M.ma3=y[y.length-1-o]),v-=_[T-(t[3].value-1)].cr??0),T>=t[0].value+t[4].value-2&&(w.push(C/t[4].value),T>=t[0].value+t[4].value+s-3&&(M.ma4=w[w.length-1-s]),C-=_[T-(t[4].value-1)].cr??0)),_.push(M)}),_}},fS={isMainIndicator:!1,isSubIndicator:!0,name:"DMA",shortName:"DMA",calcParams:[{name:"params_1",type:"number",value:10},{name:"params_2",type:"number",value:50},{name:"params_3",type:"number",value:10}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=Math.max(t[0].value,t[1].value);let i=0,o=0,s=0;const u=[];return e.forEach((d,h)=>{const g={},v=d.close;i+=v,o+=v;let y=0,C=0;if(h>=t[0].value-1&&(y=i/t[0].value,i-=e[h-(t[0].value-1)].close),h>=t[1].value-1&&(C=o/t[1].value,o-=e[h-(t[1].value-1)].close),h>=n-1){const w=y-C;g.dma=w,s+=w,h>=n+t[2].value-2&&(g.ama=s/t[2].value,s-=u[h-(t[2].value-1)].dma??0)}u.push(g)}),u}},gS={isMainIndicator:!0,isSubIndicator:!1,name:"BBI",shortName:"BBI",series:ft.Price,precision:2,calcParams:[{name:"period1",type:"number",value:3},{name:"period2",type:"number",value:6},{name:"period3",type:"number",value:12},{name:"period4",type:"number",value:24}],shouldOhlc:!0,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=Math.max(...t.map(s=>s.value)),i=[],o=[];return e.map((s,u)=>{const d={},h=s.close;if(t.forEach((g,v)=>{i[v]=(i[v]??0)+h,u>=g.value-1&&(o[v]=i[v]/g.value,i[v]-=e[u-(g.value-1)].close)}),u>=n-1){let g=0;o.forEach(v=>{g+=v}),d.bbi=g/4}return d})}},vS={isMainIndicator:!1,isSubIndicator:!0,name:"CCI",shortName:"CCI",calcParams:[{name:"period",type:"number",value:20}],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value-1;let i=0;const o=[];return e.map((s,u)=>{const d={},h=(s.high+s.low+s.close)/3;if(i+=h,o.push(h),u>=n){const g=i/t[0].value,v=o.slice(u-n,u+1);let y=0;v.forEach(_=>{y+=Math.abs(_-g)});const C=y/t[0].value;d.cci=C!==0?(h-g)/C/.015:0;const w=(e[u-n].high+e[u-n].low+e[u-n].close)/3;i-=w}return d})}},mS={isMainIndicator:!1,isSubIndicator:!0,name:"BIAS",shortName:"BIAS",calcParams:[{name:"bias1",type:"number",value:6},{name:"bias2",type:"number",value:12},{name:"bias3",type:"number",value:24}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`bias${t+1}`,title:`BIAS${r}: `,type:"line"})),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[];return e.map((s,u)=>{const d={},h=s.close;return i.forEach((g,v)=>{if(o[v]=(o[v]??0)+h,u>=g.value-1){const y=o[v]/g.value;d[n[v].key]=(h-y)/y*100,o[v]-=e[u-(g.value-1)].close}}),d})}};function yS(e,r){const t=e.length;let n=0;return e.forEach(i=>{const o=i.close-r;n+=o*o}),n=Math.abs(n),Math.sqrt(n/t)}const xS={isMainIndicator:!0,isSubIndicator:!1,name:"BOLL",shortName:"BOLL",series:ft.Price,calcParams:[{name:"period",type:"number",value:20},{name:"standard_deviation",type:"number",value:2}],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value-1;let i=0;return e.map((o,s)=>{const u=o.close,d={};if(i+=u,s>=n){d.mid=i/t[0].value;const h=yS(e.slice(s-n,s+1),d.mid);d.up=d.mid+t[1].value*h,d.dn=d.mid-t[1].value*h,i-=e[s-n].close}return d})}},CS={isMainIndicator:!1,isSubIndicator:!0,name:"BRAR",shortName:"BRAR",calcParams:[{name:"brar",type:"number",value:26}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;return e.map((u,d)=>{const h={},g=u.high,v=u.low,y=u.open,C=(e[d-1]??u).close;if(o+=g-y,s+=y-v,n+=g-C,i+=C-v,d>=t[0].value-1){s!==0?h.ar=o/s*100:h.ar=0,i!==0?h.br=n/i*100:h.br=0;const w=e[d-(t[0].value-1)],_=w.high,E=w.low,T=w.open,M=(e[d-t[0].value]??e[d-(t[0].value-1)]).close;n-=_-M,i-=M-E,o-=_-T,s-=T-E}return h})}},wS={isMainIndicator:!0,isSubIndicator:!1,name:"Average Price",shortName:"AVP",series:ft.Price,precision:2,styles:{lines:[{color:"#A020F0",size:1}]},figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:e=>e.map(r=>{const t={};if((r.volume??0)!==0){const n=(r.high+r.low+r.close)/3;t.avp=n}return t})},bS={isMainIndicator:!1,isSubIndicator:!0,name:"AO",shortName:"AO",calcParams:[{name:"shortPeriod",type:"number",value:5},{name:"longPeriod",type:"number",value:34}],styles:{bars:[{upColor:"rgba(0, 252, 0, 0.8)",downColor:"rgba(252, 0, 0, 0.8)"}]},figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const{prev:n,current:i}=e,o=(n==null?void 0:n.ao)??Number.MIN_SAFE_INTEGER,s=(i==null?void 0:i.ao)??Number.MIN_SAFE_INTEGER;let u="";s>o?r.styles&&(u=Sn(r.styles,"bars[0].upColor",r.styles.bars[0].upColor)):r.styles&&(u=Sn(r.styles,"bars[0].downColor",r.styles.bars[0].downColor));const d=s>o?rr.Stroke:rr.Fill;return{color:u,style:d,borderColor:u}}}],calc:(e,r)=>{const t=r.calcParams,n=Math.max(t[0].value,t[1].value);let i=0,o=0,s=0,u=0;return e.map((d,h)=>{const g={},v=(d.low+d.high)/2;if(i+=v,o+=v,h>=t[0].value-1){s=i/t[0].value;const y=e[h-(t[0].value-1)];i-=(y.low+y.high)/2}if(h>=t[1].value-1){u=o/t[1].value;const y=e[h-(t[1].value-1)];o-=(y.low+y.high)/2}return h>=n-1&&(g.ao=s-u),g})}},_S={isMainIndicator:!0,isSubIndicator:!1,name:"WEMA",shortName:"WEMA",zLevel:0,series:ft.Price,calcParams:[{name:"period",type:"number",value:14}],precision:2,figures:[{key:"WEMA",title:"WEMA: ",type:"line"}],styles:{lines:[{style:Mt.Solid,color:"yellow",size:1}]},shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams[0].value,n=1/t,i=[];let o=0,s=0;for(let u=0;u<e.length;u++){const d=e[u].close;u<t?(s+=d,u===t-1&&(o=s/t,i.push({wema:o}))):(o=(d-o)*n+o,i.push({wema:o}))}return console.log(i),i},draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s;const{realFrom:u,realTo:d}=r.getVisibleRange(),{result:h}=t,g=W0("line");for(let v=u;v<d;v++){const y=h[v];y&&new g({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(v),y:o.convertToPixel(y.wema)},{x:i.convertToPixel(v+1),y:o.convertToPixel((s=h[v+1])==null?void 0:s.wema)}]}}).draw(e)}return!0}},kS={name:"Volume Weighted Average Price",shortName:"VWAP",series:ft.Price,calcParams:[{name:"anchorPeriod",type:"select",value:"Monthly",options:[{value:"None",label:"None"},{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarter",label:"Quarter"},{value:"Year",label:"Year"}]},{name:"source",type:"select",value:"HLC3",options:[{value:"Close",label:"Close"},{value:"HLC3",label:"HLC3"},{value:"HLC2",label:"HLC2"},{value:"Weighted",label:"Weighted"},{value:"Median",label:"Median"},{value:"Open",label:"Open"},{value:"High",label:"High"},{value:"OHLC4",label:"OHLC4"},{value:"HLCC4",label:"HLCC4"}]},{name:"offset",type:"number",value:0,min:-100,max:100},{name:"bandsMode",type:"select",value:"Standard Deviation",options:[{value:"Standard Deviation",label:"Standard Deviation"},{value:"Percentage",label:"Percentage"},{value:"Fixed",label:"Fixed"}]},{name:"bandsMultiplier",type:"select",value:"2",options:[{value:"0.5",label:"0.5"},{value:"1",label:"1.0"},{value:"1.5",label:"1.5"},{value:"2",label:"2.0"},{value:"2.5",label:"2.5"},{value:"3",label:"3.0"}]},{name:"showBands",type:"boolean",value:!0},{name:"showShading",type:"boolean",value:!0}],precision:2,isMainIndicator:!0,isSubIndicator:!1,styles:{lines:[{style:Mt.Solid,color:"#FF7F50",size:1},{style:Mt.Dashed,color:"#4CAF50",size:1},{style:Mt.Dashed,color:"#F44336",size:1}]},figures:[{key:"vwap",title:"VWAP: ",type:"line"},{key:"upperBand",title:"Upper: ",type:"line"},{key:"lowerBand",title:"Lower: ",type:"line"}],calc:(e,r)=>{var t,n,i,o,s;const u=[],d=r.calcParams,h=((t=d.find(I=>I.name==="anchorPeriod"))==null?void 0:t.value)??"None",g=((n=d.find(I=>I.name==="source"))==null?void 0:n.value)??"Close",v=((i=d.find(I=>I.name==="offset"))==null?void 0:i.value)??0,y=((o=d.find(I=>I.name==="bandsMode"))==null?void 0:o.value)??"Standard Deviation",C=Number(((s=d.find(I=>I.name==="bandsMultiplier"))==null?void 0:s.value)??"2"),w=[],_=[];let E=0,T=0;const M=14;for(let I=0;I<e.length;I++){const D=e[I];if(D.close===void 0||D.volume===void 0){u[I]={vwap:0};continue}let O;switch(g){case"Open":O=D.open;break;case"High":O=D.high;break;case"Close":O=D.close;break;case"HLC3":O=(D.high+D.low+D.close)/3;break;case"HLC2":O=(D.high+D.low)/2;break;case"OHLC4":O=(D.open+D.high+D.low+D.close)/4;break;case"HLCC4":O=(D.high+D.low+D.close+D.close)/4;break;case"Volume":O=D.volume;break;default:O=D.close}if(h!=="None"){const V=D.timestamp;let W=!1;switch(h){case"Daily":W=Math.floor(V/(24*60*60*1e3))!==Math.floor(T/(24*60*60*1e3));break;case"Weekly":W=Math.floor(V/(7*24*60*60*1e3))!==Math.floor(T/(7*24*60*60*1e3));break;case"Monthly":const Z=new Date(V),J=new Date(T);W=Z.getMonth()!==J.getMonth()||Z.getFullYear()!==J.getFullYear();break;case"Quarter":const he=new Date(V),H=new Date(T),Y=Math.floor(he.getMonth()/3),K=Math.floor(H.getMonth()/3);W=Y!==K||he.getFullYear()!==H.getFullYear();break;case"Year":const ne=new Date(V),re=new Date(T);W=ne.getFullYear()!==re.getFullYear();break}W&&(E=I,T=V)}const N=O*D.volume;w[I]=N,_[I]=D.volume;const F=h!=="None"?I-E+1:M;if(I>=(h!=="None"?E:M-1)){let V=0,W=0,Z=0;for(let K=0;K<F;K++)V+=w[I-K],W+=_[I-K];const J=W!==0?Number((V/W).toFixed(2)):0;u[I]={vwap:J};for(let K=0;K<F;K++){const ne=e[I-K];if(ne.volume===void 0)continue;let re;switch(g){case"Open":re=ne.open;break;case"High":re=ne.high;break;case"Close":re=ne.close;break;case"HLC3":re=(ne.high+ne.low+ne.close)/3;break;case"HLC2":re=(ne.high+ne.low)/2;break;case"OHLC4":re=(ne.open+ne.high+ne.low+ne.close)/4;break;case"HLCC4":re=(ne.high+ne.low+ne.close+ne.close)/4;break;default:re=ne.close}const Q=re-J;Z+=Q*Q*ne.volume,W+=ne.volume}const he=Math.sqrt(Z/W);let H=J,Y=J;switch(y){case"Standard Deviation":H=J+he*C,Y=J-he*C;break;case"Percentage":const K=C/100;H=J*(1+K),Y=J*(1-K);break;case"Fixed":H=J+C,Y=J-C;break}if(v!==0){const K=I+v;if(K>=0&&K<u.length&&(u[K]={vwap:J,upperBand:H,lowerBand:Y},v>0))for(let ne=I+1;ne<K;ne++)ne<u.length&&(u[ne]={vwap:J,upperBand:H,lowerBand:Y})}else u[I]={vwap:J,upperBand:H,lowerBand:Y}}else u[I]={vwap:0}}return u},shouldOhlc:!0,draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s,u,d,h,g;const{realFrom:v,realTo:y}=r.getVisibleRange(),{result:C}=t,w=W0("line"),_=t.calcParams,E=((s=_.find(M=>M.name==="showBands"))==null?void 0:s.value)??!0,T=((u=_.find(M=>M.name==="showShading"))==null?void 0:u.value)??!1;for(let M=v;M<y;M++){const I=C[M];I&&I.vwap!==0&&new w({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(M),y:o.convertToPixel(I.vwap)},{x:i.convertToPixel(M+1),y:o.convertToPixel((d=C[M+1])==null?void 0:d.vwap)}]}}).draw(e)}if(E){const M=[],I=[],D=[];for(let O=v;O<=y;O++){const N=C[O];N&&N.upperBand!==void 0&&N.lowerBand!==void 0&&(M.push(i.convertToPixel(O)),I.push(o.convertToPixel(N.upperBand)),D.push(o.convertToPixel(N.lowerBand)))}if(T&&M.length>0){const O=[];for(let V=v;V<=y;V++){const W=C[V];W&&W.vwap!==0&&O.push(o.convertToPixel(W.vwap))}const N=Bs(t.styles.lines[1].color??"#4CAF50");zs(e,M,I,O,`rgba(${N.r}, ${N.g}, ${N.b}, 0.1)`);const F=Bs(t.styles.lines[2].color??"#F44336");zs(e,M,O,D,`rgba(${F.r}, ${F.g}, ${F.b}, 0.1)`)}for(let O=v;O<y;O++){const N=C[O];N&&N.vwap!==0&&N.upperBand!==void 0&&N.lowerBand!==void 0&&(new w({name:"line",styles:{style:t.styles.lines[1].style,color:t.styles.lines[1].color,size:t.styles.lines[1].size},attrs:{coordinates:[{x:i.convertToPixel(O),y:o.convertToPixel(N.upperBand)},{x:i.convertToPixel(O+1),y:o.convertToPixel(((h=C[O+1])==null?void 0:h.upperBand)??N.upperBand)}]}}).draw(e),new w({name:"line",styles:{style:t.styles.lines[2].style,color:t.styles.lines[2].color,size:t.styles.lines[2].size},attrs:{coordinates:[{x:i.convertToPixel(O),y:o.convertToPixel(N.lowerBand)},{x:i.convertToPixel(O+1),y:o.convertToPixel(((g=C[O+1])==null?void 0:g.lowerBand)??N.lowerBand)}]}}).draw(e))}}return!0}},SS={isMainIndicator:!1,isSubIndicator:!0,name:"ADL",shortName:"ADL",calcParams:[],styles:{lines:[{color:"#FF7F50",size:1}]},figures:[{key:"adl",title:"ADL: ",type:"line"}],calc:(e,r)=>{const t=[];let n=0;for(let i=0;i<e.length;i++){const{high:o=0,low:s=0,close:u=0,volume:d=0}=e[i];if(!o||!s||!u||!d){t.push({adl:n});continue}let h=0;o!==s&&(h=(u-s-(o-u))/(o-s),h=Math.max(-1,Math.min(1,h)));const g=h*d;n+=g,t.push({adl:Math.round(n)})}return t}},ES={isMainIndicator:!1,isSubIndicator:!0,name:"Force Index",shortName:"FI",calcParams:[{name:"period",type:"number",value:13}],styles:{lines:[{color:"#5D69B1",size:1}]},figures:[{key:"fi",title:"FI: ",type:"line"}],calc:(e,r)=>{const t=[],n=r.calcParams[0];let i=0,o=2/(n.value+1);for(let s=0;s<e.length;s++){const{close:u=0,volume:d=0}=e[s],h=s>0?e[s-1].close:u,g=(u-h)*d;s===0?i=g:i=(g-i)*o+i,t.push({fi:Math.round(i)})}return t}},MS={isMainIndicator:!1,isSubIndicator:!0,name:"MFI",shortName:"MFI",calcParams:[{name:"period",type:"number",value:14}],precision:2,styles:{lines:[{style:Mt.Solid,color:"#FF7F50",size:1}]},figures:[{key:"mfi",title:"MFI: ",type:"line"}],calc:(e,r)=>{const t=[],n=r.calcParams[0].value,i=[],o=[];let s=null;for(let u=0;u<e.length;u++){const{high:d=0,low:h=0,close:g=0,volume:v=0}=e[u];if(!d||!h||!g||!v){t.push({mfi:0});continue}const y=(d+h+g)/3,C=y*v;if(s===null){s=y,i.push(0),o.push(0),t.push({mfi:0});continue}if(y>s?(i.push(C),o.push(0)):(i.push(0),o.push(C)),i.length>n&&(i.shift(),o.shift()),i.length===n){const w=i.reduce((T,M)=>T+M,0),_=o.reduce((T,M)=>T+M,0);let E=0;_!==0?E=100-100/(1+w/_):w!==0&&(E=100),t.push({mfi:Number(E.toFixed(r.precision))})}else t.push({mfi:0});s=y}return t}},TS={isMainIndicator:!1,isSubIndicator:!0,name:"OBV",shortName:"OBV",calcParams:[{name:"period",type:"number",value:30}],styles:{lines:[{color:"#A020F0",size:1},{color:"#007FFF",size:1}]},figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;const o=[];return e.forEach((s,u)=>{const d=e[u-1]??s;s.close<d.close?i-=s.volume??0:s.close>d.close&&(i+=s.volume??0);const h={obv:i};n+=i,u>=t[0].value-1&&(h.maObv=n/t[0].value,n-=o[u-(t[0].value-1)].obv??0),o.push(h)}),o}},IS={isMainIndicator:!0,isSubIndicator:!1,name:"Chandelier Exit",shortName:"CE",series:ft.Price,calcParams:[{name:"period",type:"number",value:22},{name:"multiplier",type:"number",value:3}],precision:2,shouldOhlc:!0,styles:{lines:[{style:Mt.Solid,color:"#26A69A",size:1},{style:Mt.Solid,color:"#EF5350",size:1}]},figures:[{key:"exitLong",title:"Long Exit: ",type:"line"},{key:"exitShort",title:"Short Exit: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=[];let s=-1/0,u=1/0,d=0,h=e[0].close;for(let g=0;g<e.length;g++){const v=e[g],{high:y,low:C,close:w}=v,_=Math.max(y-C,Math.abs(y-h),Math.abs(C-h));if(d+=_,s=Math.max(s,y),u=Math.min(u,C),g>=n-1){const E=d/n,T=s-E*i,M=u+E*i;o.push({exitLong:T,exitShort:M});const I=g-(n-1),D=e[I],O=Math.max(D.high-D.low,Math.abs(D.high-(I>0?e[I-1].close:D.close)),Math.abs(D.low-(I>0?e[I-1].close:D.close)));d-=O,s=y,u=C;for(let N=0;N<n;N++){const F=e[g-N];s=Math.max(s,F.high),u=Math.min(u,F.low)}}else o.push({});h=w}return o}},LS={isMainIndicator:!0,isSubIndicator:!1,name:"Keltner Channels",shortName:"KC",series:ft.Price,calcParams:[{name:"maPeriod",type:"number",value:20},{name:"atrPeriod",type:"number",value:10},{name:"multiplier",type:"number",value:1},{name:"useSMA",type:"boolean",value:!1}],precision:2,shouldOhlc:!0,styles:{lines:[{style:Mt.Solid,color:"#FF0000",size:1},{style:Mt.Solid,color:"#4DB6AC",size:1},{style:Mt.Solid,color:"#4DB6AC",size:1}]},figures:[{key:"middle",title:"Middle: ",type:"line"},{key:"upper",title:"Upper: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=t[3].value,u=[],d=[];let h=0,g=0;const v=2/(n+1);let y=0,C=e[0].close;for(let w=0;w<e.length;w++){const _=e[w],{high:E,low:T,close:M}=_,I=Math.max(E-T,Math.abs(E-C),Math.abs(T-C));if(y+=I,h+=M,s?(d.push(M),d.length>n&&(h-=d[d.length-n-1])):w===0?g=M:g=(M-g)*v+g,w>=Math.max(n-1,i-1)){const D=s?h/Math.min(d.length,n):g,O=y/i;if(u.push({middle:D,upper:D+o*O,lower:D-o*O}),w>=i){const N=w-i,F=e[N],V=Math.max(F.high-F.low,Math.abs(F.high-(N>0?e[N-1].close:F.close)),Math.abs(F.low-(N>0?e[N-1].close:F.close)));y-=V}}else u.push({});C=M}return u}},PS={isMainIndicator:!0,isSubIndicator:!1,name:"WMA",shortName:"WMA",series:ft.Price,calcParams:[{name:"period",type:"number",value:12}],precision:2,styles:{lines:[{color:"#B464EB"}]},figures:[{key:"wma",title:"WMA: ",type:"line"}],shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams[0].value,n=t*(t+1)/2;return e.map((i,o)=>{const s={};if(o>=t-1){let u=0;for(let d=0;d<t;d++)u+=e[o-d].close*(t-d);s.wma=u/n}return s})}},AS={isMainIndicator:!0,isSubIndicator:!1,name:"Ichimoku Cloud",shortName:"IC",calcParams:[{name:"conversionPeriod",type:"number",value:9},{name:"basePeriod",type:"number",value:26},{name:"spanPeriod",type:"number",value:52},{name:"displacement",type:"number",value:26},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#32CD32",size:1},{color:"#FF4500",size:1},{color:"#1E90FF",size:1}]},figures:[{key:"conversion",title:"Conversion: ",type:"line"},{key:"base",title:"Base: ",type:"line"},{key:"spanA",title:"Span A: ",type:"line"},{key:"spanB",title:"Span B: ",type:"line"},{key:"laggingSpan",title:"Chikou: ",type:"line"}],calc:(e,r)=>{const t=[],n=r.calcParams,i=n[0].value,o=n[1].value,s=n[2].value,u=n[3].value;for(let h=0;h<e.length;h++)t[h]={};const d=(h,g,v)=>{let y=-1/0,C=1/0;for(let w=Math.max(0,g-v+1);w<=g;w++)y=Math.max(y,h[w].high),C=Math.min(C,h[w].low);return{high:y,low:C}};for(let h=0;h<e.length;h++){if(h>=i-1){const{high:g,low:v}=d(e,h,i);t[h].conversion=(g+v)/2}if(h>=o-1){const{high:g,low:v}=d(e,h,o);t[h].base=(g+v)/2}if(h>=Math.max(i,o)-1){const g=(t[h].conversion+t[h].base)/2;h+u<e.length&&(t[h+u].spanA=g)}if(h>=s-1){const{high:g,low:v}=d(e,h,s),y=(g+v)/2;h+u<e.length&&(t[h+u].spanB=y)}h-u>=0&&(t[h-u].laggingSpan=e[h].close)}return t},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,g,v;const y=r.result;if(!y)return!1;const{from:C,to:w}=i.getVisibleRange(),_=[],E=[],T=[];for(let M=C;M<w;M++){const I=y[M];I!=null&&(_.push(t.convertToPixel(M)),I.spanA!=null&&E.push(n.convertToPixel(I.spanA)),I.spanB!=null&&T.push(n.convertToPixel(I.spanB)))}if(((o=r.calcParams.find(M=>M.name==="showShading"))==null?void 0:o.value)??!0){const M=Bs(((d=(u=(s=r.styles)==null?void 0:s.lines)==null?void 0:u[2])==null?void 0:d.color)??"#32CD32");zs(e,_,E,T,`rgba(${M.r}, ${M.g}, ${M.b}, 0.1)`);const I=Bs(((v=(g=(h=r.styles)==null?void 0:h.lines)==null?void 0:g[3])==null?void 0:v.color)??"#FF4500");zs(e,_,T,E,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`)}return!1}},DS={isMainIndicator:!1,isSubIndicator:!0,name:"ATR",shortName:"ATR",series:ft.Volume,calcParams:[{name:"period",type:"number",value:14}],precision:2,shouldOhlc:!1,styles:{lines:[{style:Mt.Solid,color:"#FF7F50",size:1}]},figures:[{key:"atr",title:"ATR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=[];let i=e[0].close,o=0;const s=2/(t[0].value+1);let u=[];for(let d=0;d<e.length;d++){const h=e[d],{high:g,low:v,close:y}=h,C=Math.max(g-v,Math.abs(g-i),Math.abs(v-i));u.push(C),d>=t[0].value-1?(d===t[0].value-1?o=u.reduce((w,_)=>w+_,0)/t[0].value:o=(C-o)*s+o,n.push({atr:o})):n.push({}),i=y}return n}},FS={isMainIndicator:!1,isSubIndicator:!0,name:"ADXR",shortName:"ADXR",series:ft.Volume,calcParams:[{name:"period",type:"number",value:14},{name:"adxrPeriod",type:"number",value:6}],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"adxr",title:"ADXR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,g=0;const v=[],y=[];return e.forEach((C,w)=>{const _={},E=e[w-1]??C,T=E.close,M=C.high,I=C.low,D=M-I,O=Math.abs(M-T),N=Math.abs(T-I),F=M-E.high,V=E.low-I,W=Math.max(Math.max(D,O),N),Z=F>0&&F>V?F:0,J=V>0&&V>F?V:0;if(n+=W,i+=Z,o+=J,w>=t[0].value-1){w>t[0].value-1?(s=s-s/t[0].value+W,u=u-u/t[0].value+Z,d=d-d/t[0].value+J):(s=n,u=i,d=o);let he=0,H=0;s!==0&&(he=u*100/s,H=d*100/s);let Y=0;H+he!==0&&(Y=Math.abs(H-he)/(H+he)*100),h+=Y,w>=t[0].value*2-2&&(w>t[0].value*2-2?g=(g*(t[0].value-1)+Y)/t[0].value:g=h/t[0].value,y[w]=g,w>=t[0].value*2+t[1].value-3&&(_.adxr=((y[w-(t[1].value-1)]??0)+g)/2))}v.push(_)}),v}},RS={isMainIndicator:!1,isSubIndicator:!0,name:"PDI",shortName:"PDI",series:ft.Volume,calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#00ff00",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;const u=[];return e.forEach((d,h)=>{const g={},v=e[h-1]??d,y=v.close,C=d.high,w=d.low,_=C-w,E=Math.abs(C-y),T=Math.abs(y-w),M=C-v.high,I=v.low-w,D=Math.max(Math.max(_,E),T),O=M>0&&M>I?M:0;n+=D,i+=O,h>=t[0].value-1&&(h>t[0].value-1?(o=o-o/t[0].value+D,s=s-s/t[0].value+O):(o=n,s=i),o!==0&&(g.pdi=s*100/o)),u.push(g)}),u}},OS={isMainIndicator:!1,isSubIndicator:!0,name:"MDI",shortName:"MDI",series:ft.Volume,calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"mdi",title:"MDI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;const u=[];return e.forEach((d,h)=>{const g={},v=e[h-1]??d,y=v.close,C=d.high,w=d.low,_=C-w,E=Math.abs(C-y),T=Math.abs(y-w),M=C-v.high,I=v.low-w,D=Math.max(Math.max(_,E),T),O=I>0&&I>M?I:0;n+=D,i+=O,h>=t[0].value-1&&(h>t[0].value-1?(o=o-o/t[0].value+D,s=s-s/t[0].value+O):(o=n,s=i),o!==0&&(g.mdi=s*100/o)),u.push(g)}),u}},NS={isMainIndicator:!1,isSubIndicator:!0,name:"ADX",shortName:"ADX",series:ft.Volume,calcParams:[14],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"adx",title:"ADX: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,g=0;const v=[];return e.forEach((y,C)=>{const w={},_=e[C-1]??y,E=_.close,T=y.high,M=y.low,I=T-M,D=Math.abs(T-E),O=Math.abs(E-M),N=T-_.high,F=_.low-M,V=Math.max(Math.max(I,D),O),W=N>0&&N>F?N:0,Z=F>0&&F>N?F:0;if(n+=V,i+=W,o+=Z,C>=t[0].value-1){C>t[0].value-1?(s=s-s/t[0].value+V,u=u-u/t[0].value+W,d=d-d/t[0].value+Z):(s=n,u=i,d=o);let J=0,he=0;s!==0&&(J=u*100/s,he=d*100/s);let H=0;he+J!==0&&(H=Math.abs(he-J)/(he+J)*100),h+=H,C>=t[0].value*2-2&&(C>t[0].value*2-2?g=(g*(t[0].value-1)+H)/t[0].value:g=h/t[0].value,w.adx=g)}v.push(w)}),v}},zS={isMainIndicator:!1,isSubIndicator:!0,name:"TR",shortName:"TR",series:ft.Volume,calcParams:[],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"tr",title:"TR: ",type:"line"}],calc:(e,r)=>{const t=[];let n;return e.forEach(i=>{const o={},s=i.high,u=i.low,d=i.close;n===void 0?(n=d,o.tr=s-u):(o.tr=Math.max(s-u,Math.abs(s-n),Math.abs(u-n)),n=d),t.push(o)}),t}},BS={isMainIndicator:!0,isSubIndicator:!1,name:"WS",shortName:"WS",series:ft.Volume,calcParams:[14],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"ws",title:"WS: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0],n=[];let i=0,o=1,s=0;return e.forEach(u=>{const d={},h=u.close;o<t?(o++,i+=h,d.ws=i/o):o===t?(o++,i+=h,s=i/t,d.ws=s):(s=(s*(t-1)+h)/t,d.ws=s),n.push(d)}),n}},VS={isMainIndicator:!1,isSubIndicator:!0,name:"Chaikin Oscillator",shortName:"CO",series:ft.Volume,calcParams:[{name:"shortPeriod",type:"number",value:3},{name:"longPeriod",type:"number",value:10}],styles:{lines:[{color:"#FF9800",size:1}]},figures:[{key:"co",title:"CO: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=[];let s=0;const u=[];e.forEach(g=>{const v=g.high,y=g.low,C=g.close,w=g.volume??0;let _=0;v!==y&&(_=(C-y-(v-C))/(v-y));const E=_*w;s+=E,u.push(s),o.push({})});const d=ha(u,n),h=ha(u,i);return e.forEach((g,v)=>{v>=i-1&&(o[v].co=d[v]-h[v])}),o}},$S={isMainIndicator:!1,isSubIndicator:!0,name:"Percentage Price Oscillator",shortName:"PPO",series:ft.Volume,calcParams:[{name:"fastPeriod",type:"number",value:12},{name:"slowPeriod",type:"number",value:26},{name:"signalPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF9800",size:1},{color:"#4CAF50",size:1}],bars:[{upColor:"#2196F3",downColor:"#FF5252"}]},figures:[{key:"ppo",title:"PPO: ",type:"line"},{key:"signal",title:"Signal: ",type:"line"},{key:"histogram",title:"Histogram: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=Sn(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return Sr(n)&&(n.histogram&&n.histogram>0?i=Sn(r.styles,"bars[0].upColor",t.bars[0].upColor):n.histogram&&n.histogram<0&&(i=Sn(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=[],u=e.map(y=>y.close),d=ha(u,n),h=ha(u,i),g=[];e.forEach((y,C)=>{if(C>=i-1){const w=(d[C]-h[C])/h[C]*100;g.push(w),s[C]={ppo:w}}else s[C]={}});const v=ha(g,o);return e.forEach((y,C)=>{C>=i+o-1&&(s[C].signal=v[C-(i-1)],s[C].ppo!==void 0&&(s[C].histogram=s[C].ppo-s[C].signal))}),s}},WS={isMainIndicator:!1,isSubIndicator:!0,name:"Percentage Volume Oscillator",shortName:"PVO",series:ft.Volume,calcParams:[{name:"shortPeriod",type:"number",value:12},{name:"longPeriod",type:"number",value:26},{name:"signalPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF9800",size:1},{color:"#4CAF50",size:1}],bars:[{upColor:"#2196F3",downColor:"#FF5252"}]},figures:[{key:"pvo",title:"PVO: ",type:"line"},{key:"signal",title:"Signal: ",type:"line"},{key:"histogram",title:"Histogram: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=Sn(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return Sr(n)&&(n.histogram&&n.histogram>0?i=Sn(r.styles,"bars[0].upColor",t.bars[0].upColor):n.histogram&&n.histogram<0&&(i=Sn(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=[],u=e.map(y=>y.volume),d=ha(u,n),h=ha(u,i),g=[];e.forEach((y,C)=>{if(C>=i-1){const w=(d[C]-h[C])/h[C]*100;g.push(w),s[C]={pvo:w}}else s[C]={}});const v=ha(g,o);return e.forEach((y,C)=>{C>=i+o-1&&(s[C].signal=v[C-(i-1)],s[C].pvo!==void 0&&(s[C].histogram=s[C].pvo-s[C].signal))}),s}},HS={isMainIndicator:!1,isSubIndicator:!0,name:"Qstick",shortName:"QS",series:ft.Price,calcParams:[{name:"period",type:"number",value:20}],styles:{lines:[{color:"#2196F3",size:1}],bars:[{upColor:"#4CAF50",downColor:"#FF5252"}]},figures:[{key:"qstick",title:"Qstick: ",type:"line"},{key:"qstick",title:"Qstick: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=Sn(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return Sr(n)&&(n.qstick&&n.qstick>0?i=Sn(r.styles,"bars[0].upColor",t.bars[0].upColor):n.qstick&&n.qstick<0&&(i=Sn(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams[0].value,n=[],i=e.map(s=>s.close-s.open),o=Om(i,t);return e.forEach((s,u)=>{u>=t-1?n[u]={qstick:o[u-(t-1)]}:n[u]={}}),n}},US={isMainIndicator:!1,isSubIndicator:!0,name:"Absolute Price Oscillator",shortName:"APO",series:ft.Price,calcParams:[{name:"fastPeriod",type:"number",value:14},{name:"slowPeriod",type:"number",value:30}],styles:{lines:[{color:"#2196F3",size:1}],bars:[{upColor:"#4CAF50",downColor:"#FF5252"}]},figures:[{key:"apo",title:"APO: ",type:"line"},{key:"apo",title:"APO: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=Sn(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return Sr(n)&&(n.apo&&n.apo>0?i=Sn(r.styles,"bars[0].upColor",t.bars[0].upColor):n.apo&&n.apo<0&&(i=Sn(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=[],s=e.map(h=>h.close),u=ha(s,n),d=ha(s,i);return e.forEach((h,g)=>{g>=i-1?o[g]={apo:u[g]-d[g]}:o[g]={}}),o}},jS={isMainIndicator:!1,isSubIndicator:!0,name:"Aroon",shortName:"AROON",series:ft.Price,calcParams:[{name:"Length",type:"number",value:14}],styles:{lines:[{color:"#4CAF50",size:1},{color:"#FF5252",size:1}]},figures:[{key:"up",title:"Aroon Up: ",type:"line"},{key:"down",title:"Aroon Down: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0].value,n=[];return e.forEach((i,o)=>{if(o>=t-1){const s=e.slice(o-t+1,o+1),u=Math.max(...s.map(C=>C.high)),d=Math.min(...s.map(C=>C.low));let h=0,g=0;for(let C=t-1;C>=0;C--)if(s[C].high===u){h=C;break}for(let C=t-1;C>=0;C--)if(s[C].low===d){g=C;break}const v=Math.round((t-g)/t*100),y=Math.round((t-h)/t*100);n[o]={up:v,down:y}}else n[o]={}}),n}},XS={isMainIndicator:!1,isSubIndicator:!0,name:"Balance of Power",shortName:"BOP",series:ft.Price,calcParams:[],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"value",title:"BOP: ",type:"line"}],calc:(e,r)=>{const t=[];return e.forEach(n=>{if(Sr(n.open)&&Sr(n.high)&&Sr(n.low)&&Sr(n.close)){const i=n.high-n.low;if(i!==0){const o=(n.close-n.open)/i;t.push({value:o})}else t.push({value:0})}else t.push({})}),t}},YS={isMainIndicator:!0,isSubIndicator:!1,name:"Double Exponential Moving Average",shortName:"DEMA",series:ft.Price,calcParams:[{name:"ema1Period",type:"number",value:10},{name:"ema2Period",type:"number",value:16}],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"value",title:"DEMA: ",type:"line"}],calc:(e,r)=>{const t=[],n=r.calcParams,i=n[0].value,o=n[1].value,s=e.map(h=>h.close),u=ha(s,i),d=ha(u,o);return e.forEach((h,g)=>{if(g>=i+o-2){const v=2*u[g]-d[g];t[g]={value:v}}else t[g]={}}),t}},ZS={isMainIndicator:!0,isSubIndicator:!1,name:"Envelope (SMA)",shortName:"ENV",series:ft.Price,calcParams:[{name:"period",type:"number",value:20},{name:"percentage",type:"number",value:10},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#FF5252",size:1},{color:"#2196F3",size:1},{color:"#4CAF50",size:1}]},figures:[{key:"upper",title:"Upper: ",type:"line"},{key:"middle",title:"Middle: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{const t=[],n=r.calcParams,i=n[0].value,o=n[1].value;n[2].value;const s=e.map(d=>d.close),u=Om(s,i);return e.forEach((d,h)=>{if(h>=i-1){const g=u[h],v=u[h],y=u[h],C=g*(1+o/100),w=y*(1-o/100);t[h]={upper:C,middle:v,lower:w}}else t[h]={}}),t},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,g;const v=r.result;if(!v)return!1;const{from:y,to:C}=i.getVisibleRange(),w=[],_=[],E=[],T=[];for(let M=y;M<C;M++){const I=v[M];I!=null&&(w.push(t.convertToPixel(M)),I.upper!=null&&_.push(n.convertToPixel(I.upper)),I.middle!=null&&E.push(n.convertToPixel(I.middle)),I.lower!=null&&T.push(n.convertToPixel(I.lower)))}if(r.calcParams[2].value){const M=Bs(((u=(s=(o=r.styles)==null?void 0:o.lines)==null?void 0:s[0])==null?void 0:u.color)??"#E91E63");zs(e,w,_,E,`rgba(${M.r}, ${M.g}, ${M.b}, 0.1)`);const I=Bs(((g=(h=(d=r.styles)==null?void 0:d.lines)==null?void 0:h[2])==null?void 0:g.color)??"#673AB7");zs(e,w,E,T,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`)}return!1}},KS={isMainIndicator:!0,isSubIndicator:!1,name:"Envelope (EMA)",shortName:"ENV-EMA",series:ft.Price,calcParams:[{name:"period",type:"number",value:20,min:1,max:100},{name:"percentage",type:"number",value:20,min:0,max:100},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#E91E63",size:1},{color:"#9C27B0",size:1},{color:"#673AB7",size:1}]},figures:[{key:"upper",title:"Upper: ",type:"line"},{key:"middle",title:"Middle: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{var t,n;const i=[],o=r.calcParams,s=((t=o.find(g=>g.name==="period"))==null?void 0:t.value)??20,u=((n=o.find(g=>g.name==="percentage"))==null?void 0:n.value)??20,d=e.map(g=>g.close),h=ha(d,s);return e.forEach((g,v)=>{if(v>=s-1){const y=h[v],C=h[v],w=h[v],_=y*(1+u/100),E=w*(1-u/100);i[v]={upper:_,middle:C,lower:E}}else i[v]={}}),i},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,g,v;const y=r.result;if(!y)return!1;const{from:C,to:w}=i.getVisibleRange(),_=[],E=[],T=[],M=[];for(let I=C;I<w;I++){const D=y[I];D!=null&&(_.push(t.convertToPixel(I)),D.upper!=null&&E.push(n.convertToPixel(D.upper)),D.middle!=null&&T.push(n.convertToPixel(D.middle)),D.lower!=null&&M.push(n.convertToPixel(D.lower)))}if(((o=r.calcParams.find(I=>I.name==="showShading"))==null?void 0:o.value)??!0){const I=Bs(((d=(u=(s=r.styles)==null?void 0:s.lines)==null?void 0:u[0])==null?void 0:d.color)??"#E91E63");zs(e,_,E,T,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`);const D=Bs(((v=(g=(h=r.styles)==null?void 0:h.lines)==null?void 0:g[2])==null?void 0:v.color)??"#673AB7");zs(e,_,T,M,`rgba(${D.r}, ${D.g}, ${D.b}, 0.1)`)}return!1}},GS={name:"Volume Price Trend",shortName:"VPT",series:ft.Volume,calcParams:[],precision:2,isMainIndicator:!1,isSubIndicator:!0,styles:{lines:[{style:Mt.Solid,color:"#FF7F50",size:1}]},figures:[{key:"vpt",title:"VPT: ",type:"line"}],calc:(e,r)=>{const t=[];let n=0;for(let i=0;i<e.length;i++){const o=e[i];if(o.close===void 0||o.volume===void 0){t[i]={vpt:0};continue}if(i===0){t[i]={vpt:0};continue}const s=e[i-1].close,u=e[i-1].volume;if(s===void 0||s===0||u===void 0){t[i]={vpt:n};continue}const d=(o.close-s)/s,h=n+u*d;n=h,t[i]={vpt:h}}return t},shouldOhlc:!0,draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s;const{realFrom:u,realTo:d}=r.getVisibleRange(),{result:h}=t,g=W0("line");for(let v=u;v<d;v++){const y=h[v];y&&y.vpt!==0&&new g({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(v),y:o.convertToPixel(y.vpt)},{x:i.convertToPixel(v+1),y:o.convertToPixel((s=h[v+1])==null?void 0:s.vpt)}]}}).draw(e)}return!0}},qS={name:"Negative Volume Index",shortName:"NVI",series:ft.Price,calcParams:[{name:"Length",type:"number",value:5,min:1,max:1e4}],precision:2,isMainIndicator:!1,isSubIndicator:!0,styles:{lines:[{style:Mt.Solid,color:"#2196F3",size:1}]},figures:[{key:"nvi",title:"NVI: ",type:"line"}],calc:(e,r)=>{var t;const n=[],i=((t=r.calcParams.find(s=>s.name==="Length"))==null?void 0:t.value)??1e3;let o=i;for(let s=0;s<e.length;s++){const u=e[s];if(u.close===void 0||u.volume===void 0){n[s]={nvi:0};continue}if(s===0){n[s]={nvi:i};continue}const d=e[s-1].close,h=e[s-1].volume;if(d===void 0||d===0||h===void 0){n[s]={nvi:o};continue}const g=(u.close-d)/d;let v=o;u.volume<=h&&(v=o+g*o),o=v,n[s]={nvi:v}}return n}},QS={isMainIndicator:!1,isSubIndicator:!0,name:"Money Flow Volume",shortName:"MFV",series:ft.Volume,calcParams:[],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"mfv",title:"MFV: ",type:"line"}],calc:(e,r)=>{const t=[];return e.forEach((n,i)=>{if(!Sr(n.high)||!Sr(n.low)||!Sr(n.close)||!Sr(n.volume)){t[i]={};return}const o=n.high-n.low;if(o===0){t[i]={mfv:0};return}const s=(n.close-n.low-(n.high-n.close))/o*n.volume;t[i]={mfv:s}}),t}},JS={isMainIndicator:!1,isSubIndicator:!0,name:"Money Flow Multiplier",shortName:"MFM",series:ft.Price,calcParams:[],styles:{lines:[{color:"#FF9800",size:1}]},figures:[{key:"mfm",title:"MFM: ",type:"line"}],calc:(e,r)=>{const t=[];return e.forEach((n,i)=>{if(!Sr(n.high)||!Sr(n.low)||!Sr(n.close)){t[i]={};return}const o=n.high-n.low;if(o===0){t[i]={mfm:0};return}const s=(n.close-n.low-(n.high-n.close))/o;t[i]={mfm:s}}),t}},eE={isMainIndicator:!0,isSubIndicator:!1,name:"Moving Linear Regression",shortName:"MLR",series:ft.Price,calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#2196F3",size:1.5}]},figures:[{key:"value",title:"MLR: ",type:"line"}],calc:(e,r)=>{const t=[],{calcParams:n}=r,i=n[0].value;if(e.length<i)return e.map(()=>({}));for(let o=0;o<e.length;o++){if(o<i-1){t.push({});continue}const s=e.slice(o-(i-1),o+1);if(!s.every(E=>Sr(E.close))){t.push({});continue}const u=Array.from({length:i},(E,T)=>T+1),d=s.map(E=>E.close),h=u.reduce((E,T)=>E+T,0)/i,g=d.reduce((E,T)=>E+T,0)/i;let v=0,y=0;for(let E=0;E<i;E++){const T=u[E]-h;v+=T*(d[E]-g),y+=T*T}const C=y!==0?v/y:0,w=g-C*h,_=C*i+w;t.push({value:_})}return t}},tE={isMainIndicator:!1,isSubIndicator:!0,name:"Moving Least Square",shortName:"MLS",series:ft.Price,calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#FF9800",size:1.5},{color:"#4CAF50",size:1},{color:"#F44336",size:1}]},figures:[{key:"line",title:"MLS: ",type:"line"},{key:"slope",title:"Slope: ",type:"line"},{key:"intercept",title:"Intercept: ",type:"line"}],calc:(e,r)=>{const t=[],{calcParams:n}=r,i=n[0].value;if(e.length<i)return e.map(()=>({}));for(let o=0;o<e.length;o++){if(o<i-1){t.push({});continue}const s=e.slice(o-(i-1),o+1);if(!s.every(T=>Sr(T.close))){t.push({});continue}const u=Array.from({length:i},(T,M)=>M+1),d=s.map(T=>T.close);let h=0,g=0,v=0,y=0;for(let T=0;T<i;T++)h+=u[T],g+=d[T],v+=u[T]*d[T],y+=u[T]*u[T];const C=i*y-h*h,w=C!==0?(i*v-h*g)/C:0,_=(g-w*h)/i,E=w*i+_;t.push({slope:w,intercept:_,line:E})}return t}},fv=[qk,Qk,Jk,eS,tS,rS,nS,iS,aS,oS,lS,sS,cS,uS,dS,hS,pS,fS,gS,vS,mS,xS,CS,wS,bS,Bm,Vm,_S,kS,SS,ES,MS,TS,IS,LS,PS,AS,DS,NS,FS,RS,OS,zS,BS,VS,$S,WS,HS,US,jS,XS,YS,ZS,KS,GS,qS,QS,JS,eE,tE],rE=[Bm,Vm],Rp=[],Od=[],nE=[...fv];nE.forEach(e=>{e.isMainIndicator?oE(e.name):e.isSubIndicator?lE(e.name):console.warn("Unknown indicator type during initialization: ",e.name),lm(e)});function iE(e){const r=[];return Rp.forEach(t=>{e.forEach(n=>{t===n&&r.push(n)})}),r}function aE(e){const r=[];return Od.forEach(t=>{e.forEach(n=>{t===n&&r.push(n)})}),r}function oE(e){Rp.includes(e)||Rp.push(e)}function lE(e){Od.includes(e)||Od.push(e)}function H2(){return[...fv]}var _t=(e=>(e.STOCKS="Stocks",e.CRYPTO="Crypto",e.FOREX="Forex",e.FUTURES="Futures",e.ALL="All",e))(_t||{});const $e={ONE_MIN:"1m",THREE_MIN:"3m",FIVE_MIN:"5m",FIFTEEN_MIN:"15m",THIRTY_MIN:"30m",ONE_HOUR:"1H",TWO_HOUR:"2H",FOUR_HOUR:"4H",SIX_HOUR:"6H",EIGHT_HOUR:"8H",TWELVE_HOUR:"12h",ONE_DAY:"D",THREE_DAY:"3D",FIVE_DAY:"5D",ONE_WEEK:"W",ONE_MONTH:"M",THREE_MONTH:"3M",SIX_MONTH:"6M",ONE_YEAR:"Y",FIVE_YEAR:"5Y",DEFAULT:"default"},mn={MINUTE:"minute",HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"};var j0=(e=>(e.RENKO="renko",e))(j0||{});const sE={[_t.STOCKS]:{[$e.ONE_MIN]:"1min",[$e.FIVE_MIN]:"5min",[$e.FIFTEEN_MIN]:"15min",[$e.THIRTY_MIN]:"30min",[$e.ONE_HOUR]:"1h",[$e.TWO_HOUR]:"2h",[$e.ONE_DAY]:"1day",[$e.ONE_WEEK]:"1week",[$e.ONE_MONTH]:"1month",[$e.DEFAULT]:"15min"},[_t.CRYPTO]:{[$e.ONE_MIN]:"1m",[$e.THREE_MIN]:"3m",[$e.FIVE_MIN]:"5m",[$e.FIFTEEN_MIN]:"15m",[$e.THIRTY_MIN]:"30m",[$e.ONE_HOUR]:"1h",[$e.TWO_HOUR]:"2h",[$e.FOUR_HOUR]:"4h",[$e.SIX_HOUR]:"6h",[$e.EIGHT_HOUR]:"8h",[$e.TWELVE_HOUR]:"12h",[$e.ONE_DAY]:"1d",[$e.THREE_DAY]:"3d",[$e.ONE_WEEK]:"1w",[$e.ONE_MONTH]:"1M",[$e.DEFAULT]:"15m"}};function up(e,r){const t=sE[e];return t[r.text]||t.default}const E0=class kn{static setStockDataFeed(r){kn.stockDataFeed=r}static setCryptoDataFeed(r){kn.cryptoDataFeed=r}static setForexDataFeed(r){kn.forexDataFeed=r}static setFuturesDataFeed(r){kn.futuresDataFeed=r}static getStockDataFeed(){return kn.stockDataFeed}static getCryptoDataFeed(){return kn.cryptoDataFeed}static getForexDataFeed(){return kn.forexDataFeed}static getFuturesDataFeed(){return kn.futuresDataFeed}static hasStockDataFeed(){return kn.stockDataFeed!==null}static hasCryptoDataFeed(){return kn.cryptoDataFeed!==null}static hasForexDataFeed(){return kn.forexDataFeed!==null}static hasFuturesDataFeed(){return kn.futuresDataFeed!==null}static getDefaultDataFeed(){return kn.defaultDataFeed}static setDefaultDataFeed(r){kn.defaultDataFeed=r}static getAllDataFeeds(){return[kn.stockDataFeed??null,kn.cryptoDataFeed??null,kn.forexDataFeed??null,kn.futuresDataFeed??null]}};Re(E0,"defaultDataFeed"),Re(E0,"stockDataFeed",null),Re(E0,"cryptoDataFeed",null),Re(E0,"forexDataFeed",null),Re(E0,"futuresDataFeed",null);let Ur=E0;function $m(e){const r=[{name:_t.CRYPTO,class:Xg}];(e!=null?r.filter(t=>t.name.toLowerCase()!==e.toLowerCase()):r).forEach(t=>{t.class.checkAndCloseIfNoSubscriptions()})}const _p=class bt{async searchTickers(r,t){try{if(t!==void 0&&t!==_t.CRYPTO)return[];(r===void 0||r==="")&&(r="BTCUSDT");const n=`https://api.binance.com/api/v3/exchangeInfo?symbol=${r.toUpperCase()}`,i=await fetch(n);if(!i.ok)throw new Error(`Network response was not ok: ${i.statusText}`);const o=await i.json();if(!o.symbols||!Array.isArray(o.symbols))throw new Error("Invalid response format: 'symbols' not found or not an array.");return console.log(o.symbols),(o.symbols!=null?o.symbols:[]).map(s=>({ticker:s.symbol,exchange:"binance",logo:"binance-logo.svg",type:_t.CRYPTO}))}catch(n){return console.error("Failed to fetch data from Binance API:",n),[]}}async getHistoricalTimeSeries(r,t,n,i,o){const s=up(_t.CRYPTO,t);let u=[],d=1e3,h,g=Math.ceil(1e3/1e3);try{for(;d>0&&g>0;){const v=Math.min(1e3,d),y=await cE(r.ticker,s,v,h).catch(C=>(console.error("Failed to fetch candle data:",C),[]));if(!y||y.length===0){console.warn("No data returned, stopping further requests");break}if(u=[...y,...u],d-=y.length,g--,h=y[0][0],u.length>=1e3)break}return u.length<1e3&&console.warn(`Requested 1000 data points, but only fetched ${u.length}`),u.slice(0,1e3).map(v=>({timestamp:v[0],open:parseFloat(v[1]),high:parseFloat(v[2]),low:parseFloat(v[3]),close:parseFloat(v[4]),volume:parseFloat(v[5])}))}catch(v){return console.error("An error occurred during data fetching:",v),[]}}async subscribeTicker(r,t,n,i){var o;if((r==null?void 0:r.ticker)==null){console.warn("Invalid symbol: Symbol must have a valid ticker.");return}if(t==null){console.warn("Invalid period: Period cannot be null or undefined.");return}if(i==null){console.warn("Invalid uuid: UUID cannot be null or undefined.");return}try{$m(_t.CRYPTO),((o=bt._ws)==null?void 0:o.readyState)!==WebSocket.OPEN?await this.createWebSocket(r,t,i):(console.log("WebSocket is already connected, proceeding to subscribe"),await this.subscribe(r,t,i)),this.addListener(r,t,n,i)}catch(s){console.error("Failed to subscribe to ticker: ",s)}}subscribeAllTickers(r,t,n,i=500,o){const s=async u=>{await new Promise(d=>setTimeout(d,u))};r.length!==0&&this.subscribeTicker(r[0],t,n,o).then(async()=>{console.log(`Subscribed to ticker: ${r[0].ticker}`),console.log("Applying initial delay of 3 seconds"),await s(3e3);for(let u=1;u<r.length;u++)setTimeout(()=>{this.subscribeTicker(r[u],t,n,o).then(()=>{console.log(`Subscribed to ticker: ${r[u].ticker}`)})},(u-1)*i)})}unsubscribeTicker(r,t,n){!this.validateTickerPeriodUuid(r,t,n)||n==null||this.removeListener(r.ticker,t,n)&&this.unSubscribeToSymbol(r.ticker,t)}unsubscribeAllTickers(r,t,n,i){console.log("Unsubscribing all tickers"),r.forEach((o,s)=>{!this.validateTickerPeriodUuid(o,t,i)||i==null||setTimeout(()=>{console.log("Subscribed Symbols Before",bt._subscribedSymbolListenersMap.size),this.removeListener(o.ticker,t,i)&&this.unSubscribeToSymbol(o.ticker,t),bt.checkAndCloseIfNoSubscriptions()},s*n)})}closeWebsocket(){bt.closeWebsocket()}static closeWebsocket(){var r;console.warn("Closing websocket connection"),(r=bt._ws)==null||r.close(),bt._ws=void 0,bt._subscribedSymbolListenersMap.clear(),bt._subscribedSymbolsMap.clear()}async createWebSocket(r,t,n){var i,o;if(!(((i=bt._ws)==null?void 0:i.readyState)===WebSocket.OPEN||((o=bt._ws)==null?void 0:o.readyState)===WebSocket.CONNECTING)){console.warn("Creating new ws connection"),bt._ws=new WebSocket("wss://stream.binance.com:9443/ws");try{await this.waitForWebSocketToOpen(bt._ws),console.log("WebSocket connection established"),await this.subscribe(r,t,n)}catch(s){console.warn("Failed to establish Binance websocket connection: ",s)}}}async subscribe(r,t,n){var i,o,s,u;bt._ws==null&&await this.createWebSocket(r,t,n);const d=`${r.ticker.toLowerCase()}_${t.text}`;if(bt._subscribedSymbolsMap.set(d,(bt._subscribedSymbolsMap.get(d)??0)+1),console.log("Subscribed ",d," count: ",bt._subscribedSymbolsMap.get(d)),bt._subscribedSymbolsMap.get(d)>1){console.log("No need to re-subscribe as we are already subscribed for ticker: ",r);return}try{const h=r.ticker.toLowerCase(),g=up(_t.CRYPTO,t),v=JSON.stringify({method:"SUBSCRIBE",params:[`${h}@kline_${g}`],id:1});((i=bt._ws)==null?void 0:i.readyState)===WebSocket.OPEN?(console.log("WebSocket is open, sending subscription message"),(o=bt._ws)==null||o.send(v)):((s=bt._ws)==null?void 0:s.readyState)===WebSocket.CONNECTING?(console.log("WebSocket is still connecting, waiting for connection to be established"),await this.waitForWebSocketToOpen(bt._ws),(u=bt._ws)==null||u.send(v)):await this.createWebSocket(r,t,n),console.log(`Subscribed to ${h}@kline_${g}`)}catch(h){console.error("Failed to subscribe to symbol: ",h),bt._subscribedSymbolsMap.set(d,(bt._subscribedSymbolsMap.get(d)??0)-1)}}unSubscribeToSymbol(r,t){var n;const i=`${r.toLowerCase()}_${t.text}`;if(bt._subscribedSymbolsMap.set(i,(bt._subscribedSymbolsMap.get(i)??1)-1),console.log("Unsubscribed ",i," count: ",bt._subscribedSymbolsMap.get(i)),bt._subscribedSymbolsMap.get(i)>=1){console.log("No need to un-subscribe as another chart is using this interval");return}const o=r.toLowerCase(),s=up(_t.CRYPTO,t),u=JSON.stringify({method:"UNSUBSCRIBE",params:[`${o}@kline_${s}`],id:2});(n=bt._ws)==null||n.send(u),bt._subscribedSymbolsMap.delete(i),console.log(`Un subscribed to ${o}@kline_${s}`)}static checkAndCloseIfNoSubscriptions(){bt._subscribedSymbolListenersMap.size===0&&bt._ws!==void 0&&(console.log("Closing Binance websocket connection"),bt.closeWebsocket())}addListener(r,t,n,i){const o=`${r.ticker.toLowerCase()}_${t.text}_${i}`,s=u=>{const d=JSON.parse(u.data),h=d==null?void 0:d.k,g=up(_t.CRYPTO,t);if(h!=null&&h.s.toLowerCase()===r.ticker.toLowerCase()&&h.i===g){const v=d.k;n({timestamp:v.t,open:parseFloat(v.o),high:parseFloat(v.h),low:parseFloat(v.l),close:parseFloat(v.c),volume:parseFloat(v.v),turnover:parseFloat(v.q)},r)}};bt._ws.addEventListener("message",s),bt._subscribedSymbolListenersMap.set(o,s),console.log("Adding Listener for: ",o," count: ",bt._subscribedSymbolListenersMap.size)}removeListener(r,t,n){const i=`${r.toLowerCase()}_${t.text}_${n}`,o=bt._subscribedSymbolListenersMap.get(i);return o!=null?(console.log("Removing Listener for: ",i),bt._ws.removeEventListener("message",o),bt._subscribedSymbolListenersMap.delete(i),!0):!1}async waitForWebSocketToOpen(r){await new Promise((t,n)=>{r.readyState===WebSocket.OPEN?(console.log("WebSocket is open"),t()):(r.onopen=()=>{console.log("WebSocket connection opened"),t()},r.onerror=i=>{n(i),console.error("Binance WebSocket error: ",i)})})}validateTickerPeriodUuid(r,t,n){switch(!0){case(r==null?void 0:r.ticker)==null:return console.warn("Invalid symbol: Symbol must have a valid ticker."),!1;case t==null:return console.warn("Invalid period: Period cannot be null or undefined."),!1;case n==null:console.warn("Invalid uuid: Uuid cannot be null");default:return!0}}clearAllListeners(){bt._ws&&(Array.from(bt._subscribedSymbolListenersMap.values()).forEach(r=>{var t;console.log("Removing listener: ",r),(t=bt._ws)==null||t.removeEventListener("message",r)}),bt._subscribedSymbolListenersMap.clear(),bt._subscribedSymbolsMap.clear(),console.log("All BinanceDataFeed listeners cleared"))}};Re(_p,"_ws"),Re(_p,"_subscribedSymbolListenersMap",new Map),Re(_p,"_subscribedSymbolsMap",new Map);let Xg=_p;async function cE(e,r,t,n){let i=`https://api.binance.com/api/v3/klines?symbol=${e}&interval=${r}&limit=${t}`;return n!=null&&(i+=`&endTime=${n}`),await(await fetch(i)).json()}const uE=(e,r)=>e===r,Go=Symbol("solid-proxy"),dE=typeof Proxy=="function",Yg=Symbol("solid-track"),Op={equals:uE};let Wm=Zm;const Kl=1,Np=2,Hm={owned:null,cleanups:null,context:null,owner:null},vg={};var hr=null;let mg=null,yr=null,ui=null,jl=null,ef=0;function O0(e,r){const t=yr,n=hr,i=e.length===0,o=r===void 0?n:r,s=i?Hm:{owned:null,cleanups:null,context:o?o.context:null,owner:o},u=i?e:()=>e(()=>Ke(()=>Nd(s)));hr=s,yr=null;try{return qo(u,!0)}finally{yr=t,hr=n}}function ge(e,r){r=r?Object.assign({},Op,r):Op;const t={value:e,observers:null,observerSlots:null,comparator:r.equals||void 0},n=i=>(typeof i=="function"&&(i=i(t.value)),Ym(t,i));return[Xm.bind(t),n]}function hE(e,r,t){const n=tf(e,r,!0,Kl);X0(n)}function We(e,r,t){const n=tf(e,r,!1,Kl);X0(n)}function ct(e,r,t){Wm=bE;const n=tf(e,r,!1,Kl);(!t||!t.render)&&(n.user=!0),jl?jl.push(n):X0(n)}function be(e,r,t){t=t?Object.assign({},Op,t):Op;const n=tf(e,r,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,X0(n),Xm.bind(n)}function pE(e){return e&&typeof e=="object"&&"then"in e}function fE(e,r,t){let n,i,o;typeof r=="function"?(n=e,i=r,o={}):(n=!0,i=e,o=r||{});let s=null,u=vg,d=!1,h="initialValue"in o,g=typeof n=="function"&&be(n);const v=new Set,[y,C]=(o.storage||ge)(o.initialValue),[w,_]=ge(void 0),[E,T]=ge(void 0,{equals:!1}),[M,I]=ge(h?"ready":"unresolved");function D(V,W,Z,J){return s===V&&(s=null,J!==void 0&&(h=!0),(V===u||W===u)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(J,{value:W})),u=vg,O(W,Z)),W}function O(V,W){qo(()=>{W===void 0&&C(()=>V),I(W!==void 0?"errored":h?"ready":"unresolved"),_(W);for(const Z of v.keys())Z.decrement();v.clear()},!1)}function N(){const V=xE,W=y(),Z=w();if(Z!==void 0&&!s)throw Z;return yr&&yr.user,W}function F(V=!0){if(V!==!1&&d)return;d=!1;const W=g?g():n;if(W==null||W===!1){D(s,Ke(y));return}const Z=u!==vg?u:Ke(()=>i(W,{value:y(),refetching:V}));return pE(Z)?(s=Z,"value"in Z?(Z.status==="success"?D(s,Z.value,void 0,W):D(s,void 0,Kg(Z.value),W),Z):(d=!0,queueMicrotask(()=>d=!1),qo(()=>{I(h?"refreshing":"pending"),T()},!1),Z.then(J=>D(Z,J,void 0,W),J=>D(Z,void 0,Kg(J),W)))):(D(s,Z,void 0,W),Z)}return Object.defineProperties(N,{state:{get:()=>M()},error:{get:()=>w()},loading:{get(){const V=M();return V==="pending"||V==="refreshing"}},latest:{get(){if(!h)return N();const V=w();if(V&&!s)throw V;return y()}}}),g?hE(()=>F(!1)):F(!1),[N,{refetch:F,mutate:C}]}function Ol(e){return qo(e,!1)}function Ke(e){if(yr===null)return e();const r=yr;yr=null;try{return e()}finally{yr=r}}function Ba(e){ct(()=>Ke(e))}function hi(e){return hr===null||(hr.cleanups===null?hr.cleanups=[e]:hr.cleanups.push(e)),e}function Zg(){return yr}function gE(){return hr}function vE(e,r){const t=hr,n=yr;hr=e,yr=null;try{return qo(r,!0)}catch(i){gv(i)}finally{hr=t,yr=n}}function mE(e){const r=yr,t=hr;return Promise.resolve().then(()=>{yr=r,hr=t;let n;return qo(e,!1),yr=hr=null,n?n.done:void 0})}function Um(e,r){const t=Symbol("context");return{id:t,Provider:_E(t),defaultValue:e}}function jm(e){let r;return hr&&hr.context&&(r=hr.context[e.id])!==void 0?r:e.defaultValue}function yE(e){const r=be(e),t=be(()=>Gg(r()));return t.toArray=()=>{const n=t();return Array.isArray(n)?n:n!=null?[n]:[]},t}let xE;function Xm(){if(this.sources&&this.state)if(this.state===Kl)X0(this);else{const e=ui;ui=null,qo(()=>Bp(this),!1),ui=e}if(yr){const e=this.observers?this.observers.length:0;yr.sources?(yr.sources.push(this),yr.sourceSlots.push(e)):(yr.sources=[this],yr.sourceSlots=[e]),this.observers?(this.observers.push(yr),this.observerSlots.push(yr.sources.length-1)):(this.observers=[yr],this.observerSlots=[yr.sources.length-1])}return this.value}function Ym(e,r,t){let n=e.value;return(!e.comparator||!e.comparator(n,r))&&(e.value=r,e.observers&&e.observers.length&&qo(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=mg&&mg.running;s&&mg.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?ui.push(o):jl.push(o),o.observers&&Km(o)),s||(o.state=Kl)}if(ui.length>1e6)throw ui=[],new Error},!1)),r}function X0(e){if(!e.fn)return;Nd(e);const r=ef;CE(e,e.value,r)}function CE(e,r,t){let n;const i=hr,o=yr;yr=hr=e;try{n=e.fn(r)}catch(s){return e.pure&&(e.state=Kl,e.owned&&e.owned.forEach(Nd),e.owned=null),e.updatedAt=t+1,gv(s)}finally{yr=o,hr=i}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?Ym(e,n):e.value=n,e.updatedAt=t)}function tf(e,r,t,n=Kl,i){const o={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:hr,context:hr?hr.context:null,pure:t};return hr===null||hr!==Hm&&(hr.owned?hr.owned.push(o):hr.owned=[o]),o}function zp(e){if(e.state===0)return;if(e.state===Np)return Bp(e);if(e.suspense&&Ke(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ef);)e.state&&r.push(e);for(let t=r.length-1;t>=0;t--)if(e=r[t],e.state===Kl)X0(e);else if(e.state===Np){const n=ui;ui=null,qo(()=>Bp(e,r[0]),!1),ui=n}}function qo(e,r){if(ui)return e();let t=!1;r||(ui=[]),jl?t=!0:jl=[],ef++;try{const n=e();return wE(t),n}catch(n){t||(jl=null),ui=null,gv(n)}}function wE(e){if(ui&&(Zm(ui),ui=null),e)return;const r=jl;jl=null,r.length&&qo(()=>Wm(r),!1)}function Zm(e){for(let r=0;r<e.length;r++)zp(e[r])}function bE(e){let r,t=0;for(r=0;r<e.length;r++){const n=e[r];n.user?e[t++]=n:zp(n)}for(r=0;r<t;r++)zp(e[r])}function Bp(e,r){e.state=0;for(let t=0;t<e.sources.length;t+=1){const n=e.sources[t];if(n.sources){const i=n.state;i===Kl?n!==r&&(!n.updatedAt||n.updatedAt<ef)&&zp(n):i===Np&&Bp(n,r)}}}function Km(e){for(let r=0;r<e.observers.length;r+=1){const t=e.observers[r];t.state||(t.state=Np,t.pure?ui.push(t):jl.push(t),t.observers&&Km(t))}}function Nd(e){let r;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){const o=i.pop(),s=t.observerSlots.pop();n<i.length&&(o.sourceSlots[s]=n,i[n]=o,t.observerSlots[n]=s)}}if(e.tOwned){for(r=e.tOwned.length-1;r>=0;r--)Nd(e.tOwned[r]);delete e.tOwned}if(e.owned){for(r=e.owned.length-1;r>=0;r--)Nd(e.owned[r]);e.owned=null}if(e.cleanups){for(r=e.cleanups.length-1;r>=0;r--)e.cleanups[r]();e.cleanups=null}e.state=0}function Kg(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function gv(e,r=hr){throw Kg(e)}function Gg(e){if(typeof e=="function"&&!e.length)return Gg(e());if(Array.isArray(e)){const r=[];for(let t=0;t<e.length;t++){const n=Gg(e[t]);Array.isArray(n)?r.push.apply(r,n):r.push(n)}return r}return e}function _E(e,r){return function(t){let n;return We(()=>n=Ke(()=>(hr.context={...hr.context,[e]:t.value},yE(()=>t.children))),void 0),n}}const kE=Symbol("fallback");function U2(e){for(let r=0;r<e.length;r++)e[r]()}function SE(e,r,t={}){let n=[],i=[],o=[],s=0,u=r.length>1?[]:null;return hi(()=>U2(o)),()=>{let d=e()||[],h=d.length,g,v;return d[Yg],Ke(()=>{let C,w,_,E,T,M,I,D,O;if(h===0)s!==0&&(U2(o),o=[],n=[],i=[],s=0,u&&(u=[])),t.fallback&&(n=[kE],i[0]=O0(N=>(o[0]=N,t.fallback())),s=1);else if(s===0){for(i=new Array(h),v=0;v<h;v++)n[v]=d[v],i[v]=O0(y);s=h}else{for(_=new Array(h),E=new Array(h),u&&(T=new Array(h)),M=0,I=Math.min(s,h);M<I&&n[M]===d[M];M++);for(I=s-1,D=h-1;I>=M&&D>=M&&n[I]===d[D];I--,D--)_[D]=i[I],E[D]=o[I],u&&(T[D]=u[I]);for(C=new Map,w=new Array(D+1),v=D;v>=M;v--)O=d[v],g=C.get(O),w[v]=g===void 0?-1:g,C.set(O,v);for(g=M;g<=I;g++)O=n[g],v=C.get(O),v!==void 0&&v!==-1?(_[v]=i[g],E[v]=o[g],u&&(T[v]=u[g]),v=w[v],C.set(O,v)):o[g]();for(v=M;v<h;v++)v in _?(i[v]=_[v],o[v]=E[v],u&&(u[v]=T[v],u[v](v))):i[v]=O0(y);i=i.slice(0,s=h),n=d.slice(0)}return i});function y(C){if(o[v]=C,u){const[w,_]=ge(v);return u[v]=_,r(d[v],w)}return r(d[v])}}}function ae(e,r){return Ke(()=>e(r||{}))}function dp(){return!0}const EE={get(e,r,t){return r===Go?t:e.get(r)},has(e,r){return r===Go?!0:e.has(r)},set:dp,deleteProperty:dp,getOwnPropertyDescriptor(e,r){return{configurable:!0,enumerable:!0,get(){return e.get(r)},set:dp,deleteProperty:dp}},ownKeys(e){return e.keys()}};function yg(e){return(e=typeof e=="function"?e():e)?e:{}}function ME(){for(let e=0,r=this.length;e<r;++e){const t=this[e]();if(t!==void 0)return t}}function rf(...e){let r=!1;for(let s=0;s<e.length;s++){const u=e[s];r=r||!!u&&Go in u,e[s]=typeof u=="function"?(r=!0,be(u)):u}if(dE&&r)return new Proxy({get(s){for(let u=e.length-1;u>=0;u--){const d=yg(e[u])[s];if(d!==void 0)return d}},has(s){for(let u=e.length-1;u>=0;u--)if(s in yg(e[u]))return!0;return!1},keys(){const s=[];for(let u=0;u<e.length;u++)s.push(...Object.keys(yg(e[u])));return[...new Set(s)]}},EE);const t={},n=Object.create(null);for(let s=e.length-1;s>=0;s--){const u=e[s];if(!u)continue;const d=Object.getOwnPropertyNames(u);for(let h=d.length-1;h>=0;h--){const g=d[h];if(g==="__proto__"||g==="constructor")continue;const v=Object.getOwnPropertyDescriptor(u,g);if(!n[g])n[g]=v.get?{enumerable:!0,configurable:!0,get:ME.bind(t[g]=[v.get.bind(u)])}:v.value!==void 0?v:void 0;else{const y=t[g];y&&(v.get?y.push(v.get.bind(u)):v.value!==void 0&&y.push(()=>v.value))}}}const i={},o=Object.keys(n);for(let s=o.length-1;s>=0;s--){const u=o[s],d=n[u];d&&d.get?Object.defineProperty(i,u,d):i[u]=d?d.value:void 0}return i}const TE=e=>`Stale read from <${e}>.`;function Hi(e){const r="fallback"in e&&{fallback:()=>e.fallback};return be(SE(()=>e.each,e.children,r||void 0))}function ot(e){const r=e.keyed,t=be(()=>e.when,void 0,void 0),n=r?t:be(t,void 0,{equals:(i,o)=>!i==!o});return be(()=>{const i=n();if(i){const o=e.children;return typeof o=="function"&&o.length>0?Ke(()=>o(r?i:()=>{if(!Ke(n))throw TE("Show");return t()})):o}return e.fallback},void 0,void 0)}function IE(e,r,t){let n=t.length,i=r.length,o=n,s=0,u=0,d=r[i-1].nextSibling,h=null;for(;s<i||u<o;){if(r[s]===t[u]){s++,u++;continue}for(;r[i-1]===t[o-1];)i--,o--;if(i===s){const g=o<n?u?t[u-1].nextSibling:t[o-u]:d;for(;u<o;)e.insertBefore(t[u++],g)}else if(o===u)for(;s<i;)(!h||!h.has(r[s]))&&r[s].remove(),s++;else if(r[s]===t[o-1]&&t[u]===r[i-1]){const g=r[--i].nextSibling;e.insertBefore(t[u++],r[s++].nextSibling),e.insertBefore(t[--o],g),r[i]=t[o]}else{if(!h){h=new Map;let v=u;for(;v<o;)h.set(t[v],v++)}const g=h.get(r[s]);if(g!=null)if(u<g&&g<o){let v=s,y=1,C;for(;++v<i&&v<o&&!((C=h.get(r[v]))==null||C!==g+y);)y++;if(y>g-u){const w=r[s];for(;u<g;)e.insertBefore(t[u++],w)}else e.replaceChild(t[u++],r[s++])}else s++;else r[s++].remove()}}}const j2="_$DX_DELEGATE";function LE(e,r,t,n={}){let i;return O0(o=>{i=o,r===document?e():B(r,e(),r.firstChild?null:void 0,t)},n.owner),()=>{i(),r.textContent=""}}function ee(e,r,t,n){let i;const o=()=>{const u=document.createElement("template");return u.innerHTML=e,u.content.firstChild},s=()=>(i||(i=o())).cloneNode(!0);return s.cloneNode=s,s}function Er(e,r=window.document){const t=r[j2]||(r[j2]=new Set);for(let n=0,i=e.length;n<i;n++){const o=e[n];t.has(o)||(t.add(o),r.addEventListener(o,PE))}}function Ye(e,r,t){t==null?e.removeAttribute(r):e.setAttribute(r,t)}function tr(e,r){r==null?e.removeAttribute("class"):e.className=r}function Wi(e,r,t,n){Array.isArray(t)?(e[`$$${r}`]=t[0],e[`$$${r}Data`]=t[1]):e[`$$${r}`]=t}function Va(e,r,t){if(!r)return t?Ye(e,"style"):r;const n=e.style;if(typeof r=="string")return n.cssText=r;typeof t=="string"&&(n.cssText=t=void 0),t||(t={}),r||(r={});let i,o;for(o in t)r[o]==null&&n.removeProperty(o),delete t[o];for(o in r)i=r[o],i!==t[o]&&(n.setProperty(o,i),t[o]=i);return t}function pa(e,r,t){return Ke(()=>e(r,t))}function B(e,r,t,n){if(t!==void 0&&!n&&(n=[]),typeof r!="function")return Vp(e,r,n,t);We(i=>Vp(e,r(),i,t),n)}function PE(e){let r=e.target;const t=`$$${e.type}`,n=e.target,i=e.currentTarget,o=d=>Object.defineProperty(e,"target",{configurable:!0,value:d}),s=()=>{const d=r[t];if(d&&!r.disabled){const h=r[`${t}Data`];if(h!==void 0?d.call(r,h,e):d.call(r,e),e.cancelBubble)return}return r.host&&typeof r.host!="string"&&!r.host._$host&&r.contains(e.target)&&o(r.host),!0},u=()=>{for(;s()&&(r=r._$host||r.parentNode||r.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}}),e.composedPath){const d=e.composedPath();o(d[0]);for(let h=0;h<d.length-2&&(r=d[h],!!s());h++){if(r._$host){r=r._$host,u();break}if(r.parentNode===i)break}}else u();o(n)}function Vp(e,r,t,n,i){for(;typeof t=="function";)t=t();if(r===t)return t;const o=typeof r,s=n!==void 0;if(e=s&&t[0]&&t[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(r=r.toString(),r===t))return t;if(s){let u=t[0];u&&u.nodeType===3?u.data!==r&&(u.data=r):u=document.createTextNode(r),t=C0(e,t,n,u)}else t!==""&&typeof t=="string"?t=e.firstChild.data=r:t=e.textContent=r}else if(r==null||o==="boolean")t=C0(e,t,n);else{if(o==="function")return We(()=>{let u=r();for(;typeof u=="function";)u=u();t=Vp(e,u,t,n)}),()=>t;if(Array.isArray(r)){const u=[],d=t&&Array.isArray(t);if(qg(u,r,t,i))return We(()=>t=Vp(e,u,t,n,!0)),()=>t;if(u.length===0){if(t=C0(e,t,n),s)return t}else d?t.length===0?X2(e,u,n):IE(e,t,u):(t&&C0(e),X2(e,u));t=u}else if(r.nodeType){if(Array.isArray(t)){if(s)return t=C0(e,t,n,r);C0(e,t,null,r)}else t==null||t===""||!e.firstChild?e.appendChild(r):e.replaceChild(r,e.firstChild);t=r}}return t}function qg(e,r,t,n){let i=!1;for(let o=0,s=r.length;o<s;o++){let u=r[o],d=t&&t[e.length],h;if(!(u==null||u===!0||u===!1))if((h=typeof u)=="object"&&u.nodeType)e.push(u);else if(Array.isArray(u))i=qg(e,u,d)||i;else if(h==="function")if(n){for(;typeof u=="function";)u=u();i=qg(e,Array.isArray(u)?u:[u],Array.isArray(d)?d:[d])||i}else e.push(u),i=!0;else{const g=String(u);d&&d.nodeType===3&&d.data===g?e.push(d):e.push(document.createTextNode(g))}}return i}function X2(e,r,t=null){for(let n=0,i=r.length;n<i;n++)e.insertBefore(r[n],t)}function C0(e,r,t,n){if(t===void 0)return e.textContent="";const i=n||document.createTextNode("");if(r.length){let o=!1;for(let s=r.length-1;s>=0;s--){const u=r[s];if(i!==u){const d=u.parentNode===e;!o&&!s?d?e.replaceChild(i,u):e.insertBefore(i,t):d&&u.remove()}else o=!0}}else e.insertBefore(i,t);return[i]}const AE="http://www.w3.org/2000/svg";function DE(e,r=!1){return r?document.createElementNS(AE,e):document.createElement(e)}function FE(e){const{useShadow:r}=e,t=document.createTextNode(""),n=()=>e.mount||document.body,i=gE();let o;return ct(()=>{o||(o=vE(i,()=>be(()=>e.children)));const s=n();if(s instanceof HTMLHeadElement){const[u,d]=ge(!1),h=()=>d(!0);O0(g=>B(s,()=>u()?g():o(),null)),hi(h)}else{const u=DE(e.isSVG?"g":"div",e.isSVG),d=r&&u.attachShadow?u.attachShadow({mode:"open"}):u;Object.defineProperty(u,"_$host",{get(){return t.parentNode},configurable:!0}),B(d,o),s.appendChild(u),e.ref&&e.ref(u),hi(()=>s.removeChild(u))}},void 0,{render:!0}),t}function Qg(e,r){switch(e){case"Etc/UTC":return L("utc",r);case"Pacific/Honolulu":return L("honolulu",r);case"America/Juneau":return L("juneau",r);case"America/Los_Angeles":return L("los_angeles",r);case"America/Chicago":return L("chicago",r);case"America/Toronto":return L("toronto",r);case"America/Sao_Paulo":return L("sao_paulo",r);case"Europe/London":return L("london",r);case"Europe/Berlin":return L("berlin",r);case"Asia/Bahrain":return L("bahrain",r);case"Asia/Dubai":return L("dubai",r);case"Asia/Ashkhabad":return L("ashkhabad",r);case"Asia/Almaty":return L("almaty",r);case"Asia/Bangkok":return L("bangkok",r);case"Asia/Shanghai":return L("shanghai",r);case"Asia/Tokyo":return L("tokyo",r);case"Australia/Sydney":return L("sydney",r);case"Pacific/Norfolk":return L("norfolk",r)}return e}function RE(e){return[{key:"Etc/UTC",text:L("utc",e)},{key:"Pacific/Honolulu",text:L("honolulu",e)},{key:"America/Juneau",text:L("juneau",e)},{key:"America/Los_Angeles",text:L("los_angeles",e)},{key:"America/Chicago",text:L("chicago",e)},{key:"America/Toronto",text:L("toronto",e)},{key:"America/Sao_Paulo",text:L("sao_paulo",e)},{key:"Europe/London",text:L("london",e)},{key:"Europe/Berlin",text:L("berlin",e)},{key:"Asia/Bahrain",text:L("bahrain",e)},{key:"Asia/Dubai",text:L("dubai",e)},{key:"Asia/Ashkhabad",text:L("ashkhabad",e)},{key:"Asia/Almaty",text:L("almaty",e)},{key:"Asia/Bangkok",text:L("bangkok",e)},{key:"Asia/Shanghai",text:L("shanghai",e)},{key:"Asia/Tokyo",text:L("tokyo",e)},{key:"Australia/Sydney",text:L("sydney",e)},{key:"Pacific/Norfolk",text:L("norfolk",e)}]}function OE(){this.__data__=[],this.size=0}var NE=OE;function zE(e,r){return e===r||e!==e&&r!==r}var nf=zE,BE=nf;function VE(e,r){for(var t=e.length;t--;)if(BE(e[t][0],r))return t;return-1}var af=VE,$E=af,WE=Array.prototype,HE=WE.splice;function UE(e){var r=this.__data__,t=$E(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():HE.call(r,t,1),--this.size,!0}var jE=UE,XE=af;function YE(e){var r=this.__data__,t=XE(r,e);return t<0?void 0:r[t][1]}var ZE=YE,KE=af;function GE(e){return KE(this.__data__,e)>-1}var qE=GE,QE=af;function JE(e,r){var t=this.__data__,n=QE(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var eM=JE,tM=NE,rM=jE,nM=ZE,iM=qE,aM=eM;function Y0(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Y0.prototype.clear=tM;Y0.prototype.delete=rM;Y0.prototype.get=nM;Y0.prototype.has=iM;Y0.prototype.set=aM;var of=Y0,oM=of;function lM(){this.__data__=new oM,this.size=0}var sM=lM;function cM(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var uM=cM;function dM(e){return this.__data__.get(e)}var hM=dM;function pM(e){return this.__data__.has(e)}var fM=pM,gM=typeof Vl=="object"&&Vl&&Vl.Object===Object&&Vl,Gm=gM,vM=Gm,mM=typeof self=="object"&&self&&self.Object===Object&&self,yM=vM||mM||Function("return this")(),Z0=yM,xM=Z0,CM=xM.Symbol,vv=CM,Y2=vv,qm=Object.prototype,wM=qm.hasOwnProperty,bM=qm.toString,bd=Y2?Y2.toStringTag:void 0;function _M(e){var r=wM.call(e,bd),t=e[bd];try{e[bd]=void 0;var n=!0}catch{}var i=bM.call(e);return n&&(r?e[bd]=t:delete e[bd]),i}var kM=_M,SM=Object.prototype,EM=SM.toString;function MM(e){return EM.call(e)}var TM=MM,Z2=vv,IM=kM,LM=TM,PM="[object Null]",AM="[object Undefined]",K2=Z2?Z2.toStringTag:void 0;function DM(e){return e==null?e===void 0?AM:PM:K2&&K2 in Object(e)?IM(e):LM(e)}var Ud=DM;function FM(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Vs=FM,RM=Ud,OM=Vs,NM="[object AsyncFunction]",zM="[object Function]",BM="[object GeneratorFunction]",VM="[object Proxy]";function $M(e){if(!OM(e))return!1;var r=RM(e);return r==zM||r==BM||r==NM||r==VM}var mv=$M,WM=Z0,HM=WM["__core-js_shared__"],UM=HM,xg=UM,G2=function(){var e=/[^.]+$/.exec(xg&&xg.keys&&xg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jM(e){return!!G2&&G2 in e}var XM=jM,YM=Function.prototype,ZM=YM.toString;function KM(e){if(e!=null){try{return ZM.call(e)}catch{}try{return e+""}catch{}}return""}var GM=KM,qM=mv,QM=XM,JM=Vs,eT=GM,tT=/[\\^$.*+?()[\]{}|]/g,rT=/^\[object .+?Constructor\]$/,nT=Function.prototype,iT=Object.prototype,aT=nT.toString,oT=iT.hasOwnProperty,lT=RegExp("^"+aT.call(oT).replace(tT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sT(e){if(!JM(e)||QM(e))return!1;var r=qM(e)?lT:rT;return r.test(eT(e))}var cT=sT;function uT(e,r){return e==null?void 0:e[r]}var dT=uT,hT=cT,pT=dT;function fT(e,r){var t=pT(e,r);return hT(t)?t:void 0}var yv=fT,gT=yv,vT=Z0,mT=gT(vT,"Map"),Qm=mT,yT=yv,xT=yT(Object,"create"),lf=xT,q2=lf;function CT(){this.__data__=q2?q2(null):{},this.size=0}var wT=CT;function bT(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var _T=bT,kT=lf,ST="__lodash_hash_undefined__",ET=Object.prototype,MT=ET.hasOwnProperty;function TT(e){var r=this.__data__;if(kT){var t=r[e];return t===ST?void 0:t}return MT.call(r,e)?r[e]:void 0}var IT=TT,LT=lf,PT=Object.prototype,AT=PT.hasOwnProperty;function DT(e){var r=this.__data__;return LT?r[e]!==void 0:AT.call(r,e)}var FT=DT,RT=lf,OT="__lodash_hash_undefined__";function NT(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=RT&&r===void 0?OT:r,this}var zT=NT,BT=wT,VT=_T,$T=IT,WT=FT,HT=zT;function K0(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}K0.prototype.clear=BT;K0.prototype.delete=VT;K0.prototype.get=$T;K0.prototype.has=WT;K0.prototype.set=HT;var UT=K0,Q2=UT,jT=of,XT=Qm;function YT(){this.size=0,this.__data__={hash:new Q2,map:new(XT||jT),string:new Q2}}var ZT=YT;function KT(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var GT=KT,qT=GT;function QT(e,r){var t=e.__data__;return qT(r)?t[typeof r=="string"?"string":"hash"]:t.map}var sf=QT,JT=sf;function eI(e){var r=JT(this,e).delete(e);return this.size-=r?1:0,r}var tI=eI,rI=sf;function nI(e){return rI(this,e).get(e)}var iI=nI,aI=sf;function oI(e){return aI(this,e).has(e)}var lI=oI,sI=sf;function cI(e,r){var t=sI(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var uI=cI,dI=ZT,hI=tI,pI=iI,fI=lI,gI=uI;function G0(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}G0.prototype.clear=dI;G0.prototype.delete=hI;G0.prototype.get=pI;G0.prototype.has=fI;G0.prototype.set=gI;var Jm=G0,vI=of,mI=Qm,yI=Jm,xI=200;function CI(e,r){var t=this.__data__;if(t instanceof vI){var n=t.__data__;if(!mI||n.length<xI-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new yI(n)}return t.set(e,r),this.size=t.size,this}var wI=CI,bI=of,_I=sM,kI=uM,SI=hM,EI=fM,MI=wI;function q0(e){var r=this.__data__=new bI(e);this.size=r.size}q0.prototype.clear=_I;q0.prototype.delete=kI;q0.prototype.get=SI;q0.prototype.has=EI;q0.prototype.set=MI;var TI=q0,II=yv,LI=function(){try{var e=II(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ey=LI,J2=ey;function PI(e,r,t){r=="__proto__"&&J2?J2(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var xv=PI,AI=xv,DI=nf;function FI(e,r,t){(t!==void 0&&!DI(e[r],t)||t===void 0&&!(r in e))&&AI(e,r,t)}var ty=FI;function RI(e){return function(r,t,n){for(var i=-1,o=Object(r),s=n(r),u=s.length;u--;){var d=s[e?u:++i];if(t(o[d],d,o)===!1)break}return r}}var OI=RI,NI=OI,zI=NI(),BI=zI,$p={exports:{}};$p.exports;(function(e,r){var t=Z0,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,s=o?t.Buffer:void 0,u=s?s.allocUnsafe:void 0;function d(h,g){if(g)return h.slice();var v=h.length,y=u?u(v):new h.constructor(v);return h.copy(y),y}e.exports=d})($p,$p.exports);var VI=$p.exports,$I=Z0,WI=$I.Uint8Array,HI=WI,e5=HI;function UI(e){var r=new e.constructor(e.byteLength);return new e5(r).set(new e5(e)),r}var jI=UI,XI=jI;function YI(e,r){var t=r?XI(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var ZI=YI;function KI(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var GI=KI,qI=Vs,t5=Object.create,QI=function(){function e(){}return function(r){if(!qI(r))return{};if(t5)return t5(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),JI=QI;function eL(e,r){return function(t){return e(r(t))}}var tL=eL,rL=tL,nL=rL(Object.getPrototypeOf,Object),ry=nL,iL=Object.prototype;function aL(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||iL;return e===t}var ny=aL,oL=JI,lL=ry,sL=ny;function cL(e){return typeof e.constructor=="function"&&!sL(e)?oL(lL(e)):{}}var uL=cL;function dL(e){return e!=null&&typeof e=="object"}var Q0=dL,hL=Ud,pL=Q0,fL="[object Arguments]";function gL(e){return pL(e)&&hL(e)==fL}var vL=gL,r5=vL,mL=Q0,iy=Object.prototype,yL=iy.hasOwnProperty,xL=iy.propertyIsEnumerable,CL=r5(function(){return arguments}())?r5:function(e){return mL(e)&&yL.call(e,"callee")&&!xL.call(e,"callee")},ay=CL,wL=Array.isArray,jd=wL,bL=9007199254740991;function _L(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bL}var oy=_L,kL=mv,SL=oy;function EL(e){return e!=null&&SL(e.length)&&!kL(e)}var Cv=EL,ML=Cv,TL=Q0;function IL(e){return TL(e)&&ML(e)}var LL=IL,Wp={exports:{}};function PL(){return!1}var AL=PL;Wp.exports;(function(e,r){var t=Z0,n=AL,i=r&&!r.nodeType&&r,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,u=s?t.Buffer:void 0,d=u?u.isBuffer:void 0,h=d||n;e.exports=h})(Wp,Wp.exports);var ly=Wp.exports,DL=Ud,FL=ry,RL=Q0,OL="[object Object]",NL=Function.prototype,zL=Object.prototype,sy=NL.toString,BL=zL.hasOwnProperty,VL=sy.call(Object);function $L(e){if(!RL(e)||DL(e)!=OL)return!1;var r=FL(e);if(r===null)return!0;var t=BL.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&sy.call(t)==VL}var WL=$L,HL=Ud,UL=oy,jL=Q0,XL="[object Arguments]",YL="[object Array]",ZL="[object Boolean]",KL="[object Date]",GL="[object Error]",qL="[object Function]",QL="[object Map]",JL="[object Number]",eP="[object Object]",tP="[object RegExp]",rP="[object Set]",nP="[object String]",iP="[object WeakMap]",aP="[object ArrayBuffer]",oP="[object DataView]",lP="[object Float32Array]",sP="[object Float64Array]",cP="[object Int8Array]",uP="[object Int16Array]",dP="[object Int32Array]",hP="[object Uint8Array]",pP="[object Uint8ClampedArray]",fP="[object Uint16Array]",gP="[object Uint32Array]",$r={};$r[lP]=$r[sP]=$r[cP]=$r[uP]=$r[dP]=$r[hP]=$r[pP]=$r[fP]=$r[gP]=!0;$r[XL]=$r[YL]=$r[aP]=$r[ZL]=$r[oP]=$r[KL]=$r[GL]=$r[qL]=$r[QL]=$r[JL]=$r[eP]=$r[tP]=$r[rP]=$r[nP]=$r[iP]=!1;function vP(e){return jL(e)&&UL(e.length)&&!!$r[HL(e)]}var mP=vP;function yP(e){return function(r){return e(r)}}var xP=yP,Hp={exports:{}};Hp.exports;(function(e,r){var t=Gm,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,s=o&&t.process,u=function(){try{var d=i&&i.require&&i.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();e.exports=u})(Hp,Hp.exports);var CP=Hp.exports,wP=mP,bP=xP,n5=CP,i5=n5&&n5.isTypedArray,_P=i5?bP(i5):wP,cy=_P;function kP(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var uy=kP,SP=xv,EP=nf,MP=Object.prototype,TP=MP.hasOwnProperty;function IP(e,r,t){var n=e[r];(!(TP.call(e,r)&&EP(n,t))||t===void 0&&!(r in e))&&SP(e,r,t)}var dy=IP,LP=dy,PP=xv;function AP(e,r,t,n){var i=!t;t||(t={});for(var o=-1,s=r.length;++o<s;){var u=r[o],d=n?n(t[u],e[u],u,t,e):void 0;d===void 0&&(d=e[u]),i?PP(t,u,d):LP(t,u,d)}return t}var DP=AP;function FP(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var RP=FP,OP=9007199254740991,NP=/^(?:0|[1-9]\d*)$/;function zP(e,r){var t=typeof e;return r=r??OP,!!r&&(t=="number"||t!="symbol"&&NP.test(e))&&e>-1&&e%1==0&&e<r}var wv=zP,BP=RP,VP=ay,$P=jd,WP=ly,HP=wv,UP=cy,jP=Object.prototype,XP=jP.hasOwnProperty;function YP(e,r){var t=$P(e),n=!t&&VP(e),i=!t&&!n&&WP(e),o=!t&&!n&&!i&&UP(e),s=t||n||i||o,u=s?BP(e.length,String):[],d=u.length;for(var h in e)(r||XP.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||HP(h,d)))&&u.push(h);return u}var ZP=YP;function KP(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var GP=KP,qP=Vs,QP=ny,JP=GP,eA=Object.prototype,tA=eA.hasOwnProperty;function rA(e){if(!qP(e))return JP(e);var r=QP(e),t=[];for(var n in e)n=="constructor"&&(r||!tA.call(e,n))||t.push(n);return t}var nA=rA,iA=ZP,aA=nA,oA=Cv;function lA(e){return oA(e)?iA(e,!0):aA(e)}var hy=lA,sA=DP,cA=hy;function uA(e){return sA(e,cA(e))}var dA=uA,a5=ty,hA=VI,pA=ZI,fA=GI,gA=uL,o5=ay,l5=jd,vA=LL,mA=ly,yA=mv,xA=Vs,CA=WL,wA=cy,s5=uy,bA=dA;function _A(e,r,t,n,i,o,s){var u=s5(e,t),d=s5(r,t),h=s.get(d);if(h){a5(e,t,h);return}var g=o?o(u,d,t+"",e,r,s):void 0,v=g===void 0;if(v){var y=l5(d),C=!y&&mA(d),w=!y&&!C&&wA(d);g=d,y||C||w?l5(u)?g=u:vA(u)?g=fA(u):C?(v=!1,g=hA(d,!0)):w?(v=!1,g=pA(d,!0)):g=[]:CA(d)||o5(d)?(g=u,o5(u)?g=bA(u):(!xA(u)||yA(u))&&(g=gA(d))):v=!1}v&&(s.set(d,g),i(g,d,n,o,s),s.delete(d)),a5(e,t,g)}var kA=_A,SA=TI,EA=ty,MA=BI,TA=kA,IA=Vs,LA=hy,PA=uy;function py(e,r,t,n,i){e!==r&&MA(r,function(o,s){if(i||(i=new SA),IA(o))TA(e,r,s,t,py,n,i);else{var u=n?n(PA(e,s),o,s+"",e,r,i):void 0;u===void 0&&(u=o),EA(e,s,u)}},LA)}var AA=py;function DA(e){return e}var fy=DA;function FA(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var RA=FA,OA=RA,c5=Math.max;function NA(e,r,t){return r=c5(r===void 0?e.length-1:r,0),function(){for(var n=arguments,i=-1,o=c5(n.length-r,0),s=Array(o);++i<o;)s[i]=n[r+i];i=-1;for(var u=Array(r+1);++i<r;)u[i]=n[i];return u[r]=t(s),OA(e,this,u)}}var zA=NA;function BA(e){return function(){return e}}var VA=BA,$A=VA,u5=ey,WA=fy,HA=u5?function(e,r){return u5(e,"toString",{configurable:!0,enumerable:!1,value:$A(r),writable:!0})}:WA,UA=HA,jA=800,XA=16,YA=Date.now;function ZA(e){var r=0,t=0;return function(){var n=YA(),i=XA-(n-t);if(t=n,i>0){if(++r>=jA)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var KA=ZA,GA=UA,qA=KA,QA=qA(GA),JA=QA,eD=fy,tD=zA,rD=JA;function nD(e,r){return rD(tD(e,r,eD),e+"")}var iD=nD,aD=nf,oD=Cv,lD=wv,sD=Vs;function cD(e,r,t){if(!sD(t))return!1;var n=typeof r;return(n=="number"?oD(t)&&lD(r,t.length):n=="string"&&r in t)?aD(t[r],e):!1}var uD=cD,dD=iD,hD=uD;function pD(e){return dD(function(r,t){var n=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&hD(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),r=Object(r);++n<i;){var u=t[n];u&&e(r,u,n,o)}return r})}var fD=pD,gD=AA,vD=fD,mD=vD(function(e,r,t){gD(e,r,t)}),yD=mD;const xD=Fm(yD);let $i=K5();const CD=()=>({...$i,grid:{...$i.grid,horizontal:{...$i.grid.horizontal,color:"rgb(178, 181, 190)"},vertical:{...$i.grid.vertical,color:"rgb(178, 181, 190)"}}}),wD=()=>({...$i,grid:{...$i.grid,horizontal:{...$i.grid.horizontal,color:"rgb(42, 46, 57)"},vertical:{...$i.grid.vertical,color:"rgb(42, 46, 57)"}},xAxis:{...$i.xAxis,axisLine:{...$i.xAxis.axisLine,color:"rgb(42, 46, 57)"}},yAxis:{...$i.yAxis,axisLine:{...$i.yAxis.axisLine,color:"rgb(42, 46, 57)"}}}),Na=e=>e==="Light Theme 1"||e==="Light Theme 2"?CD():wD(),bD=e=>{$i=xD({},$i,e)},_D=()=>(console.warn("No getStoreCallback set."),null),kD=()=>(console.warn("No updateStoreCallback set."),null),SD=()=>(console.warn("No deleteStoreCallback set."),null);class ED{async getAllLayouts(){try{return console.warn("Retrieving from Store"),Ip&&!_D()?(console.warn("No callback is set. "),{}):localStorage}catch(r){console.warn("Error getting all layouts: ",r)}return{}}async removeStorage(r){try{if(Ip){const t=SD();t&&await t(r)}else localStorage.removeItem(r)}catch(t){console.warn("Error removing storage: ",t)}}async addToStore(r,t){try{if(Ip){const n=kD();n&&await n(r,t)}else localStorage.setItem(r,JSON.stringify(t))}catch(n){console.warn("Error updating storage: ",n)}}getLayoutEntry(r,t){return Object.entries(t).map(([n,i])=>({key:n,value:i})).find(n=>n.key===r)}async getLayoutFromStore(r){try{const t=await this.getAllLayouts();if(t instanceof Storage)return JSON.parse(t.getItem(r));const n=this.getLayoutEntry(r,t);return n?n.value:null}catch(t){console.warn("Error getting layout from store: ",t)}return{indicatorStore:{indicators:[]},stylesStore:{},overlayStore:{overlay:{},tickerInfo:{}}}}}const[d5,MD]=ge(null),[TD,bv]=ge("default"),[ID,h5]=ge(!1),M0=()=>({indicatorStore:{indicators:[]},stylesStore:jr()==="Light Theme 1"||jr()==="Light Theme 2"?Na("Light Theme 1"):Na("Dark Theme"),overlayStore:[]}),gy=class vy{constructor(r){Re(this,"chart"),Re(this,"storageProvider"),Re(this,"stylesStore","stylesStore"),Re(this,"indicatorStore","indicatorStore"),Re(this,"overlayStore","overlayStore"),Re(this,"defaultLayoutStore","default_mainStore"),this.chart=r,this.storageProvider=new ED}static getInstance(r){return this.instances.has(r)||this.instances.set(r,new vy(r)),this.instances.get(r)}get getSelectedLayoutName(){return(Ke(TD).replace(/\s+/g,"")??"default")+"_mainStore"}getDefaultLayout(){return this.defaultLayoutStore.replace("_mainStore","")}isDefaultLayout(){return this.getSelectedLayoutName===this.defaultLayoutStore}async getNameOfAllLayouts(){try{const r=[],t=await this.storageProvider.getAllLayouts();let n=0;r.push(this.getDefaultLayout()),t instanceof Storage?n=t.length:n=Object.keys(t).length;for(let i=0;i<n;i++)if(t instanceof Storage){const o=t.key(i);o!=null&&o.endsWith("_mainStore")&&r.push(o.replace("_mainStore",""))}else{const o=Object.keys(t)[i];o.endsWith("_mainStore")&&r.push(o.replace("_mainStore",""))}return r}catch(r){console.warn("Error getting the list of all names for layouts: ",r)}return[]}saveIndicators(){if(!(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore))try{const r=this.createIndicatorStoreFromChart();this.addDataToLayout(this.indicatorStore,r)}catch(r){console.warn("Error saving indicators:",r)}}async getIndicators(r){try{if(this.getSelectedLayoutName===this.defaultLayoutStore)return{indicators:[]};if(r){const t=r[this.indicatorStore];if(t)return t}}catch(t){console.warn("Error getting indicators: ",t)}return{indicators:[]}}saveStyles(){if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore)return;const r=this.getStylesFromChart();if(r)try{this.addDataToLayout(this.stylesStore,r)}catch(t){console.warn("Error saving styles:",t)}}async getStyles(r){if(this.getSelectedLayoutName===this.defaultLayoutStore)return null;try{if(r){const t=r[this.stylesStore];if(t)return t}}catch(t){console.warn("Error getting styles:",t)}return null}removeNullValuesAndSpecificFields(r,t){const n={};for(const i in r){const o=r[i];t.includes(i)||o!==null&&(typeof o=="object"&&!Array.isArray(o)?n[i]=this.removeNullValuesAndSpecificFields(o,t):n[i]=o)}return n}async saveOverlay(r){if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore||r===null||d5()===null)return;const t={overlay:this.removeNullValuesAndSpecificFields(r,["visible","lock","zLevel","mode","needDefaultPointFigure","needDefaultXAxisFigure","needDefaultYAxisFigure","modeSensitivity","totalStep","currentStep","groupId","_prevPressedPoints","logo","paneId","createPointFigures","createYAxisFigures","createXAxisFigures","onDrawStart","onDrawing","onDrawEnd","onPressedMoveStart","onPressedMoving","onPressedMoveEnd","onMoveStart","onMoving","onMoveEnd","onRightClick","onClick"]),tickerInfo:this.getActiveChartTicker()};try{const n=await this.getLayoutFromStore()??M0();let i=await this.getOverlays(n);Array.isArray(i)||(i=[]),i==null||i.push(t),this.addDataToLayout(this.overlayStore,i)}catch(n){console.warn("Error saving overlay:",n)}}async overrideOverlay(r){try{if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore||r===null)return;const t=await this.getLayoutFromStore()??M0();let n=await this.getOverlays(t);if(!n||n.length===0){console.warn("No overlays found, nothing to override");return}n.forEach(i=>{i.overlay.id===(r==null?void 0:r.id)&&(console.log("Found overlay in store, overriding... ",r==null?void 0:r.id),i.overlay.styles=r.styles,r.extendData&&(i.overlay.extendData=r.extendData))}),this.addDataToLayout(this.overlayStore,n)}catch(t){console.warn("Error overriding overlay: ",t)}}async deleteOverlay(r){if(!(!this.chart||!this.getSelectedLayoutName))try{this.chart.removeOverlay(r);const t=await this.getLayoutFromStore();if(t){console.log("Deleting overlay for ticker: ",this.getActiveChartTicker());const n=t.overlayStore.filter(i=>i.overlay.id!==r.id);await this.addDataToLayout(this.overlayStore,n)}else console.warn("Unable to delete overlay, layout not found")}catch(t){console.warn("Error deleting overlay:",t)}}async getOverlays(r){if(this.getSelectedLayoutName===this.defaultLayoutStore)return[];if(r){const t=r[this.overlayStore];if(t)return t}return[]}async removeAllOverlays(r=!1){var t;if((t=this.chart.getOverlays())==null||t.forEach(n=>{n.forEach(i=>{this.chart.removeOverlay(i)})}),r){const n=await this.getLayoutFromStore();n&&(nt.forEach(n.overlayStore,i=>{var o;i.tickerInfo.ticker===((o=this.getActiveChartTicker())==null?void 0:o.ticker)&&(n.overlayStore=n.overlayStore.filter(s=>s!==i))}),this.addDataToLayout(this.overlayStore,n.overlayStore))}}async updateLayoutName(r){if(this.getSelectedLayoutName!==this.defaultLayoutStore)try{const t=await this.getLayoutFromStore()??M0();if(t){const n=r.replace(/\s+/g,"")+"_mainStore",i={indicatorStore:t[this.indicatorStore],stylesStore:t[this.stylesStore],overlayStore:t[this.overlayStore]};await this.storageProvider.addToStore(n,i),await this.storageProvider.removeStorage(this.getSelectedLayoutName),bv(r)}}catch(t){console.warn("Error updating store name:",t)}}getActiveChartTicker(){return d5()}async removeStorage(){this.getSelectedLayoutName!==this.getDefaultLayout()&&await this.storageProvider.removeStorage(this.getSelectedLayoutName)}async addDataToLayout(r,t){try{console.warn("Adding data to Store");let n;if(ID()?n=await this.getLayoutFromStore()??M0():n=this.createLayoutFromChart(),n){const i=n instanceof Storage?JSON.parse(n):n;i&&(i[r]=t,await this.storageProvider.addToStore(this.getSelectedLayoutName,i))}}catch(n){console.warn("Error updating storage: ",n)}}async getLayoutFromStore(){return await this.storageProvider.getLayoutFromStore(this.getSelectedLayoutName)}getDefaultLayoutData(){return M0()}createLayoutFromChart(){var r;const t=this.createIndicatorStoreFromChart(),n=this.getStylesFromChart(),i=[];return(r=this.chart.getOverlays())==null||r.forEach(o=>{o.forEach(s=>{i.push({overlay:s,tickerInfo:this.getActiveChartTicker()})})}),{indicatorStore:t,stylesStore:n,overlayStore:i}}createIndicatorStoreFromChart(){const r=this.chart.getIndicators(),t=r.get("candle_pane")??[];r.forEach(i=>{i.forEach(o=>{Od.forEach(s=>{s===o.name&&t.push(o)})})});const n=[];return nt.forEach(t,i=>{n.push(i.name)}),{indicators:n}}getStylesFromChart(){return this.chart.getStyles()}};Re(gy,"instances",new Map);let kt=gy;function Up(e,r,t,n,i){const o={name:r,createTooltipDataSource:({indicator:u,crosshair:d})=>{const h=u.result[d.dataIndex],g=[];if(h){for(const E in h)if(Object.prototype.hasOwnProperty.call(h,E)&&h[E]!==void 0){let T=e.getStyles().indicator.lines[g.length%e.getStyles().indicator.lines.length].color;const M=u.styles;M&&(M.lines?T=M.lines[g.length%M.lines.length].color:M.circles&&(T=M.circles[g.length%M.circles.length].upColor)),g.push({title:E.toUpperCase()+": ",value:{text:h[E].toFixed(2),color:T}})}}const v=[],y=e.getStyles().indicator.tooltip.icons[0],C=e.getStyles().indicator.tooltip.icons[1],w=e.getStyles().indicator.tooltip.icons[2],_=e.getStyles().indicator.tooltip.icons[3];return y.marginTop=2,y.marginLeft=4,C.marginTop=2,C.marginLeft=4,w.marginTop=2,w.marginLeft=4,_.marginTop=2,_.marginLeft=4,u.visible?(v.push(C),v.push(w),v.push(_)):(v.push(y),v.push(w),v.push(_)),{name:u.name,calcParamsText:"",icons:v,legends:g}}},s=(e==null?void 0:e.createIndicator(o,n,i))??null;return t&&kt.getInstance(e).saveIndicators(),s}const LD=(e,r,t)=>{let n=r,i=n;switch(e.timespan){case"minute":{n=n-n%(60*1e3),i=n-t*e.multiplier*60*1e3;break}case"hour":{n=n-n%(60*60*1e3),i=n-t*e.multiplier*60*60*1e3;break}case"day":{n=n-n%(60*60*1e3),i=n-t*e.multiplier*24*60*60*1e3;break}case"week":{const o=new Date(n).getDay(),s=o===0?6:o-1;n=n-s*60*60*24;const u=new Date(n);n=new Date(`${u.getFullYear()}-${u.getMonth()+1}-${u.getDate()}`).getTime(),i=t*e.multiplier*7*24*60*60*1e3;break}case"month":{const o=new Date(n),s=o.getFullYear(),u=o.getMonth()+1;n=new Date(`${s}-${u}-01`).getTime(),i=t*e.multiplier*30*24*60*60*1e3;const d=new Date(i);i=new Date(`${d.getFullYear()}-${d.getMonth()+1}-01`).getTime();break}case"year":{const o=new Date(n).getFullYear();n=new Date(`${o}-01-01`).getTime(),i=t*e.multiplier*365*24*60*60*1e3;const s=new Date(i);i=new Date(`${s.getFullYear()}-01-01`).getTime();break}}return[i,n]},PD=e=>{e.getIndicators().forEach(r=>{nt.forEach(r,t=>{e.removeIndicator(t)})})};var AD=ee("<button>");const my=e=>(()=>{var r=AD();return Wi(r,"click",e.onClick),B(r,()=>e.children),We(t=>{var n=e.style,i=`chartspire-ui-button ${e.type??"confirm"} ${e.class??""}`;return t.e=Va(r,n,t.e),i!==t.t&&tr(r,t.t=i),t},{e:void 0,t:void 0}),r})();Er(["click"]);var DD=ee('<svg viewBox="0 0 1024 1024"class=icon><path d="M810.666667 128H213.333333c-46.933333 0-85.333333 38.4-85.333333 85.333333v597.333334c0 46.933333 38.4 85.333333 85.333333 85.333333h597.333334c46.933333 0 85.333333-38.4 85.333333-85.333333V213.333333c0-46.933333-38.4-85.333333-85.333333-85.333333z m-353.706667 567.04a42.496 42.496 0 0 1-60.16 0L243.626667 541.866667c-8.106667-8.106667-12.373333-18.773333-12.373334-29.866667s4.693333-22.186667 12.373334-29.866667a42.496 42.496 0 0 1 60.16 0L426.666667 604.586667l293.546666-293.546667a42.496 42.496 0 1 1 60.16 60.16l-323.413333 323.84z">'),FD=ee('<svg viewBox="0 0 1024 1024"class=icon><path d="M245.333333 128h533.333334A117.333333 117.333333 0 0 1 896 245.333333v533.333334A117.333333 117.333333 0 0 1 778.666667 896H245.333333A117.333333 117.333333 0 0 1 128 778.666667V245.333333A117.333333 117.333333 0 0 1 245.333333 128z m0 64c-29.44 0-53.333333 23.893333-53.333333 53.333333v533.333334c0 29.44 23.893333 53.333333 53.333333 53.333333h533.333334c29.44 0 53.333333-23.893333 53.333333-53.333333V245.333333c0-29.44-23.893333-53.333333-53.333333-53.333333H245.333333z">'),RD=ee("<div>"),OD=ee("<span class=label>");const ND=()=>DD(),zD=()=>FD(),BD=e=>{const[r,t]=ge(e.checked??!1);return ct(()=>{"checked"in e&&t(e.checked)}),(()=>{var n=RD();return n.$$click=i=>{const o=!r();e.onChange!=null&&e.onChange(o),t(o)},B(n,(()=>{var i=be(()=>!!e.label);return()=>i()&&(()=>{var o=OD();return B(o,()=>e.label),o})()})(),null),B(n,(()=>{var i=be(()=>!!r());return()=>i()?ae(ND,{}):ae(zD,{})})(),null),We(i=>{var o=e.style,s=`chartspire-ui-checkbox ${r()&&"checked"||""} ${e.class||""}`;return i.e=Va(n,o,i.e),s!==i.t&&tr(n,i.t=s),i},{e:void 0,t:void 0}),n})()};Er(["click"]);var VD=ee("<div class=chartspire-ui-loading><div class=loading-container><div class=spinner><div class=spinner-ring></div><div class=spinner-ring></div><div class=spinner-ring></div></div><div class=loading-text>Loading...");const yy=()=>VD();var $D=ee('<div class=chartspire-ui-empty><svg class=icon viewBox="0 0 1024 1024"><path d="M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z">');const WD=()=>$D();var HD=ee("<ul>"),UD=ee("<li>");const xy=e=>(()=>{var r=HD();return B(r,ae(ot,{get when(){return e.loading},get children(){return ae(yy,{})}}),null),B(r,ae(ot,{get when(){var t;return!e.loading&&!e.children&&!((t=e.dataSource)!=null&&t.length)},get children(){return ae(WD,{})}}),null),B(r,ae(ot,{get when(){return e.children},get children(){return e.children}}),null),B(r,ae(ot,{get when(){return!e.children},get children(){var t;return(t=e.dataSource)==null?void 0:t.map(n=>{var i;return((i=e.renderItem)==null?void 0:i.call(e,n))??UD()})}}),null),We(t=>{var n=e.style,i=`chartspire-ui-list ${e.class??""}`;return t.e=Va(r,n,t.e),i!==t.t&&tr(r,t.t=i),t},{e:void 0,t:void 0}),r})();var jD=ee('<div class=chartspire-ui-modal><div class=inner><div class=title-container><svg class=close-icon viewBox="0 0 1024 1024"><path d="M934.184927 199.723787 622.457206 511.452531l311.727721 311.703161c14.334473 14.229073 23.069415 33.951253 23.069415 55.743582 0 43.430138-35.178197 78.660524-78.735226 78.660524-21.664416 0-41.361013-8.865925-55.642275-23.069415L511.149121 622.838388 199.420377 934.490384c-14.204513 14.20349-33.901111 23.069415-55.642275 23.069415-43.482327 0-78.737272-35.230386-78.737272-78.660524 0-21.792329 8.864902-41.513486 23.094998-55.743582l311.677579-311.703161L88.135828 199.723787c-14.230096-14.255679-23.094998-33.92567-23.094998-55.642275 0-43.430138 35.254945-78.762855 78.737272-78.762855 21.741163 0 41.437761 8.813736 55.642275 23.069415l311.727721 311.727721L822.876842 88.389096c14.281261-14.255679 33.977859-23.069415 55.642275-23.069415 43.557028 0 78.735226 35.332716 78.735226 78.762855C957.254342 165.798117 948.5194 185.468109 934.184927 199.723787"></path></svg></div><div class=content-container>'),XD=ee("<div class=button-container>");const Gl=e=>(()=>{var r=jD(),t=r.firstChild,n=t.firstChild,i=n.firstChild,o=n.nextSibling;return B(n,()=>e.title,i),Wi(i,"click",e.onClose),B(o,()=>e.children),B(t,(()=>{var s=be(()=>e.buttons!=null&&e.buttons.length>0);return()=>s()&&(()=>{var u=XD();return B(u,()=>e.buttons.map(d=>ae(my,rf(d,{get children(){return d.children}})))),We(d=>(d=e.buttonContainerPadding??"15px 20px 15px")!=null?u.style.setProperty("padding",d):u.style.removeProperty("padding")),u})()})(),null),We(s=>{var u=`${e.width??400}px`,d=`${e.height??"80%"}`,h={...e.contentHeight!==void 0&&{height:typeof e.contentHeight=="string"?e.contentHeight:`${e.contentHeight}px`},padding:e.padding??"0 26px"};return u!==s.e&&((s.e=u)!=null?t.style.setProperty("width",u):t.style.removeProperty("width")),d!==s.t&&((s.t=d)!=null?t.style.setProperty("height",d):t.style.removeProperty("height")),s.a=Va(o,h,s.a),s},{e:void 0,t:void 0,a:void 0}),r})();Er(["click"]);var YD=ee("<div tabindex=0><div class=selector-container><span class=value></span><i class=arrow>"),ZD=ee("<div class=drop-down-container><ul>"),KD=ee("<li>");const Xd=e=>{const[r,t]=ge(!1),[n,i]=ge(e.value);return(()=>{var o=YD(),s=o.firstChild,u=s.firstChild;return o.addEventListener("blur",d=>{t(!1)}),o.$$click=d=>{t(h=>!h)},B(u,n),B(o,(()=>{var d=be(()=>e.dataSource!=null&&e.dataSource.length>0);return()=>d()&&(()=>{var h=ZD(),g=h.firstChild;return B(g,()=>e.dataSource.map(v=>{const y=v[e.valueKey??"text"]??v;return(()=>{var C=KD();return C.$$click=w=>{var _;w.stopPropagation(),n()!==y&&(i(y),(_=e.onSelected)==null||_.call(e,v)),t(!1)},B(C,y),C})()})),h})()})(),null),We(d=>{var h=e.style,g=`chartspire-ui-select ${e.class??""} ${r()?"chartspire-ui-select-show":""}`;return d.e=Va(o,h,d.e),g!==d.t&&tr(o,d.t=g),d},{e:void 0,t:void 0}),o})()};Er(["click"]);var GD=ee("<span class=prefix>"),qD=ee("<span class=suffix>"),QD=ee("<div><input class=value>");const Wl=e=>{const r=rf({min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},e);let t;const[n,i]=ge("normal");return(()=>{var o=QD(),s=o.firstChild;return o.$$click=()=>{t==null||t.focus()},B(o,ae(ot,{get when(){return r.prefix},get children(){var u=GD();return B(u,()=>r.prefix),u}}),s),Wi(s,"input",r.onInput),s.addEventListener("change",u=>{var d,h;const g=u.target.value;if("precision"in r){let v;const y=Math.max(0,Math.floor(r.precision));y<=0?v=new RegExp(/^[1-9]\d*$/):v=new RegExp("^\\d+\\.?\\d{0,"+y+"}$"),(g===""||v.test(g)&&+g>=r.min&&+g<=r.max)&&((d=r.onChange)==null||d.call(r,g===""?g:+g))}else(h=r.onChange)==null||h.call(r,g)}),s.addEventListener("blur",()=>{i("normal")}),s.addEventListener("focus",()=>{i("focus")}),pa(u=>{t=u},s),B(o,ae(ot,{get when(){return r.suffix},get children(){var u=qD();return B(u,()=>r.suffix),u}}),null),We(u=>{var d=r.style,h=`chartspire-ui-input ${r.class??""}`,g=n(),v=r.placeholder??"";return u.e=Va(o,d,u.e),h!==u.t&&tr(o,u.t=h),g!==u.a&&Ye(o,"data-status",u.a=g),v!==u.o&&Ye(s,"placeholder",u.o=v),u},{e:void 0,t:void 0,a:void 0,o:void 0}),We(()=>s.value=r.value),o})()};Er(["click","input"]);var JD=ee("<div><i class=thumb>");const eF=e=>(()=>{var r=JD();return r.$$click=t=>{e.onChange&&e.onChange()},We(t=>{var n=e.style,i=`chartspire-ui-switch ${e.open?"turn-on":"turn-off"} ${e.class??""}`;return t.e=Va(r,n,t.e),i!==t.t&&tr(r,t.t=i),t},{e:void 0,t:void 0}),r})();Er(["click"]);var tF=ee('<div class=chartspire-ui-modal-light><div><div class=title-container><div class=title-content><svg class=drag-handle viewBox="0 0 24 24"fill=currentColor><circle cx=8 cy=6 r=2></circle><circle cx=8 cy=12 r=2></circle><circle cx=8 cy=18 r=2></circle><circle cx=16 cy=6 r=2></circle><circle cx=16 cy=12 r=2></circle><circle cx=16 cy=18 r=2></circle></svg><span class=title-text></span></div><svg class=close-icon viewBox="0 0 1024 1024"><path d="M934.184927 199.723787 622.457206 511.452531l311.727721 311.703161c14.334473 14.229073 23.069415 33.951253 23.069415 55.743582 0 43.430138-35.178197 78.660524-78.735226 78.660524-21.664416 0-41.361013-8.865925-55.642275-23.069415L511.149121 622.838388 199.420377 934.490384c-14.204513 14.20349-33.901111 23.069415-55.642275 23.069415-43.482327 0-78.737272-35.230386-78.737272-78.660524 0-21.792329 8.864902-41.513486 23.094998-55.743582l311.677579-311.703161L88.135828 199.723787c-14.230096-14.255679-23.094998-33.92567-23.094998-55.642275 0-43.430138 35.254945-78.762855 78.737272-78.762855 21.741163 0 41.437761 8.813736 55.642275 23.069415l311.727721 311.727721L822.876842 88.389096c14.281261-14.255679 33.977859-23.069415 55.642275-23.069415 43.557028 0 78.735226 35.332716 78.735226 78.762855C957.254342 165.798117 948.5194 185.468109 934.184927 199.723787">'),rF=ee("<div class=alert-content><div class=alert-message><p>"),nF=ee("<div class=content-container>"),iF=ee("<div class=button-container>");const aF=e=>{const[r,t]=ge("chartspire-ui-modal-light"),n="Select starting candle by clicking on candle",[i,o]=ge({x:0,y:0});let s,u,d=null;return ct(()=>{t(e.isPLaying()?"inner -transparent":"inner")}),Ba(()=>{let h=!1,g={x:0,y:0};const v=M=>"touches"in M&&M.touches.length>0?{clientX:M.touches[0].clientX,clientY:M.touches[0].clientY}:{clientX:M.clientX,clientY:M.clientY},y=M=>{if(!s||!u||M.target.closest(".close-icon"))return;h=!0;const I=v(M),D=s.getBoundingClientRect(),O=s.offsetParent,N=O?O.getBoundingClientRect():{left:0,top:0};g={x:I.clientX-(D.left-N.left),y:I.clientY-(D.top-N.top)},document.addEventListener("mousemove",C),document.addEventListener("mouseup",w),document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",w),M.preventDefault()},C=M=>{if(!h||!s)return;const I=v(M),D=s.offsetParent,O=D?D.getBoundingClientRect():{left:0,top:0,width:window.innerWidth,height:window.innerHeight},N=I.clientX-O.left-g.x,F=I.clientY-O.top-g.y,V=s.offsetWidth,W=s.offsetHeight,Z=O.width-V,J=O.height-W,he=Math.max(0,Math.min(N,Z)),H=Math.max(0,Math.min(F,J));o({x:he,y:H}),"touches"in M&&h&&M.preventDefault()},w=()=>{h=!1,_()},_=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",C),document.removeEventListener("touchend",w)},E=()=>{u&&(u.removeEventListener("mousedown",y),u.removeEventListener("touchstart",y))},T=()=>{h=!1,_(),E()};return d=T,u&&(u.addEventListener("mousedown",y),u.addEventListener("touchstart",y,{passive:!1})),T}),hi(()=>{d&&(console.log("onCleanup replay modal"),d())}),(()=>{var h=tF(),g=h.firstChild,v=g.firstChild,y=v.firstChild,C=y.firstChild,w=C.nextSibling,_=y.nextSibling,E=s;typeof E=="function"?pa(E,h):s=h;var T=u;return typeof T=="function"?pa(T,v):u=v,B(w,()=>e.title),Wi(_,"click",e.onClose),B(g,(()=>{var M=be(()=>!!e.showAlert);return()=>M()&&(()=>{var I=rF(),D=I.firstChild,O=D.firstChild;return B(O,()=>e.alertMessage||n),I})()})(),null),B(g,(()=>{var M=be(()=>!e.showAlert);return()=>M()&&[(()=>{var I=nF();return B(I,()=>e.children),I})(),be(()=>be(()=>e.buttons!=null&&e.buttons.length>0)()&&(()=>{var I=iF();return I.style.setProperty("padding","20px 30px 20px"),B(I,()=>e.buttons.map(D=>ae(my,rf(D,{get children(){return D.children}})))),I})())]})(),null),We(M=>{var I={...(i().x!==0||i().y!==0)&&{left:`${i().x}px`,top:`${i().y}px`,transform:"none"}},D=r();return M.e=Va(h,I,M.e),D!==M.t&&tr(g,M.t=D),M},{e:void 0,t:void 0}),h})()};Er(["click"]);function Nl(e){if(e==null)return Ur.getDefaultDataFeed();switch(e){case _t.STOCKS:if(Ur.hasStockDataFeed())return Ur.getStockDataFeed();break;case _t.CRYPTO:if(Ur.hasCryptoDataFeed())return Ur.getCryptoDataFeed();break;case _t.FOREX:if(Ur.hasForexDataFeed())return Ur.getForexDataFeed();break;case _t.FUTURES:if(Ur.hasFuturesDataFeed())return Ur.getFuturesDataFeed();break}return Ur.getDefaultDataFeed()}function oF(e){let r=null;if(e.defaultDataFeed?r=e.defaultDataFeed:e.stockDataFeed?r=e.stockDataFeed:e.cryptoDataFeed?r=e.cryptoDataFeed:e.forexDataFeed?r=e.forexDataFeed:e.futuresDataFeed?r=e.futuresDataFeed:r=null,r==null)throw alert("No data feed set, please set `options.defaultDataFeed` or use `options.stockDataFeed`, `options.cryptoDataFeed`, `options.forexDataFeed`, or `options.futuresDataFeed`"),new Error("No data feed set, please set `options.defaultDataFeed` or use `options.stockDataFeed`, `options.cryptoDataFeed`, `options.forexDataFeed`, or `options.futuresDataFeed`");Ur.setDefaultDataFeed(r),Ur.setStockDataFeed(e.stockDataFeed??null),Ur.setCryptoDataFeed(e.cryptoDataFeed??null),Ur.setForexDataFeed(e.forexDataFeed??null),Ur.setFuturesDataFeed(e.futuresDataFeed??null)}var lF=ee("<div class=chartspire-ui-filter-tags>"),sF=ee('<svg viewBox="0 0 1024 1024"><path d="M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z">'),cF=ee("<span>"),uF=ee("<img alt=symbol>"),dF=ee("<li><div><span>");const Cy=e=>{const[r,t]=ge(_t.STOCKS),n=be(()=>Nl(r())),i=Object.values(_t).filter(d=>{switch(d){case _t.STOCKS:return e.stockDataFeed!==null;case _t.CRYPTO:return e.cryptoDataFeed!==null;case _t.FOREX:return e.forexDataFeed!==null;case _t.FUTURES:return e.futuresDataFeed!==null;default:return!0}}),[o,s]=ge(""),[u]=fE(()=>[o(),r()],async([d,h])=>await n().searchTickers(d,h));return ae(Gl,{get title(){return L("symbol_search",e.locale)},width:460,get onClose(){return e.onClose},get children(){return[ae(Wl,{class:"chartspire-ui-symbol-search-modal-input",get placeholder(){return L("symbol_code",e.locale)},get suffix(){return sF()},get value(){return o()},onChange:d=>{s(`${d}`)}}),(()=>{var d=lF();return B(d,()=>i.map(h=>(()=>{var g=cF();return g.$$click=()=>{t(h),h===_t.CRYPTO?t(_t.CRYPTO):h===_t.STOCKS?t(_t.STOCKS):h===_t.FOREX?t(_t.FOREX):h===_t.FUTURES?t(_t.FUTURES):(console.warn("Using default datafeed - crypto"),t(_t.CRYPTO))},B(g,h),We(()=>tr(g,`chartspire-ui-tag ${r()===h?"selected":""}`)),g})())),d})(),ae(xy,{class:"chartspire-ui-symbol-search-modal-list",get loading(){return u.loading},get dataSource(){return u()??[]},renderItem:d=>(()=>{var h=dF(),g=h.firstChild,v=g.firstChild;return h.$$click=()=>{e.onTickerSelected(d),e.onClose()},B(g,ae(ot,{get when(){return d.logo},get children(){var y=uF();return We(()=>Ye(y,"src",d.logo)),y}}),v),B(v,()=>d.shortName??d.ticker,null),B(v,()=>`${d.name!=null?`(${d.name})`:""}`,null),B(h,()=>d.exchange??"",null),We(()=>Ye(v,"title",d.name??"")),h})()})]}})};Er(["click"]);const Jg=Symbol("store-raw"),N0=Symbol("store-node"),zl=Symbol("store-has"),wy=Symbol("store-self");function by(e){let r=e[Go];if(!r&&(Object.defineProperty(e,Go,{value:r=new Proxy(e,fF)}),!Array.isArray(e))){const t=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,o=t.length;i<o;i++){const s=t[i];n[s].get&&Object.defineProperty(e,s,{enumerable:n[s].enumerable,get:n[s].get.bind(r)})}}return r}function jp(e){let r;return e!=null&&typeof e=="object"&&(e[Go]||!(r=Object.getPrototypeOf(e))||r===Object.prototype||Array.isArray(e))}function zd(e,r=new Set){let t,n,i,o;if(t=e!=null&&e[Jg])return t;if(!jp(e)||r.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):r.add(e);for(let s=0,u=e.length;s<u;s++)i=e[s],(n=zd(i,r))!==i&&(e[s]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):r.add(e);const s=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let d=0,h=s.length;d<h;d++)o=s[d],!u[o].get&&(i=e[o],(n=zd(i,r))!==i&&(e[o]=n))}return e}function Xp(e,r){let t=e[r];return t||Object.defineProperty(e,r,{value:t=Object.create(null)}),t}function Bd(e,r,t){if(e[r])return e[r];const[n,i]=ge(t,{equals:!1,internal:!0});return n.$=i,e[r]=n}function hF(e,r){const t=Reflect.getOwnPropertyDescriptor(e,r);return!t||t.get||!t.configurable||r===Go||r===N0||(delete t.value,delete t.writable,t.get=()=>e[Go][r]),t}function _y(e){Zg()&&Bd(Xp(e,N0),wy)()}function pF(e){return _y(e),Reflect.ownKeys(e)}const fF={get(e,r,t){if(r===Jg)return e;if(r===Go)return t;if(r===Yg)return _y(e),t;const n=Xp(e,N0),i=n[r];let o=i?i():e[r];if(r===N0||r===zl||r==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,r);Zg()&&(typeof o!="function"||e.hasOwnProperty(r))&&!(s&&s.get)&&(o=Bd(n,r,o)())}return jp(o)?by(o):o},has(e,r){return r===Jg||r===Go||r===Yg||r===N0||r===zl||r==="__proto__"?!0:(Zg()&&Bd(Xp(e,zl),r)(),r in e)},set(){return!0},deleteProperty(){return!0},ownKeys:pF,getOwnPropertyDescriptor:hF};function Yp(e,r,t,n=!1){if(!n&&e[r]===t)return;const i=e[r],o=e.length;t===void 0?(delete e[r],e[zl]&&e[zl][r]&&i!==void 0&&e[zl][r].$()):(e[r]=t,e[zl]&&e[zl][r]&&i===void 0&&e[zl][r].$());let s=Xp(e,N0),u;if((u=Bd(s,r,i))&&u.$(()=>t),Array.isArray(e)&&e.length!==o){for(let d=e.length;d<o;d++)(u=s[d])&&u.$();(u=Bd(s,"length",o))&&u.$(e.length)}(u=s[wy])&&u.$()}function ky(e,r){const t=Object.keys(r);for(let n=0;n<t.length;n+=1){const i=t[n];Yp(e,i,r[i])}}function gF(e,r){if(typeof r=="function"&&(r=r(e)),r=zd(r),Array.isArray(r)){if(e===r)return;let t=0,n=r.length;for(;t<n;t++){const i=r[t];e[t]!==i&&Yp(e,t,i)}Yp(e,"length",n)}else ky(e,r)}function _d(e,r,t=[]){let n,i=e;if(r.length>1){n=r.shift();const s=typeof n,u=Array.isArray(e);if(Array.isArray(n)){for(let d=0;d<n.length;d++)_d(e,[n[d]].concat(r),t);return}else if(u&&s==="function"){for(let d=0;d<e.length;d++)n(e[d],d)&&_d(e,[d].concat(r),t);return}else if(u&&s==="object"){const{from:d=0,to:h=e.length-1,by:g=1}=n;for(let v=d;v<=h;v+=g)_d(e,[v].concat(r),t);return}else if(r.length>1){_d(e[n],r,[n].concat(t));return}i=e[n],t=[n].concat(t)}let o=r[0];typeof o=="function"&&(o=o(i,t),o===i)||n===void 0&&o==null||(o=zd(o),n===void 0||jp(i)&&jp(o)&&!Array.isArray(o)?ky(i,o):Yp(e,n,o))}function Sy(...[e,r]){const t=zd(e||{}),n=Array.isArray(t),i=by(t);function o(...s){Ol(()=>{n&&s.length===1?gF(t,s[0]):_d(t,s)})}return[i,o]}var vF=ee("<div>"),cf=class{constructor(e){Re(this,"x"),Re(this,"y"),Re(this,"width"),Re(this,"height"),this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},z0=e=>{let r=new cf(e.getBoundingClientRect());const{transform:t}=getComputedStyle(e);return t&&(r=mF(r,t)),r},mF=(e,r)=>{let t,n;if(r.startsWith("matrix3d(")){const i=r.slice(9,-1).split(/, /);t=+i[12],n=+i[13]}else if(r.startsWith("matrix(")){const i=r.slice(7,-1).split(/, /);t=+i[4],n=+i[5]}else t=0,n=0;return new cf({...e,x:e.x-t,y:e.y-n})},ho=()=>({x:0,y:0}),_v=(e,r)=>e.x===r.x&&e.y===r.y,Cg=(e,r)=>new cf({...e,x:e.x+r.x,y:e.y+r.y}),yF=(e,r)=>Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)),xF=(e,r)=>{const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),i=Math.min(e.right,r.right),o=Math.min(e.bottom,r.bottom),s=i-n,u=o-t;if(n<i&&t<o){const d=e.width*e.height,h=r.width*r.height,g=s*u;return g/(d+h-g)}return 0},wg=(e,r)=>e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height,CF=(e,r,t)=>{const n=e.transformed.center,i={distance:1/0,droppable:null};for(const o of r){const s=yF(n,o.layout.center);s<i.distance?(i.distance=s,i.droppable=o):s===i.distance&&o.id===t.activeDroppableId&&(i.droppable=o)}return i.droppable},wF=(e,r,t)=>{const n=e.transformed,i={ratio:0,droppable:null};for(const o of r){const s=xF(n,o.layout);s>i.ratio?(i.ratio=s,i.droppable=o):s>0&&s===i.ratio&&o.id===t.activeDroppableId&&(i.droppable=o)}return i.droppable},Ey=Um(),bF=e=>{const r=rf({collisionDetector:wF},e),[t,n]=Sy({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return t.active.draggableId!==null?t.draggables[t.active.draggableId]:null},droppableId:null,get droppable(){return t.active.droppableId!==null?t.droppables[t.active.droppableId]:null},sensorId:null,get sensor(){return t.active.sensorId!==null?t.sensors[t.active.sensorId]:null},overlay:null}}),i=(H,Y,K)=>{H.substring(0,H.length-1),Ke(()=>t[H][Y])&&n(H,Y,"transformers",K.id,K)},o=(H,Y,K)=>{H.substring(0,H.length-1),Ke(()=>t[H][Y])&&Ke(()=>t[H][Y].transformers[K])&&n(H,Y,"transformers",K,void 0)},s=({id:H,node:Y,layout:K,data:ne})=>{const re=t.draggables[H],Q={id:H,node:Y,layout:K,data:ne,_pendingCleanup:!1};let ue;if(!re)Object.defineProperties(Q,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(t.active.overlay)return ho();const le=Object.values(t.draggables[H].transformers);return le.sort((j,ie)=>j.order-ie.order),le.reduce((j,ie)=>ie.callback(j),ho())}},transformed:{enumerable:!0,configurable:!0,get:()=>Cg(t.draggables[H].layout,t.draggables[H].transform)}});else if(t.active.draggableId===H&&!t.active.overlay){const le={x:re.layout.x-K.x,y:re.layout.y-K.y},j="addDraggable-existing-offset",ie=re.transformers[j],xe=ie?ie.callback(le):le;ue={id:j,order:100,callback:Me=>({x:Me.x+xe.x,y:Me.y+xe.y})},J(()=>o("draggables",H,j))}Ol(()=>{n("draggables",H,Q),ue&&i("draggables",H,ue)}),t.active.draggable&&D()},u=H=>{Ke(()=>t.draggables[H])&&(n("draggables",H,"_pendingCleanup",!0),queueMicrotask(()=>d(H)))},d=H=>{var Y;if((Y=t.draggables[H])!=null&&Y._pendingCleanup){const K=t.active.draggableId===H;Ol(()=>{K&&n("active","draggableId",null),n("draggables",H,void 0)})}},h=({id:H,node:Y,layout:K,data:ne})=>{const re=t.droppables[H],Q={id:H,node:Y,layout:K,data:ne,_pendingCleanup:!1};re||Object.defineProperties(Q,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const ue=Object.values(t.droppables[H].transformers);return ue.sort((le,j)=>le.order-j.order),ue.reduce((le,j)=>j.callback(le),ho())}},transformed:{enumerable:!0,configurable:!0,get:()=>Cg(t.droppables[H].layout,t.droppables[H].transform)}}),n("droppables",H,Q),t.active.draggable&&D()},g=H=>{Ke(()=>t.droppables[H])&&(n("droppables",H,"_pendingCleanup",!0),queueMicrotask(()=>v(H)))},v=H=>{var Y;if((Y=t.droppables[H])!=null&&Y._pendingCleanup){const K=t.active.droppableId===H;Ol(()=>{K&&n("active","droppableId",null),n("droppables",H,void 0)})}},y=({id:H,activators:Y})=>{n("sensors",H,{id:H,activators:Y,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:t.sensors[H].coordinates.current.x-t.sensors[H].coordinates.origin.x,y:t.sensors[H].coordinates.current.y-t.sensors[H].coordinates.origin.y}}}})},C=H=>{if(!Ke(()=>t.sensors[H]))return;const Y=t.active.sensorId===H;Ol(()=>{Y&&n("active","sensorId",null),n("sensors",H,void 0)})},w=({node:H,layout:Y})=>{const K=t.active.overlay,ne={node:H,layout:Y};K||Object.defineProperties(ne,{id:{enumerable:!0,configurable:!0,get:()=>{var re;return(re=t.active.draggable)==null?void 0:re.id}},data:{enumerable:!0,configurable:!0,get:()=>{var re;return(re=t.active.draggable)==null?void 0:re.data}},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(t.active.draggable?t.active.draggable.transformers:{}).filter(([re])=>re!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const re=Object.values(t.active.overlay?t.active.overlay.transformers:[]);return re.sort((Q,ue)=>Q.order-ue.order),re.reduce((Q,ue)=>ue.callback(Q),ho())}},transformed:{enumerable:!0,configurable:!0,get:()=>t.active.overlay?Cg(t.active.overlay.layout,t.active.overlay.transform):new cf({x:0,y:0,width:0,height:0})}}),n("active","overlay",ne)},_=()=>n("active","overlay",null),E=(H,Y)=>{Ol(()=>{n("sensors",H,"coordinates",{origin:{...Y},current:{...Y}}),n("active","sensorId",H)})},T=H=>{const Y=t.active.sensorId;Y&&n("sensors",Y,"coordinates","current",{...H})},M=()=>n("active","sensorId",null),I=(H,Y)=>{const K={};for(const re of Object.values(t.sensors))if(re)for(const[Q,ue]of Object.entries(re.activators))K[Q]??(K[Q]=[]),K[Q].push({sensor:re,activator:ue});const ne={};for(const re in K){let Q=re;Y&&(Q=`on${re}`),ne[Q]=ue=>{for(const{activator:le}of K[re]){if(t.active.sensor)break;le(ue,H)}}}return ne},D=()=>{let H=!1;const Y=Object.values(t.draggables),K=Object.values(t.droppables),ne=t.active.overlay;return Ol(()=>{const re=new WeakMap;for(const Q of Y)if(Q){const ue=Q.layout;re.has(Q.node)||re.set(Q.node,z0(Q.node));const le=re.get(Q.node);wg(ue,le)||(n("draggables",Q.id,"layout",le),H=!0)}for(const Q of K)if(Q){const ue=Q.layout;re.has(Q.node)||re.set(Q.node,z0(Q.node));const le=re.get(Q.node);wg(ue,le)||(n("droppables",Q.id,"layout",le),H=!0)}if(ne){const Q=ne.layout,ue=z0(ne.node);wg(Q,ue)||(n("active","overlay","layout",ue),H=!0)}}),H},O=()=>{const H=t.active.overlay??t.active.draggable;if(H){const Y=r.collisionDetector(H,Object.values(t.droppables),{activeDroppableId:t.active.droppableId}),K=Y?Y.id:null;t.active.droppableId!==K&&n("active","droppableId",K)}},N=H=>{const Y={id:"sensorMove",order:0,callback:K=>t.active.sensor?{x:K.x+t.active.sensor.coordinates.delta.x,y:K.y+t.active.sensor.coordinates.delta.y}:K};D(),Ol(()=>{n("active","draggableId",H),i("draggables",H,Y)}),O()},F=()=>{const H=Ke(()=>t.active.draggableId);Ol(()=>{H!==null&&o("draggables",H,"sensorMove"),n("active",["draggableId","droppableId"],null)}),D()},V=H=>{ct(()=>{const Y=t.active.draggable;Y&&Ke(()=>H({draggable:Y}))})},W=H=>{ct(()=>{const Y=t.active.draggable;if(Y){const K=Ke(()=>t.active.overlay);Object.values(K?K.transform:Y.transform),Ke(()=>H({draggable:Y,overlay:K}))}})},Z=H=>{ct(()=>{const Y=t.active.draggable,K=t.active.droppable;Y&&Ke(()=>H({draggable:Y,droppable:K,overlay:t.active.overlay}))})},J=H=>{ct(({previousDraggable:Y,previousDroppable:K,previousOverlay:ne})=>{const re=t.active.draggable,Q=re?t.active.droppable:null,ue=re?t.active.overlay:null;return!re&&Y&&Ke(()=>H({draggable:Y,droppable:K,overlay:ne})),{previousDraggable:re,previousDroppable:Q,previousOverlay:ue}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};W(()=>O()),r.onDragStart&&V(r.onDragStart),r.onDragMove&&W(r.onDragMove),r.onDragOver&&Z(r.onDragOver),r.onDragEnd&&J(r.onDragEnd);const he=[t,{addTransformer:i,removeTransformer:o,addDraggable:s,removeDraggable:u,addDroppable:h,removeDroppable:g,addSensor:y,removeSensor:C,setOverlay:w,clearOverlay:_,recomputeLayouts:D,detectCollisions:O,draggableActivators:I,sensorStart:E,sensorMove:T,sensorEnd:M,dragStart:N,dragEnd:F,onDragStart:V,onDragMove:W,onDragOver:Z,onDragEnd:J}];return ae(Ey.Provider,{value:he,get children(){return r.children}})},J0=()=>jm(Ey)||null,_F=(e="pointer-sensor")=>{const[r,{addSensor:t,removeSensor:n,sensorStart:i,sensorMove:o,sensorEnd:s,dragStart:u,dragEnd:d}]=J0(),h=250,g=10;Ba(()=>{t({id:e,activators:{pointerdown:_}})}),hi(()=>{n(e)});const v=()=>r.active.sensorId===e,y={x:0,y:0};let C=null,w=null;const _=(O,N)=>{O.button===0&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",I),w=N,y.x=O.clientX,y.y=O.clientY,C=window.setTimeout(T,h))},E=()=>{C&&(clearTimeout(C),C=null),document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",I),document.removeEventListener("selectionchange",D)},T=()=>{r.active.sensor?v()||E():(i(e,y),u(w),D(),document.addEventListener("selectionchange",D))},M=O=>{const N={x:O.clientX,y:O.clientY};if(!r.active.sensor){const F={x:N.x-y.x,y:N.y-y.y};Math.sqrt(F.x**2+F.y**2)>g&&T()}v()&&(O.preventDefault(),o(N))},I=O=>{E(),v()&&(O.preventDefault(),d(),s())},D=()=>{var O;(O=window.getSelection())==null||O.removeAllRanges()}},kF=e=>(_F(),be(()=>e.children)),uf=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),SF=(e,r={})=>{const[t,{addDraggable:n,removeDraggable:i,draggableActivators:o}]=J0(),[s,u]=ge(null);Ba(()=>{const g=s();g&&n({id:e,node:g,layout:z0(g),data:r})}),hi(()=>i(e));const d=()=>t.active.draggableId===e,h=()=>{var g;return((g=t.draggables[e])==null?void 0:g.transform)||ho()};return Object.defineProperties((g,v)=>{const y=v?v():{};ct(()=>{const C=s(),w=o(e);if(C)for(const _ in w)C.addEventListener(_,w[_]);hi(()=>{if(C)for(const _ in w)C.removeEventListener(_,w[_])})}),u(g),y.skipTransform||ct(()=>{const C=h();if(_v(C,ho()))g.style.removeProperty("transform");else{const w=uf(h());g.style.setProperty("transform",w.transform??null)}})},{ref:{enumerable:!0,value:u},isActiveDraggable:{enumerable:!0,get:d},dragActivators:{enumerable:!0,get:()=>o(e,!0)},transform:{enumerable:!0,get:h}})},EF=(e,r={})=>{const[t,{addDroppable:n,removeDroppable:i}]=J0(),[o,s]=ge(null);Ba(()=>{const h=o();h&&n({id:e,node:h,layout:z0(h),data:r})}),hi(()=>i(e));const u=()=>t.active.droppableId===e,d=()=>{var h;return((h=t.droppables[e])==null?void 0:h.transform)||ho()};return Object.defineProperties((h,g)=>{const v=g?g():{};s(h),v.skipTransform||ct(()=>{const y=d();if(_v(y,ho()))h.style.removeProperty("transform");else{const C=uf(d());h.style.setProperty("transform",C.transform??null)}})},{ref:{enumerable:!0,value:s},isActiveDroppable:{enumerable:!0,get:u},transform:{enumerable:!0,get:d}})},MF=e=>{const[r,{onDragStart:t,onDragEnd:n,setOverlay:i,clearOverlay:o}]=J0();let s;t(({draggable:d})=>{i({node:d.node,layout:d.layout}),queueMicrotask(()=>{if(s){const h=z0(s),g={x:(d.layout.width-h.width)/2,y:(d.layout.height-h.height)/2};h.x+=g.x,h.y+=g.y,i({node:s,layout:h})}})}),n(()=>queueMicrotask(o));const u=()=>{const d=r.active.overlay,h=r.active.draggable;return!d||!h?{}:{position:"fixed",transition:"transform 0s",top:`${d.layout.top}px`,left:`${d.layout.left}px`,"min-width":`${h.layout.width}px`,"min-height":`${h.layout.height}px`,...uf(d.transform),...e.style}};return ae(FE,{get mount(){return document.body},get children(){return ae(ot,{get when(){return r.active.draggable},get children(){var d=vF(),h=s;return typeof h=="function"?pa(h,d):s=d,B(d,(()=>{var g=be(()=>typeof e.children=="function");return()=>g()?e.children(r.active.draggable):e.children})()),We(g=>{var v=e.class,y=u();return v!==g.e&&tr(d,g.e=v),g.t=Va(d,y,g.t),g},{e:void 0,t:void 0}),d}})}})},TF=(e,r,t)=>{const n=e.slice();return n.splice(t,0,...n.splice(r,1)),n},My=Um(),IF=e=>{const[r]=J0(),[t,n]=Sy({initialIds:[],sortedIds:[]}),i=s=>s>=0&&s<t.initialIds.length;ct(()=>{n("initialIds",[...e.ids]),n("sortedIds",[...e.ids])}),ct(()=>{r.active.draggableId&&r.active.droppableId?Ke(()=>{const s=t.sortedIds.indexOf(r.active.draggableId),u=t.initialIds.indexOf(r.active.droppableId);if(!i(s)||!i(u))n("sortedIds",[...e.ids]);else if(s!==u){const d=TF(t.sortedIds,s,u);n("sortedIds",d)}}):n("sortedIds",[...e.ids])});const o=[t,{}];return ae(My.Provider,{value:o,get children(){return e.children}})},LF=()=>jm(My)||null,PF=(e,r)=>t=>{e(t),r(t)},AF=(e,r={})=>{const[t,{addTransformer:n,removeTransformer:i}]=J0(),[o]=LF(),s=SF(e,r),u=EF(e,r),d=PF(s.ref,u.ref),h=()=>o.initialIds.indexOf(e),g=()=>o.sortedIds.indexOf(e),v=_=>{var E;return((E=t.droppables[_])==null?void 0:E.layout)||null},y=()=>{const _=ho(),E=h(),T=g();if(T!==E){const M=v(e),I=v(o.initialIds[T]);M&&I&&(_.x=I.x-M.x,_.y=I.y-M.y)}return _},C={id:"sortableOffset",order:100,callback:_=>{const E=y();return{x:_.x+E.x,y:_.y+E.y}}};Ba(()=>n("droppables",e,C)),hi(()=>i("droppables",e,C.id));const w=()=>{var _,E;return(e===t.active.draggableId&&!t.active.overlay?(_=t.draggables[e])==null?void 0:_.transform:(E=t.droppables[e])==null?void 0:E.transform)||ho()};return Object.defineProperties(_=>{s(_,()=>({skipTransform:!0})),u(_,()=>({skipTransform:!0})),ct(()=>{const E=w();if(_v(E,ho()))_.style.removeProperty("transform");else{const T=uf(w());_.style.setProperty("transform",T.transform??null)}})},{ref:{enumerable:!0,value:d},transform:{enumerable:!0,get:w},isActiveDraggable:{enumerable:!0,get:()=>s.isActiveDraggable},dragActivators:{enumerable:!0,get:()=>s.dragActivators},isActiveDroppable:{enumerable:!0,get:()=>u.isActiveDroppable}})};const DF=async()=>null;class FF{constructor(r){Re(this,"useExternalStorage"),this.useExternalStorage=r}addToStorage(r){if(!this.useExternalStorage)try{localStorage.setItem("watchlist",JSON.stringify(r))}catch(t){console.error("Error saving watchlist to local storage:",t)}}async fetchWatchlist(){try{if(this.useExternalStorage)return await DF()||(console.error("Failed to fetch watchlist data from external."),null);{const r=localStorage.getItem("watchlist");return r?JSON.parse(r):(console.error("Failed to fetch watchlist data from local storage."),null)}}catch(r){return console.error("Error fetching watchlist data:",r),null}}}var RF=ee("<div class=list>"),OF=ee("<div class=chartspire-ui-watchlist><div class=header><select class=select></select><span class=button>+"),NF=ee("<option>"),zF=ee(`<div class=ticker-item><div class=ticker-info><img class=ticker-logo><span class=ticker-name></span></div><span class=ticker-price>$</span><svg version=1.1 id=Capa_1 xmlns=http://www.w3.org/2000/svg viewBox="0 0 408.483 408.483"><g><g><path d="M87.748,388.784c0.461,11.01,9.521,19.699,20.539,19.699h191.911c11.018,0,20.078-8.689,20.539-19.699l13.705-289.316\r
															H74.043L87.748,388.784z M247.655,171.329c0-4.61,3.738-8.349,8.35-8.349h13.355c4.609,0,8.35,3.738,8.35,8.349v165.293\r
															c0,4.611-3.738,8.349-8.35,8.349h-13.355c-4.61,0-8.35-3.736-8.35-8.349V171.329z M189.216,171.329\r
															c0-4.61,3.738-8.349,8.349-8.349h13.355c4.609,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.737,8.349-8.349,8.349h-13.355\r
															c-4.61,0-8.349-3.736-8.349-8.349V171.329L189.216,171.329z M130.775,171.329c0-4.61,3.738-8.349,8.349-8.349h13.356\r
															c4.61,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.738,8.349-8.349,8.349h-13.356c-4.61,0-8.349-3.736-8.349-8.349V171.329z"></path><path d="M343.567,21.043h-88.535V4.305c0-2.377-1.927-4.305-4.305-4.305h-92.971c-2.377,0-4.304,1.928-4.304,4.305v16.737H64.916\r
															c-7.125,0-12.9,5.776-12.9,12.901V74.47h304.451V33.944C356.467,26.819,350.692,21.043,343.567,21.043z">`),BF=ee("<div class=ticker-item>");const Xo={multiplier:1,timespan:"minute",text:"1m"},VF=e=>({ticker:e.ticker,exchange:e.exchange,type:e.type}),$F=e=>{const r=new FF(e.useExternalWatchListStorage);Ba(()=>{he("WatchList 1").then(K=>{console.log("Watchlist 1 fetched")})});const[t,n]=ge(!1),[i,o]=ge({"WatchList 1":[],"WatchList 2":[],"WatchList 3":[],"WatchList 4":[],"WatchList 5":[]}),[s,u]=ge("WatchList 1"),[d,h]=ge(s()),[g,v]=ge({}),[y,C]=ge({}),[w,_]=ge(null),E=Math.random().toString(36).slice(2,11);hi(()=>{W(s())});const T=K=>{if(H(s())||Y(K))return;const ne=VF(K),re=o(Q=>({...Q,[s()]:[...Q[s()],ne]}));r.addToStorage(re),O(K)},M=(K,ne=!1)=>{const re=ne?d():s(),Q=o(ue=>({...ue,[re]:ue[re].filter(le=>le!==K)}));r.addToStorage(Q),N(K)},I=({draggable:K})=>{_(K.id)},D=({draggable:K,droppable:ne})=>{if(K&&ne){const re=i()[s()],Q=re.findIndex(xe=>xe.ticker===K.id),ue=re.findIndex(xe=>xe.ticker===ne.id),le=[...re],[j]=le.splice(Q,1);le.splice(ue,0,j);const ie=o(xe=>({...xe,[s()]:le}));r.addToStorage(ie)}_(null)},O=K=>{const ne=Nl(K.type);ne&&(console.log("Subscribing to ticker",K),ne.subscribeTicker(K,Xo,re=>{C(Q=>{var ue;return{...Q,[K.ticker]:((ue=g()[K.ticker])==null?void 0:ue.close)||re.close}}),v(Q=>({...Q,[K.ticker]:re}))},E))},N=K=>{const ne=Nl(K.type);ne&&ne.unsubscribeTicker(K,Xo,E)},F=K=>{h(s()),u(K),W(d()),he(K).then(ne=>{console.log(K," Watchlist fetched")})};function V(K,ne){const re=[],Q=[],ue=[],le=[];i()[K].forEach(ie=>{ie.type===_t.STOCKS?Q.push(ie):ie.type===_t.CRYPTO?re.push(ie):ie.type===_t.FOREX?ue.push(ie):ie.type===_t.FUTURES&&le.push(ie)});const j=(ie,xe)=>{C(Me=>{var Ie;return{...Me,[xe.ticker]:((Ie=g()[xe.ticker])==null?void 0:Ie.close)||ie.close}}),v(Me=>({...Me,[xe.ticker]:ie}))};if(re.length>0){const ie=Nl(_t.CRYPTO);ne?ie.subscribeAllTickers(re,Xo,j,300,E):ie.unsubscribeAllTickers(re,Xo,300,E)}if(Q.length>0){const ie=Nl(_t.STOCKS);ne?ie.subscribeAllTickers(Q,Xo,j,300,E):ie.unsubscribeAllTickers(Q,Xo,300,E)}if(ue.length>0){const ie=Nl(_t.FOREX);ne?ie.subscribeAllTickers(ue,Xo,j,300,E):ie.unsubscribeAllTickers(ue,Xo,300,E)}if(le.length>0){const ie=Nl(_t.FUTURES);ne?ie.subscribeAllTickers(le,Xo,j,300,E):ie.unsubscribeAllTickers(le,Xo,300,E)}}function W(K){V(K,!1)}function Z(K){V(K,!0)}const J=K=>{var ne;const re=(ne=g()[K.ticker])==null?void 0:ne.close,Q=y()[K.ticker];return re>Q?"green":re<Q?"red":"grey"};async function he(K){try{const ne=await r.fetchWatchlist();if(ne){if(o(ne),H(s()))return;Object.keys(ne).forEach(re=>{re===K&&Z(K)})}}catch(ne){console.error("Error fetching watchlist data:",ne)}}const H=K=>i()[K].length>=e.watchListLimit?(console.warn("Watchlist is full"),!0):!1;function Y(K){const ne=i()[s()].some(re=>re.ticker===K.ticker&&re.exchange===K.exchange&&re.type===K.type);return ne&&console.warn("Ticker is already present in the watch list"),ne}return(()=>{var K=OF(),ne=K.firstChild,re=ne.firstChild,Q=re.nextSibling;return re.addEventListener("change",ue=>{F(ue.currentTarget.value)}),B(re,ae(Hi,{get each(){return Object.keys(i())},children:ue=>(()=>{var le=NF();return le.value=ue,B(le,ue),le})()})),Q.$$click=()=>n(ue=>!ue),B(K,ae(ot,{get when(){return t()},get children(){return ae(Cy,{get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get locale(){return e.locale},onTickerSelected:ue=>{T(ue)},onClose:()=>n(!1)})}}),null),B(K,ae(bF,{onDragStart:I,onDragEnd:D,collisionDetector:CF,get children(){return[ae(kF,{}),ae(IF,{get ids(){return i()[s()].map(ue=>ue.ticker)},get children(){var ue=RF();return B(ue,()=>i()[s()].map(le=>{const j=AF(le.ticker);return(()=>{var ie=zF(),xe=ie.firstChild,Me=xe.firstChild,Ie=Me.nextSibling,Ae=xe.nextSibling;Ae.firstChild;var Je=Ae.nextSibling;return ie.$$click=()=>{e.setTicker(le)},pa(j,ie,()=>j),B(Ie,()=>le.ticker),B(Ae,()=>{var Oe;return((Oe=g()[le.ticker])==null?void 0:Oe.close)||"Loading..."},null),Je.$$click=Oe=>{Oe.stopPropagation(),M(le,!1)},We(Oe=>{var Be=le.logo?le.logo:void 0,ye=J(le);return Be!==Oe.e&&Ye(Me,"src",Oe.e=Be),ye!==Oe.t&&((Oe.t=ye)!=null?Ae.style.setProperty("color",ye):Ae.style.removeProperty("color")),Oe},{e:void 0,t:void 0}),ie})()})),ue}}),ae(MF,{get children(){return be(()=>!!w())()?(()=>{var ue=BF();return B(ue,w),ue})():null}})]}}),null),K})()};Er(["click"]);const{min:WF,max:HF}=Math,Yc=(e,r=0,t=1)=>WF(HF(r,e),t),kv=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=Yc(e[r],0,255)):r===3&&(e[r]=Yc(e[r],0,1));return e},Ty={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])Ty[`[object ${e}]`]=e.toLowerCase();function Xt(e){return Ty[Object.prototype.toString.call(e)]||"object"}const Dt=(e,r=null)=>e.length>=3?Array.prototype.slice.call(e):Xt(e[0])=="object"&&r?r.split("").filter(t=>e[0][t]!==void 0).map(t=>e[0][t]):e[0].slice(0),e1=e=>{if(e.length<2)return null;const r=e.length-1;return Xt(e[r])=="string"?e[r].toLowerCase():null},{PI:df,min:Iy,max:Ly}=Math,za=e=>Math.round(e*100)/100,ev=e=>Math.round(e*100)/100,Bl=df*2,bg=df/3,UF=df/180,jF=180/df;function Py(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const Pt={format:{},autodetect:[]};class Pe{constructor(...r){const t=this;if(Xt(r[0])==="object"&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];let n=e1(r),i=!1;if(!n){i=!0,Pt.sorted||(Pt.autodetect=Pt.autodetect.sort((o,s)=>s.p-o.p),Pt.sorted=!0);for(let o of Pt.autodetect)if(n=o.test(...r),n)break}if(Pt.format[n]){const o=Pt.format[n].apply(null,i?r:r.slice(0,-1));t._rgb=kv(o)}else throw new Error("unknown format: "+r);t._rgb.length===3&&t._rgb.push(1)}toString(){return Xt(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const XF="3.1.2",Kt=(...e)=>new Pe(...e);Kt.version=XF;const H0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},YF=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ZF=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ay=e=>{if(e.match(YF)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const r=parseInt(e,16),t=r>>16,n=r>>8&255,i=r&255;return[t,n,i,1]}if(e.match(ZF)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const r=parseInt(e,16),t=r>>24&255,n=r>>16&255,i=r>>8&255,o=Math.round((r&255)/255*100)/100;return[t,n,i,o]}throw new Error(`unknown hex color: ${e}`)},{round:hp}=Math,Dy=(...e)=>{let[r,t,n,i]=Dt(e,"rgba"),o=e1(e)||"auto";i===void 0&&(i=1),o==="auto"&&(o=i<1?"rgba":"rgb"),r=hp(r),t=hp(t),n=hp(n);let s="000000"+(r<<16|t<<8|n).toString(16);s=s.substr(s.length-6);let u="0"+hp(i*255).toString(16);switch(u=u.substr(u.length-2),o.toLowerCase()){case"rgba":return`#${s}${u}`;case"argb":return`#${u}${s}`;default:return`#${s}`}};Pe.prototype.name=function(){const e=Dy(this._rgb,"rgb");for(let r of Object.keys(H0))if(H0[r]===e)return r.toLowerCase();return e};Pt.format.named=e=>{if(e=e.toLowerCase(),H0[e])return Ay(H0[e]);throw new Error("unknown color name: "+e)};Pt.autodetect.push({p:5,test:(e,...r)=>{if(!r.length&&Xt(e)==="string"&&H0[e.toLowerCase()])return"named"}});Pe.prototype.alpha=function(e,r=!1){return e!==void 0&&Xt(e)==="number"?r?(this._rgb[3]=e,this):new Pe([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};Pe.prototype.clipped=function(){return this._rgb._clipped||!1};const Ko={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},KF=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Hl(e){const r=KF.get(String(e).toLowerCase());if(!r)throw new Error("unknown Lab illuminant "+e);Ko.labWhitePoint=e,Ko.Xn=r[0],Ko.Zn=r[1]}function Vd(){return Ko.labWhitePoint}const Sv=(...e)=>{e=Dt(e,"lab");const[r,t,n]=e,[i,o,s]=GF(r,t,n),[u,d,h]=Fy(i,o,s);return[u,d,h,e.length>3?e[3]:1]},GF=(e,r,t)=>{const{kE:n,kK:i,kKE:o,Xn:s,Yn:u,Zn:d}=Ko,h=(e+16)/116,g=.002*r+h,v=h-.005*t,y=g*g*g,C=v*v*v,w=y>n?y:(116*g-16)/i,_=e>o?Math.pow((e+16)/116,3):e/i,E=C>n?C:(116*v-16)/i,T=w*s,M=_*u,I=E*d;return[T,M,I]},_g=e=>{const r=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*r},Fy=(e,r,t)=>{const{MtxAdaptMa:n,MtxAdaptMaI:i,MtxXYZ2RGB:o,RefWhiteRGB:s,Xn:u,Yn:d,Zn:h}=Ko,g=u*n.m00+d*n.m10+h*n.m20,v=u*n.m01+d*n.m11+h*n.m21,y=u*n.m02+d*n.m12+h*n.m22,C=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,w=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,_=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,E=(e*n.m00+r*n.m10+t*n.m20)*(C/g),T=(e*n.m01+r*n.m11+t*n.m21)*(w/v),M=(e*n.m02+r*n.m12+t*n.m22)*(_/y),I=E*i.m00+T*i.m10+M*i.m20,D=E*i.m01+T*i.m11+M*i.m21,O=E*i.m02+T*i.m12+M*i.m22,N=_g(I*o.m00+D*o.m10+O*o.m20),F=_g(I*o.m01+D*o.m11+O*o.m21),V=_g(I*o.m02+D*o.m12+O*o.m22);return[N*255,F*255,V*255]},Ev=(...e)=>{const[r,t,n,...i]=Dt(e,"rgb"),[o,s,u]=Ry(r,t,n),[d,h,g]=qF(o,s,u);return[d,h,g,...i.length>0&&i[0]<1?[i[0]]:[]]};function qF(e,r,t){const{Xn:n,Yn:i,Zn:o,kE:s,kK:u}=Ko,d=e/n,h=r/i,g=t/o,v=d>s?Math.pow(d,1/3):(u*d+16)/116,y=h>s?Math.pow(h,1/3):(u*h+16)/116,C=g>s?Math.pow(g,1/3):(u*g+16)/116;return[116*y-16,500*(v-y),200*(y-C)]}function kg(e){const r=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*r}const Ry=(e,r,t)=>{e=kg(e/255),r=kg(r/255),t=kg(t/255);const{MtxRGB2XYZ:n,MtxAdaptMa:i,MtxAdaptMaI:o,Xn:s,Yn:u,Zn:d,As:h,Bs:g,Cs:v}=Ko;let y=e*n.m00+r*n.m10+t*n.m20,C=e*n.m01+r*n.m11+t*n.m21,w=e*n.m02+r*n.m12+t*n.m22;const _=s*i.m00+u*i.m10+d*i.m20,E=s*i.m01+u*i.m11+d*i.m21,T=s*i.m02+u*i.m12+d*i.m22;let M=y*i.m00+C*i.m10+w*i.m20,I=y*i.m01+C*i.m11+w*i.m21,D=y*i.m02+C*i.m12+w*i.m22;return M*=_/h,I*=E/g,D*=T/v,y=M*o.m00+I*o.m10+D*o.m20,C=M*o.m01+I*o.m11+D*o.m21,w=M*o.m02+I*o.m12+D*o.m22,[y,C,w]};Pe.prototype.lab=function(){return Ev(this._rgb)};const QF=(...e)=>new Pe(...e,"lab");Object.assign(Kt,{lab:QF,getLabWhitePoint:Vd,setLabWhitePoint:Hl});Pt.format.lab=Sv;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Dt(e,"lab"),Xt(e)==="array"&&e.length===3)return"lab"}});Pe.prototype.darken=function(e=1){const r=this,t=r.lab();return t[0]-=Ko.Kn*e,new Pe(t,"lab").alpha(r.alpha(),!0)};Pe.prototype.brighten=function(e=1){return this.darken(-e)};Pe.prototype.darker=Pe.prototype.darken;Pe.prototype.brighter=Pe.prototype.brighten;Pe.prototype.get=function(e){const[r,t]=e.split("."),n=this[r]();if(t){const i=r.indexOf(t)-(r.substr(0,2)==="ok"?2:0);if(i>-1)return n[i];throw new Error(`unknown channel ${t} in mode ${r}`)}else return n};const{pow:JF}=Math,eR=1e-7,tR=20;Pe.prototype.luminance=function(e,r="rgb"){if(e!==void 0&&Xt(e)==="number"){if(e===0)return new Pe([0,0,0,this._rgb[3]],"rgb");if(e===1)return new Pe([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),n=tR;const i=(s,u)=>{const d=s.interpolate(u,.5,r),h=d.luminance();return Math.abs(e-h)<eR||!n--?d:h>e?i(s,d):i(d,u)},o=(t>e?i(new Pe([0,0,0]),this):i(this,new Pe([255,255,255]))).rgb();return new Pe([...o,this._rgb[3]])}return rR(...this._rgb.slice(0,3))};const rR=(e,r,t)=>(e=Sg(e),r=Sg(r),t=Sg(t),.2126*e+.7152*r+.0722*t),Sg=e=>(e/=255,e<=.03928?e/12.92:JF((e+.055)/1.055,2.4)),si={},U0=(e,r,t=.5,...n)=>{let i=n[0]||"lrgb";if(!si[i]&&!n.length&&(i=Object.keys(si)[0]),!si[i])throw new Error(`interpolation mode ${i} is not defined`);return Xt(e)!=="object"&&(e=new Pe(e)),Xt(r)!=="object"&&(r=new Pe(r)),si[i](e,r,t).alpha(e.alpha()+t*(r.alpha()-e.alpha()))};Pe.prototype.mix=Pe.prototype.interpolate=function(e,r=.5,...t){return U0(this,e,r,...t)};Pe.prototype.premultiply=function(e=!1){const r=this._rgb,t=r[3];return e?(this._rgb=[r[0]*t,r[1]*t,r[2]*t,t],this):new Pe([r[0]*t,r[1]*t,r[2]*t,t],"rgb")};const{sin:nR,cos:iR}=Math,Oy=(...e)=>{let[r,t,n]=Dt(e,"lch");return isNaN(n)&&(n=0),n=n*UF,[r,iR(n)*t,nR(n)*t]},Mv=(...e)=>{e=Dt(e,"lch");const[r,t,n]=e,[i,o,s]=Oy(r,t,n),[u,d,h]=Sv(i,o,s);return[u,d,h,e.length>3?e[3]:1]},aR=(...e)=>{const r=Py(Dt(e,"hcl"));return Mv(...r)},{sqrt:oR,atan2:lR,round:sR}=Math,Ny=(...e)=>{const[r,t,n]=Dt(e,"lab"),i=oR(t*t+n*n);let o=(lR(n,t)*jF+360)%360;return sR(i*1e4)===0&&(o=Number.NaN),[r,i,o]},Tv=(...e)=>{const[r,t,n,...i]=Dt(e,"rgb"),[o,s,u]=Ev(r,t,n),[d,h,g]=Ny(o,s,u);return[d,h,g,...i.length>0&&i[0]<1?[i[0]]:[]]};Pe.prototype.lch=function(){return Tv(this._rgb)};Pe.prototype.hcl=function(){return Py(Tv(this._rgb))};const cR=(...e)=>new Pe(...e,"lch"),uR=(...e)=>new Pe(...e,"hcl");Object.assign(Kt,{lch:cR,hcl:uR});Pt.format.lch=Mv;Pt.format.hcl=aR;["lch","hcl"].forEach(e=>Pt.autodetect.push({p:2,test:(...r)=>{if(r=Dt(r,e),Xt(r)==="array"&&r.length===3)return e}}));Pe.prototype.saturate=function(e=1){const r=this,t=r.lch();return t[1]+=Ko.Kn*e,t[1]<0&&(t[1]=0),new Pe(t,"lch").alpha(r.alpha(),!0)};Pe.prototype.desaturate=function(e=1){return this.saturate(-e)};Pe.prototype.set=function(e,r,t=!1){const[n,i]=e.split("."),o=this[n]();if(i){const s=n.indexOf(i)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(Xt(r)=="string")switch(r.charAt(0)){case"+":o[s]+=+r;break;case"-":o[s]+=+r;break;case"*":o[s]*=+r.substr(1);break;case"/":o[s]/=+r.substr(1);break;default:o[s]=+r}else if(Xt(r)==="number")o[s]=r;else throw new Error("unsupported value for Color.set");const u=new Pe(o,n);return t?(this._rgb=u._rgb,this):u}throw new Error(`unknown channel ${i} in mode ${n}`)}else return o};Pe.prototype.tint=function(e=.5,...r){return U0(this,"white",e,...r)};Pe.prototype.shade=function(e=.5,...r){return U0(this,"black",e,...r)};const dR=(e,r,t)=>{const n=e._rgb,i=r._rgb;return new Pe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"rgb")};si.rgb=dR;const{sqrt:Eg,pow:w0}=Math,hR=(e,r,t)=>{const[n,i,o]=e._rgb,[s,u,d]=r._rgb;return new Pe(Eg(w0(n,2)*(1-t)+w0(s,2)*t),Eg(w0(i,2)*(1-t)+w0(u,2)*t),Eg(w0(o,2)*(1-t)+w0(d,2)*t),"rgb")};si.lrgb=hR;const pR=(e,r,t)=>{const n=e.lab(),i=r.lab();return new Pe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"lab")};si.lab=pR;const t1=(e,r,t,n)=>{let i,o;n==="hsl"?(i=e.hsl(),o=r.hsl()):n==="hsv"?(i=e.hsv(),o=r.hsv()):n==="hcg"?(i=e.hcg(),o=r.hcg()):n==="hsi"?(i=e.hsi(),o=r.hsi()):n==="lch"||n==="hcl"?(n="hcl",i=e.hcl(),o=r.hcl()):n==="oklch"&&(i=e.oklch().reverse(),o=r.oklch().reverse());let s,u,d,h,g,v;(n.substr(0,1)==="h"||n==="oklch")&&([s,d,g]=i,[u,h,v]=o);let y,C,w,_;return!isNaN(s)&&!isNaN(u)?(u>s&&u-s>180?_=u-(s+360):u<s&&s-u>180?_=u+360-s:_=u-s,C=s+t*_):isNaN(s)?isNaN(u)?C=Number.NaN:(C=u,(g==1||g==0)&&n!="hsv"&&(y=h)):(C=s,(v==1||v==0)&&n!="hsv"&&(y=d)),y===void 0&&(y=d+t*(h-d)),w=g+t*(v-g),n==="oklch"?new Pe([w,y,C],n):new Pe([C,y,w],n)},zy=(e,r,t)=>t1(e,r,t,"lch");si.lch=zy;si.hcl=zy;const fR=e=>{if(Xt(e)=="number"&&e>=0&&e<=16777215){const r=e>>16,t=e>>8&255,n=e&255;return[r,t,n,1]}throw new Error("unknown num color: "+e)},gR=(...e)=>{const[r,t,n]=Dt(e,"rgb");return(r<<16)+(t<<8)+n};Pe.prototype.num=function(){return gR(this._rgb)};const vR=(...e)=>new Pe(...e,"num");Object.assign(Kt,{num:vR});Pt.format.num=fR;Pt.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&Xt(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const mR=(e,r,t)=>{const n=e.num(),i=r.num();return new Pe(n+t*(i-n),"num")};si.num=mR;const{floor:yR}=Math,xR=(...e)=>{e=Dt(e,"hcg");let[r,t,n]=e,i,o,s;n=n*255;const u=t*255;if(t===0)i=o=s=n;else{r===360&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60;const d=yR(r),h=r-d,g=n*(1-t),v=g+u*(1-h),y=g+u*h,C=g+u;switch(d){case 0:[i,o,s]=[C,y,g];break;case 1:[i,o,s]=[v,C,g];break;case 2:[i,o,s]=[g,C,y];break;case 3:[i,o,s]=[g,v,C];break;case 4:[i,o,s]=[y,g,C];break;case 5:[i,o,s]=[C,g,v];break}}return[i,o,s,e.length>3?e[3]:1]},CR=(...e)=>{const[r,t,n]=Dt(e,"rgb"),i=Iy(r,t,n),o=Ly(r,t,n),s=o-i,u=s*100/255,d=i/(255-s)*100;let h;return s===0?h=Number.NaN:(r===o&&(h=(t-n)/s),t===o&&(h=2+(n-r)/s),n===o&&(h=4+(r-t)/s),h*=60,h<0&&(h+=360)),[h,u,d]};Pe.prototype.hcg=function(){return CR(this._rgb)};const wR=(...e)=>new Pe(...e,"hcg");Kt.hcg=wR;Pt.format.hcg=xR;Pt.autodetect.push({p:1,test:(...e)=>{if(e=Dt(e,"hcg"),Xt(e)==="array"&&e.length===3)return"hcg"}});const bR=(e,r,t)=>t1(e,r,t,"hcg");si.hcg=bR;const{cos:b0}=Math,_R=(...e)=>{e=Dt(e,"hsi");let[r,t,n]=e,i,o,s;return isNaN(r)&&(r=0),isNaN(t)&&(t=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(s=(1-t)/3,i=(1+t*b0(Bl*r)/b0(bg-Bl*r))/3,o=1-(s+i)):r<2/3?(r-=1/3,i=(1-t)/3,o=(1+t*b0(Bl*r)/b0(bg-Bl*r))/3,s=1-(i+o)):(r-=2/3,o=(1-t)/3,s=(1+t*b0(Bl*r)/b0(bg-Bl*r))/3,i=1-(o+s)),i=Yc(n*i*3),o=Yc(n*o*3),s=Yc(n*s*3),[i*255,o*255,s*255,e.length>3?e[3]:1]},{min:kR,sqrt:SR,acos:ER}=Math,MR=(...e)=>{let[r,t,n]=Dt(e,"rgb");r/=255,t/=255,n/=255;let i;const o=kR(r,t,n),s=(r+t+n)/3,u=s>0?1-o/s:0;return u===0?i=NaN:(i=(r-t+(r-n))/2,i/=SR((r-t)*(r-t)+(r-n)*(t-n)),i=ER(i),n>t&&(i=Bl-i),i/=Bl),[i*360,u,s]};Pe.prototype.hsi=function(){return MR(this._rgb)};const TR=(...e)=>new Pe(...e,"hsi");Kt.hsi=TR;Pt.format.hsi=_R;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Dt(e,"hsi"),Xt(e)==="array"&&e.length===3)return"hsi"}});const IR=(e,r,t)=>t1(e,r,t,"hsi");si.hsi=IR;const tv=(...e)=>{e=Dt(e,"hsl");const[r,t,n]=e;let i,o,s;if(t===0)i=o=s=n*255;else{const u=[0,0,0],d=[0,0,0],h=n<.5?n*(1+t):n+t-n*t,g=2*n-h,v=r/360;u[0]=v+1/3,u[1]=v,u[2]=v-1/3;for(let y=0;y<3;y++)u[y]<0&&(u[y]+=1),u[y]>1&&(u[y]-=1),6*u[y]<1?d[y]=g+(h-g)*6*u[y]:2*u[y]<1?d[y]=h:3*u[y]<2?d[y]=g+(h-g)*(2/3-u[y])*6:d[y]=g;[i,o,s]=[d[0]*255,d[1]*255,d[2]*255]}return e.length>3?[i,o,s,e[3]]:[i,o,s,1]},By=(...e)=>{e=Dt(e,"rgba");let[r,t,n]=e;r/=255,t/=255,n/=255;const i=Iy(r,t,n),o=Ly(r,t,n),s=(o+i)/2;let u,d;return o===i?(u=0,d=Number.NaN):u=s<.5?(o-i)/(o+i):(o-i)/(2-o-i),r==o?d=(t-n)/(o-i):t==o?d=2+(n-r)/(o-i):n==o&&(d=4+(r-t)/(o-i)),d*=60,d<0&&(d+=360),e.length>3&&e[3]!==void 0?[d,u,s,e[3]]:[d,u,s]};Pe.prototype.hsl=function(){return By(this._rgb)};const LR=(...e)=>new Pe(...e,"hsl");Kt.hsl=LR;Pt.format.hsl=tv;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Dt(e,"hsl"),Xt(e)==="array"&&e.length===3)return"hsl"}});const PR=(e,r,t)=>t1(e,r,t,"hsl");si.hsl=PR;const{floor:AR}=Math,DR=(...e)=>{e=Dt(e,"hsv");let[r,t,n]=e,i,o,s;if(n*=255,t===0)i=o=s=n;else{r===360&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60;const u=AR(r),d=r-u,h=n*(1-t),g=n*(1-t*d),v=n*(1-t*(1-d));switch(u){case 0:[i,o,s]=[n,v,h];break;case 1:[i,o,s]=[g,n,h];break;case 2:[i,o,s]=[h,n,v];break;case 3:[i,o,s]=[h,g,n];break;case 4:[i,o,s]=[v,h,n];break;case 5:[i,o,s]=[n,h,g];break}}return[i,o,s,e.length>3?e[3]:1]},{min:FR,max:RR}=Math,OR=(...e)=>{e=Dt(e,"rgb");let[r,t,n]=e;const i=FR(r,t,n),o=RR(r,t,n),s=o-i;let u,d,h;return h=o/255,o===0?(u=Number.NaN,d=0):(d=s/o,r===o&&(u=(t-n)/s),t===o&&(u=2+(n-r)/s),n===o&&(u=4+(r-t)/s),u*=60,u<0&&(u+=360)),[u,d,h]};Pe.prototype.hsv=function(){return OR(this._rgb)};const NR=(...e)=>new Pe(...e,"hsv");Kt.hsv=NR;Pt.format.hsv=DR;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Dt(e,"hsv"),Xt(e)==="array"&&e.length===3)return"hsv"}});const zR=(e,r,t)=>t1(e,r,t,"hsv");si.hsv=zR;function Zp(e,r){let t=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(r[0])||(r=r.map(s=>[s]));let n=r[0].length,i=r[0].map((s,u)=>r.map(d=>d[u])),o=e.map(s=>i.map(u=>Array.isArray(s)?s.reduce((d,h,g)=>d+h*(u[g]||0),0):u.reduce((d,h)=>d+h*s,0)));return t===1&&(o=o[0]),n===1?o.map(s=>s[0]):o}const Iv=(...e)=>{e=Dt(e,"lab");const[r,t,n,...i]=e,[o,s,u]=BR([r,t,n]),[d,h,g]=Fy(o,s,u);return[d,h,g,...i.length>0&&i[0]<1?[i[0]]:[]]};function BR(e){var r=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Zp(t,e);return Zp(r,n.map(i=>i**3))}const Lv=(...e)=>{const[r,t,n,...i]=Dt(e,"rgb"),o=Ry(r,t,n);return[...VR(o),...i.length>0&&i[0]<1?[i[0]]:[]]};function VR(e){const r=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Zp(r,e);return Zp(t,n.map(i=>Math.cbrt(i)))}Pe.prototype.oklab=function(){return Lv(this._rgb)};const $R=(...e)=>new Pe(...e,"oklab");Object.assign(Kt,{oklab:$R});Pt.format.oklab=Iv;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Dt(e,"oklab"),Xt(e)==="array"&&e.length===3)return"oklab"}});const WR=(e,r,t)=>{const n=e.oklab(),i=r.oklab();return new Pe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"oklab")};si.oklab=WR;const HR=(e,r,t)=>t1(e,r,t,"oklch");si.oklch=HR;const{pow:Mg,sqrt:Tg,PI:Ig,cos:p5,sin:f5,atan2:UR}=Math,jR=(e,r="lrgb",t=null)=>{const n=e.length;t||(t=Array.from(new Array(n)).map(()=>1));const i=n/t.reduce(function(v,y){return v+y});if(t.forEach((v,y)=>{t[y]*=i}),e=e.map(v=>new Pe(v)),r==="lrgb")return XR(e,t);const o=e.shift(),s=o.get(r),u=[];let d=0,h=0;for(let v=0;v<s.length;v++)if(s[v]=(s[v]||0)*t[0],u.push(isNaN(s[v])?0:t[0]),r.charAt(v)==="h"&&!isNaN(s[v])){const y=s[v]/180*Ig;d+=p5(y)*t[0],h+=f5(y)*t[0]}let g=o.alpha()*t[0];e.forEach((v,y)=>{const C=v.get(r);g+=v.alpha()*t[y+1];for(let w=0;w<s.length;w++)if(!isNaN(C[w]))if(u[w]+=t[y+1],r.charAt(w)==="h"){const _=C[w]/180*Ig;d+=p5(_)*t[y+1],h+=f5(_)*t[y+1]}else s[w]+=C[w]*t[y+1]});for(let v=0;v<s.length;v++)if(r.charAt(v)==="h"){let y=UR(h/u[v],d/u[v])/Ig*180;for(;y<0;)y+=360;for(;y>=360;)y-=360;s[v]=y}else s[v]=s[v]/u[v];return g/=n,new Pe(s,r).alpha(g>.99999?1:g,!0)},XR=(e,r)=>{const t=e.length,n=[0,0,0,0];for(let i=0;i<e.length;i++){const o=e[i],s=r[i]/t,u=o._rgb;n[0]+=Mg(u[0],2)*s,n[1]+=Mg(u[1],2)*s,n[2]+=Mg(u[2],2)*s,n[3]+=u[3]*s}return n[0]=Tg(n[0]),n[1]=Tg(n[1]),n[2]=Tg(n[2]),n[3]>.9999999&&(n[3]=1),new Pe(kv(n))},{pow:YR}=Math;function Kp(e){let r="rgb",t=Kt("#ccc"),n=0,i=[0,1],o=[],s=[0,0],u=!1,d=[],h=!1,g=0,v=1,y=!1,C={},w=!0,_=1;const E=function(F){if(F=F||["#fff","#000"],F&&Xt(F)==="string"&&Kt.brewer&&Kt.brewer[F.toLowerCase()]&&(F=Kt.brewer[F.toLowerCase()]),Xt(F)==="array"){F.length===1&&(F=[F[0],F[0]]),F=F.slice(0);for(let V=0;V<F.length;V++)F[V]=Kt(F[V]);o.length=0;for(let V=0;V<F.length;V++)o.push(V/(F.length-1))}return O(),d=F},T=function(F){if(u!=null){const V=u.length-1;let W=0;for(;W<V&&F>=u[W];)W++;return W-1}return 0};let M=F=>F,I=F=>F;const D=function(F,V){let W,Z;if(V==null&&(V=!1),isNaN(F)||F===null)return t;V?Z=F:u&&u.length>2?Z=T(F)/(u.length-2):v!==g?Z=(F-g)/(v-g):Z=1,Z=I(Z),V||(Z=M(Z)),_!==1&&(Z=YR(Z,_)),Z=s[0]+Z*(1-s[0]-s[1]),Z=Yc(Z,0,1);const J=Math.floor(Z*1e4);if(w&&C[J])W=C[J];else{if(Xt(d)==="array")for(let he=0;he<o.length;he++){const H=o[he];if(Z<=H){W=d[he];break}if(Z>=H&&he===o.length-1){W=d[he];break}if(Z>H&&Z<o[he+1]){Z=(Z-H)/(o[he+1]-H),W=Kt.interpolate(d[he],d[he+1],Z,r);break}}else Xt(d)==="function"&&(W=d(Z));w&&(C[J]=W)}return W};var O=()=>C={};E(e);const N=function(F){const V=Kt(D(F));return h&&V[h]?V[h]():V};return N.classes=function(F){if(F!=null){if(Xt(F)==="array")u=F,i=[F[0],F[F.length-1]];else{const V=Kt.analyze(i);F===0?u=[V.min,V.max]:u=Kt.limits(V,"e",F)}return N}return u},N.domain=function(F){if(!arguments.length)return i;g=F[0],v=F[F.length-1],o=[];const V=d.length;if(F.length===V&&g!==v)for(let W of Array.from(F))o.push((W-g)/(v-g));else{for(let W=0;W<V;W++)o.push(W/(V-1));if(F.length>2){const W=F.map((J,he)=>he/(F.length-1)),Z=F.map(J=>(J-g)/(v-g));Z.every((J,he)=>W[he]===J)||(I=J=>{if(J<=0||J>=1)return J;let he=0;for(;J>=Z[he+1];)he++;const H=(J-Z[he])/(Z[he+1]-Z[he]);return W[he]+H*(W[he+1]-W[he])})}}return i=[g,v],N},N.mode=function(F){return arguments.length?(r=F,O(),N):r},N.range=function(F,V){return E(F),N},N.out=function(F){return h=F,N},N.spread=function(F){return arguments.length?(n=F,N):n},N.correctLightness=function(F){return F==null&&(F=!0),y=F,O(),y?M=function(V){const W=D(0,!0).lab()[0],Z=D(1,!0).lab()[0],J=W>Z;let he=D(V,!0).lab()[0];const H=W+(Z-W)*V;let Y=he-H,K=0,ne=1,re=20;for(;Math.abs(Y)>.01&&re-- >0;)(function(){return J&&(Y*=-1),Y<0?(K=V,V+=(ne-V)*.5):(ne=V,V+=(K-V)*.5),he=D(V,!0).lab()[0],Y=he-H})();return V}:M=V=>V,N},N.padding=function(F){return F!=null?(Xt(F)==="number"&&(F=[F,F]),s=F,N):s},N.colors=function(F,V){arguments.length<2&&(V="hex");let W=[];if(arguments.length===0)W=d.slice(0);else if(F===1)W=[N(.5)];else if(F>1){const Z=i[0],J=i[1]-Z;W=ZR(0,F).map(he=>N(Z+he/(F-1)*J))}else{e=[];let Z=[];if(u&&u.length>2)for(let J=1,he=u.length,H=1<=he;H?J<he:J>he;H?J++:J--)Z.push((u[J-1]+u[J])*.5);else Z=i;W=Z.map(J=>N(J))}return Kt[V]&&(W=W.map(Z=>Z[V]())),W},N.cache=function(F){return F!=null?(w=F,N):w},N.gamma=function(F){return F!=null?(_=F,N):_},N.nodata=function(F){return F!=null?(t=Kt(F),N):t},N}function ZR(e,r,t){let n=[],i=e<r,o=r;for(let s=e;i?s<o:s>o;i?s++:s--)n.push(s);return n}const KR=function(e){let r=[1,1];for(let t=1;t<e;t++){let n=[1];for(let i=1;i<=r.length;i++)n[i]=(r[i]||0)+r[i-1];r=n}return r},GR=function(e){let r,t,n,i;if(e=e.map(o=>new Pe(o)),e.length===2)[t,n]=e.map(o=>o.lab()),r=function(o){const s=[0,1,2].map(u=>t[u]+o*(n[u]-t[u]));return new Pe(s,"lab")};else if(e.length===3)[t,n,i]=e.map(o=>o.lab()),r=function(o){const s=[0,1,2].map(u=>(1-o)*(1-o)*t[u]+2*(1-o)*o*n[u]+o*o*i[u]);return new Pe(s,"lab")};else if(e.length===4){let o;[t,n,i,o]=e.map(s=>s.lab()),r=function(s){const u=[0,1,2].map(d=>(1-s)*(1-s)*(1-s)*t[d]+3*(1-s)*(1-s)*s*n[d]+3*(1-s)*s*s*i[d]+s*s*s*o[d]);return new Pe(u,"lab")}}else if(e.length>=5){let o,s,u;o=e.map(d=>d.lab()),u=e.length-1,s=KR(u),r=function(d){const h=1-d,g=[0,1,2].map(v=>o.reduce((y,C,w)=>y+s[w]*h**(u-w)*d**w*C[v],0));return new Pe(g,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return r},qR=e=>{const r=GR(e);return r.scale=()=>Kp(r),r},{round:Vy}=Math;Pe.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Vy)};Pe.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((r,t)=>t<3?e===!1?r:Vy(r):r)};const QR=(...e)=>new Pe(...e,"rgb");Object.assign(Kt,{rgb:QR});Pt.format.rgb=(...e)=>{const r=Dt(e,"rgba");return r[3]===void 0&&(r[3]=1),r};Pt.autodetect.push({p:3,test:(...e)=>{if(e=Dt(e,"rgba"),Xt(e)==="array"&&(e.length===3||e.length===4&&Xt(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const fo=(e,r,t)=>{if(!fo[t])throw new Error("unknown blend mode "+t);return fo[t](e,r)},$s=e=>(r,t)=>{const n=Kt(t).rgb(),i=Kt(r).rgb();return Kt.rgb(e(n,i))},Ws=e=>(r,t)=>{const n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n},JR=e=>e,eO=(e,r)=>e*r/255,tO=(e,r)=>e>r?r:e,rO=(e,r)=>e>r?e:r,nO=(e,r)=>255*(1-(1-e/255)*(1-r/255)),iO=(e,r)=>r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255)),aO=(e,r)=>255*(1-(1-r/255)/(e/255)),oO=(e,r)=>e===255?255:(e=255*(r/255)/(1-e/255),e>255?255:e);fo.normal=$s(Ws(JR));fo.multiply=$s(Ws(eO));fo.screen=$s(Ws(nO));fo.overlay=$s(Ws(iO));fo.darken=$s(Ws(tO));fo.lighten=$s(Ws(rO));fo.dodge=$s(Ws(oO));fo.burn=$s(Ws(aO));const{pow:lO,sin:sO,cos:cO}=Math;function uO(e=300,r=-1.5,t=1,n=1,i=[0,1]){let o=0,s;Xt(i)==="array"?s=i[1]-i[0]:(s=0,i=[i,i]);const u=function(d){const h=Bl*((e+120)/360+r*d),g=lO(i[0]+s*d,n),v=(o!==0?t[0]+d*o:t)*g*(1-g)/2,y=cO(h),C=sO(h),w=g+v*(-.14861*y+1.78277*C),_=g+v*(-.29227*y-.90649*C),E=g+v*(1.97294*y);return Kt(kv([w*255,_*255,E*255,1]))};return u.start=function(d){return d==null?e:(e=d,u)},u.rotations=function(d){return d==null?r:(r=d,u)},u.gamma=function(d){return d==null?n:(n=d,u)},u.hue=function(d){return d==null?t:(t=d,Xt(t)==="array"?(o=t[1]-t[0],o===0&&(t=t[1])):o=0,u)},u.lightness=function(d){return d==null?i:(Xt(d)==="array"?(i=d,s=d[1]-d[0]):(i=[d,d],s=0),u)},u.scale=()=>Kt.scale(u),u.hue(t),u}const dO="0123456789abcdef",{floor:hO,random:pO}=Math,fO=()=>{let e="#";for(let r=0;r<6;r++)e+=dO.charAt(hO(pO()*16));return new Pe(e,"hex")},{log:g5,pow:gO,floor:vO,abs:mO}=Math;function $y(e,r=null){const t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Xt(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{r&&Xt(n)==="object"&&(n=n[r]),n!=null&&!isNaN(n)&&(t.values.push(n),t.sum+=n,n<t.min&&(t.min=n),n>t.max&&(t.max=n),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(n,i)=>Wy(t,n,i),t}function Wy(e,r="equal",t=7){Xt(e)=="array"&&(e=$y(e));const{min:n,max:i}=e,o=e.values.sort((u,d)=>u-d);if(t===1)return[n,i];const s=[];if(r.substr(0,1)==="c"&&(s.push(n),s.push(i)),r.substr(0,1)==="e"){s.push(n);for(let u=1;u<t;u++)s.push(n+u/t*(i-n));s.push(i)}else if(r.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const u=Math.LOG10E*g5(n),d=Math.LOG10E*g5(i);s.push(n);for(let h=1;h<t;h++)s.push(gO(10,u+h/t*(d-u)));s.push(i)}else if(r.substr(0,1)==="q"){s.push(n);for(let u=1;u<t;u++){const d=(o.length-1)*u/t,h=vO(d);if(h===d)s.push(o[h]);else{const g=d-h;s.push(o[h]*(1-g)+o[h+1]*g)}}s.push(i)}else if(r.substr(0,1)==="k"){let u;const d=o.length,h=new Array(d),g=new Array(t);let v=!0,y=0,C=null;C=[],C.push(n);for(let E=1;E<t;E++)C.push(n+E/t*(i-n));for(C.push(i);v;){for(let T=0;T<t;T++)g[T]=0;for(let T=0;T<d;T++){const M=o[T];let I=Number.MAX_VALUE,D;for(let O=0;O<t;O++){const N=mO(C[O]-M);N<I&&(I=N,D=O),g[D]++,h[T]=D}}const E=new Array(t);for(let T=0;T<t;T++)E[T]=null;for(let T=0;T<d;T++)u=h[T],E[u]===null?E[u]=o[T]:E[u]+=o[T];for(let T=0;T<t;T++)E[T]*=1/g[T];v=!1;for(let T=0;T<t;T++)if(E[T]!==C[T]){v=!0;break}C=E,y++,y>200&&(v=!1)}const w={};for(let E=0;E<t;E++)w[E]=[];for(let E=0;E<d;E++)u=h[E],w[u].push(o[E]);let _=[];for(let E=0;E<t;E++)_.push(w[E][0]),_.push(w[E][w[E].length-1]);_=_.sort((E,T)=>E-T),s.push(_[0]);for(let E=1;E<_.length;E+=2){const T=_[E];!isNaN(T)&&s.indexOf(T)===-1&&s.push(T)}}return s}const yO=(e,r)=>{e=new Pe(e),r=new Pe(r);const t=e.luminance(),n=r.luminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const v5=.027,xO=5e-4,CO=.1,m5=1.14,pp=.022,y5=1.414,wO=(e,r)=>{e=new Pe(e),r=new Pe(r),e.alpha()<1&&(e=U0(r,e,e.alpha(),"rgb"));const t=x5(...e.rgb()),n=x5(...r.rgb()),i=t>=pp?t:t+Math.pow(pp-t,y5),o=n>=pp?n:n+Math.pow(pp-n,y5),s=Math.pow(o,.56)-Math.pow(i,.57),u=Math.pow(o,.65)-Math.pow(i,.62),d=Math.abs(o-i)<xO?0:i<o?s*m5:u*m5;return(Math.abs(d)<CO?0:d>0?d-v5:d+v5)*100};function x5(e,r,t){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(r/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:Fl,pow:gn,min:bO,max:_O,atan2:C5,abs:w5,cos:fp,sin:b5,exp:kO,PI:_5}=Math;function SO(e,r,t=1,n=1,i=1){var o=function(ie){return 360*ie/(2*_5)},s=function(ie){return 2*_5*ie/360};e=new Pe(e),r=new Pe(r);const[u,d,h]=Array.from(e.lab()),[g,v,y]=Array.from(r.lab()),C=(u+g)/2,w=Fl(gn(d,2)+gn(h,2)),_=Fl(gn(v,2)+gn(y,2)),E=(w+_)/2,T=.5*(1-Fl(gn(E,7)/(gn(E,7)+gn(25,7)))),M=d*(1+T),I=v*(1+T),D=Fl(gn(M,2)+gn(h,2)),O=Fl(gn(I,2)+gn(y,2)),N=(D+O)/2,F=o(C5(h,M)),V=o(C5(y,I)),W=F>=0?F:F+360,Z=V>=0?V:V+360,J=w5(W-Z)>180?(W+Z+360)/2:(W+Z)/2,he=1-.17*fp(s(J-30))+.24*fp(s(2*J))+.32*fp(s(3*J+6))-.2*fp(s(4*J-63));let H=Z-W;H=w5(H)<=180?H:Z<=W?H+360:H-360,H=2*Fl(D*O)*b5(s(H)/2);const Y=g-u,K=O-D,ne=1+.015*gn(C-50,2)/Fl(20+gn(C-50,2)),re=1+.045*N,Q=1+.015*N*he,ue=30*kO(-gn((J-275)/25,2)),le=-(2*Fl(gn(N,7)/(gn(N,7)+gn(25,7))))*b5(2*s(ue)),j=Fl(gn(Y/(t*ne),2)+gn(K/(n*re),2)+gn(H/(i*Q),2)+le*(K/(n*re))*(H/(i*Q)));return _O(0,bO(100,j))}function EO(e,r,t="lab"){e=new Pe(e),r=new Pe(r);const n=e.get(t),i=r.get(t);let o=0;for(let s in n){const u=(n[s]||0)-(i[s]||0);o+=u*u}return Math.sqrt(o)}const MO=(...e)=>{try{return new Pe(...e),!0}catch{return!1}},TO={cool(){return Kp([Kt.hsl(180,1,.9),Kt.hsl(250,.7,.4)])},hot(){return Kp(["#000","#f00","#ff0","#fff"]).mode("rgb")}},rv={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Hy=Object.keys(rv),k5=new Map(Hy.map(e=>[e.toLowerCase(),e])),IO=typeof Proxy=="function"?new Proxy(rv,{get(e,r){const t=r.toLowerCase();if(k5.has(t))return e[k5.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Hy)}}):rv,LO=(...e)=>{e=Dt(e,"cmyk");const[r,t,n,i]=e,o=e.length>4?e[4]:1;return i===1?[0,0,0,o]:[r>=1?0:255*(1-r)*(1-i),t>=1?0:255*(1-t)*(1-i),n>=1?0:255*(1-n)*(1-i),o]},{max:S5}=Math,PO=(...e)=>{let[r,t,n]=Dt(e,"rgb");r=r/255,t=t/255,n=n/255;const i=1-S5(r,S5(t,n)),o=i<1?1/(1-i):0,s=(1-r-i)*o,u=(1-t-i)*o,d=(1-n-i)*o;return[s,u,d,i]};Pe.prototype.cmyk=function(){return PO(this._rgb)};const AO=(...e)=>new Pe(...e,"cmyk");Object.assign(Kt,{cmyk:AO});Pt.format.cmyk=LO;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Dt(e,"cmyk"),Xt(e)==="array"&&e.length===4)return"cmyk"}});const DO=(...e)=>{const r=Dt(e,"hsla");let t=e1(e)||"lsa";return r[0]=za(r[0]||0)+"deg",r[1]=za(r[1]*100)+"%",r[2]=za(r[2]*100)+"%",t==="hsla"||r.length>3&&r[3]<1?(r[3]="/ "+(r.length>3?r[3]:1),t="hsla"):r.length=3,`${t.substr(0,3)}(${r.join(" ")})`},FO=(...e)=>{const r=Dt(e,"lab");let t=e1(e)||"lab";return r[0]=za(r[0])+"%",r[1]=za(r[1]),r[2]=za(r[2]),t==="laba"||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`lab(${r.join(" ")})`},RO=(...e)=>{const r=Dt(e,"lch");let t=e1(e)||"lab";return r[0]=za(r[0])+"%",r[1]=za(r[1]),r[2]=isNaN(r[2])?"none":za(r[2])+"deg",t==="lcha"||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`lch(${r.join(" ")})`},OO=(...e)=>{const r=Dt(e,"lab");return r[0]=za(r[0]*100)+"%",r[1]=ev(r[1]),r[2]=ev(r[2]),r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`oklab(${r.join(" ")})`},Uy=(...e)=>{const[r,t,n,...i]=Dt(e,"rgb"),[o,s,u]=Lv(r,t,n),[d,h,g]=Ny(o,s,u);return[d,h,g,...i.length>0&&i[0]<1?[i[0]]:[]]},NO=(...e)=>{const r=Dt(e,"lch");return r[0]=za(r[0]*100)+"%",r[1]=ev(r[1]),r[2]=isNaN(r[2])?"none":za(r[2])+"deg",r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`oklch(${r.join(" ")})`},{round:Lg}=Math,zO=(...e)=>{const r=Dt(e,"rgba");let t=e1(e)||"rgb";if(t.substr(0,3)==="hsl")return DO(By(r),t);if(t.substr(0,3)==="lab"){const n=Vd();Hl("d50");const i=FO(Ev(r),t);return Hl(n),i}if(t.substr(0,3)==="lch"){const n=Vd();Hl("d50");const i=RO(Tv(r),t);return Hl(n),i}return t.substr(0,5)==="oklab"?OO(Lv(r)):t.substr(0,5)==="oklch"?NO(Uy(r)):(r[0]=Lg(r[0]),r[1]=Lg(r[1]),r[2]=Lg(r[2]),(t==="rgba"||r.length>3&&r[3]<1)&&(r[3]="/ "+(r.length>3?r[3]:1),t="rgba"),`${t.substr(0,3)}(${r.slice(0,t==="rgb"?3:4).join(" ")})`)},jy=(...e)=>{e=Dt(e,"lch");const[r,t,n,...i]=e,[o,s,u]=Oy(r,t,n),[d,h,g]=Iv(o,s,u);return[d,h,g,...i.length>0&&i[0]<1?[i[0]]:[]]},Xl=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,po=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Gp=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,$a=/\s*/.source,r1=/\s+/.source,Pv=/\s*,\s*/.source,hf=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,n1=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Xy=new RegExp("^rgba?\\("+$a+[Xl,Xl,Xl].join(r1)+n1+"\\)$"),Yy=new RegExp("^rgb\\("+$a+[Xl,Xl,Xl].join(Pv)+$a+"\\)$"),Zy=new RegExp("^rgba\\("+$a+[Xl,Xl,Xl,po].join(Pv)+$a+"\\)$"),Ky=new RegExp("^hsla?\\("+$a+[hf,Gp,Gp].join(r1)+n1+"\\)$"),Gy=new RegExp("^hsl?\\("+$a+[hf,Gp,Gp].join(Pv)+$a+"\\)$"),qy=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Qy=new RegExp("^lab\\("+$a+[po,po,po].join(r1)+n1+"\\)$"),Jy=new RegExp("^lch\\("+$a+[po,po,hf].join(r1)+n1+"\\)$"),e9=new RegExp("^oklab\\("+$a+[po,po,po].join(r1)+n1+"\\)$"),t9=new RegExp("^oklch\\("+$a+[po,po,hf].join(r1)+n1+"\\)$"),{round:r9}=Math,_0=e=>e.map((r,t)=>t<=2?Yc(r9(r),0,255):r),vn=(e,r=0,t=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=r+(e+1)*.5*(t-r):e=r+e*(t-r)),+e),bi=(e,r)=>e==="none"?r:e,Av=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let r;if(Pt.format.named)try{return Pt.format.named(e)}catch{}if((r=e.match(Xy))||(r=e.match(Yy))){let t=r.slice(1,4);for(let i=0;i<3;i++)t[i]=+vn(bi(t[i],0),0,255);t=_0(t);const n=r[4]!==void 0?+vn(r[4],0,1):1;return t[3]=n,t}if(r=e.match(Zy)){const t=r.slice(1,5);for(let n=0;n<4;n++)t[n]=+vn(t[n],0,255);return t}if((r=e.match(Ky))||(r=e.match(Gy))){const t=r.slice(1,4);t[0]=+bi(t[0].replace("deg",""),0),t[1]=+vn(bi(t[1],0),0,100)*.01,t[2]=+vn(bi(t[2],0),0,100)*.01;const n=_0(tv(t)),i=r[4]!==void 0?+vn(r[4],0,1):1;return n[3]=i,n}if(r=e.match(qy)){const t=r.slice(1,4);t[1]*=.01,t[2]*=.01;const n=tv(t);for(let i=0;i<3;i++)n[i]=r9(n[i]);return n[3]=+r[4],n}if(r=e.match(Qy)){const t=r.slice(1,4);t[0]=vn(bi(t[0],0),0,100),t[1]=vn(bi(t[1],0),-125,125,!0),t[2]=vn(bi(t[2],0),-125,125,!0);const n=Vd();Hl("d50");const i=_0(Sv(t));Hl(n);const o=r[4]!==void 0?+vn(r[4],0,1):1;return i[3]=o,i}if(r=e.match(Jy)){const t=r.slice(1,4);t[0]=vn(t[0],0,100),t[1]=vn(bi(t[1],0),0,150,!1),t[2]=+bi(t[2].replace("deg",""),0);const n=Vd();Hl("d50");const i=_0(Mv(t));Hl(n);const o=r[4]!==void 0?+vn(r[4],0,1):1;return i[3]=o,i}if(r=e.match(e9)){const t=r.slice(1,4);t[0]=vn(bi(t[0],0),0,1),t[1]=vn(bi(t[1],0),-.4,.4,!0),t[2]=vn(bi(t[2],0),-.4,.4,!0);const n=_0(Iv(t)),i=r[4]!==void 0?+vn(r[4],0,1):1;return n[3]=i,n}if(r=e.match(t9)){const t=r.slice(1,4);t[0]=vn(bi(t[0],0),0,1),t[1]=vn(bi(t[1],0),0,.4,!1),t[2]=+bi(t[2].replace("deg",""),0);const n=_0(jy(t)),i=r[4]!==void 0?+vn(r[4],0,1):1;return n[3]=i,n}};Av.test=e=>Xy.test(e)||Ky.test(e)||Qy.test(e)||Jy.test(e)||e9.test(e)||t9.test(e)||Yy.test(e)||Zy.test(e)||Gy.test(e)||qy.test(e)||e==="transparent";Pe.prototype.css=function(e){return zO(this._rgb,e)};const BO=(...e)=>new Pe(...e,"css");Kt.css=BO;Pt.format.css=Av;Pt.autodetect.push({p:5,test:(e,...r)=>{if(!r.length&&Xt(e)==="string"&&Av.test(e))return"css"}});Pt.format.gl=(...e)=>{const r=Dt(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r};const VO=(...e)=>new Pe(...e,"gl");Kt.gl=VO;Pe.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};Pe.prototype.hex=function(e){return Dy(this._rgb,e)};const $O=(...e)=>new Pe(...e,"hex");Kt.hex=$O;Pt.format.hex=Ay;Pt.autodetect.push({p:4,test:(e,...r)=>{if(!r.length&&Xt(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:gp}=Math,n9=e=>{const r=e/100;let t,n,i;return r<66?(t=255,n=r<6?0:-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*gp(n),i=r<20?0:-254.76935184120902+.8274096064007395*(i=r-10)+115.67994401066147*gp(i)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*gp(t),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*gp(n),i=255),[t,n,i,1]},{round:WO}=Math,HO=(...e)=>{const r=Dt(e,"rgb"),t=r[0],n=r[2];let i=1e3,o=4e4;const s=.4;let u;for(;o-i>s;){u=(o+i)*.5;const d=n9(u);d[2]/d[0]>=n/t?o=u:i=u}return WO(u)};Pe.prototype.temp=Pe.prototype.kelvin=Pe.prototype.temperature=function(){return HO(this._rgb)};const Pg=(...e)=>new Pe(...e,"temp");Object.assign(Kt,{temp:Pg,kelvin:Pg,temperature:Pg});Pt.format.temp=Pt.format.kelvin=Pt.format.temperature=n9;Pe.prototype.oklch=function(){return Uy(this._rgb)};const UO=(...e)=>new Pe(...e,"oklch");Object.assign(Kt,{oklch:UO});Pt.format.oklch=jy;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Dt(e,"oklch"),Xt(e)==="array"&&e.length===3)return"oklch"}});Object.assign(Kt,{analyze:$y,average:jR,bezier:qR,blend:fo,brewer:IO,Color:Pe,colors:H0,contrast:yO,contrastAPCA:wO,cubehelix:uO,deltaE:SO,distance:EO,input:Pt,interpolate:U0,limits:Wy,mix:U0,random:fO,scale:Kp,scales:TO,valid:MO});var jO=ee("<div tabindex=0><div class=selector-container><i class=arrow></i></div><div class=drop-down-container style=left:50%;top:20%><div class=split_line></div><div class=submit><span class=cancel>Cancel</span><span>Ok"),XO=ee("<div class=each_line>"),YO=ee("<div>");const Dv=e=>{const[r,t]=ge(!1),[n,i]=ge(e.value),[o,s]=ge(e.value),u=[["rgb(255, 255, 255)","rgb(178, 181, 190)","rgb(149, 152, 161)","rgb(120, 123, 134)","rgb(93, 96, 107)","rgb(42, 46, 57)","rgb(0, 0, 0)"],["rgb(242, 54, 69)","rgb(252, 203, 205)","rgb(250, 161, 164)","rgb(247, 124, 128)","rgb(247, 82, 95)","rgb(178, 40, 51)","rgb(128, 25, 34)"],["rgb(255, 152, 0)","rgb(255, 224, 178)","rgb(255, 204, 128)","rgb(255, 183, 77)","rgb(255, 167, 38)","rgb(245, 124, 0)","rgb(230, 81, 0)"],["rgb(255, 235, 59)","rgb(255, 249, 196)","rgb(255, 245, 157)","rgb(255, 241, 118)","rgb(255, 238, 88)","rgb(251, 192, 45)","rgb(245, 127, 23)"],["rgb(76, 175, 80)","rgb(200, 230, 201)","rgb(165, 214, 167)","rgb(129, 199, 132)","rgb(102, 187, 106)","rgb(56, 142, 60)","rgb(27, 94, 32)"],["rgb(8, 153, 129)","rgb(172, 229, 220)","rgb(112, 204, 189)","rgb(66, 189, 168)","rgb(34, 171, 148)","rgb(5, 102, 86)","rgb(0, 51, 42)"],["rgb(0, 188, 212)","rgb(178, 235, 242)","rgb(128, 222, 234)","rgb(77, 208, 225)","rgb(38, 198, 218)","rgb(0, 151, 167)","rgb(0, 96, 100)"],["rgb(41, 98, 255)","rgb(187, 217, 251)","rgb(144, 191, 249)","rgb(91, 156, 246)","rgb(49, 121, 245)","rgb(24, 72, 204)","rgb(12, 50, 153)"],["rgb(103, 58, 183)","rgb(209, 196, 233)","rgb(179, 157, 219)","rgb(149, 117, 205)","rgb(126, 87, 194)","rgb(81, 45, 168)","rgb(49, 27, 146)"],["rgb(156, 39, 176)","rgb(225, 190, 231)","rgb(206, 147, 216)","rgb(186, 104, 200)","rgb(171, 71, 188)","rgb(123, 31, 162)","rgb(74, 20, 140)"],["rgb(233, 30, 99)","rgb(248, 187, 208)","rgb(244, 143, 177)","rgb(240, 98, 146)","rgb(236, 64, 122)","rgb(194, 24, 91)","rgb(136, 14, 79)"],["#00698b","#fb7b50"]],d=()=>{t(!1)},h=()=>{var v;i(e.value),s(e.value),(v=e.onChange)==null||v.call(e,e.value),d()},g=()=>{var v;const y=Kt(n()).alpha(100).css();s(y),(e.reactiveChange??!0)&&((v=e.onChange)==null||v.call(e,o()))};return(()=>{var v=jO(),y=v.firstChild,C=y.nextSibling,w=C.firstChild,_=w.nextSibling,E=_.firstChild,T=E.nextSibling;return y.$$click=M=>{t(!0)},B(C,()=>u.map(M=>(()=>{var I=XO();return B(I,()=>M.map(D=>(()=>{var O=YO();return O.$$click=N=>{N.stopPropagation(),i(D),g()},We(N=>{var F=`each_color ${D==n()?"selected":""}`,V=`background-color: ${D}`;return F!==N.e&&tr(O,N.e=F),N.t=Va(O,V,N.t),N},{e:void 0,t:void 0}),O})())),I})()),w),E.$$click=h,T.$$click=()=>{var M;e.reactiveChange===!1&&((M=e.onChange)==null||M.call(e,o())),d()},We(M=>{var I=`width: 120px; background-color: ${o()}; border-radius: 10px`,D=`chartspire-ui-color ${e.class??""} ${r()?"chartspire-ui-color-palette-show":""}`;return M.e=Va(v,I,M.e),D!==M.t&&tr(v,M.t=D),M},{e:void 0,t:void 0}),v})()};Er(["click"]);class i9{constructor(r){Re(this,"dataFeeds",new Map),Re(this,"trackedSymbols",new Map),Re(this,"priceCallbacks",new Set),Re(this,"currentPrices",new Map),Re(this,"updateIntervals",new Map),Re(this,"config"),this.config={updateInterval:3e4,enableLogging:!0,...r},this.log(`[PriceTrackingService] Initialized with ${this.config.updateInterval}ms update interval`)}log(r,...t){this.config.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.config.enableLogging&&console.warn(r,...t)}setDataFeed(r,t){this.dataFeeds.set(r,t),this.log(`[PriceTrackingService] Set data feed for ticker type: ${r}`)}setDataFeeds(r){this.dataFeeds=new Map(r),this.log(`[PriceTrackingService] Set ${r.size} data feeds:`,Array.from(r.keys()))}getDataFeedForTicker(r){var t;const n=((t=r.type)==null?void 0:t.toString())||"default";return this.dataFeeds.get(n)||null}trackSymbol(r){if(!this.getDataFeedForTicker(r)){this.logWarn(`[PriceTrackingService] No DataFeed found for ticker type ${r.type}, cannot track symbol:`,r.ticker);return}const t=r.ticker;this.trackedSymbols.has(t)||(this.trackedSymbols.set(t,r),this.startPriceFetching(r),this.log(`[PriceTrackingService] Started tracking price for ${t} using ${r.type} datafeed (${this.config.updateInterval}ms interval)`))}async startPriceFetching(r){const t=r.ticker;await this.fetchPrice(r);const n=setInterval(async()=>{await this.fetchPrice(r)},this.config.updateInterval);this.updateIntervals.set(t,n)}async fetchPrice(r){const t=this.getDataFeedForTicker(r);if(!t){this.logWarn(`[PriceTrackingService] No DataFeed available for ${r.ticker} (${r.type})`);return}const n=r.ticker,i=Date.now(),o=i-60*1e3;try{this.logWarn(`[PriceTrackingService] Fetching price for ${n} using ${r.type} datafeed...`);const s={multiplier:1,timespan:mn.MINUTE,text:$e.ONE_MIN},u=await t.getHistoricalTimeSeries(r,s,o,i,r.type);if(u&&u.length>0){const d=u[u.length-1],h=d.close;if(h!==void 0){this.currentPrices.set(n,h);const g={symbol:n,price:h,timestamp:d.timestamp??i};this.log(`[PriceTrackingService] Price update for ${n} (${r.type}): $${h.toFixed(2)}`),this.priceCallbacks.forEach(v=>{try{v(g)}catch(y){console.error(`[PriceTrackingService] Error in price update callback for ${n}:`,y)}})}}else this.logWarn(`[PriceTrackingService] No data received for ${n} (${r.type})`)}catch(s){console.error(`[PriceTrackingService] Error fetching price for ${n} (${r.type}):`,s)}}untrackSymbol(r){if(!this.trackedSymbols.get(r))return;const t=this.updateIntervals.get(r);t&&(clearInterval(t),this.updateIntervals.delete(r)),this.trackedSymbols.delete(r),this.currentPrices.delete(r),this.log(`[PriceTrackingService] Stopped tracking price for ${r}`)}getCurrentPrice(r){return this.currentPrices.get(r)??null}getTrackedSymbols(){return Array.from(this.trackedSymbols.keys())}addPriceCallback(r){this.priceCallbacks.add(r)}removePriceCallback(r){this.priceCallbacks.delete(r)}updateTrackedSymbols(r,t){const n=new Set(this.trackedSymbols.keys()),i=new Set(r);for(const o of n)i.has(o)||this.untrackSymbol(o);for(const o of r)if(!n.has(o)){const s=t(o);s&&this.trackSymbol(s)}}cleanup(){for(const[r,t]of this.updateIntervals)clearInterval(t),this.log(`[PriceTrackingService] Cleared interval for ${r}`);this.updateIntervals.clear(),this.trackedSymbols.clear(),this.currentPrices.clear(),this.priceCallbacks.clear(),this.log("[PriceTrackingService] Cleanup completed")}isLoggingEnabled(){return this.config.enableLogging}updateConfig(r){const t=this.config.updateInterval;if(this.config={...this.config,...r},r.updateInterval&&r.updateInterval!==t){this.log(`[PriceTrackingService] Update interval changed from ${t}ms to ${this.config.updateInterval}ms`);const n=Array.from(this.trackedSymbols.values());this.cleanup(),n.forEach(i=>{this.trackSymbol(i)})}}getCurrentConfig(){return{...this.config}}}var yn=(e=>(e.MARKET="MARKET",e.LIMIT="LIMIT",e))(yn||{}),Kn=(e=>(e.PENDING="PENDING",e.FILLED="FILLED",e.CANCELLED="CANCELLED",e))(Kn||{});class Fv{constructor(){Re(this,"storageKey","chartspire-paper-trading")}save(r){try{localStorage.setItem(this.storageKey,JSON.stringify(r))}catch(t){console.error("Error saving paper trading data to local storage:",t)}}load(){try{const r=localStorage.getItem(this.storageKey);return r?JSON.parse(r):null}catch(r){return console.error("Error loading paper trading data from local storage:",r),null}}}class ZO{constructor(r,t,n=!0){Re(this,"storageProvider"),Re(this,"tickerInfoCache"),Re(this,"isInitialized",!1),Re(this,"enableLogging"),this.storageProvider=r??new Fv,this.tickerInfoCache=t??new Map,this.enableLogging=n}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}isExternalStorageProvider(r){return"loadAsync"in r}loadData(){const r=this.storageProvider.load();return r?(this.migrateDataIfNeeded(r),r):{orders:[],positions:[],trades:[],balance:1e4}}async initializeAsync(){if(this.isExternalStorageProvider(this.storageProvider)){const r=await this.storageProvider.loadAsync();return r?(this.migrateDataIfNeeded(r),this.log("[DataStorageManager] Loaded data from external storage"),this.isInitialized=!0,r):(this.log("[DataStorageManager] No external data found, using default data"),this.isInitialized=!0,this.getDefaultData())}else return this.isInitialized=!0,this.loadData()}getDefaultData(){return{orders:[],positions:[],trades:[],balance:1e4}}saveData(r){if(!this.isInitialized){this.logWarn("[DataStorageManager] Attempted to save data before initialization completed, skipping...");return}this.log("[DataStorageManager] Saving data:",{ordersCount:r.orders.length,positionsCount:r.positions.length,tradesCount:r.trades.length,balance:r.balance}),this.storageProvider.save(r)}migrateDataIfNeeded(r){r.orders.forEach(i=>{if(!i.tickerType){const o=this.tickerInfoCache.get(i.symbol);o!=null&&o.type?(i.tickerType=o.type.toString(),this.log(`[DataStorageManager] Migration: Set ticker type for order ${i.symbol} from cache: ${i.tickerType}`)):(i.tickerType="Unknown",this.logWarn(`[DataStorageManager] Migration: Could not determine ticker type for order ${i.symbol}, set to 'Unknown'. Price tracking may not work correctly.`))}}),r.positions.forEach(i=>{if(!i.tickerType){const o=this.tickerInfoCache.get(i.symbol);o!=null&&o.type?(i.tickerType=o.type.toString(),this.log(`[DataStorageManager] Migration: Set ticker type for position ${i.symbol} from cache: ${i.tickerType}`)):(i.tickerType="Unknown",this.logWarn(`[DataStorageManager] Migration: Could not determine ticker type for position ${i.symbol}, set to 'Unknown'. Price tracking may not work correctly.`))}});const t=r.orders.length;r.orders=r.orders.filter(i=>i.status===Kn.PENDING);const n=t-r.orders.length;n>0&&this.log(`[DataStorageManager] Migration: Removed ${n} filled/cancelled orders from storage to keep it clean`)}isStorageInitialized(){return this.isInitialized}isUsingExternalStorage(){return this.isExternalStorageProvider(this.storageProvider)}setTickerInfoCache(r){this.tickerInfoCache=r}setLoggingEnabled(r){this.enableLogging=r}}class KO{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}validateOrder(r,t,n){const{symbol:i,side:o,quantity:s,type:u,price:d,currentPrice:h,tickerType:g}=r;if(s<=0)throw new Error("Quantity must be greater than 0");if(u===yn.LIMIT&&d<=0)throw new Error("Limit price must be greater than 0");if(!g||g.trim()==="")throw new Error("Ticker type is required when placing orders");const v=(u===yn.MARKET?h:d)*s;if(o==="buy"&&v>t)throw new Error("Insufficient balance");if(o==="sell"){const y=n.find(w=>w.symbol===i&&w.side==="buy"),C=y?y.quantity:0;if(C<s)throw new Error(`Insufficient shares to sell. You own ${C} ${i} but trying to sell ${s}`)}}createOrder(r){const{symbol:t,side:n,quantity:i,type:o,price:s,currentPrice:u,tickerType:d}=r,h=o===yn.MARKET?u:s;return{id:this.generateId(),symbol:t,side:n,quantity:i,type:o,price:h,status:Kn.PENDING,timestamp:Date.now(),tickerType:d.trim()}}shouldExecuteLimitOrder(r,t){return r.type!==yn.LIMIT?!0:(this.log("[OrderManager] Checking limit order execution:",{orderId:r.id,symbol:r.symbol,side:r.side,limitPrice:r.price,marketPrice:t,shouldExecute:r.side==="buy"?t<=r.price:t>=r.price}),r.side==="buy"&&t>r.price?(this.log(`[OrderManager] Buy limit order NOT executed: market price ${t} > limit price ${r.price}`),!1):r.side==="sell"&&t<r.price?(this.log(`[OrderManager] Sell limit order NOT executed: market price ${t} < limit price ${r.price}`),!1):(this.log(`[OrderManager] Limit order EXECUTING: ${r.side} ${r.symbol} at market price ${t} (limit was ${r.price})`),!0))}fillOrder(r){r.status=Kn.FILLED,r.filledAt=Date.now(),this.log(`[OrderManager] Order ${r.id} filled and will be removed from storage to keep storage clean`)}cancelOrder(r){if(r.status!==Kn.PENDING)throw new Error("Order cannot be cancelled");r.status=Kn.CANCELLED,this.log(`[OrderManager] Order ${r.id} cancelled and will be removed from storage to keep storage clean`)}checkLimitOrdersForExecution(r,t,n){const i=r.filter(o=>o.symbol===t&&o.status===Kn.PENDING&&o.type===yn.LIMIT);return i.length>0&&this.log(`[OrderManager] Checking ${i.length} pending limit orders for ${t} at price $${n.toFixed(2)}`),i.filter(o=>this.shouldExecuteLimitOrder(o,n))}getPendingOrders(r){return r.filter(t=>t.status===Kn.PENDING)}getPendingLimitOrdersForSymbol(r,t){return r.filter(n=>n.symbol===t&&n.status===Kn.PENDING&&n.type===yn.LIMIT)}hasPendingLimitOrders(r){return r.some(t=>t.status===Kn.PENDING&&t.type===yn.LIMIT)}calculatePendingBuyOrdersValue(r){return r.filter(t=>t.status===Kn.PENDING&&t.side==="buy").reduce((t,n)=>t+n.price*n.quantity,0)}getPendingOrdersInfo(r){const t=r.filter(o=>o.status===Kn.PENDING&&o.side==="buy"),n=r.filter(o=>o.status===Kn.PENDING&&o.side==="sell"),i=this.calculatePendingBuyOrdersValue(r);return{pendingBuyOrders:t,pendingSellOrders:n,totalBuyOrdersValue:i}}setLoggingEnabled(r){this.enableLogging=r}}class GO{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}updatePosition(r,t,n){let i=0;if(t.side==="buy"){const o=r.find(s=>s.symbol===t.symbol&&s.side==="buy");if(o){const s=o.quantity+t.quantity,u=o.averagePrice*o.quantity+n*t.quantity;o.quantity=s,o.averagePrice=u/s,o.tickerType=t.tickerType}else{const s={id:this.generateId(),symbol:t.symbol,side:"buy",quantity:t.quantity,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(s)}}else{const o=r.find(s=>s.symbol===t.symbol&&s.side==="buy");if(o)if(t.quantity>=o.quantity){const s=t.quantity-o.quantity,u=(n-o.averagePrice)*o.quantity;i+=u;const d=r.findIndex(h=>h.id===o.id);if(r.splice(d,1),s>0){const h={id:this.generateId(),symbol:t.symbol,side:"sell",quantity:s,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(h)}}else{const s=t.quantity,u=o.quantity-s,d=(n-o.averagePrice)*s;i+=d,o.quantity=u}else{const s=r.find(u=>u.symbol===t.symbol&&u.side==="sell");if(s){const u=s.quantity+t.quantity,d=s.averagePrice*s.quantity+n*t.quantity;s.quantity=u,s.averagePrice=d/u,s.tickerType=t.tickerType}else{const u={id:this.generateId(),symbol:t.symbol,side:"sell",quantity:t.quantity,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(u)}}}return{updatedBalance:i}}updatePositionPnL(r,t,n){r.filter(i=>i.symbol===t).forEach(i=>{i.side==="buy"?i.unrealizedPnL=(n-i.averagePrice)*i.quantity:i.unrealizedPnL=(i.averagePrice-n)*i.quantity})}closePosition(r,t,n){const i=r.findIndex(h=>h.id===t);if(i===-1)throw new Error("Position not found");const o=r[i];if(!n||n<=0)throw new Error(`Invalid current price: ${n}. Cannot close position.`);this.log("[PositionManager] Closing position"),this.log("[PositionManager] Position details:",{symbol:o.symbol,side:o.side,quantity:o.quantity,averagePrice:o.averagePrice,currentPrice:n});let s=0;o.side==="buy"?s=(n-o.averagePrice)*o.quantity:s=(o.averagePrice-n)*o.quantity,this.log(`[PositionManager] Calculated realized P&L: $${s.toFixed(2)}`);const u=n*o.quantity;this.log(`[PositionManager] Total proceeds from sale: $${u.toFixed(2)}`),this.log(`[PositionManager] Original investment: $${(o.averagePrice*o.quantity).toFixed(2)}`),this.log(`[PositionManager] Net P&L from this position: $${s.toFixed(2)}`);const d={id:this.generateId(),orderId:`close-${o.id}`,symbol:o.symbol,side:o.side==="buy"?"sell":"buy",quantity:o.quantity,price:n,timestamp:Date.now()};return this.log(`[PositionManager] Closed position ${o.symbol} ${o.side} ${o.quantity} at $${n.toFixed(2)}, realized P&L: $${s.toFixed(2)}`),r.splice(i,1),{balanceChange:u,trade:d}}getPositionsForSymbol(r,t){return r.filter(n=>n.symbol===t)}getSymbolsWithPositions(r){const t=new Set;return r.forEach(n=>t.add(n.symbol)),Array.from(t)}hasOpenPositions(r){return r.length>0}getTotalUnrealizedPnL(r){return r.reduce((t,n)=>t+n.unrealizedPnL,0)}getTotalRealizedPnL(r){return r.reduce((t,n)=>t+n.realizedPnL,0)}setLoggingEnabled(r){this.enableLogging=r}}class qO{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}calculatePendingBuyOrdersValue(r){return r.filter(t=>t.status==="PENDING"&&t.side==="buy").reduce((t,n)=>t+n.price*n.quantity,0)}addCash(r,t){if(t<=0)throw new Error("Amount must be greater than 0");const n=r+t;return this.log(`[BalanceManager] Added $${t.toFixed(2)} to account. New balance: $${n.toFixed(2)}`),n}removeCash(r,t,n){if(t<=0)throw new Error("Amount must be greater than 0");if(t>r)throw new Error(`Insufficient balance. Current balance: $${r.toFixed(2)}, trying to remove: $${t.toFixed(2)}`);const i=this.calculatePendingBuyOrdersValue(n),o=r-t;if(o<i)throw new Error(`Cannot remove $${t.toFixed(2)}. Pending buy orders require $${i.toFixed(2)} but new balance would be $${o.toFixed(2)}. Cancel some orders or remove less cash.`);return this.log(`[BalanceManager] Removed $${t.toFixed(2)} from account. New balance: $${o.toFixed(2)}`),o}setBalance(r,t){if(r<0)throw new Error("Balance cannot be negative");const n=this.calculatePendingBuyOrdersValue(t);if(r<n)throw new Error(`Cannot set balance to $${r.toFixed(2)}. Pending buy orders require $${n.toFixed(2)}. Cancel some orders first.`);return this.log(`[BalanceManager] Set balance to $${r.toFixed(2)}`),r}getPendingOrdersInfo(r,t){const n=t.filter(d=>d.status==="PENDING"&&d.side==="buy"),i=t.filter(d=>d.status==="PENDING"&&d.side==="sell"),o=this.calculatePendingBuyOrdersValue(t),s=r-o,u=Math.max(0,s);return{pendingBuyOrders:n,pendingSellOrders:i,totalBuyOrdersValue:o,availableCashAfterOrders:s,maxCashRemoval:u}}updateBalanceForOrderExecution(r,t,n){return t==="buy"?r-n:r+n}validateBalanceForOrder(r,t,n){return t==="buy"?r>=n:!0}setLoggingEnabled(r){this.enableLogging=r}}class QO{constructor(r=1e3,t=!0){Re(this,"maxTrades"),Re(this,"enableLogging"),this.maxTrades=Math.max(1,r),this.enableLogging=t}log(r,...t){this.enableLogging&&console.log(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}createTrade(r,t,n,i,o){return{id:this.generateId(),orderId:r,symbol:t,side:n,quantity:i,price:o,timestamp:Date.now()}}addTrade(r,t){r.push(t),this.limitTrades(r)}limitTrades(r){if(r.length>this.maxTrades){r.sort((n,i)=>n.timestamp-i.timestamp);const t=r.length-this.maxTrades;r.splice(0,t),this.log(`[TradeManager] Limited trades to ${this.maxTrades}, removed ${t} oldest trades`)}}clearAllTrades(r){const t=r.length;return r.length=0,this.log(`[TradeManager] Cleared ${t} trades from history`),t}getTradesForSymbol(r,t){return r.filter(n=>n.symbol===t)}getTradesInDateRange(r,t,n){return r.filter(i=>i.timestamp>=t&&i.timestamp<=n)}getTradesForOrder(r,t){return r.filter(n=>n.orderId===t)}getTotalVolumeForSymbol(r,t){return r.filter(n=>n.symbol===t).reduce((n,i)=>n+i.quantity,0)}getTotalValueForSymbol(r,t){return r.filter(n=>n.symbol===t).reduce((n,i)=>n+i.quantity*i.price,0)}getTradeStatistics(r){const t=r.length,n=r.reduce((d,h)=>d+h.quantity,0),i=r.reduce((d,h)=>d+h.quantity*h.price,0),o=new Set(r.map(d=>d.symbol)).size,s=t>0?n/t:0,u=t>0?i/t:0;return{totalTrades:t,totalVolume:n,totalValue:i,uniqueSymbols:o,averageTradeSize:s,averageTradeValue:u}}getRecentTrades(r,t=10){return r.sort((n,i)=>i.timestamp-n.timestamp).slice(0,t)}setMaxTrades(r){this.maxTrades=Math.max(1,r)}getMaxTrades(){return this.maxTrades}setLoggingEnabled(r){this.enableLogging=r}}class JO{constructor(r,t,n,i,o=!0){Re(this,"data"),Re(this,"dataStorageManager"),Re(this,"orderManager"),Re(this,"positionManager"),Re(this,"balanceManager"),Re(this,"tradeManager"),Re(this,"priceTrackingService"),Re(this,"tickerInfoCache",new Map),Re(this,"isUIVisible",!1),Re(this,"enableLogging"),this.enableLogging=o,this.dataStorageManager=new ZO(r??new Fv,this.tickerInfoCache,o),this.orderManager=new KO(o),this.positionManager=new GO(o),this.balanceManager=new qO(o),this.tradeManager=new QO(i,o),this.priceTrackingService=t??new i9(n),this.dataStorageManager.isUsingExternalStorage()?(this.data=this.dataStorageManager.getDefaultData(),this.log("[PaperTradingService] Initialized with default data for external storage (async load will follow)")):(this.data=this.dataStorageManager.loadData(),this.log("[PaperTradingService] Initialized with local storage data")),this.setupPriceTracking()}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}async initializeAsync(){this.dataStorageManager.isUsingExternalStorage()&&(this.data=await this.dataStorageManager.initializeAsync(),this.log("[PaperTradingService] Async initialization completed"),this.updateTrackedSymbols())}saveData(){this.dataStorageManager.saveData(this.data)}setupPriceTracking(){this.priceTrackingService.addPriceCallback(r=>{this.log(`[PaperTradingService] Price update received: ${r.symbol} = $${r.price.toFixed(2)}`),this.checkLimitOrdersForSymbol(r.symbol,r.price),this.updatePositionPnLForSymbol(r.symbol,r.price)}),this.updateTrackedSymbols()}updateTrackedSymbols(){if(!this.isUIVisible)return;const r=new Set;for(const t of this.data.orders)t.status===Kn.PENDING&&t.type===yn.LIMIT&&r.add(t.symbol);for(const t of this.data.positions)r.add(t.symbol);this.priceTrackingService.updateTrackedSymbols(Array.from(r),t=>this.tickerInfoCache.get(t)??null)}createTickerInfo(r,t){return this.tickerInfoCache.get(r)||(t?{ticker:r,type:t,name:r}:null)}checkLimitOrdersForSymbol(r,t){this.orderManager.checkLimitOrdersForExecution(this.data.orders,r,t).forEach(n=>{this.executeOrder(n.id,t)}),this.updateTrackedSymbols()}updatePositionPnLForSymbol(r,t){this.positionManager.updatePositionPnL(this.data.positions,r,t)}setDataFeed(r,t){this.priceTrackingService.setDataFeed(r,t)}setDataFeeds(r){this.priceTrackingService.setDataFeeds(r)}cacheTickerInfo(r){this.tickerInfoCache.set(r.ticker,r)}updatePriceTrackingConfig(r){this.priceTrackingService.updateConfig(r)}setPriceTrackingInterval(r){if(r<1e3)throw new Error("Price tracking interval must be at least 1000ms (1 second)");this.priceTrackingService.updateConfig({updateInterval:r})}getCurrentConfig(){return this.priceTrackingService.getCurrentConfig()}setPriceTrackingLogging(r){this.priceTrackingService.updateConfig({enableLogging:r}),this.enableLogging=r,this.dataStorageManager.setLoggingEnabled(r),this.orderManager.setLoggingEnabled(r),this.positionManager.setLoggingEnabled(r),this.balanceManager.setLoggingEnabled(r),this.tradeManager.setLoggingEnabled(r)}getOrders(){return[...this.data.orders]}getPositions(){return[...this.data.positions]}getTrades(){return[...this.data.trades]}getBalance(){return this.data.balance}placeOrder(r){this.orderManager.validateOrder(r,this.data.balance,this.data.positions);const t=this.orderManager.createOrder(r);return this.data.orders.push(t),t.type===yn.MARKET?this.executeOrder(t.id,r.currentPrice):this.updateTrackedSymbols(),this.saveData(),t}executeOrder(r,t){const n=this.data.orders.find(d=>d.id===r);if(!n||n.status!==Kn.PENDING||!this.orderManager.shouldExecuteLimitOrder(n,t))return;const i=t*n.quantity;this.data.balance=this.balanceManager.updateBalanceForOrderExecution(this.data.balance,n.side,i);const o=this.positionManager.updatePosition(this.data.positions,n,t);this.data.balance+=o.updatedBalance;const s=this.tradeManager.createTrade(n.id,n.symbol,n.side,n.quantity,t);this.tradeManager.addTrade(this.data.trades,s),this.orderManager.fillOrder(n);const u=this.data.orders.findIndex(d=>d.id===r);u!==-1&&(this.data.orders.splice(u,1),this.log(`[PaperTradingService] Removed filled order ${r} from storage`)),this.updateTrackedSymbols(),this.saveData()}cancelOrder(r){const t=this.data.orders.find(i=>i.id===r);if(!t)throw new Error("Order not found");this.orderManager.cancelOrder(t);const n=this.data.orders.findIndex(i=>i.id===r);n!==-1&&(this.data.orders.splice(n,1),this.log(`[PaperTradingService] Removed cancelled order ${r} from storage`)),this.updateTrackedSymbols(),this.saveData()}updatePositionPnL(r,t){this.positionManager.updatePositionPnL(this.data.positions,r,t)}closePosition(r,t){const n=this.data.balance;this.log(`[PaperTradingService] Closing position - Initial balance: $${n.toFixed(2)}`);const i=this.positionManager.closePosition(this.data.positions,r,t);this.data.balance+=i.balanceChange,this.log(`[PaperTradingService] Updated balance: $${this.data.balance.toFixed(2)} (added proceeds: +$${i.balanceChange.toFixed(2)})`),this.tradeManager.addTrade(this.data.trades,i.trade),this.updateTrackedSymbols(),this.saveData(),this.log(`[PaperTradingService] Position close completed. Final balance: $${this.data.balance.toFixed(2)}`)}addCash(r){this.data.balance=this.balanceManager.addCash(this.data.balance,r),this.saveData()}removeCash(r){this.data.balance=this.balanceManager.removeCash(this.data.balance,r,this.data.orders),this.saveData()}setBalance(r){this.data.balance=this.balanceManager.setBalance(r,this.data.orders),this.saveData()}getPendingOrdersInfo(){return this.balanceManager.getPendingOrdersInfo(this.data.balance,this.data.orders)}clearAllTrades(){this.tradeManager.clearAllTrades(this.data.trades),this.saveData()}checkLimitOrders(r,t){this.checkLimitOrdersForSymbol(r,t)}reset(){this.data=this.dataStorageManager.getDefaultData(),this.updateTrackedSymbols(),this.saveData()}startPriceTrackingForPendingOrders(){this.isUIVisible=!0,this.log("[PaperTradingService] UI opened, starting price tracking for pending orders and positions...");const r=new Set;for(const i of this.data.orders)i.status===Kn.PENDING&&i.type===yn.LIMIT&&r.add(i.symbol);for(const i of this.data.positions)r.add(i.symbol);const t=this.data.orders.filter(i=>i.status===Kn.PENDING&&i.type===yn.LIMIT).map(i=>i.symbol),n=this.data.positions.map(i=>i.symbol);this.log(`[PaperTradingService] Found ${t.length} symbols with pending limit orders:`,t),this.log(`[PaperTradingService] Found ${n.length} symbols with open positions:`,n),this.log(`[PaperTradingService] Total ${r.size} unique symbols to track:`,Array.from(r));for(const i of r){let o=this.tickerInfoCache.get(i);if(!o){const s=this.data.orders.find(h=>h.symbol===i),u=this.data.positions.find(h=>h.symbol===i),d=(s==null?void 0:s.tickerType)||(u==null?void 0:u.tickerType);if(d){const h=this.createTickerInfo(i,d);h&&(o=h,this.tickerInfoCache.set(i,o))}}o?(this.log(`[PaperTradingService] Starting tracking for ${i} (type: ${o.type})`),this.priceTrackingService.trackSymbol(o)):this.logWarn(`[PaperTradingService] No ticker info available for ${i} - cannot track price`)}r.size===0&&this.log("[PaperTradingService] No pending orders or positions found, no price tracking needed")}stopPriceTrackingForUI(){this.isUIVisible=!1,this.log("[PaperTradingService] UI closed, stopping all price tracking..."),this.priceTrackingService.cleanup()}hasPendingLimitOrders(){return this.orderManager.hasPendingLimitOrders(this.data.orders)}hasItemsNeedingPriceTracking(){const r=this.orderManager.hasPendingLimitOrders(this.data.orders),t=this.positionManager.hasOpenPositions(this.data.positions);return r||t}isUICurrentlyVisible(){return this.isUIVisible}cleanup(){this.isUIVisible=!1,this.priceTrackingService.cleanup()}}const eN=async()=>null;class tN{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}save(r){this.log("[ExternalStorageProvider] Saving paper trading data via callback"),this.log("[ExternalStorageProvider] Data to save:",r),this.log("[ExternalStorageProvider] Data type:",typeof r),this.log("[ExternalStorageProvider] Data keys:",Object.keys(r||{})),this.logWarn("[ExternalStorageProvider] No save callback registered, data not saved")}load(){return this.log("[ExternalStorageProvider] Load called - use loadAsync() for external storage"),null}async loadAsync(){try{this.log("[ExternalStorageProvider] Loading paper trading data via callback");const r=await eN();return r?(this.log("[ExternalStorageProvider] Paper trading data loaded successfully"),r):(this.log("[ExternalStorageProvider] No paper trading data found"),null)}catch(r){return console.error("[ExternalStorageProvider] Error loading paper trading data:",r),null}}}var rN=ee("<div class=form-group><label></label><input type=number min=0 step=0.01>"),nN=ee("<div class=trade-form><div class=order-type-selector><button></button><button></button></div><div class=side-selector><button></button><button></button></div><div class=form-group><label></label><input type=number min=1 step=1></div><div class=order-summary><div class=summary-row><span>:</span><span></span></div></div><button> "),E5=ee("<div class=empty-state>"),iN=ee("<div class=positions-list>"),aN=ee("<div class=orders-list>"),oN=ee("<div class=empty-state><div class=empty-icon></div><div class=empty-title></div><div class=empty-subtitle>"),lN=ee("<div class=trades-header><button class=clear-trades-btn> "),sN=ee("<div class=trades-table-header><div class=header-symbol></div><div class=header-details><span class=header-qty></span><span class=header-price></span><span class=header-total></span></div><div class=header-time>"),cN=ee("<div class=trades-list>"),uN=ee("<div class=cash-warning>"),dN=ee('<div class=cash-management><div class=cash-form><div class=form-group><label></label><input type=number min=0 step=100></div><div class=form-group><label></label><select><option value=add></option><option value=remove></option></select></div><button> </button><button class="cash-operation-btn remove"style=margin-top:15px;background:#dc3545;border-color:#dc3545;></button></div><div class=pending-orders-summary><h4>'),hN=ee("<div class=paper-trading-container><div class=paper-trading-header><h3></h3><div class=balance>: </div></div><div class=current-ticker><div class=ticker-info><span class=symbol></span><span class=price></span></div></div><div class=tab-navigation><button></button><button> (<!>)</button><button> (<!>)</button><button> (<!>)</button><button></button></div><div class=tab-content>"),pN=ee("<div class=position-item><div class=position-header><span class=symbol></span><span></span></div><div class=position-details><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div></div><button class=close-position-btn>"),fN=ee("<div class=order-item><div class=order-header><span class=symbol></span><span></span><span class=type></span></div><div class=order-details><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div></div><button class=cancel-order-btn>"),gN=ee('<div class="trade-item compact"><div class=trade-row><div class=trade-symbol><span class=symbol></span><span> </span></div><div class=trade-details><span class=quantity></span><span class=price></span><span class=total></span></div><div class=trade-time><br>'),vN=ee("<div><div>: </div><div>: </div><div>: "),mN=ee("<div class=error-text>"),yN=ee("<div class=summary-details><div class=summary-row><span>:</span><span> (<!>)</span></div><div class=summary-row><span>:</span><span></span></div><div class=summary-row><span>:</span><span></span></div><div class=summary-row><span>:</span><span>");const xN=e=>{const[r,t]=ge([]),[n,i]=ge([]),[o,s]=ge([]),[u,d]=ge(1e4),[h,g]=ge(yn.MARKET),[v,y]=ge("buy"),[C,w]=ge(1),[_,E]=ge(e.currentPrice),[T,M]=ge("trade"),[I,D]=ge(""),[O,N]=ge(0),[F,V]=ge(1e3),[W,Z]=ge("add"),J=new i9(e.priceTrackingConfig),he=e.paperTradingUseExternalStorage?new tN(J.isLoggingEnabled()):new Fv,H=new JO(he,J,e.priceTrackingConfig,e.paperTradingMaxTrades),Y=(ye,...Fe)=>{J.isLoggingEnabled()&&console.log(ye,...Fe)},K=(ye,...Fe)=>{J.isLoggingEnabled()&&console.warn(ye,...Fe)},ne=()=>(O(),Be(e.ticker.ticker)),re=ye=>{O();const Fe=J.getCurrentPrice(ye.symbol);return Fe&&Fe>0?ye.side==="buy"?(Fe-ye.averagePrice)*ye.quantity:(ye.averagePrice-Fe)*ye.quantity:ye.unrealizedPnL};J.addPriceCallback(ye=>{N(Fe=>Fe+1),Q()}),Ba(async()=>{Y("[PaperTrading] Component mounted, setting up paper trading..."),e.paperTradingUseExternalStorage&&(Y("[PaperTrading] Using external storage, initializing async..."),await H.initializeAsync()),e.dataFeeds?(H.setDataFeeds(e.dataFeeds),Y("[PaperTrading] Set up multiple data feeds:",Array.from(e.dataFeeds.keys()))):e.dataFeed&&e.ticker.type?(H.setDataFeed(e.ticker.type.toString(),e.dataFeed),Y("[PaperTrading] Set up single data feed for:",e.ticker.type.toString())):K("[PaperTrading] No data feeds available!"),e.ticker.ticker&&(H.cacheTickerInfo(e.ticker),Y("[PaperTrading] Cached ticker info for:",e.ticker.ticker)),Q(),D(e.ticker.ticker),H.startPriceTrackingForPendingOrders()}),hi(()=>{Y("[PaperTrading] Component unmounting, stopping price tracking..."),H.stopPriceTrackingForUI()}),ct(()=>{if(e.ticker.ticker&&e.ticker.ticker!==I()){const ye=ne();E(ye||e.currentPrice),D(e.ticker.ticker),H.cacheTickerInfo(e.ticker)}}),ct(()=>{e.ticker.ticker&&e.currentPrice>0&&(H.updatePositionPnL(e.ticker.ticker,e.currentPrice),Q())});const Q=()=>{t(H.getOrders()),i(H.getPositions()),s(H.getTrades()),d(H.getBalance())},ue=()=>{var ye;if(!e.ticker.ticker||C()<=0)return;const Fe=ne(),He=h()===yn.MARKET?Fe:_();Y("[PaperTrading] Placing order:",{symbol:e.ticker.ticker,side:v(),quantity:C(),type:h(),price:He,currentPrice:Fe});try{const Ne=H.placeOrder({symbol:e.ticker.ticker,side:v(),quantity:C(),type:h(),price:He,currentPrice:Fe,tickerType:(ye=e.ticker.type)==null?void 0:ye.toString()});Y("[PaperTrading] Order placed successfully:",Ne),Q(),w(1),E(ne())}catch(Ne){console.error("Error placing order:",Ne),alert(Ne instanceof Error?Ne.message:"Error placing order")}},le=ye=>{try{const Fe=n().find(Ue=>Ue.id===ye);if(!Fe)throw new Error("Position not found");const He=u();Y(`[PaperTrading] BEFORE closing position - Balance: $${He.toFixed(2)}`),Y("[PaperTrading] Position to close:",Fe);const Ne=Be(Fe.symbol);if(Y(`[PaperTrading] Current price for ${Fe.symbol}: $${Ne}`),!Ne||Ne<=0)throw new Error(`Cannot close position: No current price available for ${Fe.symbol}. Please try again when price data is available.`);let ke=0;Fe.side==="buy"?ke=(Ne-Fe.averagePrice)*Fe.quantity:ke=(Fe.averagePrice-Ne)*Fe.quantity,Y(`[PaperTrading] Expected P&L: $${ke.toFixed(2)}`),Y(`[PaperTrading] Expected new balance: $${(He+ke).toFixed(2)}`),H.closePosition(ye,Ne),Q();const et=u(),Ft=et-He;Y(`[PaperTrading] AFTER closing position - Balance: $${et.toFixed(2)}`),Y(`[PaperTrading] Actual balance change: $${Ft.toFixed(2)}`),Y(`[PaperTrading] Expected vs Actual: Expected $${ke.toFixed(2)}, Got $${Ft.toFixed(2)}`)}catch(Fe){console.error("Error closing position:",Fe),alert(Fe instanceof Error?Fe.message:"Error closing position")}},j=ye=>{try{H.cancelOrder(ye),Q()}catch(Fe){console.error("Error canceling order:",Fe)}},ie=()=>{try{H.addCash(F()),Q(),V(1e3)}catch(ye){console.error("Error adding cash:",ye),alert(ye instanceof Error?ye.message:"Error adding cash")}},xe=()=>{try{H.removeCash(F()),Q(),V(1e3)}catch(ye){console.error("Error removing cash:",ye),alert(ye instanceof Error?ye.message:"Error removing cash")}},Me=()=>{try{H.reset(),Q(),Y("[PaperTrading] Account reset successfully")}catch(ye){console.error("Error resetting account:",ye),alert(ye instanceof Error?ye.message:"Error resetting account")}},Ie=()=>H.getPendingOrdersInfo(),Ae=ye=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ye),Je=(ye,Fe=2)=>ye.toFixed(Fe),Oe=ye=>ye>0?"#00C851":ye<0?"#FF4444":"#666",Be=ye=>{O();const Fe=J.getCurrentPrice(ye);return Fe&&Fe>0?(Y(`[PaperTrading] Using API price for ${ye}: $${Fe.toFixed(2)}`),Fe):ye===e.ticker.ticker?(Y(`[PaperTrading] Using chart price for ${ye}: $${e.currentPrice.toFixed(2)} (API price not available)`),e.currentPrice):(K(`[PaperTrading] No price available for ${ye}`),0)};return(()=>{var ye=hN(),Fe=ye.firstChild,He=Fe.firstChild,Ne=He.nextSibling,ke=Ne.firstChild,et=Fe.nextSibling,Ft=et.firstChild,Ue=Ft.firstChild,St=Ue.nextSibling,Gt=et.nextSibling,qt=Gt.firstChild,xt=qt.nextSibling,Cr=xt.firstChild,Qr=Cr.nextSibling;Qr.nextSibling;var Xr=xt.nextSibling,lr=Xr.firstChild,Tt=lr.nextSibling;Tt.nextSibling;var $t=Xr.nextSibling,Qt=$t.firstChild,Wr=Qt.nextSibling;Wr.nextSibling;var sr=$t.nextSibling,Ar=Gt.nextSibling;return B(He,()=>L("paper_trading",e.locale)),B(Ne,()=>L("balance",e.locale),ke),B(Ne,()=>Ae(u()),null),B(Ue,()=>e.ticker.ticker),B(St,()=>Ae(ne())),qt.$$click=()=>M("trade"),B(qt,()=>L("trade",e.locale)),xt.$$click=()=>M("positions"),B(xt,()=>L("positions",e.locale),Cr),B(xt,()=>n().length,Qr),Xr.$$click=()=>M("orders"),B(Xr,()=>L("orders",e.locale),lr),B(Xr,()=>r().length,Tt),$t.$$click=()=>M("trades"),B($t,()=>L("trades",e.locale),Qt),B($t,()=>o().length,Wr),sr.$$click=()=>M("cash"),B(sr,()=>L("cash",e.locale)),B(Ar,ae(ot,{get when(){return T()==="trade"},get children(){var mt=nN(),ze=mt.firstChild,Ct=ze.firstChild,gt=Ct.nextSibling,wt=ze.nextSibling,vt=wt.firstChild,Rt=vt.nextSibling,Ht=wt.nextSibling,pr=Ht.firstChild,Ot=pr.nextSibling,ut=Ht.nextSibling,Dr=ut.firstChild,ur=Dr.firstChild,Fr=ur.firstChild,Tn=ur.nextSibling,At=ut.nextSibling,zr=At.firstChild;return Ct.$$click=()=>g(yn.MARKET),B(Ct,()=>L("market",e.locale)),gt.$$click=()=>{g(yn.LIMIT),E(ne())},B(gt,()=>L("limit",e.locale)),vt.$$click=()=>y("buy"),B(vt,()=>L("buy",e.locale)),Rt.$$click=()=>y("sell"),B(Rt,()=>L("sell",e.locale)),B(pr,()=>L("quantity",e.locale)),Ot.$$input=Et=>w(Number(Et.target.value)),B(mt,ae(ot,{get when(){return h()===yn.LIMIT},get children(){var Et=rN(),wr=Et.firstChild,br=wr.nextSibling;return B(wr,()=>L("price",e.locale)),br.$$input=fr=>E(Number(fr.target.value)),We(()=>br.value=_()),Et}}),ut),B(ur,()=>L("estimated_total",e.locale),Fr),B(Tn,()=>Ae((h()===yn.MARKET?ne():_())*C())),At.$$click=ue,B(At,(()=>{var Et=be(()=>v()==="buy");return()=>Et()?L("buy",e.locale):L("sell",e.locale)})(),zr),B(At,()=>e.ticker.ticker,null),We(Et=>{var wr=`order-type-btn ${h()===yn.MARKET?"active":""}`,br=`order-type-btn ${h()===yn.LIMIT?"active":""}`,fr=`side-btn buy ${v()==="buy"?"active":""}`,cn=`side-btn sell ${v()==="sell"?"active":""}`,Yr=`place-order-btn ${v()}`,un=!e.ticker.ticker||C()<=0;return wr!==Et.e&&tr(Ct,Et.e=wr),br!==Et.t&&tr(gt,Et.t=br),fr!==Et.a&&tr(vt,Et.a=fr),cn!==Et.o&&tr(Rt,Et.o=cn),Yr!==Et.i&&tr(At,Et.i=Yr),un!==Et.n&&(At.disabled=Et.n=un),Et},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),We(()=>Ot.value=C()),mt}}),null),B(Ar,ae(ot,{get when(){return T()==="positions"},get children(){var mt=iN();return B(mt,ae(ot,{get when(){return n().length===0},get children(){var ze=E5();return B(ze,()=>L("no_open_positions",e.locale)),ze}}),null),B(mt,ae(Hi,{get each(){return n()},children:ze=>{const Ct=()=>(O(),Be(ze.symbol));return(()=>{var gt=pN(),wt=gt.firstChild,vt=wt.firstChild,Rt=vt.nextSibling,Ht=wt.nextSibling,pr=Ht.firstChild,Ot=pr.firstChild,ut=Ot.firstChild,Dr=Ot.nextSibling,ur=pr.nextSibling,Fr=ur.firstChild,Tn=Fr.firstChild,At=Fr.nextSibling,zr=ur.nextSibling,Et=zr.firstChild,wr=Et.firstChild,br=Et.nextSibling,fr=zr.nextSibling,cn=fr.firstChild,Yr=cn.firstChild,un=cn.nextSibling,dn=Ht.nextSibling;return B(vt,()=>ze.symbol),B(Rt,()=>ze.side.toUpperCase()),B(Ot,()=>L("quantity",e.locale),ut),B(Dr,()=>ze.quantity),B(Fr,()=>L("avg_price",e.locale),Tn),B(At,()=>Ae(ze.averagePrice)),B(Et,()=>L("current_price",e.locale),wr),B(br,()=>Ae(Ct())),B(cn,()=>L("pnl",e.locale),Yr),B(un,()=>Ae(re(ze))),dn.$$click=()=>le(ze.id),B(dn,()=>L("close_position",e.locale)),We(In=>{var ji=`side ${ze.side}`,Xi=Oe(re(ze));return ji!==In.e&&tr(Rt,In.e=ji),Xi!==In.t&&((In.t=Xi)!=null?un.style.setProperty("color",Xi):un.style.removeProperty("color")),In},{e:void 0,t:void 0}),gt})()}}),null),mt}}),null),B(Ar,ae(ot,{get when(){return T()==="orders"},get children(){var mt=aN();return B(mt,ae(ot,{get when(){return r().length===0},get children(){var ze=E5();return B(ze,()=>L("no_pending_orders",e.locale)),ze}}),null),B(mt,ae(Hi,{get each(){return r()},children:ze=>(()=>{var Ct=fN(),gt=Ct.firstChild,wt=gt.firstChild,vt=wt.nextSibling,Rt=vt.nextSibling,Ht=gt.nextSibling,pr=Ht.firstChild,Ot=pr.firstChild,ut=Ot.firstChild,Dr=Ot.nextSibling,ur=pr.nextSibling,Fr=ur.firstChild,Tn=Fr.firstChild,At=Fr.nextSibling,zr=ur.nextSibling,Et=zr.firstChild,wr=Et.firstChild,br=Et.nextSibling,fr=Ht.nextSibling;return B(wt,()=>ze.symbol),B(vt,()=>ze.side.toUpperCase()),B(Rt,()=>ze.type),B(Ot,()=>L("quantity",e.locale),ut),B(Dr,()=>ze.quantity),B(Fr,()=>L("price",e.locale),Tn),B(At,()=>Ae(ze.price)),B(Et,()=>L("status",e.locale),wr),B(br,()=>ze.status),fr.$$click=()=>j(ze.id),B(fr,()=>L("cancel_order",e.locale)),We(()=>tr(vt,`side ${ze.side}`)),Ct})()}),null),mt}}),null),B(Ar,ae(ot,{get when(){return T()==="trades"},get children(){var mt=cN();return B(mt,ae(ot,{get when(){return o().length===0},get children(){var ze=oN(),Ct=ze.firstChild,gt=Ct.nextSibling,wt=gt.nextSibling;return B(gt,()=>L("no_trades_executed",e.locale)),B(wt,()=>L("your_trade_history_will_appear_here",e.locale)),ze}}),null),B(mt,ae(ot,{get when(){return o().length>0},get children(){return[(()=>{var ze=lN(),Ct=ze.firstChild;return Ct.firstChild,Ct.$$click=()=>{const gt=L("are_you_sure_clear_trades",e.locale).replace("{count}",o().length.toString());confirm(gt)&&(H.clearAllTrades(),Q())},B(Ct,()=>L("clear_all_trades",e.locale),null),ze})(),(()=>{var ze=sN(),Ct=ze.firstChild,gt=Ct.nextSibling,wt=gt.firstChild,vt=wt.nextSibling,Rt=vt.nextSibling,Ht=gt.nextSibling;return B(Ct,()=>L("symbol_side",e.locale)),B(wt,()=>L("qty",e.locale)),B(vt,()=>L("price",e.locale)),B(Rt,()=>L("total",e.locale)),B(Ht,()=>L("date_time",e.locale)),ze})()]}}),null),B(mt,ae(Hi,{get each(){return o().sort((ze,Ct)=>Ct.timestamp-ze.timestamp)},children:ze=>(()=>{var Ct=gN(),gt=Ct.firstChild,wt=gt.firstChild,vt=wt.firstChild,Rt=vt.nextSibling,Ht=Rt.firstChild,pr=wt.nextSibling,Ot=pr.firstChild,ut=Ot.nextSibling,Dr=ut.nextSibling,ur=pr.nextSibling,Fr=ur.firstChild;return B(vt,()=>ze.symbol),B(Rt,()=>ze.side==="buy"?"":"",Ht),B(Rt,()=>ze.side.toUpperCase(),null),B(Ot,()=>Je(ze.quantity,ze.quantity<1?4:0)),B(ut,()=>Ae(ze.price)),B(Dr,()=>Ae(ze.price*ze.quantity)),B(ur,()=>new Date(ze.timestamp).toLocaleDateString([],{month:"short",day:"numeric"}),Fr),B(ur,()=>new Date(ze.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),null),We(()=>tr(Rt,`side-badge ${ze.side}`)),Ct})()}),null),mt}}),null),B(Ar,ae(ot,{get when(){return T()==="cash"},get children(){var mt=dN(),ze=mt.firstChild,Ct=ze.firstChild,gt=Ct.firstChild,wt=gt.nextSibling,vt=Ct.nextSibling,Rt=vt.firstChild,Ht=Rt.nextSibling,pr=Ht.firstChild,Ot=pr.nextSibling,ut=vt.nextSibling,Dr=ut.firstChild,ur=ut.nextSibling,Fr=ze.nextSibling,Tn=Fr.firstChild;return B(gt,()=>L("cash_amount",e.locale)),wt.$$input=At=>V(Number(At.target.value)),B(Rt,()=>L("operation",e.locale)),Ht.addEventListener("change",At=>Z(At.target.value)),B(pr,()=>L("add_cash",e.locale)),B(Ot,()=>L("remove_cash",e.locale)),B(ze,ae(ot,{get when(){return W()==="remove"},get children(){var At=uN();return B(At,()=>{const zr=Ie();if(zr.totalBuyOrdersValue>0){const Et=u()-F(),wr=Et<zr.totalBuyOrdersValue;return(()=>{var br=vN(),fr=br.firstChild,cn=fr.firstChild,Yr=fr.nextSibling,un=Yr.firstChild,dn=Yr.nextSibling,In=dn.firstChild;return tr(br,`warning ${wr?"error":"info"}`),B(fr,()=>L("pending_buy_orders",e.locale),cn),B(fr,()=>Ae(zr.totalBuyOrdersValue),null),B(Yr,()=>L("balance_after_removal",e.locale),un),B(Yr,()=>Ae(Et),null),B(dn,()=>L("max_safe_removal",e.locale),In),B(dn,()=>Ae(zr.maxCashRemoval),null),B(br,wr&&(()=>{var ji=mN();return B(ji,()=>L("insufficient_funds_warning",e.locale)),ji})(),null),br})()}return null}),At}}),ut),Wi(ut,"click",W()==="add"?ie:xe),B(ut,(()=>{var At=be(()=>W()==="add");return()=>At()?L("add",e.locale):L("remove",e.locale)})(),Dr),B(ut,()=>Ae(F()),null),ur.$$click=()=>{const At=L("reset_account_confirmation",e.locale).replace("{orders}",r().length.toString()).replace("{positions}",n().length.toString()).replace("{trades}",o().length.toString());confirm(At)&&(Me(),alert(L("reset_account_success",e.locale)))},B(ur,()=>L("reset_trading_account",e.locale)),B(Tn,()=>L("pending_orders_summary",e.locale)),B(Fr,()=>{const At=Ie();return(()=>{var zr=yN(),Et=zr.firstChild,wr=Et.firstChild,br=wr.firstChild,fr=wr.nextSibling,cn=fr.firstChild,Yr=cn.nextSibling;Yr.nextSibling;var un=Et.nextSibling,dn=un.firstChild,In=dn.firstChild,ji=dn.nextSibling,Xi=un.nextSibling,Qo=Xi.firstChild,ki=Qo.firstChild,vo=Qo.nextSibling,Jo=Xi.nextSibling,mo=Jo.firstChild,el=mo.firstChild,tl=mo.nextSibling;return B(wr,()=>L("pending_buy_orders_summary",e.locale),br),B(fr,()=>At.pendingBuyOrders.length,cn),B(fr,()=>Ae(At.totalBuyOrdersValue),Yr),B(dn,()=>L("pending_sell_orders_summary",e.locale),In),B(ji,()=>At.pendingSellOrders.length),B(Qo,()=>L("available_cash",e.locale),ki),B(vo,()=>Ae(At.availableCashAfterOrders)),B(mo,()=>L("max_cash_removal",e.locale),el),B(tl,()=>Ae(At.maxCashRemoval)),zr})()},null),We(At=>{var zr=`cash-operation-btn ${W()}`,Et=F()<=0;return zr!==At.e&&tr(ut,At.e=zr),Et!==At.t&&(ut.disabled=At.t=Et),At},{e:void 0,t:void 0}),We(()=>wt.value=F()),We(()=>Ht.value=W()),mt}}),null),We(mt=>{var ze=`tab ${T()==="trade"?"active":""}`,Ct=`tab ${T()==="positions"?"active":""}`,gt=`tab ${T()==="orders"?"active":""}`,wt=`tab ${T()==="trades"?"active":""}`,vt=`tab ${T()==="cash"?"active":""}`;return ze!==mt.e&&tr(qt,mt.e=ze),Ct!==mt.t&&tr(xt,mt.t=Ct),gt!==mt.a&&tr(Xr,mt.a=gt),wt!==mt.o&&tr($t,mt.o=wt),vt!==mt.i&&tr(sr,mt.i=vt),mt},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),ye})()};Er(["click","input"]);var li=(e=>(e.ONE_X="1x",e.TWO_X="0.5x",e.THREE_X="0.3x",e.FIVE_X="0.2x",e.TEN_X="0.1x",e))(li||{});function M5(e,r){switch(e){case li.ONE_X:return L("1 upd per 1 sec",r);case li.TWO_X:return L("1 upd per 2 sec",r);case li.THREE_X:return L("1 upd per 3 sec",r);case li.FIVE_X:return L("1 upd per 5 sec",r);case li.TEN_X:return L("1 upd per 10 sec",r)}return e}function CN(e){return[{key:li.ONE_X,text:L("1 upd per 1 sec",e)},{key:li.TWO_X,text:L("1 upd per 2 sec",e)},{key:li.THREE_X,text:L("1 upd per 3 sec",e)},{key:li.FIVE_X,text:L("1 upd per 5 sec",e)},{key:li.TEN_X,text:L("1 upd per 10 sec",e)}]}function wN(e){const r={[li.ONE_X]:1e3,[li.TWO_X]:2e3,[li.THREE_X]:3e3,[li.FIVE_X]:5e3,[li.TEN_X]:1e4};return e in r?r[e]:(console.error(`Invalid replay speed key: ${e}`),0)}var bN=ee("<div class=chartspire-ui-alert-container><div class=alert><div class=messagebox><p>");function _N(e){const r="Select starting candle by clicking on candle";return(()=>{var t=bN(),n=t.firstChild,i=n.firstChild,o=i.firstChild;return B(o,()=>e.message!==""?e.message:r),t})()}const kN=e=>{const[r,t]=ge(e.replaySpeed),n=be(()=>CN(e.locale)),i=`Replay ${e.chartId}`,o=()=>{e.replayCandle!=null&&(e.onPause!=null&&e.onPause(!1),e.onPlay!=null&&(e.onPlay(!0),e.setReplaySpeed(r())))},s=()=>{e.onPause!=null&&e.onPause(!0),e.onPlay!=null&&e.onPlay(!1)},u=()=>{e.onClose!=null&&e.onClose(),console.warn("handle close: replay closed")},d=()=>{e.skipReplay!=null&&e.skipReplay(!0)};return ct(()=>{e.setReplaySpeed(r())}),ae(ot,{get when(){return e.isActive},get children(){return ae(ot,{get when(){return e.replayModalVisible},get children(){return[ae(ot,{get when(){return e.isAlertVisible},get children(){return ae(_N,{get message(){return e.alertMessage}})}}),ae(aF,{title:i,width:380,onClose:u,get isPLaying(){return e.isPlaying},get buttons(){return[e.isPlaying()?{children:"Pause",onClick:()=>{s()}}:{children:"Play",onClick:()=>{o()}},{children:">>",onClick:()=>{d()}}]},get children(){return ae(Xd,{style:{width:"100%"},get value(){return r().key},onSelected:h=>{t(h)},get dataSource(){return n()}})}})]}})}})};var SN=ee('<svg viewBox="0 0 1024 1024"class=icon stroke-width=10><path d="M512 0L627.2 384H1024L748.8 640L864 1024L512 768L160 1024L275.2 640L0 384H396.8L512 0z">'),EN=ee("<div class=indicator-item><li class=row>"),T5=ee("<li class=title>");const MN=e=>(()=>{var r=SN();return Wi(r,"click",e.onClick),We(t=>{var n=e.selected?"yellow":"none",i=e.selected?"yellow":"#76808F";return n!==t.e&&Ye(r,"fill",t.e=n),i!==t.t&&Ye(r,"stroke",t.t=i),t},{e:void 0,t:void 0}),r})(),TN=e=>(()=>{var r=EN(),t=r.firstChild;return B(r,ae(MN,{get selected(){return e.isSelected},get onClick(){return e.onStarClick}}),t),Wi(t,"click",e.onClick),B(t,ae(BD,{get checked(){return e.isChecked},get label(){return L(e.name.toLowerCase(),e.locale)}})),r})(),IN=e=>{const[r,t]=ge(""),n=()=>{const v=r().toLowerCase();return[...H2().map(y=>y.name)].filter(y=>L(y.toLowerCase(),e.locale).toLowerCase().includes(v)).sort((y,C)=>{const w=L(y.toLowerCase(),e.locale).toLowerCase(),_=L(C.toLowerCase(),e.locale).toLowerCase();return w.localeCompare(_)})},i=localStorage.getItem("chartspire-favIndicators"),o=i?JSON.parse(i):[],[s,u]=ge(o),d=()=>s().filter(v=>e.mainIndicators().includes(v)||v in e.subIndicators()||[...H2().map(y=>y.name)].includes(v)).sort((v,y)=>{const C=L(v.toLowerCase(),e.locale).toLowerCase(),w=L(y.toLowerCase(),e.locale).toLowerCase();return C.localeCompare(w)}),h=v=>{u(y=>{const C=y.includes(v),w=C?y.filter(_=>_!==v):[...y,v];return e.mainIndicators().includes(v)?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!C}):v in e.subIndicators()&&(e.subIndicators()[v]||e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!C})),localStorage.setItem("chartspire-favIndicators",JSON.stringify(w)),w})},g=v=>{const y=e.mainIndicators().includes(v),C=v in e.subIndicators(),w=y||C,_=d().includes(v);return ae(TN,{name:v,isSelected:_,isChecked:w,onClick:()=>{y?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!w}):C?e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!w}):Rp.includes(v)?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!w}):Od.includes(v)&&e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!w})},onStarClick:()=>h(v),get locale(){return e.locale}})};return ae(Gl,{get title(){return L("indicator",e.locale)},width:600,contentHeight:"90%",get onClose(){return e.onClose},get children(){return[ae(Wl,{style:{width:"100%"},get value(){return r()},onInput:v=>t(v.target.value)}),ae(xy,{class:"chartspire-ui-indicator-modal-list",get children(){return[be(()=>be(()=>d().length>0)()&&(()=>{var v=T5();return B(v,()=>L("favourites",e.locale)),v})()),be(()=>d().map(g)),(()=>{var v=T5();return B(v,()=>L("Indicators",e.locale)),v})(),be(()=>n().map(g))]}})]}})};Er(["click"]);const LN=e=>(e.widget==null&&console.error("widget is null"),ae(ot,{get when(){return e.indicatorModalVisible},get children(){return ae(IN,{get locale(){return e.locale},get mainIndicators(){return e.mainIndicators},get subIndicators(){return e.subIndicators},onClose:()=>{e.setIndicatorModalVisible(!1)},onMainIndicatorChange:r=>{var t;const n=[...e.mainIndicators()];r.added?(e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&Up(e.widget,r.name,!0,!0,{id:"candle_pane"}),n.push(r.name)):((t=e.widget)==null||t.removeIndicator({paneId:"candle_pane",name:r.name}),n.splice(n.indexOf(r.name),1),e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(e.widget).saveIndicators()),e.setMainIndicators(n)},onSubIndicatorChange:r=>{var t;const n={...e.subIndicators()};if(r.added){const i=Up(e.widget,r.name,!0);i&&(n[r.name]=i)}else r.paneId&&((t=e.widget)==null||t.removeIndicator({paneId:r.paneId,name:r.name}),delete n[r.name],e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(e.widget).saveIndicators());e.setSubIndicators(n)}})}}));var $=(e=>(e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.TWO_VERTICAL=21]="TWO_VERTICAL",e[e.THREE=3]="THREE",e[e.THREE_VERTICAL=31]="THREE_VERTICAL",e[e.THREE_MIXED=32]="THREE_MIXED",e[e.THREE_MIXED_REVERSE=33]="THREE_MIXED_REVERSE",e[e.THREE_MIXED_BOTTOM=34]="THREE_MIXED_BOTTOM",e[e.THREE_MIXED_TOP=35]="THREE_MIXED_TOP",e[e.FOUR=4]="FOUR",e[e.FOUR_VERTICAL=41]="FOUR_VERTICAL",e[e.FOUR_HORIZONTAL=42]="FOUR_HORIZONTAL",e[e.FOUR_MIXED=43]="FOUR_MIXED",e[e.FOUR_MIXED_REVERSE=44]="FOUR_MIXED_REVERSE",e[e.FOUR_MIXED_TOP=45]="FOUR_MIXED_TOP",e[e.FOUR_MIXED_BOTTOM=46]="FOUR_MIXED_BOTTOM",e[e.FIVE_VERTICAL=51]="FIVE_VERTICAL",e[e.FIVE_HORIZONTAL=52]="FIVE_HORIZONTAL",e[e.FIVE_MIXED=53]="FIVE_MIXED",e[e.FIVE_MIXED_REVERSE=54]="FIVE_MIXED_REVERSE",e[e.FIVE_MIXED_TOP=55]="FIVE_MIXED_TOP",e[e.SIX=6]="SIX",e[e.SIX_HORIZONTAL=62]="SIX_HORIZONTAL",e[e.SIX_VERTICAL=61]="SIX_VERTICAL",e[e.SIX_MIXED=63]="SIX_MIXED",e[e.SEVEN_VERTICAL=71]="SEVEN_VERTICAL",e[e.SEVEN_HORIZONTAL=72]="SEVEN_HORIZONTAL",e[e.EIGHT=8]="EIGHT",e[e.EIGHT_VERTICAL=81]="EIGHT_VERTICAL",e[e.EIGHT_HORIZONTAL=82]="EIGHT_HORIZONTAL",e[e.NINE=9]="NINE",e[e.NINE_VERTICAL=91]="NINE_VERTICAL",e[e.NINE_HORIZONTAL=92]="NINE_HORIZONTAL",e[e.TEN=10]="TEN",e[e.TEN_VERTICAL=101]="TEN_VERTICAL",e[e.TEN_HORIZONTAL=102]="TEN_HORIZONTAL",e[e.TWELVE=12]="TWELVE",e[e.TWELVE_VERTICAL=121]="TWELVE_VERTICAL",e[e.TWELVE_HORIZONTAL=122]="TWELVE_HORIZONTAL",e[e.TWELVE_GRID=123]="TWELVE_GRID",e[e.FOURTEEN=14]="FOURTEEN",e[e.SIXTEEN=16]="SIXTEEN",e))($||{});let Ra=!1;const Oa=new Set;let Gn=null;const Rv=()=>{console.log("Resetting mounted charts tracking"),Oa.clear(),Oa.add(1)},a9=()=>{document.visibilityState==="visible"&&Rv()};document.addEventListener("visibilitychange",a9);const PN=()=>{console.log("Cleaning up multiChart listeners"),document.removeEventListener("visibilitychange",a9),Gn&&(clearTimeout(Gn),Gn=null),Ra=!1,Oa.clear()},AN=(e,r,t,n)=>{Ra=!0,Gn&&(console.log("[DEBUG] Clearing existing safety timeout"),clearTimeout(Gn),Gn=null),Gn=setTimeout(()=>{Ra&&(console.log("[SAFETY] Resetting stuck isUpdating flag"),Ra=!1),Gn=null},(Math.abs(r-e)+1)*t+1e3);const i=o=>{if(e<r){if(o<=r){if(Oa.has(o)?console.log(`Chart ${o} already mounted, skipping`):(console.log(`Mounting chart ${o}`),Oa.add(o),qp(o===r&&n&&n!==r?n:o)),o<r)setTimeout(()=>{i(o+1)},t);else if(Gn&&(clearTimeout(Gn),Gn=null),Ra=!1,o===r){Oa.clear();for(let s=1;s<=r;s++)Oa.add(s)}}}else if(o>=r){if(qp(o===r&&n&&n!==r?n:o),o>r)setTimeout(()=>{i(o-1)},t);else if(Gn&&(clearTimeout(Gn),Gn=null),Ra=!1,o===r){Oa.clear();for(let s=1;s<=r;s++)Oa.add(s)}}};i(e<r?e:e-1)},I5=e=>{switch(e){case 1:return 1;case 2:return 2;case 21:return 2;case 3:return 3;case 31:return 3;case 32:return 3;case 33:return 3;case 34:return 3;case 35:return 3;case 4:return 4;case 41:return 4;case 42:return 4;case 43:return 4;case 44:return 4;case 45:return 4;case 46:return 4;case 51:return 5;case 52:return 5;case 53:return 5;case 54:return 5;case 55:return 5;case 6:return 6;case 62:return 6;case 61:return 6;case 63:return 6;case 71:return 7;case 72:return 7;case 8:return 8;case 81:return 8;case 82:return 8;case 9:return 9;case 91:return 9;case 92:return 9;case 10:return 10;case 101:return 10;case 102:return 10;case 12:return 12;case 121:return 12;case 122:return 12;case 123:return 12;case 14:return 14;case 16:return 16;default:return e}},DN=(e,r)=>{console.warn("Initial delay",r);const t=P0();if(console.log(`[DEBUG] onMultiChartClick called: value=${e}, currentMultiChart=${t}, isUpdating=${Ra}`),Oa.has(2)&&t===1&&(console.log("Invalid state detected - resetting chart tracking"),Rv()),e===t){console.log(`Already in layout ${e}, ignoring click`);return}Ra&&(console.log("[DEBUG] Forcing reset of isUpdating flag to allow new transition"),Ra=!1),Gn&&(console.log("[DEBUG] Clearing existing safety timeout from previous operation"),clearTimeout(Gn),Gn=null),console.log(`[DEBUG] Proceeding with layout switch from ${t} to ${e}`);const n=I5(t),i=I5(e);console.log(`[DEBUG] Starting switch: currentEffectiveCount=${n}, targetEffectiveCount=${i}`),n===i?(console.log(`[DEBUG] Same chart count detected (${n}), using direct switch`),console.log("[DEBUG] Setting isUpdating=true for direct switch"),Ra=!0,setTimeout(()=>{console.log(`[DEBUG] Executing direct switch to layout ${e}`),qp(e),console.log("[DEBUG] Setting isUpdating=false after direct switch"),Ra=!1,console.log(`[DEBUG] Direct switch completed to layout ${e}`),Oa.clear();for(let o=1;o<=i;o++)Oa.add(o);console.log(`[DEBUG] Mounted charts reset for ${i} charts`)},r)):(Ra=!0,AN(n,i,r,e))},kd=class Hc{constructor(){Re(this,"activeCharts",new Map)}static getInstance(){return Hc.instance}static setEnabled(r){Hc.enabled=r}static isEnabled(){return Hc.enabled}static setTimeSyncEnabled(r){Hc.timeSyncEnabled=r}static isTimeSyncEnabled(){return Hc.timeSyncEnabled}registerChart(r,t,n,i){this.activeCharts.set(r,{chart:t,ticker:n,type:i})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n){const i=this.activeCharts.get(r);i&&(i.ticker=t,i.type=n)}updateChartStyles(r,t){const n=this.activeCharts.get(r);n&&n.chart.setStyles(t)}hasSameTicker(r,t){const n=this.activeCharts.get(r),i=this.activeCharts.get(t);if(!n||!i||!n.ticker||!i.ticker)return!1;const o=n.ticker===i.ticker;return n.type===void 0&&i.type===void 0?o:o&&n.type===i.type}configureCrosshair(r,t){var n;try{const i=r.getStyles(),o=JSON.parse(JSON.stringify(i));(n=o==null?void 0:o.crosshair)!=null&&n.vertical&&(t?(o.crosshair.horizontal.show=!0,o.crosshair.horizontal.line.show=!0):(o.crosshair.horizontal.show=!1,o.crosshair.horizontal.line.show=!1),r.setStyles(o))}catch(i){console.error("Error configuring crosshair:",i)}}resetCrosshairVisibility(r){try{const t=this.activeCharts.get(r);if(!t)return;const n={crosshair:{show:!0,horizontal:{show:!0,line:{show:!0}},vertical:{show:!0,line:{show:!0}}}};t.chart.setStyles(n);const i=t.chart.getStyles();if(i){const o=JSON.parse(JSON.stringify(i));o.crosshair&&(o.crosshair.show=!0,o.crosshair.vertical&&(o.crosshair.vertical.show=!0,o.crosshair.vertical.line.show=!0),o.crosshair.horizontal&&(o.crosshair.horizontal.show=!0,o.crosshair.horizontal.line.show=!0),t.chart.setStyles(o))}}catch(t){console.error("Error resetting crosshair visibility:",t)}}getSafeVisibleIndices(r,t){const n=typeof r.realFrom=="number"?r.realFrom:r.from,i=typeof r.realTo=="number"?r.realTo:r.to,o=Math.max(0,Math.min(n,t-1)),s=Math.max(0,Math.min(i,t-1));return{safeFromIndex:o,safeToIndex:s}}findVisibleTimestamp(r,t,n){try{const i=r.getDataList();if(!i||i.length===0)return null;const o=r.getVisibleRange();if(!o)return null;const{safeFromIndex:s,safeToIndex:u}=this.getSafeVisibleIndices(o,i.length);if(s>u)return null;const d=i[s].timestamp,h=i[u].timestamp;if(t<=d)return d;if(t>=h)return h;for(let w=s;w<=u;w++)if(i[w].timestamp===t)return i[w].timestamp;const g=h-d;if(g<=0)return d;const v=(t-d)/g,y=Math.floor(s+v*(u-s)),C=Math.max(s,Math.min(u,y));return i[C].timestamp}catch(i){return console.error("Error finding visible timestamp:",i),null}}checkTimestampStatus(r,t){try{const n=r.getDataList();if(!n||n.length===0)return{exists:!1,dataIndex:-1,isVisible:!1};const i=n.findIndex(h=>h.timestamp===t);if(i===-1)return{exists:!1,dataIndex:-1,isVisible:!1};const o=r.getVisibleRange();if(!o)return{exists:!0,dataIndex:i,isVisible:!1};const{safeFromIndex:s,safeToIndex:u}=this.getSafeVisibleIndices(o,n.length),d=i>=s&&i<=u;return{exists:!0,dataIndex:i,isVisible:d}}catch(n){return console.error("Error checking timestamp status:",n),{exists:!1,dataIndex:-1,isVisible:!1}}}clearCrosshair(r,t){try{r.executeAction(ci.OnCrosshairChange,{paneId:t,x:void 0,y:void 0})}catch(n){console.error("Error clearing crosshair:",n)}}extractPriceValue(r,t){var n,i;if(!(!t||!r.paneId)){if(r.y!==void 0)try{const o=t.convertFromPixel([{y:r.y}],{paneId:r.paneId});if(o&&Array.isArray(o)&&((n=o[0])==null?void 0:n.value)!==void 0)return o[0].value}catch(o){console.error("Error converting Y to price, trying fallback",o)}return(i=r.kLineData)==null?void 0:i.close}}showCrosshair(r,t,n,i,o,s){try{const u=r.getDom(n);if(!u)return!1;const d=u.getBoundingClientRect(),h=i!==void 0?r.convertToPixel({timestamp:t,value:i},{paneId:n}):r.convertToPixel({timestamp:t},{paneId:n});if(!h)return!1;const g=Array.isArray(h)?h[0]:h;if(typeof(g==null?void 0:g.x)!="number")return!1;let v;return typeof(g==null?void 0:g.y)=="number"?v=g.y:s!==void 0&&s>=0&&s<=1?v=Math.floor(d.height*s):o!==void 0?v=o:v=Math.floor(d.height/2),v=Math.max(0,Math.min(d.height,v)),r.executeAction(ci.OnCrosshairChange,{paneId:n,x:g.x,y:v}),!0}catch(u){return console.error("Error showing crosshair:",u),!1}}calculateYPercentage(r,t,n){if(n===void 0||!r)return;const i=r.getDom(t);if(!i)return;const o=i.getBoundingClientRect();return o.height>0?n/o.height:void 0}syncCrosshair(r,t){if(!Hc.enabled||!t||!t.paneId||t.timestamp===void 0||this.activeCharts.size<=1)return;const n=t.timestamp,i=t.paneId,o=this.activeCharts.get(r);if(!o)return;const s=o.chart,u=this.extractPriceValue(t,s),d=this.calculateYPercentage(s,i,t.y);this.activeCharts.forEach((h,g)=>{if(g===r)return;const v=h.chart;try{const y=this.hasSameTicker(r,g);this.configureCrosshair(v,y);const C=this.checkTimestampStatus(v,n);let w=!1;if(C.exists&&C.isVisible&&(w=this.showCrosshair(v,n,i,u,t.y,d)),!w){const _=this.findVisibleTimestamp(v,n,i);_&&(w=this.showCrosshair(v,_,i,u,t.y,d))}w||this.clearCrosshair(v,i)}catch(y){console.error(`Error syncing chart ${g}:`,y)}})}};Re(kd,"instance",new kd),Re(kd,"enabled",!1),Re(kd,"timeSyncEnabled",!1);let Ov=kd;const o9=()=>Ov.getInstance(),FN=e=>{Ov.setEnabled(e)},RN=()=>Ov.isEnabled(),kp=class Sd{constructor(){Re(this,"activeCharts",new Map)}static getInstance(){return Sd.instance}static setEnabled(r){Sd.enabled=r}static isEnabled(){return Sd.enabled}registerChart(r,t,n,i){this.activeCharts.set(r,{chart:t,ticker:n,type:i})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n){const i=this.activeCharts.get(r);i&&(i.ticker=t,i.type=n)}findClosestTimestamp(r,t){try{const n=r.getDataList();if(!n||n.length===0)return null;let i=0,o=n.length-1,s=n[0].timestamp,u=Math.abs(n[0].timestamp-t);for(;i<=o;){const h=Math.floor((i+o)/2),g=n[h].timestamp,v=Math.abs(g-t);if(v<u&&(u=v,s=g),g===t)return g;g<t?i=h+1:o=h-1}const d=Math.round(u/(1e3*60));return s}catch(n){return console.error("Error finding closest timestamp:",n),null}}isTimestampVisible(r,t){try{const n=r.getVisibleRange();if(!n)return!1;const i=r.getDataList();if(!i||i.length===0)return!1;const o=Math.max(0,Math.min(n.from||0,i.length-1)),s=Math.max(0,Math.min(n.to||i.length-1,i.length-1));if(o>s)return!1;const u=i[o].timestamp,d=i[s].timestamp,h=t>=u&&t<=d;if(!h){const g=this.findClosestTimestamp(r,t);if(g)return g>=u&&g<=d}return h}catch(n){return console.error("Error checking timestamp visibility:",n),!1}}scrollToTimestamp(r,t){try{const n=r.getVisibleRange();if(!n)return r.scrollToTimestamp(t),!0;const i=r.getDataList();if(!i||i.length===0)return!1;const o=Math.max(0,Math.min(n.from||0,i.length-1)),s=Math.max(0,Math.min(n.to||i.length-1,i.length-1))-o+1;let u=i.findIndex(g=>g.timestamp===t);if(u===-1){let g=0,v=Math.abs(i[0].timestamp-t);for(let y=1;y<i.length;y++){const C=Math.abs(i[y].timestamp-t);C<v&&(v=C,g=y)}u=g}const d=Math.min(u+s-1,i.length-1),h=i[d].timestamp;return r.scrollToTimestamp(h),!0}catch(n){return console.error("Error scrolling to timestamp:",n),!1}}syncTime(r,t){!Sd.enabled||this.activeCharts.size<=1||!this.activeCharts.get(r)||this.activeCharts.forEach((n,i)=>{if(i===r)return;const o=n.chart;try{const s=this.findClosestTimestamp(o,t);if(!s)return;if(s!==t){const d=Math.abs(s-t),h=Math.round(d/(1e3*60))}if(this.isTimestampVisible(o,s))return;const u=this.scrollToTimestamp(o,s)}catch(s){console.error(`Error syncing chart ${i}:`,s)}})}};Re(kp,"instance",new kp),Re(kp,"enabled",!1);let Nv=kp;const l9=()=>Nv.getInstance(),ON=e=>{Nv.setEnabled(e)},NN=()=>Nv.isEnabled(),Sp=class T0{constructor(){Re(this,"activeCharts",new Map)}static getInstance(){return T0.instance}static setEnabled(r){T0.enabled=r}static isEnabled(){return T0.enabled}registerChart(r,t,n,i,o,s){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o,onTickerChange:s})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.ticker=t,o.type=n,i!==void 0&&(o.interval=i))}updateTickerChangeCallback(r,t){const n=this.activeCharts.get(r);n&&(n.onTickerChange=t)}syncAllToActiveTicker(r){if(!T0.enabled||this.activeCharts.size<=1)return;const t=this.activeCharts.get(r);if(!t||!t.ticker)return;const{ticker:n,type:i}=t;this.activeCharts.forEach((o,s)=>{if(s!==r&&!(o.ticker===n&&o.type===i))try{o.ticker=n,o.type=i,o.onTickerChange&&o.onTickerChange(n,i)}catch(u){console.error(`Error updating ticker for chart ${s}:`,u)}})}onTickerChange(r,t,n){this.updateChartTicker(r,t,n),T0.enabled&&this.syncAllToActiveTicker(r)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartTicker(r){const t=this.activeCharts.get(r);if(t)return{ticker:t.ticker,type:t.type,interval:t.interval}}};Re(Sp,"instance",new Sp),Re(Sp,"enabled",!1);let zv=Sp;const Bv=()=>zv.getInstance(),zN=e=>{zv.setEnabled(e)},BN=()=>zv.isEnabled(),Ep=class I0{constructor(){Re(this,"activeCharts",new Map)}static getInstance(){return I0.instance}static setEnabled(r){I0.enabled=r}static isEnabled(){return I0.enabled}registerChart(r,t,n,i,o,s){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o,onIntervalChange:s})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartInterval(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.interval=t,n!==void 0&&(o.ticker=n),i!==void 0&&(o.type=i))}updateIntervalChangeCallback(r,t){const n=this.activeCharts.get(r);n&&(n.onIntervalChange=t)}syncAllToActiveInterval(r){if(!I0.enabled||this.activeCharts.size<=1)return;const t=this.activeCharts.get(r);if(!t||!t.interval)return;const{interval:n}=t;this.activeCharts.forEach((i,o)=>{if(o!==r&&!(i.interval&&i.interval.multiplier===n.multiplier&&i.interval.timespan===n.timespan))try{i.interval=n,i.onIntervalChange&&i.onIntervalChange(n)}catch(s){console.error(`Error updating interval for chart ${o}:`,s)}})}onIntervalChange(r,t){this.updateChartInterval(r,t),I0.enabled&&this.syncAllToActiveInterval(r)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartInterval(r){const t=this.activeCharts.get(r);if(t)return{interval:t.interval,ticker:t.ticker,type:t.type}}};Re(Ep,"instance",new Ep),Re(Ep,"enabled",!1);let Vv=Ep;const $v=()=>Vv.getInstance(),VN=e=>{Vv.setEnabled(e)},$N=()=>Vv.isEnabled(),Mp=class Ed{constructor(){Re(this,"activeCharts",new Map),Re(this,"syncingOverlays",new Set)}static getInstance(){return Ed.instance}static setEnabled(r){Ed.enabled=r}static isEnabled(){return Ed.enabled}registerChart(r,t,n,i,o){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.ticker=t,o.type=n,i!==void 0&&(o.interval=i))}updateChartInterval(r,t){const n=this.activeCharts.get(r);n&&(n.interval=t.text||`${t.multiplier}${t.timespan}`)}hasSameTicker(r,t){const n=this.activeCharts.get(r),i=this.activeCharts.get(t);if(!n||!i||!n.ticker||!i.ticker)return!1;const o=n.ticker===i.ticker;return n.type===void 0&&i.type===void 0?o:o&&n.type===i.type}generateOverlayId(r){if(r.groupId)return`${r.name}_${r.groupId}`;const t=(r.points||[]).map(n=>`${n.timestamp}_${n.value}`).join("|");return`${r.name}_${t}_${r.extendData?JSON.stringify(r.extendData):""}`}onOverlayCreated(r,t){this.syncDrawing(r,t,"create")}onOverlayUpdated(r,t){this.syncDrawing(r,t,"update")}onOverlayRemoved(r,t){this.syncDrawing(r,t,"remove")}syncDrawing(r,t,n){if(!Ed.enabled||this.activeCharts.size<=1)return;const i=this.generateOverlayId(t);if(!this.syncingOverlays.has(i)){this.syncingOverlays.add(i);try{if(!this.activeCharts.get(r))return;this.activeCharts.forEach((o,s)=>{if(s!==r)try{if(!this.hasSameTicker(r,s))return;const u=o.chart;switch(n){case"create":this.createOverlayOnChart(u,t,s);break;case"update":this.updateOverlayOnChart(u,t,s);break;case"remove":this.removeOverlayFromChart(u,t,s);break}}catch(u){console.error(`Error syncing drawing to chart ${s}:`,u)}})}finally{setTimeout(()=>{this.syncingOverlays.delete(i)},100)}}}createOverlayOnChart(r,t,n){try{const i={...t,points:t.points?[...t.points]:[],extendData:t.extendData?JSON.parse(JSON.stringify(t.extendData)):void 0};delete i.id,r.createOverlay(i)}catch(i){console.error(`Error creating overlay on chart ${n}:`,i)}}updateOverlayOnChart(r,t,n){try{const i=r.getOverlays(),o=[];i&&typeof i.forEach=="function"&&i.forEach(s=>{s.forEach(u=>{const d=u.name===t.name,h=t.groupId&&u.groupId===t.groupId;(t.groupId&&h&&d||!t.groupId&&d&&this.overlaysAreSimilarForUpdate(u,t))&&o.push(u)})}),o.forEach(s=>{s.id&&r.removeOverlay({id:s.id})}),this.createOverlayOnChart(r,t,n)}catch(i){console.error(`Error updating overlay on chart ${n}:`,i)}}removeOverlayFromChart(r,t,n){try{const i=r.getOverlays(),o=[];i&&typeof i.forEach=="function"&&i.forEach(s=>{s.forEach(u=>{u.name===t.name&&this.overlaysAreSimilar(u,t)&&o.push(u)})}),o.forEach(s=>{s.id&&r.removeOverlay({id:s.id})})}catch(i){console.error(`Error removing overlay from chart ${n}:`,i)}}overlaysAreSimilar(r,t){if(r.name!==t.name)return!1;if(r.points&&t.points){if(r.points.length!==t.points.length)return!1;for(let n=0;n<r.points.length;n++){const i=r.points[n],o=t.points[n];if(i.timestamp!==o.timestamp)return!1;if(i.value!==void 0&&o.value!==void 0){const s=Math.abs(i.value-o.value),u=Math.max(i.value,o.value)*.001;if(s>u)return!1}}}return!0}overlaysAreSimilarForUpdate(r,t){return!(r.name!==t.name||r.points&&t.points&&r.points.length!==t.points.length)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartTicker(r){const t=this.activeCharts.get(r);if(t)return{ticker:t.ticker,type:t.type,interval:t.interval}}};Re(Mp,"instance",new Mp),Re(Mp,"enabled",!1);let Wv=Mp;const $d=()=>Wv.getInstance(),WN=e=>{Wv.setEnabled(e)},HN=()=>Wv.isEnabled();var UN=ee('<div class=chartspire-ui-svg-container><div class=item><span>1</span><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><rect width=41 height=40 fill=none stroke=currentColor rx=4 transform="translate(.5 .5)"></rect></svg></div><div class="item two-chart-row"><span>2</span><div class=two-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path></g></svg></div></div><div class="item three-chart-row"><span>3</span><div class=three-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M13 0v40"></path><path d="M28 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 28h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 20h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 20h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M20.5 0v20"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M20.5 20v20"></path></g></svg></div></div><div class="item four-chart-row"><span>4</span><div class=four-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M20 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 10h41"></path><path d="M0 20h41"></path><path d="M0 30h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M10 0v40"></path><path d="M20 0v40"></path><path d="M30 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 13h20.5"></path><path d="M20.5 27h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 13h20.5"></path><path d="M0 27h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M13.5 20v20"></path><path d="M27 20v20"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M13.5 0v20"></path><path d="M27 0v20"></path></g></svg></div></div><div class="item five-chart-row"><span>5</span><div class=five-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 8h41"></path><path d="M0 16h41"></path><path d="M0 24h41"></path><path d="M0 32h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M8 0v40"></path><path d="M16 0v40"></path><path d="M24 0v40"></path><path d="M32 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 10h20.5"></path><path d="M20.5 20h20.5"></path><path d="M20.5 30h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 10h20.5"></path><path d="M0 20h20.5"></path><path d="M0 30h20.5"></path></g></svg></div></div><div class="item six-chart-row"><span>6</span><div class=six-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M13 0v41M27 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M7 0v40"></path><path d="M14 0v40"></path><path d="M21 0v40"></path><path d="M28 0v40"></path><path d="M35 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 7h41"></path><path d="M0 14h41"></path><path d="M0 21h41"></path><path d="M0 28h41"></path><path d="M0 35h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 27h41"></path><path d="M20 0v40"></path></g></svg></div></div><div class="item seven-chart-row"><span>7</span><div class=seven-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 5.7h41"></path><path d="M0 11.4h41"></path><path d="M0 17.1h41"></path><path d="M0 22.8h41"></path><path d="M0 28.5h41"></path><path d="M0 34.2h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M6 0v40"></path><path d="M12 0v40"></path><path d="M18 0v40"></path><path d="M24 0v40"></path><path d="M30 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item eight-chart-row"><span>8</span><div class=eight-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M10 0v41M20 0v41M30 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 5h41"></path><path d="M0 10h41"></path><path d="M0 15h41"></path><path d="M0 20h41"></path><path d="M0 25h41"></path><path d="M0 30h41"></path><path d="M0 35h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M5 0v40"></path><path d="M10 0v40"></path><path d="M15 0v40"></path><path d="M20 0v40"></path><path d="M25 0v40"></path><path d="M30 0v40"></path><path d="M35 0v40"></path></g></svg></div></div><div class="item nine-chart-row"><span>9</span><div class=nine-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 27h41"></path><path d="M13 0v40"></path><path d="M27 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 4.4h41"></path><path d="M0 8.8h41"></path><path d="M0 13.2h41"></path><path d="M0 17.6h41"></path><path d="M0 22h41"></path><path d="M0 26.4h41"></path><path d="M0 30.8h41"></path><path d="M0 35.2h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M4.5 0v40"></path><path d="M9 0v40"></path><path d="M13.5 0v40"></path><path d="M18 0v40"></path><path d="M22.5 0v40"></path><path d="M27 0v40"></path><path d="M31.5 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item ten-chart-row"><span>10</span><div class=ten-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M8 0v41M16 0v41M24 0v41M32 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 4h41"></path><path d="M0 8h41"></path><path d="M0 12h41"></path><path d="M0 16h41"></path><path d="M0 20h41"></path><path d="M0 24h41"></path><path d="M0 28h41"></path><path d="M0 32h41"></path><path d="M0 36h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M4 0v40"></path><path d="M8 0v40"></path><path d="M12 0v40"></path><path d="M16 0v40"></path><path d="M20 0v40"></path><path d="M24 0v40"></path><path d="M28 0v40"></path><path d="M32 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item twelve-chart-row"><span>12</span><div class=twelve-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M6.8 0v40"></path><path d="M13.6 0v40"></path><path d="M20.4 0v40"></path><path d="M27.2 0v40"></path><path d="M34 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 10h41"></path><path d="M0 20h41"></path><path d="M0 30h41"></path><path d="M13 0v40"></path><path d="M27 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 3.3h41"></path><path d="M0 6.6h41"></path><path d="M0 10h41"></path><path d="M0 13.3h41"></path><path d="M0 16.6h41"></path><path d="M0 20h41"></path><path d="M0 23.3h41"></path><path d="M0 26.6h41"></path><path d="M0 30h41"></path><path d="M0 33.3h41"></path><path d="M0 36.6h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M3.4 0v40"></path><path d="M6.8 0v40"></path><path d="M10.2 0v40"></path><path d="M13.6 0v40"></path><path d="M17 0v40"></path><path d="M20.4 0v40"></path><path d="M23.8 0v40"></path><path d="M27.2 0v40"></path><path d="M30.6 0v40"></path><path d="M34 0v40"></path><path d="M37.4 0v40"></path></g></svg></div></div><div class=item><span>14</span><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M6 0v41M12 0v41M18 0v41M24 0v41M30 0v41M36 0v41"></path></g></svg></div><div class=item><span>16</span><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M5 0v41M10 0v41M15 0v41M20 0v41M25 0v41M30 0v41M35 0v41"></path></g></svg></div><div class=sync-controls><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark>');const jN=e=>{const[r,t]=ge(RN()),[n,i]=ge(NN()),[o,s]=ge(BN()),[u,d]=ge($N()),[h,g]=ge(HN()),v=M=>{e.onConfirm!=null&&e.onConfirm(M,w9),e.onClose!=null&&e.onClose()},y=M=>(M===$.TWO_VERTICAL?2:M===$.THREE_VERTICAL||M===$.THREE_MIXED||M===$.THREE_MIXED_REVERSE||M===$.THREE_MIXED_BOTTOM||M===$.THREE_MIXED_TOP?3:M===$.FOUR_VERTICAL||M===$.FOUR_HORIZONTAL||M===$.FOUR_MIXED||M===$.FOUR_MIXED_REVERSE||M===$.FOUR_MIXED_TOP||M===$.FOUR_MIXED_BOTTOM?4:M===$.FIVE_VERTICAL||M===$.FIVE_HORIZONTAL||M===$.FIVE_MIXED||M===$.FIVE_MIXED_REVERSE||M===$.FIVE_MIXED_TOP?5:M===$.SIX_HORIZONTAL||M===$.SIX_VERTICAL||M===$.SIX_MIXED?6:M===$.SEVEN_HORIZONTAL||M===$.SEVEN_VERTICAL?7:M===$.EIGHT||M===$.EIGHT_VERTICAL||M===$.EIGHT_HORIZONTAL?8:M===$.NINE||M===$.NINE_VERTICAL||M===$.NINE_HORIZONTAL?9:M===$.TEN||M===$.TEN_VERTICAL||M===$.TEN_HORIZONTAL?10:M===$.TWELVE||M===$.TWELVE_VERTICAL||M===$.TWELVE_HORIZONTAL||M===$.TWELVE_GRID?12:M)<=e.maxMultiChart,C=M=>{const I=M.target.checked;t(I),FN(I)},w=M=>{const I=M.target.checked;i(I),ON(I)},_=M=>{const I=M.target.checked;s(I),zN(I)},E=M=>{const I=M.target.checked;d(I),VN(I)},T=M=>{const I=M.target.checked;g(I),WN(I)};return ae(Gl,{get title(){return L("multichart",e.locale)},width:600,padding:"20px 35px",get onClose(){return e.onClose},get children(){var M=UN(),I=M.firstChild,D=I.firstChild,O=D.nextSibling,N=I.nextSibling,F=N.firstChild,V=F.nextSibling,W=V.firstChild,Z=W.nextSibling,J=N.nextSibling,he=J.firstChild,H=he.nextSibling,Y=H.firstChild,K=Y.nextSibling,ne=K.nextSibling,re=ne.nextSibling,Q=re.nextSibling,ue=Q.nextSibling,le=J.nextSibling,j=le.firstChild,ie=j.nextSibling,xe=ie.firstChild,Me=xe.nextSibling,Ie=Me.nextSibling,Ae=Ie.nextSibling,Je=Ae.nextSibling,Oe=Je.nextSibling,Be=Oe.nextSibling,ye=le.nextSibling,Fe=ye.firstChild,He=Fe.nextSibling,Ne=He.firstChild,ke=Ne.nextSibling,et=ke.nextSibling,Ft=et.nextSibling,Ue=ye.nextSibling,St=Ue.firstChild,Gt=St.nextSibling,qt=Gt.firstChild,xt=qt.nextSibling,Cr=xt.nextSibling,Qr=Cr.nextSibling,Xr=Ue.nextSibling,lr=Xr.firstChild,Tt=lr.nextSibling,$t=Tt.firstChild,Qt=$t.nextSibling,Wr=Xr.nextSibling,sr=Wr.firstChild,Ar=sr.nextSibling,mt=Ar.firstChild,ze=mt.nextSibling,Ct=ze.nextSibling,gt=Wr.nextSibling,wt=gt.firstChild,vt=wt.nextSibling,Rt=vt.firstChild,Ht=Rt.nextSibling,pr=Ht.nextSibling,Ot=gt.nextSibling,ut=Ot.firstChild,Dr=ut.nextSibling,ur=Dr.firstChild,Fr=ur.nextSibling,Tn=Fr.nextSibling,At=Ot.nextSibling,zr=At.firstChild,Et=zr.nextSibling,wr=Et.firstChild,br=wr.nextSibling,fr=br.nextSibling,cn=fr.nextSibling,Yr=At.nextSibling,un=Yr.firstChild,dn=un.nextSibling,In=Yr.nextSibling,ji=In.firstChild,Xi=ji.nextSibling,Qo=In.nextSibling,ki=Qo.firstChild,vo=ki.firstChild,Jo=vo.nextSibling,mo=ki.nextSibling,el=mo.firstChild,tl=el.nextSibling,Us=mo.nextSibling,js=Us.firstChild,rl=js.nextSibling,Gc=Us.nextSibling,mr=Gc.firstChild,qc=mr.nextSibling,Xs=Gc.nextSibling,Ys=Xs.firstChild,yo=Ys.nextSibling;return O.$$click=()=>{v($.ONE)},W.$$click=()=>{v($.TWO)},Z.$$click=()=>{v($.TWO_VERTICAL)},Y.$$click=()=>{v($.THREE)},K.$$click=()=>{v($.THREE_VERTICAL)},ne.$$click=()=>{v($.THREE_MIXED)},re.$$click=()=>{v($.THREE_MIXED_REVERSE)},Q.$$click=()=>{v($.THREE_MIXED_BOTTOM)},ue.$$click=()=>{v($.THREE_MIXED_TOP)},xe.$$click=()=>{v($.FOUR)},Me.$$click=()=>{v($.FOUR_VERTICAL)},Ie.$$click=()=>{v($.FOUR_HORIZONTAL)},Ae.$$click=()=>{v($.FOUR_MIXED)},Je.$$click=()=>{v($.FOUR_MIXED_REVERSE)},Oe.$$click=()=>{v($.FOUR_MIXED_TOP)},Be.$$click=()=>{v($.FOUR_MIXED_BOTTOM)},Ne.$$click=()=>{v($.FIVE_VERTICAL)},ke.$$click=()=>{v($.FIVE_HORIZONTAL)},et.$$click=()=>{v($.FIVE_MIXED)},Ft.$$click=()=>{v($.FIVE_MIXED_REVERSE)},qt.$$click=()=>{v($.SIX)},xt.$$click=()=>{v($.SIX_HORIZONTAL)},Cr.$$click=()=>{v($.SIX_VERTICAL)},Qr.$$click=()=>{v($.SIX_MIXED)},$t.$$click=()=>{v($.SEVEN_VERTICAL)},Qt.$$click=()=>{v($.SEVEN_HORIZONTAL)},mt.$$click=()=>{v($.EIGHT)},ze.$$click=()=>{v($.EIGHT_VERTICAL)},Ct.$$click=()=>{v($.EIGHT_HORIZONTAL)},Rt.$$click=()=>{v($.NINE)},Ht.$$click=()=>{v($.NINE_VERTICAL)},pr.$$click=()=>{v($.NINE_HORIZONTAL)},ur.$$click=()=>{v($.TEN)},Fr.$$click=()=>{v($.TEN_VERTICAL)},Tn.$$click=()=>{v($.TEN_HORIZONTAL)},wr.$$click=()=>{v($.TWELVE_GRID)},br.$$click=()=>{v($.TWELVE)},fr.$$click=()=>{v($.TWELVE_VERTICAL)},cn.$$click=()=>{v($.TWELVE_HORIZONTAL)},dn.$$click=()=>{v($.FOURTEEN)},Xi.$$click=()=>{v($.SIXTEEN)},B(vo,()=>L("enable_crosshair_sync",e.locale)),Jo.addEventListener("change",C),B(el,()=>L("enable_time_sync",e.locale)),tl.addEventListener("change",w),B(js,()=>L("enable_ticker_sync",e.locale)),rl.addEventListener("change",_),B(mr,()=>L("enable_interval_sync",e.locale)),qc.addEventListener("change",E),B(Ys,()=>L("enable_drawing_sync",e.locale)),yo.addEventListener("change",T),We(De=>{var ql=y($.ONE)?"active":"inactive",nl=y($.TWO)?"active":"inactive",pi=y($.TWO_VERTICAL)?"active":"inactive",Qc=y($.THREE)?"active":"inactive",qn=y($.THREE_VERTICAL)?"active":"inactive",Zs=y($.THREE_MIXED)?"active":"inactive",Ks=y($.THREE_MIXED_REVERSE)?"active":"inactive",Gs=y($.THREE_MIXED_BOTTOM)?"active":"inactive",Wa=y($.THREE_MIXED_TOP)?"active":"inactive",il=y($.FOUR)?"active":"inactive",Ha=y($.FOUR_VERTICAL)?"active":"inactive",fa=y($.FOUR_HORIZONTAL)?"active":"inactive",qs=y($.FOUR_MIXED)?"active":"inactive",Jc=y($.FOUR_MIXED_REVERSE)?"active":"inactive",al=y($.FOUR_MIXED_TOP)?"active":"inactive",Ql=y($.FOUR_MIXED_BOTTOM)?"active":"inactive",xo=y($.FIVE_VERTICAL)?"active":"inactive",Co=y($.FIVE_HORIZONTAL)?"active":"inactive",Qs=y($.FIVE_MIXED)?"active":"inactive",wo=y($.FIVE_MIXED_REVERSE)?"active":"inactive",Zt=y($.SIX)?"active":"inactive",ga=y($.SIX_HORIZONTAL)?"active":"inactive",Jl=y($.SIX_VERTICAL)?"active":"inactive",ol=y($.SIX_MIXED)?"active":"inactive",Js=y($.SEVEN_VERTICAL)?"active":"inactive",es=y($.SEVEN_HORIZONTAL)?"active":"inactive",ts=y($.EIGHT)?"active":"inactive",ll=y($.EIGHT_VERTICAL)?"active":"inactive",bo=y($.EIGHT_HORIZONTAL)?"active":"inactive",Yi=y($.NINE)?"active":"inactive",Zi=y($.NINE_VERTICAL)?"active":"inactive",Ki=y($.NINE_HORIZONTAL)?"active":"inactive",Ua=y($.TEN)?"active":"inactive",_o=y($.TEN_VERTICAL)?"active":"inactive",Gi=y($.TEN_HORIZONTAL)?"active":"inactive",eu=y($.TWELVE_GRID)?"active":"inactive",ec=y($.TWELVE)?"active":"inactive",va=y($.TWELVE_VERTICAL)?"active":"inactive",tu=y($.TWELVE_HORIZONTAL)?"active":"inactive",tc=y($.FOURTEEN)?"active":"inactive",sl=y($.SIXTEEN)?"active":"inactive";return ql!==De.e&&Ye(O,"class",De.e=ql),nl!==De.t&&Ye(W,"class",De.t=nl),pi!==De.a&&Ye(Z,"class",De.a=pi),Qc!==De.o&&Ye(Y,"class",De.o=Qc),qn!==De.i&&Ye(K,"class",De.i=qn),Zs!==De.n&&Ye(ne,"class",De.n=Zs),Ks!==De.s&&Ye(re,"class",De.s=Ks),Gs!==De.h&&Ye(Q,"class",De.h=Gs),Wa!==De.r&&Ye(ue,"class",De.r=Wa),il!==De.d&&Ye(xe,"class",De.d=il),Ha!==De.l&&Ye(Me,"class",De.l=Ha),fa!==De.u&&Ye(Ie,"class",De.u=fa),qs!==De.c&&Ye(Ae,"class",De.c=qs),Jc!==De.w&&Ye(Je,"class",De.w=Jc),al!==De.m&&Ye(Oe,"class",De.m=al),Ql!==De.f&&Ye(Be,"class",De.f=Ql),xo!==De.y&&Ye(Ne,"class",De.y=xo),Co!==De.g&&Ye(ke,"class",De.g=Co),Qs!==De.p&&Ye(et,"class",De.p=Qs),wo!==De.b&&Ye(Ft,"class",De.b=wo),Zt!==De.T&&Ye(qt,"class",De.T=Zt),ga!==De.A&&Ye(xt,"class",De.A=ga),Jl!==De.O&&Ye(Cr,"class",De.O=Jl),ol!==De.I&&Ye(Qr,"class",De.I=ol),Js!==De.S&&Ye($t,"class",De.S=Js),es!==De.W&&Ye(Qt,"class",De.W=es),ts!==De.C&&Ye(mt,"class",De.C=ts),ll!==De.B&&Ye(ze,"class",De.B=ll),bo!==De.v&&Ye(Ct,"class",De.v=bo),Yi!==De.k&&Ye(Rt,"class",De.k=Yi),Zi!==De.x&&Ye(Ht,"class",De.x=Zi),Ki!==De.j&&Ye(pr,"class",De.j=Ki),Ua!==De.q&&Ye(ur,"class",De.q=Ua),_o!==De.z&&Ye(Fr,"class",De.z=_o),Gi!==De.P&&Ye(Tn,"class",De.P=Gi),eu!==De.H&&Ye(wr,"class",De.H=eu),ec!==De.F&&Ye(br,"class",De.F=ec),va!==De.M&&Ye(fr,"class",De.M=va),tu!==De.D&&Ye(cn,"class",De.D=tu),tc!==De.R&&Ye(dn,"class",De.R=tc),sl!==De.E&&Ye(Xi,"class",De.E=sl),De},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0,H:void 0,F:void 0,M:void 0,D:void 0,R:void 0,E:void 0}),We(()=>Jo.checked=r()),We(()=>tl.checked=n()),We(()=>rl.checked=o()),We(()=>qc.checked=u()),We(()=>yo.checked=h()),M}})};Er(["click"]);const XN=e=>ae(jN,{get multiChart(){return e.multiChart},get maxMultiChart(){return e.maxMultiCharts},get onConfirm(){return e.onMultiChartClick},onClose:()=>{e.setMultiChartModalVisible(!1)},get locale(){return e.locale}});var YN=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M12.41465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L12.41465,12C12.20873,12.5826,11.65311,13,11,13C10.34689,13,9.79127,12.5826,9.58535,12L3.5,12C3.223857,12,3,11.77614,3,11.5C3,11.22386,3.223857,11,3.5,11L9.58535,11C9.79127,10.417404,10.34689,10,11,10C11.65311,10,12.20873,10.417404,12.41465,11Z stroke-opacity=0 stroke=none>');const ZN=()=>YN();var KN=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,11L11.08535,11C11.29127,10.417404,11.84689,10,12.5,10C13.15311,10,13.70873,10.417404,13.91465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L13.91465,12C13.70873,12.5826,13.15311,13,12.5,13C11.84689,13,11.29127,12.5826,11.08535,12L6.91465,12C6.70873,12.5826,6.15311,13,5.5,13C4.671573,13,4,12.32843,4,11.5C4,10.671573,4.671573,10,5.5,10C6.15311,10,6.70873,10.417404,6.91465,11Z stroke-opacity=0 stroke=none>');const GN=()=>KN();var qN=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,12.5C6.70873,13.0826,6.15311,13.5,5.5,13.5C4.671573,13.5,4,12.82843,4,12C4,11.171573,4.671573,10.5,5.5,10.5C6.15311,10.5,6.70873,10.917404,6.91465,11.5L16.0853,11.5C16.2913,10.917404,16.846899999999998,10.5,17.5,10.5C18.328400000000002,10.5,19,11.171573,19,12C19,12.82843,18.328400000000002,13.5,17.5,13.5C16.846899999999998,13.5,16.2913,13.0826,16.0853,12.5L6.91465,12.5Z stroke-opacity=0 stroke=none>');const QN=()=>qN();var JN=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11,12.41465L11,18.5C11,18.7761,11.22386,19,11.5,19C11.77614,19,12,18.7761,12,18.5L12,12.41465C12.5826,12.20873,13,11.65311,13,11C13,10.34689,12.5826,9.79127,12,9.58535L12,3.5C12,3.223857,11.77614,3,11.5,3C11.22386,3,11,3.223857,11,3.5L11,9.58535C10.417404,9.79127,10,10.34689,10,11C10,11.65311,10.417404,12.20873,11,12.41465Z stroke-opacity=0 stroke=none>');const ez=()=>JN();var tz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.66558837890625,19C10.83716137890625,19,10.16558837890625,18.328400000000002,10.16558837890625,17.5C10.16558837890625,16.846899999999998,10.58298437890625,16.2913,11.16557337890625,16.0854L11.16557337890625,11.91464C10.58298437890625,11.70872,10.16558837890625,11.1531,10.16558837890625,10.5C10.16558837890625,9.8469,10.58298437890625,9.29128,11.16557337890625,9.08536L11.16557337890625,4.5C11.16557337890625,4.223857,11.38942837890625,4,11.66556837890625,4C11.94171837890625,4,12.16556837890625,4.223857,12.16556837890625,4.5L12.16556837890625,9.08535C12.74817837890625,9.291260000000001,13.16558837890625,9.846879999999999,13.16558837890625,10.5C13.16558837890625,11.153120000000001,12.74817837890625,11.708739999999999,12.16556837890625,11.91465L12.16556837890625,16.0854C12.74817837890625,16.2913,13.16558837890625,16.846899999999998,13.16558837890625,17.5C13.16558837890625,18.328400000000002,12.49401837890625,19,11.66558837890625,19Z stroke-opacity=0 stroke=none>');const rz=()=>tz();var nz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.165603637695312,6.91465C11.748203637695312,6.70873,12.165603637695312,6.15311,12.165603637695312,5.5C12.165603637695312,4.671573,11.494033637695313,4,10.665603637695312,4C9.837176637695313,4,9.165603637695312,4.671573,9.165603637695312,5.5C9.165603637695312,6.15311,9.583007637695312,6.70873,10.165603637695312,6.91465L10.165603637695312,16.0854C9.583007637695312,16.2913,9.165603637695312,16.846899999999998,9.165603637695312,17.5C9.165603637695312,18.328400000000002,9.837176637695313,19,10.665603637695312,19C11.494033637695313,19,12.165603637695312,18.328400000000002,12.165603637695312,17.5C12.165603637695312,16.846899999999998,11.748203637695312,16.2913,11.165603637695312,16.0854L11.165603637695312,6.91465Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const iz=()=>nz();var az=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.146447,15.753C4.9511845,15.9483,4.9511845,16.2649,5.146447,16.4602C5.341709,16.6554,5.658291,16.6554,5.853554,16.4602L8.156600000000001,14.15711C8.352409999999999,14.25082,8.57173,14.3033,8.8033,14.3033C9.631730000000001,14.3033,10.3033,13.63172,10.3033,12.80329C10.3033,12.57172,10.250820000000001,12.352409999999999,10.157119999999999,12.15659L12.156600000000001,10.15711C12.352409999999999,10.250820000000001,12.571729999999999,10.30329,12.8033,10.30329C13.63173,10.30329,14.3033,9.63172,14.3033,8.80329C14.3033,8.57172,14.25082,8.352409999999999,14.15712,8.15659L16.4602,5.853553C16.6554,5.658291,16.6554,5.341709,16.4602,5.146447C16.2649,4.9511843,15.9483,4.9511843,15.753,5.146447L13.45001,7.449479999999999C13.25419,7.35577,13.03487,7.3032900000000005,12.8033,7.3032900000000005C11.97487,7.3032900000000005,11.3033,7.97487,11.3033,8.80329C11.3033,9.03487,11.35578,9.254190000000001,11.44949,9.450009999999999L9.450009999999999,11.449480000000001C9.254190000000001,11.35577,9.03487,11.30329,8.8033,11.30329C7.97487,11.30329,7.3033,11.97487,7.3033,12.80329C7.3033,13.03487,7.35578,13.25419,7.44949,13.45001L5.146447,15.753Z stroke-opacity=0 stroke=none>');const oz=()=>az();var lz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M7.573332939453125,14.54567903564453C7.667042939453125,14.741499035644532,7.719512939453125,14.960809035644532,7.719512939453125,15.19239903564453C7.719512939453125,16.02079903564453,7.047942939453125,16.69239903564453,6.219512939453125,16.69239903564453C5.391085939453125,16.69239903564453,4.719512939453125,16.02079903564453,4.719512939453125,15.19239903564453C4.719512939453125,14.36394903564453,5.391085939453125,13.692379035644532,6.219512939453125,13.692379035644532C6.451092939453125,13.692379035644532,6.670412939453125,13.74485903564453,6.866232939453125,13.83856903564453L9.865702939453126,10.83909903564453C9.771992939453124,10.643279035644532,9.719512939453125,10.42395903564453,9.719512939453125,10.192379035644532C9.719512939453125,9.36394903564453,10.391082939453124,8.692379035644532,11.219512939453125,8.692379035644532C11.451092939453126,8.692379035644532,11.670412939453126,8.74485903564453,11.866232939453125,8.838569035644532L15.462112939453124,5.242645035644531C15.657412939453126,5.047383335644532,15.974012939453125,5.047383335644532,16.169212939453125,5.242645035644531C16.364512939453125,5.437907035644531,16.364512939453125,5.754489035644531,16.169212939453125,5.949752035644531L12.573332939453124,9.545679035644532C12.667042939453125,9.74149903564453,12.719512939453125,9.96080903564453,12.719512939453125,10.192379035644532C12.719512939453125,11.020809035644533,12.047942939453126,11.692379035644532,11.219512939453125,11.692379035644532C10.987942939453125,11.692379035644532,10.768632939453125,11.639909035644532,10.572812939453126,11.54619903564453L7.573332939453125,14.54567903564453Z stroke-opacity=0 stroke=none>');const sz=()=>lz();var cz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M15.719512939453125,8.461776733398438C16.547912939453127,8.461776733398438,17.219512939453125,7.7902067333984375,17.219512939453125,6.9617767333984375C17.219512939453125,6.133349733398438,16.547912939453127,5.4617767333984375,15.719512939453125,5.4617767333984375C14.891082939453124,5.4617767333984375,14.219512939453125,6.133349733398438,14.219512939453125,6.9617767333984375C14.219512939453125,7.193346733398437,14.271992939453124,7.412666733398438,14.365692939453124,7.608486733398438L7.366222939453126,14.607956733398437C7.170402939453125,14.514256733398437,6.951082939453125,14.461776733398438,6.719512939453125,14.461776733398438C5.891085939453125,14.461776733398438,5.219512939453125,15.133346733398437,5.219512939453125,15.961776733398438C5.219512939453125,16.79017673339844,5.891085939453125,17.461776733398438,6.719512939453125,17.461776733398438C7.547942939453125,17.461776733398438,8.219512939453125,16.79017673339844,8.219512939453125,15.961776733398438C8.219512939453125,15.730176733398437,8.167032939453126,15.510876733398437,8.073322939453124,15.315066733398437L15.072802939453124,8.315586733398437C15.268612939453124,8.409296733398438,15.487912939453125,8.461776733398438,15.719512939453125,8.461776733398438Z stroke-opacity=0 stroke=none>');const uz=()=>cz();var dz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M17.0643,7.033864912109375L18,3.585784912109375L14.5078,4.509695912109375L15.3537,5.344934912109375L6.02026,14.560584912109375C5.87635,14.517484912109374,5.72366,14.494284912109375,5.5655,14.494284912109375C4.7009,14.494284912109375,4,15.186384912109375,4,16.040084912109375C4,16.893784912109375,4.7009,17.585784912109375,5.5655,17.585784912109375C6.43011,17.585784912109375,7.13101,16.893784912109375,7.13101,16.040084912109375C7.13101,15.722284912109375,7.03392,15.426984912109376,6.86744,15.181384912109374L16.0917,6.073604912109375L17.0643,7.033864912109375Z stroke-opacity=0 stroke=none>');const hz=()=>dz();var pz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,13.00505L18.5,13.00505C18.7761,13.00505,19,13.228909999999999,19,13.50505C19,13.781189999999999,18.7761,14.00505,18.5,14.00505L6.91465,14.00505C6.70873,14.58765,6.15311,15.00505,5.5,15.00505C4.671573,15.00505,4,14.33348,4,13.50505C4,12.67662,4.671573,12.00505,5.5,12.00505C6.15311,12.00505,6.70873,12.422450000000001,6.91465,13.00505ZM7.81404,11.625L10.48591,11.625L10.48591,10.90625L9.65193,10.90625L9.65193,7.125L8.997630000000001,7.125C8.71443,7.306641,8.415600000000001,7.419922,7.96443,7.498047L7.96443,8.05078L8.77497,8.05078L8.77497,10.90625L7.81404,10.90625L7.81404,11.625ZM11.081620000000001,11.625L14.0562,11.625L14.0562,10.88281L13.09724,10.88281C12.8863,10.88281,12.59333,10.90625,12.36482,10.93555C13.17537,10.11328,13.84724,9.2207,13.84724,8.39062C13.84724,7.541016,13.28865,7,12.4488,7C11.84333,7,11.446850000000001,7.234375,11.03279,7.679688L11.52497,8.16797C11.747630000000001,7.914062,12.0113,7.697266,12.33552,7.697266C12.7613,7.697266,13.00154,7.982422,13.00154,8.43359C13.00154,9.14648,12.29255,10.00781,11.081620000000001,11.11523L11.081620000000001,11.625ZM15.9605,11.75C16.8121,11.75,17.526899999999998,11.2832,17.526899999999998,10.4375C17.526899999999998,9.82031,17.142200000000003,9.43945,16.6441,9.30078L16.6441,9.27148C17.1129,9.08594,17.3824,8.7207,17.3824,8.21289C17.3824,7.421875,16.8004,7,15.9429,7C15.4215,7,14.9957,7.210938,14.6109,7.541016L15.066,8.11133C15.3258,7.849609,15.5836,7.697266,15.9019,7.697266C16.2789,7.697266,16.4957,7.914062,16.4957,8.28125C16.4957,8.70898,16.2301,9,15.4215,9L15.4215,9.63672C16.3804,9.63672,16.6383,9.91992,16.6383,10.38086C16.6383,10.79688,16.3336,11.03125,15.8824,11.03125C15.4742,11.03125,15.1578,10.82227,14.8922,10.55078L14.4781,11.13281C14.7906,11.486329999999999,15.2652,11.75,15.9605,11.75Z stroke-opacity=0 stroke=none>');const fz=()=>pz();var gz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3.146447,14.178126025390625C2.9511847,13.982826025390626,2.9511847,13.666226025390625,3.146447,13.470926025390625L7.39146,9.225966025390626C7.35417,9.095106025390624,7.33421,8.956946025390625,7.33421,8.814116025390625C7.33421,7.985696025390625,8.00578,7.314116025390625,8.834209999999999,7.314116025390625C8.97703,7.314116025390625,9.11519,7.334086025390625,9.24605,7.371366025390625L13.753,2.864373025390625C13.9483,2.669110325390625,14.2649,2.669110325390625,14.4602,2.864373025390625C14.6554,3.059635025390625,14.6554,3.376217025390625,14.4602,3.571479025390625L10.06916,7.962476025390625C10.23631,8.204386025390626,10.334209999999999,8.497826025390625,10.334209999999999,8.814116025390625C10.334209999999999,9.642546025390626,9.66264,10.314116025390625,8.834209999999999,10.314116025390625C8.51791,10.314116025390625,8.22448,10.216226025390625,7.98256,10.049076025390626L3.853554,14.178126025390625C3.658291,14.373326025390625,3.341709,14.373326025390625,3.146447,14.178126025390625ZM7.67736,19.188526025390626C7.4821,18.993226025390626,7.4821,18.676626025390625,7.67736,18.481426025390626L9.9804,16.178326025390625C9.88669,15.982526025390625,9.834209999999999,15.763226025390624,9.834209999999999,15.531626025390626C9.834209999999999,14.703226025390626,10.50578,14.031626025390626,11.33421,14.031626025390626C11.56579,14.031626025390626,11.78511,14.084126025390624,11.98093,14.177826025390624L13.9804,12.178356025390626C13.8867,11.982536025390624,13.8342,11.763216025390625,13.8342,11.531636025390625C13.8342,10.703206025390624,14.5058,10.031636025390625,15.3342,10.031636025390625C15.5658,10.031636025390625,15.7851,10.084116025390625,15.9809,10.177826025390626L18.284,7.874796025390625C18.4792,7.679536025390625,18.7958,7.679536025390625,18.9911,7.874796025390625C19.1863,8.070056025390624,19.1863,8.386636025390626,18.9911,8.581906025390625L16.688000000000002,10.884936025390624C16.7817,11.080756025390626,16.8342,11.300066025390626,16.8342,11.531636025390625C16.8342,12.360066025390624,16.162599999999998,13.031626025390626,15.3342,13.031626025390626C15.1026,13.031626025390626,14.8833,12.979126025390626,14.6875,12.885426025390625L12.68803,14.884926025390625C12.78174,15.080726025390625,12.83421,15.300026025390626,12.83421,15.531626025390626C12.83421,16.360026025390624,12.16264,17.031626025390626,11.33421,17.031626025390626C11.10264,17.031626025390626,10.88333,16.979126025390627,10.68751,16.885426025390625L8.38446,19.188526025390626C8.1892,19.383726025390626,7.87262,19.383726025390626,7.67736,19.188526025390626Z stroke-opacity=0 stroke=none>');const vz=()=>gz();var mz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3.3367688759765626,12.63173C3.5320318759765623,12.82699,3.8486138759765627,12.82699,4.043876875976562,12.63173L11.822052875976562,4.853553C12.017312875976563,4.658291,12.017312875976563,4.341708,11.822052875976562,4.146446C11.626792875976562,3.9511843,11.310202875976563,3.9511843,11.114942875976563,4.146446L3.3367688759765626,11.92462C3.1415071759765625,12.11988,3.1415071759765625,12.43647,3.3367688759765626,12.63173ZM5.001492875976562,17.0351C4.806232875976562,16.8399,4.806232875976562,16.5233,5.001492875976562,16.328L7.304532875976562,14.025C7.210822875976563,13.82916,7.158352875976563,13.60984,7.158352875976563,13.37827C7.158352875976563,12.54984,7.829922875976562,11.87827,8.658352875976561,11.87827C8.889922875976563,11.87827,9.109232875976563,11.93075,9.305052875976562,12.02446L11.304532875976562,10.02498C11.210822875976563,9.82916,11.158352875976561,9.60984,11.158352875976561,9.37827C11.158352875976561,8.54984,11.829922875976562,7.8782700000000006,12.658352875976563,7.8782700000000006C12.889922875976563,7.8782700000000006,13.109232875976563,7.93075,13.305022875976562,8.024460000000001L15.608122875976562,5.72142C15.803322875976562,5.5261499999999995,16.119922875976563,5.5261499999999995,16.315222875976563,5.72142C16.510422875976563,5.9166799999999995,16.510422875976563,6.23326,16.315222875976563,6.42852L14.012122875976562,8.73156C14.105822875976562,8.92738,14.158322875976562,9.1467,14.158322875976562,9.37827C14.158322875976562,10.2067,13.486822875976562,10.87827,12.658352875976563,10.87827C12.426772875976562,10.87827,12.207452875976562,10.82579,12.011642875976563,10.73209L10.012162875976562,12.73156C10.105872875976562,12.92738,10.158352875976561,13.1467,10.158352875976561,13.37827C10.158352875976561,14.2067,9.486772875976563,14.8783,8.658352875976561,14.8783C8.426772875976562,14.8783,8.207452875976562,14.8258,8.011642875976563,14.7321L5.708602875976562,17.0351C5.513342875976562,17.2304,5.196752875976562,17.2304,5.001492875976562,17.0351ZM10.415712875976563,18.328C10.220452875976562,18.5233,9.903862875976563,18.5233,9.708602875976563,18.328C9.513342875976562,18.1328,9.513342875976562,17.816200000000002,9.708602875976563,17.6209L12.304532875976562,15.025C12.210822875976563,14.8292,12.158352875976563,14.6098,12.158352875976563,14.3783C12.158352875976563,13.54984,12.829922875976562,12.87827,13.658322875976562,12.87827C13.889922875976563,12.87827,14.109222875976563,12.93075,14.305022875976562,13.02446L17.486822875976564,9.84274C17.682022875976564,9.64747,17.99862287597656,9.64747,18.19392287597656,9.84274C18.38912287597656,10.038,18.38912287597656,10.35458,18.19392287597656,10.54984L15.012122875976562,13.73156C15.105822875976562,13.92738,15.158322875976562,14.1467,15.158322875976562,14.3783C15.158322875976562,15.2067,14.486822875976562,15.8783,13.658322875976562,15.8783C13.426822875976562,15.8783,13.207422875976562,15.8258,13.011642875976563,15.7321L10.415712875976563,18.328Z stroke-opacity=0 stroke=none>');const yz=()=>mz();var xz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M13.1889,6C12.98303,6.582599999999999,12.42741,7,11.7743,7C11.12119,7,10.565570000000001,6.582599999999999,10.35965,6L3.5,6C3.223857,6,3,5.77614,3,5.5C3,5.22386,3.223857,5,3.5,5L10.35965,5C10.565570000000001,4.417404,11.12119,4,11.7743,4C12.42741,4,12.98303,4.417404,13.1889,5L18.5,5C18.7761,5,19,5.22386,19,5.5C19,5.77614,18.7761,6,18.5,6L13.1889,6ZM3,8.5C3,8.22386,3.223857,8,3.5,8L18.5,8C18.7761,8,19,8.22386,19,8.5C19,8.77614,18.7761,9,18.5,9L3.5,9C3.223857,9,3,8.77614,3,8.5ZM3.278549,11.5C3.278549,11.22386,3.502407,11,3.778549,11L18.7785,11C19.0547,11,19.2785,11.22386,19.2785,11.5C19.2785,11.77614,19.0547,12,18.7785,12L3.778549,12C3.502407,12,3.278549,11.77614,3.278549,11.5ZM3.139267,14.5C3.139267,14.2239,3.363124,14,3.6392670000000003,14L18.6393,14C18.915399999999998,14,19.1393,14.2239,19.1393,14.5C19.1393,14.7761,18.915399999999998,15,18.6393,15L3.6392670000000003,15C3.363124,15,3.139267,14.7761,3.139267,14.5ZM13.1889,18C12.98303,18.5826,12.42741,19,11.7743,19C11.12119,19,10.565570000000001,18.5826,10.35965,18L3.778549,18C3.502407,18,3.278549,17.7761,3.278549,17.5C3.278549,17.2239,3.502407,17,3.778549,17L10.35965,17C10.565570000000001,16.4174,11.12119,16,11.7743,16C12.42741,16,12.98303,16.4174,13.1889,17L18.7785,17C19.0547,17,19.2785,17.2239,19.2785,17.5C19.2785,17.7761,19.0547,18,18.7785,18L13.1889,18Z stroke-opacity=0 stroke=none>');const Cz=()=>xz();var wz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M4.91465,6C4.70873,6.582599999999999,4.15311,7,3.5,7C2.671573,7,2,6.32843,2,5.5C2,4.671573,2.671573,4,3.5,4C4.15311,4,4.70873,4.417404,4.91465,5L18.2257,5C18.5018,5,18.7257,5.22386,18.7257,5.5C18.7257,5.77614,18.5018,6,18.2257,6L4.91465,6ZM2.7257,8.5C2.7257,8.22386,2.949558,8,3.2257,8L18.2257,8C18.5018,8,18.7257,8.22386,18.7257,8.5C18.7257,8.77614,18.5018,9,18.2257,9L3.2257,9C2.949558,9,2.7257,8.77614,2.7257,8.5ZM3.00425,11.5C3.00425,11.22386,3.22811,11,3.50425,11L18.5042,11C18.7804,11,19.0042,11.22386,19.0042,11.5C19.0042,11.77614,18.7804,12,18.5042,12L3.50425,12C3.22811,12,3.00425,11.77614,3.00425,11.5ZM2.864967,14.5C2.864967,14.2239,3.08882,14,3.36497,14L18.365,14C18.6411,14,18.865,14.2239,18.865,14.5C18.865,14.7761,18.6411,15,18.365,15L3.36497,15C3.08882,15,2.864967,14.7761,2.864967,14.5ZM20,17.5C20,18.328400000000002,19.3284,19,18.5,19C17.846899999999998,19,17.2913,18.5826,17.0854,18L3.50425,18C3.22811,18,3.00425,17.7761,3.00425,17.5C3.00425,17.2239,3.22811,17,3.50425,17L17.0854,17C17.2913,16.4174,17.846899999999998,16,18.5,16C19.3284,16,20,16.671599999999998,20,17.5Z stroke-opacity=0 stroke=none>');const bz=()=>wz();var _z=ee('<svg class=icon-overlay viewBox="0 0 22 22"><ellipse cx=10.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=17.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=10.5 cy=11.5 rx=7 ry=7 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1></ellipse><ellipse cx=10.5 cy=11.5 rx=5 ry=5 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1></ellipse><ellipse cx=10.5 cy=11.5 rx=3 ry=3 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1>');const kz=()=>_z();var Sz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3,7.32468C5.90649,3.3893050000000002,11.49833,2.81306,14.6674,6.31944C14.9056,6.1554199999999994,15.192,6.05979,15.5,6.05979C15.845,6.05979,16.1628,6.17974,16.4162,6.381349999999999L18.4509,4.23827L19,4.816615L16.8945,7.03429C16.962600000000002,7.21075,17,7.40319,17,7.60463C17,8.45782,16.328400000000002,9.14947,15.5,9.14947C14.6716,9.14947,14,8.45782,14,7.60463C14,7.36402,14.0534,7.13625,14.1487,6.93322C11.32695,3.748365,6.25159,4.253956,3.612785,7.82695L3,7.32468ZM14.09,15.4717C15.7427,13.78985,16.244500000000002,11.524740000000001,15.5633,9.30134L15.5618,9.30134L16.3012,9.0502C17.072400000000002,11.56646,16.497700000000002,14.158,14.6282,16.0599C12.28737,18.442,8.62386,18.6988,6.41348,16.4501C4.5526,14.5572,4.52076,11.19671,6.36766,9.3177C7.89069,7.76754,10.07544,7.706189999999999,11.56741,9.22363C11.95453,9.61742,12.24817,10.08363,12.43369,10.57677L14.1451,8.77421L14.6942,9.35256L12.64982,11.50582C12.65827,11.59712,12.66295,11.68839,12.66378,11.77936C12.87398,12.04523,13,12.38451,13,12.7541C13,13.60729,12.32843,14.2989,11.5,14.2989C10.67157,14.2989,10,13.60729,10,12.7541C10,11.90091,10.67157,11.20926,11.5,11.20926C11.60387,11.20926,11.70528,11.220130000000001,11.8032,11.240829999999999L11.81763,11.22564C11.69858,10.71874,11.42858,10.21929,11.0284,9.81179C9.844000000000001,8.60765,8.136890000000001,8.65592,6.90822,9.90586C5.37975,11.460930000000001,5.40693,14.288,6.95404,15.8619C8.84598,17.7867,12.03496,17.5626,14.09,15.4717Z stroke-opacity=0 stroke=none>');const Ez=()=>Sz();var Mz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M4,17.0854L4,3.5C4,3.223858,4.22386,3,4.5,3C4.77614,3,5,3.223858,5,3.5L5,10L7.57584,10L9.8127,4.46359C9.91614,4.20756,10.20756,4.08386,10.46359,4.1873000000000005C10.71963,4.29075,10.84333,4.58216,10.73988,4.8382000000000005L8.65438,10L11.08535,10C11.29127,9.4174,11.84689,9,12.5,9C12.65154,9,12.79784,9.02247,12.93573,9.06427L16.6464,5.35355C16.8417,5.15829,17.1583,5.15829,17.3536,5.35355C17.5488,5.54882,17.5488,5.8654,17.3536,6.06066L13.7475,9.66675C13.907,9.90508,14,10.19168,14,10.5C14,11.15311,13.5826,11.70873,13,11.91465L13,14.3638L18.3714,12.1936C18.6274,12.09015,18.918799999999997,12.21385,19.0222,12.46989C19.1257,12.72592,19.002,13.0173,18.746000000000002,13.1208L13,15.4423L13,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854ZM6.3729499999999994,17.0413L12,14.7678L12,11.91465C11.88136,11.87271,11.76956,11.81627,11.66675,11.74746L6.3729499999999994,17.0413ZM12,15.8463L6.6694700000000005,18L12,18L12,15.8463ZM6.38629,15.6137L8.250350000000001,11L11,11L6.38629,15.6137ZM5,11L7.17182,11L5,16.3754L5,11Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const Tz=()=>Mz();var Iz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M17,4.5C17,5.32843,16.328400000000002,6,15.5,6C15.0931,6,14.7241,5.83802,14.4539,5.57503L5.98992,8.32515C5.99658,8.38251,6,8.440850000000001,6,8.5C6,9.15311,5.582599999999999,9.70873,5,9.91465L5,11.08535C5.42621,11.236,5.763999999999999,11.57379,5.91465,12L19.5,12C19.7761,12,20,12.22386,20,12.5C20,12.77614,19.7761,13,19.5,13L5.91465,13C5.70873,13.5826,5.15311,14,4.5,14C3.671573,14,3,13.3284,3,12.5C3,11.84689,3.417404,11.29127,4,11.08535L4,9.91465C3.417404,9.70873,3,9.15311,3,8.5C3,7.67157,3.671573,7,4.5,7C4.90411,7,5.2709,7.15981,5.5406200000000005,7.41967L14.0093,4.66802C14.0032,4.6128599999999995,14,4.5568,14,4.5C14,3.671573,14.6716,3,15.5,3C16.328400000000002,3,17,3.671573,17,4.5ZM4,15.5C4,15.2239,4.22386,15,4.5,15L19.5,15C19.7761,15,20,15.2239,20,15.5C20,15.7761,19.7761,16,19.5,16L4.5,16C4.22386,16,4,15.7761,4,15.5ZM4,18.5C4,18.2239,4.22386,18,4.5,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L4.5,19C4.22386,19,4,18.7761,4,18.5Z stroke-opacity=0 stroke=none>');const Lz=()=>Iz();var Pz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M20,3.5C20,4.15311,19.5826,4.70873,19,4.91465L19,18.5C19,18.7761,18.7761,19,18.5,19L4.91465,19C4.70873,19.5826,4.15311,20,3.5,20C2.671573,20,2,19.3284,2,18.5C2,17.846899999999998,2.417404,17.2913,3,17.0854L3,3.5C3,3.22386,3.22386,3,3.5,3L17.0854,3C17.2913,2.417404,17.846899999999998,2,18.5,2C19.3284,2,20,2.671573,20,3.5ZM17.0854,4C17.236,4.42621,17.5738,4.763999999999999,18,4.91465L18,8L14,8L14,4L17.0854,4ZM13,4L13,8L9,8L9,4L13,4ZM13,9L9,9L9,13L13,13L13,9ZM13,14L9,14L9,18L13,18L13,14ZM14,18L14,14L18,14L18,18L14,18ZM18,13L14,13L14,9L18,9L18,13ZM4.91465,18C4.763999999999999,17.5738,4.42621,17.236,4,17.0854L4,14L8,14L8,18L4.91465,18ZM4,8L4,4L8,4L8,8L4,8ZM8,9L8,13L4,13L4,9L8,9Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const Az=()=>Pz();var Dz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><ellipse cx=10.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=17.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=10.5 cy=11.5 rx=7 ry=7 fill-opacity=0 fill=none stroke-opacity=1 stroke-width=1>');const Fz=()=>Dz();var Rz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.57625,6.9981C11.55099,6.999359999999999,11.52557,7,11.5,7C11.34,7,11.18584,6.97495,11.04125,6.9285499999999995L5.55401,16.4327C5.713760000000001,16.5905,5.83826,16.7839,5.91465,17L16.0854,17C16.2187,16.622700000000002,16.4987,16.314700000000002,16.8569,16.1445L11.57625,6.9981ZM12.50759,6.611219999999999C12.81005,6.336790000000001,13,5.94058,13,5.5C13,4.671573,12.32843,4,11.5,4C10.67157,4,10,4.671573,10,5.5C10,5.80059,10.08841,6.08052,10.24066,6.31522L4.64514,16.0069C4.59738,16.002299999999998,4.54896,16,4.5,16C3.671573,16,3,16.671599999999998,3,17.5C3,18.328400000000002,3.671573,19,4.5,19C5.15311,19,5.70873,18.5826,5.91465,18L16.0854,18C16.2913,18.5826,16.846899999999998,19,17.5,19C18.328400000000002,19,19,18.328400000000002,19,17.5C19,16.8365,18.5691,16.2735,17.971899999999998,16.075699999999998L12.50759,6.611219999999999Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const Oz=()=>Rz();var Nz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M19,4.5C19,5.15311,18.5826,5.70873,18,5.91465L18,18.5C18,18.7761,17.7761,19,17.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854L4,4.5C4,4.22386,4.22386,4,4.5,4L16.0854,4C16.2913,3.417404,16.846899999999998,3,17.5,3C18.328400000000002,3,19,3.671573,19,4.5ZM5,5L16.0854,5C16.236,5.42621,16.5738,5.763999999999999,17,5.91465L17,18L5.91465,18C5.763999999999999,17.5738,5.42621,17.236,5,17.0854L5,5Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const zz=()=>Nz();var Bz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M19.6401,7.99355C20.4028,7.92291,21,7.2811900000000005,21,6.5C21,5.671573,20.3284,5,19.5,5C18.8469,5,18.2913,5.417404,18.0854,6L7.62067,6C7.34453,6,7.12067,6.22386,7.12067,6.5C7.12067,6.5479,7.12741,6.59423,7.13999,6.63809L3.2294099999999997,15.0243C2.530138,15.1517,2,15.764,2,16.5C2,17.328400000000002,2.671573,18,3.5,18C4.15311,18,4.70873,17.5826,4.91465,17L14.5963,17C14.6456,17.076,14.7162,17.1396,14.8044,17.1807C15.0546,17.2974,15.3521,17.1891,15.4688,16.9388L19.6401,7.99355ZM14.7896,16.0293L18.6551,7.739599999999999C18.3942,7.56144,18.1925,7.30307,18.0854,7L8.0746,7L4.25044,15.2009C4.55701,15.3784,4.79493,15.6613,4.91465,16L14.6207,16C14.68,16,14.7368,16.0103,14.7896,16.0293Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const Vz=()=>Bz();var $z=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M8.134443814697265,7.494615087890625L8.764323814697265,7.494615087890625L8.764323814697265,3.414215087890625L8.310223814697267,3.414215087890625L7.294603814697266,4.005035087890625L7.289713814697266,4.634915087890625L8.134443814697265,4.149892087890625L8.134443814697265,7.494615087890625ZM18.832003814697266,6.933095087890624Q19.004603814697266,6.635245087890625,19.004603814697266,6.2543850878906255Q19.004603814697266,5.884915087890625,18.845103814697264,5.593575087890625Q18.685503814697267,5.3006050878906255,18.399103814697266,5.136225087890625Q18.114303814697266,4.9702050878906245,17.754603814697266,4.9653250878906245L18.820603814697265,3.840647087890625L18.820603814697265,3.414215087890625L16.519203814697264,3.414215087890625L16.519203814697264,3.939931087890625L18.050803814697264,3.939931087890625L16.719403814697266,5.334785087890625L17.074203814697263,5.7205350878906245Q17.254903814697265,5.484525087890625,17.619503814697268,5.484525087890625Q17.980803814697268,5.484525087890625,18.187503814697266,5.689605087890625Q18.394203814697267,5.894685087890625,18.394203814697267,6.2543850878906255Q18.394203814697267,6.604315087890625,18.187503814697266,6.822415087890625Q17.980803814697268,7.0405150878906255,17.640603814697265,7.0405150878906255Q17.334603814697267,7.0405150878906255,17.124703814697266,6.890775087890625Q16.914703814697265,6.739415087890626,16.820303814697265,6.469225087890624L16.354803814697263,6.744295087890626Q16.480103814697266,7.125155087890625,16.821903814697265,7.341625087890625Q17.165403814697264,7.559725087890625,17.640603814697265,7.559725087890625Q18.039403814697266,7.559725087890625,18.348603814697267,7.393705087890625Q18.659503814697267,7.229315087890625,18.832003814697266,6.933095087890624ZM10.000003814697266,10.634915087890626C10.000003814697266,11.024655087890626,9.851363814697265,11.379685087890625,9.607683814697266,11.646395087890625L12.168903814697266,15.171615087890626C12.275403814697265,15.147615087890625,12.386203814697266,15.134915087890626,12.500003814697266,15.134915087890626C12.596503814697266,15.134915087890626,12.690803814697265,15.144015087890624,12.782303814697265,15.161415087890624L16.108803814697268,11.196955087890625C16.038703814697264,11.023375087890624,16.000003814697266,10.833655087890625,16.000003814697266,10.634915087890626C16.000003814697266,9.806495087890625,16.671603814697264,9.134915087890626,17.500003814697266,9.134915087890626C18.328403814697264,9.134915087890626,19.000003814697266,9.806495087890625,19.000003814697266,10.634915087890626C19.000003814697266,11.463345087890625,18.328403814697264,12.134915087890626,17.500003814697266,12.134915087890626C17.239503814697265,12.134915087890626,16.994503814697268,12.068495087890625,16.781003814697264,11.951675087890624L13.654703814697266,15.677415087890624C13.870303814697266,15.937215087890625,14.000003814697266,16.270915087890625,14.000003814697266,16.634915087890626C14.000003814697266,17.463315087890624,13.328403814697266,18.134915087890626,12.500003814697266,18.134915087890626C11.671573814697265,18.134915087890626,11.000003814697266,17.463315087890624,11.000003814697266,16.634915087890626C11.000003814697266,16.284415087890626,11.120193814697265,15.962015087890626,11.321603814697266,15.706715087890625L8.715393814697265,12.119565087890624C8.645053814697267,12.129685087890625,8.573143814697266,12.134915087890626,8.500003814697266,12.134915087890626C8.162103814697264,12.134915087890626,7.8503038146972655,12.023195087890626,7.599523814697266,11.834665087890626L4.505583814697266,15.521915087890624C4.809213814697266,15.796415087890624,5.000003814697266,16.193415087890624,5.000003814697266,16.634915087890626C5.000003814697266,17.463315087890624,4.328433814697266,18.134915087890626,3.5000038146972656,18.134915087890626C2.6715768146972656,18.134915087890626,2.0000038146972656,17.463315087890624,2.0000038146972656,16.634915087890626C2.0000038146972656,15.806515087890626,2.6715768146972656,15.134915087890626,3.5000038146972656,15.134915087890626C3.508253814697266,15.134915087890626,3.5164838146972657,15.135015087890626,3.524703814697266,15.135115087890625L7.033823814697266,10.953115087890625C7.011673814697265,10.850565087890626,7.000003814697266,10.744105087890624,7.000003814697266,10.634915087890626C7.000003814697266,9.806495087890625,7.671573814697266,9.134915087890626,8.500003814697266,9.134915087890626C9.328433814697267,9.134915087890626,10.000003814697266,9.806495087890625,10.000003814697266,10.634915087890626Z stroke-opacity=0 stroke=none>');const Wz=()=>$z();var Hz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M8.13444,7.494615087890625L8.76432,7.494615087890625L8.76432,3.414215087890625L8.310220000000001,3.414215087890625L7.2946,4.005035087890625L7.28971,4.634915087890625L8.13444,4.149892087890625L8.13444,7.494615087890625ZM18.832,6.929835087890625Q19.0046,6.635245087890625,19.0046,6.2543850878906255Q19.0046,5.889805087890625,18.8451,5.5952050878906245Q18.6855,5.3006050878906255,18.3975,5.132965087890625Q18.1094,4.9653250878906245,17.7399,4.9653250878906245Q17.435499999999998,4.9653250878906245,17.1556,5.149245087890625L17.2793,3.939931087890625L18.8304,3.939931087890625L18.8304,3.414215087890625L16.7406,3.414215087890625L16.5094,5.665195087890625L17.0156,5.795405087890625Q17.095399999999998,5.655425087890626,17.2516,5.570795087890625Q17.4095,5.484525087890625,17.6357,5.484525087890625Q17.9694,5.484525087890625,18.1842,5.697745087890625Q18.4007,5.909335087890625,18.4007,6.2543850878906255Q18.4007,6.604315087890625,18.1842,6.822415087890625Q17.9694,7.0405150878906255,17.6292,7.0405150878906255Q17.3298,7.0405150878906255,17.119799999999998,6.890775087890625Q16.9098,6.739415087890626,16.825200000000002,6.474115087890625L16.3597,6.749175087890626Q16.470399999999998,7.110505087890624,16.807299999999998,7.335115087890625Q17.144199999999998,7.559725087890625,17.6292,7.559725087890625Q18.0296,7.559725087890625,18.3438,7.392075087890625Q18.6595,7.224435087890625,18.832,6.929835087890625ZM10,10.634915087890626C10,11.024655087890626,9.85136,11.379685087890625,9.60768,11.646395087890625L12.1689,15.171615087890626C12.2754,15.147615087890625,12.3862,15.134915087890626,12.5,15.134915087890626C12.5965,15.134915087890626,12.6908,15.144015087890624,12.7823,15.161415087890624L16.108800000000002,11.196955087890625C16.0387,11.023375087890624,16,10.833655087890625,16,10.634915087890626C16,9.806495087890625,16.671599999999998,9.134915087890626,17.5,9.134915087890626C18.3284,9.134915087890626,19,9.806495087890625,19,10.634915087890626C19,11.463345087890625,18.3284,12.134915087890626,17.5,12.134915087890626C17.2395,12.134915087890626,16.994500000000002,12.068505087890625,16.781,11.951675087890624L13.6547,15.677415087890624C13.8703,15.937215087890625,14,16.270915087890625,14,16.634915087890626C14,17.463315087890624,13.3284,18.134915087890626,12.5,18.134915087890626C11.67157,18.134915087890626,11,17.463315087890624,11,16.634915087890626C11,16.284415087890626,11.12019,15.962015087890626,11.3216,15.706715087890625L8.71539,12.119565087890624C8.645050000000001,12.129685087890625,8.57314,12.134915087890626,8.5,12.134915087890626C8.162099999999999,12.134915087890626,7.8503,12.023195087890626,7.59952,11.834665087890626L4.50558,15.521915087890624C4.80921,15.796415087890624,5,16.193415087890624,5,16.634915087890626C5,17.463315087890624,4.32843,18.134915087890626,3.5,18.134915087890626C2.671573,18.134915087890626,2,17.463315087890624,2,16.634915087890626C2,15.806515087890626,2.671573,15.134915087890626,3.5,15.134915087890626C3.5082500000000003,15.134915087890626,3.51648,15.135015087890626,3.5247,15.135115087890625L7.03382,10.953115087890625C7.01167,10.850565087890626,7,10.744105087890624,7,10.634915087890626C7,9.806495087890625,7.67157,9.134915087890626,8.5,9.134915087890626C9.32843,9.134915087890626,10,9.806495087890625,10,10.634915087890626Z stroke-opacity=0 stroke=none>');const Uz=()=>Hz();var jz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M18.8532,7.020985087890625Q19.0257,6.734525087890625,19.0257,6.369945087890625Q19.0257,6.020005087890625,18.8499,5.754705087890625Q18.6758,5.489415087890626,18.3649,5.339675087890625Q18.5944,5.209465087890625,18.7214,4.994615087890625Q18.8499,4.779775087890625,18.8499,4.5193550878906255Q18.8499,4.2003480878906245,18.7002,3.951324087890625Q18.5505,3.700673087890625,18.277,3.557444087890625Q18.0052,3.414215087890625,17.6455,3.414215087890625Q17.285800000000002,3.414215087890625,17.0107,3.557444087890625Q16.7357,3.700673087890625,16.5843,3.951324087890625Q16.4346,4.2003480878906245,16.4346,4.5193550878906255Q16.4346,4.779775087890625,16.561500000000002,4.994615087890625Q16.6901,5.209465087890625,16.919600000000003,5.339675087890625Q16.6055,5.489415087890626,16.4297,5.757965087890625Q16.255499999999998,6.024895087890625,16.255499999999998,6.369945087890625Q16.255499999999998,6.734525087890625,16.4297,7.020985087890625Q16.6055,7.305815087890625,16.919600000000003,7.465325087890625Q17.2354,7.624825087890625,17.6455,7.624825087890625Q18.0557,7.624825087890625,18.3682,7.465325087890625Q18.6807,7.305815087890625,18.8532,7.020985087890625ZM8.76432,7.559725087890625L8.13444,7.559725087890625L8.13444,4.214996087890625L7.28971,4.700025087890625L7.2946,4.070139087890625L8.310220000000001,3.479319087890625L8.76432,3.479319087890625L8.76432,7.559725087890625ZM17.1816,4.955555087890625Q17.0042,4.784655087890625,17.0042,4.5095950878906255Q17.0042,4.229645087890625,17.18,4.057119087890625Q17.355800000000002,3.884592087890625,17.6455,3.884592087890625Q17.935200000000002,3.884592087890625,18.1077,4.057119087890625Q18.2803,4.229645087890625,18.2803,4.5095950878906255Q18.2803,4.784655087890625,18.1045,4.955555087890625Q17.930300000000003,5.124825087890625,17.6455,5.124825087890625Q17.3607,5.124825087890625,17.1816,4.955555087890625ZM18.2217,5.7953950878906255Q18.4398,6.005365087890625,18.4398,6.3552950878906245Q18.4398,6.705235087890625,18.2217,6.915195087890625Q18.0052,7.125155087890625,17.6455,7.125155087890625Q17.285800000000002,7.125155087890625,17.067700000000002,6.915195087890625Q16.849600000000002,6.705235087890625,16.849600000000002,6.3552950878906245Q16.849600000000002,6.005365087890625,17.064500000000002,5.7953950878906255Q17.2793,5.585435087890625,17.6455,5.585435087890625Q18.0052,5.585435087890625,18.2217,5.7953950878906255ZM9.60768,11.711495087890626C9.85136,11.444785087890626,10,11.089765087890626,10,10.700025087890625C10,9.871595087890626,9.32843,9.200025087890625,8.5,9.200025087890625C7.67157,9.200025087890625,7,9.871595087890626,7,10.700025087890625C7,10.809205087890625,7.01167,10.915665087890625,7.03382,11.018215087890624L3.5247,15.200215087890625C3.51648,15.200115087890625,3.5082500000000003,15.200015087890625,3.5,15.200015087890625C2.671573,15.200015087890625,2,15.871615087890625,2,16.700015087890627C2,17.528415087890625,2.671573,18.200015087890627,3.5,18.200015087890627C4.32843,18.200015087890627,5,17.528415087890625,5,16.700015087890627C5,16.258515087890625,4.80921,15.861515087890625,4.50558,15.587015087890626L7.59952,11.899765087890625C7.8503,12.088295087890625,8.162099999999999,12.200025087890625,8.5,12.200025087890625C8.57314,12.200025087890625,8.645050000000001,12.194785087890626,8.71539,12.184675087890625L11.3216,15.771815087890625C11.12019,16.027215087890625,11,16.349515087890623,11,16.700015087890627C11,17.528415087890625,11.67157,18.200015087890627,12.5,18.200015087890627C13.3284,18.200015087890627,14,17.528415087890625,14,16.700015087890627C14,16.336015087890623,13.8703,16.002315087890626,13.6547,15.742515087890625L16.781,12.016775087890625C16.994500000000002,12.133605087890626,17.2395,12.200025087890625,17.5,12.200025087890625C18.3284,12.200025087890625,19,11.528445087890624,19,10.700025087890625C19,9.871595087890626,18.3284,9.200025087890625,17.5,9.200025087890625C16.671599999999998,9.200025087890625,16,9.871595087890626,16,10.700025087890625C16,10.898765087890624,16.0387,11.088475087890625,16.108800000000002,11.262055087890625L12.7823,15.226515087890625C12.6908,15.209115087890625,12.5965,15.200015087890625,12.5,15.200015087890625C12.3862,15.200015087890625,12.2754,15.212715087890626,12.1689,15.236715087890625L9.60768,11.711495087890626Z stroke-opacity=0 stroke=none>');const Xz=()=>jz();var Yz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M9.474616630859375,7.494615087890625L8.844736630859375,7.494615087890625L8.844736630859375,4.149892087890625L8.000006630859374,4.634915087890625L8.004896630859374,4.005035087890625L9.020516630859376,3.414215087890625L9.474616630859375,3.414215087890625L9.474616630859375,7.494615087890625ZM18.529296630859378,4.8318550878906255Q18.307996630859375,5.028795087890625,18.122396630859377,5.385245087890625Q17.868496630859376,5.019035087890625,17.629196630859376,4.8269750878906255Q17.389996630859375,4.634915087890625,17.168596630859376,4.634915087890625Q16.794296630859375,4.634915087890625,16.522496630859376,4.976715087890625Q16.252296630859377,5.3168850878906255,16.252296630859377,5.7856350878906255Q16.252296630859377,6.218575087890625,16.502896630859375,6.521315087890625Q16.755196630859373,6.822415087890625,17.114896630859377,6.822415087890625Q17.368796630859375,6.822415087890625,17.588596630859374,6.625475087890624Q17.809896630859377,6.428535087890625,17.998696630859374,6.0688350878906245Q18.249396630859373,6.439935087890625,18.488596630859377,6.631985087890625Q18.727896630859377,6.822415087890625,18.952496630859375,6.822415087890625Q19.326796630859373,6.822415087890625,19.596996630859376,6.482245087890625Q19.868796630859375,6.140455087890626,19.868796630859375,5.671705087890626Q19.868796630859375,5.238755087890625,19.618196630859376,4.937655087890625Q19.367496630859375,4.634915087890625,19.006196630859375,4.634915087890625Q18.750696630859377,4.634915087890625,18.529296630859378,4.8318550878906255ZM18.337296630859377,5.674955087890625L18.278696630859375,5.596835087890625Q18.449596630859375,5.272935087890625,18.622096630859374,5.1101750878906245Q18.794596630859374,4.947415087890625,18.967096630859373,4.947415087890625Q19.194996630859375,4.947415087890625,19.346396630859374,5.1345950878906255Q19.497696630859377,5.320135087890625,19.497696630859377,5.598455087890625Q19.497696630859377,5.8914250878906245,19.360996630859376,6.096505087890625Q19.224296630859374,6.301585087890626,19.027396630859375,6.301585087890626Q18.915096630859374,6.301585087890626,18.742496630859375,6.146965087890624Q18.569996630859375,5.992335087890625,18.337296630859377,5.674955087890625ZM17.785496630859377,5.779125087890625L17.842496630859372,5.857245087890625Q17.668296630859373,6.186025087890625,17.495796630859374,6.348785087890625Q17.324896630859374,6.509915087890625,17.153996630859375,6.509915087890625Q16.926096630859377,6.509915087890625,16.774796630859377,6.324375087890624Q16.623396630859375,6.137195087890625,16.623396630859375,5.858875087890625Q16.623396630859375,5.565905087890625,16.761696630859376,5.360825087890625Q16.900096630859373,5.1557550878906255,17.095396630859376,5.1557550878906255Q17.228896630859374,5.1557550878906255,17.365596630859375,5.2778250878906245Q17.502296630859377,5.399895087890625,17.785496630859377,5.779125087890625ZM10.710296630859375,10.634915087890626C10.710296630859375,11.024655087890626,10.561656630859375,11.379685087890625,10.317976630859375,11.646395087890625L12.879196630859376,15.171615087890626C12.985696630859374,15.147615087890625,13.096496630859376,15.134915087890626,13.210296630859375,15.134915087890626C13.306796630859376,15.134915087890626,13.401096630859374,15.144015087890624,13.492596630859374,15.161415087890624L16.819096630859377,11.196955087890625C16.748996630859374,11.023375087890624,16.710296630859375,10.833655087890625,16.710296630859375,10.634915087890626C16.710296630859375,9.806495087890625,17.381896630859373,9.134915087890626,18.210296630859375,9.134915087890626C19.038696630859373,9.134915087890626,19.710296630859375,9.806495087890625,19.710296630859375,10.634915087890626C19.710296630859375,11.463345087890625,19.038696630859373,12.134915087890626,18.210296630859375,12.134915087890626C17.949796630859375,12.134915087890626,17.704796630859377,12.068505087890625,17.491296630859374,11.951675087890624L14.364996630859375,15.677415087890624C14.580596630859375,15.937215087890625,14.710296630859375,16.270915087890625,14.710296630859375,16.634915087890626C14.710296630859375,17.463315087890624,14.038696630859375,18.134915087890626,13.210296630859375,18.134915087890626C12.381866630859374,18.134915087890626,11.710296630859375,17.463315087890624,11.710296630859375,16.634915087890626C11.710296630859375,16.284415087890626,11.830486630859374,15.962015087890626,12.031896630859375,15.706715087890625L9.425686630859374,12.119565087890624C9.355346630859376,12.129685087890625,9.283436630859375,12.134915087890626,9.210296630859375,12.134915087890626C8.872396630859374,12.134915087890626,8.560596630859376,12.023195087890626,8.309816630859375,11.834665087890626L5.215876630859375,15.521915087890624C5.519506630859375,15.796415087890624,5.710296630859375,16.193415087890624,5.710296630859375,16.634915087890626C5.710296630859375,17.463315087890624,5.038726630859375,18.134915087890626,4.210296630859375,18.134915087890626C3.381869630859375,18.134915087890626,2.710296630859375,17.463315087890624,2.710296630859375,16.634915087890626C2.710296630859375,15.806515087890626,3.381869630859375,15.134915087890626,4.210296630859375,15.134915087890626C4.218546630859375,15.134915087890626,4.226776630859375,15.135015087890626,4.234996630859375,15.135115087890625L7.744116630859375,10.953115087890625C7.721966630859375,10.850565087890626,7.710296630859375,10.744105087890624,7.710296630859375,10.634915087890626C7.710296630859375,9.806495087890625,8.381866630859374,9.134915087890626,9.210296630859375,9.134915087890626C10.038726630859376,9.134915087890626,10.710296630859375,9.806495087890625,10.710296630859375,10.634915087890626Z stroke-opacity=0 stroke=none>');const Zz=()=>Yz();var Kz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M21,5.5C21,6.32843,20.3284,7,19.5,7C19.4136,7,19.3289,6.99269,19.2465,6.97866L15.6257,15.5086C15.8587,15.7729,16,16.119999999999997,16,16.5C16,17.328400000000002,15.3284,18,14.5,18C13.8469,18,13.2913,17.5826,13.0854,17L3.91465,17C3.70873,17.5826,3.15311,18,2.5,18C1.671573,18,1,17.328400000000002,1,16.5C1,15.6716,1.671573,15,2.5,15C2.5840199999999998,15,2.66643,15.0069,2.74668,15.0202L6.36934,6.48574C6.13933,6.22213,6,5.87733,6,5.5C6,4.671573,6.67157,4,7.5,4C8.15311,4,8.70873,4.417404,8.91465,5L18.0854,5C18.2913,4.417404,18.8469,4,19.5,4C20.3284,4,21,4.671573,21,5.5ZM18.0854,6L8.91465,6C8.892579999999999,6.06243,8.8665,6.12296,8.83672,6.18128L13.9814,15.0921C14.143,15.0325,14.3177,15,14.5,15C14.584,15,14.6664,15.0069,14.7467,15.0202L18.3693,6.48574C18.2462,6.3446,18.149,6.1802,18.0854,6ZM13.2036,15.745L8.0861,6.8811800000000005C7.90605,6.95768,7.70797,7,7.5,7C7.41359,7,7.32888,6.99269,7.24647,6.97866L3.62571,15.5086C3.7512,15.651,3.8501,15.8174,3.91465,16L13.0854,16C13.1169,15.9108,13.1566,15.8255,13.2036,15.745Z stroke-opacity=0 stroke=none>');const Gz=()=>Kz();var qz=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.92159,5.93994C6.04014,5.90529,6.152620000000001,5.85639,6.25704,5.79523L9.12729,9.89437C9.045449999999999,10.07959,9,10.28449,9,10.5C9,10.79522,9.08529,11.07053,9.232569999999999,11.30262L4.97573,16.7511L5.92159,5.93994ZM4.92259,5.8848400000000005C4.38078,5.658659999999999,4,5.1238,4,4.5C4,3.671573,4.67157,3,5.5,3C6.2157,3,6.81433,3.50124,6.96399,4.17183L15.1309,4.88634C15.3654,4.36387,15.8902,4,16.5,4C17.328400000000002,4,18,4.67157,18,5.5C18,6.08983,17.659599999999998,6.60015,17.1645,6.84518L18.4264,14.0018C18.4508,14.0006,18.4753,14,18.5,14C19.3284,14,20,14.6716,20,15.5C20,16.328400000000002,19.3284,17,18.5,17C17.932499999999997,17,17.4386,16.6849,17.183799999999998,16.22L5.99686,18.5979C5.946429999999999,19.3807,5.29554,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.869300000000003,3.389292,17.3295,3.94071,17.1077L4.92259,5.8848400000000005ZM5.72452,17.6334C5.69799,17.596,5.6698,17.5599,5.64004,17.525100000000002L10.01843,11.92103C10.16958,11.97223,10.33155,12,10.5,12C10.80059,12,11.08052,11.91158,11.31522,11.75934L17.0606,15.0765C17.0457,15.1271,17.0335,15.1789,17.023899999999998,15.2317L5.72452,17.6334ZM11.92855,10.95875L17.4349,14.1379L16.1699,6.96356C15.9874,6.92257,15.8174,6.8483,15.6667,6.74746L11.99771,10.4165C11.99923,10.44414,12,10.47198,12,10.5C12,10.66,11.97495,10.814160000000001,11.92855,10.95875ZM10.5,9C10.259830000000001,9,10.03285,9.05644,9.83159,9.15679L7.04919,5.1831L15.0493,5.88302C15.054,5.90072,15.059,5.91829,15.0643,5.9357299999999995L11.56066,9.43934C11.28921,9.16789,10.91421,9,10.5,9Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const Qz=()=>qz();var Jz=ee('<svg viewBox="0 0 22 22"><path d=M4.727219638671875,8.007996215820313L9.973849638671876,2.7629472158203123C10.167279638671875,2.5696791158203123,10.480729638671875,2.5696791158203123,10.674169638671875,2.7629472158203123L13.223329638671874,5.311756215820313C13.416929638671874,5.505236215820313,13.416929638671874,5.8189862158203125,13.223329638671874,6.012466215820313L7.977129638671875,11.257906215820313C7.379859638671875,11.855176215820313,7.407609638671875,12.909396215820312,8.033809638671876,13.535596215820313C8.660409638671876,14.162596215820313,9.713849638671874,14.189996215820312,10.311129638671876,13.591896215820313L15.556929638671875,8.346066215820311C15.750429638671875,8.152526215820313,16.064229638671875,8.152526215820313,16.257629638671872,8.346066215820311L18.806529638671876,10.895266215820312C19.000029638671876,11.088746215820313,19.000029638671876,11.402496215820312,18.806529638671876,11.595976215820313L13.560629638671875,16.841796215820313C11.165619638671876,19.237196215820312,7.197149638671875,19.19919621582031,4.783499638671875,16.785496215820313C2.3698426386718747,14.371896215820312,2.331397638671875,10.403416215820313,4.727219638671875,8.007996215820313ZM12.172299638671875,5.662106215820312L10.323809638671875,3.8136162158203124L5.4287196386718755,8.709096215820313C3.422893638671875,10.714536215820312,3.4549956386718748,14.055196215820313,5.484999638671875,16.08479621582031C7.514609638671875,18.114796215820313,10.855289638671875,18.146496215820314,12.860719638671876,16.141096215820312L15.465629638671874,13.535796215820312L14.090929638671875,12.160756215820312L14.791629638671875,11.460436215820312L16.166229638671876,12.834996215820313L17.755829638671877,11.245226215820313L15.907729638671874,9.396736215820312L11.011839638671875,14.292596215820312C10.042809638671875,15.262396215820312,8.418249638671874,15.243796215820312,7.406019638671875,14.306496215820312L7.333099638671875,14.236296215820312C6.327599638671876,13.230796215820313,6.284009638671876,11.550396215820312,7.276419638671875,10.557586215820312L9.882199638671874,7.952026215820313L8.501079638671875,6.570906215820313L9.201789638671876,5.870186215820313L10.582939638671874,7.251336215820312L12.172299638671875,5.662106215820312Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const eB=e=>(()=>{var r=Jz();return Ye(r,"class",`icon-overlay ${e??""}`),r})();var tB=ee('<svg viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_615><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_615)><path d=M19.672,3.0673368C19.4417,2.9354008,19.1463,3.00292252,18.9994,3.2210900000000002L17.4588,5.50622L16.743299999999998,3.781253L13.9915,7.4662L13.9618,7.51108C13.8339,7.72862,13.8936,8.005659999999999,14.1004,8.15391L14.1462,8.183430000000001C14.3683,8.308720000000001,14.6511,8.25001,14.8022,8.047229999999999L16.4907,5.78571L17.246299999999998,7.60713L19.8374,3.7635389999999997L19.8651,3.717088C19.9871,3.484615,19.9023,3.199273,19.672,3.0673368ZM4.79974,8.462530000000001L10.117740000000001,3.252975C10.31381,3.0610145,10.63152,3.0610145,10.82759,3.252975L13.4115,5.78453C13.6076,5.976710000000001,13.6076,6.28833,13.4115,6.4805L8.093869999999999,11.69045C7.48847,12.28368,7.51659,13.3308,8.151309999999999,13.9528C8.786439999999999,14.5755,9.85421,14.6027,10.45961,14.0087L15.7768,8.79831C15.9729,8.60609,16.2909,8.60609,16.487099999999998,8.79831L19.0705,11.33026C19.2667,11.52244,19.2667,11.83406,19.0705,12.02623L13.7533,17.2366C11.32572,19.6158,7.30328,19.578,4.85679,17.1807C2.410298,14.7834,2.371331,10.84174,4.79974,8.462530000000001ZM12.3461,6.1325199999999995L10.47246,4.29654L5.51079,9.15889C3.477674,11.15076,3.510214,14.4688,5.56784,16.4847C7.62506,18.500999999999998,11.01117,18.5325,13.0439,16.540599999999998L15.6842,13.9529L14.2908,12.58718L15.0011,11.89161L16.394399999999997,13.2569L18.0056,11.67786L16.1323,9.84188L11.16985,14.7046C10.18764,15.6679,8.540980000000001,15.6494,7.51498,14.7184L7.44107,14.6487C6.4219,13.65,6.37771,11.98096,7.38362,10.994869999999999L10.02485,8.40693L8.624939999999999,7.03516L9.335180000000001,6.33919L10.73512,7.71099L12.3461,6.1325199999999995Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const rB=e=>(()=>{var r=tB();return Ye(r,"class",`icon-overlay ${e??""}`),r})();var nB=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11,17C5.80945,17,3.667717,12.85,3.113386,11.575C2.9622047,11.2,2.9622047,10.8,3.113386,10.425C3.667717,9.15,5.80945,5,11,5C16.165399999999998,5,18.3323,9.15,18.8866,10.425C19.0378,10.8,19.0378,11.2,18.8866,11.575C18.3323,12.85,16.165399999999998,17,11,17ZM4.04567,10.8C3.995276,10.925,3.995276,11.05,4.04567,11.175C4.52441,12.325,6.43937,16,11,16C15.5606,16,17.4756,12.325,17.9543,11.2C18.0047,11.075,18.0047,10.95,17.9543,10.825C17.4756,9.675,15.5606,6,11,6C6.43937,6,4.52441,9.675,4.04567,10.8ZM11,13.5C9.61417,13.5,8.480319999999999,12.375,8.480319999999999,11C8.480319999999999,9.625,9.61417,8.5,11,8.5C12.38583,8.5,13.5197,9.625,13.5197,11C13.5197,12.375,12.38583,13.5,11,13.5ZM11,9.5C10.1685,9.5,9.48819,10.175,9.48819,11C9.48819,11.825,10.1685,12.5,11,12.5C11.8315,12.5,12.51181,11.825,12.51181,11C12.51181,10.175,11.8315,9.5,11,9.5Z stroke-opacity=0 fill-opacity=1>');const iB=()=>nB();var aB=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.80417,14.9887L4.62563,16.167299999999997C4.43037,16.3625,4.43037,16.6791,4.62563,16.8744C4.82089,17.0696,5.13748,17.0696,5.332739999999999,16.8744L6.62638,15.5807C7.75595,16.290100000000002,9.19328,16.7929,11,16.7929C16.165399999999998,16.7929,18.3323,12.64289,18.8866,11.36789C19.0378,10.99289,19.0378,10.59289,18.8866,10.21789C18.5549,9.45486,17.6456,7.66212,15.8617,6.34545L17.3536,4.853553C17.5488,4.658291,17.5488,4.341709,17.3536,4.146447C17.1583,3.9511845,16.8417,3.9511845,16.6464,4.146447L15.0014,5.7915399999999995C13.9314,5.1969,12.61166,4.792893,11,4.792893C5.80945,4.792893,3.667717,8.94289,3.113386,10.21789C2.9622049,10.59289,2.9622049,10.99289,3.113386,11.36789C3.424435,12.08333,4.2353000000000005,13.70399,5.80417,14.9887ZM7.36012,14.847C8.32327,15.4074,9.52286,15.7929,11,15.7929C15.5606,15.7929,17.4756,12.11789,17.9543,10.99289C18.0047,10.86789,18.0047,10.74289,17.9543,10.61789C17.659,9.90846,16.8171,8.23812,15.1447,7.06241L12.96929,9.23782C13.3134,9.66543,13.5197,10.20642,13.5197,10.79289C13.5197,12.16789,12.38583,13.29289,11,13.29289C10.41596,13.29289,9.87667,13.09308,9.44815,12.75896L7.36012,14.847ZM8.794609999999999,11.99829L6.520099999999999,14.2728C5.06905,13.12119,4.32057,11.628250000000001,4.04567,10.96789C3.995275,10.84289,3.995275,10.71789,4.04567,10.59289C4.52441,9.46789,6.43937,5.79289,11,5.79289C12.28868,5.79289,13.3661,6.086320000000001,14.2596,6.53329L12.19759,8.5953C11.84086,8.40257,11.43271,8.29289,11,8.29289C9.61417,8.29289,8.480319999999999,9.41789,8.480319999999999,10.79289C8.480319999999999,11.22918,8.594470000000001,11.64029,8.794609999999999,11.99829ZM10.16528,12.04183C10.404869999999999,12.20032,10.692070000000001,12.29289,11,12.29289C11.8315,12.29289,12.51181,11.61789,12.51181,10.79289C12.51181,10.48318,12.41593,10.194600000000001,12.25216,9.95494L10.16528,12.04183ZM11.43602,9.35687L9.55616,11.236740000000001C9.512,11.09633,9.48819,10.94724,9.48819,10.79289C9.48819,9.96789,10.1685,9.29289,11,9.29289C11.15142,9.29289,11.29782,9.31528,11.43602,9.35687Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const oB=()=>aB();var lB=ee('<svg class=icon-overlay viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_625><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_625)><path d=M14.5385,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807692,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.88462,4,14.5385,5.61538,14.5385,7.576919999999999L14.5385,9.76923ZM10.88461,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923L13.38462,9.76923L13.38462,7.576919999999999C13.38462,6.23077,12.26923,5.15385,10.88461,5.15385ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.038450000000001,12.07692,11.307680000000001,12.34615,11.307680000000001,12.65385L11.307680000000001,14.5769C11.307680000000001,14.8846,11.038450000000001,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const sB=()=>lB();var cB=ee('<svg class=icon-overlay viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_620><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_620)><path d=M8.38461,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807693,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.46154,4,13.84615,4.961539,14.3462,6.423080000000001C14.4615,6.73077,14.3077,7.038460000000001,14,7.15385C13.69231,7.26923,13.38461,7.11538,13.26923,6.80769C12.92308,5.80769,11.96154,5.15385,10.88462,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.03846,12.07692,11.307690000000001,12.34615,11.307690000000001,12.65385L11.307690000000001,14.5769C11.307690000000001,14.8846,11.03846,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const uB=()=>cB();var dB=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M16.966900000000003,8.67144C16.6669,8.67144,16.4247,8.91558,16.4247,9.21802L16.4247,16.631500000000003C16.4247,17.322,16.007199999999997,17.9068,15.5139,17.9068L13.93072,17.9068L13.93072,9.2162C13.93072,8.91741,13.68675,8.67144,13.38855,8.67144C13.09036,8.67144,12.84639,8.91741,12.84639,9.21802L12.84639,17.9068L10.151810000000001,17.9068L10.151810000000001,9.21802C10.151810000000001,8.91741,9.90783,8.67144,9.609639999999999,8.67144C9.31145,8.67144,9.06747,8.91741,9.06747,9.219850000000001L9.06747,17.9068L7.48614,17.9068C6.99277,17.9068,6.5753,17.322,6.5753,16.631500000000003L6.5753,9.21802C6.5753,8.91558,6.333130000000001,8.67144,6.03313,8.67144C5.73313,8.67144,5.49096,8.91558,5.49096,9.21802L5.49096,16.631500000000003C5.49096,17.9378,6.385540000000001,19,7.48614,19L15.512,19C16.6127,19,17.509,17.9378,17.509,16.631500000000003L17.509,9.21802C17.509,8.91558,17.2669,8.67144,16.966900000000003,8.67144ZM18.4578,6.21183L4.542169,6.21183C4.243976,6.21183,4,6.45779,4,6.75841C4,7.05903,4.243976,7.30499,4.542169,7.30499L18.4578,7.30499C18.756,7.30499,19,7.05903,19,6.75841C19,6.45779,18.756,6.21183,18.4578,6.21183ZM8.68072,5.10045L14.3193,5.10045C14.6175,5.10045,14.8614,4.852666,14.8614,4.550225C14.8614,4.247783,14.6175,4,14.3193,4L8.68072,4C8.38253,4,8.13855,4.247783,8.13855,4.550225C8.13855,4.852666,8.38253,5.10045,8.68072,5.10045Z stroke-opacity=0 fill-opacity=1>');const hB=()=>dB();var pB=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d=m15.57,0.2l-15.37,15.37l6.33,6.33l15.37,-15.37l-6.33,-6.33zm-13.56,15.37l0.89,-0.89l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.92,-0.92l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.89,-0.89l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.92,-0.92l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.91,-0.91l4.52,4.52l-13.56,13.56l-4.52,-4.52z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const fB=()=>pB();var gB=ee('<svg width=30 height=40 fill=currentColor stroke=currentColor stroke-width=0.06 stroke-linecap=round fill-rule=evenodd clip-rule=evenodd shape-rendering=geometricPrecision text-rendering=geometricPrecision viewBox="0 0 1.45 1.63"><circle transform="matrix(-1.01724 -0.370788 0.370788 -1.01724 0.140283 1.49275)"r=0.13></circle><line fill=transparent x1=0.15 y1=1.49 x2=1.31 y2=1.49></line><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.140293 0.140278)"r=0.13></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.140293 0.945028)"r=0.13></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 1.3066 0.945028)"r=0.13></circle><line fill=transparent x1=1.31 y1=0.14 x2=0.15 y2=0.14></line><line fill=transparent x1=1.31 y1=0.95 x2=0.15 y2=0.95></line><line fill=transparent x1=0.65 y1=1.11 x2=0.65 y2=0.53></line><path fill=transparent d="M0.8 0.42l-0.11 -0.17c-0.02,-0.03 -0.05,-0.03 -0.08,0l-0.11 0.17c-0.02,0.04 -0.02,0.09 0,0.13 0.15,0 0.15,0 0.3,0 0.02,-0.04 0.02,-0.09 0,-0.13z"></path><path fill=transparent d="M0.8 1.21l-0.11 0.17c-0.02,0.04 -0.05,0.03 -0.08,0l-0.11 -0.17c-0.02,-0.04 -0.02,-0.09 0,-0.13 0.15,0 0.15,0 0.3,0 0.02,0.04 0.02,0.09 0,0.13z">');const vB=()=>gB();var mB=ee('<svg width=30 height=40 fill=currentColor stroke=currentColor stroke-width=0.06 stroke-linecap=round fill-rule=evenodd clip-rule=evenodd shape-rendering=geometricPrecision text-rendering=geometricPrecision viewBox="0 0 1.71 1.93"><circle transform="matrix(-1.01724 -0.370788 0.370788 -1.01724 0.165745 1.76369)"r=0.15></circle><line fill=none x1=0.18 y1=1.76 x2=1.54 y2=1.76></line><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.165756 0.165739)"r=0.15></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.165756 0.788812)"r=0.15></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 1.54375 0.788812)"r=0.15></circle><line fill=none x1=1.54 y1=0.17 x2=0.18 y2=0.17></line><line fill=none x1=1.54 y1=0.79 x2=0.18 y2=0.79></line><line fill=none x1=0.77 y1=1.31 x2=0.77 y2=0.63></line><path fill=transparent d="M0.95 0.5l-0.13 -0.2c-0.03,-0.04 -0.07,-0.04 -0.09,0l-0.13 0.2c-0.03,0.04 -0.03,0.11 0,0.15 0.16,0 0.17,0 0.35,0 0.02,-0.04 0.02,-0.11 0,-0.15z"></path><path fill=transparent d="M0.95 1.43l-0.13 0.2c-0.03,0.04 -0.07,0.04 -0.09,0l-0.13 -0.2c-0.03,-0.04 -0.03,-0.11 0,-0.15 0.16,0 0.17,0 0.35,0 0.02,0.04 0.02,0.11 0,0.15z">');const yB=()=>mB();var xB=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d="M6 4V18M4 18H8M10 7V4H2V7M17 4V18M17 4L14 7M17 4L20 7M17 18L14 15M17 18L20 15"stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round>');const CB=()=>xB();var wB=ee('<svg class=icon-overlay viewBox="0 0 22 22"><path d="M11 2V11M8 11H14M19 5V2H3V5M3 17H19M3 17L6 20M3 17L6 14M19 17L16 20M19 17L16 14"stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round>');const bB=()=>wB(),_B={horizontalStraightLine:ZN,horizontalRayLine:GN,horizontalSegment:QN,verticalStraightLine:ez,verticalRayLine:rz,verticalSegment:iz,straightLine:oz,rayLine:sz,segment:uz,arrow:hz,priceLine:fz,priceChannelLine:vz,parallelStraightLine:yz,fibonacciLine:Cz,fibonacciSegment:bz,fibonacciCircle:kz,fibonacciSpiral:Ez,fibonacciSpeedResistanceFan:Tz,fibonacciExtension:Lz,gannBox:Az,circle:Fz,triangle:Oz,rect:zz,parallelogram:Vz,threeWaves:Wz,fiveWaves:Uz,eightWaves:Xz,anyWaves:Zz,abcd:Gz,xabcd:Qz,weak_magnet:eB,strong_magnet:rB,lock:sB,unlock:uB,visible:iB,invisible:oB,remove:hB,ruler:fB,longPosition:vB,shortPosition:yB,simpleAnnotation:CB,simpleTag:bB};function kB(e){return[{key:"horizontalStraightLine",text:L("horizontal_straight_line",e)},{key:"horizontalRayLine",text:L("horizontal_ray_line",e)},{key:"horizontalSegment",text:L("horizontal_segment",e)},{key:"verticalStraightLine",text:L("vertical_straight_line",e)},{key:"verticalRayLine",text:L("vertical_ray_line",e)},{key:"verticalSegment",text:L("vertical_segment",e)},{key:"straightLine",text:L("straight_line",e)},{key:"rayLine",text:L("ray_line",e)},{key:"segment",text:L("segment",e)},{key:"arrow",text:L("arrow",e)},{key:"priceLine",text:L("price_line",e)}]}function SB(e){return[{key:"priceChannelLine",text:L("price_channel_line",e)},{key:"parallelStraightLine",text:L("parallel_straight_line",e)}]}function EB(e){return[{key:"circle",text:L("circle",e)},{key:"rect",text:L("rect",e)},{key:"parallelogram",text:L("parallelogram",e)},{key:"triangle",text:L("triangle",e)}]}function MB(e){return[{key:"fibonacciLine",text:L("fibonacci_line",e)},{key:"fibonacciSegment",text:L("fibonacci_segment",e)},{key:"fibonacciCircle",text:L("fibonacci_circle",e)},{key:"fibonacciSpiral",text:L("fibonacci_spiral",e)},{key:"fibonacciSpeedResistanceFan",text:L("fibonacci_speed_resistance_fan",e)},{key:"fibonacciExtension",text:L("fibonacci_extension",e)},{key:"gannBox",text:L("gann_box",e)}]}function TB(e){return[{key:"xabcd",text:L("xabcd",e)},{key:"abcd",text:L("abcd",e)},{key:"threeWaves",text:L("three_waves",e)},{key:"fiveWaves",text:L("five_waves",e)},{key:"eightWaves",text:L("eight_waves",e)},{key:"anyWaves",text:L("any_waves",e)}]}function IB(e){return[{key:"weak_magnet",text:L("weak_magnet",e)},{key:"strong_magnet",text:L("strong_magnet",e)}]}function LB(e){return[{key:"ruler",text:L("ruler",e)}]}function PB(e){return[{key:"longPosition",text:L("long_position",e)},{key:"shortPosition",text:L("short_position",e)}]}function AB(e){return[{key:"simpleAnnotation",text:L("simpleAnnotation",e)},{key:"simpleTag",text:L("simpleTag",e)}]}const Da=e=>_B[e.name](e.class),L5={createPointFigures:({bounding:e,coordinates:r})=>({type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:e.width,y:r[0].y}]},ignoreEvent:!0}),createYAxisFigures:({chart:e,overlay:r,coordinates:t,bounding:n,yAxis:i})=>{var o;const s=(i==null?void 0:i.isFromZero())??!1;let u="left",d=0;s?(u="left",d=0):(u="right",d=n.width);let h="";return r.extendData!=null&&(typeof r.extendData!="function"?h=r.extendData??"":h=r.extendData(r)),h===""&&typeof((o=r.points[0])==null?void 0:o.value)=="number"&&(h=r.points[0].value.toString()),{type:"text",attrs:{x:d,y:t[0].y,text:h,align:u,baseline:"middle"}}}},DB={createPointFigures:({overlay:e,coordinates:r})=>{let t="";e.extendData&&(t=typeof e.extendData=="function"?e.extendData(e):e.extendData||"");const n=r[0].x,i=r[0].y-6,o=i-50,s=o-5;return[{type:"line",attrs:{coordinates:[{x:n,y:i},{x:n,y:o}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:n,y:o},{x:n-4,y:s},{x:n+4,y:s}]},ignoreEvent:!0},{type:"text",attrs:{x:n,y:s,text:t,align:"center",baseline:"bottom"},ignoreEvent:!0}]}};function Ad(e){if(e.name==="simpleTag"||e.name==="simpleAnnotation"){e.createPointFigures||(e.name==="simpleTag"?(e.createPointFigures=L5.createPointFigures,e.createYAxisFigures=L5.createYAxisFigures):e.name==="simpleAnnotation"&&(e.createPointFigures=DB.createPointFigures));const r=e.createPointFigures;e.createPointFigures=t=>{if(r){const n=r(t);if(Array.isArray(n))return n.map(i=>({...i,ignoreEvent:!1}));if(n)return{...n,ignoreEvent:!1}}return[]}}}const Ag=(e,r,t)=>{try{const n=e.getDom("candle_pane");if(n){const i=n.getBoundingClientRect();return{x:i.left+r,y:i.top+t}}}catch(n){console.warn("Failed to get chart container bounds:",n)}return{x:r,y:t}},s9=(e,r,t)=>({x:r,y:t});var FB=ee('<div class=chartspire-ui-drawing-bar><span class=split-line></span><span class=split-line></span><div class=item tabindex=0><span style=width:32px;height:32px></span><div class=icon-arrow><svg viewBox="0 0 4 6"><path d=M1.07298,0.159458C0.827521,-0.0531526,0.429553,-0.0531526,0.184094,0.159458C-0.0613648,0.372068,-0.0613648,0.716778,0.184094,0.929388L2.61275,3.03303L0.260362,5.07061C0.0149035,5.28322,0.0149035,5.62793,0.260362,5.84054C0.505822,6.05315,0.903789,6.05315,1.14925,5.84054L3.81591,3.53075C4.01812,3.3556,4.05374,3.0908,3.92279,2.88406C3.93219,2.73496,3.87113,2.58315,3.73964,2.46925L1.07298,0.159458Z stroke=none stroke-opacity=0></path></svg></div></div><div class=item><span style=width:32px;height:32px></span></div><div class=item><span style=width:32px;height:32px></span></div><span class=split-line></span><div class=item><span style=width:32px;height:32px>'),P5=ee("<div class=item tabindex=0><span style=width:32px;height:32px>"),A5=ee('<div class=icon-arrow><svg viewBox="0 0 4 6"><path d=M1.07298,0.159458C0.827521,-0.0531526,0.429553,-0.0531526,0.184094,0.159458C-0.0613648,0.372068,-0.0613648,0.716778,0.184094,0.929388L2.61275,3.03303L0.260362,5.07061C0.0149035,5.28322,0.0149035,5.62793,0.260362,5.84054C0.505822,6.05315,0.903789,6.05315,1.14925,5.84054L3.81591,3.53075C4.01812,3.3556,4.05374,3.0908,3.92279,2.88406C3.93219,2.73496,3.87113,2.58315,3.73964,2.46925L1.07298,0.159458Z stroke=none stroke-opacity=0>'),RB=ee("<div class=chartspire-ui-drawing-bar-dropdowns><div class=dropdown-list>"),OB=ee('<li style="cursor:pointer;display:flex;align-items:center;padding:8px 12px;user-select:none;"><div class=icon-overlay style=pointer-events:none;></div><span style=pointer-events:none;>');const Dg="drawing_tools",NB=e=>{const[r,t]=ge("horizontalStraightLine"),[n,i]=ge("priceChannelLine"),[o,s]=ge("circle"),[u,d]=ge("fibonacciLine"),[h,g]=ge("xabcd"),[v,y]=ge("ruler"),[C,w]=ge("longPosition"),[_,E]=ge("simpleAnnotation"),[T,M]=ge("weak_magnet"),[I,D]=ge("normal"),[O,N]=ge(!1),[F,V]=ge(!0),[W,Z]=ge(""),[J,he]=ge({top:0,item:null});let H={};const Y=be(()=>[{key:"singleLine",icon:r(),list:kB(e.locale),setter:t},{key:"moreLine",icon:n(),list:SB(e.locale),setter:i},{key:"polygon",icon:o(),list:EB(e.locale),setter:s},{key:"fibonacci",icon:u(),list:MB(e.locale),setter:d},{key:"wave",icon:h(),list:TB(e.locale),setter:g},{key:"ruler",icon:v(),list:LB(e.locale),setter:y}]),K=be(()=>[{key:"simpleAnnotation",icon:_(),list:AB(e.locale),setter:E},{key:"longPosition",icon:C(),list:PB(e.locale),setter:w}]),ne=be(()=>IB(e.locale)),re=be(()=>{const le=W();return le?le==="mode"?{key:"mode",list:ne(),setter:M}:[...Y(),...K()].find(j=>j.key===le):null}),Q=le=>{var j;const ie=H[le];if(!ie)return;const xe=ie.getBoundingClientRect(),Me=(j=ie.closest(".chartspire-ui-drawing-bar"))==null?void 0:j.getBoundingClientRect();if(Me){const Ie=xe.top-Me.top;he({top:Ie,item:re()})}};ct(()=>{const le=W();le&&H[le]&&Q(le)});const ue=le=>{le===W()?Z(""):(Z(le),setTimeout(()=>Q(le),10))};return[(()=>{var le=FB(),j=le.firstChild,ie=j.nextSibling,xe=ie.nextSibling,Me=xe.firstChild,Ie=Me.nextSibling,Ae=Ie.firstChild,Je=xe.nextSibling,Oe=Je.firstChild,Be=Je.nextSibling,ye=Be.firstChild,Fe=Be.nextSibling,He=Fe.nextSibling,Ne=He.firstChild;return B(le,()=>Y().map(ke=>(()=>{var et=P5(),Ft=et.firstChild;return et.addEventListener("blur",()=>{Z("")}),pa(Ue=>H[ke.key]=Ue,et),Ft.$$click=()=>{e.onDrawingItemClick({onDrawEnd:function(Ue){return e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(Ue.chart).saveOverlay(Ue.overlay),(Ue.overlay.name==="simpleTag"||Ue.overlay.name==="simpleAnnotation")&&Ad(Ue.overlay),!0},onRightClick:function(Ue){const St=Ue.x||0,Gt=Ue.y||0,qt=Ag(e.widget,St,Gt);return e.setOverlayMousePosition(qt),e.setOverlaySettingVisible(!0),e.setOverlayStyles(Ue.overlay),!0},onPressedMoveEnd:function(Ue){return!0},groupId:Dg,name:ke.icon,visible:F(),lock:O(),mode:I()})},B(Ft,ae(Da,{get name(){return ke.icon}})),B(et,(()=>{var Ue=be(()=>ke.list.length>1);return()=>Ue()&&(()=>{var St=A5(),Gt=St.firstChild;return St.$$click=()=>ue(ke.key),We(()=>Ye(Gt,"class",ke.key===W()?"rotate":"")),St})()})(),null),et})()),j),B(le,()=>K().map(ke=>(()=>{var et=P5(),Ft=et.firstChild;return et.addEventListener("blur",()=>{Z("")}),pa(Ue=>H[ke.key]=Ue,et),Ft.$$click=()=>{e.onDrawingItemClick({onDrawEnd:function(Ue){return e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(Ue.chart).saveOverlay(Ue.overlay),(Ue.overlay.name==="simpleTag"||Ue.overlay.name==="simpleAnnotation")&&Ad(Ue.overlay),!0},onRightClick:function(Ue){const St=Ue.x||0,Gt=Ue.y||0,qt=Ag(e.widget,St,Gt);return e.setOverlayMousePosition(qt),e.setOverlaySettingVisible(!0),e.setOverlayStyles(Ue.overlay),!0},onPressedMoveEnd:function(Ue){return!0},groupId:Dg,name:ke.icon,visible:F(),lock:O(),mode:I()})},B(Ft,ae(Da,{get name(){return ke.icon}})),B(et,(()=>{var Ue=be(()=>ke.list.length>1);return()=>Ue()&&(()=>{var St=A5(),Gt=St.firstChild;return St.$$click=()=>ue(ke.key),We(()=>Ye(Gt,"class",ke.key===W()?"rotate":"")),St})()})(),null),et})()),ie),xe.addEventListener("blur",()=>{Z("")}),pa(ke=>H.mode=ke,xe),Me.$$click=()=>{let ke=T();I()!=="normal"&&(ke="normal"),D(ke),e.onModeChange(ke)},B(Me,(()=>{var ke=be(()=>T()==="weak_magnet");return()=>ke()?be(()=>I()==="weak_magnet")()?ae(Da,{name:"weak_magnet",class:"selected"}):ae(Da,{name:"weak_magnet"}):be(()=>I()==="strong_magnet")()?ae(Da,{name:"strong_magnet",class:"selected"}):ae(Da,{name:"strong_magnet"})})()),Ie.$$click=()=>ue("mode"),Oe.$$click=()=>{const ke=!O();N(ke),e.onLockChange(ke)},B(Oe,(()=>{var ke=be(()=>!!O());return()=>ke()?ae(Da,{name:"lock"}):ae(Da,{name:"unlock"})})()),ye.$$click=()=>{const ke=!F();V(ke),e.onVisibleChange(ke)},B(ye,(()=>{var ke=be(()=>!!F());return()=>ke()?ae(Da,{name:"visible"}):ae(Da,{name:"invisible"})})()),Ne.$$click=()=>{e.onRemoveClick(Dg)},B(Ne,ae(Da,{name:"remove"})),We(()=>Ye(Ae,"class",W()==="mode"?"rotate":"")),le})(),be(()=>be(()=>!!(W()&&re()))()&&(()=>{var le=RB(),j=le.firstChild;return j.$$click=ie=>{ie.stopPropagation()},B(j,()=>{var ie;return(ie=re())==null?void 0:ie.list.map((xe,Me)=>(()=>{var Ie=OB(),Ae=Ie.firstChild,Je=Ae.nextSibling;return Ie.$$mousedown=Oe=>{var Be;Oe.preventDefault(),Oe.stopPropagation(),W()==="mode"?(M(xe.key),D(xe.key),e.onModeChange(xe.key)):((Be=re())==null||Be.setter(xe.key),e.onDrawingItemClick({onDrawEnd:function(ye){return e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(ye.chart).saveOverlay(ye.overlay),(ye.overlay.name==="simpleTag"||ye.overlay.name==="simpleAnnotation")&&Ad(ye.overlay),!0},onRightClick:function(ye){const Fe=ye.x||0,He=ye.y||0,Ne=Ag(e.widget,Fe,He);return e.setOverlayMousePosition(Ne),e.setOverlaySettingVisible(!0),e.setOverlayStyles(ye.overlay),!0},onPressedMoveEnd:function(){return!0},name:xe.key,lock:O(),mode:I()})),Z("")},B(Ae,ae(Da,{get name(){return xe.key}})),B(Je,()=>xe.text),Ie})())}),We(ie=>Va(j,`top: ${J().top}px`,ie)),le})())]};Er(["click","mousedown"]);const zB=e=>{const[r,t]=ge(e.timezone),n=be(()=>RE(e.locale));return ae(Gl,{get title(){return L("timezone",e.locale)},width:320,height:"200px",contentHeight:10,buttonContainerPadding:"20px 30px 20px",get buttons(){return[{children:L("confirm",e.locale),onClick:()=>{e.onConfirm(r()),e.onClose()}}]},get onClose(){return e.onClose},get children(){return ae(Xd,{style:{width:"100%","margin-top":"20px"},get value(){return r().text},onSelected:i=>{t(i)},get dataSource(){return n()}})}})};var BB=ee("<img style=width:500px;margin-top:20px>");const VB=e=>ae(Gl,{get title(){return L("screenshot",e.locale)},width:540,get buttons(){return[{type:"confirm",children:L("save",e.locale),onClick:()=>{const r=document.createElement("a");r.download="screenshot",r.href=e.url,document.body.appendChild(r),r.click(),r.remove()}}]},get onClose(){return e.onClose},get children(){var r=BB();return We(()=>Ye(r,"src",e.url)),r}}),$B={AO:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:5},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:34}],BIAS:[{paramNameKey:"BIAS1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"BIAS2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"BIAS3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"BIAS4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"BIAS5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],BOLL:[{paramNameKey:"period",type:"number",precision:0,min:1,default:20},{paramNameKey:"standard_deviation",type:"number",precision:2,min:1,default:2}],BRAR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:26}],BBI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:3},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_4",type:"number",precision:0,min:1,default:24}],CCI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:20}],CR:[{paramNameKey:"cr",type:"number",precision:0,min:1,default:26},{paramNameKey:"ma1",type:"number",precision:0,min:1,default:10},{paramNameKey:"ma2",type:"number",precision:0,min:1,default:20},{paramNameKey:"ma3",type:"number",precision:0,min:1,default:40},{paramNameKey:"ma4",type:"number",precision:0,min:1,default:60}],EMV:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:10},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:50},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:10}],DMI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:14},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],DMA:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:10},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:50},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:10}],EMA:[{paramNameKey:"EMA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"EMA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"EMA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"EMA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"EMA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],MTM:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],MA:[{paramNameKey:"MA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"MA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"MA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"MA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"MA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],MACD:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:26},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:9}],OBV:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:30}],PVT:[],PSY:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],ROC:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],RSI:[{paramNameKey:"RSI1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"RSI2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"RSI3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"RSI4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"RSI5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],SMA:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:2}],KDJ:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:9},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:3},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:3}],SAR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:2,upColor:"#FF7F50",downColor:"#A020F0"},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:2,upColor:"#FF7F50",downColor:"#A020F0"},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:20,upColor:"#FF7F50",downColor:"#A020F0"}],TRIX:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:9}],VOL:[{paramNameKey:"MA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"MA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"MA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"MA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"MA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],VR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:26},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],WR:[{paramNameKey:"WR1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"WR2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"WR3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"WR4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"WR5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],WEMA:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],"Volume Profile Fixed Range":[{paramNameKey:"Value area (range 0-1)",type:"number",precision:0,min:0,max:1,default:.7}],"Force Index":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:13}],"Ichimoku Cloud":[{paramNameKey:"Conversion Period",type:"number",precision:0,min:1,default:9},{paramNameKey:"Base Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Span Period",type:"number",precision:0,min:1,default:52},{paramNameKey:"Displacement",type:"number",precision:0,min:1,default:26},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],ATR:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],ADX:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14},{paramNameKey:"Adxr Period",type:"number",precision:0,min:1,default:6}],ADXR:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],PDI:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],MDI:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],TR:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],WS:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],"Chaikin Oscillator":[{paramNameKey:"Short Period",type:"number",precision:0,min:1,default:3},{paramNameKey:"Long Period",type:"number",precision:0,min:1,default:10}],"Percentage Price Oscillator":[{paramNameKey:"Fast Period",type:"number",precision:0,min:1,default:12},{paramNameKey:"Slow Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Signal Period",type:"number",precision:0,min:1,default:9}],"Percentage Volume Oscillator":[{paramNameKey:"Short Period",type:"number",precision:0,min:1,default:12},{paramNameKey:"Long Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Signal Period",type:"number",precision:0,min:1,default:9}],Qstick:[{paramNameKey:"period",type:"number",precision:0,min:1,default:20}],"Absolute Price Oscillator":[{paramNameKey:"Fast Period",type:"number",precision:0,min:1,default:14},{paramNameKey:"Slow Period",type:"number",precision:0,min:1,default:30}],Aroon:[{paramNameKey:"Length",type:"number",precision:0,min:1,default:14}],"Balance of Power":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20}],"Double Exponential Moving Average":[{paramNameKey:"EMA1 Period",type:"number",precision:0,min:1,default:10},{paramNameKey:"EMA2 Period",type:"number",precision:0,min:1,default:16}],"Envelope (EMA)":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20},{paramNameKey:"Percentage",type:"number",precision:0,min:0,max:100,default:20},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Envelope (SMA)":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20},{paramNameKey:"Percentage",type:"number",precision:0,min:1,default:20},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Volume Weighted Average Price":[{paramNameKey:"Anchor Period",type:"select",precision:0,options:[{value:"None",label:"None"},{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarter",label:"Quarter"},{value:"Year",label:"Year"}],default:"None"},{paramNameKey:"Source",type:"select",precision:0,options:[{value:"Open",label:"Open"},{value:"High",label:"High"},{value:"Close",label:"Close"},{value:"HLC3",label:"HLC3"},{value:"HLC2",label:"HLC2"},{value:"OHLC4",label:"OHLC4"},{value:"HLCC4",label:"HLCC4"}],default:"Close"},{paramNameKey:"Offset",type:"number",precision:0,min:-100,max:100,default:0},{paramNameKey:"Bands Mode",type:"select",precision:0,options:[{value:"Standard Deviation",label:"Standard Deviation"},{value:"Percentage",label:"Percentage"},{value:"Fixed",label:"Fixed"}],default:"Standard Deviation"},{paramNameKey:"Bands Multiplier",type:"select",precision:0,options:[{value:"0.5",label:"0.5"},{value:"1",label:"1.0"},{value:"1.5",label:"1.5"},{value:"2",label:"2.0"},{value:"2.5",label:"2.5"},{value:"3",label:"3.0"}],default:"2"},{paramNameKey:"Show Bands",type:"boolean",precision:0,default:!0},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Negative Volume Index":[{paramNameKey:"Length",type:"number",precision:0,min:1,default:5}],"Money Flow Volume":[],"Money Flow Multiplier":[],"Moving Linear Regression":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],"Moving Least Square":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}]};var WB=ee("<div class=chartspire-ui-indicator-setting-input><span>");const nv=e=>(()=>{var r=WB(),t=r.firstChild;return B(t,()=>e.label),B(r,ae(Wl,{style:{width:"120px"},get value(){return e.value},get onChange(){return e.onChange}}),null),r})();var HB=ee("<div class=chartspire-ui-indicator-setting-select><span>");const iv=e=>(()=>{var r=HB(),t=r.firstChild;return B(t,()=>e.label),B(r,ae(Xd,{style:{width:"120px"},get value(){return e.value},get dataSource(){return e.dataSource},get onSelected(){return e.onSelected}}),null),r})();var UB=ee("<div class=chartspire-ui-indicator-setting-styles><span>");const Wc=e=>(()=>{var r=UB(),t=r.firstChild;return B(t,()=>e.label),B(r,ae(Dv,{style:{width:"120px"},get value(){return e.value},get onChange(){return e.onChange}}),null),r})();var jB=ee("<div class=styles-container>");const vp=({index:e,locale:r,styles:t,setStyles:n,type:i})=>{const o=qr.clone(t());return(()=>{var s=jB();return B(s,(()=>{var u=be(()=>i===Md.line);return()=>u()?[ae(Wc,{get label(){return`${L("Color",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:g.color)??"#000000"},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:g.color)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].color=d),n({...o})}}),ae(nv,{get label(){return`${L("Size",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:g.size)??1},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:g.size)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].size=d),n({...o})}}),ae(iv,{get label(){return L("LineType",r)},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:g.style)??"solid"},dataSource:[{key:"solid",text:"Solid"},{key:"dashed",text:"Dashed"}],onSelected:d=>{var h,g,v;(((g=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:g.style)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].style=d.key),n({...o})}})]:be(()=>i===Md.circle)()?[be(()=>be(()=>{var d,h,g;return((g=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:g.upColor)!==void 0})()&&ae(Wc,{get label(){return`${L("upColor",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:g.upColor)??"#000000"},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:g.upColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].upColor=d),n({...o})}})),be(()=>be(()=>{var d,h,g;return((g=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:g.downColor)!==void 0})()&&ae(Wc,{get label(){return`${L("downColor",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:g.downColor)??"#000000"},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:g.downColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].downColor=d),n({...o})}})),be(()=>be(()=>{var d,h,g;return((g=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:g.noChangeColor)!==void 0})()&&ae(Wc,{get label(){return`${L("noChangeColor",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:g.noChangeColor)??"#000000"},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:g.noChangeColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].noChangeColor=d),n({...o})}}))]:be(()=>i===Md.bar)()?[be(()=>be(()=>{var d,h,g;return((g=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:g.upColor)!==void 0})()&&ae(Wc,{get label(){return`${L("upColor",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:g.upColor)??"#000000"},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:g.upColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].upColor=d),n({...o})}})),be(()=>be(()=>{var d,h,g;return((g=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:g.downColor)!==void 0})()&&ae(Wc,{get label(){return`${L("downColor",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:g.downColor)??"#000000"},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:g.downColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].downColor=d),n({...o})}})),be(()=>be(()=>{var d,h,g;return((g=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:g.noChangeColor)!==void 0})()&&ae(Wc,{get label(){return`${L("noChangeColor",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:g.noChangeColor)??"#000000"},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:g.noChangeColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].noChangeColor=d),n({...o})}}))]:be(()=>i===Md.custom)()?be(()=>be(()=>{var d,h,g;return((g=(h=(d=t())==null?void 0:d.custom)==null?void 0:h[e])==null?void 0:g.opacity)!==void 0})()&&ae(nv,{get label(){return`${L("opacity",r)} ${e+1}`},get value(){var d,h,g;return((g=(h=(d=t())==null?void 0:d.custom)==null?void 0:h[e])==null?void 0:g.opacity)??.3},onChange:d=>{var h,g,v;(((g=(h=o==null?void 0:o.custom)==null?void 0:h[e])==null?void 0:g.opacity)!==void 0||((v=o==null?void 0:o.custom)==null?void 0:v[e])!==void 0)&&(o.custom[e].opacity=d),n({...o})}})):null})()),s})()};var XB=ee("<div class=topbar>"),YB=ee("<div class=chartspire-ui-indicator-setting-modal-content>"),ZB=ee("<div class=chartspire-ui-indicator-setting-modal-content> <!> <!> "),KB=ee("<button>"),mp=ee("<div class=styles-container>"),Md=(e=>(e.line="line",e.circle="circle",e.bar="bar",e.custom="custom",e))(Md||{});const GB=e=>{const[r,t]=ge(qr.clone(e.params.calcParams)),[n,i]=ge(qr.clone(e.params.styles)),[o,s]=ge("params"),u=h=>$B[h],d=[{text:"Params",key:"params"},{text:"Style",key:"style"}];return ae(Gl,{get title(){return e.params.indicatorName},width:360,contentHeight:"80%",buttonContainerPadding:"30px 30px 20px",get buttons(){return[{type:"confirm",children:L("confirm",e.locale),onClick:()=>{var h;const g=u(e.params.indicatorName),v=[];(h=qr.clone(r()))==null||h.forEach((y,C)=>{!qr.isValid(y)||y===""?"default"in g[C]&&v.push(g[C].default):v.push(y)}),e.onConfirm(v,n()),e.onClose()}}]},get onClose(){return e.onClose},get children(){return[(()=>{var h=XB();return B(h,ae(Hi,{each:d,children:g=>(()=>{var v=KB();return v.$$click=()=>s(g.key),B(v,()=>g.text),We(()=>tr(v,`${o()===g.key?"selected":""}`)),v})()})),h})(),ae(ot,{get when(){return o()==="params"},get children(){var h=YB();return B(h,()=>{var g;return(g=u(e.params.indicatorName))==null?void 0:g.map((v,y)=>v.type==="boolean"?ae(iv,{get label(){return L(v.paramNameKey,e.locale)},get value(){var C;return(C=r()[y])!=null&&C.value?"true":"false"},dataSource:[{key:"true",text:"Yes"},{key:"false",text:"No"}],onSelected:C=>{const w=qr.clone(r());w[y]={...w[y],value:C.key==="true"},t(w)}}):v.type==="select"?ae(iv,{get label(){return L(v.paramNameKey,e.locale)},get value(){var C;return((C=r()[y])==null?void 0:C.value)??v.default},get dataSource(){var C;return((C=v.options)==null?void 0:C.map(w=>({key:w.value,text:w.label})))??[]},onSelected:C=>{const w=qr.clone(r());w[y]={...w[y],value:C.key},t(w)}}):ae(nv,{key:y,get label(){return L(v.paramNameKey,e.locale)},get value(){var C;return((C=r()[y])==null?void 0:C.value)??""},get precision(){return v.precision},get min(){return v.min},onChange:C=>{const w=qr.clone(r());w[y]={...w[y],value:Number(C)},t(w)}}))}),h}}),ae(ot,{get when(){return o()==="style"},get children(){var h=ZB(),g=h.firstChild,v=g.nextSibling,y=v.nextSibling,C=y.nextSibling;return C.nextSibling,B(h,()=>{var w,_;return(_=(w=e.params.styles)==null?void 0:w.lines)==null?void 0:_.map((E,T)=>(()=>{var M=mp();return Ye(M,"key",T),B(M,ae(vp,{index:T,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"line"}})),M})())},g),B(h,()=>{var w,_;return(_=(w=e.params.styles)==null?void 0:w.circles)==null?void 0:_.map((E,T)=>(()=>{var M=mp();return Ye(M,"key",T),B(M,ae(vp,{index:T,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"circle"}})),M})())},v),B(h,()=>{var w,_;return(_=(w=e.params.styles)==null?void 0:w.bars)==null?void 0:_.map((E,T)=>(()=>{var M=mp();return Ye(M,"key",T),B(M,ae(vp,{index:T,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"bar"}})),M})())},C),B(h,()=>{var w,_;return(_=(w=e.params.styles)==null?void 0:w.custom)==null?void 0:_.map((E,T)=>(()=>{var M=mp();return Ye(M,"key",T),B(M,ae(vp,{index:T,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"custom"}})),M})())},null),h}})]}})};Er(["click"]);var qB=ee('<svg viewBox="0 0 22 22"><rect x=2 y=2 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=2 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=2 width=4 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=2 y=9 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=9 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=9 width=4 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=2 y=16 width=5 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=16 width=5 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=16 width=4 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none>');const QB=e=>(()=>{var r=qB();return We(()=>Ye(r,"class",e.class||"icon-overlay")),r})();var JB=ee('<div class=item tabindex=0><span style=width:40px;height:40px><svg viewBox="0 0 22 22"><path d="M8 6.00067L21 6.00139M8 12.0007L21 12.0015M8 18.0007L21 18.0015M3.5 6H3.51M3.5 12H3.51M3.5 18H3.51M4 6C4 6.27614 3.77614 6.5 3.5 6.5C3.22386 6.5 3 6.27614 3 6C3 5.72386 3.22386 5.5 3.5 5.5C3.77614 5.5 4 5.72386 4 6ZM4 12C4 12.2761 3.77614 12.5 3.5 12.5C3.22386 12.5 3 12.2761 3 12C3 11.7239 3.22386 11.5 3.5 11.5C3.77614 11.5 4 11.7239 4 12ZM4 18C4 18.2761 3.77614 18.5 3.5 18.5C3.22386 18.5 3 18.2761 3 18C3 17.7239 3.22386 17.5 3.5 17.5C3.77614 17.5 4 17.7239 4 18Z"stroke-width=2 stroke-linecap=round stroke-linejoin=round>'),eV=ee('<div class="item paper-trading-item"tabindex=0><span style=width:40px;height:40px>'),tV=ee("<div class=chartspire-ui-right-bar>");const rV=e=>(()=>{var r=tV();return B(r,ae(ot,{get when(){return e.isWatchListEnabled},get children(){var t=JB(),n=t.firstChild,i=n.firstChild;return t.$$click=()=>{console.log("Watchlist clicked"),e.setWatchListModalVisible!=null&&e.setWatchListModalVisible(o=>!o)},We(()=>Ye(i,"class",`icon-overlay ${e.watchListModalVisible?"selected":""}`)),t}}),null),B(r,ae(ot,{get when(){return e.isPaperTradingEnabled},get children(){var t=eV(),n=t.firstChild;return t.$$click=()=>{console.log("Paper Trading clicked"),e.setPaperTradingModalVisible!=null&&e.setPaperTradingModalVisible(i=>!i)},B(n,ae(QB,{get class(){return`icon-overlay ${e.paperTradingModalVisible?"selected":""}`}})),t}}),null),r})();Er(["click"]);const nV=rE.map(e=>e.name),iV=e=>{const r=e.getDataList(),t=e.getIndicators(),n=new Set,i={};t.forEach(g=>{g.forEach(v=>{console.log(v.result),nV.includes(v.name)||v.result.forEach((y,C)=>{Object.keys(y).forEach(w=>{let _=!1;n.add(w),i[w]||(i[w]={}),i[w][C]||(i[w][C]=[]),y[w]!==void 0&&y[w]!==null&&(i[w][C].push(y[w]),_=!0),_||n.delete(w)})})})});const o=["timestamp","open","high","low","close","volume",...n].join(","),s=r.map((g,v)=>{const y=Array.from(n).map(C=>i[C][v]??"").join(",");return`${g.timestamp},${g.open},${g.high},${g.low},${g.close},${g.volume??""},${y}`}).join(`
`),u=`${o}
${s}`,d=new Blob([u],{type:"text/csv"}),h=document.createElement("a");h.href=URL.createObjectURL(d),h.download="data.csv",document.body.appendChild(h),h.click(),document.body.removeChild(h)};var aV=ee('<div class="item tools">'),oV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><rect width=15 height=14 fill=none stroke=currentColor rx=4 transform="translate(.5 .5)">'),lV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14">'),sV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15">'),cV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M5 0v14"></path><path d="M10 0v14">'),uV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15">'),dV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 7h7.5">'),hV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 7h7.5">'),pV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M7.5 0v7">'),fV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M7.5 7v7">'),gV=ee('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7.5h15M7.5 0v14">'),vV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 3.5h15"></path><path d="M0 7h15"></path><path d="M0 10.5h15">'),mV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M3.75 0v14"></path><path d="M7.5 0v14"></path><path d="M11.25 0v14">'),yV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 4.5h7.5"></path><path d="M7.5 9.5h7.5">'),xV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 4.5h7.5"></path><path d="M0 9.5h7.5">'),CV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M5 7v7"></path><path d="M10 7v7">'),wV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M5 0v7"></path><path d="M10 0v7">'),bV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 2.8h15"></path><path d="M0 5.6h15"></path><path d="M0 8.4h15"></path><path d="M0 11.2h15">'),_V=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M3 0v14"></path><path d="M6 0v14"></path><path d="M9 0v14"></path><path d="M12 0v14">'),kV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 3.5h7.5"></path><path d="M7.5 7h7.5"></path><path d="M7.5 10.5h7.5">'),SV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 3.5h7.5"></path><path d="M0 7h7.5"></path><path d="M0 10.5h7.5">'),EV=ee('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M5 0v14"></path><path d="M10 0v14"></path><path d="M0 7.5h15M7.5">'),MV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M2.5 0v14"></path><path d="M5 0v14"></path><path d="M7.5 0v14"></path><path d="M10 0v14"></path><path d="M12.5 0v14">'),TV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 2.5h15"></path><path d="M0 5h15"></path><path d="M0 7.5h15"></path><path d="M0 10h15"></path><path d="M0 12.5h15">'),IV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15"></path><path d="M7.5 0v14">'),LV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 2h15"></path><path d="M0 4h15"></path><path d="M0 6h15"></path><path d="M0 8h15"></path><path d="M0 10h15"></path><path d="M0 12h15">'),PV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M2.14 0v14"></path><path d="M4.28 0v14"></path><path d="M6.42 0v14"></path><path d="M8.57 0v14"></path><path d="M10.71 0v14"></path><path d="M12.85 0v14">'),AV=ee('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15M3.75 0v14M7.5 0v14M11.25 0v14">'),DV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.75h15"></path><path d="M0 3.5h15"></path><path d="M0 5.25h15"></path><path d="M0 7h15"></path><path d="M0 8.75h15"></path><path d="M0 10.5h15"></path><path d="M0 12.25h15">'),FV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.875 0v14"></path><path d="M3.75 0v14"></path><path d="M5.625 0v14"></path><path d="M7.5 0v14"></path><path d="M9.375 0v14"></path><path d="M11.25 0v14"></path><path d="M13.125 0v14">'),RV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15"></path><path d="M5 0v14"></path><path d="M10 0v14">'),OV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.5h15"></path><path d="M0 3h15"></path><path d="M0 4.5h15"></path><path d="M0 6h15"></path><path d="M0 7.5h15"></path><path d="M0 9h15"></path><path d="M0 10.5h15"></path><path d="M0 12h15">'),NV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.67 0v14"></path><path d="M3.33 0v14"></path><path d="M5 0v14"></path><path d="M6.67 0v14"></path><path d="M8.33 0v14"></path><path d="M10 0v14"></path><path d="M11.67 0v14"></path><path d="M13.33 0v14">'),zV=ee('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15M3 0v14M6 0v14M9 0v14M12 0v14">'),BV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.4h15"></path><path d="M0 2.8h15"></path><path d="M0 4.2h15"></path><path d="M0 5.6h15"></path><path d="M0 7h15"></path><path d="M0 8.4h15"></path><path d="M0 9.8h15"></path><path d="M0 11.2h15"></path><path d="M0 12.6h15">'),VV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.5 0v14"></path><path d="M3 0v14"></path><path d="M4.5 0v14"></path><path d="M6 0v14"></path><path d="M7.5 0v14"></path><path d="M9 0v14"></path><path d="M10.5 0v14"></path><path d="M12 0v14"></path><path d="M13.5 0v14">'),$V=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 3.5h15"></path><path d="M0 7h15"></path><path d="M0 10.5h15"></path><path d="M5 0v14"></path><path d="M10 0v14">'),WV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.17h15"></path><path d="M0 2.33h15"></path><path d="M0 3.5h15"></path><path d="M0 4.67h15"></path><path d="M0 5.83h15"></path><path d="M0 7h15"></path><path d="M0 8.17h15"></path><path d="M0 9.33h15"></path><path d="M0 10.5h15"></path><path d="M0 11.67h15"></path><path d="M0 12.83h15">'),HV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.25 0v14"></path><path d="M2.5 0v14"></path><path d="M3.75 0v14"></path><path d="M5 0v14"></path><path d="M6.25 0v14"></path><path d="M7.5 0v14"></path><path d="M8.75 0v14"></path><path d="M10 0v14"></path><path d="M11.25 0v14"></path><path d="M12.5 0v14"></path><path d="M13.75 0v14">'),UV=ee('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 7h15"></path><path d="M2.5 0v14"></path><path d="M5 0v14"></path><path d="M7.5 0v14"></path><path d="M10 0v14"></path><path d="M12.5 0v14">'),D5=ee('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M2 0v14"></path><path d="M5 0v14"></path><path d="M12 0v14"></path><path d="M0 7.5h15M9 0v14">');const jV=e=>(()=>{var r=aV();return Wi(r,"click",e.onMultiChartClick),B(r,(()=>{var t=be(()=>e.multiChart===$.ONE);return()=>t()&&oV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TWO);return()=>t()&&lV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TWO_VERTICAL);return()=>t()&&sV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.THREE);return()=>t()&&cV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.THREE_VERTICAL);return()=>t()&&uV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.THREE_MIXED);return()=>t()&&dV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.THREE_MIXED_REVERSE);return()=>t()&&hV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.THREE_MIXED_BOTTOM);return()=>t()&&pV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.THREE_MIXED_TOP);return()=>t()&&fV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FOUR);return()=>t()&&gV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FOUR_VERTICAL);return()=>t()&&vV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FOUR_HORIZONTAL);return()=>t()&&mV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FOUR_MIXED);return()=>t()&&yV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FOUR_MIXED_REVERSE);return()=>t()&&xV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FOUR_MIXED_TOP);return()=>t()&&CV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FOUR_MIXED_BOTTOM);return()=>t()&&wV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FIVE_VERTICAL);return()=>t()&&bV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FIVE_HORIZONTAL);return()=>t()&&_V()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FIVE_MIXED);return()=>t()&&kV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FIVE_MIXED_REVERSE);return()=>t()&&SV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.SIX);return()=>t()&&EV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.SIX_HORIZONTAL);return()=>t()&&MV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.SIX_VERTICAL);return()=>t()&&TV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.SIX_MIXED);return()=>t()&&IV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.SEVEN_VERTICAL);return()=>t()&&LV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.SEVEN_HORIZONTAL);return()=>t()&&PV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.EIGHT);return()=>t()&&AV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.EIGHT_VERTICAL);return()=>t()&&DV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.EIGHT_HORIZONTAL);return()=>t()&&FV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.NINE);return()=>t()&&RV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.NINE_VERTICAL);return()=>t()&&OV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.NINE_HORIZONTAL);return()=>t()&&NV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TEN);return()=>t()&&zV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TEN_VERTICAL);return()=>t()&&BV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TEN_HORIZONTAL);return()=>t()&&VV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TWELVE);return()=>t()&&$V()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TWELVE_VERTICAL);return()=>t()&&WV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TWELVE_HORIZONTAL);return()=>t()&&HV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.TWELVE_GRID);return()=>t()&&UV()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.FOURTEEN);return()=>t()&&D5()})(),null),B(r,(()=>{var t=be(()=>e.multiChart===$.SIXTEEN);return()=>t()&&D5()})(),null),r})();Er(["click"]);const Hs=e=>{const r=[{key:"solid",text:L("solid",e)},{key:"dashed",text:L("dashed",e)}],t=[{key:"true",text:!0},{key:"false",text:!1}],n=[{key:1,text:1},{key:2,text:2},{key:3,text:3},{key:4,text:4},{key:5,text:5},{key:6,text:6},{key:7,text:7},{key:8,text:8},{key:9,text:9},{key:10,text:10}],i=[{key:"fill",text:L("fill",e)},{key:"stroke",text:L("stroke",e)},{key:"stroke_fill",text:L("stroke_fill",e)}],o=[{key:"none",text:L("none",e)},{key:"always",text:L("always",e)},{key:"follow_cross",text:L("follow_cross",e)}],s=[{key:10,text:10},{key:11,text:11},{key:12,text:12},{key:14,text:14},{key:16,text:16},{key:18,text:18},{key:20,text:20},{key:22,text:22},{key:24,text:24}],u=[{key:"normal",text:L("Normal",e)}],d=[{key:"Helvetica Neue",text:L("Helvetica Neue",e)}];return{solid_dashed:r,size:n,fill_stroke:i,font_family:d,font_size:s,font_weight:u,none_always_followCross:o,true_false:t}},c9=e=>{const{font_family:r,font_size:t,font_weight:n,size:i,solid_dashed:o,fill_stroke:s,none_always_followCross:u}=Hs(e);return[{key:"candle.type",text:L("candle_type",e),component:"select",dataSource:[{key:"heikin_ashi",text:L("heikin_ashi",e)},{key:"candle_solid",text:L("candle_solid",e)},{key:"candle_stroke",text:L("candle_stroke",e)},{key:"candle_up_stroke",text:L("candle_up_stroke",e)},{key:"candle_down_stroke",text:L("candle_down_stroke",e)},{key:"ohlc",text:L("ohlc",e)},{key:"area",text:L("area",e)},{key:"renko",text:L("renko",e)}]},{key:"candle.bar.upColor",text:L("candle.bar.upColor",e),component:"color"},{key:"candle.bar.downColor",text:L("candle.bar.downColor",e),component:"color"},{key:"candle.bar.noChangeColor",text:L("candle.bar.noChangeColor",e),component:"color"},{key:"candle.bar.upBorderColor",text:L("candle.bar.upBorderColor",e),component:"color"},{key:"candle.bar.downBorderColor",text:L("candle.bar.downBorderColor",e),component:"color"},{key:"candle.bar.noChangeBorderColor",text:L("candle.bar.noChangeBorderColor",e),component:"color"},{key:"candle.bar.upWickColor",text:L("candle.bar.upWickColor",e),component:"color"},{key:"candle.bar.downWickColor",text:L("candle.bar.downWickColor",e),component:"color"},{key:"candle.bar.noChangeWickColor",text:L("candle.bar.noChangeWickColor",e),component:"color"},{key:"candle.priceMark.high.show",text:L("high_price_show",e),component:"switch"},{key:"candle.priceMark.high.color",text:L("candle.priceMark.high.color",e),component:"color"},{key:"candle.priceMark.high.textSize",text:L("candle.priceMark.high.textSize",e),component:"select",dataSource:t},{key:"candle.priceMark.high.textFamily",text:L("candle.priceMark.high.textFamily",e),component:"select",dataSource:r},{key:"candle.priceMark.high.textWeight",text:L("candle.priceMark.high.textWeight",e),component:"select",dataSource:n},{key:"candle.priceMark.low.show",text:L("low_price_show",e),component:"switch"},{key:"candle.priceMark.low.color",text:L("candle.priceMark.low.color",e),component:"color"},{key:"candle.priceMark.low.textSize",text:L("candle.priceMark.low.textSize",e),component:"select",dataSource:t},{key:"candle.priceMark.low.textFamily",text:L("candle.priceMark.low.textFamily",e),component:"select",dataSource:r},{key:"candle.priceMark.low.textWeight",text:L("candle.priceMark.low.textWeight",e),component:"select",dataSource:n},{key:"candle.priceMark.last.show",text:L("candle.priceMark.last.show",e),component:"switch"},{key:"candle.priceMark.last.upColor",text:L("candle.priceMark.last.upColor",e),component:"color"},{key:"candle.priceMark.last.downColor",text:L("candle.priceMark.last.downColor",e),component:"color"},{key:"candle.priceMark.last.noChangeColor",text:L("candle.priceMark.last.noChangeColor",e),component:"color"},{key:"candle.priceMark.last.line.show",text:L("candle.priceMark.last.line.show",e),component:"switch"},{key:"candle.priceMark.last.line.style",text:L("candle.priceMark.last.line.style",e),component:"select",dataSource:o},{key:"candle.priceMark.last.line.size",text:L("candle.priceMark.last.line.size",e),component:"select",dataSource:i},{key:"candle.priceMark.last.text.show",text:L("candle.priceMark.last.text.show",e),component:"switch"},{key:"candle.priceMark.last.text.style",text:L("candle.priceMark.last.text.style",e),component:"select",dataSource:s},{key:"candle.priceMark.last.text.size",text:L("candle.priceMark.last.text.size",e),component:"select",dataSource:t},{key:"candle.priceMark.last.text.color",text:L("candle.priceMark.last.text.color",e),component:"color"},{key:"candle.tooltip.showRule",text:L("candle.tooltip.showRule",e),component:"select",dataSource:u},{key:"candle.tooltip.showType",text:L("candle.tooltip.showType",e),component:"select",dataSource:[{key:"rect",text:L("Rect",e)},{key:"standard",text:L("Standard",e)}]},{key:"candle.tooltip.rect.position",text:L("candle.tooltip.rect.position",e),component:"select",dataSource:[{key:"fixed",text:L("Fixed",e)},{key:"pointer",text:L("Pointer",e)}]},{key:"candle.tooltip.rect.color",text:L("candle.tooltip.rect.color",e),component:"color"},{key:"candle.tooltip.rect.borderColor",text:L("candle.tooltip.rect.borderColor",e),component:"color"},{key:"candle.tooltip.text.size",text:L("candle.tooltip.text.size",e),component:"select",dataSource:t},{key:"candle.tooltip.text.weight",text:L("candle.tooltip.text.weight",e),component:"select",dataSource:n},{key:"candle.tooltip.text.color",text:L("candle.tooltip.text.color",e),component:"color"}]};var XV=ee("<div class=candle-type-dropdown><div class=candle-icon-container><div class=candle-icon></div><span class=candle-type-text></span><span class=dropdown-indicator></span></div><div>"),YV=ee("<div><div class=candle-icon-small></div><span>");const yp={[xr.CandleSolid]:'<svg width="20" height="20" stroke="currentColor" stroke-width="0.04" viewBox="0 0 0.63 0.99"><path fill="none" d="M.52.02v.95M.11.02v.95"></path><rect x=".02" y=".16" width=".19" height=".5" rx=".02" ry=".07" fill="currentColor"></rect><rect x=".42" y=".35" width=".19" height=".5" rx=".02" ry=".07" fill="currentColor"></rect></svg>',[xr.CandleStroke]:'<svg viewBox="0 0 26 26" width="28" height="28" fill="currentColor"><g transform="translate(0.5, 0.5)"><path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1zM9 4v5H7v11h2v3h1v-3h2V9h-2V4H9zm6 3h3v10h-3V7zm-7 3h3v9H8v-9z"></path></g></svg>',[xr.CandleUpStroke]:`<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor">
    <g transform="translate(0.5, 0.5)">
      <!-- Right candle (filled) -->
      <path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1z" fill="currentColor"/>
      <path d="M16 6h3v10h-3V6z" fill="currentColor"/>
      
      <!-- Left candle (hollow) -->
      <path d="M9 4v5h-2v11h2v3h1v-3h2V9h-2V4h-1z" stroke="currentColor" stroke-width="0.8" fill="none"/>
    </g>
  </svg>`,[xr.CandleDownStroke]:`<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor">
    <g transform="translate(0.5, 0.5)">
      <!-- Right candle (hollow) -->
      <path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1z" stroke="currentColor" stroke-width="0.8" fill="none"/>
      
      <!-- Left candle (filled) -->
      <path d="M9 4v5h-2v11h2v3h1v-3h2V9h-2V4h-1z" fill="currentColor"/>
      <path d="M8 9v9h3V9h-3z" fill="currentColor"/>
    </g>
  </svg>`,[xr.Ohlc]:'<svg stroke="currentColor" stroke-width="0.04" stroke-linecap="round" stroke-linejoin="round" width="18" height="20" fill="none" viewBox="0 0 0.73 1.07"><path d="M.58.02v1.03M.15.02v1.03"></path><path d="M.02.26h.13M.15.7h.12M.58.97h.13M.46.36h.12"></path></svg>',[xr.Area]:'<svg fill="none" stroke="currentColor" stroke-width="0.12" stroke-linejoin="round" width="20" height="20" viewBox="0 0 2.28 1.65"><path d="M.03 1.62.36.78l.38.59.36-.7.36.25.36-.89.42.74v.85z"></path></svg>',[xr.HeikinAshi]:'<svg width="20" height="20" stroke-width="0.03" stroke="currentColor" viewBox="0 0 0.63 0.99"><path fill="none" d="M.52.02v.96M.11.02v.96"></path><rect fill="currentColor" x=".02" y=".48" width=".19" height=".5" rx=".02" ry=".07"></rect><rect fill="currentColor" x=".42" y=".48" width=".19" height=".5" rx=".02" ry=".07"></rect></svg>',[j0.RENKO]:'<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor"><g transform="translate(0.5, 0.5)"><path d="M12 4v6h3V4h-3zm3 6v6h3v-6h-3zm3 6v6h3v-6h-3zm-6-6H9v6h3v-6zm-3 6H6v6h3v-6zm4-11h1v4h-1V5zm-3 6h1v4h-1v-4zm-3 6h1v4H7v-4z"></path></g></svg>'},ZV=e=>{const r=c9(e).find(t=>t.key==="candle.type");return!r||!r.dataSource?[{value:xr.CandleSolid,label:L("candle_solid",e),icon:yp[xr.CandleSolid]},{value:xr.HeikinAshi,label:L("heikin_ashi",e),icon:yp[xr.HeikinAshi]}]:r.dataSource.map(t=>({value:t.key,label:t.text,icon:yp[t.key]||yp[xr.CandleSolid]}))},KV=e=>{const r=ZV(e.locale),[t,n]=ge(!1),[i,o]=ge(r.find(g=>g.value===e.currentCandleType)||r[0]);ct(()=>{const g=e.currentCandleType,v=r.find(y=>y.value===g);v&&o(v)});let s;const u=g=>{g.stopPropagation();const v=!t();if(n(v),v&&s){const y=s.getBoundingClientRect(),C=s.querySelector(".candle-dropdown-options");C&&(C.style.top=`${y.bottom}px`,C.style.left=`${y.left}px`)}},d=(g,v)=>{v.stopPropagation();const y=r.find(C=>C.value===g);y&&o(y),e.onCandleTypeChange(g),n(!1)},h=g=>{s&&!s.contains(g.target)&&n(!1)};return Ba(()=>{document.addEventListener("mousedown",h)}),hi(()=>{document.removeEventListener("mousedown",h)}),(()=>{var g=XV(),v=g.firstChild,y=v.firstChild,C=y.nextSibling,w=v.nextSibling,_=s;return typeof _=="function"?pa(_,g):s=g,v.$$click=u,B(C,()=>L("charts",e.locale)),B(w,ae(Hi,{each:r,children:E=>(()=>{var T=YV(),M=T.firstChild,I=M.nextSibling;return T.$$click=D=>d(E.value,D),B(I,()=>E.label),We(D=>{var O=`candle-option ${E.value===i().value?"selected":""}`,N=E.icon;return O!==D.e&&tr(T,D.e=O),N!==D.t&&(M.innerHTML=D.t=N),D},{e:void 0,t:void 0}),T})()})),We(E=>{var T=i().icon,M=`candle-dropdown-options ${t()?"open":""}`;return T!==E.e&&(y.innerHTML=E.e=T),M!==E.t&&tr(w,E.t=M),E},{e:void 0,t:void 0}),g})()};Er(["click"]);var GV=ee("<img alt=ticker>"),qV=ee("<div class=ticker><span>"),QV=ee('<div class=chartspire-ui-top-bar><select class=select-dropdown></select><div class="item tools"><svg viewBox="0 0 20 20"><path d=M15.873,20L3.65079,20C1.5873,20,0,18.3871,0,16.2903L0,3.70968C-3.78442e-7,1.6129,1.5873,0,3.65079,0L15.873,0C17.9365,0,19.5238,1.6129,19.5238,3.70968C19.5238,4.35484,19.2063,4.51613,18.5714,4.51613C17.9365,4.51613,17.619,4.19355,17.619,3.70968C17.619,2.74194,16.8254,1.93548,15.873,1.93548L3.65079,1.93548C2.69841,1.93548,1.90476,2.74194,1.90476,3.70968L1.90476,16.2903C1.90476,17.2581,2.69841,18.0645,3.65079,18.0645L15.873,18.0645C16.8254,18.0645,17.619,17.2581,17.619,16.2903C17.619,15.8065,18.0952,15.3226,18.5714,15.3226C19.0476,15.3226,19.5238,15.8065,19.5238,16.2903C19.5238,18.2258,17.9365,20,15.873,20ZM14.9206,12.9032C14.7619,12.9032,14.4444,12.9032,14.2857,12.7419L11.2698,9.35484C10.9524,9.03226,10.9524,8.54839,11.2698,8.22581C11.5873,7.90323,12.0635,7.90323,12.381,8.22581L15.3968,11.6129C15.7143,11.9355,15.7143,12.4194,15.3968,12.7419C15.3968,12.9032,15.2381,12.9032,14.9206,12.9032ZM11.4286,13.2258C11.2698,13.2258,11.1111,13.2258,10.9524,13.0645C10.6349,12.7419,10.6349,12.4194,10.9524,12.0968L15.0794,7.74193C15.3968,7.41935,15.7143,7.41935,16.0317,7.74193C16.3492,8.06452,16.3492,8.3871,16.0317,8.70968L11.9048,13.0645C11.746,13.2258,11.5873,13.2258,11.4286,13.2258ZM10.3175,3.70968C10.6349,3.70968,11.4286,3.87097,11.4286,4.67742C11.4286,5.32258,10.4762,5.16129,10.1587,5.16129C8.73016,5.16129,8.25397,5.96774,8.09524,6.6129L7.77778,8.54839L9.36508,8.54839C9.68254,8.54839,10,8.87097,10,9.19355C10,9.51613,9.68254,9.83871,9.36508,9.83871L7.61905,9.83871L6.50794,14.8387Q6.34921,16.2903,5.39683,16.2903Q4.44444,16.2903,4.92064,14.8387L6.03175,10L4.60317,10C4.28571,10,3.96825,9.67742,3.96825,9.35484C3.96825,8.70968,4.28571,8.54839,4.60317,8.54839L6.34921,8.54839L6.8254,6.45161C7.14286,3.70968,9.52381,3.54839,10.3175,3.70968ZM18.4127,6.6129C18.5714,6.12903,18.8889,5.96774,19.3651,5.96774C19.8413,6.12903,20,6.45161,20,6.93548L18.4127,13.3871C18.254,13.871,17.9365,14.0323,17.4603,14.0323C16.9841,13.871,16.8254,13.5484,16.8254,13.0645L18.4127,6.6129Z></path></svg><span></span></div><div class="item tools"><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M12,23 C5.92486775,23 1,18.0751322 1,12 C1,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,18.0751322 18.0751322,23 12,23 Z M12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 Z M8,17 L8,7 C8,6.21456446 8.86395093,5.73572169 9.52999894,6.1520017 L17.5299989,11.1520017 C18.156667,11.5436692 18.156667,12.4563308 17.5299989,12.8479983 L9.52999894,17.8479983 C8.86395093,18.2642783 8,17.7854355 8,17 Z M15.1132038,12 L10,8.80424764 L10,15.1957524 L15.1132038,12 Z"></path></svg><span></span></div><div></div><div class="item tools csv"><svg viewBox="0 50 500 400"><path d="M430.557,79.556H218.44c21.622,12.688,40.255,29.729,54.859,49.906h157.258 c7.196,0,13.063,5.863,13.063,13.06v238.662c0,7.199-5.866,13.064-13.063,13.064H191.894c-7.198,0-13.062-5.865-13.062-13.064 V222.173c-6.027-3.1-12.33-5.715-18.845-7.732c-3.818,11.764-12.105,21.787-23.508,27.781c-2.39,1.252-4.987,2.014-7.554,2.844 v136.119c0,34.717,28.25,62.971,62.968,62.971h238.663c34.718,0,62.969-28.254,62.969-62.971V142.522 C493.525,107.806,465.275,79.556,430.557,79.556z"></path><path id=XMLID_31_ d="M129.037,175.989c51.419,1.234,96.388,28.283,122.25,68.865c2.371,3.705,6.434,5.848,10.657,5.848 c1.152,0,2.322-0.162,3.46-0.486c5.377-1.545,9.114-6.418,9.179-12.006c0-0.504,0-1.01,0-1.51 c0-81.148-64.853-147.023-145.527-148.957V64.155c0-5.492-3.038-10.512-7.879-13.078c-2.16-1.139-4.533-1.707-6.889-1.707 c-2.94,0-5.848,0.88-8.35,2.584L5.751,120.526C2.162,122.98,0.018,127.041,0,131.394c-0.017,4.338,2.113,8.418,5.687,10.902 l100.17,69.451c2.518,1.753,5.459,2.631,8.414,2.631c2.355,0,4.696-0.553,6.857-1.676c4.855-2.549,7.909-7.6,7.909-13.092V175.989z "></path></svg></div><div class="item tools"><svg width=20 height=20 viewBox="0 0 20 20"><path d=M18.5446,9.09091C18.3333,6.61616,17.2887,4.31818,15.5751,2.63889C13.8498,0.94697,11.6197,0,9.28404,0C8.02817,0,6.81925,0.265151,5.66901,0.782828C5.65728,0.782828,5.65728,0.795454,5.64554,0.795454C5.6338,0.795454,5.6338,0.808081,5.62207,0.808081C4.53052,1.31313,3.55634,2.0202,2.71127,2.92929C1.85446,3.85101,1.18545,4.91162,0.715963,6.11111C0.246479,7.33586,0,8.64899,0,10C0,10.8712,0.105634,11.7172,0.305164,12.5379C0.305164,12.5631,0.316901,12.5884,0.328638,12.6136C0.739437,14.2298,1.51408,15.7197,2.62911,16.9571C4.07277,18.548,5.92723,19.5581,7.93427,19.8737C7.95775,19.8737,7.96948,19.8864,7.99296,19.8864C8.3216,19.9369,8.66197,19.9747,9.00235,19.9747L9.21362,19.9747C9.61268,19.9747,10.3756,19.9369,11.0094,19.697C11.1737,19.6338,11.3028,19.5076,11.3732,19.3434C11.4437,19.1793,11.4554,18.9899,11.3967,18.8131C11.3028,18.5354,11.0563,18.346,10.7864,18.346C10.716,18.346,10.6338,18.3586,10.5634,18.3838C10.0939,18.5606,9.46009,18.5859,9.20188,18.5859L9.09624,18.5859C9.20188,18.2702,9.23709,17.9167,9.15493,17.5505C9.00235,16.8939,8.50939,16.3384,7.58216,15.7955L7.19484,15.5682C6.57277,15.2146,6.23239,15.0253,6.03286,14.7348C5.83333,14.4444,5.69249,13.9899,5.51643,12.9798C5.38732,12.298,5.04695,11.7677,4.50704,11.4646C4.14319,11.2626,3.70892,11.149,3.19249,11.149C2.82864,11.149,2.42958,11.1995,2.00704,11.3005C1.79578,11.351,1.59624,11.4141,1.42019,11.4646C1.33803,10.9848,1.30282,10.4798,1.30282,9.97475C1.30282,6.93182,2.76995,4.26768,4.98826,2.72727C5,3.00505,5.05869,3.29545,5.17606,3.57323C5.48122,4.26768,6.10329,4.7096,7.01878,4.89899C7.06573,4.91162,7.10094,4.91162,7.13615,4.91162L7.1831,4.91162C7.26526,4.91162,7.57042,4.92424,7.88732,5.0505C8.3216,5.2399,8.56808,5.55555,8.65023,6.04798C8.84977,7.61364,9.07277,10.4293,8.79108,11.3384C8.76761,11.4141,8.75587,11.4899,8.75587,11.5657C8.75587,11.9444,9.0493,12.2601,9.40141,12.2601C9.57747,12.2601,9.74179,12.1843,9.85915,12.0581C9.97653,11.9318,12.6174,9.05303,13.3216,8.09343C13.4038,7.97979,13.4859,7.87878,13.5798,7.76515C13.9202,7.33586,14.2723,6.90656,14.4014,6.26262C14.554,5.56818,14.4014,4.79798,13.9437,3.85101C13.615,3.16919,13.5563,2.86616,13.5446,2.75252C13.5563,2.7399,13.5798,2.72727,13.6033,2.71464C15.6221,4.10353,17.0188,6.43939,17.2535,9.19192C17.2887,9.55808,17.5587,9.82323,17.8991,9.82323L17.9577,9.82323C18.3099,9.8106,18.5681,9.48232,18.5446,9.09091ZM3.19249,12.5631C3.48592,12.5631,3.72066,12.6136,3.89671,12.7146C4.08451,12.8283,4.19014,12.9924,4.23709,13.2702C4.43662,14.3434,4.61268,15.0631,5,15.6061C5.37559,16.1364,5.85681,16.4015,6.58451,16.8182L6.60798,16.8308C6.71362,16.8939,6.84272,16.9571,6.96009,17.0328C7.69953,17.4621,7.86385,17.7525,7.89906,17.8914C7.93427,18.0303,7.85211,18.2323,7.74648,18.4343C4.91784,17.8535,2.65258,15.6944,1.73709,12.8283C2.15962,12.702,2.71127,12.5631,3.19249,12.5631ZM12.7934,4.5202C13.4272,5.83333,13.1455,6.18687,12.5822,6.89394C12.4883,7.00758,12.3944,7.12121,12.3005,7.24747C11.9484,7.72727,11.0211,8.77525,10.2113,9.68434C10.2113,9.24242,10.1878,8.73737,10.1526,8.19444C10.0704,6.95707,9.92958,5.90909,9.92958,5.87121L9.92958,5.83333C9.75352,4.83586,9.20188,4.11616,8.3216,3.76263C7.82864,3.56061,7.37089,3.53535,7.19484,3.53535C6.73709,3.43434,6.4554,3.24495,6.33803,2.99242C6.19718,2.68939,6.29108,2.24747,6.38498,1.9697C7.28873,1.59091,8.26291,1.37626,9.28404,1.37626C10.3873,1.37626,11.4437,1.61616,12.4061,2.04545C12.3357,2.18434,12.277,2.34848,12.2535,2.5505C12.2066,3.04293,12.3709,3.64899,12.7934,4.5202Z></path><path d=M15.22299772857666,9.722223632261718C12.59389772857666,9.722223632261718,10.44600772857666,12.020201374511718,10.44600772857666,14.861111374511719C10.44600772857666,17.70202137451172,12.58215772857666,20.000021374511718,15.223007728576661,20.000021374511718C17.86384772857666,20.000021374511718,19.99999772857666,17.70202137451172,19.99999772857666,14.861111374511719C19.99999772857666,12.020201374511718,17.85211772857666,9.72222212709572,15.22299772857666,9.722223632261718ZM15.22299772857666,18.598491374511717C13.30985772857666,18.598491374511717,11.737087728576661,16.91919137451172,11.737087728576661,14.848481374511719C11.737087728576661,12.777781374511719,13.29811772857666,11.098491374511719,15.22299772857666,11.098491374511719C17.14787772857666,11.098491374511719,18.708917728576658,12.77778137451172,18.708917728576658,14.848481374511719C18.708917728576658,16.91919137451172,17.13614772857666,18.59848137451172,15.22299772857666,18.598491374511717Z></path><path d=M15.692486288146974,15.050496970825195L15.692486288146974,12.676760970825196C15.692486288146974,12.297972970825196,15.399058288146973,11.982316970825195,15.046945288146972,11.982316970825195C14.694833288146972,11.982316970825195,14.401406288146973,12.297972970825196,14.401406288146973,12.676760970825196L14.401406288146973,15.340896970825195C14.401406288146973,15.530296970825194,14.471829288146973,15.694436970825196,14.589200288146973,15.833326970825196L15.751176288146972,17.095956970825195C15.868546288146973,17.222216970825194,16.032866288146973,17.297976970825196,16.208916288146973,17.297976970825196C16.384976288146973,17.297976970825196,16.537556288146973,17.222216970825194,16.666666288146974,17.095956970825195C16.78403628814697,16.969686970825194,16.854456288146974,16.792916970825196,16.854456288146974,16.603526970825193C16.854456288146974,16.414136970825197,16.78403628814697,16.237366970825196,16.666666288146974,16.111106970825197L15.692486288146974,15.050496970825195Z></path></svg></div><div class="item tools"><svg viewBox="0 0 20 20"><path d=M19.7361,12.542L18.1916,11.2919C18.2647,10.8678,18.3025,10.4347,18.3025,10.0017C18.3025,9.56861,18.2647,9.13555,18.1916,8.71142L19.7361,7.46135C19.9743,7.26938,20.0615,6.95686,19.9554,6.6756L19.9342,6.61756C19.5074,5.49026,18.8755,4.45449,18.0549,3.53926L18.0124,3.49238C17.8096,3.26692,17.4819,3.1821,17.1848,3.28032L15.2677,3.92544C14.5603,3.3763,13.7704,2.94324,12.9168,2.63966L12.5466,0.742229C12.49,0.449802,12.2472,0.222111,11.9383,0.168536L11.8746,0.157375C10.6461,-0.0524583,9.35391,-0.0524583,8.1254,0.157375L8.06174,0.168536C7.75284,0.222111,7.50997,0.449802,7.45338,0.742229L7.08082,2.64859C6.2343,2.95217,5.44909,3.383,4.74641,3.92991L2.81522,3.28032C2.52047,3.1821,2.19036,3.26469,1.98757,3.49238L1.94513,3.53926C1.12455,4.45672,0.492609,5.49249,0.0658141,6.61756L0.0445921,6.6756C-0.0615171,6.95463,0.0257283,7.26715,0.263885,7.46135L1.82723,8.72482C1.75413,9.14448,1.71876,9.57308,1.71876,9.99944C1.71876,10.428,1.75413,10.8566,1.82723,11.2741L0.263885,12.5375C0.025729,12.7295,-0.0615164,13.042,0.0445929,13.3233L0.0658148,13.3813C0.49261,14.5064,1.12455,15.5444,1.94513,16.4596L1.98757,16.5065C2.19036,16.732,2.51812,16.8168,2.81522,16.7186L4.74641,16.069C5.44909,16.6159,6.2343,17.0489,7.08082,17.3503L7.45338,19.2567C7.50997,19.5491,7.75284,19.7768,8.06174,19.8303L8.1254,19.8415C8.74084,19.9464,9.37042,20,10,20C10.6296,20,11.2615,19.9464,11.8746,19.8415L11.9383,19.8303C12.2472,19.7768,12.49,19.5491,12.5466,19.2567L12.9168,17.3592C13.7704,17.0556,14.5603,16.6248,15.2677,16.0734L17.1848,16.7186C17.4795,16.8168,17.8096,16.7342,18.0124,16.5065L18.0549,16.4596C18.8755,15.5422,19.5074,14.5064,19.9342,13.3813L19.9554,13.3233C20.0615,13.0487,19.9743,12.7362,19.7361,12.542ZM16.5175,8.97483C16.5764,9.3119,16.6071,9.65791,16.6071,10.0039C16.6071,10.3499,16.5764,10.6959,16.5175,11.033L16.3618,11.9281L18.1233,13.3545C17.8568,13.9372,17.5196,14.4863,17.1188,14.9975L14.9305,14.2631L14.1901,14.839C13.6266,15.2765,12.9994,15.6203,12.3203,15.8614L11.4219,16.1806L10.9998,18.3459C10.3372,18.4173,9.66045,18.4173,8.9955,18.3459L8.57342,16.1761L7.6821,15.8524C7.01008,15.6114,6.38521,15.2676,5.82637,14.8323L5.08596,14.2541L2.88361,14.9953C2.48275,14.4841,2.14791,13.9327,1.8791,13.3523L3.65938,11.9125L3.50611,11.0196C3.44952,10.687,3.41887,10.3432,3.41887,10.0039C3.41887,9.66237,3.44716,9.32083,3.50611,8.98822L3.65938,8.09531L1.8791,6.6555C2.14556,6.07288,2.48275,5.52374,2.88361,5.01255L5.08596,5.75367L5.82637,5.17551C6.38521,4.74022,7.01008,4.39645,7.6821,4.15536L8.57578,3.83615L8.99786,1.66638C9.66045,1.59495,10.3372,1.59495,11.0021,1.66638L11.4242,3.83168L12.3226,4.1509C12.9994,4.39198,13.6289,4.73575,14.1925,5.17328L14.9329,5.7492L17.1211,5.01479C17.522,5.52598,17.8568,6.07734,18.1256,6.65773L16.3642,8.08416L16.5175,8.97483ZM10.0024,5.85189C7.7104,5.85189,5.85231,7.61092,5.85231,9.78068C5.85231,11.9504,7.7104,13.7095,10.0024,13.7095C12.2943,13.7095,14.1524,11.9504,14.1524,9.78068C14.1524,7.61092,12.2943,5.85189,10.0024,5.85189ZM11.8699,11.5486C11.37,12.0196,10.7074,12.2808,10.0024,12.2808C9.29732,12.2808,8.63473,12.0196,8.13483,11.5486C7.6373,11.0754,7.36142,10.4481,7.36142,9.78068C7.36142,9.11323,7.6373,8.48596,8.13483,8.01272C8.63473,7.53948,9.29732,7.28054,10.0024,7.28054C10.7074,7.28054,11.37,7.53948,11.8699,8.01272C12.3674,8.48596,12.6433,9.11323,12.6433,9.78068C12.6433,10.4481,12.3674,11.0754,11.8699,11.5486Z></path></svg></div><div class="item tools"><svg viewBox="0 0 20 20"><path d=M6.50977,1L13.4902,1C13.6406,1,13.7695,1.1104910000000001,13.7969,1.2631700000000001L14.0273,2.52277C14.1387,3.13147,14.6543,3.57143,15.2559,3.57143L17.5,3.57143C18.8809,3.57143,20,4.72254,20,6.14286L20,16.4286C20,17.8489,18.8809,19,17.5,19L2.5,19C1.11914,19,0,17.8489,0,16.4286L0,6.14286C0,4.72254,1.11914,3.57143,2.5,3.57143L4.74414,3.57143C5.3457,3.57143,5.86133,3.13147,5.97266,2.52277L6.20312,1.2631700000000001C6.23047,1.1104910000000001,6.35937,1,6.50977,1ZM15.2559,4.857139999999999C14.0547,4.857139999999999,13.0215,3.97522,12.7988,2.75982L12.7129,2.28571L7.28711,2.28571L7.20117,2.75982C6.98047,3.97522,5.94727,4.857139999999999,4.74414,4.857139999999999L2.5,4.857139999999999C1.81055,4.857139999999999,1.25,5.43371,1.25,6.14286L1.25,16.4286C1.25,17.1377,1.81055,17.7143,2.5,17.7143L17.5,17.7143C18.1895,17.7143,18.75,17.1377,18.75,16.4286L18.75,6.14286C18.75,5.43371,18.1895,4.857139999999999,17.5,4.857139999999999L15.2559,4.857139999999999ZM4.375,6.78571L3.125,6.78571C2.7793,6.78571,2.5,6.49844,2.5,6.14286C2.5,5.78728,2.7793,5.5,3.125,5.5L4.375,5.5C4.7207,5.5,5,5.78728,5,6.14286C5,6.49844,4.7207,6.78571,4.375,6.78571ZM10,6.14286C7.06641,6.14286,4.6875,8.58973,4.6875,11.6071C4.6875,14.6246,7.06641,17.0714,10,17.0714C12.9336,17.0714,15.3125,14.6246,15.3125,11.6071C15.3125,8.58973,12.9336,6.14286,10,6.14286ZM10,7.42857C11.0859,7.42857,12.1055,7.8625,12.873,8.65201C13.6406,9.44152,14.0625,10.49018,14.0625,11.6071C14.0625,12.7241,13.6406,13.7728,12.873,14.5623C12.1055,15.3518,11.0859,15.7857,10,15.7857C8.91406,15.7857,7.89453,15.3518,7.12695,14.5623C6.35937,13.7728,5.9375,12.7241,5.9375,11.6071C5.9375,10.49018,6.35938,9.44152,7.12695,8.65201C7.89453,7.8625,8.91406,7.42857,10,7.42857ZM10,9.67857C8.96484,9.67857,8.125,10.54241,8.125,11.6071C8.125,12.6719,8.96484,13.5357,10,13.5357C11.0352,13.5357,11.875,12.6719,11.875,11.6071C11.875,10.54241,11.0352,9.67857,10,9.67857ZM10,10.96429C10.3438,10.96429,10.625,11.2536,10.625,11.6071C10.625,11.9607,10.3438,12.25,10,12.25C9.65625,12.25,9.375,11.9607,9.375,11.6071C9.375,11.2536,9.65625,10.96429,10,10.96429Z></path></svg></div><div class="item tools">'),JV=ee("<option>"),e$=ee('<svg viewBox="0 0 20 20"><path d=M1.08108,0L0,1.079L4.18919,5.27938L2.54826,6.91715L6.9112,6.91715L6.9112,2.56262L5.28957,4.18112L1.08108,0ZM15.8108,5.27938L20,1.079L18.9189,0L14.7104,4.18112L13.0888,2.56262L13.0888,6.91715L17.4517,6.91715L15.8108,5.27938ZM4.16988,14.7014L0.07722,18.8054L1.1583,20L5.27027,15.7996L6.9112,17.4374L6.9112,13.0829L2.54826,13.0829L4.16988,14.7014ZM17.4517,13.0829L13.0888,13.0829L13.0888,17.4374L14.7297,15.7996L18.8417,20L19.9228,18.8054L15.8301,14.7013L17.4517,13.0829Z>'),t$=ee('<svg viewBox="0 0 20 20"><path d=M2.93444,1.76899L7.57544,6.40999L6.38918,7.59626L1.76899,2.93444L0,4.70343L0,0L4.70343,0L2.93444,1.76899ZM6.40999,12.4037L1.76899,17.0447L0,15.2758L0,19.9792L4.70343,19.9792L2.93444,18.2102L7.57544,13.5692L6.40999,12.4037ZM15.2758,0L17.0447,1.76899L12.4037,6.40999L13.59,7.59626L18.231,2.95526L20,4.72425L20,0L15.2758,0ZM13.5692,12.4037L12.3829,13.59L17.0239,18.231L15.2549,20L19.9792,20L19.9792,15.2758L18.2102,17.0447L13.5692,12.4037Z>');const r$=e=>{const[r,t]=ge(!1),n=()=>{t(i=>!i)};return Ba(()=>{document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("msfullscreenchange",n)}),hi(()=>{document.removeEventListener("fullscreenchange",n),document.removeEventListener("mozfullscreenchange",n),document.removeEventListener("webkitfullscreenchange",n),document.removeEventListener("msfullscreenchange",n)}),(()=>{var i=QV(),o=i.firstChild,s=o.nextSibling,u=s.firstChild,d=u.nextSibling,h=s.nextSibling,g=h.firstChild,v=g.nextSibling,y=h.nextSibling,C=y.nextSibling,w=C.nextSibling,_=w.nextSibling,E=_.nextSibling,T=E.nextSibling;return pa(M=>{},i),B(i,ae(ot,{get when(){return e.ticker},get children(){var M=qV(),I=M.firstChild;return Wi(M,"click",e.onTickerClick),B(M,ae(ot,{get when(){return e.ticker.logo},get children(){var D=GV();return D.addEventListener("error",O=>O.currentTarget.style.display="none"),We(()=>Ye(D,"src",e.ticker.logo)),D}}),I),B(I,()=>e.ticker.ticker??e.ticker.shortName??e.ticker.name),M}}),o),o.addEventListener("change",M=>{const I=e.periods.find(D=>D.text===M.target.value);I&&e.onPeriodChange(I)}),B(o,()=>e.periods.map(M=>(()=>{var I=JV();return B(I,()=>M.text),We(()=>I.selected=M.text===e.period.text),We(()=>I.value=M.text),I})())),Wi(s,"click",e.onIndicatorClick),B(d,()=>L("indicator",e.locale)),B(i,ae(KV,{get locale(){return e.locale},get currentCandleType(){return e.currentCandleType},get onCandleTypeChange(){return e.onCandleTypeChange}}),h),Wi(h,"click",e.onReplayClick),B(v,()=>L("replay",e.locale)),y.style.setProperty("flex","1"),B(i,ae(jV,{get onMultiChartClick(){return e.onMultiChartClick},get multiChart(){return e.multiChart}}),C),C.$$click=()=>{iV(e.widget)},Wi(w,"click",e.onTimezoneClick),Wi(_,"click",e.onSettingClick),Wi(E,"click",e.onScreenshotClick),T.$$click=()=>{if(r())(document.exitFullscreen??document.msExitFullscreen??document.mozCancelFullScreen??document.webkitExitFullscreen).call(document);else{const M=e.rootContainer;M!=null&&(M.requestFullscreen??M.webkitRequestFullscreen??M.mozRequestFullScreen??M.msRequestFullscreen).call(M)}},B(T,(()=>{var M=be(()=>!!r());return()=>M()?e$():t$()})()),i})()};Er(["click"]);var n$=Ud,i$=Q0,a$="[object Symbol]";function o$(e){return typeof e=="symbol"||i$(e)&&n$(e)==a$}var Hv=o$,l$=jd,s$=Hv,c$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u$=/^\w*$/;function d$(e,r){if(l$(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||s$(e)?!0:u$.test(e)||!c$.test(e)||r!=null&&e in Object(r)}var h$=d$,u9=Jm,p$="Expected a function";function Uv(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(p$);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return t.cache=o.set(i,s)||o,s};return t.cache=new(Uv.Cache||u9),t}Uv.Cache=u9;var f$=Uv,g$=f$,v$=500;function m$(e){var r=g$(e,function(n){return t.size===v$&&t.clear(),n}),t=r.cache;return r}var y$=m$,x$=y$,C$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,w$=/\\(\\)?/g,b$=x$(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(C$,function(t,n,i,o){r.push(i?o.replace(w$,"$1"):n||t)}),r}),_$=b$;function k$(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var S$=k$,F5=vv,E$=S$,M$=jd,T$=Hv,R5=F5?F5.prototype:void 0,O5=R5?R5.toString:void 0;function d9(e){if(typeof e=="string")return e;if(M$(e))return E$(e,d9)+"";if(T$(e))return O5?O5.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var I$=d9,L$=I$;function P$(e){return e==null?"":L$(e)}var A$=P$,D$=jd,F$=h$,R$=_$,O$=A$;function N$(e,r){return D$(e)?e:F$(e,r)?[e]:R$(O$(e))}var z$=N$,B$=Hv;function V$(e){if(typeof e=="string"||B$(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var $$=V$,W$=dy,H$=z$,U$=wv,N5=Vs,j$=$$;function X$(e,r,t,n){if(!N5(e))return e;r=H$(r,e);for(var i=-1,o=r.length,s=o-1,u=e;u!=null&&++i<o;){var d=j$(r[i]),h=t;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=s){var g=u[d];h=n?n(g,d,u):void 0,h===void 0&&(h=N5(g)?g:U$(r[i+1])?[]:{})}W$(u,d,h),u=u[d]}return e}var Y$=X$,Z$=Y$;function K$(e,r,t){return e==null?e:Z$(e,r,t)}var G$=K$;const av=Fm(G$),q$=e=>{const{fill_stroke:r,font_size:t,font_weight:n,none_always_followCross:i,solid_dashed:o,size:s}=Hs(e);return[{key:"indicator.lastValueMark.show",text:L("indicator.lastValueMark.show",e),component:"switch"},{key:"indicator.lastValueMark.text.show",text:L("indicator.lastValueMark.text.show",e),component:"switch"},{key:"indicator.lastValueMark.text.style",text:L("indicator.lastValueMark.text.style",e),component:"select",dataSource:r},{key:"indicator.lastValueMark.text.size",text:L("indicator.lastValueMark.text.size",e),component:"select",dataSource:t},{key:"indicator.lastValueMark.text.weight",text:L("indicator.lastValueMark.text.weight",e),component:"select",dataSource:n},{key:"indicator.lastValueMark.text.color",text:L("indicator.lastValueMark.text.color",e),component:"color"},{key:"indicator.lastValueMark.text.borderStyle",text:L("indicator.lastValueMark.text.borderStyle",e),component:"select",dataSource:o},{key:"indicator.lastValueMark.text.borderColor",text:L("indicator.lastValueMark.text.borderColor",e),component:"color"},{key:"indicator.lastValueMark.text.borderSize",text:L("indicator.lastValueMark.text.borderSize",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.borderDashedValue",text:L("indicator.lastValueMark.text.borderDashedValue",e),component:"select",dataSource:o},{key:"indicator.lastValueMark.text.paddingLeft",text:L("indicator.lastValueMark.text.paddingLeft",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingTop",text:L("indicator.lastValueMark.text.paddingTop",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingRight",text:L("indicator.lastValueMark.text.paddingRight",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingBottom",text:L("indicator.lastValueMark.text.paddingBottom",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.borderRadius",text:L("indicator.lastValueMark.text.borderRadius",e),component:"select",dataSource:s},{key:"indicator.tooltip.showRule",text:L("indicator.tooltip.showRule",e),component:"select",dataSource:i},{key:"indicator.tooltip.showType",text:L("indicator.tooltip.showType",e),component:"select",dataSource:[{key:"standard",text:L("Standard",e)},{key:"rect",text:L("Rect",e)}]},{key:"indicator.tooltip.showName",text:L("indicator.tooltip.showName",e),component:"switch"},{key:"indicator.tooltip.showParams",text:L("indicator.tooltip.showParams",e),component:"switch"},{key:"indicator.tooltip.text.size",text:L("indicator.tooltip.text.size",e),component:"select",dataSource:t},{key:"indicator.tooltip.text.weight",text:L("indicator.tooltip.text.weight",e),component:"select",dataSource:n},{key:"indicator.tooltip.text.color",text:L("indicator.tooltip.text.color",e),component:"color"},{key:"indicator.tooltip.text.marginLeft",text:L("indicator.tooltip.text.marginLeft",e),component:"select",dataSource:s},{key:"indicator.tooltip.text.marginTop",text:L("indicator.tooltip.text.marginTop",e),component:"select",dataSource:s},{key:"indicator.tooltip.text.marginRight",text:L("indicator.tooltip.text.marginRight",e),component:"select",dataSource:s},{key:"indicator.tooltip.text.marginBottom",text:L("indicator.tooltip.text.marginBottom",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetTop",text:L("indicator.tooltip.offsetTop",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetLeft",text:L("indicator.tooltip.offsetLeft",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetRight",text:L("indicator.tooltip.offsetRight",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetBottom",text:L("indicator.tooltip.offsetBottom",e),component:"select",dataSource:s}]},Q$=e=>{const{font_size:r,size:t,font_weight:n}=Hs(e);return[{key:"xAxis.show",text:L("xAxis.show",e),component:"switch"},{key:"xAxis.axisLine.show",text:L("xAxis.axisLine.show",e),component:"switch"},{key:"xAxis.axisLine.color",text:L("xAxis.axisLine.color",e),component:"color"},{key:"xAxis.axisLine.size",text:L("xAxis.axisLine.size",e),component:"select",dataSource:t},{key:"xAxis.tickText.show",text:L("xAxis.tickText.show",e),component:"switch"},{key:"xAxis.tickText.size",text:L("xAxis.tickText.size",e),component:"select",dataSource:r},{key:"xAxis.tickText.weight",text:L("xAxis.tickText.weight",e),component:"select",dataSource:n},{key:"xAxis.tickText.color",text:L("xAxis.tickText.color",e),component:"color"},{key:"xAxis.tickLine.show",text:L("xAxis.tickLine.show",e),component:"switch"},{key:"xAxis.tickLine.size",text:L("xAxis.tickLine.size",e),component:"select",dataSource:t},{key:"xAxis.tickLine.length",text:L("xAxis.tickLine.length",e),component:"select",dataSource:t},{key:"xAxis.tickLine.color",text:L("xAxis.tickLine.color",e),component:"color"}]},J$=e=>{const{size:r,font_weight:t,font_size:n}=Hs(e);return[{key:"yAxis.show",text:L("yAxis.show",e),component:"switch"},{key:"yAxis.axisLine.show",text:L("yAxis.axisLine.show",e),component:"switch"},{key:"yAxis.axisLine.size",text:L("yAxis.axisLine.size",e),component:"select",dataSource:r},{key:"yAxis.axisLine.color",text:L("yAxis.axisLine.color",e),component:"color"},{key:"yAxis.tickText.show",text:L("yAxis.tickText.show",e),component:"switch"},{key:"yAxis.tickText.color",text:L("yAxis.tickText.color",e),component:"color"},{key:"yAxis.tickText.size",text:L("yAxis.tickText.size",e),component:"select",dataSource:n},{key:"yAxis.tickText.weight",text:L("yAxis.tickText.weight",e),component:"select",dataSource:t},{key:"yAxis.tickText.marginStart",text:L("yAxis.tickText.marginStart",e),component:"select",dataSource:r},{key:"yAxis.tickText.marginEnd",text:L("yAxis.tickText.marginEnd",e),component:"select",dataSource:r},{key:"yAxis.tickLine.show",text:L("yAxis.tickLine.show",e),component:"switch"},{key:"yAxis.tickLine.color",text:L("yAxis.tickLine.color",e),component:"color"},{key:"yAxis.tickLine.size",text:L("yAxis.tickLine.size",e),component:"select",dataSource:r},{key:"yAxis.tickLine.length",text:L("yAxis.tickLine.length",e),component:"select",dataSource:r}]},eW=e=>{const{size:r}=Hs(e);return[{key:"grid.show",text:L("grid_show",e),component:"switch"},{key:"grid.horizontal.show",text:L("grid_horizontal_show",e),component:"switch"},{key:"grid.horizontal.size",text:L("grid_horizontal_size",e),component:"select",dataSource:r},{key:"grid.horizontal.color",text:L("grid_horizontal_color",e),component:"color"},{key:"grid.vertical.show",text:L("grid_vertical_show",e),component:"switch"},{key:"grid.vertical.size",text:L("grid_vertical_size",e),component:"select",dataSource:r},{key:"grid.vertical.color",text:L("grid_vertical_color",e),component:"color"}]},tW=e=>{const{solid_dashed:r,fill_stroke:t,size:n,font_size:i,font_weight:o}=Hs(e);return[{key:"crosshair.show",text:L("crosshair.show",e),component:"switch"},{key:"crosshair.horizontal.show",text:L("crosshair.horizontal.show",e),component:"switch"},{key:"crosshair.horizontal.line.show",text:L("crosshair.horizontal.line.show",e),component:"switch"},{key:"crosshair.horizontal.line.style",text:L("crosshair.horizontal.line.style",e),component:"select",dataSource:r},{key:"crosshair.horizontal.line.size",text:L("crosshair.horizontal.line.size",e),component:"select",dataSource:n},{key:"crosshair.horizontal.line.color",text:L("crosshair.horizontal.line.color",e),component:"color"},{key:"crosshair.horizontal.text.show",text:L("crosshair.horizontal.text.show",e),component:"switch"},{key:"crosshair.horizontal.text.style",text:L("crosshair.horizontal.text.style",e),component:"select",dataSource:t},{key:"crosshair.horizontal.text.size",text:L("crosshair.horizontal.text.size",e),component:"select",dataSource:i},{key:"crosshair.horizontal.text.weight",text:L("crosshair.horizontal.text.weight",e),component:"select",dataSource:o},{key:"crosshair.horizontal.text.color",text:L("crosshair.horizontal.text.color",e),component:"color"},{key:"crosshair.horizontal.text.backgroundColor",text:L("crosshair.horizontal.text.backgroundColor",e),component:"color"},{key:"crosshair.vertical.show",text:L("crosshair.vertical.show",e),component:"switch"},{key:"crosshair.vertical.line.show",text:L("crosshair.vertical.line.show",e),component:"switch"},{key:"crosshair.vertical.line.style",text:L("crosshair.vertical.line.style",e),component:"select",dataSource:r},{key:"crosshair.vertical.line.size",text:L("crosshair.vertical.line.size",e),component:"select",dataSource:n},{key:"crosshair.vertical.line.color",text:L("crosshair.vertical.line.color",e),component:"color"},{key:"crosshair.vertical.text.show",text:L("crosshair.vertical.text.show",e),component:"switch"},{key:"crosshair.vertical.text.style",text:L("crosshair.vertical.text.style",e),component:"select",dataSource:t},{key:"crosshair.vertical.text.size",text:L("Vertical text size",e),component:"select",dataSource:i},{key:"crosshair.vertical.text.weight",text:L("crosshair.vertical.text.weight",e),component:"select",dataSource:o},{key:"crosshair.vertical.text.color",text:L("crosshair.vertical.text.color",e),component:"color"},{key:"crosshair.vertical.text.backgroundColor",text:L("crosshair.vertical.text.backgroundColor",e),component:"color"}]},h9=e=>{const{solid_dashed:r,fill_stroke:t,size:n,font_size:i,font_weight:o,font_family:s}=Hs(e);return[{key:"overlay.point.color",text:L("overlay.point.color",e),component:"color"},{key:"overlay.point.borderColor",text:L("overlay.point.borderColor",e),component:"color"},{key:"overlay.point.borderSize",text:L("overlay.point.borderSize",e),component:"select",dataSource:n},{key:"overlay.point.activeColor",text:L("overlay.point.activeColor",e),component:"color"},{key:"overlay.point.activeBorderColor",text:L("overlay.point.activeBorderColor",e),component:"color"},{key:"overlay.point.activeBorderSize",text:L("overlay.point.activeBorderSize",e),component:"select",dataSource:n},{key:"overlay.point.activeRadius",text:L("overlay.point.activeRadius",e),component:"select",dataSource:n},{key:"overlay.line.style",text:L("overlay.line.style",e),component:"select",dataSource:r},{key:"overlay.line.smooth",text:L("overlay.line.smooth",e),component:"switch"},{key:"overlay.line.size",text:L("overlay.line.size",e),component:"select",dataSource:n},{key:"overlay.line.color",text:L("overlay.line.color",e),component:"color"},{key:"overlay.rect.style",text:L("overlay.rect.style",e),component:"select",dataSource:t},{key:"overlay.rect.color",text:L("overlay.rect.color",e),component:"color"},{key:"overlay.rect.borderColor",text:L("overlay.rect.borderColor",e),component:"color"},{key:"overlay.rect.borderSize",text:L("overlay.rect.borderSize",e),component:"select",dataSource:n},{key:"overlay.rect.borderRadius",text:L("overlay.rect.borderRadius",e),component:"select",dataSource:n},{key:"overlay.rect.borderStyle",text:L("overlay.rect.borderStyle",e),component:"select",dataSource:r},{key:"overlay.polygon.style",text:L("Polygon Style",e),component:"select",dataSource:t},{key:"overlay.polygon.color",text:L("overlay.polygon.color",e),component:"color"},{key:"overlay.polygon.borderColor",text:L("overlay.polygon.borderColor",e),component:"color"},{key:"overlay.polygon.borderStyle",text:L("overlay.polygon.borderStyle",e),component:"select",dataSource:r},{key:"overlay.polygon.borderSize",text:L("overlay.polygon.borderSize",e),component:"select",dataSource:n},{key:"overlay.circle.style",text:L("overlay.circle.style",e),component:"select",dataSource:t},{key:"overlay.circle.color",text:L("overlay.circle.color",e),component:"color"},{key:"overlay.circle.borderStyle",text:L("overlay.circle.borderStyle",e),component:"select",dataSource:r},{key:"overlay.circle.borderSize",text:L("overlay.circle.borderSize",e),component:"select",dataSource:n},{key:"overlay.circle.borderColor",text:L("overlay.circle.borderColor",e),component:"color"},{key:"overlay.arc.style",text:L("overlay.arc.style",e),component:"select",dataSource:r},{key:"overlay.arc.size",text:L("overlay.arc.size",e),component:"select",dataSource:n},{key:"overlay.arc.color",text:L("overlay.arc.color",e),component:"color"},{key:"overlay.text.size",text:L("overlay.text.size",e),component:"select",dataSource:i},{key:"overlay.text.weight",text:L("overlay.text.weight",e),component:"select",dataSource:o},{key:"overlay.text.color",text:L("overlay.text.color",e),component:"color"},{key:"overlay.text.style",text:L("overlay.text.style",e),component:"select",dataSource:t},{key:"overlay.text.size",text:L("overlay.text.size",e),component:"select",dataSource:i},{key:"overlay.text.family",text:L("overlay.text.family",e),component:"select",dataSource:s},{key:"overlay.text.weight",text:L("overlay.text.weight",e),component:"select",dataSource:o},{key:"overlay.text.color",text:L("overlay.text.color",e),component:"color"},{key:"overlay.text.backgroundColor",text:L("overlay.text.backgroundColor",e),component:"color"},{key:"overlay.text.borderColor",text:L("overlay.text.borderColor",e),component:"color"},{key:"overlay.text.borderSize",text:L("overlay.text.borderSize",e),component:"select",dataSource:n},{key:"overlay.text.borderStyle",text:L("overlay.text.borderStyle",e),component:"select",dataSource:r},{key:"overlay.text.borderDashedValue",text:L("overlay.text.borderDashedValue",e),component:"select",dataSource:r},{key:"overlay.text.borderRadius",text:L("overlay.text.borderRadius",e),component:"select",dataSource:n},{key:"overlay.text.paddingLeft",text:L("overlay.text.paddingLeft",e),component:"select",dataSource:n},{key:"overlay.text.paddingRight",text:L("overlay.text.paddingRight",e),component:"select",dataSource:n},{key:"overlay.text.paddingTop",text:L("overlay.text.paddingTop",e),component:"select",dataSource:n},{key:"overlay.text.paddingBottom",text:L("overlay.text.paddingBottom",e),component:"select",dataSource:n}]},rW=e=>{const r=h9(e),t={arc:[],circle:[],line:[],point:[],polygon:[],rect:[],text:[]};return r.forEach(n=>{const i=n.key.split(".")[1];t[i]||(t[i]=[]),t[i].push(n)}),t};function z5(e){const{size:r}=Hs(e);return[...c9(e),...q$(e),...Q$(e),...J$(e),...eW(e),...tW(e),...h9(e),{key:"separator.size",text:L("separator.size",e),component:"select",dataSource:r},{key:"separator.color",text:L("separator.color",e),component:"color"},{key:"separator.fill",text:L("separator.fill",e),component:"switch"},{key:"separator.activeBackgroundColor",text:L("separator.activeBackgroundColor",e),component:"color"}]}var nW=ee("<div class=chartspire-ui-setting-modal-content><div class=sidebar></div><div class=content>"),iW=ee("<button>"),aW=ee("<div class=component><span>");const oW=e=>{const[r,t]=ge(e.currentStyles),[n,i]=ge(z5(e.locale)),[o,s]=ge("candle");ct(()=>{i(z5(e.locale))});const u=(g,v)=>{const y={};av(y,g.key,v);const C=qr.clone(r());av(C,g.key,v),t(C),i(n().map(w=>({...w}))),e.onChange(y)},d=()=>{e.onRestoreDefault(n()),e.onClose()},h=[{text:"Candle",key:"candle"},{text:"Indicator",key:"indicator"},{text:"Grid",key:"grid"},{text:"X-axis",key:"xAxis"},{text:"Y-axis",key:"yAxis"},{text:"Separator",key:"separator"},{text:"Crosshair",key:"crosshair"},{text:"Overlay",key:"overlay"}];return ae(Gl,{get title(){return L("setting",e.locale)},width:700,contentHeight:void 0,padding:"0 10px",get buttons(){return[{children:L("restore_default",e.locale),onClick:()=>{d()}}]},get onClose(){return e.onClose},get children(){var g=nW(),v=g.firstChild,y=v.nextSibling;return B(v,()=>h.map(C=>(()=>{var w=iW();return w.$$click=()=>s(C.key),B(w,()=>C.text),We(()=>tr(w,`${o()===C.key?"selected":""}`)),w})())),B(y,ae(Hi,{get each(){return n().filter(C=>C.key.includes(o()))},children:C=>{let w;const _=qr.formatValue(r(),C.key);switch(C.component){case"select":{w=ae(Xd,{style:{width:"120px"},get value(){return L(_,e.locale)},get dataSource(){return C.dataSource},onSelected:E=>{const T=E.key;u(C,T)}});break}case"switch":{const E=!!_;w=ae(eF,{open:E,onChange:()=>{u(C,!E)}});break}case"color":{w=ae(Dv,{style:{width:"120px"},value:_,onChange:E=>{u(C,E)}});break}}return(()=>{var E=aW(),T=E.firstChild;return B(T,()=>C.text),B(E,w,null),E})()}})),g}})};Er(["click"]);var lW=ee("<div class=chartspire-ui-interval-container>"),sW=ee("<span>");const cW=e=>{const[r,t]=ge($e.ONE_DAY),n=[$e.ONE_DAY,$e.FIVE_DAY,$e.ONE_MONTH,$e.THREE_MONTH,$e.SIX_MONTH,$e.ONE_YEAR,$e.FIVE_YEAR],i=()=>{var o;const s=(o=e.widget)==null?void 0:o.getSize();let u={[$e.ONE_DAY]:1440,[$e.FIVE_DAY]:1440,[$e.ONE_MONTH]:1440,[$e.THREE_MONTH]:1440,[$e.SIX_MONTH]:2016,[$e.ONE_YEAR]:365,[$e.FIVE_YEAR]:260}[r()];e.ticker.type===_t.STOCKS&&(u={[$e.ONE_DAY]:390,[$e.FIVE_DAY]:390,[$e.ONE_MONTH]:273,[$e.THREE_MONTH]:390,[$e.SIX_MONTH]:390,[$e.ONE_YEAR]:252,[$e.FIVE_YEAR]:252}[r()]);const d=Math.min(Math.max(((s==null?void 0:s.width)??0)/u,1),50);e.widget.setBarSpace(d);let h={multiplier:u,timespan:mn.DAY,text:$e.ONE_DAY};r()===$e.ONE_DAY?h={multiplier:1,timespan:mn.MINUTE,text:$e.ONE_MIN}:r()===$e.FIVE_DAY?h={multiplier:5,timespan:mn.MINUTE,text:$e.FIVE_MIN}:r()===$e.ONE_MONTH?h={multiplier:1,timespan:mn.MINUTE,text:$e.THIRTY_MIN}:r()===$e.THREE_MONTH?h={multiplier:1,timespan:mn.HOUR,text:$e.ONE_HOUR}:r()===$e.SIX_MONTH?h={multiplier:2,timespan:mn.HOUR,text:$e.TWO_HOUR}:r()===$e.ONE_YEAR?h={multiplier:1,timespan:mn.DAY,text:$e.ONE_DAY}:r()===$e.FIVE_YEAR&&(h={multiplier:1,timespan:mn.WEEK,text:$e.ONE_WEEK}),e.widget.setOffsetRightDistance(0),e.setInterval(h)};return(()=>{var o=lW();return B(o,()=>n.map(s=>(()=>{var u=sW();return u.$$click=()=>{console.log("interval clicked",s),t(s),i()},B(u,s),We(()=>tr(u,`interval-buttons ${s===r()?"selected":""}`)),u})())),o})()};Er(["click"]);var uW=ee("<div class=chartspire-ui-layout-selector><select></select><span class=button>+</span><span class=button>-"),dW=ee("<option>"),hW=ee('<div class=edit-layout><span class=edit-button><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z">'),pW=ee('<div class=edit-layout-form><span class=confirm-button><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></svg></span><span class=cancel-button>X');const fW=e=>{const[r,t]=ge([]),[n,i]=ge(null),[o,s]=ge("");ct(()=>{e.allLayouts&&t([...new Set(e.allLayouts)])});const u=y=>{e.onLayoutChange(y)},d=()=>{if(r().length>=e.layoutLimit+1){alert("You can only have a maximum of "+e.layoutLimit.toString()+" layouts.");return}const y=`Layout${r().length+1}`;if(r().includes(y)){alert("A layout with this name already exists.");return}t([...r(),y]),e.setAllLayouts([...r(),y]),u(y)},h=()=>{if(e.layout===kt.getInstance(e.widget).getDefaultLayout()||!window.confirm("Are you sure you want to delete this layout?"))return;kt.getInstance(e.widget).removeStorage();const y=r().filter(C=>C!==e.layout);t(y),e.setAllLayouts(y),y.length>0?u(y[0]):u(""),i(null)},g=()=>{if(e.layout===kt.getInstance(e.widget).getDefaultLayout())return;const y=r().find(C=>C===e.layout);y&&(i(y),s(y))},v=async()=>{if(e.layout===kt.getInstance(e.widget).getDefaultLayout())return;const y=r().map(C=>C===n()?o():C);t(y),i(null),await kt.getInstance(e.widget).updateLayoutName(o()),e.setAllLayouts(y),u(o())};return(()=>{var y=uW(),C=y.firstChild,w=C.nextSibling,_=w.nextSibling;return C.addEventListener("change",E=>{e.layout===kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(e.widget).removeAllOverlays();const T=E.target.value;u(T)}),B(C,ae(Hi,{get each(){return r()},children:E=>(()=>{var T=dW();return T.value=E,B(T,E),We(()=>T.selected=E===e.layout),T})()})),w.$$click=d,_.$$click=h,B(y,(()=>{var E=be(()=>!!e.layout);return()=>E()&&(()=>{var T=hW(),M=T.firstChild;return M.$$click=g,B(T,(()=>{var I=be(()=>n()===e.layout);return()=>I()&&(()=>{var D=pW(),O=D.firstChild,N=O.nextSibling;return B(D,ae(Wl,{class:"layout-input",get value(){return o()},onChange:F=>{s(F)}}),O),O.$$click=v,N.$$click=()=>i(null),D})()})(),null),T})()})(),null),We(()=>C.value=e.layout),y})()};Er(["click"]);const gW={builtInThemes:["Light Theme 1","Light Theme 2","Midnight Theme","Dark Theme","Dark Gray Theme","Blue Theme","Red Theme","Green Theme","Yellow Theme","Pink Theme"],customThemes:[],allowCustomThemes:!0};class vW{constructor(){Re(this,"storageKey","chartspire-custom-themes")}save(r){try{localStorage.setItem(this.storageKey,JSON.stringify(r))}catch(t){console.warn("Failed to save custom themes to localStorage:",t)}}load(){try{const r=localStorage.getItem(this.storageKey);if(r)return JSON.parse(r)}catch(r){console.warn("Failed to load custom themes from localStorage:",r)}return null}}const mW=async()=>null;class yW{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}save(r){this.log("[ExternalThemeStorageProvider] Saving custom themes via callback"),this.log("[ExternalThemeStorageProvider] Themes to save:",r),this.log("[ExternalThemeStorageProvider] Themes count:",r.length),this.logWarn("[ExternalThemeStorageProvider] No save callback registered, themes not saved")}load(){return this.log("[ExternalThemeStorageProvider] Load called - use loadAsync() for external storage"),null}async loadAsync(){try{this.log("[ExternalThemeStorageProvider] Loading custom themes via callback");const r=await mW();return r&&r.length>0?(this.log("[ExternalThemeStorageProvider] Custom themes loaded successfully"),r):(this.log("[ExternalThemeStorageProvider] No custom themes found"),[])}catch(r){return console.error("[ExternalThemeStorageProvider] Error loading custom themes:",r),null}}}const p9=class L0{constructor(r=!1){Re(this,"themeConfig"),Re(this,"customStyleElement",null),Re(this,"storageProvider"),Re(this,"useExternalStorage"),this.themeConfig={...gW},this.useExternalStorage=r,this.storageProvider=r?new yW:new vW,this.loadCustomThemes()}static getInstance(r=!1){return L0.instance||(L0.instance=new L0(r)),L0.instance}static async initializeAsync(r=!1){const t=L0.getInstance(r);return r&&t.isExternalStorageProvider(t.storageProvider)&&await t.loadCustomThemesAsync(),t}isUsingExternalStorage(){return this.useExternalStorage}isExternalStorageProvider(r){return"loadAsync"in r&&typeof r.loadAsync=="function"}setThemeConfig(r){this.themeConfig={...this.themeConfig,...r},this.saveCustomThemes(),this.updateCustomThemeStyles()}addCustomTheme(r){const t=this.themeConfig.customThemes.findIndex(n=>n.name===r.name);t>=0?this.themeConfig.customThemes[t]=r:this.themeConfig.customThemes.push(r),this.saveCustomThemes(),this.updateCustomThemeStyles()}removeCustomTheme(r){this.themeConfig.customThemes=this.themeConfig.customThemes.filter(t=>t.name!==r),this.saveCustomThemes(),this.updateCustomThemeStyles()}getAllThemes(){const r=this.themeConfig.customThemes.map(t=>t.displayName);return[...this.themeConfig.builtInThemes,...r]}getCustomThemes(){return this.themeConfig.customThemes}areCustomThemesAllowed(){return this.themeConfig.allowCustomThemes}isCustomTheme(r){return this.themeConfig.customThemes.some(t=>t.displayName===r||t.name===r)}getCustomTheme(r){return this.themeConfig.customThemes.find(t=>t.displayName===r||t.name===r)}loadCustomThemes(){const r=this.storageProvider.load();r&&(this.themeConfig.customThemes=r,this.updateCustomThemeStyles())}async loadCustomThemesAsync(){if(this.isExternalStorageProvider(this.storageProvider)){console.log("[ThemeManager] Using external storage provider");const r=await this.storageProvider.loadAsync();r&&(this.themeConfig.customThemes=r,this.updateCustomThemeStyles())}}saveCustomThemes(){this.storageProvider.save(this.themeConfig.customThemes)}updateCustomThemeStyles(){if(this.customStyleElement&&this.customStyleElement.remove(),this.themeConfig.customThemes.length>0){this.customStyleElement=document.createElement("style"),this.customStyleElement.id="chartspire-custom-themes";let r="";for(const t of this.themeConfig.customThemes)r+=this.generateThemeCSS(t);this.customStyleElement.textContent=r,document.head.appendChild(this.customStyleElement)}}generateThemeCSS(r){const t=r.colors;return`
.chartspire-ui[data-theme="${r.name}"] {
	--chartspire-ui-primary-color: ${t.primaryColor};
	--chartspire-ui-selected-color: ${t.selectedColor};
	--chartspire-ui-hover-background-color: ${t.hoverBackgroundColor};
	--chartspire-ui-background-color: ${t.backgroundColor};
	--chartspire-ui-popover-background-color: ${t.popoverBackgroundColor};
	--chartspire-ui-text-color: ${t.textColor};
	--chartspire-ui-text-second-color: ${t.textSecondColor};
	--chartspire-ui-border-color: ${t.borderColor};
}
`}importThemes(r){try{const t=JSON.parse(r);for(const n of t)this.addCustomTheme(n)}catch{throw new Error("Invalid theme JSON format")}}exportThemes(){return JSON.stringify(this.themeConfig.customThemes,null,2)}};Re(p9,"instance");let B5=p9;var xW=ee("<div class=import-section><label></label><textarea rows=4></textarea><div class=import-buttons><button></button><button>"),CW=ee("<div class=custom-themes-list><h5>"),wW=ee("<div class=custom-theme-creator><div class=creator-header><h4></h4><button class=close-btn></button></div><div class=theme-form><div class=form-group><label></label><input type=text></div><div class=color-inputs></div><div class=action-buttons><button class=create-btn></button><button class=import-btn></button><button class=export-btn>"),bW=ee('<div class=chartspire-ui-theme-selector><div class=theme-selector-header><svg viewBox="2 2 20 20"><path d="M12 2.75C6.89321 2.75 2.75 6.90121 2.75 12.0261C2.75 16.7885 6.32861 20.7112 10.9326 21.2412C11.395 21.2944 11.89 21.1004 12.2858 20.7036C12.6473 20.3412 12.6473 19.7528 12.2858 19.3904C11.9739 19.0776 11.6611 18.6609 11.4899 18.1872C11.3146 17.702 11.2713 17.0933 11.627 16.5276C11.9499 16.014 12.4341 15.739 12.9421 15.6053C13.4313 15.4766 13.9734 15.4693 14.494 15.5009C14.978 15.5303 15.4991 15.5978 16.0045 15.6633C16.0471 15.6689 16.0896 15.6744 16.132 15.6798C16.6889 15.7517 17.2328 15.8188 17.7581 15.8439C18.8324 15.8954 19.6599 15.76 20.2254 15.2976C20.7667 14.8552 21.25 13.9568 21.25 12.0261C21.25 6.90121 17.1068 2.75 12 2.75ZM1.25 12.0261C1.25 6.07647 6.0611 1.25 12 1.25C17.9389 1.25 22.75 6.07647 22.75 12.0261C22.75 14.1713 22.2132 15.6101 21.1748 16.459C20.1608 17.2879 18.8495 17.398 17.6863 17.3422C17.0929 17.3138 16.4934 17.239 15.9399 17.1675C15.901 17.1625 15.8625 17.1575 15.8241 17.1525C15.3046 17.0853 14.8335 17.0243 14.4032 16.9982C13.937 16.9699 13.5828 16.9878 13.3239 17.0559C13.0837 17.1191 12.968 17.2127 12.8968 17.326C12.858 17.3877 12.8307 17.4837 12.9007 17.6775C12.9749 17.8829 13.1368 18.1195 13.3478 18.3311C14.2933 19.279 14.2933 20.815 13.3478 21.7629C12.6976 22.4148 11.7682 22.8473 10.761 22.7314C5.40565 22.1148 1.25 17.5562 1.25 12.0261ZM9.585 6.24977C9.17079 6.24977 8.835 6.58556 8.835 6.99977C8.835 7.41399 9.17079 7.74977 9.585 7.74977C9.99922 7.74977 10.335 7.41399 10.335 6.99977C10.335 6.58556 9.99922 6.24977 9.585 6.24977ZM7.335 6.99977C7.335 5.75713 8.34236 4.74977 9.585 4.74977C10.8276 4.74977 11.835 5.75713 11.835 6.99977C11.835 8.24241 10.8276 9.24977 9.585 9.24977C8.34236 9.24977 7.335 8.24241 7.335 6.99977ZM14.5 6.25C14.0858 6.25 13.75 6.58579 13.75 7C13.75 7.41421 14.0858 7.75 14.5 7.75C14.9142 7.75 15.25 7.41421 15.25 7C15.25 6.58579 14.9142 6.25 14.5 6.25ZM12.25 7C12.25 5.75736 13.2574 4.75 14.5 4.75C15.7426 4.75 16.75 5.75736 16.75 7C16.75 8.24264 15.7426 9.25 14.5 9.25C13.2574 9.25 12.25 8.24264 12.25 7ZM6.5 10.75C6.08579 10.75 5.75 11.0858 5.75 11.5C5.75 11.9142 6.08579 12.25 6.5 12.25C6.91421 12.25 7.25 11.9142 7.25 11.5C7.25 11.0858 6.91421 10.75 6.5 10.75ZM4.25 11.5C4.25 10.2574 5.25736 9.25 6.5 9.25C7.74264 9.25 8.75 10.2574 8.75 11.5C8.75 12.7426 7.74264 13.75 6.5 13.75C5.25736 13.75 4.25 12.7426 4.25 11.5ZM17.5 10.75C17.0858 10.75 16.75 11.0858 16.75 11.5C16.75 11.9142 17.0858 12.25 17.5 12.25C17.9142 12.25 18.25 11.9142 18.25 11.5C18.25 11.0858 17.9142 10.75 17.5 10.75ZM15.25 11.5C15.25 10.2574 16.2574 9.25 17.5 9.25C18.7426 9.25 19.75 10.2574 19.75 11.5C19.75 12.7426 18.7426 13.75 17.5 13.75C16.2574 13.75 15.25 12.7426 15.25 11.5Z"></path></svg><select></select><button class=custom-theme-toggle>+'),_W=ee("<option>"),kW=ee("<div class=form-group><label><span class=field-description></span></label><div class=color-input-group><input type=color><input type=text>"),SW=ee("<div class=theme-item><span class=theme-name></span><div class=theme-actions><button class=edit-btn></button><button class=delete-btn>");const EW=e=>{const[r,t]=ge([]),[n,i]=ge([]),[o,s]=ge(!1),[u,d]=ge({left:0,bottom:60}),[h,g]=ge(""),[v,y]=ge(null),[C,w]=ge({primaryColor:"#1677ff",selectedColor:"rgba(22, 119, 255, 0.15)",hoverBackgroundColor:"rgba(22, 119, 255, 0.15)",backgroundColor:"#ffffff",popoverBackgroundColor:"#ffffff",textColor:"#051441",textSecondColor:"#76808f",borderColor:"#ebedf1"}),[_,E]=ge(!1),[T,M]=ge("");localStorage.getItem(Kv);const I=B5.getInstance(e.themeUseExternalStorage??!1),D=()=>{const Y=I.getAllThemes(),K=I.getCustomThemes(),ne=Y.map(re=>I.isCustomTheme(re)?re:L(re,e.locale));t(ne),i([...K])};Ba(async()=>{if(D(),e.themeUseExternalStorage){await new Promise(Y=>setTimeout(Y,1e3));try{await B5.initializeAsync(!0),D()}catch(Y){console.error("[ThemeSelector] Failed to initialize external theme storage: ",Y)}}});const O=Y=>{console.log("[ThemeSelector] handleThemeChange called with:",Y);let K=Y;const ne=["Light Theme 1","Light Theme 2","Midnight Theme","Dark Theme","Dark Gray Theme","Blue Theme","Red Theme","Green Theme","Yellow Theme","Pink Theme"];for(const re of ne)if(L(re,e.locale)===Y){K=re;break}if(I.isCustomTheme(Y)){const re=I.getCustomTheme(Y);re&&(K=re.name)}console.log("[ThemeSelector] Setting theme to:",K),e.setTheme(K)},N=[{key:"primaryColor",label:"Primary Color",description:"Main accent color for buttons and highlights"},{key:"selectedColor",label:"Selected Color",description:"Color for selected items and active states"},{key:"hoverBackgroundColor",label:"Hover Background",description:"Background color when hovering over elements"},{key:"backgroundColor",label:"Background Color",description:"Main background color of the interface"},{key:"popoverBackgroundColor",label:"Popover Background",description:"Background color for dropdowns and modals"},{key:"textColor",label:"Text Color",description:"Primary text color"},{key:"textSecondColor",label:"Secondary Text",description:"Color for secondary text and labels"},{key:"borderColor",label:"Border Color",description:"Color for borders and dividers"}],F=(Y,K)=>{w(ne=>({...ne,[Y]:K}))},V=()=>{if(!h().trim()){alert(L("Please enter a theme name",e.locale));return}const Y={name:h().trim(),displayName:h().trim(),colors:C()};try{I.addCustomTheme(Y),D(),W();const K=v()?L("Theme updated successfully!",e.locale):L("Theme created successfully!",e.locale);alert(K),s(!1)}catch{const K=v()?L("Failed to update theme",e.locale):L("Failed to create theme",e.locale);alert(K)}},W=()=>{g(""),y(null),w({primaryColor:"#1677ff",selectedColor:"rgba(22, 119, 255, 0.15)",hoverBackgroundColor:"rgba(22, 119, 255, 0.15)",backgroundColor:"#ffffff",popoverBackgroundColor:"#ffffff",textColor:"#051441",textSecondColor:"#76808f",borderColor:"#ebedf1"})},Z=Y=>{y(Y),g(Y.displayName),w(Y.colors),s(!0)},J=()=>{try{I.importThemes(T()),M(""),E(!1),D(),alert(L("Themes imported successfully!",e.locale))}catch{alert(L("Invalid theme JSON format",e.locale))}},he=()=>{const Y=I.exportThemes();navigator.clipboard.writeText(Y).then(()=>{alert(L("Themes exported to clipboard!",e.locale))}).catch(()=>{const K=document.createElement("textarea");K.value=Y,document.body.appendChild(K),K.select(),document.execCommand("copy"),document.body.removeChild(K),alert(L("Themes exported to clipboard!",e.locale))})},H=Y=>{confirm(L(`Are you sure you want to delete the theme "${Y}"?`,e.locale))&&(I.removeCustomTheme(Y),D(),alert(L("Theme deleted successfully!",e.locale)))};return(()=>{var Y=bW(),K=Y.firstChild,ne=K.firstChild,re=ne.nextSibling,Q=re.nextSibling;return re.addEventListener("change",ue=>O(ue.currentTarget.value)),B(re,ae(Hi,{get each(){return r()},children:ue=>(()=>{var le=_W();return le.value=ue,B(le,ue,null),B(le,()=>I.isCustomTheme(ue)?" (Custom)":"",null),We(()=>le.selected=ue===e.theme),le})()})),Q.$$click=ue=>{if(!o()){const le=ue.currentTarget.getBoundingClientRect();d({left:le.left,bottom:window.innerHeight-le.top+8})}s(!o())},B(Y,ae(ot,{get when(){return o()},get children(){var ue=wW(),le=ue.firstChild,j=le.firstChild,ie=j.nextSibling,xe=le.nextSibling,Me=xe.firstChild,Ie=Me.firstChild,Ae=Ie.nextSibling,Je=Me.nextSibling,Oe=Je.nextSibling,Be=Oe.firstChild,ye=Be.nextSibling,Fe=ye.nextSibling;return B(j,(()=>{var He=be(()=>!!v());return()=>He()?L("Edit Custom Theme",e.locale):L("Create Custom Theme",e.locale)})()),ie.$$click=()=>{W(),s(!1)},B(Ie,()=>L("Theme Name",e.locale)),Ae.$$input=He=>g(He.currentTarget.value),B(Je,ae(Hi,{each:N,children:He=>(()=>{var Ne=kW(),ke=Ne.firstChild,et=ke.firstChild,Ft=ke.nextSibling,Ue=Ft.firstChild,St=Ue.nextSibling;return B(ke,()=>L(He.label,e.locale),et),B(et,()=>L(He.description,e.locale)),Ue.$$input=Gt=>F(He.key,Gt.currentTarget.value),St.$$input=Gt=>F(He.key,Gt.currentTarget.value),We(()=>Ye(St,"placeholder",L("Color value (hex, rgb, rgba)",e.locale))),We(()=>Ue.value=C()[He.key].startsWith("rgba")?"#1677ff":C()[He.key]),We(()=>St.value=C()[He.key]),Ne})()})),Be.$$click=V,B(Be,(()=>{var He=be(()=>!!v());return()=>He()?L("Update Theme",e.locale):L("Create Theme",e.locale)})()),ye.$$click=()=>E(!_()),B(ye,()=>L("Import",e.locale)),Fe.$$click=he,B(Fe,()=>L("Export",e.locale)),B(xe,ae(ot,{get when(){return _()},get children(){var He=xW(),Ne=He.firstChild,ke=Ne.nextSibling,et=ke.nextSibling,Ft=et.firstChild,Ue=Ft.nextSibling;return B(Ne,()=>L("Paste Theme JSON",e.locale)),ke.$$input=St=>M(St.currentTarget.value),Ft.$$click=J,B(Ft,()=>L("Import",e.locale)),Ue.$$click=()=>E(!1),B(Ue,()=>L("Cancel",e.locale)),We(()=>Ye(ke,"placeholder",L("Paste your theme JSON here...",e.locale))),We(()=>ke.value=T()),He}}),null),B(xe,ae(ot,{get when(){return n().length>0},get children(){var He=CW(),Ne=He.firstChild;return B(Ne,()=>L("Custom Themes",e.locale)),B(He,ae(Hi,{get each(){return n()},children:ke=>(()=>{var et=SW(),Ft=et.firstChild,Ue=Ft.nextSibling,St=Ue.firstChild,Gt=St.nextSibling;return B(Ft,()=>ke.displayName),St.$$click=()=>Z(ke),B(St,()=>L("Edit",e.locale)),Gt.$$click=()=>H(ke.name),B(Gt,()=>L("Delete",e.locale)),et})()}),null),He}}),null),We(He=>{var Ne=`${u().left}px`,ke=`${u().bottom}px`,et=L("Enter theme name",e.locale);return Ne!==He.e&&((He.e=Ne)!=null?ue.style.setProperty("left",Ne):ue.style.removeProperty("left")),ke!==He.t&&((He.t=ke)!=null?ue.style.setProperty("bottom",ke):ue.style.removeProperty("bottom")),et!==He.a&&Ye(Ae,"placeholder",He.a=et),He},{e:void 0,t:void 0,a:void 0}),We(()=>Ae.value=h()),ue}}),null),We(()=>Ye(Q,"title",L("Create Custom Theme",e.locale))),We(()=>re.value=e.theme?I.isCustomTheme(e.theme)?e.theme:L(e.theme,e.locale):L("Light Theme 1",e.locale)),Y})()};Er(["click","input"]);var MW=ee("<div class=chartspire-ui-bottom-bar>");const TW=e=>(()=>{var r=MW();return pa(t=>{},r),B(r,ae(cW,{get widget(){return e.widget},get ticker(){return e.ticker},get setInterval(){return e.setInterval}}),null),B(r,ae(fW,{get widget(){return e.widget},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get onLayoutChange(){return e.onLayoutChange},get layoutLimit(){return e.layoutLimit}}),null),B(r,ae(EW,{get widget(){return e.widget},get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}}),null),r})(),nr={color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},En={style:"fill",color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderSize:0,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"rgba(22, 119, 255)"},jv={style:"fill",color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},Kc={style:"fill",color:"rgba(22, 119, 255)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},Mn={...jv,borderRadius:2,color:"rgba(22, 119, 255, 0.1)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2],paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2},Xv={style:"solid",color:"#1677FF",size:1,dashedValue:[2,2]},Mr={...Xv,smooth:!1};function IW(){return{point:nr}}function LW(){return{line:Mr,point:nr}}function PW(){return{line:Mr,point:nr}}function AW(){return{line:Mr,point:nr}}function DW(){return{line:Mr,point:nr}}function FW(){return{line:Mr,point:nr}}function RW(){return{line:Mr,point:nr}}function OW(){return{line:Mr,point:nr}}function NW(){return{line:Mr,point:nr}}function zW(){return{line:Mr,point:nr}}function BW(){return{line:Mr,text:En,point:nr}}function VW(){return{line:Mr,point:nr}}function $W(){return{polygon:Kc,point:nr}}function WW(){return{polygon:Kc,point:nr}}function HW(){return{circle:jv,point:nr}}function UW(){return{arc:Xv,point:nr}}function jW(){return{text:En}}function XW(){return{line:Mr,rect:Mn,point:nr}}function YW(){return{line:Mr,rect:Mn,point:nr}}function ZW(){return{line:Mr,text:En,polygon:Kc}}function KW(){return{text:En,line:Mr,polygon:Kc}}function GW(){return{polygon:Kc,rect:Mn,point:nr}}function qW(){return{point:nr,rect:Mn,polygon:Kc}}function QW(){return{line:Mr,rect:Mn,text:En,point:nr}}function JW(){return{line:Mr,rect:Mn,text:En,point:nr}}function eH(){return{circle:jv,rect:Mn,text:En,point:nr}}function tH(){return{line:Mr,rect:Mn,text:En,arc:Xv,point:nr}}function rH(){return{line:Mr,rect:Mn,text:En,point:nr}}function nH(){return{line:Mr,rect:Mn,text:En,point:nr}}function iH(){return{line:Mr,rect:Mn,text:En,point:nr}}function aH(){return{line:Mr,rect:Mn,text:En,point:nr}}function oH(){return{line:Mr,rect:Mn,text:En,point:nr}}function lH(){return{line:Mr,rect:Mn,text:En,point:nr}}function sH(){return{line:Mr,rect:Mn,text:En,point:nr}}function cH(){return{line:Mr,rect:Mn,text:En,point:nr}}function uH(){return{line:Mr,rect:Mn,text:En,point:nr}}function dH(){return{line:Mr,rect:Mn,text:En,point:nr,polygon:Kc}}function hH(){return{rect:Mn,text:En,point:nr}}const Fg={pointStyle:()=>nt.cloneDeep(IW()),horizontalStraightLineStyle:()=>nt.cloneDeep(LW()),horizontalRayLineStyle:()=>nt.cloneDeep(AW()),horizontalSegmentStyle:()=>nt.cloneDeep(PW()),verticalStraightLineStyle:()=>nt.cloneDeep(RW()),verticalRayLineStyle:()=>nt.cloneDeep(DW()),verticalSegmentStyle:()=>nt.cloneDeep(FW()),straightLineStyle:()=>nt.cloneDeep(VW()),rayLineStyle:()=>nt.cloneDeep(OW()),segmentStyle:()=>nt.cloneDeep(NW()),arrowStyle:()=>nt.cloneDeep(zW()),priceLineStyle:()=>nt.cloneDeep(BW()),rectStyle:()=>nt.cloneDeep($W()),polygonStyle:()=>nt.cloneDeep(WW()),circleStyle:()=>nt.cloneDeep(HW()),arcStyle:()=>nt.cloneDeep(UW()),textStyle:()=>nt.cloneDeep(jW()),priceChannelLineStyle:()=>nt.cloneDeep(XW()),simpleTagStyle:()=>nt.cloneDeep(ZW()),simpleAnnotationStyle:()=>nt.cloneDeep(KW()),parallelStraightLineStyle:()=>nt.cloneDeep(YW()),parallelogramStyle:()=>nt.cloneDeep(GW()),triangleStyle:()=>nt.cloneDeep(qW()),fibonacciSpiralStyle:()=>nt.cloneDeep(tH()),fibonacciCircleStyle:()=>nt.cloneDeep(eH()),fibonacciExtensionStyle:()=>nt.cloneDeep(rH()),fibonacciLineStyle:()=>nt.cloneDeep(QW()),fibonacciSegmentStyle:()=>nt.cloneDeep(JW()),fibonacciSpeedResistanceFanStyle:()=>nt.cloneDeep(nH()),gannBoxStyle:()=>nt.cloneDeep(iH()),abcdStyle:()=>nt.cloneDeep(oH()),anyWavesStyle:()=>nt.cloneDeep(uH()),eightWavesStyle:()=>nt.cloneDeep(cH()),fiveWavesStyle:()=>nt.cloneDeep(sH()),threeWavesStyle:()=>nt.cloneDeep(lH()),xabcdStyle:()=>nt.cloneDeep(aH()),rulerStyle:()=>nt.cloneDeep(dH()),rrStyle:()=>nt.cloneDeep(hH())};var pH=ee("<div class=overlay-type>Text"),fH=ee("<div class=component><span>Label Text"),gH=ee("<div class=chartspire-ui-overlay-setting-modal-content><div class=content>"),vH=ee("<div class=overlay-type>"),mH=ee("<div>"),yH=ee("<div class=component><span>");const xH=e=>{let r=e.overlay.styles?e.overlay.styles:Fg[`${e.overlay.name}Style`]();(e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation")&&(r=Fg[`${e.overlay.name}Style`]());const t=rW(e.locale);let n=[],i=[];r&&(n=Object.keys(t),i=Object.keys(r));const o=d=>{const[h,g,v]=d.split(".");if(r&&r[g]&&r&&r[g][v]!==void 0)return r[g][v];{const y=Fg[`${e.overlay.name}Style`]();if(y&&y[g]&&y[g][v]!==void 0)return y[g][v]}},s=(d,h,g)=>{const v=d.key.split(".")[2];r[g][v]=h,(y=>{const C=nt.cloneDeep(y),[w,_,E]=d.key.split("."),T=_?`${_}.${E}`:`${_}.${E}`;_?nt.set(C,T,h):nt.set(C,`${d.key}`,h);const M={id:e.overlay.id,styles:C};if(e.widget.overrideOverlay(M),kt.getInstance(e.widget).overrideOverlay(M),e.chartId){const I=$d(),D={...e.overlay,styles:C};I.onOverlayUpdated(e.chartId,D)}return C})(r)},u=d=>{const h=typeof d=="number"?String(d):d,g={id:e.overlay.id,extendData:h};if(e.widget.overrideOverlay(g),kt.getInstance(e.widget).overrideOverlay(g),e.chartId){const v=$d(),y={...e.overlay,extendData:h};v.onOverlayUpdated(e.chartId,y)}(e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation")&&Ad(e.overlay)};return ae(Gl,{get title(){return`Style ${e.overlay.name}`},contentHeight:"90%",onClose:()=>{e.setOverlayVisible(!1),e.setShowOverlaySetting(!1)},get children(){var d=gH(),h=d.firstChild;return B(h,ae(ot,{get when(){return e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation"},get children(){return[pH(),(()=>{var g=fH();return g.firstChild,B(g,ae(Wl,{style:{width:"120px"},get value(){return typeof e.overlay.extendData=="string"?e.overlay.extendData:""},onChange:v=>{u(v)}}),null),g})()]}}),null),B(h,ae(Hi,{each:i,children:g=>{if(n.includes(g))return[(()=>{var v=vH();return B(v,g),v})(),ae(Hi,{get each(){return t[g]},children:v=>{let y;const C=o(v.key);if(C!==void 0){switch(v.component){case"select":{y=ae(Xd,{style:{width:"120px"},get value(){return L(C,e.locale)},get dataSource(){return v.dataSource},onSelected:w=>{const _=w.key;s(v,_,g)}});break}case"input":{y=[ae(ot,{get when(){return nt.isArray(C)},get children(){var w=mH();return w.style.setProperty("width","120px"),w.style.setProperty("display","flex"),w.style.setProperty("flex-direction","row"),w.style.setProperty("align-items","center"),w.style.setProperty("vertical-align","middle"),B(w,ae(Wl,{style:{width:"50px","margin-right":"10px"},get value(){return C[0]??"4"},onChange:_=>{let E=o(v.key);E[0]=Number(_),s(v,E,g)}}),null),B(w,ae(Wl,{style:{width:"50px","margin-left":"10px"},get value(){return C[1]??"4"},onChange:_=>{let E=o(v.key);E[1]=Number(_),s(v,E,g)}}),null),w}}),ae(ot,{get when(){return!nt.isArray(C)},get children(){return ae(Wl,{style:{width:"120px"},value:C??"4",onChange:w=>{let _=Number(w);s(v,_,g)}})}})];break}case"color":{y=ae(Dv,{style:{width:"120px"},value:C,onChange:w=>{s(v,w,g)}});break}}if(y)return(()=>{var w=yH(),_=w.firstChild;return B(_,()=>v.text),B(w,y,null),w})()}}})]}}),null),d}})};var CH=ee("<div class=chartspire-ui-popup-background><div class=popup><button>Settings</button><button>Remove</button><button>Close");const wH=e=>{const[r,t]=ge(e.overlayMousePosition),[n,i]=ge(!1),o=h=>{h.preventDefault()};ct(()=>{console.log("OverlayOptionsPopup",e.overlay)});const s=()=>{i(!0)},u=()=>{e.setOverlayVisible(!1)},d=()=>{e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()?kt.getInstance(e.widget).deleteOverlay(e.overlay):e.widget.removeOverlay(e.overlay),u()};return(()=>{var h=CH(),g=h.firstChild,v=g.firstChild,y=v.nextSibling,C=y.nextSibling;return h.$$contextmenu=o,v.$$click=s,y.$$click=d,C.$$click=u,B(h,ae(ot,{get when(){return n()},get children(){return ae(xH,{get widget(){return e.widget},get locale(){return e.locale},get overlay(){return e.overlay},get setOverlayVisible(){return e.setOverlayVisible},setShowOverlaySetting:i,get chartId(){return e.chartId},onConfirm:w=>{console.log("Selected color:",w),i(!1)}})}}),null),We(w=>{var _=`${r().y}px`,E=`${r().x}px`;return _!==w.e&&((w.e=_)!=null?g.style.setProperty("top",_):g.style.removeProperty("top")),E!==w.t&&((w.t=E)!=null?g.style.setProperty("left",E):g.style.removeProperty("left")),w},{e:void 0,t:void 0}),h})()};Er(["contextmenu","click"]);const bH=e=>ae(ot,{get when(){return e.timezoneModalVisible},get children(){return ae(zB,{get locale(){return e.locale},get timezone(){return e.timezone},onClose:()=>{e.setTimezoneModalVisible(!1)},get onConfirm(){return e.setTimezone}})}}),_H=e=>ae(ot,{get when(){return e.settingModalVisible()},get children(){return ae(oW,{get locale(){return e.locale},get currentStyles(){return e.widget.getStyles()},onClose:()=>{e.setSettingModalVisible(!1)},onChange:r=>{var t;(t=e.widget)==null||t.setStyles(r),e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(e.widget).saveStyles()},onRestoreDefault:r=>{const t={};r.forEach(n=>{const i=n.key;av(t,i,qr.formatValue(e.widgetDefaultStyles(),i))}),e.widget.setStyles(Na(jr())),e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(e.widget).saveStyles()}})}}),kH=e=>ae(ot,{get when(){return e.screenshotUrl.length>0},get children(){return ae(VB,{get locale(){return e.locale},get url(){return e.screenshotUrl},onClose:()=>{e.setScreenshotUrl("")}})}}),SH=e=>ae(ot,{get when(){return e.indicatorSettingModalParams.visible},get children(){return ae(GB,{get locale(){return e.locale},get params(){return e.indicatorSettingModalParams},onClose:()=>{e.setIndicatorSettingModalParams({visible:!1,indicatorName:"",paneId:"",calcParams:[],styles:{}})},onConfirm:(r,t)=>{const n=e.indicatorSettingModalParams;e.widget.overrideIndicator({name:n.indicatorName,calcParams:r,styles:t},n.paneId)}})}}),EH=e=>ae(ot,{get when(){return e.isActive},get children(){return ae(r$,{get widget(){return e.widget},get rootContainer(){return e.rootContainer},get locale(){return e.locale},get ticker(){return e.ticker},get spread(){return e.drawingBarVisible},get period(){return e.period},get periods(){return e.periods},get multiChart(){return e.multiChart},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get currentCandleType(){return e.currentCandleType},get onCandleTypeChange(){return e.onCandleTypeChange},onMenuClick:async()=>{try{await mE(()=>e.setDrawingBarVisible(!e.drawingBarVisible)),e.widget.resize()}catch{}},onTickerClick:()=>{e.setTickerSearchModalVisible(!e.tickerSearchModalVisible)},get onPeriodChange(){return e.setPeriod},onIndicatorClick:()=>{e.setIndicatorModalVisible(r=>!r)},onTimezoneClick:()=>{e.setTimezoneModalVisible(r=>!r)},onSettingClick:()=>{e.setSettingModalVisible(r=>!r)},onScreenshotClick:()=>{if(e.widget!=null){const r=e.widget.getConvertPictureUrl(!0,"jpeg",e.theme==="dark"?"#151517":"#ffffff");e.setScreenshotUrl(r)}},onMultiChartClick:()=>{e.setMultiChartModalVisible(r=>!r)},onReplayClick:()=>{e.setReplayModalVisible(!e.replayModalVisible)},get onLayoutChange(){return e.setLayout},get layoutLimit(){return e.layoutLimit}})}}),MH=e=>{const r=$d();return ae(ot,{get when(){return e.drawingBarVisible&&e.isActive},get children(){return ae(NB,{get locale(){return e.locale},get widget(){return e.widget},get currentLayout(){return e.currentLayout},get setOverlaySettingVisible(){return e.setOverlaySettingVisible},get setOverlayStyles(){return e.setOverlayStyles},get setOverlayMousePosition(){return e.setOverlayMousePosition},onDrawingItemClick:t=>{console.log("[DrawingSync] Creating overlay:",t);const n={...t,onDrawEnd:function(i){return console.log("[DrawingSync] onDrawEnd triggered",i.overlay),e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()&&kt.getInstance(i.chart).saveOverlay(i.overlay),e.chartIds&&(console.log("[DrawingSync] Syncing overlay creation from chart",e.chartIds),r.onOverlayCreated(e.chartIds,i.overlay)),!0},onRightClick:function(i){const o=i.x||0,s=i.y||0,u=s9(e.widget,o,s);return e.setOverlayMousePosition(u),e.setOverlaySettingVisible(!0),e.setOverlayStyles(i.overlay),!0},onPressedMoveEnd:function(i){return console.log("[DrawingSync] onPressedMoveEnd triggered",i.overlay),e.chartIds&&(console.log("[DrawingSync] Syncing overlay update from chart",e.chartIds),r.onOverlayUpdated(e.chartIds,i.overlay)),!0},onRemoved:function(i){return console.log("[DrawingSync] onRemoved triggered",i.overlay),e.chartIds&&(console.log("[DrawingSync] Syncing overlay removal from chart",e.chartIds),r.onOverlayRemoved(e.chartIds,i.overlay)),!0}};e.widget.createOverlay(n)},onModeChange:t=>{},onLockChange:t=>{const n=e.widget.getOverlays();n&&typeof n.forEach=="function"&&n.forEach(i=>{i.forEach(o=>{e.widget.overrideOverlay({id:o.id,lock:t})})})},onVisibleChange:t=>{const n=e.widget.getOverlays();n&&typeof n.forEach=="function"&&n.forEach(i=>{i.forEach(o=>{e.widget.overrideOverlay({id:o.id,visible:t})})})},onRemoveClick:t=>{console.log("[DrawingSync] Remove click for groupId:",t);const n=e.widget.getOverlays(),i=[];n&&typeof n.forEach=="function"&&n.forEach(o=>{o.forEach(s=>{s.groupId===t&&i.push(s)})}),console.log("[DrawingSync] Found overlays to remove:",i.length),e.currentLayout!==kt.getInstance(e.widget).getDefaultLayout()?kt.getInstance(e.widget).removeAllOverlays(!0):e.widget.removeOverlay({groupId:t}),e.chartIds&&i.forEach(o=>{console.log("[DrawingSync] Syncing removal of overlay:",o.id),r.onOverlayRemoved(e.chartIds,o)})}})}})},TH=(e,r)=>e===$.THREE_MIXED?r==="chart1"?"three-chart-mixed-large":"three-chart-mixed-small":e===$.THREE_MIXED_REVERSE?r==="chart3"?"three-chart-mixed-reverse-large":"three-chart-mixed-reverse-small":e===$.THREE_MIXED_BOTTOM?r==="chart3"?"three-chart-mixed-bottom-large":"three-chart-mixed-bottom-small":e===$.THREE_MIXED_TOP?r==="chart1"?"three-chart-mixed-top-large":"three-chart-mixed-top-small":e===$.FOUR_MIXED?r==="chart1"?"four-chart-mixed-large":"four-chart-mixed-small":e===$.FOUR_MIXED_REVERSE?r==="chart4"?"four-chart-mixed-reverse-large":"four-chart-mixed-reverse-small":e===$.FOUR_MIXED_TOP?r==="chart1"?"four-chart-mixed-top-large":"four-chart-mixed-top-small":e===$.FOUR_MIXED_BOTTOM?r==="chart4"?"four-chart-mixed-bottom-large":"four-chart-mixed-bottom-small":e===$.FIVE_MIXED?r==="chart1"?"five-chart-mixed-large":"five-chart-mixed-small":e===$.FIVE_MIXED_REVERSE?r==="chart5"?"five-chart-mixed-reverse-large":"five-chart-mixed-reverse-small":IH(e),IH=e=>{switch(e){case $.TWO:return"two-chart";case $.TWO_VERTICAL:return"two-chart-vertical";case $.THREE:return"three-chart";case $.THREE_VERTICAL:return"three-chart-vertical";case $.FOUR:return"four-chart";case $.FOUR_VERTICAL:return"four-chart-vertical";case $.FOUR_HORIZONTAL:return"four-chart-horizontal";case $.FIVE_VERTICAL:return"five-chart-vertical";case $.FIVE_HORIZONTAL:return"five-chart-horizontal";case $.SIX:return"six-chart";case $.SIX_HORIZONTAL:return"six-chart-horizontal";case $.SIX_VERTICAL:return"six-chart-vertical";case $.SIX_MIXED:return"six-chart-mixed";case $.SEVEN_VERTICAL:return"seven-chart-vertical";case $.SEVEN_HORIZONTAL:return"seven-chart-horizontal";case $.EIGHT:return"eight-chart";case $.EIGHT_VERTICAL:return"eight-chart-vertical";case $.EIGHT_HORIZONTAL:return"eight-chart-horizontal";case $.NINE:return"nine-chart";case $.NINE_VERTICAL:return"nine-chart-vertical";case $.NINE_HORIZONTAL:return"nine-chart-horizontal";case $.TEN:return"ten-chart";case $.TEN_VERTICAL:return"ten-chart-vertical";case $.TEN_HORIZONTAL:return"ten-chart-horizontal";case $.TWELVE:return"twelve-chart";case $.TWELVE_VERTICAL:return"twelve-chart-vertical";case $.TWELVE_HORIZONTAL:return"twelve-chart-horizontal";case $.TWELVE_GRID:return"twelve-chart-grid";case $.FOURTEEN:return"fourteen-chart";case $.SIXTEEN:return"sixteen-chart";case $.ONE:default:return"one-chart"}};var LH=ee("<div><div>");const PH=e=>{const r=()=>{e.onClick!=null&&e.onClick()},t=()=>{e.onClick!=null&&e.onClick()};return(()=>{var n=LH(),i=n.firstChild;B(n,ae(ot,{get when(){return e.loadingVisible},get children(){return ae(yy,{})}}),i),i.$$touchend=t,i.$$click=r;var o=e.ref;return typeof o=="function"?pa(o,i):e.ref=i,We(s=>{var u=`chartspire-ui-content ${TH(e.multiChart,e.chartIds)}`,d=`
          chartspire-ui-widget
          ${e.chartIds}
          ${e.isActive&&e.multiChart>1?"active-chart":""}
          `,h=e.chartIds,g=e.drawingBarVisible,v=String(e.multiChart),y=e.isActive;return u!==s.e&&tr(n,s.e=u),d!==s.t&&tr(i,s.t=d),h!==s.a&&Ye(i,"data-chart-id",s.a=h),g!==s.o&&Ye(i,"data-drawing-bar-visible",s.o=g),v!==s.i&&Ye(i,"multichart-amount",s.i=v),y!==s.n&&Ye(i,"is-active-chart",s.n=y),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),n})()};Er(["click","touchend"]);const AH=e=>ae(ot,{get when(){return e.symbolTickerModalVisible},get children(){return ae(Cy,{get locale(){return e.locale},get onTickerSelected(){return e.setTicker},onClose:()=>{e.setTickerSearchModalVisible(!1)},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed}})}});function DH(e,r,t){ct(()=>{e()&&t(!0)}),ct(()=>{r()||t(!1)})}function FH(e,r){ct(()=>{e()&&MD(r())})}function RH(e,r){ct(()=>{e()&&(r(),e()>1?h5(!0):h5(!1))})}function OH(e,r,t,n,i,o,s,u,d,h,g,v){const[y,C]=ge(n());ct(async()=>{const w=y()!==n();if(t()&&n()&&(i()||w)&&e()&&r!=null){if(o([]),s({}),await kt.getInstance(Ke(r)).removeAllOverlays(),PD(Ke(r)),C(n()),t()===kt.getInstance(Ke(r)).getDefaultLayout())return Ke(r).setStyles(Na(jr())),v&&Na(jr()).candle&&Na(jr()).candle.type&&v(Na(jr()).candle.type),null;bv(t());const _=await kt.getInstance(Ke(r)).getLayoutFromStore()??M0();if(Ke(r)!==null&&v){await NH(Ke(r),_,v),await zH(Ke(r),_,d,h,g,Ke(n));const E=await kt.getInstance(Ke(r)).getIndicators(_);u(E.indicators)}}})}async function NH(e,r,t){const n=await kt.getInstance(e).getStyles(r);n?(e.setStyles(n),t&&n.candle&&n.candle.type&&t(n.candle.type)):(e.setStyles(Na(jr())),t&&Na(jr()).candle&&Na(jr()).candle.type&&t(Na(jr()).candle.type))}async function zH(e,r,t,n,i,o){const s=await kt.getInstance(e).getOverlays(r);nt.forEach(s,u=>{var d,h,g;(d=kt.getInstance(e))!=null&&d.isDefaultLayout()||o.ticker===((h=u==null?void 0:u.tickerInfo)==null?void 0:h.ticker)&&o.type===((g=u==null?void 0:u.tickerInfo)==null?void 0:g.type)&&(u.overlay.onDrawEnd=v=>(kt.getInstance(v.chart).saveOverlay(v.overlay),!0),u.overlay.onRightClick=v=>{const y=s9(e,v.x??0,v.y??0);return i(y),t(!0),n(v.overlay),!0},Ad(u.overlay),e.createOverlay(u.overlay))})}function BH(e,r,t){ct(()=>{var n;const i=r();i!=null&&i.priceCurrency?(t.innerHTML=i.priceCurrency.toLocaleUpperCase(),t.style.display="flex"):t.style.display="none",(n=e())==null||n.setPrecision({price:(i==null?void 0:i.pricePrecision)??2,volume:(i==null?void 0:i.volumePrecision)??0})})}function VH(e,r){ct(()=>{e(),r()})}function $H(e,r){ct(()=>{e()&&r()})}function WH(e,r){ct(()=>{console.log("useLocaleEffect",r()),Ke(e).setLocale(r())})}let f9=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"America/Los_Angeles"});function HH(e){f9=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:e})}function UH(){return f9}function jH(e,r,t){ct(()=>{if(Ke(e)==null)return;const n=r().key;HH(n),t()})}function XH(e,r,t){ct(()=>{r()&&(Ke(e).setStyles(r()),t(Ke(e).getStyles()))})}function YH(e,r){const t=r==="dark"?"#929AA5":"#76808F";e==null||e.setStyles({indicator:{tooltip:{icons:[{id:"visible",position:$l.Middle,marginLeft:8,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,icon:"",fontFamily:"icomoon",size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"invisible",position:$l.Middle,marginLeft:8,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,icon:"",fontFamily:"icomoon",size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"setting",position:$l.Middle,marginLeft:6,marginTop:7,marginBottom:0,marginRight:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,icon:"",fontFamily:"icomoon",size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"close",position:$l.Middle,marginLeft:6,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,icon:"",fontFamily:"icomoon",size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"}]}}})}function ZH(e,r){ct(()=>{Ke(e).setStyles(r),YH(Ke(e),r)})}const Tp=new Map;function KH(e){return Tp.has(e)||Tp.set(e,{currentCandle:null,targetInterval:{multiplier:1,timespan:"minute",text:"1m"},lastTimestamp:0,initialized:!1,lastVolume:0,isFirstDataPoint:!0}),Tp.get(e)}function g9(e){Tp.set(e,{currentCandle:null,targetInterval:{multiplier:1,timespan:"minute",text:"1m"},lastTimestamp:0,initialized:!1,lastVolume:0,isFirstDataPoint:!0})}function GH(e,r,t){if(!t.currentCandle)return!0;const n=new Date(t.currentCandle.timestamp),i=new Date(e);switch(r.timespan){case"minute":const o=r.multiplier,s=n.getUTCHours()*60+n.getUTCMinutes(),u=i.getUTCHours()*60+i.getUTCMinutes();return Math.floor(s/o)!==Math.floor(u/o);case"hour":const d=r.multiplier,h=n.getUTCHours(),g=i.getUTCHours(),v=Math.floor(h/d)!==Math.floor(g/d),y=n.getUTCDate()!==i.getUTCDate();return!!(v||y);case"day":return Math.floor((i.getTime()-n.getTime())/(24*60*60*1e3))>=r.multiplier;case"week":const C=E=>{const T=new Date(E.getTime());let M=T.getUTCDay();M===0&&(M=7);const I=M-1;return T.setUTCDate(T.getUTCDate()-I),T.setUTCHours(0,0,0,0),T},w=C(n),_=C(i);return w.getTime()!==_.getTime();case"month":return(i.getUTCFullYear()-n.getUTCFullYear())*12+(i.getUTCMonth()-n.getUTCMonth())>=r.multiplier;default:return console.warn(`Unknown interval: ${r.timespan}`),!0}}function v9(e,r){const t=new Date(e);t.toISOString();let n=new Date(e);switch(r.timespan){case"minute":const i=Math.floor(t.getUTCMinutes()/r.multiplier)*r.multiplier;n.setUTCMinutes(i,0,0);break;case"hour":const o=t.getUTCHours(),s=Math.floor(o/r.multiplier)*r.multiplier;n.setUTCHours(s,0,0,0);break;case"day":if(n.setUTCHours(0,0,0,0),r.multiplier>1){const h=Math.floor(t.getTime()/864e5)%r.multiplier;n.setTime(n.getTime()-h*24*60*60*1e3)}break;case"week":let u=t.getUTCDay();u===0&&(u=7);const d=u-1;if(n.setUTCDate(t.getUTCDate()-d),n.setUTCHours(0,0,0,0),r.multiplier>1){const h=new Date(Date.UTC(2e3,0,3)).getTime(),g=(Math.floor((n.getTime()-h)/6048e5)%r.multiplier+r.multiplier)%r.multiplier;g>0&&n.setTime(n.getTime()-g*6048e5)}break;case"month":if(n.setUTCDate(1),n.setUTCHours(0,0,0,0),r.multiplier>1){const h=t.getUTCMonth(),g=h%r.multiplier;n.setUTCMonth(h-g)}break;default:return e}return n.getTime()}function m9(e,r){try{const t=e.getDataList();return!t||t.length===0?(console.log(`No existing data found in chart for timestamp lookup: ${new Date(r).toISOString()}`),null):t.find(i=>i.timestamp===r)||null}catch(t){return console.error("Error finding existing candle:",t),null}}function qH(e,r,t,n){if(!n.initialized)try{const i=v9(r,t),o=m9(e,i);if(o)n.currentCandle={...o};else if(t.timespan==="week"){const s=(h=>{const g=new Date(h.getTime());let v=g.getUTCDay();return v===0&&(v=7),g.setUTCDate(g.getUTCDate()-(v-1)),g.setUTCHours(0,0,0,0),g})(new Date(r)),u=new Date(s.getTime()+7*24*60*60*1e3),d=e.getDataList();if(d&&d.length>0){const h=d.find(g=>{const v=new Date(g.timestamp).getTime();return v>=s.getTime()&&v<u.getTime()});h&&(n.currentCandle={...h,timestamp:i})}}n.initialized=!0}catch(i){console.error("Error initializing from existing data:",i),n.initialized=!0}}function QH(e,r,t,n){if(t.timespan==="minute"&&t.multiplier===1){e.updateData(r);return}const i=KH(n);i.targetInterval=t,i.initialized||qH(e,r.timestamp,t,i);const o=r.timestamp;i.lastTimestamp=o;const s=v9(o,t),u=r.volume||0,d=Math.max(0,u-i.lastVolume);if(i.lastVolume=u,!i.currentCandle||GH(o,t,i)){i.lastVolume=u,i.isFirstDataPoint=!0,i.currentCandle&&e.updateData(i.currentCandle);const h=m9(e,s);if(h){i.currentCandle={...h},i.currentCandle.high=Math.max(h.high,r.high),i.currentCandle.low=Math.min(h.low,r.low),i.currentCandle.close=r.close;const g=h.volume||0;i.currentCandle.volume=g}else i.currentCandle={open:r.open,high:r.high,low:r.low,close:r.close,volume:u,timestamp:s};e.updateData(i.currentCandle)}else if(i.currentCandle){const h=i.currentCandle;h.high=Math.max(h.high,r.high),h.low=Math.min(h.low,r.low),h.close=r.close,i.isFirstDataPoint||(h.volume=(h.volume||0)+d),e.updateData(h)}i.isFirstDataPoint=!1}j0.RENKO;const y9=10,Rg=new Map;function x9(e){return Rg.has(e)||Rg.set(e,{lastData:null,lastUpdateTime:Date.now()}),Rg.get(e)}function JH(e,r,t){var n;if(!r||r.length===0)return console.warn(`No data provided for Renko chart initialization (chart ${t})`),[];try{const i=((n=e.getStyles().candle.renko)==null?void 0:n.brick.size)||y9;e.getStyles().candle.type=xr.CandleSolid;const o=[...r].sort((g,v)=>g.timestamp-v.timestamp),s=Yv(o,i,4);if(s.length===0)return console.warn(`Failed to generate Renko bricks for chart ${t} - using original data`),o;const u=o.at(-1),d=rU(u,s,i,4),h=nU(d,u);if(h.length>0){const g=x9(t);g.lastData=h.at(-1),g.lastUpdateTime=Date.now()}else console.warn(`No Renko bricks generated during initialization for chart ${t}`);return h}catch(i){return console.error(`Error initializing Renko chart ${t}:`,i),r}}function eU(e,r,t,n,i){r.subscribeTicker(t,n,o=>{if(e)try{const s=tU(e,o,i);if(s&&s.length>0){const u=s.at(-1),d=u.shadowPrice!==void 0?Number(u.shadowPrice):u.close,h=u.close>u.open,g={...u,open:u.open,close:u.close,high:h&&d>u.close?d:u.high,low:h?u.low:d<u.close?d:u.low};e.updateData(g);const v=x9(i);v.lastData=g,v.lastUpdateTime=Date.now();const y=e.getDataList();if(y&&y.length>0){const C=y.at(-1);console.log(`Chart data verification - Brick: ${C==null?void 0:C.open}/${C==null?void 0:C.high}/${C==null?void 0:C.low}/${C==null?void 0:C.close}`)}}else console.warn(`Failed to update Renko chart ${i} - no valid bricks`)}catch(s){console.error(`Error updating Renko chart ${i}:`,s)}},i)}function tU(e,r,t){var n;try{const i=e.getDataList();if(!i||i.length===0)return console.warn(`No existing data found for Renko chart ${t}`),[];const o=((n=e.getStyles().candle.renko)==null?void 0:n.brick.size)||y9,s=i.at(-1),u=s.close,d=r.close,h=d-u,g=Math.abs(h);if(console.log(`Renko update: Current price: ${d}, Last brick close: ${u}, Diff: ${h}, Brick size: ${o}`),g>=o){console.log(`Price moved enough (${g} >= ${o}) to create new bricks`);const v=[...i,r],y=Yv(v,o,4);return y.length===0?(console.warn(`No Renko bricks generated for chart ${t}`),i):(console.log(`Generated ${y.length} Renko bricks for chart ${t}`),y)}else{console.log(`Price hasn't moved enough (${g} < ${o}) for a new brick. Adding shadow price: ${d}`);const v=s.close>s.open,y={...s,shadowPrice:d};return[...i.slice(0,-1),y]}}catch(i){return console.error(`Error in updateRenkoData for chart ${t}:`,i),[]}}function Yv(e,r,t){var n,i,o,s;if(!e||e.length===0)return[];let u=[],d=e[0].open;for(let h=1;h<e.length;h++){const g=e[h].timestamp,v=e[h].close,y=Number((v-d).toFixed(t));if(y>0){let C=y;for(;C>=r;){const w=Number((d+r).toFixed(t)),_={open:d,high:w,low:d,close:w,timestamp:g};(u.length===0||w!==((n=u.at(-1))==null?void 0:n.open)&&w!==((i=u.at(-1))==null?void 0:i.close))&&u.push(_),d=w,C-=r}}else if(y<0){let C=Math.abs(y);for(;C>=r;){const w=Number((d-r).toFixed(t)),_={open:d,high:d,low:w,close:w,timestamp:g};(u.length===0||w!==((o=u.at(-1))==null?void 0:o.open)&&w!==((s=u.at(-1))==null?void 0:s.close))&&u.push(_),d=w,C-=r}}}return console.log(`Generated ${u.length} Renko bricks`),u}function rU(e,r,t,n){var i,o,s,u,d;if(r.length===0)return Yv([{open:e.open,high:e.high,low:e.low,close:e.close,timestamp:e.timestamp-6e4},e],t,n);let h=[...r],g=((i=h.at(-1))==null?void 0:i.close)||0;const v=e.timestamp;let y=e.close;const C=Number((y-g).toFixed(n));if(C>0&&C>=t){const _=Math.floor(C/t);console.log(`Adding ${_} up bricks`);for(let E=0;E<_;E++){const T=Number((g+t).toFixed(n)),M={open:g,high:T,low:g,close:T,timestamp:v};(h.length===0||T!==((o=h.at(-1))==null?void 0:o.open)&&T!==((s=h.at(-1))==null?void 0:s.close))&&h.push(M),g=T}}else if(C<0&&Math.abs(C)>=t){const _=Math.floor(Math.abs(C)/t);for(let E=0;E<_;E++){const T=Number((g-t).toFixed(n)),M={open:g,high:g,low:T,close:T,timestamp:v};(h.length===0||T!==((u=h.at(-1))==null?void 0:u.open)&&T!==((d=h.at(-1))==null?void 0:d.close))&&h.push(M),g=T}}const w=C-Math.floor(Math.abs(C)/t)*(C>=0?t:-t);if(w!==0&&h.length>0){const _=h.at(-1),E=Number((_.close+w).toFixed(n));_.shadowPrice=E}return h}function nU(e,r){if(e.length===0)return e;const t=[...e],n=t[t.length-1],i=r.close,o={...n,shadowPrice:i};return t[t.length-1]=o,t}j0.RENKO;const iU=10;function Zv(e){return e===j0.RENKO||String(e).toLowerCase()==="renko"}const Dd={multiplier:1,timespan:"minute",text:"1m"};function aU(e,r,t,n,i,o,s,u,d,h,g){ct(v=>{const y=Nl(r().type);if(h(y),n())y.unsubscribeTicker(r(),Dd,i);else if(o)console.warn("No data being retrieved");else return v!=null&&(Ke(u).unsubscribeTicker(v.symbol,Dd,i),(v.symbol.ticker!==r().ticker||v.period.timespan!==t().timespan||v.period.multiplier!==t().multiplier)&&g9(i)),o=!0,d(y),C9({widget:Ke(e),ticker:r(),period:t(),tickerType:r().type,candleType:g?Ke(g):void 0,uuid:i,setLoadingVisible:s}).finally(()=>{o=!1}),{symbol:r(),period:t()};return v})}async function C9({widget:e,ticker:r,period:t,tickerType:n,candleType:i,uuid:o,setLoadingVisible:s}){if(!e)return;const u=Nl(n);s&&s(!0),console.warn("Fetching market data"),g9(o);try{const[d,h]=LD(t,new Date().getTime(),500);let g=await u.getHistoricalTimeSeries(r,t,d,h,n);if(e==null)return;g.length>0?(Zv(i)&&g.length>0&&(g=JH(e,g,o)),e.applyNewData(g,!0)):(console.warn("No data found for the selected symbol"),e.applyNewData([],!1)),oU(e,u,r,o,i,t)}catch(d){console.warn("Error fetching market data",d),e.applyNewData([],!1)}finally{s&&s(!1)}}function oU(e,r,t,n,i,o){if(Zv(i)){e.getStyles().candle.type=xr.CandleSolid,eU(e,r,t,Dd,n);return}r.subscribeTicker(t,Dd,s=>{QH(e,s,o||Dd,n)},n)}const k0=new Map;class A0{constructor(r,t,n){Re(this,"widget"),Re(this,"replayCandle"),Re(this,"replaySpeed"),Re(this,"hasReplaySpeedChanged",!1),Re(this,"dataList",[]),Re(this,"selectedCandleIndex",null),Re(this,"currentIndex",0),Re(this,"intervalId",null),this.widget=r,this.replayCandle=t,this.replaySpeed=n}static getInstance(r,t,n,i){var o;if(!k0.has(r)||((o=k0.get(r))==null?void 0:o.widget)==null){const s=new A0(t,n,i);k0.set(r,s)}return k0.get(r)}static destroyInstance(r){k0.has(r)&&k0.delete(r)}getDataListToRightOfCandle(){var r;try{if(!this.hasReplaySpeedChanged&&(this.hasReplaySpeedChanged=!0,this.dataList=this.widget.getDataList(),this.selectedCandleIndex=this.replayCandle(),this.selectedCandleIndex!=null)){const t=this.selectedCandleIndex.dataIndex,n=this.dataList.slice(0,t+1),i=this.dataList.slice(t+1);return(r=this.widget)==null||r.applyNewData(n,n.length>0),i}if(this.selectedCandleIndex!==null)return this.dataList.slice(this.selectedCandleIndex.dataIndex+1)}catch(t){console.error("Error trying to get data to replay:",t)}return[]}startReplay(r){try{(!Array.isArray(r)||r.length===0)&&console.warn("Invalid data provided for replay");const t=Number(wN(this.replaySpeed().key));(isNaN(t)||t<=0)&&console.warn("Invalid replay speed. Replay speed must be a positive number"),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.intervalId=setInterval(()=>{try{if(this.currentIndex<r.length){if(this.widget==null){console.warn("Widget is not initialized");return}this.widget.updateData(r[this.currentIndex]),this.currentIndex++}else this.intervalId!=null&&clearInterval(this.intervalId),this.intervalId=null}catch(n){console.error("Error during replay interval:",n),this.intervalId!=null&&(clearInterval(this.intervalId),this.intervalId=null)}},t)}catch(t){console.log("Error starting replay:",t)}}pauseReplay(){try{this.intervalId!==null&&(clearInterval(this.intervalId),this.intervalId=null)}catch(r){console.log("Error while pausing replay:",r)}}resumeReplay(r){try{(!Array.isArray(r)||r.length===0)&&console.log("Invalid data provided for replay: Array is empty or not provided"),this.intervalId===null&&this.startReplay(r)}catch(t){console.log("Error while attempting to resume replay:",t)}}skipReplay(){try{this.pauseReplay(),this.widget.applyNewData(this.dataList,this.dataList.length>0)}catch(r){console.log("Error while skipping to end:",r)}}}const lU=(e,r,t)=>{const[n,i]=ge(r),[o,s]=ge(!1),[u,d]=ge({key:"1x",text:M5("1x",e)}),[h,g]=ge(!1),[v,y]=ge(!1),[C,w]=ge(null),[_,E]=ge(!0),[T,M]=ge(""),[I,D]=ge(!1),[O,N]=ge(!1);ct(()=>{if(h())if(Ke(C)!=null){const V=A0.getInstance(t,Ke(n),()=>Ke(C),u);V.startReplay(V.getDataListToRightOfCandle()),N(!0),E(!1)}else E(!0);else N(!1)}),ct(()=>{const V=A0.getInstance(t,Ke(n),()=>Ke(C),u);v()?V.pauseReplay():Ke(C)!=null&&V.resumeReplay(V.getDataListToRightOfCandle())}),ct(()=>{o()?E(!0):(g(!1),y(!1))}),ct(()=>{I()&&(A0.getInstance(t,Ke(n),()=>Ke(C),u).skipReplay(),F())});const F=()=>{w(null),s(!1),d({key:"1x",text:M5("1x",e)}),g(!1),y(!0),E(!0),M(""),D(!1),A0.destroyInstance(t)};return{replayModalVisible:o,setReplayModalVisible:s,replaySpeed:u,setReplaySpeed:d,replayPlay:h,setReplayPlay:g,replayPaused:v,setReplayPaused:y,replayCandle:C,setReplayCandle:w,isAlertVisible:_,setIsAlertVisible:E,alertMessage:T,setAlertMessage:M,resetReplayState:F,setSkipToEnd:D,skipToEnd:I,isPlaying:O,setIsPlaying:N,setReplayWidget:i}};function sU(e){ct(()=>{e()})}const cU=j0.RENKO;function xp(e){return String(e).toLowerCase()===cU}function uU(e,r,t,n,i,o,s,u,d,h){const[g,v]=ge(null);return ct(()=>{const y=e();if(y){const C=y.getStyles();C&&C.candle&&C.candle.type&&n(C.candle.type)}}),ct(()=>{const y=e(),C=r(),w=t();if(y==null||C==null)return;const _=g();v(w);const E={...C,candle:{...C.candle,type:w}};y.setStyles(E),y.resize();const T=xp(w)&&!xp(_),M=!xp(w)&&xp(_);(T||M)&&i&&o&&h&&y&&(console.log(`Candle type changed ${_} -> ${w}, refreshing data...`),V5(y,Ke(s),Ke(i),Ke(o),w,h))}),ct(()=>{u()&&Ke(e)&&(console.log("Renko update triggered"),V5(Ke(e),Ke(s),Ke(i),Ke(o),Ke(t),h),d(!1))}),y=>{n(y);const C=e();if(C){const w=C.getStyles();w.candle.type=y,C.setStyles(w),kt.getInstance(C).saveStyles()}}}function V5(e,r,t,n,i,o){r.unsubscribeTicker(t,n,o),C9({widget:e,ticker:t,period:n,tickerType:t.type,candleType:i,uuid:o})}const dU=(e,r,t,n)=>{ct(()=>{const i=r();if(i&&Zv(e())){const o=s=>{s.preventDefault(),n({x:s.clientX,y:s.clientY}),t(!0)};i.addEventListener("contextmenu",o),hi(()=>{i.removeEventListener("contextmenu",o)})}})};function hU(e){ct(()=>{jr()==="Dark Theme"||jr()==="Midnight Theme"||jr()==="Dark Gray Theme"||jr()==="Blue Theme"||jr()==="Red Theme"||jr()==="Green Theme"||jr()==="Yellow Theme"||jr(),Ke(e).setStyles(Na(jr()))})}async function pU(e,r,t,n,i,o,s,u,d,h,g,v,y,C,w,_,E,T,M,I){var D,O,N,F,V,W;let Z;if(window.addEventListener("resize",_),n(gU(e,r,I())),t){const ne=(D=t())==null?void 0:D.getDom("candle_pane",co.YAxis);Z=document.createElement("span"),Z.className="chartspire-price-unit",ne==null||ne.appendChild(Z)}const J=kt.getInstance(t());let he;o()===J.getDefaultLayout()?he=J.getDefaultLayoutData():he=await J.getLayoutFromStore()??J.getDefaultLayoutData();const H=await J.getIndicators(he);E(H.indicators),M();const Y=await J.getStyles(he);Y!=null&&((O=t())==null||O.setStyles(Y));const K=await J.getOverlays(he);if(nt.forEach(K,ne=>{var re,Q;K!=null&&i().ticker===((re=ne.tickerInfo)==null?void 0:re.ticker)&&i().type===ne.tickerInfo.type&&((Q=t())==null||Q.createOverlay(ne.overlay))}),t()){const ne=o9(),re=l9(),Q=Bv(),ue=$v(),le=$d(),j=i(),ie=r();let xe=j.ticker,Me=j.type?String(j.type):void 0;ne.registerChart(T.chartIds,t(),xe,Me),re.registerChart(T.chartIds,t(),xe,Me);const Ie=(Ne,ke)=>{T.onTickerChange&&T.onTickerChange(Ne,ke)};Q.registerChart(T.chartIds,t(),xe,Me,ie.timespan+ie.multiplier,Ie);const Ae=Ne=>{T.onIntervalChange&&T.onIntervalChange(Ne)};ue.registerChart(T.chartIds,t(),xe,Me,ie,Ae),le.registerChart(T.chartIds,t(),xe,Me,ie.timespan+ie.multiplier),Y&&ne.updateChartStyles(T.chartIds,Y);let Je=null,Oe=0,Be={x:0,y:0},ye={x:0,y:0};const Fe=(N=t())==null?void 0:N.getDom("candle_pane");Fe&&(Fe.addEventListener("mousedown",Ne=>{if(T.isActiveChart){Oe=Date.now(),Be={x:Ne.clientX,y:Ne.clientY};const ke=Fe.getBoundingClientRect();ye={x:Ne.clientX-ke.left,y:Ne.clientY-ke.top}}}),Fe.addEventListener("mouseup",Ne=>{var ke;if(T.isActiveChart){const et=Date.now()-Oe,Ft=Math.sqrt(Math.pow(Ne.clientX-Be.x,2)+Math.pow(Ne.clientY-Be.y,2));if(et<300&&Ft<5){try{const Ue=t();if(Ue){const St=Ue.convertFromPixel([ye],{paneId:"candle_pane"});if(St&&Array.isArray(St)&&(ke=St[0])!=null&&ke.timestamp){const Gt=St[0].timestamp;re.syncTime(T.chartIds,Gt)}}}catch(Ue){console.error("[TimeSync] Error converting click position to timestamp:",Ue)}Je&&clearTimeout(Je),Je=setTimeout(()=>{},150)}}})),(F=t())==null||F.subscribeAction(ci.OnCrosshairChange,Ne=>{const ke=Ne;ke.paneId==="candle_pane"&&T.isActiveChart&&(ne.resetCrosshairVisibility(T.chartIds),ne.syncCrosshair(T.chartIds,ke))}),ct(()=>{const Ne=i(),ke=Ne.ticker,et=Ne.type?String(Ne.type):void 0;(ke!==xe||et!==Me)&&(ne.updateChartTicker(T.chartIds,ke,et),re.updateChartTicker(T.chartIds,ke,et),le.updateChartTicker(T.chartIds,ke,et),Q.onTickerChange(T.chartIds,ke,et),xe=ke,Me=et)});let He=ie;ct(()=>{const Ne=r();(Ne.multiplier!==He.multiplier||Ne.timespan!==He.timespan)&&(ue.updateChartInterval(T.chartIds,Ne),le.updateChartInterval(T.chartIds,Ne),ue.onIntervalChange(T.chartIds,Ne),He=Ne)})}(V=t())==null||V.subscribeAction(ci.OnTooltipIconClick,ne=>{vU(t(),ne,w,s,u,d,h)}),(W=t())==null||W.subscribeAction(ci.OnCandleBarClick,ne=>{const re=ne;g(re);const Q=re.data.timestamp,ue=new Date(Q);v("Candle selected from date: "+ue.toLocaleString()+" - Press play to start replay"),t!=null&&(bv(o),y(t()))}),await(async()=>{if(t()){const ne=await kt.getInstance(t()).getNameOfAllLayouts();C(ne.slice(0,T.layoutLimit))}})(),BH(t,i,Z)}function fU(e){o9().unregisterChart(e),l9().unregisterChart(e),Bv().unregisterChart(e),$v().unregisterChart(e),$d().unregisterChart(e)}function gU(e,r,t){return y4(e,{customApi:{formatDate:(n,i,o)=>{const s=r();let u=UH();switch(s.timespan){case"minute":return _i.XAxis,qr.formatDate(u,n,i);case"hour":return _i.XAxis,qr.formatDate(u,n,i);case"day":case"week":return qr.formatDate(u,n,i);case"month":return _i.XAxis,qr.formatDate(u,n,i);case"year":return _i.XAxis,qr.formatDate(u,n,i)}return qr.formatDate(u,n,i)}}})}function vU(e,r,t,n,i,o,s){if(r.indicatorName)switch(r.iconId){case"visible":{e==null||e.overrideIndicator({name:r.indicatorName,visible:!0},r.paneId);break}case"invisible":{e==null||e.overrideIndicator({name:r.indicatorName,visible:!1},r.paneId);break}case"setting":{if(e){const u=e.getIndicators({name:r.indicatorName,paneId:r.paneId});if(u){const d=u.get(r.paneId);d&&t({visible:!0,indicatorName:r.indicatorName,paneId:r.paneId,calcParams:d[0].calcParams,styles:d[0].styles})}}break}case"close":{if(r.paneId==="candle_pane"){const u=[...n()];e==null||e.removeIndicator({name:r.indicatorName,paneId:"candle_pane"}),u.splice(u.indexOf(r.indicatorName),1),i(u)}else{const u={...o()};e==null||e.removeIndicator({name:r.indicatorName,paneId:r.paneId}),delete u[r.indicatorName],s(u)}kt.getInstance(e).saveIndicators()}}}function $5(e,r,t,n,i){if(i){const o=i.getAttribute("data-chart-id");o&&fU(o)}if(window.removeEventListener("resize",e),r){const o={multiplier:1,timespan:"minute",text:"1m"};r.unsubscribeTicker(t,o,n)}$m(_t.ALL)}const mU=e=>ae(ot,{get when(){return e.isActive},get children(){return ae(TW,{get widget(){return e.widget},get ticker(){return e.ticker},get setInterval(){return e.setInterval},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get layoutLimit(){return e.layoutLimit},get onLayoutChange(){return e.onLayoutChange},get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}})}}),yU=e=>ae(ot,{get when(){return e.overlayOptionsVisible},get children(){return ae(wH,{get setOverlayVisible(){return e.setOverlayOptionsVisible},get overlay(){return e.overlayStyles},get widget(){return e.widget},get locale(){return e.locale},get currentLayout(){return e.currentLayout},get chartId(){return e.chartId},get overlayMousePosition(){return e.overlayMousePosition}})}});var xU=ee("<div class=chartspire-ui-renko-setting-modal-content><div class=content><div class=setting-item><span></span></div><div class=setting-footer><button class=cancel-button></button><button class=confirm-button>");const CU=e=>{var r,t;const n=((t=(r=e.widget.getStyles().candle.renko)==null?void 0:r.brick)==null?void 0:t.size)||iU,[i,o]=ge(n.toString()),s=()=>{const d=e.widget.getStyles();d.candle.renko||(d.candle.renko={brick:{size:10}}),d.candle.renko||(d.candle.renko={brick:{size:10}});const h=Number(i());!isNaN(h)&&h>0?(d.candle.renko&&(d.candle.renko={brick:{size:h}}),e.widget.setStyles(d),kt.getInstance(e.widget).saveStyles(),e.widget.resize(),e.setRenkoRefresh(!0),console.log(`Renko brick size updated to ${h}`)):console.error("Invalid brick size"),e.setShowRenkoSetting(!1),e.setRenkoPopupVisible(!1),e.onConfirm()},u=()=>{e.setShowRenkoSetting(!1)};return ae(Gl,{get title(){return L("renko_settings",e.locale)||"Renko Settings"},contentHeight:"auto",onClose:u,get children(){var d=xU(),h=d.firstChild,g=h.firstChild,v=g.firstChild,y=g.nextSibling,C=y.firstChild,w=C.nextSibling;return B(v,()=>L("brick_size",e.locale)||"Brick Size"),B(g,ae(Wl,{style:{width:"120px"},get value(){return i()},onChange:_=>o(_),min:.1}),null),C.$$click=u,B(C,()=>L("cancel",e.locale)||"Cancel"),w.$$click=s,B(w,()=>L("save",e.locale)||"Save"),d}})};Er(["click"]);var wU=ee("<div class=chartspire-ui-popup-background><div class=popup><button>Brick Size Settings</button><button>Close");const bU=e=>{const[r,t]=ge(!1),n=s=>{s.preventDefault()},i=()=>{t(!0)},o=()=>{e.setRenkoPopupVisible(!1)};return(()=>{var s=wU(),u=s.firstChild,d=u.firstChild,h=d.nextSibling;return s.$$contextmenu=n,d.$$click=i,h.$$click=o,B(s,ae(ot,{get when(){return r()},get children(){return ae(CU,{get widget(){return e.widget},get locale(){return e.locale},get setRenkoPopupVisible(){return e.setRenkoPopupVisible},setShowRenkoSetting:t,get setRenkoRefresh(){return e.setRenkoRefresh},onConfirm:()=>{t(!1)}})}}),null),We(g=>{var v=`${e.renkoMousePosition.y}px`,y=`${e.renkoMousePosition.x}px`;return v!==g.e&&((g.e=v)!=null?u.style.setProperty("top",v):u.style.removeProperty("top")),y!==g.t&&((g.t=y)!=null?u.style.setProperty("left",y):u.style.removeProperty("left")),g},{e:void 0,t:void 0}),s})()};Er(["contextmenu","click"]);var _U=ee('<i class="icon-close chartspire-ui-load-icon">');const[W5,Og]=ge([]),Ng=new Set,[Cp,kU]=ge("en-US"),[SU,H5]=ge(!1),[S0,zg]=ge({key:"America/New_York",text:Qg("America/New_York","en-US")}),EU=e=>{Ng.has(e.chartIds)?console.warn(`Chart ${e.chartIds} is being mounted again, this may cause issues`):(console.log(`Mounting chart ${e.chartIds} for the first time`),Ng.add(e.chartIds));const r=Math.random().toString(36).slice(2,11),t={id:e.chartIds};let n=!1,i;const[o,s]=ge(null),[u,d]=ge(Ur.getDefaultDataFeed()),[h,g]=ge(Ur.getDefaultDataFeed()),[v,y]=ge(!1),[C,w]=ge(e.styles),[_,E]=ge(),[T,M]=ge(xr.CandleSolid),[I,D]=ge(e.interval),[O,N]=ge(!1),[F,V]=ge(!1),[W,Z]=ge([...e.mainIndicators]),[J,he]=ge({}),[H,Y]=ge({visible:!1,indicatorName:"",paneId:"",calcParams:[],styles:{}}),[K,ne]=ge(!1),[re,Q]=ge(""),[ue,le]=ge(e.drawingBarVisible),[j,ie]=ge(!1),[xe,Me]=ge(e.ticker),[Ie,Ae]=ge(kt.getInstance(Ke(o)).getDefaultLayout()),[Je,Oe]=ge(!1),[Be,ye]=ge(!1),[Fe,He]=ge({x:0,y:0}),[Ne,ke]=ge(null),[et,Ft]=ge(!1),[Ue,St]=ge({x:0,y:0}),[Gt,qt]=ge(!1),xt=()=>{o().resize()};function Cr(Ot){if(Ot&&Ot.length>0){Z([]),he({});const ut=iE(Ot),Dr=aE(Ot);Z(ut);const ur={};Dr.forEach(Fr=>{if(Ke(o)!=null){const Tn=Up(Ke(o),Fr,!1,!0);Tn&&(ur[Fr]=Tn)}}),he(ur)}}function Qr(){W().forEach(Ot=>{Ke(o)!=null&&Up(Ke(o),Ot,!1,!0,{id:"candle_pane"})})}Ba(()=>{const Ot={destroy:()=>{console.log("MainUI destroy called for chart:",e.chartIds),$5(xt,u(),xe(),r,i)},setStyles:ut=>{setTimeout(()=>{o().setStyles(ut),bD(ut)},50)},getStyles:()=>{const ut=o();return ut?ut.getStyles():{}},setLocale:ut=>{var Dr;kU(ut),(Dr=o())==null||Dr.setLocale(ut),zg({key:S0().key,text:Qg(S0().key,ut)})},getLocale:()=>Cp(),setTimezone:ut=>{zg({key:ut,text:Qg(ut,Cp())})},getTimezone:()=>S0().key,setTicker:(ut,Dr)=>{var ur;console.log("Setting ticker:",ut),(ur=u())==null||ur.unsubscribeTicker(xe(),I(),r),d(Dr),Me(ut)},getTicker:()=>xe(),setInterval:ut=>{var Dr;(Dr=u())==null||Dr.unsubscribeTicker(xe(),I(),r),D(ut)},getInterval:()=>I(),getMultiCharts:()=>e.multiChartLimit,getUnderlyingChart:()=>o()};e.ref(Ot)});const{replayModalVisible:Xr,setReplayModalVisible:lr,replaySpeed:Tt,setReplaySpeed:$t,setReplayPlay:Qt,setReplayPaused:Wr,replayCandle:sr,setReplayCandle:Ar,isAlertVisible:mt,alertMessage:ze,setAlertMessage:Ct,resetReplayState:gt,setSkipToEnd:wt,isPlaying:vt,setReplayWidget:Rt}=lU(e.locale,o(),t),Ht=uU(o,_,T,M,xe,I,u,Gt,qt,r);Ba(async()=>{await pU(i,I,o,s,xe,Ie,W,Z,J,he,Ar,Ct,Rt,Og,Y,xt,Cr,e,Qr,S0)}),hi(()=>{$5(xt,u(),xe(),r,i),console.log(`Removing chart ${e.chartIds} from mounted charts tracking`),Ng.delete(e.chartIds)}),aU(o,xe,I,Xr,r,n,ie,h,g,d,T),ZH(o,e.theme),WH(o,Cp),jH(o,S0,xt),XH(o,C,E),RH(()=>e.multiChartLimit,xt),VH(()=>e.resizeChart,xt),$H(()=>e.rightBarExpandedViewVisible,xt),FH(()=>e.isActiveChart,xe),DH(Ie,()=>e.isActiveChart,Oe),OH(()=>e.isActiveChart,o,Ie,xe,Je,Z,he,Cr,ye,ke,He,M),sU(Qr),dU(()=>T(),()=>i,Ft,St),hU(o);const pr=Ot=>{i=Ot};return[_U(),ae(yU,{get overlayOptionsVisible(){return Be()},setOverlayOptionsVisible:ye,get overlayStyles(){return Ne()},get widget(){return o()},get locale(){return e.locale},get currentLayout(){return Ie()},get chartId(){return e.chartIds},get overlayMousePosition(){return Fe()}}),ae(ot,{get when(){return et()},get children(){return ae(bU,{get widget(){return o()},setRenkoPopupVisible:Ft,get locale(){return Cp()},get renkoMousePosition(){return Ue()},setRenkoRefresh:qt})}}),ae(AH,{get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},setTicker:Me,get symbolTickerModalVisible(){return O()},setTickerSearchModalVisible:N,get locale(){return e.locale}}),ae(LN,{mainIndicators:W,setMainIndicators:Z,subIndicators:J,setSubIndicators:he,get indicatorModalVisible(){return F()},setIndicatorModalVisible:V,get widget(){return o()},get locale(){return e.locale},get currentLayout(){return Ie()}}),ae(ot,{get when(){return v()},get children(){return ae(XN,{get multiChart(){return e.multiChartLimit},get maxMultiCharts(){return e.maxMultiCharts},get onMultiChartClick(){return e.onMultiChartClick},setMultiChartModalVisible:y,get locale(){return e.locale}})}}),ae(kN,{get locale(){return e.locale},get replaySpeed(){return Tt()},setReplaySpeed:$t,get replayCandle(){return sr()},onPlay:Qt,onPause:Wr,onClose:gt,skipReplay:wt,isPlaying:vt,get chartId(){return e.chartIds},get isAlertVisible(){return mt()},get alertMessage(){return ze()},get replayModalVisible(){return Xr()},get isActive(){return e.isActiveChart}}),ae(bH,{get timezone(){return S0()},setTimezone:zg,get timezoneModalVisible(){return SU()},setTimezoneModalVisible:H5,get locale(){return e.locale}}),ae(_H,{settingModalVisible:K,setSettingModalVisible:ne,get widget(){return o()},widgetDefaultStyles:_,get locale(){return e.locale},get currentLayout(){return Ie()}}),ae(kH,{get screenshotUrl(){return re()},setScreenshotUrl:Q,get locale(){return e.locale}}),ae(SH,{get locale(){return e.locale},get widget(){return o()},get indicatorSettingModalParams(){return H()},setIndicatorSettingModalParams:Y}),ae(EH,{get rootContainer(){return e.rootContainer},get locale(){return e.locale},get ticker(){return xe()},get spread(){return ue()},get period(){return I()},setPeriod:D,get periods(){return e.periods},get multiChart(){return e.multiChartLimit},get widget(){return o()},get theme(){return e.theme},get isActive(){return e.isActiveChart},setIndicatorModalVisible:V,setMultiChartModalVisible:y,get replayModalVisible(){return Xr()},setReplayModalVisible:lr,setSettingModalVisible:ne,setScreenshotUrl:Q,setTimezoneModalVisible:H5,get tickerSearchModalVisible(){return O()},setTickerSearchModalVisible:N,get drawingBarVisible(){return ue()},setDrawingBarVisible:le,get layout(){return Ie()},setLayout:Ae,get allLayouts(){return W5()},setAllLayouts:Og,get layoutLimit(){return e.layoutLimit},get currentCandleType(){return T()},onCandleTypeChange:Ht}),ae(MH,{get isActive(){return e.isActiveChart},get locale(){return e.locale},get drawingBarVisible(){return ue()},get widget(){return o()},get currentLayout(){return Ie()},setOverlaySettingVisible:ye,setOverlayStyles:ke,setOverlayMousePosition:He,get chartIds(){return e.chartIds}}),ae(mU,{get isActive(){return e.isActiveChart},get widget(){return o()},get ticker(){return xe()},setInterval:D,get layout(){return Ie()},get allLayouts(){return W5()},setAllLayouts:Og,get layoutLimit(){return e.layoutLimit},onLayoutChange:Ae,get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}}),ae(PH,{ref:pr,get chartIds(){return e.chartIds},get multiChart(){return e.multiChartLimit},get isActive(){return e.isActiveChart},get loadingVisible(){return j()},get drawingBarVisible(){return ue()},get onClick(){return e.onClick}})]};function MU(e,r,t){const[n,i]=ge(e.ticker),[o,s]=ge(r.reduce((u,d)=>(u[d]=e.ticker,u),{}));return ct(()=>{const u=Ke(t);u!=null&&s(d=>({...d,[u]:n()}))}),[n,i,o,s]}function TU(e,r,t){ct(()=>{const n=e.slice(0,r());t(n[0])})}function IU(e,r){ct(()=>{e==null||e.setAttribute("data-theme",r()),localStorage.setItem(Kv,r())})}var LU=ee('<div class="modal-panel watchlist-panel">'),PU=ee('<div class="modal-panel paper-trading-panel">'),AU=ee("<div class=split-handle><div class=split-handle-indicator>"),DU=ee("<div>"),FU=ee("<div class=chartspire-ui-right-bar-extended-view><div class=resizable-handle>");const RU=e=>{const[r,t]=ge(parseInt(getComputedStyle(document.documentElement).getPropertyValue("--right-bar-extended-view-width"),10)),[n,i]=ge(0),[o,s]=ge(50);let u,d,h,g;const v=be(()=>e.watchListModalVisible&&e.paperTradingModalVisible);ct(()=>{if(e.chart&&e.paperTradingModalVisible&&e.currentTicker){const O=()=>{try{const F=e.chart.getDataList();if(F&&F.length>0){const V=F[F.length-1];i(V.close||0)}}catch(F){console.error("Error getting current price from chart:",F)}};O();const N=setInterval(O,1e3);return()=>{clearInterval(N)}}});const y=O=>{u=O.clientX,d=r(),document.addEventListener("mousemove",C),document.addEventListener("mouseup",w)},C=O=>{const N=d-(O.clientX-u);t(N),document.documentElement.style.setProperty("--right-bar-extended-view-width",`${N}px`),e.resizeChart(F=>!F)},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",w)},_=O=>{O.preventDefault(),O.stopPropagation(),h=O.clientY,g=o(),document.addEventListener("mousemove",E),document.addEventListener("mouseup",T)},E=O=>{const N=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!N)return;const F=N.getBoundingClientRect(),V=(O.clientY-h)/F.height*100;let W=g+V;W=Math.max(20,Math.min(80,W)),s(W)},T=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",T)},M=O=>{O.preventDefault(),O.stopPropagation();const N=O.touches[0];N&&(h=N.clientY,g=o(),document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("touchend",D))},I=O=>{O.preventDefault();const N=O.touches[0];if(!N)return;const F=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!F)return;const V=F.getBoundingClientRect(),W=(N.clientY-h)/V.height*100;let Z=g+W;Z=Math.max(20,Math.min(80,Z)),s(Z)},D=()=>{document.removeEventListener("touchmove",I),document.removeEventListener("touchend",D)};return hi(()=>{console.log("Cleaning up right bar extended view modal"),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",T),document.removeEventListener("touchmove",I),document.removeEventListener("touchend",D)}),(()=>{var O=FU(),N=O.firstChild;return N.$$mousedown=y,B(O,ae(ot,{get when(){return e.watchListModalVisible||e.paperTradingModalVisible},get children(){var F=DU();return B(F,ae(ot,{get when(){return e.watchListModalVisible},get children(){var V=LU();return B(V,ae($F,{get locale(){return e.locale},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get watchListLimit(){return e.watchListLimit},get subscribedTickersURL(){return e.subscribedTickersURL},get setTicker(){return e.setTicker},get useExternalWatchListStorage(){return e.useExternalWatchListStorage}})),We(W=>(W=v()?`${o()}%`:"100%")!=null?V.style.setProperty("height",W):V.style.removeProperty("height")),V}}),null),B(F,ae(ot,{get when(){return e.paperTradingModalVisible},get children(){var V=PU();return B(V,ae(xN,{get ticker(){return e.currentTicker||{ticker:"",type:null}},get currentPrice(){return n()},get locale(){return e.locale},get dataFeeds(){return new Map([[_t.STOCKS.toString(),e.stockDataFeed],[_t.CRYPTO.toString(),e.cryptoDataFeed],[_t.FOREX.toString(),e.forexDataFeed],[_t.FUTURES.toString(),e.futuresDataFeed]].filter(([W,Z])=>Z!==null))},get priceTrackingConfig(){return{updateInterval:e.priceTrackingInterval,enableLogging:e.priceTrackingLogging}},get paperTradingUseExternalStorage(){return e.useExternalPaperTradingStorage},get paperTradingMaxTrades(){return e.paperTradingMaxTrades}})),We(W=>(W=v()?`${100-o()}%`:"100%")!=null?V.style.setProperty("height",W):V.style.removeProperty("height")),V}}),null),B(F,ae(ot,{get when(){return v()},get children(){var V=AU();return V.$$touchstart=M,V.$$mousedown=_,We(W=>(W=`${o()}%`)!=null?V.style.setProperty("top",W):V.style.removeProperty("top")),V}}),null),We(()=>tr(F,`modal-container ${v()?"split-view":"single-view"}`)),F}}),null),We(F=>(F=`${r()}px`)!=null?O.style.setProperty("width",F):O.style.removeProperty("width")),O})()};Er(["mousedown","touchstart"]);const OU=e=>{let r,t,n,i;return e.isWatchListEnabled&&([r,t]=ge(!1)),e.isPaperTradingEnabled&&([n,i]=ge(!1)),ct(()=>{((r==null?void 0:r())??!1)||((n==null?void 0:n())??!1)?e.setRightBarExpandedViewVisible(!0):e.setRightBarExpandedViewVisible(!1),e.resizeChart(o=>!o)}),[ae(rV,{get isWatchListEnabled(){return e.isWatchListEnabled},get isPaperTradingEnabled(){return e.isPaperTradingEnabled},get watchListModalVisible(){return r!=null?r():!1},get paperTradingModalVisible(){return n!=null?n():!1},setWatchListModalVisible:t??null,setPaperTradingModalVisible:i??null}),ae(ot,{get when(){return e.rightBarExpandedViewVisible()},get children(){return ae(RU,{get locale(){return e.locale},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get watchListModalVisible(){return r!=null?r():!1},get paperTradingModalVisible(){return n!=null?n():!1},get priceTrackingInterval(){return e.paperTradingPriceTrackingInterval},get priceTrackingLogging(){return e.paperTradingPriceTrackingLogging},get useExternalPaperTradingStorage(){return e.paperTradingUseExternalStorage},get paperTradingMaxTrades(){return e.paperTradingMaxTrades},get watchListLimit(){return e.watchListLimit},get subscribedTickersURL(){return e.subscribedTickersURL??null},get setTicker(){return e.setTicker},get resizeChart(){return e.resizeChart},get useExternalWatchListStorage(){return e.watchListUseExternalStorage},get chart(){return e.chart},get currentTicker(){return e.currentTicker}})}})]},NU=e=>({[$.ONE]:1,[$.TWO]:2,[$.TWO_VERTICAL]:2,[$.THREE]:3,[$.THREE_VERTICAL]:3,[$.THREE_MIXED]:3,[$.THREE_MIXED_REVERSE]:3,[$.THREE_MIXED_BOTTOM]:3,[$.THREE_MIXED_TOP]:3,[$.FOUR]:4,[$.FOUR_VERTICAL]:4,[$.FOUR_HORIZONTAL]:4,[$.FOUR_MIXED]:4,[$.FOUR_MIXED_REVERSE]:4,[$.FOUR_MIXED_TOP]:4,[$.FOUR_MIXED_BOTTOM]:4,[$.FIVE_VERTICAL]:5,[$.FIVE_HORIZONTAL]:5,[$.FIVE_MIXED]:5,[$.FIVE_MIXED_REVERSE]:5,[$.FIVE_MIXED_TOP]:5,[$.SIX]:6,[$.SIX_HORIZONTAL]:6,[$.SIX_VERTICAL]:6,[$.SIX_MIXED]:6,[$.SEVEN_HORIZONTAL]:7,[$.SEVEN_VERTICAL]:7,[$.EIGHT]:8,[$.EIGHT_VERTICAL]:8,[$.EIGHT_HORIZONTAL]:8,[$.NINE]:9,[$.NINE_VERTICAL]:9,[$.NINE_HORIZONTAL]:9,[$.TEN]:10,[$.TEN_VERTICAL]:10,[$.TEN_HORIZONTAL]:10,[$.TWELVE]:12,[$.TWELVE_VERTICAL]:12,[$.TWELVE_HORIZONTAL]:12,[$.TWELVE_GRID]:12,[$.FOURTEEN]:14,[$.SIXTEEN]:16})[e]??e,zU=e=>({[$.ONE]:"one-charts",[$.TWO]:"two-charts",[$.TWO_VERTICAL]:"two-charts-vertical",[$.THREE]:"three-charts",[$.THREE_VERTICAL]:"three-charts-vertical",[$.THREE_MIXED]:"three-charts-mixed",[$.THREE_MIXED_REVERSE]:"three-charts-mixed-reverse",[$.THREE_MIXED_BOTTOM]:"three-charts-mixed-bottom",[$.THREE_MIXED_TOP]:"three-charts-mixed-top",[$.FOUR]:"four-charts",[$.FOUR_VERTICAL]:"four-charts-vertical",[$.FOUR_HORIZONTAL]:"four-charts-horizontal",[$.FOUR_MIXED]:"four-charts-mixed",[$.FOUR_MIXED_REVERSE]:"four-charts-mixed-reverse",[$.FOUR_MIXED_TOP]:"four-charts-mixed-top",[$.FOUR_MIXED_BOTTOM]:"four-charts-mixed-bottom",[$.FIVE_VERTICAL]:"five-charts-vertical",[$.FIVE_HORIZONTAL]:"five-charts-horizontal",[$.FIVE_MIXED]:"five-charts-mixed",[$.FIVE_MIXED_REVERSE]:"five-charts-mixed-reverse",[$.FIVE_MIXED_TOP]:"five-charts-mixed-top",[$.SIX]:"six-charts",[$.SIX_HORIZONTAL]:"six-charts-horizontal",[$.SIX_VERTICAL]:"six-charts-vertical",[$.SIX_MIXED]:"six-charts-mixed",[$.SEVEN_HORIZONTAL]:"seven-charts-horizontal",[$.SEVEN_VERTICAL]:"seven-charts-vertical",[$.EIGHT]:"eight-charts",[$.EIGHT_VERTICAL]:"eight-charts-vertical",[$.EIGHT_HORIZONTAL]:"eight-charts-horizontal",[$.NINE]:"nine-charts",[$.NINE_VERTICAL]:"nine-charts-vertical",[$.NINE_HORIZONTAL]:"nine-charts-horizontal",[$.TEN]:"ten-charts",[$.TEN_VERTICAL]:"ten-charts-vertical",[$.TEN_HORIZONTAL]:"ten-charts-horizontal",[$.TWELVE]:"twelve-charts",[$.TWELVE_VERTICAL]:"twelve-charts-vertical",[$.TWELVE_HORIZONTAL]:"twelve-charts-horizontal",[$.TWELVE_GRID]:"twelve-charts-grid",[$.FOURTEEN]:"fourteen-charts",[$.SIXTEEN]:"sixteen-charts"})[e]??"one-charts";var BU=ee("<div class=chartspire><div>");let Ip=!0;const[P0,qp]=ge(1);let w9=250;const Kv="chartspire-theme";let Fa="en-US";const VU=localStorage.getItem(Kv)??L("Light Theme 1",Fa),[jr,U5]=ge(VU),[so,j5]=ge("chart1");class $U{constructor(r){Re(this,"_rootContainer",null),Re(this,"_container"),Re(this,"_chartApi",null),Re(this,"_chartComponentApis",{}),Re(this,"_dispose"),Re(this,"_allChartIds",[]),Re(this,"_visibleChartIds",()=>[]);var t,n;if(r.theme&&U5(r.theme),Fa=r.locale??"en-US",qr.isString(r.container)){if(this._container=document.getElementById(r.container),this._container==null)throw new Error("Container is null")}else this._container=r.container;Rv(),this._rootContainer=document.createElement("div"),this._rootContainer.className="chartspire-root-container",(t=this._container)==null||t.appendChild(this._rootContainer),this._container.classList.add("chartspire-ui"),(n=this._container)==null||n.setAttribute("data-theme",jr()),r.fontFamily?(this._container.style.setProperty("--chartspire-ui-font-family",r.fontFamily),console.log("ChartSpire: Font family set to:",r.fontFamily),console.log("ChartSpire: CSS custom property value:",this._container.style.getPropertyValue("--chartspire-ui-font-family"))):this._container.style.setProperty("--chartspire-ui-font-family",'Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'),IU(this._container,jr),oF(r),Ip=r.layoutUseExternalStorage??!1,w9=r.multiChartDelay??500,this._dispose=O0(i=>{let o=r.multiChartLimit??$.SIXTEEN;(o<1||o>16)&&(o=$.SIXTEEN,console.warn("Invalid multiChartLimit value. It must be between 1 and 16. Defaulting to 16."));const s=["chart1","chart2","chart3","chart4","chart5","chart6","chart7","chart8","chart9","chart10","chart11","chart12","chart13","chart14","chart15","chart16"].slice(0,o);this._allChartIds=s,qp($.ONE);const u=be(()=>{const T=P0(),M=NU(T);return s.slice(0,M)});this._visibleChartIds=u;const[d,h]=ge(!1),[g,v]=ge(!1);let[y,C]=ge(r.ticker),[w,_]=ge({});r.watchlistEnabled===!0&&([y,C,w,_]=MU(r,s,so)),TU(s,P0,so);const E=T=>{j5(T)};return LE(()=>{const T=this;return(()=>{var M=BU(),I=M.firstChild;return pa(D=>T._rootContainer=D,M),B(I,ae(Hi,{get each(){return u()},children:(D,O)=>ae(EU,{ref:N=>{if(T._chartApi=N,(N==null?void 0:N.destroy)!=null){T._chartComponentApis[D]={onCleanUp:N.destroy,chart:N,underlyingChart:null};const F=()=>{var V;const W=(V=N.getUnderlyingChart)==null?void 0:V.call(N);W?T._chartComponentApis[D].underlyingChart=W:setTimeout(F,100)};F()}},get rootContainer(){return T._rootContainer},get styles(){return r.styles??{}},watermark:"options.watermark ?? (Logo as Node)",get locale(){return r.locale??"en-US"},get drawingBarVisible(){return r.drawingBarVisible??!0},get ticker(){var N;return((N=w())==null?void 0:N[D])??r.ticker},get interval(){return r.interval},get periods(){return r.periods??[{multiplier:1,timespan:mn.MINUTE,text:$e.ONE_MIN},{multiplier:3,timespan:mn.MINUTE,text:$e.THREE_MIN},{multiplier:5,timespan:mn.MINUTE,text:$e.FIVE_MIN},{multiplier:15,timespan:mn.MINUTE,text:$e.FIFTEEN_MIN},{multiplier:30,timespan:mn.MINUTE,text:$e.THIRTY_MIN},{multiplier:1,timespan:mn.HOUR,text:$e.ONE_HOUR},{multiplier:2,timespan:mn.HOUR,text:$e.TWO_HOUR},{multiplier:4,timespan:mn.HOUR,text:$e.FOUR_HOUR},{multiplier:1,timespan:mn.DAY,text:$e.ONE_DAY},{multiplier:1,timespan:mn.WEEK,text:$e.ONE_WEEK},{multiplier:1,timespan:mn.MONTH,text:$e.ONE_MONTH}]},get timezone(){return r.timezone??"UTC"},get mainIndicators(){return r.mainIndicators??[]},get subIndicators(){return r.subIndicators??[]},maxMultiCharts:o,get defaultDataFeed(){return Ur.getDefaultDataFeed()},get stockDataFeed(){return r.stockDataFeed??null},get cryptoDataFeed(){return r.cryptoDataFeed??null},get forexDataFeed(){return r.forexDataFeed??null},get futuresDataFeed(){return r.futuresDataFeed??null},get layoutLimit(){return r.layoutLimit??20},get themeUseExternalStorage(){return r.themeUseExternalStorage??!1},onClick:()=>{E(D)},get isActiveChart(){return so()===D},get multiChartLimit(){return P0()},onMultiChartClick:DN,chartIds:D,get theme(){return jr()},setTheme:U5,onTickerChange:(N,F)=>{console.log(`[ChartSpire] Handling ticker change for chart ${D}: ${N}:${F}`);let V=Ur.getDefaultDataFeed();if(F)switch(F){case"stock":V=r.stockDataFeed??Ur.getDefaultDataFeed();break;case"crypto":V=r.cryptoDataFeed??Ur.getDefaultDataFeed();break;case"forex":V=r.forexDataFeed??Ur.getDefaultDataFeed();break;case"futures":V=r.futuresDataFeed??Ur.getDefaultDataFeed();break;default:V=Ur.getDefaultDataFeed()}const W={ticker:N,type:F||"stock"};T.setTicker(W,D,V)},onIntervalChange:N=>{console.log(`[ChartSpire] Handling interval change for chart ${D}: ${N.text}`),T.setInterval(N,D)},get rightBarExpandedViewVisible(){return d()},get resizeChart(){return g()}})})),B(M,ae(OU,{get isWatchListEnabled(){return r.watchlistEnabled??!1},get isPaperTradingEnabled(){return r.paperTradingEnabled??!1},get paperTradingPriceTrackingInterval(){return r.paperTradingPriceTrackingInterval},get paperTradingPriceTrackingLogging(){return r.paperTradingPriceTrackingLogging},get paperTradingUseExternalStorage(){return r.paperTradingUseExternalStorage??!1},get paperTradingMaxTrades(){return r.paperTradingMaxTrades},get subscribedTickersURL(){return r.subscribedTickersURL??null},get watchListLimit(){return r.watchListLimit??50},get watchListUseExternalStorage(){return r.watchListUseExternalStorage??!1},setTicker:C,rightBarExpandedViewVisible:d,setRightBarExpandedViewVisible:h,get locale(){return r.locale??"en-US"},get stockDataFeed(){return r.stockDataFeed??null},get cryptoDataFeed(){return r.cryptoDataFeed??null},get forexDataFeed(){return r.forexDataFeed??null},get futuresDataFeed(){return r.futuresDataFeed??null},resizeChart:v,get chart(){var D;return((D=T._chartComponentApis[so()])==null?void 0:D.underlyingChart)||null},get currentTicker(){return be(()=>{var D;return!!((D=T._chartComponentApis[so()])!=null&&D.chart)})()&&T._chartComponentApis[so()].chart.getTicker(so())||void 0}}),null),We(D=>{var O=`chartspire-ui-parent-flex ${zU(P0())}`,N=d();return O!==D.e&&tr(I,D.e=O),N!==D.t&&Ye(I,"right-bar-extended-view-visible",D.t=N),D},{e:void 0,t:void 0}),M})()},this._container),i})}setTheme(r){var t;const n=[L("Light Theme 1",Fa),L("Light Theme 2",Fa),L("Midnight Theme",Fa),L("Dark Theme",Fa),L("Dark Gray Theme",Fa),L("Blue Theme",Fa),L("Red Theme",Fa),L("Green Theme",Fa),L("Yellow Theme",Fa),L("Pink Theme",Fa)];if(!n.includes(r)){console.error("Invalid theme: ",r," should be one of: ",n);return}(t=this._container)==null||t.setAttribute("data-theme",r)}getTheme(){return jr()}setStyles(r){Object.values(this._chartComponentApis).forEach(t=>{console.log("setting styles",r),t.chart.setStyles(r)})}getStyles(){return this._chartComponentApis[so()].chart.getStyles()}setLocale(r){Object.values(this._chartComponentApis).forEach(t=>{console.log("setting locale",r),t.chart.setLocale(r)})}getLocale(){var r;return((r=this._chartApi)==null?void 0:r.getLocale())??"en-US"}setFontFamily(r){this._container&&(this._container.style.setProperty("--chartspire-ui-font-family",r),console.log("ChartSpire: Font family updated to:",r),console.log("ChartSpire: CSS custom property value:",this._container.style.getPropertyValue("--chartspire-ui-font-family")))}getFontFamily(){return this._container&&this._container.style.getPropertyValue("--chartspire-ui-font-family")||'Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'}setTimezone(r){Object.values(this._chartComponentApis).forEach(t=>{t.chart.setTimezone(r)})}getTimezone(){var r;return((r=this._chartApi)==null?void 0:r.getTimezone())??"America/New_York"}setTicker(r,t,n){if(this._chartComponentApis[t]==null){console.error("Chart not found: ",t);return}if(n==null){console.error("Data feed is null");return}this._chartComponentApis[t].chart.setTicker(r,t,n)}getTicker(r){return this._chartComponentApis[r]==null?(console.error("Chart not found: ",r),null):this._chartComponentApis[r].chart.getTicker(r)}setInterval(r,t){if(this._chartComponentApis[t]==null){console.error("Chart not found: ",t);return}this._chartComponentApis[t].chart.setInterval(r,t)}getInterval(r){return this._chartComponentApis[r]==null?(console.error("Chart not found: ",r),null):this._chartComponentApis[r].chart.getInterval(r)}getActiveChart(){return this._chartApi}getChart(r){return this._chartComponentApis[r]==null?(console.error("Chart not found"),null):this._chartComponentApis[r].chart}isActiveChart(r){return so()===r}setActiveChart(r){if(this._chartComponentApis[r]==null){console.error("Chart not found: ",r);return}j5(r)}getMultiChart(){return P0()}getAllChartIds(){return[...this._allChartIds]}getVisibleChartIds(){return[...this._visibleChartIds()]}destroy(){console.log("Destroying chart");const r=Object.keys(this._chartComponentApis).length;console.log(`Destroying ${r} charts`),Object.entries(this._chartComponentApis).forEach(([t,n])=>{n.onCleanUp()}),this._dispose(),PN(),this._container.classList.remove("chartspire-ui"),this._container.removeAttribute("data-theme"),this._container.innerHTML="",this._container=null,this._chartApi=null,this._chartComponentApis={}}syncAllTickersToActiveChart(){Bv().syncAllToActiveTicker(so())}syncAllIntervalsToActiveChart(){$v().syncAllToActiveInterval(so())}}fv.forEach(e=>{lm(e)});Kk.forEach(e=>{h7(e)});const WU=()=>{const e=Td.useRef(null),r=Td.useRef(null);return Td.useEffect(()=>{if(e.current){const t={container:e.current,locale:"en-US",ticker:{exchange:"binance",market:"Crypto",name:"Bitcoin",shortName:"BTCUSDT",ticker:"BTCUSDT",priceCurrency:"usd",type:_t.CRYPTO},interval:{multiplier:1,timespan:"week",text:"W"},watchlistEnabled:!0,watchListUseExternalStorage:!1,defaultDataFeed:new Xg,cryptoDataFeed:new Xg,layoutUseExternalStorage:!1,layoutLimit:10,paperTradingEnabled:!0,paperTradingUseExternalStorage:!1,paperTradingPriceTrackingInterval:3e4,paperTradingMaxTrades:100,multiChartLimit:16,themeUseExternalStorage:!1};r.current=new $U(t)}return()=>{r.current&&(console.warn("chartRef.current.destroy() called in ChartSpireReact.tsx useEffect cleanup function"),r.current.destroy(),r.current=null)}},[]),Os.jsx("div",{id:"container",ref:e})},X5={statusBar:{backgroundColor:"#ff6b6b",color:"white",padding:"8px 16px",textAlign:"center",fontWeight:"bold",fontSize:"14px",position:"absolute",top:0,left:0,right:0,zIndex:1000020,width:"100%",boxSizing:"border-box"},closeButton:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"18px",padding:"2px 6px"}};function HU(){const[e,r]=Td.useState(!0);return Os.jsxs(Os.Fragment,{children:[e&&Os.jsxs("div",{style:X5.statusBar,children:[" Alpha v1.0.0-alpha11: Data from Binance API. This is a pre-release version for testing purposes only.",Os.jsx("button",{style:X5.closeButton,onClick:()=>r(!1),title:"Hide status bar",children:""})]}),Os.jsx(WU,{})]})}J6.createRoot(document.getElementById("root")).render(Os.jsx(Td.StrictMode,{children:Os.jsx(HU,{})}));
