(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Bf={exports:{}},l1={},$f={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function t6(){if(Yv)return zt;Yv=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function _(H,B,he){this.props=H,this.context=B,this.refs=w,this.updater=he||C}_.prototype.isReactComponent={},_.prototype.setState=function(H,B){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,B,"setState")},_.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function S(){}S.prototype=_.prototype;function M(H,B,he){this.props=H,this.context=B,this.refs=w,this.updater=he||C}var I=M.prototype=new S;I.constructor=M,b(I,_.prototype),I.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,$={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function z(H,B,he){var Ce,be={},xe=null,Ve=null;if(B!=null)for(Ce in B.ref!==void 0&&(Ve=B.ref),B.key!==void 0&&(xe=""+B.key),B)P.call(B,Ce)&&!D.hasOwnProperty(Ce)&&(be[Ce]=B[Ce]);var Re=arguments.length-2;if(Re===1)be.children=he;else if(1<Re){for(var Ae=Array(Re),ve=0;ve<Re;ve++)Ae[ve]=arguments[ve+2];be.children=Ae}if(H&&H.defaultProps)for(Ce in Re=H.defaultProps,Re)be[Ce]===void 0&&(be[Ce]=Re[Ce]);return{$$typeof:e,type:H,key:xe,ref:Ve,props:be,_owner:$.current}}function V(H,B){return{$$typeof:e,type:H.type,key:B,ref:H.ref,props:H.props,_owner:H._owner}}function W(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function Q(H){var B={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(he){return B[he]})}var se=/\/+/g;function X(H,B){return typeof H=="object"&&H!==null&&H.key!=null?Q(""+H.key):B.toString(36)}function J(H,B,he,Ce,be){var xe=typeof H;(xe==="undefined"||xe==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(xe){case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case e:case r:Ve=!0}}if(Ve)return Ve=H,be=be(Ve),H=Ce===""?"."+X(Ve,0):Ce,A(be)?(he="",H!=null&&(he=H.replace(se,"$&/")+"/"),J(be,B,he,"",function(ve){return ve})):be!=null&&(W(be)&&(be=V(be,he+(!be.key||Ve&&Ve.key===be.key?"":(""+be.key).replace(se,"$&/")+"/")+H)),B.push(be)),1;if(Ve=0,Ce=Ce===""?".":Ce+":",A(H))for(var Re=0;Re<H.length;Re++){xe=H[Re];var Ae=Ce+X(xe,Re);Ve+=J(xe,B,he,Ae,be)}else if(Ae=m(H),typeof Ae=="function")for(H=Ae.call(H),Re=0;!(xe=H.next()).done;)xe=xe.value,Ae=Ce+X(xe,Re++),Ve+=J(xe,B,he,Ae,be);else if(xe==="object")throw B=String(H),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ve}function le(H,B,he){if(H==null)return H;var Ce=[],be=0;return J(H,Ce,"","",function(xe){return B.call(he,xe,be++)}),Ce}function j(H){if(H._status===-1){var B=H._result;B=B(),B.then(function(he){(H._status===0||H._status===-1)&&(H._status=1,H._result=he)},function(he){(H._status===0||H._status===-1)&&(H._status=2,H._result=he)}),H._status===-1&&(H._status=0,H._result=B)}if(H._status===1)return H._result.default;throw H._result}var q={current:null},Z={transition:null},re={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:Z,ReactCurrentOwner:$};function ee(){throw Error("act(...) is not supported in production builds of React.")}return zt.Children={map:le,forEach:function(H,B,he){le(H,function(){B.apply(this,arguments)},he)},count:function(H){var B=0;return le(H,function(){B++}),B},toArray:function(H){return le(H,function(B){return B})||[]},only:function(H){if(!W(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},zt.Component=_,zt.Fragment=t,zt.Profiler=i,zt.PureComponent=M,zt.StrictMode=n,zt.Suspense=d,zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,zt.act=ee,zt.cloneElement=function(H,B,he){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ce=b({},H.props),be=H.key,xe=H.ref,Ve=H._owner;if(B!=null){if(B.ref!==void 0&&(xe=B.ref,Ve=$.current),B.key!==void 0&&(be=""+B.key),H.type&&H.type.defaultProps)var Re=H.type.defaultProps;for(Ae in B)P.call(B,Ae)&&!D.hasOwnProperty(Ae)&&(Ce[Ae]=B[Ae]===void 0&&Re!==void 0?Re[Ae]:B[Ae])}var Ae=arguments.length-2;if(Ae===1)Ce.children=he;else if(1<Ae){Re=Array(Ae);for(var ve=0;ve<Ae;ve++)Re[ve]=arguments[ve+2];Ce.children=Re}return{$$typeof:e,type:H.type,key:be,ref:xe,props:Ce,_owner:Ve}},zt.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},zt.createElement=z,zt.createFactory=function(H){var B=z.bind(null,H);return B.type=H,B},zt.createRef=function(){return{current:null}},zt.forwardRef=function(H){return{$$typeof:u,render:H}},zt.isValidElement=W,zt.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:j}},zt.memo=function(H,B){return{$$typeof:h,type:H,compare:B===void 0?null:B}},zt.startTransition=function(H){var B=Z.transition;Z.transition={};try{H()}finally{Z.transition=B}},zt.unstable_act=ee,zt.useCallback=function(H,B){return q.current.useCallback(H,B)},zt.useContext=function(H){return q.current.useContext(H)},zt.useDebugValue=function(){},zt.useDeferredValue=function(H){return q.current.useDeferredValue(H)},zt.useEffect=function(H,B){return q.current.useEffect(H,B)},zt.useId=function(){return q.current.useId()},zt.useImperativeHandle=function(H,B,he){return q.current.useImperativeHandle(H,B,he)},zt.useInsertionEffect=function(H,B){return q.current.useInsertionEffect(H,B)},zt.useLayoutEffect=function(H,B){return q.current.useLayoutEffect(H,B)},zt.useMemo=function(H,B){return q.current.useMemo(H,B)},zt.useReducer=function(H,B,he){return q.current.useReducer(H,B,he)},zt.useRef=function(H){return q.current.useRef(H)},zt.useState=function(H){return q.current.useState(H)},zt.useSyncExternalStore=function(H,B,he){return q.current.useSyncExternalStore(H,B,he)},zt.useTransition=function(){return q.current.useTransition()},zt.version="18.3.1",zt}var Xv;function Og(){return Xv||(Xv=1,$f.exports=t6()),$f.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function r6(){if(jv)return l1;jv=1;var e=Og(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,d,h){var p,v={},m=null,C=null;h!==void 0&&(m=""+h),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(C=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(v[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)v[p]===void 0&&(v[p]=d[p]);return{$$typeof:r,type:u,key:m,ref:C,props:v,_owner:i.current}}return l1.Fragment=t,l1.jsx=s,l1.jsxs=s,l1}var Zv;function n6(){return Zv||(Zv=1,Bf.exports=r6()),Bf.exports}var Es=n6(),b1=Og(),Xh={},Wf={exports:{}},Ri={},Uf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function i6(){return Gv||(Gv=1,function(e){function r(Z,re){var ee=Z.length;Z.push(re);e:for(;0<ee;){var H=ee-1>>>1,B=Z[H];if(0<i(B,re))Z[H]=re,Z[ee]=B,ee=H;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var re=Z[0],ee=Z.pop();if(ee!==re){Z[0]=ee;e:for(var H=0,B=Z.length,he=B>>>1;H<he;){var Ce=2*(H+1)-1,be=Z[Ce],xe=Ce+1,Ve=Z[xe];if(0>i(be,ee))xe<B&&0>i(Ve,be)?(Z[H]=Ve,Z[xe]=ee,H=xe):(Z[H]=be,Z[Ce]=ee,H=Ce);else if(xe<B&&0>i(Ve,ee))Z[H]=Ve,Z[xe]=ee,H=xe;else break e}}return re}function i(Z,re){var ee=Z.sortIndex-re.sortIndex;return ee!==0?ee:Z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],h=[],p=1,v=null,m=3,C=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Z){for(var re=t(h);re!==null;){if(re.callback===null)n(h);else if(re.startTime<=Z)n(h),re.sortIndex=re.expirationTime,r(d,re);else break;re=t(h)}}function A(Z){if(w=!1,I(Z),!b)if(t(d)!==null)b=!0,j(P);else{var re=t(h);re!==null&&q(A,re.startTime-Z)}}function P(Z,re){b=!1,w&&(w=!1,S(z),z=-1),C=!0;var ee=m;try{for(I(re),v=t(d);v!==null&&(!(v.expirationTime>re)||Z&&!Q());){var H=v.callback;if(typeof H=="function"){v.callback=null,m=v.priorityLevel;var B=H(v.expirationTime<=re);re=e.unstable_now(),typeof B=="function"?v.callback=B:v===t(d)&&n(d),I(re)}else n(d);v=t(d)}if(v!==null)var he=!0;else{var Ce=t(h);Ce!==null&&q(A,Ce.startTime-re),he=!1}return he}finally{v=null,m=ee,C=!1}}var $=!1,D=null,z=-1,V=5,W=-1;function Q(){return!(e.unstable_now()-W<V)}function se(){if(D!==null){var Z=e.unstable_now();W=Z;var re=!0;try{re=D(!0,Z)}finally{re?X():($=!1,D=null)}}else $=!1}var X;if(typeof M=="function")X=function(){M(se)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=se,X=function(){le.postMessage(null)}}else X=function(){_(se,0)};function j(Z){D=Z,$||($=!0,X())}function q(Z,re){z=_(function(){Z(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){b||C||(b=!0,j(P))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(d)},e.unstable_next=function(Z){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var ee=m;m=re;try{return Z()}finally{m=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ee=m;m=Z;try{return re()}finally{m=ee}},e.unstable_scheduleCallback=function(Z,re,ee){var H=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?H+ee:H):ee=H,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,Z={id:p++,callback:re,priorityLevel:Z,startTime:ee,expirationTime:B,sortIndex:-1},ee>H?(Z.sortIndex=ee,r(h,Z),t(d)===null&&Z===t(h)&&(w?(S(z),z=-1):w=!0,q(A,ee-H))):(Z.sortIndex=B,r(d,Z),b||C||(b=!0,j(P))),Z},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(Z){var re=m;return function(){var ee=m;m=re;try{return Z.apply(this,arguments)}finally{m=ee}}}}(Hf)),Hf}var qv;function a6(){return qv||(qv=1,Uf.exports=i6()),Uf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function o6(){if(Kv)return Ri;Kv=1;var e=Og(),r=a6();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,l){s(a,l),s(a+"Capture",l)}function s(a,l){for(i[a]=l,a=0;a<l.length;a++)n.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function m(a){return d.call(v,a)?!0:d.call(p,a)?!1:h.test(a)?v[a]=!0:(p[a]=!0,!1)}function C(a,l,g,y){if(g!==null&&g.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function b(a,l,g,y){if(l===null||typeof l>"u"||C(a,l,g,y))return!0;if(y)return!1;if(g!==null)switch(g.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(a,l,g,y,k,E,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=k,this.mustUseProperty=g,this.propertyName=a,this.type=l,this.sanitizeURL=E,this.removeEmptyString=O}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];_[l]=new w(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function M(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(S,M);_[l]=new w(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(S,M);_[l]=new w(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(S,M);_[l]=new w(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function I(a,l,g,y){var k=_.hasOwnProperty(l)?_[l]:null;(k!==null?k.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,g,k,y)&&(g=null),y||k===null?m(l)&&(g===null?a.removeAttribute(l):a.setAttribute(l,""+g)):k.mustUseProperty?a[k.propertyName]=g===null?k.type===3?!1:"":g:(l=k.attributeName,y=k.attributeNamespace,g===null?a.removeAttribute(l):(k=k.type,g=k===3||k===4&&g===!0?"":""+g,y?a.setAttributeNS(y,l,g):a.setAttribute(l,g))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),$=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),Q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),Z=Symbol.iterator;function re(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Object.assign,H;function B(a){if(H===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+a}var he=!1;function Ce(a,l){if(!a||he)return"";he=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ge){var y=ge}Reflect.construct(a,[],l)}else{try{l.call()}catch(ge){y=ge}a.call(l.prototype)}else{try{throw Error()}catch(ge){y=ge}a()}}catch(ge){if(ge&&y&&typeof ge.stack=="string"){for(var k=ge.stack.split(`
`),E=y.stack.split(`
`),O=k.length-1,G=E.length-1;1<=O&&0<=G&&k[O]!==E[G];)G--;for(;1<=O&&0<=G;O--,G--)if(k[O]!==E[G]){if(O!==1||G!==1)do if(O--,G--,0>G||k[O]!==E[G]){var ne=`
`+k[O].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=O&&0<=G);break}}}finally{he=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?B(a):""}function be(a){switch(a.tag){case 5:return B(a.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return a=Ce(a.type,!1),a;case 11:return a=Ce(a.type.render,!1),a;case 1:return a=Ce(a.type,!0),a;default:return""}}function xe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case D:return"Fragment";case $:return"Portal";case V:return"Profiler";case z:return"StrictMode";case X:return"Suspense";case J:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Q:return(a.displayName||"Context")+".Consumer";case W:return(a._context.displayName||"Context")+".Provider";case se:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case le:return l=a.displayName||null,l!==null?l:xe(a.type)||"Memo";case j:l=a._payload,a=a._init;try{return xe(a(l))}catch{}}return null}function Ve(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Re(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ae(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ve(a){var l=Ae(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),y=""+a[l];if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var k=g.get,E=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return k.call(this)},set:function(O){y=""+O,E.call(this,O)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return y},setValue:function(O){y=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Te(a){a._valueTracker||(a._valueTracker=ve(a))}function Ne(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var g=l.getValue(),y="";return a&&(y=Ae(a)?a.checked?"true":"false":a.value),a=y,a!==g?(l.setValue(a),!0):!1}function tt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ge(a,l){var g=l.checked;return ee({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function gt(a,l){var g=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;g=Re(l.value!=null?l.value:g),a._wrapperState={initialChecked:y,initialValue:g,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function vt(a,l){l=l.checked,l!=null&&I(a,"checked",l,!1)}function mt(a,l){vt(a,l);var g=Re(l.value),y=l.type;if(g!=null)y==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?cr(a,l.type,g):l.hasOwnProperty("defaultValue")&&cr(a,l.type,Re(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function nr(a,l,g){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,g||l===a.value||(a.value=l),a.defaultValue=l}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function cr(a,l,g){(l!=="number"||tt(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Kt=Array.isArray;function Tt(a,l,g,y){if(a=a.options,l){l={};for(var k=0;k<g.length;k++)l["$"+g[k]]=!0;for(g=0;g<a.length;g++)k=l.hasOwnProperty("$"+a[g].value),a[g].selected!==k&&(a[g].selected=k),k&&y&&(a[g].defaultSelected=!0)}else{for(g=""+Re(g),l=null,k=0;k<a.length;k++){if(a[k].value===g){a[k].selected=!0,y&&(a[k].defaultSelected=!0);return}l!==null||a[k].disabled||(l=a[k])}l!==null&&(l.selected=!0)}}function fr(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ee({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function nn(a,l){var g=l.value;if(g==null){if(g=l.children,l=l.defaultValue,g!=null){if(l!=null)throw Error(t(92));if(Kt(g)){if(1<g.length)throw Error(t(93));g=g[0]}l=g}l==null&&(l=""),g=l}a._wrapperState={initialValue:Re(g)}}function fn(a,l){var g=Re(l.value),y=Re(l.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),l.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),y!=null&&(a.defaultValue=""+y)}function lr(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function At(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?At(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Qt,Hr=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,g,y,k){MSApp.execUnsafeLocalFunction(function(){return a(l,g,y,k)})}:a}(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Qt=Qt||document.createElement("div"),Qt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Qt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function sr(a,l){if(l){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=l;return}}a.textContent=l}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kt=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(a){kt.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Or[l]=Or[a]})});function Be(a,l,g){return l==null||typeof l=="boolean"||l===""?"":g||typeof l!="number"||l===0||Or.hasOwnProperty(a)&&Or[a]?(""+l).trim():l+"px"}function bt(a,l){a=a.style;for(var g in l)if(l.hasOwnProperty(g)){var y=g.indexOf("--")===0,k=Be(g,l[g],y);g==="float"&&(g="cssFloat"),y?a.setProperty(g,k):a[g]=k}}var yt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(a,l){if(l){if(yt[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function xt(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $t=null;function Yt(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var gr=null,ur=null,ar=null;function Gn(a){if(a=In(a)){if(typeof gr!="function")throw Error(t(280));var l=a.stateNode;l&&(l=vu(l),gr(a.stateNode,a.type,l))}}function zr(a){ur?ar?ar.push(a):ar=[a]:ur=a}function Vr(){if(ur){var a=ur,l=ar;if(ar=ur=null,Gn(a),l)for(a=0;a<l.length;a++)Gn(l[a])}}function qn(a,l){return a(l)}function It(){}var Er=!1;function _t(a,l,g){if(Er)return a(l,g);Er=!0;try{return qn(a,l,g)}finally{Er=!1,(ur!==null||ar!==null)&&(It(),Vr())}}function Tr(a,l){var g=a.stateNode;if(g===null)return null;var y=vu(g);if(y===null)return null;g=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(t(231,l,typeof g));return g}var xr=!1;if(u)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){xr=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{xr=!1}function Kr(a,l,g,y,k,E,O,G,ne){var ge=Array.prototype.slice.call(arguments,3);try{l.apply(g,ge)}catch(Me){this.onError(Me)}}var Br=!1,Qr=null,gn=!1,Mn=null,$i={onError:function(a){Br=!0,Qr=a}};function oa(a,l,g,y,k,E,O,G,ne){Br=!1,Qr=null,Kr.apply($i,arguments)}function Xo(a,l,g,y,k,E,O,G,ne){if(oa.apply(this,arguments),Br){if(Br){var ge=Qr;Br=!1,Qr=null}else throw Error(t(198));gn||(gn=!0,Mn=ge)}}function ui(a){var l=a,g=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(g=l.return),a=l.return;while(a)}return l.tag===3?g:null}function so(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Bl(a){if(ui(a)!==a)throw Error(t(188))}function co(a){var l=a.alternate;if(!l){if(l=ui(a),l===null)throw Error(t(188));return l!==a?null:a}for(var g=a,y=l;;){var k=g.return;if(k===null)break;var E=k.alternate;if(E===null){if(y=k.return,y!==null){g=y;continue}break}if(k.child===E.child){for(E=k.child;E;){if(E===g)return Bl(k),a;if(E===y)return Bl(k),l;E=E.sibling}throw Error(t(188))}if(g.return!==y.return)g=k,y=E;else{for(var O=!1,G=k.child;G;){if(G===g){O=!0,g=k,y=E;break}if(G===y){O=!0,y=k,g=E;break}G=G.sibling}if(!O){for(G=E.child;G;){if(G===g){O=!0,g=E,y=k;break}if(G===y){O=!0,y=E,g=k;break}G=G.sibling}if(!O)throw Error(t(189))}}if(g.alternate!==y)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?a:l}function jo(a){return a=co(a),a!==null?Zo(a):null}function Zo(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Zo(a);if(l!==null)return l;a=a.sibling}return null}var Rs=r.unstable_scheduleCallback,Ns=r.unstable_cancelCallback,Go=r.unstable_shouldYield,$c=r.unstable_requestPaint,vr=r.unstable_now,Wc=r.unstable_getCurrentPriorityLevel,$l=r.unstable_ImmediatePriority,zs=r.unstable_UserBlockingPriority,uo=r.unstable_NormalPriority,Uc=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,qo=null,Pe=null;function Hc(a){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(qo,a,void 0,(a.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:$s,Vs=Math.log,Bs=Math.LN2;function $s(a){return a>>>=0,a===0?32:31-(Vs(a)/Bs|0)|0}var Oa=64,Ko=4194304;function Ra(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function la(a,l){var g=a.pendingLanes;if(g===0)return 0;var y=0,k=a.suspendedLanes,E=a.pingedLanes,O=g&268435455;if(O!==0){var G=O&~k;G!==0?y=Ra(G):(E&=O,E!==0&&(y=Ra(E)))}else O=g&~k,O!==0?y=Ra(O):E!==0&&(y=Ra(E));if(y===0)return 0;if(l!==0&&l!==y&&(l&k)===0&&(k=y&-y,E=l&-l,k>=E||k===16&&(E&4194240)!==0))return l;if((y&4)!==0&&(y|=g&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=y;0<l;)g=31-Kn(l),k=1<<g,y|=a[g],l&=~k;return y}function Ws(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(a,l){for(var g=a.suspendedLanes,y=a.pingedLanes,k=a.expirationTimes,E=a.pendingLanes;0<E;){var O=31-Kn(E),G=1<<O,ne=k[O];ne===-1?((G&g)===0||(G&y)!==0)&&(k[O]=Ws(G,l)):ne<=l&&(a.expiredLanes|=G),E&=~G}}function Qo(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Ul(){var a=Oa;return Oa<<=1,(Oa&4194240)===0&&(Oa=64),a}function ho(a){for(var l=[],g=0;31>g;g++)l.push(a);return l}function po(a,l,g){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Kn(l),a[l]=g}function Us(a,l){var g=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<g;){var k=31-Kn(g),E=1<<k;l[k]=0,y[k]=-1,a[k]=-1,g&=~E}}function fo(a,l){var g=a.entangledLanes|=l;for(a=a.entanglements;g;){var y=31-Kn(g),k=1<<y;k&l|a[y]&l&&(a[y]|=l),g&=~k}}var Xt=0;function sa(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Hl,Jo,Hs,Yl,Xl,el=!1,go=[],Wi=null,Ui=null,Hi=null,Na=new Map,vo=new Map,Yi=[],Xc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ys(a,l){switch(a){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Na.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(l.pointerId)}}function ca(a,l,g,y,k,E){return a===null||a.nativeEvent!==E?(a={blockedOn:l,domEventName:g,eventSystemFlags:y,nativeEvent:E,targetContainers:[k]},l!==null&&(l=In(l),l!==null&&Jo(l)),a):(a.eventSystemFlags|=y,l=a.targetContainers,k!==null&&l.indexOf(k)===-1&&l.push(k),a)}function jc(a,l,g,y,k){switch(l){case"focusin":return Wi=ca(Wi,a,l,g,y,k),!0;case"dragenter":return Ui=ca(Ui,a,l,g,y,k),!0;case"mouseover":return Hi=ca(Hi,a,l,g,y,k),!0;case"pointerover":var E=k.pointerId;return Na.set(E,ca(Na.get(E)||null,a,l,g,y,k)),!0;case"gotpointercapture":return E=k.pointerId,vo.set(E,ca(vo.get(E)||null,a,l,g,y,k)),!0}return!1}function Xs(a){var l=pa(a.target);if(l!==null){var g=ui(l);if(g!==null){if(l=g.tag,l===13){if(l=so(g),l!==null){a.blockedOn=l,Xl(a.priority,function(){Hs(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tl(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var g=Kc(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var y=new g.constructor(g.type,g);$t=y,g.target.dispatchEvent(y),$t=null}else return l=In(g),l!==null&&Jo(l),a.blockedOn=g,!1;l.shift()}return!0}function js(a,l,g){tl(a)&&g.delete(l)}function Zc(){el=!1,Wi!==null&&tl(Wi)&&(Wi=null),Ui!==null&&tl(Ui)&&(Ui=null),Hi!==null&&tl(Hi)&&(Hi=null),Na.forEach(js),vo.forEach(js)}function Jt(a,l){a.blockedOn===l&&(a.blockedOn=null,el||(el=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Zc)))}function jt(a){function l(k){return Jt(k,a)}if(0<go.length){Jt(go[0],a);for(var g=1;g<go.length;g++){var y=go[g];y.blockedOn===a&&(y.blockedOn=null)}}for(Wi!==null&&Jt(Wi,a),Ui!==null&&Jt(Ui,a),Hi!==null&&Jt(Hi,a),Na.forEach(l),vo.forEach(l),g=0;g<Yi.length;g++)y=Yi[g],y.blockedOn===a&&(y.blockedOn=null);for(;0<Yi.length&&(g=Yi[0],g.blockedOn===null);)Xs(g),g.blockedOn===null&&Yi.shift()}var jl=A.ReactCurrentBatchConfig,Gc=!0;function Xp(a,l,g,y){var k=Xt,E=jl.transition;jl.transition=null;try{Xt=1,jd(a,l,g,y)}finally{Xt=k,jl.transition=E}}function jp(a,l,g,y){var k=Xt,E=jl.transition;jl.transition=null;try{Xt=4,jd(a,l,g,y)}finally{Xt=k,jl.transition=E}}function jd(a,l,g,y){if(Gc){var k=Kc(a,l,g,y);if(k===null)u0(a,l,y,qc,g),Ys(a,y);else if(jc(k,a,l,g,y))y.stopPropagation();else if(Ys(a,y),l&4&&-1<Xc.indexOf(a)){for(;k!==null;){var E=In(k);if(E!==null&&Hl(E),E=Kc(a,l,g,y),E===null&&u0(a,l,y,qc,g),E===k)break;k=E}k!==null&&y.stopPropagation()}else u0(a,l,y,null,g)}}var qc=null;function Kc(a,l,g,y){if(qc=null,a=Yt(y),a=pa(a),a!==null)if(l=ui(a),l===null)a=null;else if(g=l.tag,g===13){if(a=so(l),a!==null)return a;a=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return qc=a,null}function F1(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wc()){case $l:return 1;case zs:return 4;case uo:case Uc:return 16;case Wl:return 536870912;default:return 16}default:return 16}}var Ir=null,Zs=null,ua=null;function Zd(){if(ua)return ua;var a,l=Zs,g=l.length,y,k="value"in Ir?Ir.value:Ir.textContent,E=k.length;for(a=0;a<g&&l[a]===k[a];a++);var O=g-a;for(y=1;y<=O&&l[g-y]===k[E-y];y++);return ua=k.slice(a,1<y?1-y:void 0)}function Zl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Nn(){return!0}function Gd(){return!1}function Qn(a){function l(g,y,k,E,O){this._reactName=g,this._targetInst=k,this.type=y,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(g=a[G],this[G]=g?g(E):E[G]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Nn:Gd,this.isPropagationStopped=Gd,this}return ee(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),l}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qc=Qn(rl),Gl=ee({},rl,{view:0,detail:0}),O1=Qn(Gl),zn,qd,En,Jc=ee({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t0,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==En&&(En&&a.type==="mousemove"?(zn=a.screenX-En.screenX,qd=a.screenY-En.screenY):qd=zn=0,En=a),zn)},movementY:function(a){return"movementY"in a?a.movementY:qd}}),Kd=Qn(Jc),mo=ee({},Jc,{dataTransfer:0}),eu=Qn(mo),Qd=ee({},Gl,{relatedTarget:0}),Cr=Qn(Qd),yo=ee({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),Jd=Qn(yo),Zp=ee({},rl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),e0=Qn(Zp),Gp=ee({},rl,{data:0}),R1=Qn(Gp),qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=tu[a])?!!l[a]:!1}function t0(){return ql}var z1=ee({},Gl,{key:function(a){if(a.key){var l=qp[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Zl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?N1[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t0,charCode:function(a){return a.type==="keypress"?Zl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Zl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),V1=Qn(z1),r0=ee({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=Qn(r0),B1=ee({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t0}),Kp=Qn(B1),n0=ee({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=Qn(n0),Qp=ee({},Jc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),$1=Qn(Qp),di=[9,13,27,32],Gs=u&&"CompositionEvent"in window,za=null;u&&"documentMode"in document&&(za=document.documentMode);var W1=u&&"TextEvent"in window&&!za,a0=u&&(!Gs||za&&8<za&&11>=za),U1=" ",H1=!1;function Y1(a,l){switch(a){case"keyup":return di.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Kl=!1;function Ql(a,l){switch(a){case"compositionend":return X1(l);case"keypress":return l.which!==32?null:(H1=!0,U1);case"textInput":return a=l.data,a===U1&&H1?null:a;default:return null}}function Jp(a,l){if(Kl)return a==="compositionend"||!Gs&&Y1(a,l)?(a=Zd(),ua=Zs=Ir=null,Kl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return a0&&l.locale!=="ko"?null:l.data;default:return null}}var ef={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!ef[a.type]:l==="textarea"}function o0(a,l,g,y){zr(y),l=hu(l,"onChange"),0<l.length&&(g=new Qc("onChange","change",null,g,y),a.push({event:g,listeners:l}))}var bi=null,xo=null;function tf(a){J1(a,0)}function iu(a){var l=St(a);if(Ne(l))return a}function rf(a,l){if(a==="change")return l}var nl=!1;if(u){var hi;if(u){var au="oninput"in document;if(!au){var j1=document.createElement("div");j1.setAttribute("oninput","return;"),au=typeof j1.oninput=="function"}hi=au}else hi=!1;nl=hi&&(!document.documentMode||9<document.documentMode)}function Z1(){bi&&(bi.detachEvent("onpropertychange",G1),xo=bi=null)}function G1(a){if(a.propertyName==="value"&&iu(xo)){var l=[];o0(l,xo,a,Yt(a)),_t(tf,l)}}function nf(a,l,g){a==="focusin"?(Z1(),bi=l,xo=g,bi.attachEvent("onpropertychange",G1)):a==="focusout"&&Z1()}function af(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return iu(xo)}function Jl(a,l){if(a==="click")return iu(l)}function ce(a,l){if(a==="input"||a==="change")return iu(l)}function we(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var fe=typeof Object.is=="function"?Object.is:we;function He(a,l){if(fe(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var g=Object.keys(a),y=Object.keys(l);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var k=g[y];if(!d.call(l,k)||!fe(a[k],l[k]))return!1}return!0}function ft(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function er(a,l){var g=ft(a);a=0;for(var y;g;){if(g.nodeType===3){if(y=a+g.textContent.length,a<=l&&y>=l)return{node:g,offset:l-a};a=y}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=ft(g)}}function Yr(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Yr(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function hr(){for(var a=window,l=tt();l instanceof a.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)a=l.contentWindow;else break;l=tt(a.document)}return l}function qs(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function of(a){var l=hr(),g=a.focusedElem,y=a.selectionRange;if(l!==g&&g&&g.ownerDocument&&Yr(g.ownerDocument.documentElement,g)){if(y!==null&&qs(g)){if(l=y.start,a=y.end,a===void 0&&(a=l),"selectionStart"in g)g.selectionStart=l,g.selectionEnd=Math.min(a,g.value.length);else if(a=(l=g.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var k=g.textContent.length,E=Math.min(y.start,k);y=y.end===void 0?E:Math.min(y.end,k),!a.extend&&E>y&&(k=y,y=E,E=k),k=er(g,E);var O=er(g,y);k&&O&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==O.node||a.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(k.node,k.offset),a.removeAllRanges(),E>y?(a.addRange(l),a.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),a.addRange(l)))}}for(l=[],a=g;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<l.length;g++)a=l[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var wi=u&&"documentMode"in document&&11>=document.documentMode,Va=null,l0=null,da=null,es=!1;function Ks(a,l,g){var y=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;es||Va==null||Va!==tt(y)||(y=Va,"selectionStart"in y&&qs(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),da&&He(da,y)||(da=y,y=hu(l0,"onSelect"),0<y.length&&(l=new Qc("onSelect","select",null,l,g),a.push({event:l,listeners:y}),l.target=Va)))}function tr(a,l){var g={};return g[a.toLowerCase()]=l.toLowerCase(),g["Webkit"+a]="webkit"+l,g["Moz"+a]="moz"+l,g}var ts={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionend:tr("Transition","TransitionEnd")},ou={},Qs={};u&&(Qs=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function lu(a){if(ou[a])return ou[a];if(!ts[a])return a;var l=ts[a],g;for(g in l)if(l.hasOwnProperty(g)&&g in Qs)return ou[a]=l[g];return a}var q1=lu("animationend"),K1=lu("animationiteration"),Js=lu("animationstart"),Ba=lu("transitionend"),ec=new Map,s0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(a,l){ec.set(a,l),o(l,[a])}for(var su=0;su<s0.length;su++){var cu=s0[su],uu=cu.toLowerCase(),Q1=cu[0].toUpperCase()+cu.slice(1);Xi(uu,"on"+Q1)}Xi(q1,"onAnimationEnd"),Xi(K1,"onAnimationIteration"),Xi(Js,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(Ba,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),il=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function tc(a,l,g){var y=a.type||"unknown-event";a.currentTarget=g,Xo(y,l,void 0,a),a.currentTarget=null}function J1(a,l){l=(l&4)!==0;for(var g=0;g<a.length;g++){var y=a[g],k=y.event;y=y.listeners;e:{var E=void 0;if(l)for(var O=y.length-1;0<=O;O--){var G=y[O],ne=G.instance,ge=G.currentTarget;if(G=G.listener,ne!==E&&k.isPropagationStopped())break e;tc(k,G,ge),E=ne}else for(O=0;O<y.length;O++){if(G=y[O],ne=G.instance,ge=G.currentTarget,G=G.listener,ne!==E&&k.isPropagationStopped())break e;tc(k,G,ge),E=ne}}}if(gn)throw a=Mn,gn=!1,Mn=null,a}function kr(a,l){var g=l[gu];g===void 0&&(g=l[gu]=new Set);var y=a+"__bubble";g.has(y)||(du(l,a,2,!1),g.add(y))}function c0(a,l,g){var y=0;l&&(y|=4),du(g,a,y,l)}var al="_reactListening"+Math.random().toString(36).slice(2);function Co(a){if(!a[al]){a[al]=!0,n.forEach(function(g){g!=="selectionchange"&&(il.has(g)||c0(g,!1,a),c0(g,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[al]||(l[al]=!0,c0("selectionchange",!1,l))}}function du(a,l,g,y){switch(F1(l)){case 1:var k=Xp;break;case 4:k=jp;break;default:k=jd}g=k.bind(null,l,g,a),k=void 0,!xr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(k=!0),y?k!==void 0?a.addEventListener(l,g,{capture:!0,passive:k}):a.addEventListener(l,g,!0):k!==void 0?a.addEventListener(l,g,{passive:k}):a.addEventListener(l,g,!1)}function u0(a,l,g,y,k){var E=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var G=y.stateNode.containerInfo;if(G===k||G.nodeType===8&&G.parentNode===k)break;if(O===4)for(O=y.return;O!==null;){var ne=O.tag;if((ne===3||ne===4)&&(ne=O.stateNode.containerInfo,ne===k||ne.nodeType===8&&ne.parentNode===k))return;O=O.return}for(;G!==null;){if(O=pa(G),O===null)return;if(ne=O.tag,ne===5||ne===6){y=E=O;continue e}G=G.parentNode}}y=y.return}_t(function(){var ge=E,Me=Yt(g),Ie=[];e:{var Se=ec.get(a);if(Se!==void 0){var Ye=Qc,qe=a;switch(a){case"keypress":if(Zl(g)===0)break e;case"keydown":case"keyup":Ye=V1;break;case"focusin":qe="focus",Ye=Cr;break;case"focusout":qe="blur",Ye=Cr;break;case"beforeblur":case"afterblur":Ye=Cr;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=Kp;break;case q1:case K1:case Js:Ye=Jd;break;case Ba:Ye=i0;break;case"scroll":Ye=O1;break;case"wheel":Ye=$1;break;case"copy":case"cut":case"paste":Ye=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=ru}var Qe=(l&4)!==0,Wr=!Qe&&a==="scroll",de=Qe?Se!==null?Se+"Capture":null:Se;Qe=[];for(var oe=ge,pe;oe!==null;){pe=oe;var Fe=pe.stateNode;if(pe.tag===5&&Fe!==null&&(pe=Fe,de!==null&&(Fe=Tr(oe,de),Fe!=null&&Qe.push(rs(oe,Fe,pe)))),Wr)break;oe=oe.return}0<Qe.length&&(Se=new Ye(Se,qe,null,g,Me),Ie.push({event:Se,listeners:Qe}))}}if((l&7)===0){e:{if(Se=a==="mouseover"||a==="pointerover",Ye=a==="mouseout"||a==="pointerout",Se&&g!==$t&&(qe=g.relatedTarget||g.fromElement)&&(pa(qe)||qe[pi]))break e;if((Ye||Se)&&(Se=Me.window===Me?Me:(Se=Me.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ye?(qe=g.relatedTarget||g.toElement,Ye=ge,qe=qe?pa(qe):null,qe!==null&&(Wr=ui(qe),qe!==Wr||qe.tag!==5&&qe.tag!==6)&&(qe=null)):(Ye=null,qe=ge),Ye!==qe)){if(Qe=Kd,Fe="onMouseLeave",de="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(Qe=ru,Fe="onPointerLeave",de="onPointerEnter",oe="pointer"),Wr=Ye==null?Se:St(Ye),pe=qe==null?Se:St(qe),Se=new Qe(Fe,oe+"leave",Ye,g,Me),Se.target=Wr,Se.relatedTarget=pe,Fe=null,pa(Me)===ge&&(Qe=new Qe(de,oe+"enter",qe,g,Me),Qe.target=pe,Qe.relatedTarget=Wr,Fe=Qe),Wr=Fe,Ye&&qe)t:{for(Qe=Ye,de=qe,oe=0,pe=Qe;pe;pe=ns(pe))oe++;for(pe=0,Fe=de;Fe;Fe=ns(Fe))pe++;for(;0<oe-pe;)Qe=ns(Qe),oe--;for(;0<pe-oe;)de=ns(de),pe--;for(;oe--;){if(Qe===de||de!==null&&Qe===de.alternate)break t;Qe=ns(Qe),de=ns(de)}Qe=null}else Qe=null;Ye!==null&&Xr(Ie,Se,Ye,Qe,!1),qe!==null&&Wr!==null&&Xr(Ie,Wr,qe,Qe,!0)}}e:{if(Se=ge?St(ge):window,Ye=Se.nodeName&&Se.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&Se.type==="file")var rt=rf;else if(nu(Se))if(nl)rt=ce;else{rt=af;var ot=nf}else(Ye=Se.nodeName)&&Ye.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(rt=Jl);if(rt&&(rt=rt(a,ge))){o0(Ie,rt,g,Me);break e}ot&&ot(a,Se,ge),a==="focusout"&&(ot=Se._wrapperState)&&ot.controlled&&Se.type==="number"&&cr(Se,"number",Se.value)}switch(ot=ge?St(ge):window,a){case"focusin":(nu(ot)||ot.contentEditable==="true")&&(Va=ot,l0=ge,da=null);break;case"focusout":da=l0=Va=null;break;case"mousedown":es=!0;break;case"contextmenu":case"mouseup":case"dragend":es=!1,Ks(Ie,g,Me);break;case"selectionchange":if(wi)break;case"keydown":case"keyup":Ks(Ie,g,Me)}var at;if(Gs)e:{switch(a){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Kl?Y1(a,g)&&(dt="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(dt="onCompositionStart");dt&&(a0&&g.locale!=="ko"&&(Kl||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Kl&&(at=Zd()):(Ir=Me,Zs="value"in Ir?Ir.value:Ir.textContent,Kl=!0)),ot=hu(ge,dt),0<ot.length&&(dt=new R1(dt,a,null,g,Me),Ie.push({event:dt,listeners:ot}),at?dt.data=at:(at=X1(g),at!==null&&(dt.data=at)))),(at=W1?Ql(a,g):Jp(a,g))&&(ge=hu(ge,"onBeforeInput"),0<ge.length&&(Me=new R1("onBeforeInput","beforeinput",null,g,Me),Ie.push({event:Me,listeners:ge}),Me.data=at))}J1(Ie,l)})}function rs(a,l,g){return{instance:a,listener:l,currentTarget:g}}function hu(a,l){for(var g=l+"Capture",y=[];a!==null;){var k=a,E=k.stateNode;k.tag===5&&E!==null&&(k=E,E=Tr(a,g),E!=null&&y.unshift(rs(a,E,k)),E=Tr(a,l),E!=null&&y.push(rs(a,E,k))),a=a.return}return y}function ns(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Xr(a,l,g,y,k){for(var E=l._reactName,O=[];g!==null&&g!==y;){var G=g,ne=G.alternate,ge=G.stateNode;if(ne!==null&&ne===y)break;G.tag===5&&ge!==null&&(G=ge,k?(ne=Tr(g,E),ne!=null&&O.unshift(rs(g,ne,G))):k||(ne=Tr(g,E),ne!=null&&O.push(rs(g,ne,G)))),g=g.return}O.length!==0&&a.push({event:l,listeners:O})}var Tn=/\r\n?/g,lf=/\u0000|\uFFFD/g;function eh(a){return(typeof a=="string"?a:""+a).replace(Tn,`
`).replace(lf,"")}function rc(a,l,g){if(l=eh(l),eh(a)!==l&&g)throw Error(t(425))}function pu(){}var nc=null,ol=null;function ic(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bo=typeof setTimeout=="function"?setTimeout:void 0,ac=typeof clearTimeout=="function"?clearTimeout:void 0,is=typeof Promise=="function"?Promise:void 0,fu=typeof queueMicrotask=="function"?queueMicrotask:typeof is<"u"?function(a){return is.resolve(null).then(a).catch(as)}:bo;function as(a){setTimeout(function(){throw a})}function d0(a,l){var g=l,y=0;do{var k=g.nextSibling;if(a.removeChild(g),k&&k.nodeType===8)if(g=k.data,g==="/$"){if(y===0){a.removeChild(k),jt(l);return}y--}else g!=="$"&&g!=="$?"&&g!=="$!"||y++;g=k}while(g);jt(l)}function wo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function th(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(l===0)return a;l--}else g==="/$"&&l++}a=a.previousSibling}return null}var os=Math.random().toString(36).slice(2),ha="__reactFiber$"+os,_o="__reactProps$"+os,pi="__reactContainer$"+os,gu="__reactEvents$"+os,R="__reactListeners$"+os,ls="__reactHandles$"+os;function pa(a){var l=a[ha];if(l)return l;for(var g=a.parentNode;g;){if(l=g[pi]||g[ha]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(a=th(a);a!==null;){if(g=a[ha])return g;a=th(a)}return l}a=g,g=a.parentNode}return null}function In(a){return a=a[ha]||a[pi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function St(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function vu(a){return a[_o]||null}var h0=[],ss=-1;function Jn(a){return{current:a}}function Sr(a){0>ss||(a.current=h0[ss],h0[ss]=null,ss--)}function br(a,l){ss++,h0[ss]=a.current,a.current=l}var ko={},Ln=Jn(ko),ei=Jn(!1),Vn=ko;function cs(a,l){var g=a.type.contextTypes;if(!g)return ko;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var k={},E;for(E in g)k[E]=l[E];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=k),k}function ti(a){return a=a.childContextTypes,a!=null}function mu(){Sr(ei),Sr(Ln)}function rh(a,l,g){if(Ln.current!==ko)throw Error(t(168));br(Ln,l),br(ei,g)}function nh(a,l,g){var y=a.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return g;y=y.getChildContext();for(var k in y)if(!(k in l))throw Error(t(108,Ve(a)||"Unknown",k));return ee({},g,y)}function _i(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ko,Vn=Ln.current,br(Ln,a),br(ei,ei.current),!0}function ih(a,l,g){var y=a.stateNode;if(!y)throw Error(t(169));g?(a=nh(a,l,Vn),y.__reactInternalMemoizedMergedChildContext=a,Sr(ei),Sr(Ln),br(Ln,a)):Sr(ei),br(ei,g)}var Wa=null,yu=!1,p0=!1;function ah(a){Wa===null?Wa=[a]:Wa.push(a)}function ll(a){yu=!0,ah(a)}function So(){if(!p0&&Wa!==null){p0=!0;var a=0,l=Xt;try{var g=Wa;for(Xt=1;a<g.length;a++){var y=g[a];do y=y(!0);while(y!==null)}Wa=null,yu=!1}catch(k){throw Wa!==null&&(Wa=Wa.slice(a+1)),Rs($l,So),k}finally{Xt=l,p0=!1}}return null}var us=[],Pn=0,xu=null,Cu=0,ki=[],Si=0,sl=null,fa=1,ga="";function cl(a,l){us[Pn++]=Cu,us[Pn++]=xu,xu=a,Cu=l}function oh(a,l,g){ki[Si++]=fa,ki[Si++]=ga,ki[Si++]=sl,sl=a;var y=fa;a=ga;var k=32-Kn(y)-1;y&=~(1<<k),g+=1;var E=32-Kn(l)+k;if(30<E){var O=k-k%5;E=(y&(1<<O)-1).toString(32),y>>=O,k-=O,fa=1<<32-Kn(l)+k|g<<k|y,ga=E+a}else fa=1<<E|g<<k|y,ga=a}function oc(a){a.return!==null&&(cl(a,1),oh(a,1,0))}function ul(a){for(;a===xu;)xu=us[--Pn],us[Pn]=null,Cu=us[--Pn],us[Pn]=null;for(;a===sl;)sl=ki[--Si],ki[Si]=null,ga=ki[--Si],ki[Si]=null,fa=ki[--Si],ki[Si]=null}var An=null,fi=null,Mr=!1,ji=null;function va(a,l){var g=Ai(5,null,null,0);g.elementType="DELETED",g.stateNode=l,g.return=a,l=a.deletions,l===null?(a.deletions=[g],a.flags|=16):l.push(g)}function bu(a,l){switch(a.tag){case 5:var g=a.type;return l=l.nodeType!==1||g.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,An=a,fi=wo(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,An=a,fi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(g=sl!==null?{id:fa,overflow:ga}:null,a.memoizedState={dehydrated:l,treeContext:g,retryLane:1073741824},g=Ai(18,null,null,0),g.stateNode=l,g.return=a,a.child=g,An=a,fi=null,!0):!1;default:return!1}}function Ua(a){return(a.mode&1)!==0&&(a.flags&128)===0}function ri(a){if(Mr){var l=fi;if(l){var g=l;if(!bu(a,l)){if(Ua(a))throw Error(t(418));l=wo(g.nextSibling);var y=An;l&&bu(a,l)?va(y,g):(a.flags=a.flags&-4097|2,Mr=!1,An=a)}}else{if(Ua(a))throw Error(t(418));a.flags=a.flags&-4097|2,Mr=!1,An=a}}}function lh(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;An=a}function lc(a){if(a!==An)return!1;if(!Mr)return lh(a),Mr=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!ic(a.type,a.memoizedProps)),l&&(l=fi)){if(Ua(a))throw f0(),Error(t(418));for(;l;)va(a,l),l=wo(l.nextSibling)}if(lh(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(l===0){fi=wo(a.nextSibling);break e}l--}else g!=="$"&&g!=="$!"&&g!=="$?"||l++}a=a.nextSibling}fi=null}}else fi=An?wo(a.stateNode.nextSibling):null;return!0}function f0(){for(var a=fi;a;)a=wo(a.nextSibling)}function ma(){fi=An=null,Mr=!1}function ya(a){ji===null?ji=[a]:ji.push(a)}var sh=A.ReactCurrentBatchConfig;function sc(a,l,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var y=g.stateNode}if(!y)throw Error(t(147,a));var k=y,E=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(O){var G=k.refs;O===null?delete G[E]:G[E]=O},l._stringRef=E,l)}if(typeof a!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,a))}return a}function dl(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function ch(a){var l=a._init;return l(a._payload)}function g0(a){function l(de,oe){if(a){var pe=de.deletions;pe===null?(de.deletions=[oe],de.flags|=16):pe.push(oe)}}function g(de,oe){if(!a)return null;for(;oe!==null;)l(de,oe),oe=oe.sibling;return null}function y(de,oe){for(de=new Map;oe!==null;)oe.key!==null?de.set(oe.key,oe):de.set(oe.index,oe),oe=oe.sibling;return de}function k(de,oe){return de=ea(de,oe),de.index=0,de.sibling=null,de}function E(de,oe,pe){return de.index=pe,a?(pe=de.alternate,pe!==null?(pe=pe.index,pe<oe?(de.flags|=2,oe):pe):(de.flags|=2,oe)):(de.flags|=1048576,oe)}function O(de){return a&&de.alternate===null&&(de.flags|=2),de}function G(de,oe,pe,Fe){return oe===null||oe.tag!==6?(oe=t1(pe,de.mode,Fe),oe.return=de,oe):(oe=k(oe,pe),oe.return=de,oe)}function ne(de,oe,pe,Fe){var rt=pe.type;return rt===D?Me(de,oe,pe.props.children,Fe,pe.key):oe!==null&&(oe.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===j&&ch(rt)===oe.type)?(Fe=k(oe,pe.props),Fe.ref=sc(de,oe,pe),Fe.return=de,Fe):(Fe=rd(pe.type,pe.key,pe.props,null,de.mode,Fe),Fe.ref=sc(de,oe,pe),Fe.return=de,Fe)}function ge(de,oe,pe,Fe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==pe.containerInfo||oe.stateNode.implementation!==pe.implementation?(oe=r1(pe,de.mode,Fe),oe.return=de,oe):(oe=k(oe,pe.children||[]),oe.return=de,oe)}function Me(de,oe,pe,Fe,rt){return oe===null||oe.tag!==7?(oe=wl(pe,de.mode,Fe,rt),oe.return=de,oe):(oe=k(oe,pe),oe.return=de,oe)}function Ie(de,oe,pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=t1(""+oe,de.mode,pe),oe.return=de,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case P:return pe=rd(oe.type,oe.key,oe.props,null,de.mode,pe),pe.ref=sc(de,null,oe),pe.return=de,pe;case $:return oe=r1(oe,de.mode,pe),oe.return=de,oe;case j:var Fe=oe._init;return Ie(de,Fe(oe._payload),pe)}if(Kt(oe)||re(oe))return oe=wl(oe,de.mode,pe,null),oe.return=de,oe;dl(de,oe)}return null}function Se(de,oe,pe,Fe){var rt=oe!==null?oe.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return rt!==null?null:G(de,oe,""+pe,Fe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case P:return pe.key===rt?ne(de,oe,pe,Fe):null;case $:return pe.key===rt?ge(de,oe,pe,Fe):null;case j:return rt=pe._init,Se(de,oe,rt(pe._payload),Fe)}if(Kt(pe)||re(pe))return rt!==null?null:Me(de,oe,pe,Fe,null);dl(de,pe)}return null}function Ye(de,oe,pe,Fe,rt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return de=de.get(pe)||null,G(oe,de,""+Fe,rt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case P:return de=de.get(Fe.key===null?pe:Fe.key)||null,ne(oe,de,Fe,rt);case $:return de=de.get(Fe.key===null?pe:Fe.key)||null,ge(oe,de,Fe,rt);case j:var ot=Fe._init;return Ye(de,oe,pe,ot(Fe._payload),rt)}if(Kt(Fe)||re(Fe))return de=de.get(pe)||null,Me(oe,de,Fe,rt,null);dl(oe,Fe)}return null}function qe(de,oe,pe,Fe){for(var rt=null,ot=null,at=oe,dt=oe=0,ln=null;at!==null&&dt<pe.length;dt++){at.index>dt?(ln=at,at=null):ln=at.sibling;var rr=Se(de,at,pe[dt],Fe);if(rr===null){at===null&&(at=ln);break}a&&at&&rr.alternate===null&&l(de,at),oe=E(rr,oe,dt),ot===null?rt=rr:ot.sibling=rr,ot=rr,at=ln}if(dt===pe.length)return g(de,at),Mr&&cl(de,dt),rt;if(at===null){for(;dt<pe.length;dt++)at=Ie(de,pe[dt],Fe),at!==null&&(oe=E(at,oe,dt),ot===null?rt=at:ot.sibling=at,ot=at);return Mr&&cl(de,dt),rt}for(at=y(de,at);dt<pe.length;dt++)ln=Ye(at,de,dt,pe[dt],Fe),ln!==null&&(a&&ln.alternate!==null&&at.delete(ln.key===null?dt:ln.key),oe=E(ln,oe,dt),ot===null?rt=ln:ot.sibling=ln,ot=ln);return a&&at.forEach(function(No){return l(de,No)}),Mr&&cl(de,dt),rt}function Qe(de,oe,pe,Fe){var rt=re(pe);if(typeof rt!="function")throw Error(t(150));if(pe=rt.call(pe),pe==null)throw Error(t(151));for(var ot=rt=null,at=oe,dt=oe=0,ln=null,rr=pe.next();at!==null&&!rr.done;dt++,rr=pe.next()){at.index>dt?(ln=at,at=null):ln=at.sibling;var No=Se(de,at,rr.value,Fe);if(No===null){at===null&&(at=ln);break}a&&at&&No.alternate===null&&l(de,at),oe=E(No,oe,dt),ot===null?rt=No:ot.sibling=No,ot=No,at=ln}if(rr.done)return g(de,at),Mr&&cl(de,dt),rt;if(at===null){for(;!rr.done;dt++,rr=pe.next())rr=Ie(de,rr.value,Fe),rr!==null&&(oe=E(rr,oe,dt),ot===null?rt=rr:ot.sibling=rr,ot=rr);return Mr&&cl(de,dt),rt}for(at=y(de,at);!rr.done;dt++,rr=pe.next())rr=Ye(at,de,dt,rr.value,Fe),rr!==null&&(a&&rr.alternate!==null&&at.delete(rr.key===null?dt:rr.key),oe=E(rr,oe,dt),ot===null?rt=rr:ot.sibling=rr,ot=rr);return a&&at.forEach(function(Tf){return l(de,Tf)}),Mr&&cl(de,dt),rt}function Wr(de,oe,pe,Fe){if(typeof pe=="object"&&pe!==null&&pe.type===D&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case P:e:{for(var rt=pe.key,ot=oe;ot!==null;){if(ot.key===rt){if(rt=pe.type,rt===D){if(ot.tag===7){g(de,ot.sibling),oe=k(ot,pe.props.children),oe.return=de,de=oe;break e}}else if(ot.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===j&&ch(rt)===ot.type){g(de,ot.sibling),oe=k(ot,pe.props),oe.ref=sc(de,ot,pe),oe.return=de,de=oe;break e}g(de,ot);break}else l(de,ot);ot=ot.sibling}pe.type===D?(oe=wl(pe.props.children,de.mode,Fe,pe.key),oe.return=de,de=oe):(Fe=rd(pe.type,pe.key,pe.props,null,de.mode,Fe),Fe.ref=sc(de,oe,pe),Fe.return=de,de=Fe)}return O(de);case $:e:{for(ot=pe.key;oe!==null;){if(oe.key===ot)if(oe.tag===4&&oe.stateNode.containerInfo===pe.containerInfo&&oe.stateNode.implementation===pe.implementation){g(de,oe.sibling),oe=k(oe,pe.children||[]),oe.return=de,de=oe;break e}else{g(de,oe);break}else l(de,oe);oe=oe.sibling}oe=r1(pe,de.mode,Fe),oe.return=de,de=oe}return O(de);case j:return ot=pe._init,Wr(de,oe,ot(pe._payload),Fe)}if(Kt(pe))return qe(de,oe,pe,Fe);if(re(pe))return Qe(de,oe,pe,Fe);dl(de,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,oe!==null&&oe.tag===6?(g(de,oe.sibling),oe=k(oe,pe),oe.return=de,de=oe):(g(de,oe),oe=t1(pe,de.mode,Fe),oe.return=de,de=oe),O(de)):g(de,oe)}return Wr}var Rr=g0(!0),wu=g0(!1),cc=Jn(null),gi=null,Mo=null,ds=null;function Ha(){ds=Mo=gi=null}function _u(a){var l=cc.current;Sr(cc),a._currentValue=l}function vn(a,l,g){for(;a!==null;){var y=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),a===g)break;a=a.return}}function Eo(a,l){gi=a,ds=Mo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&($n=!0),a.firstContext=null)}function Mi(a){var l=a._currentValue;if(ds!==a)if(a={context:a,memoizedValue:l,next:null},Mo===null){if(gi===null)throw Error(t(308));Mo=a,gi.dependencies={lanes:0,firstContext:a}}else Mo=Mo.next=a;return l}var hl=null;function v0(a){hl===null?hl=[a]:hl.push(a)}function ku(a,l,g,y){var k=l.interleaved;return k===null?(g.next=g,v0(l)):(g.next=k.next,k.next=g),l.interleaved=g,Ya(a,y)}function Ya(a,l){a.lanes|=l;var g=a.alternate;for(g!==null&&(g.lanes|=l),g=a,a=a.return;a!==null;)a.childLanes|=l,g=a.alternate,g!==null&&(g.childLanes|=l),g=a,a=a.return;return g.tag===3?g.stateNode:null}var Ei=!1;function Su(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uh(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Xa(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Ti(a,l,g){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Zt&2)!==0){var k=y.pending;return k===null?l.next=l:(l.next=k.next,k.next=l),y.pending=l,Ya(a,g)}return k=y.interleaved,k===null?(l.next=l,v0(y)):(l.next=k.next,k.next=l),y.interleaved=l,Ya(a,g)}function Mu(a,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194240)!==0)){var y=l.lanes;y&=a.pendingLanes,g|=y,l.lanes=g,fo(a,g)}}function dh(a,l){var g=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var k=null,E=null;if(g=g.firstBaseUpdate,g!==null){do{var O={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};E===null?k=E=O:E=E.next=O,g=g.next}while(g!==null);E===null?k=E=l:E=E.next=l}else k=E=l;g={baseState:y.baseState,firstBaseUpdate:k,lastBaseUpdate:E,shared:y.shared,effects:y.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=l:a.next=l,g.lastBaseUpdate=l}function hs(a,l,g,y){var k=a.updateQueue;Ei=!1;var E=k.firstBaseUpdate,O=k.lastBaseUpdate,G=k.shared.pending;if(G!==null){k.shared.pending=null;var ne=G,ge=ne.next;ne.next=null,O===null?E=ge:O.next=ge,O=ne;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,G=Me.lastBaseUpdate,G!==O&&(G===null?Me.firstBaseUpdate=ge:G.next=ge,Me.lastBaseUpdate=ne))}if(E!==null){var Ie=k.baseState;O=0,Me=ge=ne=null,G=E;do{var Se=G.lane,Ye=G.eventTime;if((y&Se)===Se){Me!==null&&(Me=Me.next={eventTime:Ye,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var qe=a,Qe=G;switch(Se=l,Ye=g,Qe.tag){case 1:if(qe=Qe.payload,typeof qe=="function"){Ie=qe.call(Ye,Ie,Se);break e}Ie=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Qe.payload,Se=typeof qe=="function"?qe.call(Ye,Ie,Se):qe,Se==null)break e;Ie=ee({},Ie,Se);break e;case 2:Ei=!0}}G.callback!==null&&G.lane!==0&&(a.flags|=64,Se=k.effects,Se===null?k.effects=[G]:Se.push(G))}else Ye={eventTime:Ye,lane:Se,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Me===null?(ge=Me=Ye,ne=Ie):Me=Me.next=Ye,O|=Se;if(G=G.next,G===null){if(G=k.shared.pending,G===null)break;Se=G,G=Se.next,Se.next=null,k.lastBaseUpdate=Se,k.shared.pending=null}}while(!0);if(Me===null&&(ne=Ie),k.baseState=ne,k.firstBaseUpdate=ge,k.lastBaseUpdate=Me,l=k.shared.interleaved,l!==null){k=l;do O|=k.lane,k=k.next;while(k!==l)}else E===null&&(k.shared.lanes=0);Ao|=O,a.lanes=O,a.memoizedState=Ie}}function m0(a,l,g){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var y=a[l],k=y.callback;if(k!==null){if(y.callback=null,y=g,typeof k!="function")throw Error(t(191,k));k.call(y)}}}var uc={},xa=Jn(uc),dc=Jn(uc),ps=Jn(uc);function ja(a){if(a===uc)throw Error(t(174));return a}function y0(a,l){switch(br(ps,l),br(dc,a),br(xa,uc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ht(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Ht(l,a)}Sr(xa),br(xa,l)}function To(){Sr(xa),Sr(dc),Sr(ps)}function x0(a){ja(ps.current);var l=ja(xa.current),g=Ht(l,a.type);l!==g&&(br(dc,a),br(xa,g))}function Eu(a){dc.current===a&&(Sr(xa),Sr(dc))}var Lr=Jn(0);function pl(a){for(var l=a;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var C0=[];function Tu(){for(var a=0;a<C0.length;a++)C0[a]._workInProgressVersionPrimary=null;C0.length=0}var hc=A.ReactCurrentDispatcher,b0=A.ReactCurrentBatchConfig,Io=0,Dr=null,$r=null,Jr=null,fs=!1,pc=!1,fl=0,Dt=0;function Dn(){throw Error(t(321))}function w0(a,l){if(l===null)return!1;for(var g=0;g<l.length&&g<a.length;g++)if(!fe(a[g],l[g]))return!1;return!0}function gl(a,l,g,y,k,E){if(Io=E,Dr=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,hc.current=a===null||a.memoizedState===null?cf:Ou,a=g(y,k),pc){E=0;do{if(pc=!1,fl=0,25<=E)throw Error(t(301));E+=1,Jr=$r=null,l.updateQueue=null,hc.current=ys,a=g(y,k)}while(pc)}if(hc.current=Fu,l=$r!==null&&$r.next!==null,Io=0,Jr=$r=Dr=null,fs=!1,l)throw Error(t(300));return a}function Iu(){var a=fl!==0;return fl=0,a}function Ca(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?Dr.memoizedState=Jr=a:Jr=Jr.next=a,Jr}function Ii(){if($r===null){var a=Dr.alternate;a=a!==null?a.memoizedState:null}else a=$r.next;var l=Jr===null?Dr.memoizedState:Jr.next;if(l!==null)Jr=l,$r=a;else{if(a===null)throw Error(t(310));$r=a,a={memoizedState:$r.memoizedState,baseState:$r.baseState,baseQueue:$r.baseQueue,queue:$r.queue,next:null},Jr===null?Dr.memoizedState=Jr=a:Jr=Jr.next=a}return Jr}function Fn(a,l){return typeof l=="function"?l(a):l}function _0(a){var l=Ii(),g=l.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var y=$r,k=y.baseQueue,E=g.pending;if(E!==null){if(k!==null){var O=k.next;k.next=E.next,E.next=O}y.baseQueue=k=E,g.pending=null}if(k!==null){E=k.next,y=y.baseState;var G=O=null,ne=null,ge=E;do{var Me=ge.lane;if((Io&Me)===Me)ne!==null&&(ne=ne.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),y=ge.hasEagerState?ge.eagerState:a(y,ge.action);else{var Ie={lane:Me,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};ne===null?(G=ne=Ie,O=y):ne=ne.next=Ie,Dr.lanes|=Me,Ao|=Me}ge=ge.next}while(ge!==null&&ge!==E);ne===null?O=y:ne.next=G,fe(y,l.memoizedState)||($n=!0),l.memoizedState=y,l.baseState=O,l.baseQueue=ne,g.lastRenderedState=y}if(a=g.interleaved,a!==null){k=a;do E=k.lane,Dr.lanes|=E,Ao|=E,k=k.next;while(k!==a)}else k===null&&(g.lanes=0);return[l.memoizedState,g.dispatch]}function gs(a){var l=Ii(),g=l.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var y=g.dispatch,k=g.pending,E=l.memoizedState;if(k!==null){g.pending=null;var O=k=k.next;do E=a(E,O.action),O=O.next;while(O!==k);fe(E,l.memoizedState)||($n=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),g.lastRenderedState=E}return[E,y]}function Lu(){}function k0(a,l){var g=Dr,y=Ii(),k=l(),E=!fe(y.memoizedState,k);if(E&&(y.memoizedState=k,$n=!0),y=y.queue,ba(Za.bind(null,g,y,a),[a]),y.getSnapshot!==l||E||Jr!==null&&Jr.memoizedState.tag&1){if(g.flags|=2048,vs(9,ni.bind(null,g,y,k,l),void 0,null),on===null)throw Error(t(349));(Io&30)!==0||S0(g,l,k)}return k}function S0(a,l,g){a.flags|=16384,a={getSnapshot:l,value:g},l=Dr.updateQueue,l===null?(l={lastEffect:null,stores:null},Dr.updateQueue=l,l.stores=[a]):(g=l.stores,g===null?l.stores=[a]:g.push(a))}function ni(a,l,g,y){l.value=g,l.getSnapshot=y,Pu(l)&&M0(a)}function Za(a,l,g){return g(function(){Pu(l)&&M0(a)})}function Pu(a){var l=a.getSnapshot;a=a.value;try{var g=l();return!fe(a,g)}catch{return!0}}function M0(a){var l=Ya(a,1);l!==null&&Ji(l,a,1,-1)}function fc(a){var l=Ca();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:a},l.queue=a,a=a.dispatch=mh.bind(null,Dr,a),[l.memoizedState,a]}function vs(a,l,g,y){return a={tag:a,create:l,destroy:g,deps:y,next:null},l=Dr.updateQueue,l===null?(l={lastEffect:null,stores:null},Dr.updateQueue=l,l.lastEffect=a.next=a):(g=l.lastEffect,g===null?l.lastEffect=a.next=a:(y=g.next,g.next=a,a.next=y,l.lastEffect=a)),a}function Au(){return Ii().memoizedState}function gc(a,l,g,y){var k=Ca();Dr.flags|=a,k.memoizedState=vs(1|l,g,void 0,y===void 0?null:y)}function ms(a,l,g,y){var k=Ii();y=y===void 0?null:y;var E=void 0;if($r!==null){var O=$r.memoizedState;if(E=O.destroy,y!==null&&w0(y,O.deps)){k.memoizedState=vs(l,g,E,y);return}}Dr.flags|=a,k.memoizedState=vs(1|l,g,E,y)}function Du(a,l){return gc(8390656,8,a,l)}function ba(a,l){return ms(2048,8,a,l)}function hh(a,l){return ms(4,2,a,l)}function Ga(a,l){return ms(4,4,a,l)}function E0(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function T0(a,l,g){return g=g!=null?g.concat([a]):null,ms(4,4,E0.bind(null,l,a),g)}function vc(){}function ph(a,l){var g=Ii();l=l===void 0?null:l;var y=g.memoizedState;return y!==null&&l!==null&&w0(l,y[1])?y[0]:(g.memoizedState=[a,l],a)}function fh(a,l){var g=Ii();l=l===void 0?null:l;var y=g.memoizedState;return y!==null&&l!==null&&w0(l,y[1])?y[0]:(a=a(),g.memoizedState=[a,l],a)}function gh(a,l,g){return(Io&21)===0?(a.baseState&&(a.baseState=!1,$n=!0),a.memoizedState=g):(fe(g,l)||(g=Ul(),Dr.lanes|=g,Ao|=g,a.baseState=!0),l)}function vh(a,l){var g=Xt;Xt=g!==0&&4>g?g:4,a(!0);var y=b0.transition;b0.transition={};try{a(!1),l()}finally{Xt=g,b0.transition=y}}function I0(){return Ii().memoizedState}function sf(a,l,g){var y=Oo(a);if(g={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null},L0(a))Bn(l,g);else if(g=ku(a,l,g,y),g!==null){var k=Hn();Ji(g,a,y,k),Zi(g,l,y)}}function mh(a,l,g){var y=Oo(a),k={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null};if(L0(a))Bn(l,k);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var O=l.lastRenderedState,G=E(O,g);if(k.hasEagerState=!0,k.eagerState=G,fe(G,O)){var ne=l.interleaved;ne===null?(k.next=k,v0(l)):(k.next=ne.next,ne.next=k),l.interleaved=k;return}}catch{}finally{}g=ku(a,l,k,y),g!==null&&(k=Hn(),Ji(g,a,y,k),Zi(g,l,y))}}function L0(a){var l=a.alternate;return a===Dr||l!==null&&l===Dr}function Bn(a,l){pc=fs=!0;var g=a.pending;g===null?l.next=l:(l.next=g.next,g.next=l),a.pending=l}function Zi(a,l,g){if((g&4194240)!==0){var y=l.lanes;y&=a.pendingLanes,g|=y,l.lanes=g,fo(a,g)}}var Fu={readContext:Mi,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},cf={readContext:Mi,useCallback:function(a,l){return Ca().memoizedState=[a,l===void 0?null:l],a},useContext:Mi,useEffect:Du,useImperativeHandle:function(a,l,g){return g=g!=null?g.concat([a]):null,gc(4194308,4,E0.bind(null,l,a),g)},useLayoutEffect:function(a,l){return gc(4194308,4,a,l)},useInsertionEffect:function(a,l){return gc(4,2,a,l)},useMemo:function(a,l){var g=Ca();return l=l===void 0?null:l,a=a(),g.memoizedState=[a,l],a},useReducer:function(a,l,g){var y=Ca();return l=g!==void 0?g(l):l,y.memoizedState=y.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},y.queue=a,a=a.dispatch=sf.bind(null,Dr,a),[y.memoizedState,a]},useRef:function(a){var l=Ca();return a={current:a},l.memoizedState=a},useState:fc,useDebugValue:vc,useDeferredValue:function(a){return Ca().memoizedState=a},useTransition:function(){var a=fc(!1),l=a[0];return a=vh.bind(null,a[1]),Ca().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,g){var y=Dr,k=Ca();if(Mr){if(g===void 0)throw Error(t(407));g=g()}else{if(g=l(),on===null)throw Error(t(349));(Io&30)!==0||S0(y,l,g)}k.memoizedState=g;var E={value:g,getSnapshot:l};return k.queue=E,Du(Za.bind(null,y,E,a),[a]),y.flags|=2048,vs(9,ni.bind(null,y,E,g,l),void 0,null),g},useId:function(){var a=Ca(),l=on.identifierPrefix;if(Mr){var g=ga,y=fa;g=(y&~(1<<32-Kn(y)-1)).toString(32)+g,l=":"+l+"R"+g,g=fl++,0<g&&(l+="H"+g.toString(32)),l+=":"}else g=Dt++,l=":"+l+"r"+g.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},Ou={readContext:Mi,useCallback:ph,useContext:Mi,useEffect:ba,useImperativeHandle:T0,useInsertionEffect:hh,useLayoutEffect:Ga,useMemo:fh,useReducer:_0,useRef:Au,useState:function(){return _0(Fn)},useDebugValue:vc,useDeferredValue:function(a){var l=Ii();return gh(l,$r.memoizedState,a)},useTransition:function(){var a=_0(Fn)[0],l=Ii().memoizedState;return[a,l]},useMutableSource:Lu,useSyncExternalStore:k0,useId:I0,unstable_isNewReconciler:!1},ys={readContext:Mi,useCallback:ph,useContext:Mi,useEffect:ba,useImperativeHandle:T0,useInsertionEffect:hh,useLayoutEffect:Ga,useMemo:fh,useReducer:gs,useRef:Au,useState:function(){return gs(Fn)},useDebugValue:vc,useDeferredValue:function(a){var l=Ii();return $r===null?l.memoizedState=a:gh(l,$r.memoizedState,a)},useTransition:function(){var a=gs(Fn)[0],l=Ii().memoizedState;return[a,l]},useMutableSource:Lu,useSyncExternalStore:k0,useId:I0,unstable_isNewReconciler:!1};function Li(a,l){if(a&&a.defaultProps){l=ee({},l),a=a.defaultProps;for(var g in a)l[g]===void 0&&(l[g]=a[g]);return l}return l}function Ru(a,l,g,y){l=a.memoizedState,g=g(y,l),g=g==null?l:ee({},l,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Nu={isMounted:function(a){return(a=a._reactInternals)?ui(a)===a:!1},enqueueSetState:function(a,l,g){a=a._reactInternals;var y=Hn(),k=Oo(a),E=Xa(y,k);E.payload=l,g!=null&&(E.callback=g),l=Ti(a,E,k),l!==null&&(Ji(l,a,k,y),Mu(l,a,k))},enqueueReplaceState:function(a,l,g){a=a._reactInternals;var y=Hn(),k=Oo(a),E=Xa(y,k);E.tag=1,E.payload=l,g!=null&&(E.callback=g),l=Ti(a,E,k),l!==null&&(Ji(l,a,k,y),Mu(l,a,k))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var g=Hn(),y=Oo(a),k=Xa(g,y);k.tag=2,l!=null&&(k.callback=l),l=Ti(a,k,y),l!==null&&(Ji(l,a,y,g),Mu(l,a,y))}};function P0(a,l,g,y,k,E,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,E,O):l.prototype&&l.prototype.isPureReactComponent?!He(g,y)||!He(k,E):!0}function vl(a,l,g){var y=!1,k=ko,E=l.contextType;return typeof E=="object"&&E!==null?E=Mi(E):(k=ti(l)?Vn:Ln.current,y=l.contextTypes,E=(y=y!=null)?cs(a,k):ko),l=new l(g,E),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Nu,a.stateNode=l,l._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=E),l}function xs(a,l,g,y){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,y),l.state!==a&&Nu.enqueueReplaceState(l,l.state,null)}function A0(a,l,g,y){var k=a.stateNode;k.props=g,k.state=a.memoizedState,k.refs={},Su(a);var E=l.contextType;typeof E=="object"&&E!==null?k.context=Mi(E):(E=ti(l)?Vn:Ln.current,k.context=cs(a,E)),k.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Ru(a,l,E,g),k.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(l=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),l!==k.state&&Nu.enqueueReplaceState(k,k.state,null),hs(a,g,k,y),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function ml(a,l){try{var g="",y=l;do g+=be(y),y=y.return;while(y);var k=g}catch(E){k=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:l,stack:k,digest:null}}function zu(a,l,g){return{value:a,source:null,stack:g??null,digest:l??null}}function Cs(a,l){try{console.error(l.value)}catch(g){setTimeout(function(){throw g})}}var yh=typeof WeakMap=="function"?WeakMap:Map;function mc(a,l,g){g=Xa(-1,g),g.tag=3,g.payload={element:null};var y=l.value;return g.callback=function(){Gu||(Gu=!0,Z0=y),Cs(a,l)},g}function Vu(a,l,g){g=Xa(-1,g),g.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var k=l.value;g.payload=function(){return y(k)},g.callback=function(){Cs(a,l)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(g.callback=function(){Cs(a,l),typeof y!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),g}function yc(a,l,g){var y=a.pingCache;if(y===null){y=a.pingCache=new yh;var k=new Set;y.set(l,k)}else k=y.get(l),k===void 0&&(k=new Set,y.set(l,k));k.has(g)||(k.add(g),a=mf.bind(null,a,l,g),l.then(a,a))}function xh(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function D0(a,l,g,y,k){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(l=Xa(-1,1),l.tag=2,Ti(g,l,1))),g.lanes|=1),a):(a.flags|=65536,a.lanes=k,a)}var Bu=A.ReactCurrentOwner,$n=!1;function mn(a,l,g,y){l.child=a===null?wu(l,null,g,y):Rr(l,a.child,g,y)}function Ch(a,l,g,y,k){g=g.render;var E=l.ref;return Eo(l,k),y=gl(a,l,g,y,E,k),g=Iu(),a!==null&&!$n?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~k,Gi(a,l,k)):(Mr&&g&&oc(l),l.flags|=1,mn(a,l,y,k),l.child)}function F0(a,l,g,y,k){if(a===null){var E=g.type;return typeof E=="function"&&!td(E)&&E.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(l.tag=15,l.type=E,wa(a,l,E,y,k)):(a=rd(g.type,null,y,l,l.mode,k),a.ref=l.ref,a.return=l,l.child=a)}if(E=a.child,(a.lanes&k)===0){var O=E.memoizedProps;if(g=g.compare,g=g!==null?g:He,g(O,y)&&a.ref===l.ref)return Gi(a,l,k)}return l.flags|=1,a=ea(E,y),a.ref=l.ref,a.return=l,l.child=a}function wa(a,l,g,y,k){if(a!==null){var E=a.memoizedProps;if(He(E,y)&&a.ref===l.ref)if($n=!1,l.pendingProps=y=E,(a.lanes&k)!==0)(a.flags&131072)!==0&&($n=!0);else return l.lanes=a.lanes,Gi(a,l,k)}return N0(a,l,g,y,k)}function O0(a,l,g){var y=l.pendingProps,k=y.children,E=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},br(ks,mi),mi|=g;else{if((g&1073741824)===0)return a=E!==null?E.baseLanes|g:g,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,br(ks,mi),mi|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:g,br(ks,mi),mi|=y}else E!==null?(y=E.baseLanes|g,l.memoizedState=null):y=g,br(ks,mi),mi|=y;return mn(a,l,k,g),l.child}function R0(a,l){var g=l.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(l.flags|=512,l.flags|=2097152)}function N0(a,l,g,y,k){var E=ti(g)?Vn:Ln.current;return E=cs(l,E),Eo(l,k),g=gl(a,l,g,y,E,k),y=Iu(),a!==null&&!$n?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~k,Gi(a,l,k)):(Mr&&y&&oc(l),l.flags|=1,mn(a,l,g,k),l.child)}function z0(a,l,g,y,k){if(ti(g)){var E=!0;_i(l)}else E=!1;if(Eo(l,k),l.stateNode===null)Wu(a,l),vl(l,g,y),A0(l,g,y,k),y=!0;else if(a===null){var O=l.stateNode,G=l.memoizedProps;O.props=G;var ne=O.context,ge=g.contextType;typeof ge=="object"&&ge!==null?ge=Mi(ge):(ge=ti(g)?Vn:Ln.current,ge=cs(l,ge));var Me=g.getDerivedStateFromProps,Ie=typeof Me=="function"||typeof O.getSnapshotBeforeUpdate=="function";Ie||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G!==y||ne!==ge)&&xs(l,O,y,ge),Ei=!1;var Se=l.memoizedState;O.state=Se,hs(l,y,O,k),ne=l.memoizedState,G!==y||Se!==ne||ei.current||Ei?(typeof Me=="function"&&(Ru(l,g,Me,y),ne=l.memoizedState),(G=Ei||P0(l,g,G,y,Se,ne,ge))?(Ie||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=ne),O.props=y,O.state=ne,O.context=ge,y=G):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{O=l.stateNode,uh(a,l),G=l.memoizedProps,ge=l.type===l.elementType?G:Li(l.type,G),O.props=ge,Ie=l.pendingProps,Se=O.context,ne=g.contextType,typeof ne=="object"&&ne!==null?ne=Mi(ne):(ne=ti(g)?Vn:Ln.current,ne=cs(l,ne));var Ye=g.getDerivedStateFromProps;(Me=typeof Ye=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(G!==Ie||Se!==ne)&&xs(l,O,y,ne),Ei=!1,Se=l.memoizedState,O.state=Se,hs(l,y,O,k);var qe=l.memoizedState;G!==Ie||Se!==qe||ei.current||Ei?(typeof Ye=="function"&&(Ru(l,g,Ye,y),qe=l.memoizedState),(ge=Ei||P0(l,g,ge,y,Se,qe,ne)||!1)?(Me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(y,qe,ne),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(y,qe,ne)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||G===a.memoizedProps&&Se===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===a.memoizedProps&&Se===a.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=qe),O.props=y,O.state=qe,O.context=ne,y=ge):(typeof O.componentDidUpdate!="function"||G===a.memoizedProps&&Se===a.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||G===a.memoizedProps&&Se===a.memoizedState||(l.flags|=1024),y=!1)}return V0(a,l,g,y,E,k)}function V0(a,l,g,y,k,E){R0(a,l);var O=(l.flags&128)!==0;if(!y&&!O)return k&&ih(l,g,!1),Gi(a,l,E);y=l.stateNode,Bu.current=l;var G=O&&typeof g.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,a!==null&&O?(l.child=Rr(l,a.child,null,E),l.child=Rr(l,null,G,E)):mn(a,l,G,E),l.memoizedState=y.state,k&&ih(l,g,!0),l.child}function bh(a){var l=a.stateNode;l.pendingContext?rh(a,l.pendingContext,l.pendingContext!==l.context):l.context&&rh(a,l.context,!1),y0(a,l.containerInfo)}function _a(a,l,g,y,k){return ma(),ya(k),l.flags|=256,mn(a,l,g,y),l.child}var xc={dehydrated:null,treeContext:null,retryLane:0};function Cc(a){return{baseLanes:a,cachePool:null,transitions:null}}function $u(a,l,g){var y=l.pendingProps,k=Lr.current,E=!1,O=(l.flags&128)!==0,G;if((G=O)||(G=a!==null&&a.memoizedState===null?!1:(k&2)!==0),G?(E=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),br(Lr,k&1),a===null)return ri(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=y.children,a=y.fallback,E?(y=l.mode,E=l.child,O={mode:"hidden",children:O},(y&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=O):E=nd(O,y,0,null),a=wl(a,y,g,null),E.return=l,a.return=l,E.sibling=a,l.child=E,l.child.memoizedState=Cc(g),l.memoizedState=xc,a):bs(l,O));if(k=a.memoizedState,k!==null&&(G=k.dehydrated,G!==null))return st(a,l,O,y,G,k,g);if(E){E=y.fallback,O=l.mode,k=a.child,G=k.sibling;var ne={mode:"hidden",children:y.children};return(O&1)===0&&l.child!==k?(y=l.child,y.childLanes=0,y.pendingProps=ne,l.deletions=null):(y=ea(k,ne),y.subtreeFlags=k.subtreeFlags&14680064),G!==null?E=ea(G,E):(E=wl(E,O,g,null),E.flags|=2),E.return=l,y.return=l,y.sibling=E,l.child=y,y=E,E=l.child,O=a.child.memoizedState,O=O===null?Cc(g):{baseLanes:O.baseLanes|g,cachePool:null,transitions:O.transitions},E.memoizedState=O,E.childLanes=a.childLanes&~g,l.memoizedState=xc,y}return E=a.child,a=E.sibling,y=ea(E,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=g),y.return=l,y.sibling=null,a!==null&&(g=l.deletions,g===null?(l.deletions=[a],l.flags|=16):g.push(a)),l.child=y,l.memoizedState=null,y}function bs(a,l){return l=nd({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function qa(a,l,g,y){return y!==null&&ya(y),Rr(l,a.child,null,g),a=bs(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function st(a,l,g,y,k,E,O){if(g)return l.flags&256?(l.flags&=-257,y=zu(Error(t(422))),qa(a,l,O,y)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(E=y.fallback,k=l.mode,y=nd({mode:"visible",children:y.children},k,0,null),E=wl(E,k,O,null),E.flags|=2,y.return=l,E.return=l,y.sibling=E,l.child=y,(l.mode&1)!==0&&Rr(l,a.child,null,O),l.child.memoizedState=Cc(O),l.memoizedState=xc,E);if((l.mode&1)===0)return qa(a,l,O,null);if(k.data==="$!"){if(y=k.nextSibling&&k.nextSibling.dataset,y)var G=y.dgst;return y=G,E=Error(t(419)),y=zu(E,y,void 0),qa(a,l,O,y)}if(G=(O&a.childLanes)!==0,$n||G){if(y=on,y!==null){switch(O&-O){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(y.suspendedLanes|O))!==0?0:k,k!==0&&k!==E.retryLane&&(E.retryLane=k,Ya(a,k),Ji(y,a,k,-1))}return e1(),y=zu(Error(t(421))),qa(a,l,O,y)}return k.data==="$?"?(l.flags|=128,l.child=a.child,l=yf.bind(null,a),k._reactRetry=l,null):(a=E.treeContext,fi=wo(k.nextSibling),An=l,Mr=!0,ji=null,a!==null&&(ki[Si++]=fa,ki[Si++]=ga,ki[Si++]=sl,fa=a.id,ga=a.overflow,sl=l),l=bs(l,y.children),l.flags|=4096,l)}function bc(a,l,g){a.lanes|=l;var y=a.alternate;y!==null&&(y.lanes|=l),vn(a.return,l,g)}function wc(a,l,g,y,k){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:k}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=g,E.tailMode=k)}function Lo(a,l,g){var y=l.pendingProps,k=y.revealOrder,E=y.tail;if(mn(a,l,y.children,g),y=Lr.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&bc(a,g,l);else if(a.tag===19)bc(a,g,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(br(Lr,y),(l.mode&1)===0)l.memoizedState=null;else switch(k){case"forwards":for(g=l.child,k=null;g!==null;)a=g.alternate,a!==null&&pl(a)===null&&(k=g),g=g.sibling;g=k,g===null?(k=l.child,l.child=null):(k=g.sibling,g.sibling=null),wc(l,!1,k,g,E);break;case"backwards":for(g=null,k=l.child,l.child=null;k!==null;){if(a=k.alternate,a!==null&&pl(a)===null){l.child=k;break}a=k.sibling,k.sibling=g,g=k,k=a}wc(l,!0,g,null,E);break;case"together":wc(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Wu(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Gi(a,l,g){if(a!==null&&(l.dependencies=a.dependencies),Ao|=l.lanes,(g&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,g=ea(a,a.pendingProps),l.child=g,g.return=l;a.sibling!==null;)a=a.sibling,g=g.sibling=ea(a,a.pendingProps),g.return=l;g.sibling=null}return l.child}function wh(a,l,g){switch(l.tag){case 3:bh(l),ma();break;case 5:x0(l);break;case 1:ti(l.type)&&_i(l);break;case 4:y0(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,k=l.memoizedProps.value;br(cc,y._currentValue),y._currentValue=k;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(br(Lr,Lr.current&1),l.flags|=128,null):(g&l.child.childLanes)!==0?$u(a,l,g):(br(Lr,Lr.current&1),a=Gi(a,l,g),a!==null?a.sibling:null);br(Lr,Lr.current&1);break;case 19:if(y=(g&l.childLanes)!==0,(a.flags&128)!==0){if(y)return Lo(a,l,g);l.flags|=128}if(k=l.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),br(Lr,Lr.current),y)break;return null;case 22:case 23:return l.lanes=0,O0(a,l,g)}return Gi(a,l,g)}var yn,B0,_h,$0;yn=function(a,l){for(var g=l.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},B0=function(){},_h=function(a,l,g,y){var k=a.memoizedProps;if(k!==y){a=l.stateNode,ja(xa.current);var E=null;switch(g){case"input":k=Ge(a,k),y=Ge(a,y),E=[];break;case"select":k=ee({},k,{value:void 0}),y=ee({},y,{value:void 0}),E=[];break;case"textarea":k=fr(a,k),y=fr(a,y),E=[];break;default:typeof k.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=pu)}wt(g,y);var O;g=null;for(ge in k)if(!y.hasOwnProperty(ge)&&k.hasOwnProperty(ge)&&k[ge]!=null)if(ge==="style"){var G=k[ge];for(O in G)G.hasOwnProperty(O)&&(g||(g={}),g[O]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(i.hasOwnProperty(ge)?E||(E=[]):(E=E||[]).push(ge,null));for(ge in y){var ne=y[ge];if(G=k!=null?k[ge]:void 0,y.hasOwnProperty(ge)&&ne!==G&&(ne!=null||G!=null))if(ge==="style")if(G){for(O in G)!G.hasOwnProperty(O)||ne&&ne.hasOwnProperty(O)||(g||(g={}),g[O]="");for(O in ne)ne.hasOwnProperty(O)&&G[O]!==ne[O]&&(g||(g={}),g[O]=ne[O])}else g||(E||(E=[]),E.push(ge,g)),g=ne;else ge==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,G=G?G.__html:void 0,ne!=null&&G!==ne&&(E=E||[]).push(ge,ne)):ge==="children"?typeof ne!="string"&&typeof ne!="number"||(E=E||[]).push(ge,""+ne):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(i.hasOwnProperty(ge)?(ne!=null&&ge==="onScroll"&&kr("scroll",a),E||G===ne||(E=[])):(E=E||[]).push(ge,ne))}g&&(E=E||[]).push("style",g);var ge=E;(l.updateQueue=ge)&&(l.flags|=4)}},$0=function(a,l,g,y){g!==y&&(l.flags|=4)};function _c(a,l){if(!Mr)switch(a.tailMode){case"hidden":l=a.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function xn(a){var l=a.alternate!==null&&a.alternate.child===a.child,g=0,y=0;if(l)for(var k=a.child;k!==null;)g|=k.lanes|k.childLanes,y|=k.subtreeFlags&14680064,y|=k.flags&14680064,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)g|=k.lanes|k.childLanes,y|=k.subtreeFlags,y|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=y,a.childLanes=g,l}function uf(a,l,g){var y=l.pendingProps;switch(ul(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(l),null;case 1:return ti(l.type)&&mu(),xn(l),null;case 3:return y=l.stateNode,To(),Sr(ei),Sr(Ln),Tu(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(lc(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ji!==null&&(K0(ji),ji=null))),B0(a,l),xn(l),null;case 5:Eu(l);var k=ja(ps.current);if(g=l.type,a!==null&&l.stateNode!=null)_h(a,l,g,y,k),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(t(166));return xn(l),null}if(a=ja(xa.current),lc(l)){y=l.stateNode,g=l.type;var E=l.memoizedProps;switch(y[ha]=l,y[_o]=E,a=(l.mode&1)!==0,g){case"dialog":kr("cancel",y),kr("close",y);break;case"iframe":case"object":case"embed":kr("load",y);break;case"video":case"audio":for(k=0;k<$a.length;k++)kr($a[k],y);break;case"source":kr("error",y);break;case"img":case"image":case"link":kr("error",y),kr("load",y);break;case"details":kr("toggle",y);break;case"input":gt(y,E),kr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!E.multiple},kr("invalid",y);break;case"textarea":nn(y,E),kr("invalid",y)}wt(g,E),k=null;for(var O in E)if(E.hasOwnProperty(O)){var G=E[O];O==="children"?typeof G=="string"?y.textContent!==G&&(E.suppressHydrationWarning!==!0&&rc(y.textContent,G,a),k=["children",G]):typeof G=="number"&&y.textContent!==""+G&&(E.suppressHydrationWarning!==!0&&rc(y.textContent,G,a),k=["children",""+G]):i.hasOwnProperty(O)&&G!=null&&O==="onScroll"&&kr("scroll",y)}switch(g){case"input":Te(y),nr(y,E,!0);break;case"textarea":Te(y),lr(y);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(y.onclick=pu)}y=k,l.updateQueue=y,y!==null&&(l.flags|=4)}else{O=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=At(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=O.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=O.createElement(g,{is:y.is}):(a=O.createElement(g),g==="select"&&(O=a,y.multiple?O.multiple=!0:y.size&&(O.size=y.size))):a=O.createElementNS(a,g),a[ha]=l,a[_o]=y,yn(a,l,!1,!1),l.stateNode=a;e:{switch(O=xt(g,y),g){case"dialog":kr("cancel",a),kr("close",a),k=y;break;case"iframe":case"object":case"embed":kr("load",a),k=y;break;case"video":case"audio":for(k=0;k<$a.length;k++)kr($a[k],a);k=y;break;case"source":kr("error",a),k=y;break;case"img":case"image":case"link":kr("error",a),kr("load",a),k=y;break;case"details":kr("toggle",a),k=y;break;case"input":gt(a,y),k=Ge(a,y),kr("invalid",a);break;case"option":k=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},k=ee({},y,{value:void 0}),kr("invalid",a);break;case"textarea":nn(a,y),k=fr(a,y),kr("invalid",a);break;default:k=y}wt(g,k),G=k;for(E in G)if(G.hasOwnProperty(E)){var ne=G[E];E==="style"?bt(a,ne):E==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Hr(a,ne)):E==="children"?typeof ne=="string"?(g!=="textarea"||ne!=="")&&sr(a,ne):typeof ne=="number"&&sr(a,""+ne):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?ne!=null&&E==="onScroll"&&kr("scroll",a):ne!=null&&I(a,E,ne,O))}switch(g){case"input":Te(a),nr(a,y,!1);break;case"textarea":Te(a),lr(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Re(y.value));break;case"select":a.multiple=!!y.multiple,E=y.value,E!=null?Tt(a,!!y.multiple,E,!1):y.defaultValue!=null&&Tt(a,!!y.multiple,y.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=pu)}switch(g){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return xn(l),null;case 6:if(a&&l.stateNode!=null)$0(a,l,a.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(t(166));if(g=ja(ps.current),ja(xa.current),lc(l)){if(y=l.stateNode,g=l.memoizedProps,y[ha]=l,(E=y.nodeValue!==g)&&(a=An,a!==null))switch(a.tag){case 3:rc(y.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&rc(y.nodeValue,g,(a.mode&1)!==0)}E&&(l.flags|=4)}else y=(g.nodeType===9?g:g.ownerDocument).createTextNode(y),y[ha]=l,l.stateNode=y}return xn(l),null;case 13:if(Sr(Lr),y=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Mr&&fi!==null&&(l.mode&1)!==0&&(l.flags&128)===0)f0(),ma(),l.flags|=98560,E=!1;else if(E=lc(l),y!==null&&y.dehydrated!==null){if(a===null){if(!E)throw Error(t(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(t(317));E[ha]=l}else ma(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;xn(l),E=!1}else ji!==null&&(K0(ji),ji=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=g,l):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Lr.current&1)!==0?en===0&&(en=3):e1())),l.updateQueue!==null&&(l.flags|=4),xn(l),null);case 4:return To(),B0(a,l),a===null&&Co(l.stateNode.containerInfo),xn(l),null;case 10:return _u(l.type._context),xn(l),null;case 17:return ti(l.type)&&mu(),xn(l),null;case 19:if(Sr(Lr),E=l.memoizedState,E===null)return xn(l),null;if(y=(l.flags&128)!==0,O=E.rendering,O===null)if(y)_c(E,!1);else{if(en!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(O=pl(a),O!==null){for(l.flags|=128,_c(E,!1),y=O.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=g,g=l.child;g!==null;)E=g,a=y,E.flags&=14680066,O=E.alternate,O===null?(E.childLanes=0,E.lanes=a,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=O.childLanes,E.lanes=O.lanes,E.child=O.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=O.memoizedProps,E.memoizedState=O.memoizedState,E.updateQueue=O.updateQueue,E.type=O.type,a=O.dependencies,E.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return br(Lr,Lr.current&1|2),l.child}a=a.sibling}E.tail!==null&&vr()>yl&&(l.flags|=128,y=!0,_c(E,!1),l.lanes=4194304)}else{if(!y)if(a=pl(O),a!==null){if(l.flags|=128,y=!0,g=a.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),_c(E,!0),E.tail===null&&E.tailMode==="hidden"&&!O.alternate&&!Mr)return xn(l),null}else 2*vr()-E.renderingStartTime>yl&&g!==1073741824&&(l.flags|=128,y=!0,_c(E,!1),l.lanes=4194304);E.isBackwards?(O.sibling=l.child,l.child=O):(g=E.last,g!==null?g.sibling=O:l.child=O,E.last=O)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=vr(),l.sibling=null,g=Lr.current,br(Lr,y?g&1|2:g&1),l):(xn(l),null);case 22:case 23:return J0(),y=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(mi&1073741824)!==0&&(xn(l),l.subtreeFlags&6&&(l.flags|=8192)):xn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function df(a,l){switch(ul(l),l.tag){case 1:return ti(l.type)&&mu(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return To(),Sr(ei),Sr(Ln),Tu(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Eu(l),null;case 13:if(Sr(Lr),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));ma()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Sr(Lr),null;case 4:return To(),null;case 10:return _u(l.type._context),null;case 22:case 23:return J0(),null;case 24:return null;default:return null}}var Uu=!1,Pr=!1,Wn=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function ws(a,l){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(y){Fr(a,l,y)}else g.current=null}function kc(a,l,g){try{g()}catch(y){Fr(a,l,y)}}var kh=!1;function hf(a,l){if(nc=Gc,a=hr(),qs(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var y=g.getSelection&&g.getSelection();if(y&&y.rangeCount!==0){g=y.anchorNode;var k=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{g.nodeType,E.nodeType}catch{g=null;break e}var O=0,G=-1,ne=-1,ge=0,Me=0,Ie=a,Se=null;t:for(;;){for(var Ye;Ie!==g||k!==0&&Ie.nodeType!==3||(G=O+k),Ie!==E||y!==0&&Ie.nodeType!==3||(ne=O+y),Ie.nodeType===3&&(O+=Ie.nodeValue.length),(Ye=Ie.firstChild)!==null;)Se=Ie,Ie=Ye;for(;;){if(Ie===a)break t;if(Se===g&&++ge===k&&(G=O),Se===E&&++Me===y&&(ne=O),(Ye=Ie.nextSibling)!==null)break;Ie=Se,Se=Ie.parentNode}Ie=Ye}g=G===-1||ne===-1?null:{start:G,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(ol={focusedElem:a,selectionRange:g},Gc=!1,Ze=l;Ze!==null;)if(l=Ze,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Ze=a;else for(;Ze!==null;){l=Ze;try{var qe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var Qe=qe.memoizedProps,Wr=qe.memoizedState,de=l.stateNode,oe=de.getSnapshotBeforeUpdate(l.elementType===l.type?Qe:Li(l.type,Qe),Wr);de.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var pe=l.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Fe){Fr(l,l.return,Fe)}if(a=l.sibling,a!==null){a.return=l.return,Ze=a;break}Ze=l.return}return qe=kh,kh=!1,qe}function Ka(a,l,g){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var k=y=y.next;do{if((k.tag&a)===a){var E=k.destroy;k.destroy=void 0,E!==void 0&&kc(l,g,E)}k=k.next}while(k!==y)}}function Sc(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&a)===a){var y=g.create;g.destroy=y()}g=g.next}while(g!==l)}}function Hu(a){var l=a.ref;if(l!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof l=="function"?l(a):l.current=a}}function Sh(a){var l=a.alternate;l!==null&&(a.alternate=null,Sh(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[ha],delete l[_o],delete l[gu],delete l[R],delete l[ls])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Mh(a){return a.tag===5||a.tag===3||a.tag===4}function Eh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Mh(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function W0(a,l,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?g.nodeType===8?g.parentNode.insertBefore(a,l):g.insertBefore(a,l):(g.nodeType===8?(l=g.parentNode,l.insertBefore(a,g)):(l=g,l.appendChild(a)),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=pu));else if(y!==4&&(a=a.child,a!==null))for(W0(a,l,g),a=a.sibling;a!==null;)W0(a,l,g),a=a.sibling}function Yu(a,l,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?g.insertBefore(a,l):g.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(Yu(a,l,g),a=a.sibling;a!==null;)Yu(a,l,g),a=a.sibling}var an=null,qi=!1;function ka(a,l,g){for(g=g.child;g!==null;)U0(a,l,g),g=g.sibling}function U0(a,l,g){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(qo,g)}catch{}switch(g.tag){case 5:Pr||ws(g,l);case 6:var y=an,k=qi;an=null,ka(a,l,g),an=y,qi=k,an!==null&&(qi?(a=an,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):an.removeChild(g.stateNode));break;case 18:an!==null&&(qi?(a=an,g=g.stateNode,a.nodeType===8?d0(a.parentNode,g):a.nodeType===1&&d0(a,g),jt(a)):d0(an,g.stateNode));break;case 4:y=an,k=qi,an=g.stateNode.containerInfo,qi=!0,ka(a,l,g),an=y,qi=k;break;case 0:case 11:case 14:case 15:if(!Pr&&(y=g.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){k=y=y.next;do{var E=k,O=E.destroy;E=E.tag,O!==void 0&&((E&2)!==0||(E&4)!==0)&&kc(g,l,O),k=k.next}while(k!==y)}ka(a,l,g);break;case 1:if(!Pr&&(ws(g,l),y=g.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=g.memoizedProps,y.state=g.memoizedState,y.componentWillUnmount()}catch(G){Fr(g,l,G)}ka(a,l,g);break;case 21:ka(a,l,g);break;case 22:g.mode&1?(Pr=(y=Pr)||g.memoizedState!==null,ka(a,l,g),Pr=y):ka(a,l,g);break;default:ka(a,l,g)}}function _s(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new Wn),l.forEach(function(y){var k=xf.bind(null,a,y);g.has(y)||(g.add(y),y.then(k,k))})}}function vi(a,l){var g=l.deletions;if(g!==null)for(var y=0;y<g.length;y++){var k=g[y];try{var E=a,O=l,G=O;e:for(;G!==null;){switch(G.tag){case 5:an=G.stateNode,qi=!1;break e;case 3:an=G.stateNode.containerInfo,qi=!0;break e;case 4:an=G.stateNode.containerInfo,qi=!0;break e}G=G.return}if(an===null)throw Error(t(160));U0(E,O,k),an=null,qi=!1;var ne=k.alternate;ne!==null&&(ne.return=null),k.return=null}catch(ge){Fr(k,l,ge)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)H0(l,a),l=l.sibling}function H0(a,l){var g=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(vi(l,a),Ki(a),y&4){try{Ka(3,a,a.return),Sc(3,a)}catch(Qe){Fr(a,a.return,Qe)}try{Ka(5,a,a.return)}catch(Qe){Fr(a,a.return,Qe)}}break;case 1:vi(l,a),Ki(a),y&512&&g!==null&&ws(g,g.return);break;case 5:if(vi(l,a),Ki(a),y&512&&g!==null&&ws(g,g.return),a.flags&32){var k=a.stateNode;try{sr(k,"")}catch(Qe){Fr(a,a.return,Qe)}}if(y&4&&(k=a.stateNode,k!=null)){var E=a.memoizedProps,O=g!==null?g.memoizedProps:E,G=a.type,ne=a.updateQueue;if(a.updateQueue=null,ne!==null)try{G==="input"&&E.type==="radio"&&E.name!=null&&vt(k,E),xt(G,O);var ge=xt(G,E);for(O=0;O<ne.length;O+=2){var Me=ne[O],Ie=ne[O+1];Me==="style"?bt(k,Ie):Me==="dangerouslySetInnerHTML"?Hr(k,Ie):Me==="children"?sr(k,Ie):I(k,Me,Ie,ge)}switch(G){case"input":mt(k,E);break;case"textarea":fn(k,E);break;case"select":var Se=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!E.multiple;var Ye=E.value;Ye!=null?Tt(k,!!E.multiple,Ye,!1):Se!==!!E.multiple&&(E.defaultValue!=null?Tt(k,!!E.multiple,E.defaultValue,!0):Tt(k,!!E.multiple,E.multiple?[]:"",!1))}k[_o]=E}catch(Qe){Fr(a,a.return,Qe)}}break;case 6:if(vi(l,a),Ki(a),y&4){if(a.stateNode===null)throw Error(t(162));k=a.stateNode,E=a.memoizedProps;try{k.nodeValue=E}catch(Qe){Fr(a,a.return,Qe)}}break;case 3:if(vi(l,a),Ki(a),y&4&&g!==null&&g.memoizedState.isDehydrated)try{jt(l.containerInfo)}catch(Qe){Fr(a,a.return,Qe)}break;case 4:vi(l,a),Ki(a);break;case 13:vi(l,a),Ki(a),k=a.child,k.flags&8192&&(E=k.memoizedState!==null,k.stateNode.isHidden=E,!E||k.alternate!==null&&k.alternate.memoizedState!==null||(j0=vr())),y&4&&_s(a);break;case 22:if(Me=g!==null&&g.memoizedState!==null,a.mode&1?(Pr=(ge=Pr)||Me,vi(l,a),Pr=ge):vi(l,a),Ki(a),y&8192){if(ge=a.memoizedState!==null,(a.stateNode.isHidden=ge)&&!Me&&(a.mode&1)!==0)for(Ze=a,Me=a.child;Me!==null;){for(Ie=Ze=Me;Ze!==null;){switch(Se=Ze,Ye=Se.child,Se.tag){case 0:case 11:case 14:case 15:Ka(4,Se,Se.return);break;case 1:ws(Se,Se.return);var qe=Se.stateNode;if(typeof qe.componentWillUnmount=="function"){y=Se,g=Se.return;try{l=y,qe.props=l.memoizedProps,qe.state=l.memoizedState,qe.componentWillUnmount()}catch(Qe){Fr(y,g,Qe)}}break;case 5:ws(Se,Se.return);break;case 22:if(Se.memoizedState!==null){Po(Ie);continue}}Ye!==null?(Ye.return=Se,Ze=Ye):Po(Ie)}Me=Me.sibling}e:for(Me=null,Ie=a;;){if(Ie.tag===5){if(Me===null){Me=Ie;try{k=Ie.stateNode,ge?(E=k.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(G=Ie.stateNode,ne=Ie.memoizedProps.style,O=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,G.style.display=Be("display",O))}catch(Qe){Fr(a,a.return,Qe)}}}else if(Ie.tag===6){if(Me===null)try{Ie.stateNode.nodeValue=ge?"":Ie.memoizedProps}catch(Qe){Fr(a,a.return,Qe)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===a)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===a)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===a)break e;Me===Ie&&(Me=null),Ie=Ie.return}Me===Ie&&(Me=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:vi(l,a),Ki(a),y&4&&_s(a);break;case 21:break;default:vi(l,a),Ki(a)}}function Ki(a){var l=a.flags;if(l&2){try{e:{for(var g=a.return;g!==null;){if(Mh(g)){var y=g;break e}g=g.return}throw Error(t(160))}switch(y.tag){case 5:var k=y.stateNode;y.flags&32&&(sr(k,""),y.flags&=-33);var E=Eh(a);Yu(a,E,k);break;case 3:case 4:var O=y.stateNode.containerInfo,G=Eh(a);W0(a,G,O);break;default:throw Error(t(161))}}catch(ne){Fr(a,a.return,ne)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Xu(a,l,g){Ze=a,Y0(a)}function Y0(a,l,g){for(var y=(a.mode&1)!==0;Ze!==null;){var k=Ze,E=k.child;if(k.tag===22&&y){var O=k.memoizedState!==null||Uu;if(!O){var G=k.alternate,ne=G!==null&&G.memoizedState!==null||Pr;G=Uu;var ge=Pr;if(Uu=O,(Pr=ne)&&!ge)for(Ze=k;Ze!==null;)O=Ze,ne=O.child,O.tag===22&&O.memoizedState!==null?Th(k):ne!==null?(ne.return=O,Ze=ne):Th(k);for(;E!==null;)Ze=E,Y0(E),E=E.sibling;Ze=k,Uu=G,Pr=ge}Qi(a)}else(k.subtreeFlags&8772)!==0&&E!==null?(E.return=k,Ze=E):Qi(a)}}function Qi(a){for(;Ze!==null;){var l=Ze;if((l.flags&8772)!==0){var g=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Pr||Sc(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Pr)if(g===null)y.componentDidMount();else{var k=l.elementType===l.type?g.memoizedProps:Li(l.type,g.memoizedProps);y.componentDidUpdate(k,g.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&m0(l,E,y);break;case 3:var O=l.updateQueue;if(O!==null){if(g=null,l.child!==null)switch(l.child.tag){case 5:g=l.child.stateNode;break;case 1:g=l.child.stateNode}m0(l,O,g)}break;case 5:var G=l.stateNode;if(g===null&&l.flags&4){g=G;var ne=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&g.focus();break;case"img":ne.src&&(g.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ge=l.alternate;if(ge!==null){var Me=ge.memoizedState;if(Me!==null){var Ie=Me.dehydrated;Ie!==null&&jt(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Pr||l.flags&512&&Hu(l)}catch(Se){Fr(l,l.return,Se)}}if(l===a){Ze=null;break}if(g=l.sibling,g!==null){g.return=l.return,Ze=g;break}Ze=l.return}}function Po(a){for(;Ze!==null;){var l=Ze;if(l===a){Ze=null;break}var g=l.sibling;if(g!==null){g.return=l.return,Ze=g;break}Ze=l.return}}function Th(a){for(;Ze!==null;){var l=Ze;try{switch(l.tag){case 0:case 11:case 15:var g=l.return;try{Sc(4,l)}catch(ne){Fr(l,g,ne)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var k=l.return;try{y.componentDidMount()}catch(ne){Fr(l,k,ne)}}var E=l.return;try{Hu(l)}catch(ne){Fr(l,E,ne)}break;case 5:var O=l.return;try{Hu(l)}catch(ne){Fr(l,O,ne)}}}catch(ne){Fr(l,l.return,ne)}if(l===a){Ze=null;break}var G=l.sibling;if(G!==null){G.return=l.return,Ze=G;break}Ze=l.return}}var Ih=Math.ceil,ju=A.ReactCurrentDispatcher,X0=A.ReactCurrentOwner,Pi=A.ReactCurrentBatchConfig,Zt=0,on=null,jr=null,Cn=0,mi=0,ks=Jn(0),en=0,Mc=null,Ao=0,Ec=0,Zu=0,Tc=null,ii=null,j0=0,yl=1/0,Qa=null,Gu=!1,Z0=null,Do=null,qu=!1,Fo=null,Un=0,Ic=0,G0=null,Ku=-1,Lc=0;function Hn(){return(Zt&6)!==0?vr():Ku!==-1?Ku:Ku=vr()}function Oo(a){return(a.mode&1)===0?1:(Zt&2)!==0&&Cn!==0?Cn&-Cn:sh.transition!==null?(Lc===0&&(Lc=Ul()),Lc):(a=Xt,a!==0||(a=window.event,a=a===void 0?16:F1(a.type)),a)}function Ji(a,l,g,y){if(50<Ic)throw Ic=0,G0=null,Error(t(185));po(a,g,y),((Zt&2)===0||a!==on)&&(a===on&&((Zt&2)===0&&(Ec|=g),en===4&&Ro(a,Cn)),ai(a,y),g===1&&Zt===0&&(l.mode&1)===0&&(yl=vr()+500,yu&&So()))}function ai(a,l){var g=a.callbackNode;Yc(a,l);var y=la(a,a===on?Cn:0);if(y===0)g!==null&&Ns(g),a.callbackNode=null,a.callbackPriority=0;else if(l=y&-y,a.callbackPriority!==l){if(g!=null&&Ns(g),l===1)a.tag===0?ll(Lh.bind(null,a)):ah(Lh.bind(null,a)),fu(function(){(Zt&6)===0&&So()}),g=null;else{switch(sa(y)){case 1:g=$l;break;case 4:g=zs;break;case 16:g=uo;break;case 536870912:g=Wl;break;default:g=uo}g=Nh(g,Qu.bind(null,a))}a.callbackPriority=l,a.callbackNode=g}}function Qu(a,l){if(Ku=-1,Lc=0,(Zt&6)!==0)throw Error(t(327));var g=a.callbackNode;if(Ss()&&a.callbackNode!==g)return null;var y=la(a,a===on?Cn:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||l)l=Ju(a,y);else{l=y;var k=Zt;Zt|=2;var E=Ah();(on!==a||Cn!==l)&&(Qa=null,yl=vr()+500,Cl(a,l));do try{gf();break}catch(G){Ph(a,G)}while(!0);Ha(),ju.current=E,Zt=k,jr!==null?l=0:(on=null,Cn=0,l=en)}if(l!==0){if(l===2&&(k=Qo(a),k!==0&&(y=k,l=q0(a,k))),l===1)throw g=Mc,Cl(a,0),Ro(a,y),ai(a,vr()),g;if(l===6)Ro(a,y);else{if(k=a.current.alternate,(y&30)===0&&!pf(k)&&(l=Ju(a,y),l===2&&(E=Qo(a),E!==0&&(y=E,l=q0(a,E))),l===1))throw g=Mc,Cl(a,0),Ro(a,y),ai(a,vr()),g;switch(a.finishedWork=k,a.finishedLanes=y,l){case 0:case 1:throw Error(t(345));case 2:bl(a,ii,Qa);break;case 3:if(Ro(a,y),(y&130023424)===y&&(l=j0+500-vr(),10<l)){if(la(a,0)!==0)break;if(k=a.suspendedLanes,(k&y)!==y){Hn(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=bo(bl.bind(null,a,ii,Qa),l);break}bl(a,ii,Qa);break;case 4:if(Ro(a,y),(y&4194240)===y)break;for(l=a.eventTimes,k=-1;0<y;){var O=31-Kn(y);E=1<<O,O=l[O],O>k&&(k=O),y&=~E}if(y=k,y=vr()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*Ih(y/1960))-y,10<y){a.timeoutHandle=bo(bl.bind(null,a,ii,Qa),y);break}bl(a,ii,Qa);break;case 5:bl(a,ii,Qa);break;default:throw Error(t(329))}}}return ai(a,vr()),a.callbackNode===g?Qu.bind(null,a):null}function q0(a,l){var g=Tc;return a.current.memoizedState.isDehydrated&&(Cl(a,l).flags|=256),a=Ju(a,l),a!==2&&(l=ii,ii=g,l!==null&&K0(l)),a}function K0(a){ii===null?ii=a:ii.push.apply(ii,a)}function pf(a){for(var l=a;;){if(l.flags&16384){var g=l.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var y=0;y<g.length;y++){var k=g[y],E=k.getSnapshot;k=k.value;try{if(!fe(E(),k))return!1}catch{return!1}}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ro(a,l){for(l&=~Zu,l&=~Ec,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var g=31-Kn(l),y=1<<g;a[g]=-1,l&=~y}}function Lh(a){if((Zt&6)!==0)throw Error(t(327));Ss();var l=la(a,0);if((l&1)===0)return ai(a,vr()),null;var g=Ju(a,l);if(a.tag!==0&&g===2){var y=Qo(a);y!==0&&(l=y,g=q0(a,y))}if(g===1)throw g=Mc,Cl(a,0),Ro(a,l),ai(a,vr()),g;if(g===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,bl(a,ii,Qa),ai(a,vr()),null}function Q0(a,l){var g=Zt;Zt|=1;try{return a(l)}finally{Zt=g,Zt===0&&(yl=vr()+500,yu&&So())}}function xl(a){Fo!==null&&Fo.tag===0&&(Zt&6)===0&&Ss();var l=Zt;Zt|=1;var g=Pi.transition,y=Xt;try{if(Pi.transition=null,Xt=1,a)return a()}finally{Xt=y,Pi.transition=g,Zt=l,(Zt&6)===0&&So()}}function J0(){mi=ks.current,Sr(ks)}function Cl(a,l){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,ac(g)),jr!==null)for(g=jr.return;g!==null;){var y=g;switch(ul(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&mu();break;case 3:To(),Sr(ei),Sr(Ln),Tu();break;case 5:Eu(y);break;case 4:To();break;case 13:Sr(Lr);break;case 19:Sr(Lr);break;case 10:_u(y.type._context);break;case 22:case 23:J0()}g=g.return}if(on=a,jr=a=ea(a.current,null),Cn=mi=l,en=0,Mc=null,Zu=Ec=Ao=0,ii=Tc=null,hl!==null){for(l=0;l<hl.length;l++)if(g=hl[l],y=g.interleaved,y!==null){g.interleaved=null;var k=y.next,E=g.pending;if(E!==null){var O=E.next;E.next=k,y.next=O}g.pending=y}hl=null}return a}function Ph(a,l){do{var g=jr;try{if(Ha(),hc.current=Fu,fs){for(var y=Dr.memoizedState;y!==null;){var k=y.queue;k!==null&&(k.pending=null),y=y.next}fs=!1}if(Io=0,Jr=$r=Dr=null,pc=!1,fl=0,X0.current=null,g===null||g.return===null){en=1,Mc=l,jr=null;break}e:{var E=a,O=g.return,G=g,ne=l;if(l=Cn,G.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ge=ne,Me=G,Ie=Me.tag;if((Me.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Se=Me.alternate;Se?(Me.updateQueue=Se.updateQueue,Me.memoizedState=Se.memoizedState,Me.lanes=Se.lanes):(Me.updateQueue=null,Me.memoizedState=null)}var Ye=xh(O);if(Ye!==null){Ye.flags&=-257,D0(Ye,O,G,E,l),Ye.mode&1&&yc(E,ge,l),l=Ye,ne=ge;var qe=l.updateQueue;if(qe===null){var Qe=new Set;Qe.add(ne),l.updateQueue=Qe}else qe.add(ne);break e}else{if((l&1)===0){yc(E,ge,l),e1();break e}ne=Error(t(426))}}else if(Mr&&G.mode&1){var Wr=xh(O);if(Wr!==null){(Wr.flags&65536)===0&&(Wr.flags|=256),D0(Wr,O,G,E,l),ya(ml(ne,G));break e}}E=ne=ml(ne,G),en!==4&&(en=2),Tc===null?Tc=[E]:Tc.push(E),E=O;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var de=mc(E,ne,l);dh(E,de);break e;case 1:G=ne;var oe=E.type,pe=E.stateNode;if((E.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(Do===null||!Do.has(pe)))){E.flags|=65536,l&=-l,E.lanes|=l;var Fe=Vu(E,G,l);dh(E,Fe);break e}}E=E.return}while(E!==null)}Fh(g)}catch(rt){l=rt,jr===g&&g!==null&&(jr=g=g.return);continue}break}while(!0)}function Ah(){var a=ju.current;return ju.current=Fu,a===null?Fu:a}function e1(){(en===0||en===3||en===2)&&(en=4),on===null||(Ao&268435455)===0&&(Ec&268435455)===0||Ro(on,Cn)}function Ju(a,l){var g=Zt;Zt|=2;var y=Ah();(on!==a||Cn!==l)&&(Qa=null,Cl(a,l));do try{ff();break}catch(k){Ph(a,k)}while(!0);if(Ha(),Zt=g,ju.current=y,jr!==null)throw Error(t(261));return on=null,Cn=0,en}function ff(){for(;jr!==null;)Dh(jr)}function gf(){for(;jr!==null&&!Go();)Dh(jr)}function Dh(a){var l=Rh(a.alternate,a,mi);a.memoizedProps=a.pendingProps,l===null?Fh(a):jr=l,X0.current=null}function Fh(a){var l=a;do{var g=l.alternate;if(a=l.return,(l.flags&32768)===0){if(g=uf(g,l,mi),g!==null){jr=g;return}}else{if(g=df(g,l),g!==null){g.flags&=32767,jr=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{en=6,jr=null;return}}if(l=l.sibling,l!==null){jr=l;return}jr=l=a}while(l!==null);en===0&&(en=5)}function bl(a,l,g){var y=Xt,k=Pi.transition;try{Pi.transition=null,Xt=1,vf(a,l,g,y)}finally{Pi.transition=k,Xt=y}return null}function vf(a,l,g,y){do Ss();while(Fo!==null);if((Zt&6)!==0)throw Error(t(327));g=a.finishedWork;var k=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var E=g.lanes|g.childLanes;if(Us(a,E),a===on&&(jr=on=null,Cn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||qu||(qu=!0,Nh(uo,function(){return Ss(),null})),E=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||E){E=Pi.transition,Pi.transition=null;var O=Xt;Xt=1;var G=Zt;Zt|=4,X0.current=null,hf(a,g),H0(g,a),of(ol),Gc=!!nc,ol=nc=null,a.current=g,Xu(g),$c(),Zt=G,Xt=O,Pi.transition=E}else a.current=g;if(qu&&(qu=!1,Fo=a,Un=k),E=a.pendingLanes,E===0&&(Do=null),Hc(g.stateNode),ai(a,vr()),l!==null)for(y=a.onRecoverableError,g=0;g<l.length;g++)k=l[g],y(k.value,{componentStack:k.stack,digest:k.digest});if(Gu)throw Gu=!1,a=Z0,Z0=null,a;return(Un&1)!==0&&a.tag!==0&&Ss(),E=a.pendingLanes,(E&1)!==0?a===G0?Ic++:(Ic=0,G0=a):Ic=0,So(),null}function Ss(){if(Fo!==null){var a=sa(Un),l=Pi.transition,g=Xt;try{if(Pi.transition=null,Xt=16>a?16:a,Fo===null)var y=!1;else{if(a=Fo,Fo=null,Un=0,(Zt&6)!==0)throw Error(t(331));var k=Zt;for(Zt|=4,Ze=a.current;Ze!==null;){var E=Ze,O=E.child;if((Ze.flags&16)!==0){var G=E.deletions;if(G!==null){for(var ne=0;ne<G.length;ne++){var ge=G[ne];for(Ze=ge;Ze!==null;){var Me=Ze;switch(Me.tag){case 0:case 11:case 15:Ka(8,Me,E)}var Ie=Me.child;if(Ie!==null)Ie.return=Me,Ze=Ie;else for(;Ze!==null;){Me=Ze;var Se=Me.sibling,Ye=Me.return;if(Sh(Me),Me===ge){Ze=null;break}if(Se!==null){Se.return=Ye,Ze=Se;break}Ze=Ye}}}var qe=E.alternate;if(qe!==null){var Qe=qe.child;if(Qe!==null){qe.child=null;do{var Wr=Qe.sibling;Qe.sibling=null,Qe=Wr}while(Qe!==null)}}Ze=E}}if((E.subtreeFlags&2064)!==0&&O!==null)O.return=E,Ze=O;else e:for(;Ze!==null;){if(E=Ze,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Ka(9,E,E.return)}var de=E.sibling;if(de!==null){de.return=E.return,Ze=de;break e}Ze=E.return}}var oe=a.current;for(Ze=oe;Ze!==null;){O=Ze;var pe=O.child;if((O.subtreeFlags&2064)!==0&&pe!==null)pe.return=O,Ze=pe;else e:for(O=oe;Ze!==null;){if(G=Ze,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Sc(9,G)}}catch(rt){Fr(G,G.return,rt)}if(G===O){Ze=null;break e}var Fe=G.sibling;if(Fe!==null){Fe.return=G.return,Ze=Fe;break e}Ze=G.return}}if(Zt=k,So(),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(qo,a)}catch{}y=!0}return y}finally{Xt=g,Pi.transition=l}}return!1}function ed(a,l,g){l=ml(g,l),l=mc(a,l,1),a=Ti(a,l,1),l=Hn(),a!==null&&(po(a,1,l),ai(a,l))}function Fr(a,l,g){if(a.tag===3)ed(a,a,g);else for(;l!==null;){if(l.tag===3){ed(l,a,g);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Do===null||!Do.has(y))){a=ml(g,a),a=Vu(l,a,1),l=Ti(l,a,1),a=Hn(),l!==null&&(po(l,1,a),ai(l,a));break}}l=l.return}}function mf(a,l,g){var y=a.pingCache;y!==null&&y.delete(l),l=Hn(),a.pingedLanes|=a.suspendedLanes&g,on===a&&(Cn&g)===g&&(en===4||en===3&&(Cn&130023424)===Cn&&500>vr()-j0?Cl(a,0):Zu|=g),ai(a,l)}function Oh(a,l){l===0&&((a.mode&1)===0?l=1:(l=Ko,Ko<<=1,(Ko&130023424)===0&&(Ko=4194304)));var g=Hn();a=Ya(a,l),a!==null&&(po(a,l,g),ai(a,g))}function yf(a){var l=a.memoizedState,g=0;l!==null&&(g=l.retryLane),Oh(a,g)}function xf(a,l){var g=0;switch(a.tag){case 13:var y=a.stateNode,k=a.memoizedState;k!==null&&(g=k.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(l),Oh(a,g)}var Rh;Rh=function(a,l,g){if(a!==null)if(a.memoizedProps!==l.pendingProps||ei.current)$n=!0;else{if((a.lanes&g)===0&&(l.flags&128)===0)return $n=!1,wh(a,l,g);$n=(a.flags&131072)!==0}else $n=!1,Mr&&(l.flags&1048576)!==0&&oh(l,Cu,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;Wu(a,l),a=l.pendingProps;var k=cs(l,Ln.current);Eo(l,g),k=gl(null,l,y,a,k,g);var E=Iu();return l.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ti(y)?(E=!0,_i(l)):E=!1,l.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Su(l),k.updater=Nu,l.stateNode=k,k._reactInternals=l,A0(l,y,a,g),l=V0(null,l,y,!0,E,g)):(l.tag=0,Mr&&E&&oc(l),mn(null,l,k,g),l=l.child),l;case 16:y=l.elementType;e:{switch(Wu(a,l),a=l.pendingProps,k=y._init,y=k(y._payload),l.type=y,k=l.tag=bf(y),a=Li(y,a),k){case 0:l=N0(null,l,y,a,g);break e;case 1:l=z0(null,l,y,a,g);break e;case 11:l=Ch(null,l,y,a,g);break e;case 14:l=F0(null,l,y,Li(y.type,a),g);break e}throw Error(t(306,y,""))}return l;case 0:return y=l.type,k=l.pendingProps,k=l.elementType===y?k:Li(y,k),N0(a,l,y,k,g);case 1:return y=l.type,k=l.pendingProps,k=l.elementType===y?k:Li(y,k),z0(a,l,y,k,g);case 3:e:{if(bh(l),a===null)throw Error(t(387));y=l.pendingProps,E=l.memoizedState,k=E.element,uh(a,l),hs(l,y,null,g);var O=l.memoizedState;if(y=O.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){k=ml(Error(t(423)),l),l=_a(a,l,y,g,k);break e}else if(y!==k){k=ml(Error(t(424)),l),l=_a(a,l,y,g,k);break e}else for(fi=wo(l.stateNode.containerInfo.firstChild),An=l,Mr=!0,ji=null,g=wu(l,null,y,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ma(),y===k){l=Gi(a,l,g);break e}mn(a,l,y,g)}l=l.child}return l;case 5:return x0(l),a===null&&ri(l),y=l.type,k=l.pendingProps,E=a!==null?a.memoizedProps:null,O=k.children,ic(y,k)?O=null:E!==null&&ic(y,E)&&(l.flags|=32),R0(a,l),mn(a,l,O,g),l.child;case 6:return a===null&&ri(l),null;case 13:return $u(a,l,g);case 4:return y0(l,l.stateNode.containerInfo),y=l.pendingProps,a===null?l.child=Rr(l,null,y,g):mn(a,l,y,g),l.child;case 11:return y=l.type,k=l.pendingProps,k=l.elementType===y?k:Li(y,k),Ch(a,l,y,k,g);case 7:return mn(a,l,l.pendingProps,g),l.child;case 8:return mn(a,l,l.pendingProps.children,g),l.child;case 12:return mn(a,l,l.pendingProps.children,g),l.child;case 10:e:{if(y=l.type._context,k=l.pendingProps,E=l.memoizedProps,O=k.value,br(cc,y._currentValue),y._currentValue=O,E!==null)if(fe(E.value,O)){if(E.children===k.children&&!ei.current){l=Gi(a,l,g);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var G=E.dependencies;if(G!==null){O=E.child;for(var ne=G.firstContext;ne!==null;){if(ne.context===y){if(E.tag===1){ne=Xa(-1,g&-g),ne.tag=2;var ge=E.updateQueue;if(ge!==null){ge=ge.shared;var Me=ge.pending;Me===null?ne.next=ne:(ne.next=Me.next,Me.next=ne),ge.pending=ne}}E.lanes|=g,ne=E.alternate,ne!==null&&(ne.lanes|=g),vn(E.return,g,l),G.lanes|=g;break}ne=ne.next}}else if(E.tag===10)O=E.type===l.type?null:E.child;else if(E.tag===18){if(O=E.return,O===null)throw Error(t(341));O.lanes|=g,G=O.alternate,G!==null&&(G.lanes|=g),vn(O,g,l),O=E.sibling}else O=E.child;if(O!==null)O.return=E;else for(O=E;O!==null;){if(O===l){O=null;break}if(E=O.sibling,E!==null){E.return=O.return,O=E;break}O=O.return}E=O}mn(a,l,k.children,g),l=l.child}return l;case 9:return k=l.type,y=l.pendingProps.children,Eo(l,g),k=Mi(k),y=y(k),l.flags|=1,mn(a,l,y,g),l.child;case 14:return y=l.type,k=Li(y,l.pendingProps),k=Li(y.type,k),F0(a,l,y,k,g);case 15:return wa(a,l,l.type,l.pendingProps,g);case 17:return y=l.type,k=l.pendingProps,k=l.elementType===y?k:Li(y,k),Wu(a,l),l.tag=1,ti(y)?(a=!0,_i(l)):a=!1,Eo(l,g),vl(l,y,k),A0(l,y,k,g),V0(null,l,y,!0,a,g);case 19:return Lo(a,l,g);case 22:return O0(a,l,g)}throw Error(t(156,l.tag))};function Nh(a,l){return Rs(a,l)}function Cf(a,l,g,y){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(a,l,g,y){return new Cf(a,l,g,y)}function td(a){return a=a.prototype,!(!a||!a.isReactComponent)}function bf(a){if(typeof a=="function")return td(a)?1:0;if(a!=null){if(a=a.$$typeof,a===se)return 11;if(a===le)return 14}return 2}function ea(a,l){var g=a.alternate;return g===null?(g=Ai(a.tag,l,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=l,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,l=a.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function rd(a,l,g,y,k,E){var O=2;if(y=a,typeof a=="function")td(a)&&(O=1);else if(typeof a=="string")O=5;else e:switch(a){case D:return wl(g.children,k,E,l);case z:O=8,k|=8;break;case V:return a=Ai(12,g,l,k|2),a.elementType=V,a.lanes=E,a;case X:return a=Ai(13,g,l,k),a.elementType=X,a.lanes=E,a;case J:return a=Ai(19,g,l,k),a.elementType=J,a.lanes=E,a;case q:return nd(g,k,E,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case W:O=10;break e;case Q:O=9;break e;case se:O=11;break e;case le:O=14;break e;case j:O=16,y=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=Ai(O,g,l,k),l.elementType=a,l.type=y,l.lanes=E,l}function wl(a,l,g,y){return a=Ai(7,a,y,l),a.lanes=g,a}function nd(a,l,g,y){return a=Ai(22,a,y,l),a.elementType=q,a.lanes=g,a.stateNode={isHidden:!1},a}function t1(a,l,g){return a=Ai(6,a,null,l),a.lanes=g,a}function r1(a,l,g){return l=Ai(4,a.children!==null?a.children:[],a.key,l),l.lanes=g,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function wf(a,l,g,y,k){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ho(0),this.expirationTimes=ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.identifierPrefix=y,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function n1(a,l,g,y,k,E,O,G,ne){return a=new wf(a,l,g,G,ne),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Ai(3,null,null,l),a.current=E,E.stateNode=a,E.memoizedState={element:y,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Su(E),a}function _f(a,l,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:y==null?null:""+y,children:a,containerInfo:l,implementation:g}}function zh(a){if(!a)return ko;a=a._reactInternals;e:{if(ui(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ti(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var g=a.type;if(ti(g))return nh(a,g,l)}return l}function Vh(a,l,g,y,k,E,O,G,ne){return a=n1(g,y,!0,a,k,E,O,G,ne),a.context=zh(null),g=a.current,y=Hn(),k=Oo(g),E=Xa(y,k),E.callback=l??null,Ti(g,E,k),a.current.lanes=k,po(a,k,y),ai(a,y),a}function id(a,l,g,y){var k=l.current,E=Hn(),O=Oo(k);return g=zh(g),l.context===null?l.context=g:l.pendingContext=g,l=Xa(E,O),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Ti(k,l,O),a!==null&&(Ji(a,k,O,E),Mu(a,k,O)),O}function ad(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Bh(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<l?g:l}}function i1(a,l){Bh(a,l),(a=a.alternate)&&Bh(a,l)}function kf(){return null}var $h=typeof reportError=="function"?reportError:function(a){console.error(a)};function od(a){this._internalRoot=a}Pc.prototype.render=od.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));id(a,l,null,null)},Pc.prototype.unmount=od.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;xl(function(){id(null,a,null,null)}),l[pi]=null}};function Pc(a){this._internalRoot=a}Pc.prototype.unstable_scheduleHydration=function(a){if(a){var l=Yl();a={blockedOn:null,target:a,priority:l};for(var g=0;g<Yi.length&&l!==0&&l<Yi[g].priority;g++);Yi.splice(g,0,a),g===0&&Xs(a)}};function a1(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ld(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Wh(){}function Sf(a,l,g,y,k){if(k){if(typeof y=="function"){var E=y;y=function(){var ge=ad(O);E.call(ge)}}var O=Vh(l,y,a,0,null,!1,!1,"",Wh);return a._reactRootContainer=O,a[pi]=O.current,Co(a.nodeType===8?a.parentNode:a),xl(),O}for(;k=a.lastChild;)a.removeChild(k);if(typeof y=="function"){var G=y;y=function(){var ge=ad(ne);G.call(ge)}}var ne=n1(a,0,!1,null,null,!1,!1,"",Wh);return a._reactRootContainer=ne,a[pi]=ne.current,Co(a.nodeType===8?a.parentNode:a),xl(function(){id(l,ne,g,y)}),ne}function _l(a,l,g,y,k){var E=g._reactRootContainer;if(E){var O=E;if(typeof k=="function"){var G=k;k=function(){var ne=ad(O);G.call(ne)}}id(l,O,a,k)}else O=Sf(g,l,a,k,y);return ad(O)}Hl=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var g=Ra(l.pendingLanes);g!==0&&(fo(l,g|1),ai(l,vr()),(Zt&6)===0&&(yl=vr()+500,So()))}break;case 13:xl(function(){var y=Ya(a,1);if(y!==null){var k=Hn();Ji(y,a,1,k)}}),i1(a,1)}},Jo=function(a){if(a.tag===13){var l=Ya(a,134217728);if(l!==null){var g=Hn();Ji(l,a,134217728,g)}i1(a,134217728)}},Hs=function(a){if(a.tag===13){var l=Oo(a),g=Ya(a,l);if(g!==null){var y=Hn();Ji(g,a,l,y)}i1(a,l)}},Yl=function(){return Xt},Xl=function(a,l){var g=Xt;try{return Xt=a,l()}finally{Xt=g}},gr=function(a,l,g){switch(l){case"input":if(mt(a,g),l=g.name,g.type==="radio"&&l!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<g.length;l++){var y=g[l];if(y!==a&&y.form===a.form){var k=vu(y);if(!k)throw Error(t(90));Ne(y),mt(y,k)}}}break;case"textarea":fn(a,g);break;case"select":l=g.value,l!=null&&Tt(a,!!g.multiple,l,!1)}},qn=Q0,It=xl;var Mf={usingClientEntryPoint:!1,Events:[In,St,vu,zr,Vr,Q0]},Ac={findFiberByHostInstance:pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ef={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=jo(a),a===null?null:a.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||kf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{qo=sd.inject(Ef),Pe=sd}catch{}}return Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mf,Ri.createPortal=function(a,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a1(l))throw Error(t(200));return _f(a,l,null,g)},Ri.createRoot=function(a,l){if(!a1(a))throw Error(t(299));var g=!1,y="",k=$h;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(k=l.onRecoverableError)),l=n1(a,1,!1,null,null,g,!1,y,k),a[pi]=l.current,Co(a.nodeType===8?a.parentNode:a),new od(l)},Ri.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=jo(l),a=a===null?null:a.stateNode,a},Ri.flushSync=function(a){return xl(a)},Ri.hydrate=function(a,l,g){if(!ld(l))throw Error(t(200));return _l(null,a,l,!0,g)},Ri.hydrateRoot=function(a,l,g){if(!a1(a))throw Error(t(405));var y=g!=null&&g.hydratedSources||null,k=!1,E="",O=$h;if(g!=null&&(g.unstable_strictMode===!0&&(k=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onRecoverableError!==void 0&&(O=g.onRecoverableError)),l=Vh(l,null,a,1,g??null,k,!1,E,O),a[pi]=l.current,Co(a),y)for(a=0;a<y.length;a++)g=y[a],k=g._getVersion,k=k(g._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[g,k]:l.mutableSourceEagerHydrationData.push(g,k);return new Pc(l)},Ri.render=function(a,l,g){if(!ld(l))throw Error(t(200));return _l(null,a,l,!1,g)},Ri.unmountComponentAtNode=function(a){if(!ld(a))throw Error(t(40));return a._reactRootContainer?(xl(function(){_l(null,null,a,!1,function(){a._reactRootContainer=null,a[pi]=null})}),!0):!1},Ri.unstable_batchedUpdates=Q0,Ri.unstable_renderSubtreeIntoContainer=function(a,l,g,y){if(!ld(g))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return _l(a,l,g,!1,y)},Ri.version="18.3.1-next-f1338f8080-20240426",Ri}var Qv;function l6(){if(Qv)return Wf.exports;Qv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Wf.exports=o6(),Wf.exports}var Jv;function s6(){if(Jv)return Xh;Jv=1;var e=l6();return Xh.createRoot=e.createRoot,Xh.hydrateRoot=e.hydrateRoot,Xh}var c6=s6(),u6=Object.defineProperty,d6=(e,r,t)=>r in e?u6(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,De=(e,r,t)=>(d6(e,typeof r!="symbol"?r+"":r,t),t);/**
     * @license
     * KLineChart v10.0.0-alpha8
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */var mg=function(e,r){return mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},mg(e,r)};function Lt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");mg(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var je=function(){return je=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},je.apply(this,arguments)};function mp(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function y2(e,r,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function u(p){try{h(n.next(p))}catch(v){s(v)}}function d(p){try{h(n.throw(p))}catch(v){s(v)}}function h(p){p.done?o(p.value):i(p.value).then(u,d)}h((n=n.apply(e,[])).next())})}function x2(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return d([h,p])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(t=0)),t;)try{if(n=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=r.call(e,t)}catch(p){h=[6,p],i=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function oo(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function A1(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o}function Fp(e,r,t){if(arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function pn(e,r){if(!(!ro(e)&&!ro(r))){for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=e[t],i=r[t];ro(i)&&ro(n)?pn(n,i):me(r[t])&&(e[t]=Pd(r[t]))}}}function Pd(e){if(!ro(e))return e;var r=null;Bo(e)?r=[]:r={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];ro(n)?r[t]=Pd(n):r[t]=n}return r}function Bo(e){return Object.prototype.toString.call(e)==="[object Array]"}function ci(e){return typeof e=="function"}function ro(e){return typeof e=="object"&&me(e)}function lt(e){return typeof e=="number"&&Number.isFinite(e)}function me(e){return e!=null}function S1(e){return typeof e=="boolean"}function or(e){return typeof e=="string"}function Ad(e){return e==="transparent"||e==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(e)||/^[hH][Ss][Ll][Aa]\(([\s]*(3603[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(e)}function Ts(e,r){var t=e.replace(/^#/,""),n=parseInt(t,16),i=n>>16&255,o=n>>8&255,s=n&255;return"rgba(".concat(i,", ").concat(o,", ").concat(s,", ").concat(r??1,")")}var ct={RED:"#F92855",GREEN:"#2DC08E",WHITE:"#FFFFFF",GREY:"#76808F",BLUE:"#1677FF"};function h6(){return{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]}}}function p6(){var e={show:!0,color:ct.GREY,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"};return{type:"candle_solid",bar:{compareRule:"current_open",upColor:ct.GREEN,downColor:ct.RED,noChangeColor:ct.GREY,upBorderColor:ct.GREEN,downBorderColor:ct.RED,noChangeBorderColor:ct.GREY,upWickColor:ct.GREEN,downWickColor:ct.RED,noChangeWickColor:ct.GREY},area:{lineSize:2,lineColor:ct.BLUE,smooth:!1,value:"close",backgroundColor:[{offset:0,color:Ts(ct.BLUE,.01)},{offset:1,color:Ts(ct.BLUE,.2)}],point:{show:!0,color:ct.BLUE,radius:4,rippleColor:Ts(ct.BLUE,.3),rippleRadius:8,animation:!0,animationDuration:1e3}},priceMark:{show:!0,high:je({},e),low:je({},e),last:{show:!0,compareRule:"current_open",upColor:ct.GREEN,downColor:ct.RED,noChangeColor:ct.GREY,line:{show:!0,style:"dashed",dashedValue:[4,4],size:1},text:{show:!0,style:"fill",size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:"solid",borderSize:0,borderDashedValue:[2,2],color:ct.WHITE,family:"Helvetica Neue",weight:"normal",borderRadius:2},extendTexts:[]}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",rect:{position:"fixed",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,offsetLeft:4,offsetTop:4,offsetRight:4,offsetBottom:4,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},title:{show:!0,size:14,family:"Helvetica Neue",weight:"normal",color:ct.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,template:"{ticker}  {period}"},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:ct.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a",template:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}]},features:[]},renko:{brick:{size:10}}}}function f6(){var e=Ts(ct.GREEN,.7),r=Ts(ct.RED,.7);return{ohlc:{compareRule:"current_open",upColor:e,downColor:r,noChangeColor:ct.GREY},bars:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:e,downColor:r,noChangeColor:ct.GREY}],lines:["#FF9600","#935EBD",ct.BLUE,"#E11D74","#01C5C4"].map(function(t){return{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:t}}),circles:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:e,downColor:r,noChangeColor:ct.GREY}],lastValueMark:{show:!1,text:{show:!1,style:"fill",color:ct.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",title:{show:!0,showName:!0,showParams:!0,size:12,family:"Helvetica Neue",weight:"normal",color:ct.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:ct.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a"},features:[]}}}function em(){return{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:ct.GREY,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}}}function g6(){return{show:!0,horizontal:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:ct.GREY},text:{show:!0,style:"fill",color:ct.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:ct.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ct.GREY},features:[]},vertical:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:ct.GREY},text:{show:!0,style:"fill",color:ct.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:ct.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ct.GREY}}}}function v6(){var e=Ts(ct.BLUE,.35),r=Ts(ct.BLUE,.25);function t(){return{style:"fill",color:ct.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:ct.BLUE,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ct.BLUE}}return{point:{color:ct.BLUE,borderColor:e,borderSize:1,radius:5,activeColor:ct.BLUE,activeBorderColor:e,activeBorderSize:3,activeRadius:5},line:{style:"solid",smooth:!1,color:ct.BLUE,size:1,dashedValue:[2,2]},rect:{style:"fill",color:r,borderColor:ct.BLUE,borderSize:1,borderRadius:0,borderStyle:"solid",borderDashedValue:[2,2]},polygon:{style:"fill",color:ct.BLUE,borderColor:ct.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},circle:{style:"fill",color:r,borderColor:ct.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},arc:{style:"solid",color:ct.BLUE,size:1,dashedValue:[2,2]},text:t()}}function m6(){return{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:Ts(ct.BLUE,.08)}}function C2(){return{grid:h6(),candle:p6(),indicator:f6(),xAxis:em(),yAxis:em(),separator:m6(),crosshair:g6(),overlay:v6()}}var y6=/\\(\\)?/g,x6=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function wn(e,r,t){if(me(e)){var n=[];r.replace(x6,function(u){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var p=u;return me(d[1])?p=d[2].replace(y6,"$1"):me(d[0])&&(p=d[0].trim()),n.push(p),""});for(var i=e,o=0,s=n.length;me(i)&&o<s;)i=i==null?void 0:i[n[o++]];return me(i)?i:t??"--"}return t??"--"}function C6(e,r){var t={};return e.formatToParts(new Date(r)).forEach(function(n){var i=n.type,o=n.value;switch(i){case"year":{t.YYYY=o;break}case"month":{t.MM=o;break}case"day":{t.DD=o;break}case"hour":{t.HH=o==="24"?"00":o;break}case"minute":{t.mm=o;break}case"second":{t.ss=o;break}}}),t}function b2(e,r,t){var n=C6(e,r);return t.replace(/YYYY|MM|DD|HH|mm|ss/g,function(i){return n[i]})}function jn(e,r){var t=+e;return lt(t)?t.toFixed(r??2):"".concat(e)}function w2(e){var r=+e;if(lt(r)){if(r>1e9)return"".concat(+(r/1e9).toFixed(3),"B");if(r>1e6)return"".concat(+(r/1e6).toFixed(3),"M");if(r>1e3)return"".concat(+(r/1e3).toFixed(3),"K")}return"".concat(e)}function _2(e,r){var t="".concat(e);if(r.length===0)return t;if(t.includes(".")){var n=t.split(".");return"".concat(n[0].replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(r)}),".").concat(n[1])}return t.replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(r)})}function k2(e,r){var t="".concat(e),n=new RegExp("\\.0{"+r+",}[1-9][0-9]*$");if(n.test(t)){var i=t.split("."),o=i.length-1,s=i[o],u=/0*/.exec(s);if(me(u)){var d=u[0].length;return i[o]=s.replace(/0*/,"0{".concat(d,"}")),i.join(".")}}return t}function tm(e,r){return e.replace(/\{(\w+)\}/g,function(t,n){var i=r[n];return me(i)?i:"{".concat(n,"}")})}var s1=null;function Is(e){var r,t;return(t=(r=e.ownerDocument.defaultView)===null||r===void 0?void 0:r.devicePixelRatio)!==null&&t!==void 0?t:1}function Vc(e,r,t){return"".concat(r??"normal"," ").concat(e??12,"px ").concat(t??"Helvetica Neue")}function no(e,r,t,n){if(!me(s1)){var i=document.createElement("canvas"),o=Is(i);s1=i.getContext("2d"),s1.scale(o,o)}return s1.font=Vc(r,t,n),Math.round(s1.measureText(e).width)}function yp(e){var r={width:0,height:0,left:0,right:0,top:0,bottom:0};return me(e)&&pn(r,e),r}var Ed=-1;function xp(e){return ci(window.requestAnimationFrame)?window.requestAnimationFrame(e):window.setTimeout(e,20)}function rm(e){ci(window.cancelAnimationFrame)?window.cancelAnimationFrame(e):window.clearTimeout(e)}function nm(e){if(ci(window.requestIdleCallback))return window.requestIdleCallback(e);var r=performance.now();return window.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-r))}})},1)}function b6(e){ci(window.cancelIdleCallback)?window.cancelIdleCallback(e):window.clearTimeout(e)}var yg=function(){function e(r){this._options={duration:500,iterationCount:1},this._currentIterationCount=0,this._running=!1,this._time=0,pn(this._options,r)}return e.prototype._loop=function(){var r=this;this._running=!0;var t=function(){var n;if(r._running){var i=new Date().getTime()-r._time;i<r._options.duration?((n=r._doFrameCallback)===null||n===void 0||n.call(r,i),xp(t)):(r.stop(),r._currentIterationCount++,r._currentIterationCount<r._options.iterationCount&&r.start())}};xp(t)},e.prototype.doFrame=function(r){return this._doFrameCallback=r,this},e.prototype.setDuration=function(r){return this._options.duration=r,this},e.prototype.setIterationCount=function(r){return this._options.iterationCount=r,this},e.prototype.start=function(){this._running||(this._time=new Date().getTime(),this._loop())},e.prototype.stop=function(){var r;this._running&&((r=this._doFrameCallback)===null||r===void 0||r.call(this,this._options.duration)),this._running=!1},e}(),Yf=1,im=new Date().getTime();function op(e){var r=new Date().getTime();return r===im?++Yf:Yf=1,im=r,"".concat(e??"").concat(r,"_").concat(Yf)}function Rl(e,r){var t,n=document.createElement(e),i=r??{};for(var o in i)n.style[o]=(t=i[o])!==null&&t!==void 0?t:"";return n}function xg(e,r,t){var n=0,i=0;for(i=e.length-1;n!==i;){var o=Math.floor((i+n)/2),s=i-n,u=e[o][r];if(t===e[n][r])return n;if(t===e[i][r])return i;if(t===u)return o;if(t>u?n=o:i=o,s<=2)break}return n}function w6(e){var r=Math.floor(Tl(e)),t=Rc(r),n=e/t,i=0;return n<1.5?i=1:n<2.5?i=2:n<3.5?i=3:n<4.5?i=4:n<5.5?i=5:n<6.5?i=6:i=8,e=i*t,+e.toFixed(Math.abs(r))}function am(e,r){r=Math.max(0,r??0);var t=Math.pow(10,r);return Math.round(e*t)/t}function _6(e){var r=e.toString(),t=r.indexOf("e");if(t>0){var n=+r.slice(t+1);return n<0?-n:0}var i=r.indexOf(".");return i<0?0:r.length-1-i}function S2(e,r,t){for(var n,i,o=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],s=e.length,u=0;u<s;){var d=e[u];o[0]=Math.max((n=d[r])!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER,o[0]),o[1]=Math.min((i=d[t])!==null&&i!==void 0?i:Number.MAX_SAFE_INTEGER,o[1]),++u}return o}function Tl(e){return e===0?0:Math.log10(e)}function Rc(e){return Math.pow(10,e)}function om(){return{from:0,to:0,realFrom:0,realTo:0}}function lm(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.join("_")}var k6=function(){function e(r){this._requestIdleCallbackId=Ed,this._tasks=r??[],this._operateTasks()}return e.prototype._operateTasks=function(r){var t=this;this._requestIdleCallbackId!==Ed&&(b6(this._requestIdleCallbackId),this._requestIdleCallbackId=Ed),r==null||r(),this._requestIdleCallbackId=nm(function(n){t._runTasks(n)})},e.prototype._runTasks=function(r){for(var t=this;r.timeRemaining()>0&&this._tasks.length>0;){var n=this._tasks.shift();n==null||n.handler()}this._tasks.length>0&&(this._requestIdleCallbackId=nm(function(i){t._runTasks(i)}))},e.prototype.addTask=function(r){var t=this;return this._operateTasks(function(){var n=t._tasks.findIndex(function(i){return i.id===r.id});n>-1?t._tasks[n]=r:t._tasks.push(r)}),this},e.prototype.removeTask=function(r){var t=this;return me(r)&&this._operateTasks(function(){if(me(r)){var n=t._tasks.findIndex(function(i){return i.id===r});n>-1&&t._tasks.splice(n,1)}else t._tasks=[]}),this},e}(),S6=function(){function e(){this._callbacks=[]}return e.prototype.subscribe=function(r){var t=this._callbacks.indexOf(r);t<0&&this._callbacks.push(r)},e.prototype.unsubscribe=function(r){if(ci(r)){var t=this._callbacks.indexOf(r);t>-1&&this._callbacks.splice(t,1)}else this._callbacks=[]},e.prototype.execute=function(r){this._callbacks.forEach(function(t){t(r)})},e.prototype.isEmpty=function(){return this._callbacks.length===0},e}();function Rg(e,r,t,n){var i=e.result,o=e.figures,s=e.styles,u=wn(s,"circles",t.circles),d=u.length,h=wn(s,"bars",t.bars),p=h.length,v=wn(s,"lines",t.lines),m=v.length,C=0,b=0,w=0,_,S=0;o.forEach(function(M){var I,A,P,$;switch(M.type){case"circle":{S=C;var D=u[C%d];_=je(je({},D),{color:D.noChangeColor}),C++;break}case"bar":{S=b;var z=h[b%p];_=je(je({},z),{color:z.noChangeColor}),b++;break}case"line":{S=w,_=v[w%m],w++;break}}if(me(M.type)){var V=(I=M.styles)===null||I===void 0?void 0:I.call(M,{data:{prev:i[(A=r.prev)!==null&&A!==void 0?A:""],current:i[(P=r.current)!==null&&P!==void 0?P:""],next:i[($=r.next)!==null&&$!==void 0?$:""]},indicator:e,defaultStyles:t});n(M,je(je({},_),V),S)}})}var M2=function(){function e(r){this.precision=4,this.calcParams=[],this.shouldOhlc=!1,this.shouldFormatBigNumber=!1,this.visible=!0,this.zLevel=0,this.series="normal",this.figures=[],this.minValue=null,this.maxValue=null,this.styles=null,this.shouldUpdate=function(t,n){var i=JSON.stringify(t.calcParams)!==JSON.stringify(n.calcParams)||t.figures!==n.figures||t.calc!==n.calc,o=i||t.shortName!==n.shortName||t.series!==n.series||t.minValue!==n.minValue||t.maxValue!==n.maxValue||t.precision!==n.precision||t.shouldOhlc!==n.shouldOhlc||t.shouldFormatBigNumber!==n.shouldFormatBigNumber||t.visible!==n.visible||t.zLevel!==n.zLevel||t.extendData!==n.extendData||t.regenerateFigures!==n.regenerateFigures||t.createTooltipDataSource!==n.createTooltipDataSource||t.draw!==n.draw;return{calc:i,draw:o}},this.calc=function(){return{}},this.regenerateFigures=null,this.createTooltipDataSource=null,this.draw=null,this.onDataStateChange=null,this.result={},this._lockSeriesPrecision=!1,this.override(r),this._lockSeriesPrecision=!1}return e.prototype.override=function(r){var t,n,i=this,o=i.result,s=mp(i,["result"]);this._prevIndicator=je(je({},Pd(s)),{result:o});var u=r.id,d=r.name,h=r.shortName,p=r.precision,v=r.styles,m=r.figures,C=r.calcParams,b=mp(r,["id","name","shortName","precision","styles","figures","calcParams"]);!or(this.id)&&or(u)&&(this.id=u),or(this.name)||(this.name=d??""),this.shortName=(t=h??this.shortName)!==null&&t!==void 0?t:this.name,lt(p)&&(this.precision=p,this._lockSeriesPrecision=!0),me(v)&&((n=this.styles)!==null&&n!==void 0||(this.styles={}),pn(this.styles,v)),pn(this,b),me(C)&&(this.calcParams=C,ci(this.regenerateFigures)&&(this.figures=this.regenerateFigures(this.calcParams))),this.figures=m??this.figures},e.prototype.setSeriesPrecision=function(r){this._lockSeriesPrecision||(this.precision=r)},e.prototype.shouldUpdateImp=function(){var r=this._prevIndicator.zLevel!==this.zLevel,t=this.shouldUpdate(this._prevIndicator,this);return S1(t)?{calc:t,draw:t,sort:r}:je(je({},t),{sort:r})},e.prototype.calcImp=function(r){return y2(this,void 0,void 0,function(){var t;return x2(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.calc(r,this)];case 1:return t=n.sent(),this.result=t,[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}})})},e.extend=function(r){var t=function(n){Lt(i,n);function i(){return n.call(this,r)||this}return i}(e);return t},e}(),M6={name:"AVP",shortName:"AVP",series:"price",precision:2,styles:{lines:[{color:"#A020F0",size:1}]},figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(e){var r=0,t=0;return e.reduce(function(n,i){var o,s,u={},d=(o=i.turnover)!==null&&o!==void 0?o:0,h=(s=i.volume)!==null&&s!==void 0?s:0;return r+=d,t+=h,t!==0&&(u.avp=r/t),n[i.timestamp]=u,n},{})}},E6={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(e){var r,t,n=e.data,i=e.indicator,o=e.defaultStyles,s=n.prev,u=n.current,d=(r=s==null?void 0:s.ao)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(t=u==null?void 0:u.ao)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,p="";h>d?p=wn(i.styles,"bars[0].upColor",o.bars[0].upColor):p=wn(i.styles,"bars[0].downColor",o.bars[0].downColor);var v=h>d?"stroke":"fill";return{color:p,style:v,borderColor:p}}}],calc:function(e,r){var t=r.calcParams,n=Math.max(t[0],t[1]),i=0,o=0,s=0,u=0;return e.reduce(function(d,h,p){var v={},m=(h.low+h.high)/2;if(i+=m,o+=m,p>=t[0]-1){s=i/t[0];var C=e[p-(t[0]-1)];i-=(C.low+C.high)/2}if(p>=t[1]-1){u=o/t[1];var C=e[p-(t[1]-1)];o-=(C.low+C.high)/2}return p>=n-1&&(v.ao=s-u),d[h.timestamp]=v,d},{})}},T6={name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"bias".concat(t+1),title:"BIAS".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[];return e.reduce(function(o,s,u){var d={},h=s.close;return t.forEach(function(p,v){var m;if(i[v]=((m=i[v])!==null&&m!==void 0?m:0)+h,u>=p-1){var C=i[v]/t[v];d[n[v].key]=(h-C)/C*100,i[v]-=e[u-(p-1)].close}}),o[s.timestamp]=d,o},{})}};function I6(e,r){var t=e.length,n=0;return e.forEach(function(i){var o=i.close-r;n+=o*o}),n=Math.abs(n),Math.sqrt(n/t)}var L6={name:"BOLL",shortName:"BOLL",series:"price",calcParams:[20,2],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=t[0]-1,i=0;return e.reduce(function(o,s,u){var d=s.close,h={};if(i+=d,u>=n){h.mid=i/t[0];var p=I6(e.slice(u-n,u+1),h.mid);h.up=h.mid+t[1]*p,h.dn=h.mid-t[1]*p,i-=e[u-n].close}return o[s.timestamp]=h,o},{})}},P6={name:"BRAR",shortName:"BRAR",calcParams:[26],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0;return e.reduce(function(u,d,h){var p,v,m={},C=d.high,b=d.low,w=d.open,_=((p=e[h-1])!==null&&p!==void 0?p:d).close;if(o+=C-w,s+=w-b,n+=C-_,i+=_-b,h>=t[0]-1){s!==0?m.ar=o/s*100:m.ar=0,i!==0?m.br=n/i*100:m.br=0;var S=e[h-(t[0]-1)],M=S.high,I=S.low,A=S.open,P=((v=e[h-t[0]])!==null&&v!==void 0?v:e[h-(t[0]-1)]).close;n-=M-P,i-=P-I,o-=M-A,s-=A-I}return u[d.timestamp]=m,u},{})}},A6={name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.max.apply(Math,Fp([],A1(t),!1)),i=[],o=[];return e.reduce(function(s,u,d){var h={},p=u.close;if(t.forEach(function(m,C){var b;i[C]=((b=i[C])!==null&&b!==void 0?b:0)+p,d>=m-1&&(o[C]=i[C]/m,i[C]-=e[d-(m-1)].close)}),d>=n-1){var v=0;o.forEach(function(m){v+=m}),h.bbi=v/4}return s[u.timestamp]=h,s},{})}},D6={name:"CCI",shortName:"CCI",calcParams:[20],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=t[0]-1,i=0,o=[];return e.reduce(function(s,u,d){var h={},p=(u.high+u.low+u.close)/3;if(i+=p,o.push(p),d>=n){var v=i/t[0],m=o.slice(d-n,d+1),C=0;m.forEach(function(_){C+=Math.abs(_-v)});var b=C/t[0];h.cci=b!==0?(p-v)/b/.015:0;var w=(e[d-n].high+e[d-n].low+e[d-n].close)/3;i-=w}return s[u.timestamp]=h,s},{})}},F6={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#FFFF00",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.ceil(t[1]/2.5+1),i=Math.ceil(t[2]/2.5+1),o=Math.ceil(t[3]/2.5+1),s=Math.ceil(t[4]/2.5+1),u=0,d=[],h=0,p=[],v=0,m=[],C=0,b=[],w=[],_={};return e.forEach(function(S,M){var I,A,P,$,D,z={},V=(I=e[M-1])!==null&&I!==void 0?I:S,W=(V.high+V.close+V.low+V.open)/4,Q=Math.max(0,S.high-W),se=Math.max(0,W-S.low);M>=t[0]-1&&(se!==0?z.cr=Q/se*100:z.cr=0,u+=z.cr,h+=z.cr,v+=z.cr,C+=z.cr,M>=t[0]+t[1]-2&&(d.push(u/t[1]),M>=t[0]+t[1]+n-3&&(z.ma1=d[d.length-1-n]),u-=(A=w[M-(t[1]-1)].cr)!==null&&A!==void 0?A:0),M>=t[0]+t[2]-2&&(p.push(h/t[2]),M>=t[0]+t[2]+i-3&&(z.ma2=p[p.length-1-i]),h-=(P=w[M-(t[2]-1)].cr)!==null&&P!==void 0?P:0),M>=t[0]+t[3]-2&&(m.push(v/t[3]),M>=t[0]+t[3]+o-3&&(z.ma3=m[m.length-1-o]),v-=($=w[M-(t[3]-1)].cr)!==null&&$!==void 0?$:0),M>=t[0]+t[4]-2&&(b.push(C/t[4]),M>=t[0]+t[4]+s-3&&(z.ma4=b[b.length-1-s]),C-=(D=w[M-(t[4]-1)].cr)!==null&&D!==void 0?D:0)),w.push(z),_[S.timestamp]=z}),_}},O6={name:"DMA",shortName:"DMA",calcParams:[10,50,10],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.max(t[0],t[1]),i=0,o=0,s=0,u=[],d={};return e.forEach(function(h,p){var v,m={},C=h.close;i+=C,o+=C;var b=0,w=0;if(p>=t[0]-1&&(b=i/t[0],i-=e[p-(t[0]-1)].close),p>=t[1]-1&&(w=o/t[1],o-=e[p-(t[1]-1)].close),p>=n-1){var _=b-w;m.dma=_,s+=_,p>=n+t[2]-2&&(m.ama=s/t[2],s-=(v=u[p-(t[2]-1)].dma)!==null&&v!==void 0?v:0)}u.push(m),d[h.timestamp]=m}),d}},R6={name:"DMI",shortName:"DMI",calcParams:[14,6],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=0,p=0,v=[],m={};return e.forEach(function(C,b){var w,_,S={},M=(w=e[b-1])!==null&&w!==void 0?w:C,I=M.close,A=C.high,P=C.low,$=A-P,D=Math.abs(A-I),z=Math.abs(I-P),V=A-M.high,W=M.low-P,Q=Math.max(Math.max($,D),z),se=V>0&&V>W?V:0,X=W>0&&W>V?W:0;if(n+=Q,i+=se,o+=X,b>=t[0]-1){b>t[0]-1?(s=s-s/t[0]+Q,u=u-u/t[0]+se,d=d-d/t[0]+X):(s=n,u=i,d=o);var J=0,le=0;s!==0&&(J=u*100/s,le=d*100/s),S.pdi=J,S.mdi=le;var j=0;le+J!==0&&(j=Math.abs(le-J)/(le+J)*100),h+=j,b>=t[0]*2-2&&(b>t[0]*2-2?p=(p*(t[0]-1)+j)/t[0]:p=h/t[0],S.adx=p,b>=t[0]*2+t[1]-3&&(S.adxr=(((_=v[b-(t[1]-1)].adx)!==null&&_!==void 0?_:0)+p)/2))}v.push(S),m[C.timestamp]=S}),m}},N6={name:"EMV",shortName:"EMV",calcParams:[14,9],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=[];return e.reduce(function(o,s,u){var d,h={};if(u>0){var p=e[u-1],v=s.high,m=s.low,C=(d=s.volume)!==null&&d!==void 0?d:0,b=(v+m)/2-(p.high+p.low)/2;if(C===0||v-m===0)h.emv=0;else{var w=C/1e8/(v-m);h.emv=b/w}n+=h.emv,i.push(h.emv),u>=t[0]&&(h.maEmv=n/t[0],n-=i[u-t[0]])}return o[s.timestamp]=h,o},{})}},z6={name:"EMA",shortName:"EMA",series:"price",calcParams:[6,12,20],styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"ema".concat(t+1),title:"EMA".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=0,o=[];return e.reduce(function(s,u,d){var h={},p=u.close;return i+=p,t.forEach(function(v,m){d>=v-1&&(d>v-1?o[m]=(2*p+(v-1)*o[m])/(v+1):o[m]=i/v,h[n[m].key]=o[m])}),s[u.timestamp]=h,s},{})}},V6={name:"MTM",shortName:"MTM",calcParams:[12,6],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=[],o={};return e.forEach(function(s,u){var d,h={};if(u>=t[0]){var p=s.close,v=e[u-t[0]].close;h.mtm=p-v,n+=h.mtm,u>=t[0]+t[1]-1&&(h.maMtm=n/t[1],n-=(d=i[u-(t[1]-1)].mtm)!==null&&d!==void 0?d:0)}i.push(h),o[s.timestamp]=h}),o}},B6={name:"MA",shortName:"MA",series:"price",calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"ma".concat(t+1),title:"MA".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[];return e.reduce(function(o,s,u){var d={},h=s.close;return t.forEach(function(p,v){var m;i[v]=((m=i[v])!==null&&m!==void 0?m:0)+h,u>=p-1&&(d[n[v].key]=i[v]/p,i[v]-=e[u-(p-1)].close)}),o[s.timestamp]=d,o},{})}},$6={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(e){var r,t,n=e.data,i=e.indicator,o=e.defaultStyles,s=n.prev,u=n.current,d=(r=s==null?void 0:s.macd)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(t=u==null?void 0:u.macd)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,p="";h>0?p=wn(i.styles,"bars[0].upColor",o.bars[0].upColor):h<0?p=wn(i.styles,"bars[0].downColor",o.bars[0].downColor):p=wn(i.styles,"bars[0].noChangeColor",o.bars[0].noChangeColor);var v=d<h?"stroke":"fill";return{style:v,color:p,borderColor:p}}}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=Math.max(t[0],t[1]);return e.reduce(function(p,v,m){var C={},b=v.close;return n+=b,m>=t[0]-1&&(m>t[0]-1?i=(2*b+(t[0]-1)*i)/(t[0]+1):i=n/t[0]),m>=t[1]-1&&(m>t[1]-1?o=(2*b+(t[1]-1)*o)/(t[1]+1):o=n/t[1]),m>=h-1&&(s=i-o,C.dif=s,u+=s,m>=h+t[2]-2&&(m>h+t[2]-2?d=(s*2+d*(t[2]-1))/(t[2]+1):d=u/t[2],C.macd=(s-d)*2,C.dea=d)),p[v.timestamp]=C,p},{})}},W6={name:"OBV",shortName:"OBV",calcParams:[30],styles:{lines:[{color:"#A020F0",size:1},{color:"#007FFF",size:1}]},figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=[],s={};return e.forEach(function(u,d){var h,p,v,m,C=(h=e[d-1])!==null&&h!==void 0?h:u;u.close<C.close?i-=(p=u.volume)!==null&&p!==void 0?p:0:u.close>C.close&&(i+=(v=u.volume)!==null&&v!==void 0?v:0);var b={obv:i};n+=i,d>=t[0]-1&&(b.maObv=n/t[0],n-=(m=o[d-(t[0]-1)].obv)!==null&&m!==void 0?m:0),o.push(b),s[u.timestamp]=b}),s}},U6={name:"PVT",shortName:"PVT",styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(e){var r=0;return e.reduce(function(t,n,i){var o,s,u={},d=n.close,h=(o=n.volume)!==null&&o!==void 0?o:1,p=((s=e[i-1])!==null&&s!==void 0?s:n).close,v=0,m=p*h;return m!==0&&(v=(d-p)/m),r+=v,u.pvt=r,t[n.timestamp]=u,t},{})}},H6={name:"PSY",shortName:"PSY",calcParams:[12,6],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=[],s=[],u={};return e.forEach(function(d,h){var p,v,m={},C=((p=e[h-1])!==null&&p!==void 0?p:d).close,b=d.close-C>0?1:0;o.push(b),n+=b,h>=t[0]-1&&(m.psy=n/t[0]*100,i+=m.psy,h>=t[0]+t[1]-2&&(m.maPsy=i/t[1],i-=(v=s[h-(t[1]-1)].psy)!==null&&v!==void 0?v:0),n-=o[h-(t[0]-1)]),s.push(m),u[d.timestamp]=m}),u}},Y6={name:"ROC",shortName:"ROC",calcParams:[12,6],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=[],i={},o=0;return e.forEach(function(s,u){var d,h,p={};if(u>=t[0]-1){var v=s.close,m=((d=e[u-t[0]])!==null&&d!==void 0?d:e[u-(t[0]-1)]).close;m!==0?p.roc=(v-m)/m*100:p.roc=0,o+=p.roc,u>=t[0]-1+t[1]-1&&(p.maRoc=o/t[1],o-=(h=n[u-(t[1]-1)].roc)!==null&&h!==void 0?h:0)}n.push(p),i[s.timestamp]=p}),i}},X6={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){var n=t+1;return{key:"rsi".concat(n),title:"RSI".concat(n,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[],o=[];return e.reduce(function(s,u,d){var h,p={},v=((h=e[d-1])!==null&&h!==void 0?h:u).close,m=u.close-v;return t.forEach(function(C,b){var w,_,S;if(m>0?i[b]=((w=i[b])!==null&&w!==void 0?w:0)+m:o[b]=((_=o[b])!==null&&_!==void 0?_:0)+Math.abs(m),d>=C-1){o[b]!==0?p[n[b].key]=100-100/(1+i[b]/o[b]):p[n[b].key]=0;var M=e[d-(C-1)],I=(S=e[d-C])!==null&&S!==void 0?S:M,A=M.close-I.close;A>0?i[b]-=A:o[b]-=Math.abs(A)}}),s[u.timestamp]=p,s},{})}},j6={name:"SMA",shortName:"SMA",series:"price",calcParams:[12,2],precision:2,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(e,r){var t=r.calcParams,n=0,i=0;return e.reduce(function(o,s,u){var d={},h=s.close;return n+=h,u>=t[0]-1&&(u>t[0]-1?i=(h*t[1]+i*(t[0]-t[1]+1))/(t[0]+1):i=n/t[0],d.sma=i),o[s.timestamp]=d,o},{})}},Z6={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=[],i={};return e.forEach(function(o,s){var u,d,h,p,v={},m=o.close;if(s>=t[0]-1){var C=S2(e.slice(s-(t[0]-1),s+1),"high","low"),b=C[0],w=C[1],_=b-w,S=(m-w)/(_===0?1:_)*100;v.k=((t[1]-1)*((d=(u=n[s-1])===null||u===void 0?void 0:u.k)!==null&&d!==void 0?d:50)+S)/t[1],v.d=((t[2]-1)*((p=(h=n[s-1])===null||h===void 0?void 0:h.d)!==null&&p!==void 0?p:50)+v.k)/t[2],v.j=3*v.k-2*v.d}n.push(v),i[o.timestamp]=v}),i}},G6={name:"SAR",shortName:"SAR",series:"price",calcParams:[2,2,20],precision:2,shouldOhlc:!0,styles:{circles:[{upColor:"#FF7F50",downColor:"#A020F0",noChangeColor:"#A8A8A8"}]},figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(e){var r,t,n,i=e.data,o=e.indicator,s=e.defaultStyles,u=i.current,d=(r=u==null?void 0:u.sar)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(((t=u==null?void 0:u.high)!==null&&t!==void 0?t:0)+((n=u==null?void 0:u.low)!==null&&n!==void 0?n:0))/2,p=d<h?wn(o.styles,"circles[0].upColor",s.circles[0].upColor):wn(o.styles,"circles[0].downColor",s.circles[0].downColor);return{color:p}}}],calc:function(e,r){var t=r.calcParams,n=t[0]/100,i=t[1]/100,o=t[2]/100,s=n,u=-100,d=!1,h=0;return e.reduce(function(p,v,m){var C=h,b=v.high,w=v.low;if(d){(u===-100||u<b)&&(u=b,s=Math.min(s+i,o)),h=C+s*(u-C);var _=Math.min(e[Math.max(1,m)-1].low,w);h>v.low?(h=u,s=n,u=-100,d=!d):h>_&&(h=_)}else{(u===-100||u>w)&&(u=w,s=Math.min(s+i,o)),h=C+s*(u-C);var S=Math.max(e[Math.max(1,m)-1].high,b);h<v.high?(h=u,s=0,u=-100,d=!d):h<S&&(h=S)}return p[v.timestamp]={high:b,low:w,sar:h},p},{})}},q6={name:"TRIX",shortName:"TRIX",calcParams:[12,9],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=0,p=[],v={};return e.forEach(function(m,C){var b,w={},_=m.close;if(n+=_,C>=t[0]-1&&(C>t[0]-1?i=(2*_+(t[0]-1)*i)/(t[0]+1):i=n/t[0],u+=i,C>=t[0]*2-2&&(C>t[0]*2-2?o=(2*i+(t[0]-1)*o)/(t[0]+1):o=u/t[0],d+=o,C>=t[0]*3-3))){var S=0,M=0;C>t[0]*3-3?(S=(2*o+(t[0]-1)*s)/(t[0]+1),M=(S-s)/s*100):S=d/t[0],s=S,w.trix=M,h+=M,C>=t[0]*3+t[1]-4&&(w.maTrix=h/t[1],h-=(b=p[C-(t[1]-1)].trix)!==null&&b!==void 0?b:0)}p.push(w),v[m.timestamp]=w}),v}};function sm(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e){var r=e.data,t=e.indicator,n=e.defaultStyles,i=r.current,o=wn(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor);return me(i)&&(i.close>i.open?o=wn(t.styles,"bars[0].upColor",n.bars[0].upColor):i.close<i.open&&(o=wn(t.styles,"bars[0].downColor",n.bars[0].downColor))),{color:o}}}}var K6={name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},sm()],regenerateFigures:function(e){var r=e.map(function(t,n){return{key:"ma".concat(n+1),title:"MA".concat(t,": "),type:"line"}});return r.push(sm()),r},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[];return e.reduce(function(o,s,u){var d,h=(d=s.volume)!==null&&d!==void 0?d:0,p={volume:h,open:s.open,close:s.close};return t.forEach(function(v,m){var C,b;i[m]=((C=i[m])!==null&&C!==void 0?C:0)+h,u>=v-1&&(p[n[m].key]=i[m]/v,i[m]-=(b=e[u-(v-1)].volume)!==null&&b!==void 0?b:0)}),o[s.timestamp]=p,o},{})}},Q6={name:"VR",shortName:"VR",calcParams:[26,6],styles:{lines:[{color:"#FF6E6E",size:2},{color:"#FFD700",size:4}]},figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=[],d={};return e.forEach(function(h,p){var v,m,C,b,w,_={},S=h.close,M=((v=e[p-1])!==null&&v!==void 0?v:h).close,I=(m=h.volume)!==null&&m!==void 0?m:0;if(S>M?n+=I:S<M?i+=I:o+=I,p>=t[0]-1){var A=o/2;i+A===0?_.vr=0:_.vr=(n+A)/(i+A)*100,s+=_.vr,p>=t[0]+t[1]-2&&(_.maVr=s/t[1],s-=(C=u[p-(t[1]-1)].vr)!==null&&C!==void 0?C:0);var P=e[p-(t[0]-1)],$=(b=e[p-t[0]])!==null&&b!==void 0?b:P,D=P.close,z=(w=P.volume)!==null&&w!==void 0?w:0;D>$.close?n-=z:D<$.close?i-=z:o-=z}u.push(_),d[h.timestamp]=_}),d}},J6={name:"WR",shortName:"WR",calcParams:[6,10,14],styles:{lines:[{color:"#A020F0",size:1},{color:"#FFD700",size:1},{color:"#FF6E6E",size:1}]},figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures;return e.reduce(function(i,o,s){var u={},d=o.close;return t.forEach(function(h,p){var v=h-1;if(s>=v){var m=S2(e.slice(s-v,s+1),"high","low"),C=m[0],b=m[1],w=C-b;u[n[p].key]=w===0?0:(d-C)/w*100}}),i[o.timestamp]=u,i},{})}},Ng={},e8=[M6,E6,T6,L6,P6,A6,D6,F6,O6,R6,N6,z6,V6,B6,$6,W6,U6,H6,Y6,X6,j6,Z6,G6,q6,K6,Q6,J6];e8.forEach(function(e){Ng[e.name]=M2.extend(e)});function E2(e){Ng[e.name]=M2.extend(e)}function T2(e){var r;return(r=Ng[e])!==null&&r!==void 0?r:null}function to(e,r){var t,n=(t=r==null?void 0:r.ignoreEvent)!==null&&t!==void 0?t:!1;return S1(n)?!n:!n.includes(e)}var cm=1,c1=-1,t8="overlay_",dd="overlay_figure_",I2=function(){function e(r){this.groupId="",this.totalStep=1,this.currentStep=cm,this.lock=!1,this.visible=!0,this.zLevel=0,this.needDefaultPointFigure=!1,this.needDefaultXAxisFigure=!1,this.needDefaultYAxisFigure=!1,this.mode="normal",this.modeSensitivity=8,this.points=[],this.styles=null,this.createPointFigures=null,this.createXAxisFigures=null,this.createYAxisFigures=null,this.performEventPressedMove=null,this.performEventMoveForDrawing=null,this.onDrawStart=null,this.onDrawing=null,this.onDrawEnd=null,this.onClick=null,this.onDoubleClick=null,this.onRightClick=null,this.onPressedMoveStart=null,this.onPressedMoving=null,this.onPressedMoveEnd=null,this.onMouseMove=null,this.onMouseEnter=null,this.onMouseLeave=null,this.onRemoved=null,this.onSelected=null,this.onDeselected=null,this._prevZLevel=0,this._prevPressedPoint=null,this._prevPressedPoints=[],this.override(r)}return e.prototype.override=function(r){var t,n;this._prevOverlay=Pd(this);var i=r.id,o=r.name;r.currentStep;var s=r.points,u=r.styles,d=mp(r,["id","name","currentStep","points","styles"]);if(pn(this,d),or(this.name)||(this.name=o??""),!or(this.id)&&or(i)&&(this.id=i),me(u)&&((t=this.styles)!==null&&t!==void 0||(this.styles={}),pn(this.styles,u)),Bo(s)&&s.length>0){var h=0;if(this.points=Fp([],A1(s),!1),s.length>=this.totalStep-1?(this.currentStep=c1,h=this.totalStep-1):(this.currentStep=s.length+1,h=s.length),ci(this.performEventMoveForDrawing))for(var p=0;p<h;p++)this.performEventMoveForDrawing({currentStep:p+2,mode:this.mode,points:this.points,performPointIndex:p,performPoint:this.points[p]});this.currentStep===c1&&((n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}))}},e.prototype.getPrevZLevel=function(){return this._prevZLevel},e.prototype.setPrevZLevel=function(r){this._prevZLevel=r},e.prototype.shouldUpdate=function(){var r=this._prevOverlay.zLevel!==this.zLevel,t=r||JSON.stringify(this._prevOverlay.points)!==JSON.stringify(this.points)||this._prevOverlay.visible!==this.visible||this._prevOverlay.extendData!==this.extendData||this._prevOverlay.styles!==this.styles;return{sort:r,draw:t}},e.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=c1:this.currentStep++},e.prototype.forceComplete=function(){this.currentStep=c1},e.prototype.isDrawing=function(){return this.currentStep!==c1},e.prototype.isStart=function(){return this.currentStep===cm},e.prototype.eventMoveForDrawing=function(r){var t,n=this.currentStep-1,i={};lt(r.timestamp)&&(i.timestamp=r.timestamp),lt(r.dataIndex)&&(i.dataIndex=r.dataIndex),lt(r.value)&&(i.value=r.value),this.points[n]=i,(t=this.performEventMoveForDrawing)===null||t===void 0||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:n,performPoint:i})},e.prototype.eventPressedPointMove=function(r,t){var n;this.points[t].timestamp=r.timestamp,lt(r.value)&&(this.points[t].value=r.value),(n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},e.prototype.startPressedMove=function(r){this._prevPressedPoint=je({},r),this._prevPressedPoints=Pd(this.points)},e.prototype.eventPressedOtherMove=function(r,t){if(this._prevPressedPoint!==null){var n=null;lt(r.dataIndex)&&lt(this._prevPressedPoint.dataIndex)&&(n=r.dataIndex-this._prevPressedPoint.dataIndex);var i=null;lt(r.value)&&lt(this._prevPressedPoint.value)&&(i=r.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(o){var s;lt(o.timestamp)&&(o.dataIndex=t.timestampToDataIndex(o.timestamp));var u=je({},o);return lt(n)&&lt(o.dataIndex)&&(u.dataIndex=o.dataIndex+n,u.timestamp=(s=t.dataIndexToTimestamp(u.dataIndex))!==null&&s!==void 0?s:void 0),lt(i)&&lt(o.value)&&(u.value=o.value+i),u})}},e.extend=function(r){var t=function(n){Lt(i,n);function i(){return n.call(this,r)||this}return i}(e);return t},e}(),r8={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r,t,n,i=e.chart,o=e.coordinates,s=e.bounding,u=e.overlay,d=e.yAxis,h=u.points;if(o.length>0){var p=0;if(!((r=d==null?void 0:d.isInCandle())!==null&&r!==void 0)||r)p=(n=(t=i.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&n!==void 0?n:2;else{var v=i.getIndicators({paneId:u.paneId});v.forEach(function(I){p=Math.max(p,I.precision)})}var m=[],C=[],b=0,w=s.width;if(o.length>1&&lt(h[0].value)&&lt(h[1].value)){var _=[1,.786,.618,.5,.382,.236,0],S=o[0].y-o[1].y,M=h[0].value-h[1].value;_.forEach(function(I){var A,P=o[1].y+S*I,$=i.getDecimalFold().format(i.getThousandsSeparator().format((((A=h[1].value)!==null&&A!==void 0?A:0)+M*I).toFixed(p)));m.push({coordinates:[{x:b,y:P},{x:w,y:P}]}),C.push({x:b,y:P,text:"".concat($," (").concat((I*100).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:m},{type:"text",isCheckEvent:!1,attrs:C}]}return[]}},n8={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding,n={x:0,y:r[0].y};return me(r[1])&&r[0].x<r[1].x&&(n.x=t.width),[{type:"line",attrs:{coordinates:[r[0],n]}}]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].value=t.value,r[1].value=t.value},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].value=n.value)}},i8={name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=[];return r.length===2&&t.push({coordinates:r}),[{type:"line",attrs:t}]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].value=t.value,r[1].value=t.value},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].value=n.value)}},a8={name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:t.width,y:r[0].y}]}}]}},zg=function(){function e(){this._children=[],this._callbacks=new Map}return e.prototype.registerEvent=function(r,t){return this._callbacks.set(r,t),this},e.prototype.onEvent=function(r,t){var n=this._callbacks.get(r);return me(n)&&this.checkEventOn(t)?n(t):!1},e.prototype.dispatchEventToChildren=function(r,t){var n=this._children.length-1;if(n>-1){for(var i=n;i>-1;i--)if(this._children[i].dispatchEvent(r,t))return!0}return!1},e.prototype.dispatchEvent=function(r,t){return this.dispatchEventToChildren(r,t)?!0:this.onEvent(r,t)},e.prototype.addChild=function(r){return this._children.push(r),this},e.prototype.clear=function(){this._children=[]},e}(),Rn=2,o8=function(e){Lt(r,e);function r(t){var n=e.call(this)||this;return n.attrs=t.attrs,n.styles=t.styles,n}return r.prototype.checkEventOn=function(t){return this.checkEventOnImp(t,this.attrs,this.styles)},r.prototype.setAttrs=function(t){return this.attrs=t,this},r.prototype.setStyles=function(t){return this.styles=t,this},r.prototype.draw=function(t){this.drawImp(t,this.attrs,this.styles)},r.extend=function(t){var n=function(i){Lt(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o.prototype.checkEventOnImp=function(s,u,d){return t.checkEventOn(s,u,d)},o.prototype.drawImp=function(s,u,d){t.draw(s,u,d)},o}(r);return n},r}(zg);function L2(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.coordinates;if(d.length>1)for(var h=1;h<d.length;h++){var p=d[h-1],v=d[h];if(p.x===v.x){if(Math.abs(p.y-e.y)+Math.abs(v.y-e.y)-Math.abs(p.y-v.y)<Rn+Rn&&Math.abs(e.x-p.x)<Rn)return!0}else{var m=Op(p,v),C=Vg(m,e),b=Math.abs(C-e.y);if(Math.abs(p.x-e.x)+Math.abs(v.x-e.x)-Math.abs(p.x-v.x)<Rn+Rn&&b*b/(m[0]*m[0]+1)<Rn*Rn)return!0}}}}catch(w){t={error:w}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function Vg(e,r){return e!==null?r.x*e[0]+e[1]:r.y}function M1(e,r,t){var n=Op(e,r);return Vg(n,t)}function Op(e,r){var t=e.x-r.x;if(t!==0){var n=(e.y-r.y)/t,i=e.y-n*e.x;return[n,i]}return null}function P2(e,r,t){var n=r.length,i=lt(t)?t>0&&t<1?t:0:t?.5:0;if(i>0&&n>2){for(var o=r[0].x,s=r[0].y,u=1;u<n-1;u++){var d=r[u-1],h=r[u],p=r[u+1],v=h.x-d.x,m=h.y-d.y,C=p.x-h.x,b=p.y-h.y,w=p.x-d.x,_=p.y-d.y,S=Math.sqrt(v*v+m*m),M=Math.sqrt(C*C+b*b),I=M/(M+S),A=h.x+w*i*I,P=h.y+_*i*I;A=Math.min(A,Math.max(p.x,h.x)),P=Math.min(P,Math.max(p.y,h.y)),A=Math.max(A,Math.min(p.x,h.x)),P=Math.max(P,Math.min(p.y,h.y)),w=A-h.x,_=P-h.y;var $=h.x-w*S/M,D=h.y-_*S/M;$=Math.min($,Math.max(d.x,h.x)),D=Math.min(D,Math.max(d.y,h.y)),$=Math.max($,Math.min(d.x,h.x)),D=Math.max(D,Math.min(d.y,h.y)),w=h.x-$,_=h.y-D,A=h.x+w*M/S,P=h.y+_*M/S,e.bezierCurveTo(o,s,$,D,h.x,h.y),o=A,s=P}var z=r[n-1];e.bezierCurveTo(o,s,z.x,z.y,z.x,z.y)}else for(var u=1;u<n;u++)e.lineTo(r[u].x,r[u].y)}function l8(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?"solid":i,s=t.smooth,u=s===void 0?!1:s,d=t.size,h=d===void 0?1:d,p=t.color,v=p===void 0?"currentColor":p,m=t.dashedValue,C=m===void 0?[2,2]:m;e.lineWidth=h,e.strokeStyle=v,o==="dashed"?e.setLineDash(C):e.setLineDash([]);var b=h%2===1?.5:0;n.forEach(function(w){var _=w.coordinates;_.length>1&&(_.length===2&&(_[0].x===_[1].x||_[0].y===_[1].y)?(e.beginPath(),_[0].x===_[1].x?(e.moveTo(_[0].x+b,_[0].y),e.lineTo(_[1].x+b,_[1].y)):(e.moveTo(_[0].x,_[0].y+b),e.lineTo(_[1].x,_[1].y+b)),e.stroke(),e.closePath()):(e.save(),h%2===1&&e.translate(.5,.5),e.beginPath(),e.moveTo(_[0].x,_[0].y),P2(e,_,u),e.stroke(),e.closePath(),e.restore()))})}var s8={name:"line",checkEventOn:L2,draw:function(e,r,t){l8(e,r,t)}};function A2(e,r,t){var n=t??0,i=[];if(e.length>1)if(e[0].x===e[1].x){var o=0,s=r.height;if(i.push({coordinates:[{x:e[0].x,y:o},{x:e[0].x,y:s}]}),e.length>2){i.push({coordinates:[{x:e[2].x,y:o},{x:e[2].x,y:s}]});for(var u=e[0].x-e[2].x,d=0;d<n;d++){var h=u*(d+1);i.push({coordinates:[{x:e[0].x+h,y:o},{x:e[0].x+h,y:s}]})}}}else{var p=0,v=r.width,m=Op(e[0],e[1]),C=m[0],b=m[1];if(i.push({coordinates:[{x:p,y:p*C+b},{x:v,y:v*C+b}]}),e.length>2){var w=e[2].y-C*e[2].x;i.push({coordinates:[{x:p,y:p*C+w},{x:v,y:v*C+w}]});for(var u=b-w,d=0;d<n;d++){var _=b+u*(d+1);i.push({coordinates:[{x:p,y:p*C+_},{x:v,y:v*C+_}]})}}}return i}var c8={name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:A2(r,t)}]}},u8={name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:A2(r,t,1)}]}},d8={name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r,t,n,i=e.chart,o=e.coordinates,s=e.bounding,u=e.overlay,d=e.yAxis,h=0;if(!((r=d==null?void 0:d.isInCandle())!==null&&r!==void 0)||r)h=(n=(t=i.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&n!==void 0?n:2;else{var p=i.getIndicators({paneId:u.paneId});p.forEach(function(C){h=Math.max(h,C.precision)})}var v=u.points[0].value,m=v===void 0?0:v;return[{type:"line",attrs:{coordinates:[o[0],{x:s.width,y:o[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:o[0].x,y:o[0].y,text:i.getDecimalFold().format(i.getThousandsSeparator().format(m.toFixed(h))),baseline:"bottom"}}]}};function h8(e,r){if(e.length>1){var t={x:0,y:0};return e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?t={x:e[0].x,y:r.height}:t={x:e[0].x,y:0}:e[0].x>e[1].x?t={x:0,y:M1(e[0],e[1],{x:0,y:e[0].y})}:t={x:r.width,y:M1(e[0],e[1],{x:r.width,y:e[0].y})},{coordinates:[e[0],t]}}return[]}var p8={name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:h8(r,t)}]}},f8={name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates;return r.length===2?[{type:"line",attrs:{coordinates:r}}]:[]}},g8={name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return r.length===2?r[0].x===r[1].x?[{type:"line",attrs:{coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:M1(r[0],r[1],{x:0,y:r[0].y})},{x:t.width,y:M1(r[0],r[1],{x:t.width,y:r[0].y})}]}}]:[]}},v8={name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;if(r.length===2){var n={x:r[0].x,y:0};return r[0].y<r[1].y&&(n.y=t.height),[{type:"line",attrs:{coordinates:[r[0],n]}}]}return[]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].timestamp=t.timestamp,r[0].dataIndex=t.dataIndex,r[1].timestamp=t.timestamp,r[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},m8={name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates;return r.length===2?[{type:"line",attrs:{coordinates:r}}]:[]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].timestamp=t.timestamp,r[0].dataIndex=t.dataIndex,r[1].timestamp=t.timestamp,r[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},y8={name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:{coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:t.height}]}}]}},x8={name:"simpleAnnotation",totalStep:2,styles:{line:{style:"dashed"}},createPointFigures:function(e){var r,t=e.overlay,n=e.coordinates,i="";me(t.extendData)&&(ci(t.extendData)?i=t.extendData(t):i=(r=t.extendData)!==null&&r!==void 0?r:"");var o=n[0].x,s=n[0].y-6,u=s-50,d=u-5;return[{type:"line",attrs:{coordinates:[{x:o,y:s},{x:o,y:u}]},ignoreEvent:!1},{type:"polygon",attrs:{coordinates:[{x:o,y:u},{x:o-4,y:d},{x:o+4,y:d}]},ignoreEvent:!1},{type:"text",attrs:{x:o,y:d,text:i,align:"center",baseline:"bottom"},ignoreEvent:!1}]}},C8={name:"simpleTag",totalStep:2,styles:{line:{style:"dashed"}},createPointFigures:function(e){var r=e.bounding,t=e.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:r.width,y:t[0].y}]},ignoreEvent:!1}},createYAxisFigures:function(e){var r,t,n,i,o=e.chart,s=e.overlay,u=e.coordinates,d=e.bounding,h=e.yAxis,p=(r=h==null?void 0:h.isFromZero())!==null&&r!==void 0?r:!1,v="left",m=0;p?(v="left",m=0):(v="right",m=d.width);var C="";return me(s.extendData)&&(ci(s.extendData)?C=s.extendData(s):C=(t=s.extendData)!==null&&t!==void 0?t:""),!me(C)&&lt(s.points[0].value)&&(C=jn(s.points[0].value,(i=(n=o.getSymbol())===null||n===void 0?void 0:n.pricePrecision)!==null&&i!==void 0?i:2)),{type:"text",attrs:{x:m,y:u[0].y,text:C,align:v,baseline:"middle"}}}},Bg={},b8=[r8,n8,i8,a8,c8,u8,d8,p8,f8,g8,v8,m8,y8,x8,C8];b8.forEach(function(e){Bg[e.name]=I2.extend(e)});function w8(e){Bg[e.name]=I2.extend(e)}function _8(e){var r;return(r=Bg[e])!==null&&r!==void 0?r:null}var k8={grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},title:{color:"#76808F"},legend:{color:"#76808F"}}},indicator:{tooltip:{title:{color:"#76808F"},legend:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},S8={grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},title:{color:"#929AA5"},legend:{color:"#929AA5"}}},indicator:{tooltip:{title:{color:"#929AA5"},legend:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}},M8={light:k8,dark:S8};function E8(e){var r;return(r=M8[e])!==null&&r!==void 0?r:null}var lp=30,D2=100,Rt={CANDLE:"candle_pane",INDICATOR:"indicator_pane_",X_AXIS:"x_axis_pane"},um={MIN:1,MAX:50},T8=10,I8=80,L8=.2,Cg=10,P8=function(){function e(r,t){var n=this;this._styles=C2(),this._formatter={formatDate:function(v){var m=v.dateTimeFormat,C=v.timestamp,b=v.template;return b2(m,C,b)},formatBigNumber:w2,formatExtendText:function(v){return""}},this._innerFormatter={formatDate:function(v,m,C){return n._formatter.formatDate({dateTimeFormat:n._dateTimeFormat,timestamp:v,template:m,type:C})},formatBigNumber:function(v){return n._formatter.formatBigNumber(v)},formatExtendText:function(v){return n._formatter.formatExtendText(v)}},this._locale="en-US",this._thousandsSeparator={sign:",",format:function(v){return _2(v,n._thousandsSeparator.sign)}},this._decimalFold={threshold:3,format:function(v){return k2(v,n._decimalFold.threshold)}},this._symbol=null,this._period=null,this._dataList=[],this._dataLoader=null,this._loading=!1,this._dataLoadMore={forward:!1,backward:!1},this._zoomEnabled=!0,this._scrollEnabled=!0,this._totalBarSpace=0,this._barSpace=T8,this._offsetRightDistance=I8,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole="bar_count",this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange=om(),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._crosshair={},this._actions=new Map,this._indicators=new Map,this._taskScheduler=new k6,this._overlays=new Map,this._progressOverlayInfo=null,this._lastPriceMarkExtendTextUpdateTimers=[],this._pressedOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._hoverOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._clickOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._chart=r,this._calcOptimalBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace;var i=t??{},o=i.styles,s=i.locale,u=i.timezone,d=i.formatter,h=i.thousandsSeparator,p=i.decimalFold;me(o)&&this.setStyles(o),or(s)&&this.setLocale(s),this.setTimezone(u??""),me(d)&&this.setFormatter(d),me(h)&&this.setThousandsSeparator(h),me(p)&&this.setDecimalFold(p)}return e.prototype.setStyles=function(r){var t=this,n,i,o,s,u,d,h=null;if(or(r)?h=E8(r):h=r,pn(this._styles,h),Bo((o=(i=(n=h==null?void 0:h.candle)===null||n===void 0?void 0:n.tooltip)===null||i===void 0?void 0:i.legend)===null||o===void 0?void 0:o.template)&&(this._styles.candle.tooltip.legend.template=h.candle.tooltip.legend.template),me((d=(u=(s=h==null?void 0:h.candle)===null||s===void 0?void 0:s.priceMark)===null||u===void 0?void 0:u.last)===null||d===void 0?void 0:d.extendTexts)){this._clearLastPriceMarkExtendTextUpdateTimer();var p=[];this._styles.candle.priceMark.last.extendTexts.forEach(function(v){var m=v.updateInterval;if(v.show&&m>0&&!p.includes(m)){p.push(m);var C=setInterval(function(){t._chart.updatePane(0,Rt.CANDLE)},m);t._lastPriceMarkExtendTextUpdateTimers.push(C)}})}},e.prototype.getStyles=function(){return this._styles},e.prototype.setFormatter=function(r){pn(this._formatter,r)},e.prototype.getFormatter=function(){return this._formatter},e.prototype.getInnerFormatter=function(){return this._innerFormatter},e.prototype.setLocale=function(r){this._locale=r},e.prototype.getLocale=function(){return this._locale},e.prototype.setTimezone=function(r){if(!me(this._dateTimeFormat)||this.getTimezone()!==r){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};r.length>0&&(t.timeZone=r);var n=null;try{n=new Intl.DateTimeFormat("en",t)}catch{}n!==null&&(this._dateTimeFormat=n)}},e.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},e.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},e.prototype.setThousandsSeparator=function(r){pn(this._thousandsSeparator,r)},e.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},e.prototype.setDecimalFold=function(r){pn(this._decimalFold,r)},e.prototype.getDecimalFold=function(){return this._decimalFold},e.prototype.setSymbol=function(r){this._processDataUnsubscribe(),this._symbol=r,this._synchronizeIndicatorSeriesPrecision(),this.resetData()},e.prototype.getSymbol=function(){return this._symbol},e.prototype.setPeriod=function(r){this._processDataUnsubscribe(),this._period=r,this.resetData()},e.prototype.getPeriod=function(){return this._period},e.prototype.getDataList=function(){return this._dataList},e.prototype.getVisibleRangeDataList=function(){return this._visibleRangeDataList},e.prototype.getVisibleRangeHighLowPrice=function(){return this._visibleRangeHighLowPrice},e.prototype._addData=function(r,t,n){var i=this,o,s,u=!1,d=!1,h=0;if(Bo(r)){var p={backward:!1,forward:!1};switch(S1(n)?(p.backward=n,p.forward=n):(p.backward=(o=n==null?void 0:n.backward)!==null&&o!==void 0?o:!1,p.forward=(s=n==null?void 0:n.forward)!==null&&s!==void 0?s:!1),h=r.length,t){case"init":{this._clearData(),this._dataList=r,this._dataLoadMore.backward=p.backward,this._dataLoadMore.forward=p.forward,this.setOffsetRightDistance(this._offsetRightDistance),d=!0;break}case"backward":{this._dataList=this._dataList.concat(r),this._dataLoadMore.backward=p.backward,this._lastBarRightSideDiffBarCount-=h,d=h>0;break}case"forward":{this._dataList=r.concat(this._dataList),this._dataLoadMore.forward=p.forward,d=h>0;break}}u=!0}else{var v=this._dataList.length,m=r.timestamp,C=wn(this._dataList[v-1],"timestamp",0);if(m>C){this._dataList.push(r);var b=this.getLastBarRightSideDiffBarCount();b<0&&this.setLastBarRightSideDiffBarCount(--b),h=1,u=!0,d=!0}else m===C&&(this._dataList[v-1]=r,u=!0,d=!0)}if(u&&d){this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0});var w=this.getIndicatorsByFilter({});w.forEach(function(_){i._addIndicatorCalcTask(_,t)}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:t!=="init"})}},e.prototype.setDataLoader=function(r){this._dataLoader=r,this.resetData()},e.prototype._calcOptimalBarSpace=function(){var r=4,t=1-L8*Math.atan(Math.max(r,this._barSpace)-r)/(Math.PI*.5),n=Math.min(Math.floor(this._barSpace*t),Math.floor(this._barSpace));n%2===0&&n+2>=this._barSpace&&--n,this._gapBarSpace=Math.max(1,n)},e.prototype._adjustVisibleRange=function(){var r,t,n=this._dataList.length,i=this._totalBarSpace/this._barSpace,o=0,s=0;this._scrollLimitRole==="distance"?(o=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,s=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(o=this._minVisibleBarCount.left,s=this._minVisibleBarCount.right),o=Math.max(0,o),s=Math.max(0,s);var u=i-Math.min(o,n);this._lastBarRightSideDiffBarCount>u&&(this._lastBarRightSideDiffBarCount=u);var d=-n+Math.min(s,n);this._lastBarRightSideDiffBarCount<d&&(this._lastBarRightSideDiffBarCount=d);var h=Math.round(this._lastBarRightSideDiffBarCount+n+.5),p=h;h>n&&(h=n);var v=Math.round(h-i)-1;v<0&&(v=0);var m=this._lastBarRightSideDiffBarCount>0?Math.round(n+this._lastBarRightSideDiffBarCount-i)-1:v;this._visibleRange={from:v,to:h,realFrom:m,realTo:p},this.executeAction("onVisibleRangeChange",this._visibleRange),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}];for(var C=m;C<p;C++){var b=this._dataList[C],w=this.dataIndexToCoordinate(C);this._visibleRangeDataList.push({dataIndex:C,x:w,data:{prev:(r=this._dataList[C-1])!==null&&r!==void 0?r:b,current:b,next:(t=this._dataList[C+1])!==null&&t!==void 0?t:b}}),me(b)&&(this._visibleRangeHighLowPrice[0].price<b.high&&(this._visibleRangeHighLowPrice[0].price=b.high,this._visibleRangeHighLowPrice[0].x=w),this._visibleRangeHighLowPrice[1].price>b.low&&(this._visibleRangeHighLowPrice[1].price=b.low,this._visibleRangeHighLowPrice[1].x=w))}v===0?this._dataLoadMore.forward&&this._processDataLoad("forward"):h===n&&this._dataLoadMore.backward&&this._processDataLoad("backward")},e.prototype._processDataLoad=function(r){var t=this,n,i,o,s;if(!this._loading&&me(this._dataLoader)&&me(this._symbol)&&me(this._period)){this._loading=!0;var u={type:r,symbol:this._symbol,period:this._period,timestamp:null,callback:function(d,h){var p,v;t._loading=!1,t._addData(d,r,h),r==="init"&&((v=(p=t._dataLoader)===null||p===void 0?void 0:p.subscribeBar)===null||v===void 0||v.call(p,{symbol:t._symbol,period:t._period,callback:function(m){t._addData(m,"update")}}))}};switch(r){case"backward":{u.timestamp=(i=(n=this._dataList[this._dataList.length-1])===null||n===void 0?void 0:n.timestamp)!==null&&i!==void 0?i:null;break}case"forward":{u.timestamp=(s=(o=this._dataList[0])===null||o===void 0?void 0:o.timestamp)!==null&&s!==void 0?s:null;break}}this._dataLoader.getBars(u)}},e.prototype._processDataUnsubscribe=function(){var r,t;me(this._dataLoader)&&me(this._symbol)&&me(this._period)&&((t=(r=this._dataLoader).unsubscribeBar)===null||t===void 0||t.call(r,{symbol:this._symbol,period:this._period}))},e.prototype.resetData=function(){this._loading=!1,this._processDataLoad("init")},e.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:Math.floor(this._gapBarSpace/2)}},e.prototype.setBarSpace=function(r,t){r<um.MIN||r>um.MAX||this._barSpace===r||(this._barSpace=r,this._calcOptimalBarSpace(),t==null||t(),this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0}))},e.prototype.setTotalBarSpace=function(r){this._totalBarSpace!==r&&(this._totalBarSpace=r,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}))},e.prototype.setOffsetRightDistance=function(r,t){return this._offsetRightDistance=this._scrollLimitRole==="distance"?Math.min(this._maxOffsetDistance.right,r):r,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,(t??!1)&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0})),this},e.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},e.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},e.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},e.prototype.setLastBarRightSideDiffBarCount=function(r){this._lastBarRightSideDiffBarCount=r},e.prototype.setMaxOffsetLeftDistance=function(r){this._scrollLimitRole="distance",this._maxOffsetDistance.left=r},e.prototype.setMaxOffsetRightDistance=function(r){this._scrollLimitRole="distance",this._maxOffsetDistance.right=r},e.prototype.setLeftMinVisibleBarCount=function(r){this._scrollLimitRole="bar_count",this._minVisibleBarCount.left=r},e.prototype.setRightMinVisibleBarCount=function(r){this._scrollLimitRole="bar_count",this._minVisibleBarCount.right=r},e.prototype.getVisibleRange=function(){return this._visibleRange},e.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},e.prototype.scroll=function(r){if(this._scrollEnabled){var t=r/this._barSpace,n=this._lastBarRightSideDiffBarCount*this._barSpace;this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-t,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0});var i=Math.round(n-this._lastBarRightSideDiffBarCount*this._barSpace);i!==0&&this.executeAction("onScroll",{distance:i})}},e.prototype.getDataByDataIndex=function(r){var t;return(t=this._dataList[r])!==null&&t!==void 0?t:null},e.prototype.coordinateToFloatIndex=function(r){var t=this._dataList.length,n=(this._totalBarSpace-r)/this._barSpace,i=t+this._lastBarRightSideDiffBarCount-n;return Math.round(i*1e6)/1e6},e.prototype.dataIndexToTimestamp=function(r){var t=this._dataList.length;if(t===0)return null;var n=this.getDataByDataIndex(r);if(me(n))return n.timestamp;if(me(this._period)){var i=t-1,o=null,s=0;if(r>i?(o=this._dataList[i].timestamp,s=r-i):r<0&&(o=this._dataList[0].timestamp,s=r),lt(o)){var u=this._period,d=u.type,h=u.span;switch(d){case"second":return o+h*1e3*s;case"minute":return o+h*60*1e3*s;case"hour":return o+h*60*60*1e3*s;case"day":return o+h*24*60*60*1e3*s;case"week":return o+h*7*24*60*60*1e3*s;case"month":{var p=new Date(o),v=p.getDate();p.setDate(1),p.setMonth(p.getMonth()+h*s);var m=new Date(p.getFullYear(),p.getMonth()+1,0).getDate();return p.setDate(Math.min(v,m)),p.getTime()}case"year":{var p=new Date(o);return p.setFullYear(p.getFullYear()+h*s),p.getTime()}}}}return null},e.prototype.timestampToDataIndex=function(r){var t=this._dataList.length;if(t===0)return 0;if(me(this._period)){var n=null,i=0,o=t-1,s=this._dataList[o].timestamp;r>s&&(n=s,i=o);var u=this._dataList[0].timestamp;if(r<u&&(n=u,i=0),lt(n)){var d=this._period,h=d.type,p=d.span;switch(h){case"second":return i+Math.floor((r-n)/(p*1e3));case"minute":return i+Math.floor((r-n)/(p*60*1e3));case"hour":return i+Math.floor((r-n)/(p*60*60*1e3));case"day":return i+Math.floor((r-n)/(p*24*60*60*1e3));case"week":return i+Math.floor((r-n)/(p*7*24*60*60*1e3));case"month":{var v=new Date(n),m=new Date(r),C=v.getFullYear(),b=m.getFullYear(),w=v.getMonth(),_=m.getMonth();return i+Math.floor(((b-C)*12+(_-w))/p)}case"year":{var C=new Date(n).getFullYear(),b=new Date(r).getFullYear();return i+Math.floor((b-C)/p)}}}}return xg(this._dataList,"timestamp",r)},e.prototype.dataIndexToCoordinate=function(r){var t=this._dataList.length,n=t+this._lastBarRightSideDiffBarCount-r;return Math.floor(this._totalBarSpace-(n-.5)*this._barSpace+.5)},e.prototype.coordinateToDataIndex=function(r){return Math.ceil(this.coordinateToFloatIndex(r))-1},e.prototype.zoom=function(r,t){var n=this,i;if(this._zoomEnabled){var o=t??null;lt(o==null?void 0:o.x)||(o={x:(i=this._crosshair.x)!==null&&i!==void 0?i:this._totalBarSpace/2});var s=o.x,u=this.coordinateToFloatIndex(s),d=this._barSpace,h=this._barSpace+r*(this._barSpace/Cg);this.setBarSpace(h,function(){n._lastBarRightSideDiffBarCount+=u-n.coordinateToFloatIndex(s)});var p=this._barSpace/d;p!==1&&this.executeAction("onZoom",{scale:p})}},e.prototype.setZoomEnabled=function(r){this._zoomEnabled=r},e.prototype.isZoomEnabled=function(){return this._zoomEnabled},e.prototype.setScrollEnabled=function(r){this._scrollEnabled=r},e.prototype.isScrollEnabled=function(){return this._scrollEnabled},e.prototype.setCrosshair=function(r,t){var n,i=t??{},o=i.notInvalidate,s=i.notExecuteAction,u=i.forceInvalidate,d=r??{},h=0,p=0;lt(d.x)?(h=this.coordinateToDataIndex(d.x),h<0?p=0:h>this._dataList.length-1?p=this._dataList.length-1:p=h):(h=this._dataList.length-1,p=h);var v=this._dataList[p],m=this.dataIndexToCoordinate(h),C={x:this._crosshair.x,y:this._crosshair.y,paneId:this._crosshair.paneId};this._crosshair=je(je({},d),{realX:m,kLineData:v,realDataIndex:h,dataIndex:p,timestamp:(n=this.dataIndexToTimestamp(h))!==null&&n!==void 0?n:void 0}),(C.x!==d.x||C.y!==d.y||C.paneId!==d.paneId||(u??!1))&&(me(v)&&!(s??!1)&&this.hasAction("onCrosshairChange")&&or(this._crosshair.paneId)&&this.executeAction("onCrosshairChange",r),(o??!1)||this._chart.updatePane(1))},e.prototype.getCrosshair=function(){return this._crosshair},e.prototype.executeAction=function(r,t){var n;(n=this._actions.get(r))===null||n===void 0||n.execute(t)},e.prototype.subscribeAction=function(r,t){var n;this._actions.has(r)||this._actions.set(r,new S6),(n=this._actions.get(r))===null||n===void 0||n.subscribe(t)},e.prototype.unsubscribeAction=function(r,t){var n=this._actions.get(r);me(n)&&(n.unsubscribe(t),n.isEmpty()&&this._actions.delete(r))},e.prototype.hasAction=function(r){var t=this._actions.get(r);return me(t)&&!t.isEmpty()},e.prototype._sortIndicators=function(r){var t;or(r)?(t=this._indicators.get(r))===null||t===void 0||t.sort(function(n,i){return n.zLevel-i.zLevel}):this._indicators.forEach(function(n){n.sort(function(i,o){return i.zLevel-o.zLevel})})},e.prototype._addIndicatorCalcTask=function(r,t){var n=this;this._taskScheduler.addTask({id:lm(r.id),handler:function(){var i;(i=r.onDataStateChange)===null||i===void 0||i.call(r,{state:"loading",type:t,indicator:r}),r.calcImp(n._dataList).then(function(o){var s;o&&(n._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:t!=="init"}),(s=r.onDataStateChange)===null||s===void 0||s.call(r,{state:"ready",type:t,indicator:r}))}).catch(function(){var o;(o=r.onDataStateChange)===null||o===void 0||o.call(r,{state:"error",type:t,indicator:r})})}})},e.prototype.addIndicator=function(r,t,n){var i=r.name,o=this.getIndicatorsByFilter(r);if(o.length>0)return!1;var s=this.getIndicatorsByPaneId(t),u=T2(i),d=new u;return this._synchronizeIndicatorSeriesPrecision(d),d.paneId=t,d.override(r),n||(this.removeIndicator({paneId:t}),s=[]),s.push(d),this._indicators.set(t,s),this._sortIndicators(t),this._addIndicatorCalcTask(d,"init"),!0},e.prototype.getIndicatorsByPaneId=function(r){var t;return(t=this._indicators.get(r))!==null&&t!==void 0?t:[]},e.prototype.getIndicatorsByFilter=function(r){var t=r.paneId,n=r.name,i=r.id,o=function(u){return me(i)?u.id===i:!me(n)||u.name===n},s=[];return me(t)?s=s.concat(this.getIndicatorsByPaneId(t).filter(o)):this._indicators.forEach(function(u){s=s.concat(u.filter(o))}),s},e.prototype.removeIndicator=function(r){var t=this,n=!1,i=this.getIndicatorsByFilter(r);return i.forEach(function(o){var s=t.getIndicatorsByPaneId(o.paneId),u=s.findIndex(function(d){return d.id===o.id});u>-1&&(t._taskScheduler.removeTask(lm(o.id)),s.splice(u,1),n=!0),s.length===0&&t._indicators.delete(o.paneId)}),n},e.prototype.hasIndicators=function(r){return this._indicators.has(r)},e.prototype._synchronizeIndicatorSeriesPrecision=function(r){if(me(this._symbol)){var t=this._symbol,n=t.pricePrecision,i=n===void 0?2:n,o=t.volumePrecision,s=o===void 0?0:o,u=function(d){switch(d.series){case"price":{d.setSeriesPrecision(i);break}case"volume":{d.setSeriesPrecision(s);break}}};me(r)?u(r):this._indicators.forEach(function(d){d.forEach(function(h){u(h)})})}},e.prototype.overrideIndicator=function(r){var t=this,n=!1,i=!1,o=this.getIndicatorsByFilter(r);return o.forEach(function(s){s.override(r);var u=s.shouldUpdateImp(),d=u.calc,h=u.draw,p=u.sort;p&&(i=!0),d?t._addIndicatorCalcTask(s,"update"):h&&(n=!0)}),i&&this._sortIndicators(),n?(this._chart.layout({update:!0}),!0):!1},e.prototype.getOverlaysByFilter=function(r){var t,n=r.id,i=r.groupId,o=r.paneId,s=r.name,u=function(p){return me(n)?p.id===n:me(i)?p.groupId===i&&(!me(s)||p.name===s):!me(s)||p.name===s},d=[];me(o)?d=d.concat(this.getOverlaysByPaneId(o).filter(u)):this._overlays.forEach(function(p){d=d.concat(p.filter(u))});var h=(t=this._progressOverlayInfo)===null||t===void 0?void 0:t.overlay;return me(h)&&u(h)&&d.push(h),d},e.prototype.getOverlaysByPaneId=function(r){var t;if(!or(r)){var n=[];return this._overlays.forEach(function(i){n=n.concat(i)}),n}return(t=this._overlays.get(r))!==null&&t!==void 0?t:[]},e.prototype._sortOverlays=function(r){var t;or(r)?(t=this._overlays.get(r))===null||t===void 0||t.sort(function(n,i){return n.zLevel-i.zLevel}):this._overlays.forEach(function(n){n.sort(function(i,o){return i.zLevel-o.zLevel})})},e.prototype.addOverlays=function(r,t){var n=this,i=[],o=r.map(function(s,u){var d,h,p,v,m,C,b,w;if(me(s.id)){var _=null;try{for(var S=oo(n._overlays),M=S.next();!M.done;M=S.next()){var I=M.value,A=I[1],P=A.find(function(W){return W.id===s.id});if(me(P)){_=P;break}}}catch(W){d={error:W}}finally{try{M&&!M.done&&(h=S.return)&&h.call(S)}finally{if(d)throw d.error}}if(me(_))return s.id}var $=_8(s.name);if(me($)){var D=(p=s.id)!==null&&p!==void 0?p:op(t8),P=new $,z=(v=s.paneId)!==null&&v!==void 0?v:Rt.CANDLE;s.id=D,(m=s.groupId)!==null&&m!==void 0||(s.groupId=D);var V=n.getOverlaysByPaneId(z).length;return(C=s.zLevel)!==null&&C!==void 0||(s.zLevel=V),P.override(s),i.includes(z)||i.push(z),P.isDrawing()?n._progressOverlayInfo={paneId:z,overlay:P,appointPaneFlag:t[u]}:(n._overlays.has(z)||n._overlays.set(z,[]),(b=n._overlays.get(z))===null||b===void 0||b.push(P)),P.isStart()&&((w=P.onDrawStart)===null||w===void 0||w.call(P,{overlay:P,chart:n._chart})),D}return null});return i.length>0&&(this._sortOverlays(),i.forEach(function(s){n._chart.updatePane(1,s)}),this._chart.updatePane(1,Rt.X_AXIS)),o},e.prototype.getProgressOverlayInfo=function(){return this._progressOverlayInfo},e.prototype.progressOverlayComplete=function(){var r;if(this._progressOverlayInfo!==null){var t=this._progressOverlayInfo,n=t.overlay,i=t.paneId;n.isDrawing()||(this._overlays.has(i)||this._overlays.set(i,[]),(r=this._overlays.get(i))===null||r===void 0||r.push(n),this._sortOverlays(i),this._progressOverlayInfo=null)}},e.prototype.updateProgressOverlayInfo=function(r,t){this._progressOverlayInfo!==null&&(S1(t)&&t&&(this._progressOverlayInfo.appointPaneFlag=t),this._progressOverlayInfo.paneId=r,this._progressOverlayInfo.overlay.override({paneId:r}))},e.prototype.overrideOverlay=function(r){var t=this,n=!1,i=[],o=this.getOverlaysByFilter(r);return o.forEach(function(s){s.override(r);var u=s.shouldUpdate(),d=u.sort,h=u.draw;d&&(n=!0),(d||h)&&(i.includes(s.paneId)||i.push(s.paneId))}),n&&this._sortOverlays(),i.length>0?(i.forEach(function(s){t._chart.updatePane(1,s)}),this._chart.updatePane(1,Rt.X_AXIS),!0):!1},e.prototype.removeOverlay=function(r){var t=this,n=[],i=this.getOverlaysByFilter(r);return i.forEach(function(o){var s,u=o.paneId,d=t.getOverlaysByPaneId(o.paneId);if((s=o.onRemoved)===null||s===void 0||s.call(o,{overlay:o,chart:t._chart}),n.includes(u)||n.push(u),o.isDrawing())t._progressOverlayInfo=null;else{var h=d.findIndex(function(p){return p.id===o.id});h>-1&&d.splice(h,1)}d.length===0&&t._overlays.delete(u)}),n.length>0?(n.forEach(function(o){t._chart.updatePane(1,o)}),this._chart.updatePane(1,Rt.X_AXIS),!0):!1},e.prototype.setPressedOverlayInfo=function(r){this._pressedOverlayInfo=r},e.prototype.getPressedOverlayInfo=function(){return this._pressedOverlayInfo},e.prototype.setHoverOverlayInfo=function(r,t,n){var i=this._hoverOverlayInfo,o=i.overlay,s=i.figureType,u=i.figureIndex,d=i.figure,h=r.overlay;if(((o==null?void 0:o.id)!==(h==null?void 0:h.id)||s!==r.figureType||u!==r.figureIndex)&&(this._hoverOverlayInfo=r,(o==null?void 0:o.id)!==(h==null?void 0:h.id))){var p=!1,v=!1;o!==null&&(o.override({zLevel:o.getPrevZLevel()}),v=!0,n(o,d)&&(p=!0)),h!==null&&(h.setPrevZLevel(h.zLevel),h.override({zLevel:Number.MAX_SAFE_INTEGER}),v=!0,t(h,r.figure)&&(p=!0)),v&&this._sortOverlays(),p||this._chart.updatePane(1)}},e.prototype.getHoverOverlayInfo=function(){return this._hoverOverlayInfo},e.prototype.setClickOverlayInfo=function(r,t,n){var i=this._clickOverlayInfo,o=i.paneId,s=i.overlay,u=i.figureType,d=i.figure,h=i.figureIndex,p=r.overlay;((s==null?void 0:s.id)!==(p==null?void 0:p.id)||u!==r.figureType||h!==r.figureIndex)&&(this._clickOverlayInfo=r,(s==null?void 0:s.id)!==(p==null?void 0:p.id)&&(me(s)&&n(s,d),me(p)&&t(p,r.figure),this._chart.updatePane(1,r.paneId),o!==r.paneId&&this._chart.updatePane(1,o),this._chart.updatePane(1,Rt.X_AXIS)))},e.prototype.getClickOverlayInfo=function(){return this._clickOverlayInfo},e.prototype.isOverlayEmpty=function(){return this._overlays.size===0&&this._progressOverlayInfo===null},e.prototype.isOverlayDrawing=function(){var r,t;return(t=(r=this._progressOverlayInfo)===null||r===void 0?void 0:r.overlay.isDrawing())!==null&&t!==void 0?t:!1},e.prototype._clearLastPriceMarkExtendTextUpdateTimer=function(){this._lastPriceMarkExtendTextUpdateTimers.forEach(function(r){clearInterval(r)}),this._lastPriceMarkExtendTextUpdateTimers=[]},e.prototype._clearData=function(){this._dataLoadMore.backward=!1,this._dataLoadMore.forward=!1,this._loading=!1,this._dataList=[],this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._visibleRange=om(),this._crosshair={}},e.prototype.getChart=function(){return this._chart},e.prototype.destroy=function(){this._clearData(),this._clearLastPriceMarkExtendTextUpdateTimer(),this._taskScheduler.removeTask(),this._overlays.clear(),this._indicators.clear(),this._actions.clear()},e}(),Vt={MAIN:"main",X_AXIS:"xAxis",Y_AXIS:"yAxis",SEPARATOR:"separator"},w1=7;function A8(){return y2(this,void 0,void 0,function(){return x2(this,function(e){switch(e.label){case 0:return[4,new Promise(function(r){var t=new ResizeObserver(function(n){r(n.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})];case 1:return[2,e.sent()]}})})}var dm=function(){function e(r,t){var n=this;this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._nextPixelWidth=0,this._nextPixelHeight=0,this._requestAnimationId=Ed,this._mediaQueryListener=function(){var i=Is(n._element);n._nextPixelWidth=Math.round(n._element.clientWidth*i),n._nextPixelHeight=Math.round(n._element.clientHeight*i),n._resetPixelRatio()},this._listener=t,this._element=Rl("canvas",r),this._ctx=this._element.getContext("2d"),A8().then(function(i){n._supportedDevicePixelContentBox=i,i?(n._resizeObserver=new ResizeObserver(function(o){var s=o.find(function(d){return d.target===n._element}),u=s==null?void 0:s.devicePixelContentBoxSize[0];me(u)&&(n._nextPixelWidth=u.inlineSize,n._nextPixelHeight=u.blockSize,(n._pixelWidth!==n._nextPixelWidth||n._pixelHeight!==n._nextPixelHeight)&&n._resetPixelRatio())}),n._resizeObserver.observe(n._element,{box:"device-pixel-content-box"})):(n._mediaQueryList=window.matchMedia("(resolution: ".concat(Is(n._element),"dppx)")),n._mediaQueryList.addListener(n._mediaQueryListener))}).catch(function(i){return!1})}return e.prototype._resetPixelRatio=function(){var r=this;this._executeListener(function(){var t=r._element.clientWidth,n=r._element.clientHeight;r._width=t,r._height=n,r._pixelWidth=r._nextPixelWidth,r._pixelHeight=r._nextPixelHeight,r._element.width=r._nextPixelWidth,r._element.height=r._nextPixelHeight;var i=r._nextPixelWidth/t,o=r._nextPixelHeight/n;r._ctx.scale(i,o)})},e.prototype._executeListener=function(r){var t=this;this._requestAnimationId===Ed&&(this._requestAnimationId=xp(function(){t._ctx.clearRect(0,0,t._width,t._height),r==null||r(),t._listener(),t._requestAnimationId=Ed}))},e.prototype.update=function(r,t){if(this._width!==r||this._height!==t){if(this._element.style.width="".concat(r,"px"),this._element.style.height="".concat(t,"px"),!this._supportedDevicePixelContentBox){var n=Is(this._element);this._nextPixelWidth=Math.round(r*n),this._nextPixelHeight=Math.round(t*n),this._resetPixelRatio()}}else this._executeListener()},e.prototype.getElement=function(){return this._element},e.prototype.getContext=function(){return this._ctx},e.prototype.destroy=function(){me(this._resizeObserver)&&this._resizeObserver.unobserve(this._element),me(this._mediaQueryList)&&this._mediaQueryList.removeListener(this._mediaQueryListener)},e}(),F2=function(e){Lt(r,e);function r(t,n){var i=e.call(this)||this;return i._bounding=yp(),i._cursor="crosshair",i._forceCursor=null,i._pane=n,i._rootContainer=t,i._container=i.createContainer(),t.appendChild(i._container),i}return r.prototype.setBounding=function(t){return pn(this._bounding,t),this},r.prototype.getContainer=function(){return this._container},r.prototype.getBounding=function(){return this._bounding},r.prototype.getPane=function(){return this._pane},r.prototype.checkEventOn=function(t){return!0},r.prototype.setCursor=function(t){or(this._forceCursor)||t!==this._cursor&&(this._cursor=t,this._container.style.cursor=this._cursor)},r.prototype.setForceCursor=function(t){var n;t!==this._forceCursor&&(this._forceCursor=t,this._container.style.cursor=(n=this._forceCursor)!==null&&n!==void 0?n:this._cursor)},r.prototype.getForceCursor=function(){return this._forceCursor},r.prototype.update=function(t){this.updateImp(this._container,this._bounding,t??3)},r.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},r}(zg),$g=function(e){Lt(r,e);function r(t,n){var i=e.call(this,t,n)||this;i._mainCanvas=new dm({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){i.updateMain(i._mainCanvas.getContext())}),i._overlayCanvas=new dm({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){i.updateOverlay(i._overlayCanvas.getContext())});var o=i.getContainer();return o.appendChild(i._mainCanvas.getElement()),o.appendChild(i._overlayCanvas.getElement()),i}return r.prototype.createContainer=function(){return Rl("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},r.prototype.updateImp=function(t,n,i){var o=n.width,s=n.height,u=n.left;t.style.left="".concat(u,"px");var d=i,h=t.clientWidth,p=t.clientHeight;switch((o!==h||s!==p)&&(t.style.width="".concat(o,"px"),t.style.height="".concat(s,"px"),d=3),d){case 0:{this._mainCanvas.update(o,s);break}case 1:{this._overlayCanvas.update(o,s);break}case 3:case 4:{this._mainCanvas.update(o,s),this._overlayCanvas.update(o,s);break}}},r.prototype.destroy=function(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=Rl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),u=s.getContext("2d"),d=Is(s);return s.width=i*d,s.height=o*d,u.scale(d,d),u.drawImage(this._mainCanvas.getElement(),0,0,i,o),t&&u.drawImage(this._overlayCanvas.getElement(),0,0,i,o),s},r}(F2);function O2(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.x,h=u.y,p=u.r,v=e.x-d,m=e.y-h;if(!(v*v+m*m>p*p))return!0}}catch(C){t={error:C}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function D8(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?"fill":i,s=t.color,u=s===void 0?"currentColor":s,d=t.borderSize,h=d===void 0?1:d,p=t.borderColor,v=p===void 0?"currentColor":p,m=t.borderStyle,C=m===void 0?"solid":m,b=t.borderDashedValue,w=b===void 0?[2,2]:b,_=(o==="fill"||t.style==="stroke_fill")&&(!or(u)||!Ad(u));_&&(e.fillStyle=u,n.forEach(function(S){var M=S.x,I=S.y,A=S.r;e.beginPath(),e.arc(M,I,A,0,Math.PI*2),e.closePath(),e.fill()})),(o==="stroke"||t.style==="stroke_fill")&&h>0&&!Ad(v)&&(e.strokeStyle=v,e.lineWidth=h,C==="dashed"?e.setLineDash(w):e.setLineDash([]),n.forEach(function(S){var M=S.x,I=S.y,A=S.r;(!_||A>h)&&(e.beginPath(),e.arc(M,I,A,0,Math.PI*2),e.closePath(),e.stroke())}))}var F8={name:"circle",checkEventOn:O2,draw:function(e,r,t){D8(e,r,t)}};function R2(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){for(var u=s.value,d=!1,h=u.coordinates,p=0,v=h.length-1;p<h.length;v=p++)h[p].y>e.y!=h[v].y>e.y&&e.x<(h[v].x-h[p].x)*(e.y-h[p].y)/(h[v].y-h[p].y)+h[p].x&&(d=!d);if(d)return!0}}catch(m){t={error:m}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function O8(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?"fill":i,s=t.color,u=s===void 0?"currentColor":s,d=t.borderSize,h=d===void 0?1:d,p=t.borderColor,v=p===void 0?"currentColor":p,m=t.borderStyle,C=m===void 0?"solid":m,b=t.borderDashedValue,w=b===void 0?[2,2]:b;(o==="fill"||t.style==="stroke_fill")&&(!or(u)||!Ad(u))&&(e.fillStyle=u,n.forEach(function(_){var S=_.coordinates;e.beginPath(),e.moveTo(S[0].x,S[0].y);for(var M=1;M<S.length;M++)e.lineTo(S[M].x,S[M].y);e.closePath(),e.fill()})),(o==="stroke"||t.style==="stroke_fill")&&h>0&&!Ad(v)&&(e.strokeStyle=v,e.lineWidth=h,C==="dashed"?e.setLineDash(w):e.setLineDash([]),n.forEach(function(_){var S=_.coordinates;e.beginPath(),e.moveTo(S[0].x,S[0].y);for(var M=1;M<S.length;M++)e.lineTo(S[M].x,S[M].y);e.closePath(),e.stroke()}))}var R8={name:"polygon",checkEventOn:R2,draw:function(e,r,t){O8(e,r,t)}};function Wg(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.x,h=u.width;h<Rn*2&&(d-=Rn,h=Rn*2);var p=u.y,v=u.height;if(v<Rn*2&&(p-=Rn,v=Rn*2),e.x>=d&&e.x<=d+h&&e.y>=p&&e.y<=p+v)return!0}}catch(m){t={error:m}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function N2(e,r,t){var n,i=[];i=i.concat(r);var o=t.style,s=o===void 0?"fill":o,u=t.color,d=u===void 0?"transparent":u,h=t.borderSize,p=h===void 0?1:h,v=t.borderColor,m=v===void 0?"transparent":v,C=t.borderStyle,b=C===void 0?"solid":C,w=t.borderRadius,_=w===void 0?0:w,S=t.borderDashedValue,M=S===void 0?[2,2]:S,I=(n=e.roundRect)!==null&&n!==void 0?n:e.rect,A=(s==="fill"||t.style==="stroke_fill")&&(!or(d)||!Ad(d));if(A&&(e.fillStyle=d,i.forEach(function(D){var z=D.x,V=D.y,W=D.width,Q=D.height;e.beginPath(),I.call(e,z,V,W,Q,_),e.closePath(),e.fill()})),(s==="stroke"||t.style==="stroke_fill")&&p>0&&!Ad(m)){e.strokeStyle=m,e.fillStyle=m,e.lineWidth=p,b==="dashed"?e.setLineDash(M):e.setLineDash([]);var P=p%2===1?.5:0,$=Math.round(P*2);i.forEach(function(D){var z=D.x,V=D.y,W=D.width,Q=D.height;W>p*2&&Q>p*2?(e.beginPath(),I.call(e,z+P,V+P,W-$,Q-$,_),e.closePath(),e.stroke()):A||e.fillRect(z,V,W,Q)})}}var N8={name:"rect",checkEventOn:Wg,draw:function(e,r,t){N2(e,r,t)}};function z2(e,r){var t=r.size,n=t===void 0?12:t,i=r.paddingLeft,o=i===void 0?0:i,s=r.paddingTop,u=s===void 0?0:s,d=r.paddingRight,h=d===void 0?0:d,p=r.paddingBottom,v=p===void 0?0:p,m=r.weight,C=m===void 0?"normal":m,b=r.family,w=e.x,_=e.y,S=e.text,M=e.align,I=M===void 0?"left":M,A=e.baseline,P=A===void 0?"top":A,$=e.width,D=e.height,z=$??o+no(S,n,C,b)+h,V=D??u+n+v,W=0;switch(I){case"left":case"start":{W=w;break}case"right":case"end":{W=w-z;break}default:{W=w-z/2;break}}var Q=0;switch(P){case"top":case"hanging":{Q=_;break}case"bottom":case"ideographic":case"alphabetic":{Q=_-V;break}default:{Q=_-V/2;break}}return{x:W,y:Q,width:z,height:V}}function V2(e,r,t){var n,i,o=[];o=o.concat(r);try{for(var s=oo(o),u=s.next();!u.done;u=s.next()){var d=u.value,h=z2(d,t),p=h.x,v=h.y,m=h.width,C=h.height;if(e.x>=p&&e.x<=p+m&&e.y>=v&&e.y<=v+C)return!0}}catch(b){n={error:b}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1}function z8(e,r,t){var n=[];n=n.concat(r);var i=t.color,o=i===void 0?"currentColor":i,s=t.size,u=s===void 0?12:s,d=t.family,h=t.weight,p=t.paddingLeft,v=p===void 0?0:p,m=t.paddingTop,C=m===void 0?0:m,b=t.paddingRight,w=b===void 0?0:b,_=n.map(function(S){return z2(S,t)});N2(e,_,je(je({},t),{color:t.backgroundColor})),e.textAlign="left",e.textBaseline="top",e.font=Vc(u,h,d),e.fillStyle=o,n.forEach(function(S,M){var I=_[M];e.fillText(S.text,I.x+v,I.y+C,I.width-v-w)})}var V8={name:"text",checkEventOn:V2,draw:function(e,r,t){z8(e,r,t)}};function B8(e,r){var t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)}function B2(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){var u=s.value;if(Math.abs(B8(e,u)-u.r)<Rn){var d=u.r,h=u.startAngle,p=u.endAngle,v=d*Math.cos(h)+u.x,m=d*Math.sin(h)+u.y,C=d*Math.cos(p)+u.x,b=d*Math.sin(p)+u.y;if(e.x<=Math.max(v,C)+Rn&&e.x>=Math.min(v,C)-Rn&&e.y<=Math.max(m,b)+Rn&&e.y>=Math.min(m,b)-Rn)return!0}}}catch(w){t={error:w}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function $8(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?"solid":i,s=t.size,u=s===void 0?1:s,d=t.color,h=d===void 0?"currentColor":d,p=t.dashedValue,v=p===void 0?[2,2]:p;e.lineWidth=u,e.strokeStyle=h,o==="dashed"?e.setLineDash(v):e.setLineDash([]),n.forEach(function(m){var C=m.x,b=m.y,w=m.r,_=m.startAngle,S=m.endAngle;e.beginPath(),e.arc(C,b,w,_,S),e.stroke(),e.closePath()})}var W8={name:"arc",checkEventOn:B2,draw:function(e,r,t){$8(e,r,t)}};function hm(e,r,t,n,i,o,s){var u=A1(n,7),d=u[0],h=u[1],p=u[2],v=u[3],m=u[4],C=u[5],b=u[6],w=s?r+C:C+i,_=s?t+b:b+o,S=U8(r,t,d,h,p,v,m,w,_);S.forEach(function(M){e.bezierCurveTo(M[0],M[1],M[2],M[3],M[4],M[5])})}function U8(e,r,t,n,i,o,s,u,d){for(var h=H8(e,r,t,n,i,o,s,u,d),p=h.cx,v=h.cy,m=h.startAngle,C=h.deltaAngle,b=[],w=Math.ceil(Math.abs(C)/(Math.PI/2)),_=0;_<w;_++){var S=m+_*C/w,M=m+(_+1)*C/w,I=Y8(p,v,t,n,i,S,M);b.push(I)}return b}function H8(e,r,t,n,i,o,s,u,d){var h=i*Math.PI/180,p=(e-u)/2,v=(r-d)/2,m=Math.cos(h)*p+Math.sin(h)*v,C=-Math.sin(h)*p+Math.cos(h)*v,b=Math.pow(m,2)/Math.pow(t,2)+Math.pow(C,2)/Math.pow(n,2);b>1&&(t*=Math.sqrt(b),n*=Math.sqrt(b));var w=o===s?-1:1,_=Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(C,2)-Math.pow(n,2)*Math.pow(m,2),S=Math.pow(t,2)*Math.pow(C,2)+Math.pow(n,2)*Math.pow(m,2),M=w*Math.sqrt(Math.abs(_/S))*(t*C/n),I=w*Math.sqrt(Math.abs(_/S))*(-n*m/t),A=Math.cos(h)*M-Math.sin(h)*I+(e+u)/2,P=Math.sin(h)*M+Math.cos(h)*I+(r+d)/2,$=Math.atan2((C-I)/n,(m-M)/t),D=Math.atan2((-C-I)/n,(-m-M)/t)-$;return D<0&&s===1?D+=2*Math.PI:D>0&&s===0&&(D-=2*Math.PI),{cx:A,cy:P,startAngle:$,deltaAngle:D}}function Y8(e,r,t,n,i,o,s){var u=Math.sin(s-o)*(Math.sqrt(4+3*Math.pow(Math.tan((s-o)/2),2))-1)/3,d=Math.cos(i),h=Math.sin(i),p=e+t*Math.cos(o)*d-n*Math.sin(o)*h,v=r+t*Math.cos(o)*h+n*Math.sin(o)*d,m=e+t*Math.cos(s)*d-n*Math.sin(s)*h,C=r+t*Math.cos(s)*h+n*Math.sin(s)*d,b=p+u*(-t*Math.sin(o)*d-n*Math.cos(o)*h),w=v+u*(-t*Math.sin(o)*h+n*Math.cos(o)*d),_=m-u*(-t*Math.sin(s)*d-n*Math.cos(s)*h),S=C-u*(-t*Math.sin(s)*h+n*Math.cos(s)*d);return[b,w,_,S,m,C]}function X8(e,r,t){var n=[];n=n.concat(r);var i=t.lineWidth,o=i===void 0?1:i,s=t.color,u=s===void 0?"currentColor":s;e.lineWidth=o,e.strokeStyle=u,e.setLineDash([]),n.forEach(function(d){var h=d.x,p=d.y,v=d.path,m=v.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi);if(me(m)){var C=h,b=p;e.beginPath(),m.forEach(function(w){var _=0,S=0,M=0,I=0,A=w[0],P=w.slice(1).trim().split(/[\s,]+/).map(Number);switch(A){case"M":_=P[0]+C,S=P[1]+b,e.moveTo(_,S),M=_,I=S;break;case"m":_+=P[0],S+=P[1],e.moveTo(_,S),M=_,I=S;break;case"L":_=P[0]+C,S=P[1]+b,e.lineTo(_,S);break;case"l":_+=P[0],S+=P[1],e.lineTo(_,S);break;case"H":_=P[0]+C,e.lineTo(_,S);break;case"h":_+=P[0],e.lineTo(_,S);break;case"V":S=P[0]+b,e.lineTo(_,S);break;case"v":S+=P[0],e.lineTo(_,S);break;case"C":e.bezierCurveTo(P[0]+C,P[1]+b,P[2]+C,P[3]+b,P[4]+C,P[5]+b),_=P[4]+C,S=P[5]+b;break;case"c":e.bezierCurveTo(_+P[0],S+P[1],_+P[2],S+P[3],_+P[4],S+P[5]),_+=P[4],S+=P[5];break;case"S":e.bezierCurveTo(_,S,P[0]+C,P[1]+b,P[2]+C,P[3]+b),_=P[2]+C,S=P[3]+b;break;case"s":e.bezierCurveTo(_,S,_+P[0],S+P[1],_+P[2],S+P[3]),_+=P[2],S+=P[3];break;case"Q":e.quadraticCurveTo(P[0]+C,P[1]+b,P[2]+C,P[3]+b),_=P[2]+C,S=P[3]+b;break;case"q":e.quadraticCurveTo(_+P[0],S+P[1],_+P[2],S+P[3]),_+=P[2],S+=P[3];break;case"T":e.quadraticCurveTo(_,S,P[0]+C,P[1]+b),_=P[0]+C,S=P[1]+b;break;case"t":e.quadraticCurveTo(_,S,_+P[0],S+P[1]),_+=P[0],S+=P[1];break;case"A":hm(e,_,S,P,C,b,!1),_=P[5]+C,S=P[6]+b;break;case"a":hm(e,_,S,P,C,b,!0),_+=P[5],S+=P[6];break;case"Z":case"z":e.closePath(),_=M,S=I;break}}),t.style==="fill"?e.fill():e.stroke()}})}var j8={name:"path",checkEventOn:Wg,draw:function(e,r,t){X8(e,r,t)}},Ug={},Z8=[F8,s8,R8,N8,V8,W8,j8];Z8.forEach(function(e){Ug[e.name]=o8.extend(e)});function G8(e){var r;return(r=Ug[e])!==null&&r!==void 0?r:null}function Dd(e){var r;return(r=Ug[e])!==null&&r!==void 0?r:null}var Fa=function(e){Lt(r,e);function r(t){var n=e.call(this)||this;return n._widget=t,n}return r.prototype.getWidget=function(){return this._widget},r.prototype.createFigure=function(t,n){var i=G8(t.name);if(i!==null){var o=new i(t);if(me(n)){for(var s in n)n.hasOwnProperty(s)&&o.registerEvent(s,n[s]);this.addChild(o)}return o}return null},r.prototype.draw=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.clear(),this.drawImp(t,n)},r.prototype.checkEventOn=function(t){return!0},r}(zg),q8=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i,o=this.getWidget(),s=this.getWidget().getPane(),u=s.getChart(),d=o.getBounding(),h=u.getStyles().grid,p=h.show;if(p){t.save(),t.globalCompositeOperation="destination-over";var v=h.horizontal,m=v.show;if(m){var C=s.getAxisComponent(),b=C.getTicks().map(function(M){return{coordinates:[{x:0,y:M.coord},{x:d.width,y:M.coord}]}});(n=this.createFigure({name:"line",attrs:b,styles:v}))===null||n===void 0||n.draw(t)}var w=h.vertical,_=w.show;if(_){var S=u.getXAxisPane().getAxisComponent(),b=S.getTicks().map(function(I){return{coordinates:[{x:I.coord,y:0},{x:I.coord,y:d.height}]}});(i=this.createFigure({name:"line",attrs:b,styles:w}))===null||i===void 0||i.draw(t)}t.restore()}},r}(Fa),$2=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.eachChildren=function(t){for(var n=this.getWidget().getPane(),i=n.getChart().getChartStore(),o=i.getVisibleRangeDataList(),s=i.getBarSpace(),u=o.length,d=0;d<u;)t(o[d],s,d),++d},r}(Fa),pm=1e-6,W2=function(e){Lt(r,e);function r(){var t=e.apply(this,Fp([],A1(arguments),!1))||this;return t._heikinAshiCache=new Map,t._boundCandleBarClickEvent=function(n){return function(){return t.getWidget().getPane().getChart().getChartStore().executeAction("onCandleBarClick",n),!1}},t}return r.prototype.drawImp=function(t){var n=this,i=this.getWidget().getPane(),o=i.getId()===Rt.CANDLE,s=i.getChart().getChartStore(),u=this.getCandleBarOptions();if(u!==null){var d=u.type,h=u.styles,p=0,v=0;if(u.type==="ohlc"){var m=s.getBarSpace().gapBar;p=Math.min(Math.max(Math.round(m*.2),1),8),p>2&&p%2===1&&p--,v=Math.floor(p/2)}u.type!=="heikin_ashi"&&this._heikinAshiCache.clear();var C=i.getAxisComponent();this.eachChildren(function(b,w){var _,S=b.x,M=b.data,I=M.current,A=M.prev;if(me(I)){var P=I.open,$=I.high,D=I.low,z=I.close,V=h.compareRule==="current_open"?P:(_=A==null?void 0:A.close)!==null&&_!==void 0?_:z,W=[];z>V?(W[0]=h.upColor,W[1]=h.upBorderColor,W[2]=h.upWickColor):z<V?(W[0]=h.downColor,W[1]=h.downBorderColor,W[2]=h.downWickColor):(W[0]=h.noChangeColor,W[1]=h.noChangeBorderColor,W[2]=h.noChangeWickColor);var Q=C.convertToPixel(P),se=C.convertToPixel(z),X=[Q,se,C.convertToPixel($),C.convertToPixel(D)];X.sort(function(q,Z){return q-Z});var J=w.gapBar%2===0?1:0,le=[];switch(d){case"candle_solid":{le=n._createSolidBar(S,X,w,W,J);break}case"candle_stroke":{le=n._createStrokeBar(S,X,w,W,J);break}case"candle_up_stroke":{z>P?le=n._createStrokeBar(S,X,w,W,J):le=n._createSolidBar(S,X,w,W,J);break}case"candle_down_stroke":{P>z?le=n._createStrokeBar(S,X,w,W,J):le=n._createSolidBar(S,X,w,W,J);break}case"ohlc":{le=[{name:"rect",attrs:[{x:S-v,y:X[0],width:p,height:X[3]-X[0]},{x:S-w.halfGapBar,y:Q+p>X[3]?X[3]-p:Q,width:w.halfGapBar-v,height:p},{x:S+v,y:se+p>X[3]?X[3]-p:se,width:w.halfGapBar-v,height:p}],styles:{color:W[0]}}];break}case"heikin_ashi":{var j=n._calculateHeikinAshi(b);W=n._getHeikinAshiColors(j.haValues.open,j.haValues.close,P,z,h),le=n._createSolidBar(S,j.priceY,w,W,J);break}}le.forEach(function(q){var Z,re=null;o&&(re={mouseClickEvent:n._boundCandleBarClickEvent(b)}),(Z=n.createFigure(q,re??void 0))===null||Z===void 0||Z.draw(t)})}})}},r.prototype.getCandleBarOptions=function(){var t=this.getWidget().getPane().getChart().getStyles().candle;return{type:t.type,styles:t.bar}},r.prototype._createSolidBar=function(t,n,i,o,s){return[{name:"rect",attrs:{x:t,y:n[0],width:1,height:n[3]-n[0]},styles:{color:o[2]}},{name:"rect",attrs:{x:t-i.halfGapBar,y:n[1],width:i.gapBar+s,height:Math.max(1,n[2]-n[1])},styles:{style:"stroke_fill",color:o[0],borderColor:o[1]}}]},r.prototype._createStrokeBar=function(t,n,i,o,s){return[{name:"rect",attrs:[{x:t,y:n[0],width:1,height:n[1]-n[0]},{x:t,y:n[2],width:1,height:n[3]-n[2]}],styles:{color:o[2]}},{name:"rect",attrs:{x:t-i.halfGapBar,y:n[1],width:i.gapBar+s,height:Math.max(1,n[2]-n[1])},styles:{style:"stroke",borderColor:o[1]}}]},r.prototype._calculateHeikinAshi=function(t){var n=t.data,i=t.dataIndex,o=n.current,s=o.open,u=o.high,d=o.low,h=o.close,p=this._heikinAshiCache.get(i);if(p!==void 0){var v=this.getWidget().getPane().getAxisComponent(),m=[v.convertToPixel(p.open),v.convertToPixel(p.close),v.convertToPixel(p.high),v.convertToPixel(p.low)];return m.sort(function($,D){return $-D}),{priceY:m,haValues:p}}var C=(s+u+d+h)/4,b=0;if(i>0){var w=this._getHeikinAshiValues(i-1);if(w!==null)b=(w.open+w.close)/2;else{var _=this.getPreviousData(i);_!==null?b=(_.open+_.close)/2:b=s}}else b=(s+h)/2;var S=Math.max(u,b,C),M=Math.min(d,b,C),I={open:b,high:S,low:M,close:C};this._heikinAshiCache.set(i,I);var A=this.getWidget().getPane().getAxisComponent(),P=[A.convertToPixel(b),A.convertToPixel(C),A.convertToPixel(S),A.convertToPixel(M)];return P.sort(function($,D){return $-D}),{priceY:P,haValues:I}},r.prototype._getHeikinAshiValues=function(t){var n=this._heikinAshiCache.get(t);if(n!==void 0)return n;var i=this.getWidget().getPane().getChart().getChartStore().getDataList();if(t<0||t>=i.length)return null;var o=i[t],s=null;t>0&&(s=this._getHeikinAshiValues(t-1));var u=o.open,d=o.high,h=o.low,p=o.close,v=(u+d+h+p)/4,m=0;s!==null?m=(s.open+s.close)/2:m=(u+p)/2;var C=Math.max(d,m,v),b=Math.min(h,m,v),w={open:m,high:C,low:b,close:v};return this._heikinAshiCache.set(t,w),w},r.prototype.getPreviousData=function(t){var n=this.getWidget().getPane(),i=n.getChart().getChartStore(),o=i.getDataList();return t<=0||t>=o.length?null:t>0&&t<o.length?o[t-1]:null},r.prototype._getHeikinAshiColors=function(t,n,i,o,s){var u=[],d=n-t;return d>pm?(u[0]=s.upColor,u[1]=s.upBorderColor,u[2]=s.upWickColor):d<-pm?(u[0]=s.downColor,u[1]=s.downBorderColor,u[2]=s.downWickColor):o>i?(u[0]=s.upColor,u[1]=s.upBorderColor,u[2]=s.upWickColor):o<i?(u[0]=s.downColor,u[1]=s.downBorderColor,u[2]=s.downWickColor):(u[0]=s.noChangeColor,u[1]=s.noChangeBorderColor,u[2]=s.noChangeWickColor),u},r}($2),K8=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getCandleBarOptions=function(){var t,n,i=this.getWidget().getPane(),o=i.getAxisComponent();if(!o.isInCandle()){var s=i.getChart().getChartStore(),u=s.getIndicatorsByPaneId(i.getId());try{for(var d=oo(u),h=d.next();!h.done;h=d.next()){var p=h.value;if(p.shouldOhlc&&p.visible){var v=p.styles,m=s.getStyles().indicator,C=wn(v,"ohlc.compareRule",m.ohlc.compareRule),b=wn(v,"ohlc.upColor",m.ohlc.upColor),w=wn(v,"ohlc.downColor",m.ohlc.downColor),_=wn(v,"ohlc.noChangeColor",m.ohlc.noChangeColor);return{type:"ohlc",styles:{compareRule:C,upColor:b,downColor:w,noChangeColor:_,upBorderColor:b,downBorderColor:w,noChangeBorderColor:_,upWickColor:b,downWickColor:w,noChangeWickColor:_}}}}}catch(S){t={error:S}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}return null},r.prototype.drawImp=function(t){var n=this;e.prototype.drawImp.call(this,t);var i=this.getWidget(),o=i.getPane(),s=o.getChart(),u=i.getBounding(),d=s.getXAxisPane().getAxisComponent(),h=o.getAxisComponent(),p=s.getChartStore(),v=p.getIndicatorsByPaneId(o.getId()),m=p.getStyles().indicator;t.save(),v.forEach(function(C){if(C.visible){C.zLevel<0?t.globalCompositeOperation="destination-over":t.globalCompositeOperation="source-over";var b=!1;if(C.draw!==null&&(t.save(),b=C.draw({ctx:t,chart:s,indicator:C,bounding:u,xAxis:d,yAxis:h}),t.restore()),!b){var w=C.result,_=[];n.eachChildren(function(S,M){var I,A,P,$,D,z,V,W,Q,se,X,J,le,j,q,Z=M.halfGapBar,re=S.dataIndex,ee=S.x,H=S.data,B=d.convertToPixel(re-1),he=d.convertToPixel(re+1),Ce=(P=w[(A=(I=H.prev)===null||I===void 0?void 0:I.timestamp)!==null&&A!==void 0?A:""])!==null&&P!==void 0?P:{},be=(z=w[(D=($=H.current)===null||$===void 0?void 0:$.timestamp)!==null&&D!==void 0?D:""])!==null&&z!==void 0?z:{},xe=(Q=w[(W=(V=H.next)===null||V===void 0?void 0:V.timestamp)!==null&&W!==void 0?W:""])!==null&&Q!==void 0?Q:{},Ve={x:B},Re={x:ee},Ae={x:he};C.figures.forEach(function(ve){var Te=ve.key,Ne=Ce[Te];lt(Ne)&&(Ve[Te]=h.convertToPixel(Ne));var tt=be[Te];lt(tt)&&(Re[Te]=h.convertToPixel(tt));var Ge=xe[Te];lt(Ge)&&(Ae[Te]=h.convertToPixel(Ge))}),Rg(C,{prev:(X=(se=H.prev)===null||se===void 0?void 0:se.timestamp)!==null&&X!==void 0?X:null,current:(le=(J=H.current)===null||J===void 0?void 0:J.timestamp)!==null&&le!==void 0?le:null,next:(q=(j=H.next)===null||j===void 0?void 0:j.timestamp)!==null&&q!==void 0?q:null},m,function(ve,Te,Ne){var tt,Ge,gt;if(me(be[ve.key])){var vt=Re[ve.key],mt=(tt=ve.attrs)===null||tt===void 0?void 0:tt.call(ve,{data:{prev:Ce,current:be,next:xe},coordinate:{prev:Ve,current:Re,next:Ae},bounding:u,barSpace:M,xAxis:d,yAxis:h});if(!me(mt))switch(ve.type){case"circle":{mt={x:ee,y:vt,r:Math.max(1,Z)};break}case"rect":case"bar":{var nr=(Ge=ve.baseValue)!==null&&Ge!==void 0?Ge:h.getRange().from,cr=h.convertToPixel(nr),Kt=Math.abs(cr-vt);nr!==be[ve.key]&&(Kt=Math.max(1,Kt));var Tt=0;vt>cr?Tt=cr:Tt=vt,mt={x:ee-Z,y:Tt,width:Math.max(1,Z*2),height:Kt};break}case"line":{me(_[Ne])||(_[Ne]=[]),lt(Re[ve.key])&&lt(Ae[ve.key])&&_[Ne].push({coordinates:[{x:Re.x,y:Re[ve.key]},{x:Ae.x,y:Ae[ve.key]}],styles:Te});break}}var fr=ve.type;me(mt)&&fr!=="line"&&((gt=n.createFigure({name:fr==="bar"?"rect":fr,attrs:mt,styles:Te}))===null||gt===void 0||gt.draw(t))}})}),_.forEach(function(S){var M,I,A,P;if(S.length>1){for(var $=[{coordinates:[S[0].coordinates[0],S[0].coordinates[1]],styles:S[0].styles}],D=1;D<S.length;D++){var z=$[$.length-1],V=S[D],W=z.coordinates[z.coordinates.length-1];W.x===V.coordinates[0].x&&W.y===V.coordinates[0].y&&z.styles.style===V.styles.style&&z.styles.color===V.styles.color&&z.styles.size===V.styles.size&&z.styles.smooth===V.styles.smooth&&((M=z.styles.dashedValue)===null||M===void 0?void 0:M[0])===((I=V.styles.dashedValue)===null||I===void 0?void 0:I[0])&&((A=z.styles.dashedValue)===null||A===void 0?void 0:A[1])===((P=V.styles.dashedValue)===null||P===void 0?void 0:P[1])?z.coordinates.push(V.coordinates[1]):$.push({coordinates:[V.coordinates[0],V.coordinates[1]],styles:V.styles})}$.forEach(function(Q){var se,X=Q.coordinates,J=Q.styles;(se=n.createFigure({name:"line",attrs:{coordinates:X},styles:J}))===null||se===void 0||se.draw(t)})}})}}}),t.restore()},r}(W2),Q8=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane(),o=n.getBounding(),s=n.getPane().getChart().getChartStore(),u=s.getCrosshair(),d=s.getStyles().crosshair;if(or(u.paneId)&&d.show){if(u.paneId===i.getId()){var h=u.y;this._drawLine(t,[{x:0,y:h},{x:o.width,y:h}],d.horizontal)}var p=u.realX;this._drawLine(t,[{x:p,y:0},{x:p,y:o.height}],d.vertical)}},r.prototype._drawLine=function(t,n,i){var o;if(i.show){var s=i.line;s.show&&((o=this.createFigure({name:"line",attrs:{coordinates:n},styles:s}))===null||o===void 0||o.draw(t))}},r}(Fa),U2=function(e){Lt(r,e);function r(t){var n=e.call(this,t)||this;return n._activeFeatureInfo=null,n._featureClickEvent=function(i,o){return function(){var s=n.getWidget().getPane();return s.getChart().getChartStore().executeAction(i,o),!0}},n._featureMouseMoveEvent=function(i){return function(){return n._activeFeatureInfo=i,!0}},n.registerEvent("mouseMoveEvent",function(i){return n._activeFeatureInfo=null,!1}),n}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane(),o=i.getChart().getChartStore(),s=o.getCrosshair();if(me(s.kLineData)){var u=n.getBounding(),d=o.getStyles().indicator.tooltip,h=d.offsetLeft,p=d.offsetTop,v=d.offsetRight;this.drawIndicatorTooltip(t,h,p,u.width-v)}},r.prototype.drawIndicatorTooltip=function(t,n,i,o){var s=this,u=this.getWidget().getPane(),d=u.getChart().getChartStore(),h=d.getStyles().indicator,p=h.tooltip;if(this.isDrawTooltip(d.getCrosshair(),p)){var v=d.getIndicatorsByPaneId(u.getId()),m=p.title,C=p.legend;v.forEach(function(b){var w=0,_={x:n,y:i},S=s.getIndicatorTooltipData(b),M=S.name,I=S.calcParamsText,A=S.legends,P=S.features,$=M.length>0,D=A.length>0;if($||D){var z=s.classifyTooltipFeatures(P);if(w=s.drawStandardTooltipFeatures(t,z[0],_,b,n,w,o),$){var V=M;I.length>0&&(V="".concat(V).concat(I));var W=m.color;w=s.drawStandardTooltipLegends(t,[{title:{text:"",color:W},value:{text:V,color:W}}],_,n,w,o,m)}w=s.drawStandardTooltipFeatures(t,z[1],_,b,n,w,o),D&&(w=s.drawStandardTooltipLegends(t,A,_,n,w,o,C)),w=s.drawStandardTooltipFeatures(t,z[2],_,b,n,w,o),i=_.y+w}})}return i},r.prototype.drawStandardTooltipFeatures=function(t,n,i,o,s,u,d){var h=this;if(n.length>0){var p=0,v=0;n.forEach(function(b){var w=b.marginLeft,_=w===void 0?0:w,S=b.marginTop,M=S===void 0?0:S,I=b.marginRight,A=I===void 0?0:I,P=b.marginBottom,$=P===void 0?0:P,D=b.paddingLeft,z=D===void 0?0:D,V=b.paddingTop,W=V===void 0?0:V,Q=b.paddingRight,se=Q===void 0?0:Q,X=b.paddingBottom,J=X===void 0?0:X,le=b.size,j=le===void 0?0:le,q=b.type,Z=b.content,re=0;if(q==="icon_font"){var ee=Z;t.font=Vc(j,"normal",ee.family),re=t.measureText(ee.code).width}else re=j;p+=_+z+re+se+A,v=Math.max(v,M+W+j+J+$)}),i.x+p>d?(i.x=s,i.y+=u,u=v):u=Math.max(u,v);var m=this.getWidget().getPane(),C=m.getId();n.forEach(function(b){var w,_,S,M,I,A=b.marginLeft,P=A===void 0?0:A,$=b.marginTop,D=$===void 0?0:$,z=b.marginRight,V=z===void 0?0:z,W=b.paddingLeft,Q=W===void 0?0:W,se=b.paddingTop,X=se===void 0?0:se,J=b.paddingRight,le=J===void 0?0:J,j=b.paddingBottom,q=j===void 0?0:j,Z=b.backgroundColor,re=b.activeBackgroundColor,ee=b.borderRadius,H=b.size,B=H===void 0?0:H,he=b.color,Ce=b.activeColor,be=b.type,xe=b.content,Ve=he,Re=Z;((w=h._activeFeatureInfo)===null||w===void 0?void 0:w.paneId)===C&&((_=h._activeFeatureInfo.indicator)===null||_===void 0?void 0:_.id)===(o==null?void 0:o.id)&&h._activeFeatureInfo.feature.id===b.id&&(Ve=Ce??he,Re=re??Z);var Ae="onCandleTooltipFeatureClick",ve={paneId:C,feature:b};me(o)&&(Ae="onIndicatorTooltipFeatureClick",ve.indicator=o);var Te={mouseClickEvent:h._featureClickEvent(Ae,ve),mouseMoveEvent:h._featureMouseMoveEvent(ve)},Ne=0;if(be==="icon_font"){var tt=xe;(S=h.createFigure({name:"text",attrs:{text:tt.code,x:i.x+P,y:i.y+D},styles:{paddingLeft:Q,paddingTop:X,paddingRight:le,paddingBottom:q,borderRadius:ee,size:B,family:tt.family,color:Ve,backgroundColor:Re}},Te))===null||S===void 0||S.draw(t),Ne=t.measureText(tt.code).width}else{(M=h.createFigure({name:"rect",attrs:{x:i.x+P,y:i.y+D,width:B,height:B},styles:{paddingLeft:Q,paddingTop:X,paddingRight:le,paddingBottom:q,color:Re}},Te))===null||M===void 0||M.draw(t);var Ge=xe;(I=h.createFigure({name:"path",attrs:{path:Ge.path,x:i.x+P+Q,y:i.y+D+X,width:B,height:B},styles:{style:Ge.style,lineWidth:Ge.lineWidth,color:Ve}}))===null||I===void 0||I.draw(t),Ne=B}i.x+=P+Q+Ne+le+V})}return u},r.prototype.drawStandardTooltipLegends=function(t,n,i,o,s,u,d){var h=this;if(n.length>0){var p=d.marginLeft,v=d.marginTop,m=d.marginRight,C=d.marginBottom,b=d.size,w=d.family,_=d.weight;t.font=Vc(b,_,w),n.forEach(function(S){var M,I,A=S.title,P=S.value,$=t.measureText(A.text).width,D=t.measureText(P.text).width,z=$+D,V=v+b+C;i.x+p+z+m>u?(i.x=o,i.y+=s,s=V):s=Math.max(s,V),A.text.length>0&&((M=h.createFigure({name:"text",attrs:{x:i.x+p,y:i.y+v,text:A.text},styles:{color:A.color,size:b,family:w,weight:_}}))===null||M===void 0||M.draw(t)),(I=h.createFigure({name:"text",attrs:{x:i.x+p+$,y:i.y+v,text:P.text},styles:{color:P.color,size:b,family:w,weight:_}}))===null||I===void 0||I.draw(t),i.x+=p+z+m})}return s},r.prototype.isDrawTooltip=function(t,n){var i=n.showRule;return i==="always"||i==="follow_cross"&&or(t.paneId)},r.prototype.getIndicatorTooltipData=function(t){var n,i,o,s=this.getWidget().getPane().getChart().getChartStore(),u=s.getStyles().indicator,d=u.tooltip,h=d.title,p="",v="";if(h.show&&(h.showName&&(p=t.shortName),h.showParams)){var m=t.calcParams;m.length>0&&(v="(".concat(m.join(","),")"))}var C={name:p,calcParamsText:v,legends:[],features:d.features},b=s.getCrosshair().dataIndex,w=t.result,_=s.getInnerFormatter(),S=s.getDecimalFold(),M=s.getThousandsSeparator(),I=[];if(t.visible){var A=s.getDataList(),P=(n=A[b])!==null&&n!==void 0?n:{},$=(i=A[b-1])!==null&&i!==void 0?i:{},D=w[P.timestamp];!me(D)&&b===A.length-1&&(D=w[$.timestamp]);var z=d.legend.defaultValue;Rg(t,{prev:$.timestamp,current:P.timestamp,next:(o=A[b])===null||o===void 0?void 0:o.timestamp},u,function(re,ee){if(or(re.title)){var H=ee.color,B=D==null?void 0:D[re.key];lt(B)&&(B=jn(B,t.precision),t.shouldFormatBigNumber&&(B=_.formatBigNumber(B)),B=S.format(M.format(B))),I.push({title:{text:re.title,color:H},value:{text:B??z,color:H}})}}),C.legends=I}if(ci(t.createTooltipDataSource)){var V=this.getWidget(),W=V.getPane(),Q=W.getChart(),se=t.createTooltipDataSource({chart:Q,indicator:t,crosshair:s.getCrosshair(),bounding:V.getBounding(),xAxis:W.getChart().getXAxisPane().getAxisComponent(),yAxis:W.getAxisComponent()}),X=se.name,J=se.calcParamsText,le=se.legends,j=se.features;if(h.show&&(or(X)&&h.showName&&(C.name=X),or(J)&&h.showParams&&(C.calcParamsText=J)),me(j)&&(C.features=j),me(le)&&t.visible){var q=[],Z=u.tooltip.legend.color;le.forEach(function(re){var ee={text:"",color:Z};ro(re.title)?ee=re.title:ee.text=re.title;var H={text:"",color:Z};ro(re.value)?H=re.value:H.text=re.value,lt(Number(H.text))&&(H.text=S.format(M.format(H.text))),q.push({title:ee,value:H})}),C.legends=q}}return C},r.prototype.classifyTooltipFeatures=function(t){var n=[],i=[],o=[];return t.forEach(function(s){switch(s.position){case"left":{n.push(s);break}case"middle":{i.push(s);break}case"right":{o.push(s);break}}}),[n,i,o]},r}(Fa),H2=function(e){Lt(r,e);function r(t){var n=e.call(this,t)||this;return n._initEvent(),n}return r.prototype._initEvent=function(){var t=this,n=this.getWidget(),i=n.getPane(),o=i.getId(),s=i.getChart(),u=s.getChartStore();this.registerEvent("mouseMoveEvent",function(d){var h,p=u.getProgressOverlayInfo();if(p!==null){var v=p.overlay,m=p.paneId;v.isStart()&&(u.updateProgressOverlayInfo(o),m=o);var C=v.points.length-1;return v.isDrawing()&&m===o&&(v.eventMoveForDrawing(t._coordinateToPoint(v,d)),(h=v.onDrawing)===null||h===void 0||h.call(v,je({chart:s,overlay:v},d))),t._figureMouseMoveEvent(v,"point",C,{key:"".concat(dd,"point_").concat(C),type:"circle",attrs:{}})(d)}return u.setHoverOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null},function(b,w){return t._processOverlayMouseEnterEvent(b,w,d)},function(b,w){return t._processOverlayMouseLeaveEvent(b,w,d)}),n.setForceCursor(null),!1}).registerEvent("mouseClickEvent",function(d){var h,p,v=u.getProgressOverlayInfo();if(v!==null){var m=v.overlay,C=v.paneId;m.isStart()&&(u.updateProgressOverlayInfo(o,!0),C=o);var b=m.points.length-1;return m.isDrawing()&&C===o&&(m.eventMoveForDrawing(t._coordinateToPoint(m,d)),(h=m.onDrawing)===null||h===void 0||h.call(m,je({chart:s,overlay:m},d)),m.nextStep(),m.isDrawing()||(u.progressOverlayComplete(),(p=m.onDrawEnd)===null||p===void 0||p.call(m,je({chart:s,overlay:m},d)))),t._figureMouseClickEvent(m,"point",b,{key:"".concat(dd,"point_").concat(b),type:"circle",attrs:{}})(d)}return u.setClickOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null},function(w,_){return t._processOverlaySelectedEvent(w,_,d)},function(w,_){return t._processOverlayDeselectedEvent(w,_,d)}),!1}).registerEvent("mouseDoubleClickEvent",function(d){var h,p=u.getProgressOverlayInfo();if(p!==null){var v=p.overlay,m=p.paneId;v.isDrawing()&&m===o&&(v.forceComplete(),v.isDrawing()||(u.progressOverlayComplete(),(h=v.onDrawEnd)===null||h===void 0||h.call(v,je({chart:s,overlay:v},d))));var C=v.points.length-1;return t._figureMouseClickEvent(v,"point",C,{key:"".concat(dd,"point_").concat(C),type:"circle",attrs:{}})(d)}return!1}).registerEvent("mouseRightClickEvent",function(d){var h=u.getProgressOverlayInfo();if(h!==null){var p=h.overlay;if(p.isDrawing()){var v=p.points.length-1;return t._figureMouseRightClickEvent(p,"point",v,{key:"".concat(dd,"point_").concat(v),type:"circle",attrs:{}})(d)}}return!1}).registerEvent("mouseUpEvent",function(d){var h,p=u.getPressedOverlayInfo(),v=p.overlay,m=p.figure;return v!==null&&to("onPressedMoveEnd",m)&&((h=v.onPressedMoveEnd)===null||h===void 0||h.call(v,je({chart:s,overlay:v,figure:m??void 0},d))),u.setPressedOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null}),!1}).registerEvent("pressedMouseMoveEvent",function(d){var h,p=u.getPressedOverlayInfo(),v=p.overlay,m=p.figureType,C=p.figureIndex,b=p.figure;if(v!==null&&to("onPressedMoving",b)){if(!v.lock){var w=t._coordinateToPoint(v,d);m==="point"?v.eventPressedPointMove(w,C):v.eventPressedOtherMove(w,t.getWidget().getPane().getChart().getChartStore());var _=!1;(h=v.onPressedMoving)===null||h===void 0||h.call(v,je(je({chart:s,overlay:v,figure:b??void 0},d),{preventDefault:function(){_=!0}})),_?t.getWidget().setForceCursor(null):t.getWidget().setForceCursor("pointer")}return!0}return t.getWidget().setForceCursor(null),!1})},r.prototype._createFigureEvents=function(t,n,i,o){return t.isDrawing()?null:{mouseMoveEvent:this._figureMouseMoveEvent(t,n,i,o),mouseDownEvent:this._figureMouseDownEvent(t,n,i,o),mouseClickEvent:this._figureMouseClickEvent(t,n,i,o),mouseRightClickEvent:this._figureMouseRightClickEvent(t,n,i,o),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(t,n,i,o)}},r.prototype._processOverlayMouseEnterEvent=function(t,n,i){return ci(t.onMouseEnter)&&to("onMouseEnter",n)?(t.onMouseEnter(je({chart:this.getWidget().getPane().getChart(),overlay:t,figure:n??void 0},i)),!0):!1},r.prototype._processOverlayMouseLeaveEvent=function(t,n,i){return ci(t.onMouseLeave)&&to("onMouseLeave",n)?(t.onMouseLeave(je({chart:this.getWidget().getPane().getChart(),overlay:t,figure:n??void 0},i)),!0):!1},r.prototype._processOverlaySelectedEvent=function(t,n,i){var o;return to("onSelected",n)?((o=t.onSelected)===null||o===void 0||o.call(t,je({chart:this.getWidget().getPane().getChart(),overlay:t,figure:n??void 0},i)),!0):!1},r.prototype._processOverlayDeselectedEvent=function(t,n,i){var o;return to("onDeselected",n)?((o=t.onDeselected)===null||o===void 0||o.call(t,je({chart:this.getWidget().getPane().getChart(),overlay:t,figure:n??void 0},i)),!0):!1},r.prototype._figureMouseMoveEvent=function(t,n,i,o){var s=this;return function(u){var d,h=s.getWidget().getPane(),p=!t.isDrawing()&&to("onMouseMove",o);if(p){var v=!1;(d=t.onMouseMove)===null||d===void 0||d.call(t,je(je({chart:h.getChart(),overlay:t,figure:o},u),{preventDefault:function(){v=!0}})),v?s.getWidget().setForceCursor(null):s.getWidget().setForceCursor("pointer")}return h.getChart().getChartStore().setHoverOverlayInfo({paneId:h.getId(),overlay:t,figureType:n,figure:o,figureIndex:i},function(m,C){return s._processOverlayMouseEnterEvent(m,C,u)},function(m,C){return s._processOverlayMouseLeaveEvent(m,C,u)}),p}},r.prototype._figureMouseDownEvent=function(t,n,i,o){var s=this;return function(u){var d,h=s.getWidget().getPane(),p=h.getId();return t.startPressedMove(s._coordinateToPoint(t,u)),to("onPressedMoveStart",o)?((d=t.onPressedMoveStart)===null||d===void 0||d.call(t,je({chart:h.getChart(),overlay:t,figure:o},u)),h.getChart().getChartStore().setPressedOverlayInfo({paneId:p,overlay:t,figureType:n,figureIndex:i,figure:o}),!t.isDrawing()):!1}},r.prototype._figureMouseClickEvent=function(t,n,i,o){var s=this;return function(u){var d,h=s.getWidget().getPane(),p=h.getId(),v=!t.isDrawing()&&to("onClick",o);return v&&((d=t.onClick)===null||d===void 0||d.call(t,je({chart:s.getWidget().getPane().getChart(),overlay:t,figure:o},u))),h.getChart().getChartStore().setClickOverlayInfo({paneId:p,overlay:t,figureType:n,figureIndex:i,figure:o},function(m,C){return s._processOverlaySelectedEvent(m,C,u)},function(m,C){return s._processOverlayDeselectedEvent(m,C,u)}),v}},r.prototype._figureMouseDoubleClickEvent=function(t,n,i,o){var s=this;return function(u){var d;return to("onDoubleClick",o)?((d=t.onDoubleClick)===null||d===void 0||d.call(t,je(je({},u),{chart:s.getWidget().getPane().getChart(),figure:o,overlay:t})),!t.isDrawing()):!1}},r.prototype._figureMouseRightClickEvent=function(t,n,i,o){var s=this;return function(u){var d;if(to("onRightClick",o)){var h=!1;return(d=t.onRightClick)===null||d===void 0||d.call(t,je(je({chart:s.getWidget().getPane().getChart(),overlay:t,figure:o},u),{preventDefault:function(){h=!0}})),h||s.getWidget().getPane().getChart().getChartStore().removeOverlay(t),!t.isDrawing()}return!1}},r.prototype._coordinateToPoint=function(t,n){var i,o={},s=this.getWidget().getPane(),u=s.getChart(),d=s.getId(),h=u.getChartStore();if(this.coordinateToPointTimestampDataIndexFlag()){var p=u.getXAxisPane().getAxisComponent(),v=p.convertFromPixel(n.x),m=(i=h.dataIndexToTimestamp(v))!==null&&i!==void 0?i:void 0;o.timestamp=m,o.dataIndex=v}if(this.coordinateToPointValueFlag()){var C=s.getAxisComponent(),b=C.convertFromPixel(n.y);if(t.mode!=="normal"&&d===Rt.CANDLE&&lt(o.dataIndex)){var w=h.getDataByDataIndex(o.dataIndex);if(w!==null){var _=t.modeSensitivity;if(b>w.high)if(t.mode==="weak_magnet"){var S=C.convertToPixel(w.high),M=C.convertFromPixel(S-_);b<M&&(b=w.high)}else b=w.high;else if(b<w.low)if(t.mode==="weak_magnet"){var I=C.convertToPixel(w.low),M=C.convertFromPixel(I-_);b>M&&(b=w.low)}else b=w.low;else{var A=Math.max(w.open,w.close),P=Math.min(w.open,w.close);b>A?b-A<w.high-b?b=A:b=w.high:b<P?b-w.low<P-b?b=w.low:b=P:A-b<b-P?b=A:b=P}}}o.value=b}return o},r.prototype.coordinateToPointValueFlag=function(){return!0},r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},r.prototype.dispatchEvent=function(t,n){return this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()?this.onEvent(t,n):e.prototype.dispatchEvent.call(this,t,n)},r.prototype.drawImp=function(t){var n=this,i=this.getCompleteOverlays();i.forEach(function(s){s.visible&&n._drawOverlay(t,s)});var o=this.getProgressOverlay();me(o)&&o.visible&&this._drawOverlay(t,o)},r.prototype._drawOverlay=function(t,n){var i=n.points,o=this.getWidget().getPane(),s=o.getChart(),u=s.getChartStore(),d=o.getAxisComponent(),h=s.getXAxisPane().getAxisComponent(),p=i.map(function(m){var C,b=null;lt(m.timestamp)&&(b=u.timestampToDataIndex(m.timestamp));var w={x:0,y:0};return lt(b)&&(w.x=h.convertToPixel(b)),lt(m.value)&&(w.y=(C=d==null?void 0:d.convertToPixel(m.value))!==null&&C!==void 0?C:0),w});if(p.length>0){var v=[].concat(this.getFigures(n,p));this.drawFigures(t,n,v)}this.drawDefaultFigures(t,n,p)},r.prototype.drawFigures=function(t,n,i){var o=this,s=this.getWidget().getPane().getChart().getStyles().overlay;i.forEach(function(u,d){var h=u.type,p=u.styles,v=u.attrs,m=[].concat(v);m.forEach(function(C){var b,w,_=o._createFigureEvents(n,"other",d,u),S=je(je(je({},s[h]),(b=n.styles)===null||b===void 0?void 0:b[h]),p);(w=o.createFigure({name:h,attrs:C,styles:S},_??void 0))===null||w===void 0||w.draw(t)})})},r.prototype.getCompleteOverlays=function(){var t=this.getWidget().getPane();return t.getChart().getChartStore().getOverlaysByPaneId(t.getId())},r.prototype.getProgressOverlay=function(){var t=this.getWidget().getPane(),n=t.getChart().getChartStore().getProgressOverlayInfo();return me(n)&&n.paneId===t.getId()?n.overlay:null},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),p=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createPointFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:p,yAxis:h}))!==null&&o!==void 0?o:[]},r.prototype.drawDefaultFigures=function(t,n,i){var o=this,s,u;if(n.needDefaultPointFigure){var d=this.getWidget().getPane().getChart().getChartStore(),h=d.getHoverOverlayInfo(),p=d.getClickOverlayInfo();if(((s=h.overlay)===null||s===void 0?void 0:s.id)===n.id&&h.figureType!=="none"||((u=p.overlay)===null||u===void 0?void 0:u.id)===n.id&&p.figureType!=="none"){var v=d.getStyles().overlay,m=n.styles,C=je(je({},v.point),m==null?void 0:m.point);i.forEach(function(b,w){var _,S,M,I,A,P=b.x,$=b.y,D=C.radius,z=C.color,V=C.borderColor,W=C.borderSize;((_=h.overlay)===null||_===void 0?void 0:_.id)===n.id&&h.figureType==="point"&&((S=h.figure)===null||S===void 0?void 0:S.key)==="".concat(dd,"point_").concat(w)&&(D=C.activeRadius,z=C.activeColor,V=C.activeBorderColor,W=C.activeBorderSize),(I=o.createFigure({name:"circle",attrs:{x:P,y:$,r:D+W},styles:{color:V}},(M=o._createFigureEvents(n,"point",w,{key:"".concat(dd,"point_").concat(w),type:"circle",attrs:{x:P,y:$,r:D+W},styles:{color:V}}))!==null&&M!==void 0?M:void 0))===null||I===void 0||I.draw(t),(A=o.createFigure({name:"circle",attrs:{x:P,y:$,r:D},styles:{color:z}}))===null||A===void 0||A.draw(t)})}}},r}(Fa),Y2=function(e){Lt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._gridView=new q8(i),i._indicatorView=new K8(i),i._crosshairLineView=new Q8(i),i._tooltipView=i.createTooltipView(),i._overlayView=new H2(i),i.addChild(i._tooltipView),i.addChild(i._overlayView),i}return r.prototype.getName=function(){return Vt.MAIN},r.prototype.updateMain=function(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t))},r.prototype.createTooltipView=function(){return new U2(this)},r.prototype.updateMainContent=function(t){},r.prototype.updateOverlayContent=function(t){},r.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t),this.updateOverlayContent(t)),this._tooltipView.draw(t)},r}($g),J8=function(e){Lt(r,e);function r(){var t=e.apply(this,Fp([],A1(arguments),!1))||this;return t._ripplePoint=t.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),t._animationFrameTime=0,t._animation=new yg({iterationCount:1/0}).doFrame(function(n){t._animationFrameTime=n;var i=t.getWidget().getPane();i.getChart().updatePane(0,i.getId())}),t}return r.prototype.drawImp=function(t){var n,i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=d.getDataList(),p=h.length-1,v=s.getBounding(),m=u.getAxisComponent(),C=d.getStyles().candle.area,b=[],w=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,S=null;if(this.eachChildren(function(D){var z=D.x,V=D.data.current,W=V==null?void 0:V[C.value];if(lt(W)){var Q=m.convertToPixel(W);_===Number.MIN_SAFE_INTEGER&&(_=z),b.push({x:z,y:Q}),w=Math.min(w,Q),D.dataIndex===p&&(S={x:z,y:Q})}}),b.length>0){(n=this.createFigure({name:"line",attrs:{coordinates:b},styles:{color:C.lineColor,size:C.lineSize,smooth:C.smooth}}))===null||n===void 0||n.draw(t);var M=C.backgroundColor,I="";if(Bo(M)){var A=t.createLinearGradient(0,v.height,0,w);try{M.forEach(function(D){var z=D.offset,V=D.color;A.addColorStop(z,V)})}catch{}I=A}else I=M;t.fillStyle=I,t.beginPath(),t.moveTo(_,v.height),t.lineTo(b[0].x,b[0].y),P2(t,b,C.smooth),t.lineTo(b[b.length-1].x,v.height),t.closePath(),t.fill()}var P=C.point;if(P.show&&me(S)){(i=this.createFigure({name:"circle",attrs:{x:S.x,y:S.y,r:P.radius},styles:{style:"fill",color:P.color}}))===null||i===void 0||i.draw(t);var $=P.rippleRadius;P.animation&&($=P.radius+this._animationFrameTime/P.animationDuration*(P.rippleRadius-P.radius),this._animation.setDuration(P.animationDuration).start()),(o=this._ripplePoint)===null||o===void 0||o.setAttrs({x:S.x,y:S.y,r:$}).setStyles({style:"fill",color:P.rippleColor}).draw(t)}else this.stopAnimation()},r.prototype.stopAnimation=function(){this._animation.stop()},r}($2),e7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i,o=this.getWidget(),s=o.getPane(),u=s.getChart().getChartStore(),d=u.getStyles().candle.priceMark,h=d.high,p=d.low;if(d.show&&(h.show||p.show)){var v=u.getVisibleRangeHighLowPrice(),m=(i=(n=u.getSymbol())===null||n===void 0?void 0:n.pricePrecision)!==null&&i!==void 0?i:2,C=s.getAxisComponent(),b=v[0],w=b.price,_=b.x,S=v[1],M=S.price,I=S.x,A=C.convertToPixel(w),P=C.convertToPixel(M),$=u.getDecimalFold(),D=u.getThousandsSeparator();h.show&&w!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,$.format(D.format(jn(w,m))),{x:_,y:A},A<P?[-2,-5]:[2,5],h),p.show&&M!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,$.format(D.format(jn(M,m))),{x:I,y:P},A<P?[2,5]:[-2,-5],p)}},r.prototype._drawMark=function(t,n,i,o,s){var u,d,h,p=i.x,v=i.y+o[0];(u=this.createFigure({name:"line",attrs:{coordinates:[{x:p-2,y:v+o[0]},{x:p,y:v},{x:p+2,y:v+o[0]}]},styles:{color:s.color}}))===null||u===void 0||u.draw(t);var m=0,C=0,b="left",w=this.getWidget().getBounding().width;p>w/2?(m=p-5,C=m-s.textOffset,b="right"):(m=p+5,b="left",C=m+s.textOffset);var _=v+o[1];(d=this.createFigure({name:"line",attrs:{coordinates:[{x:p,y:v},{x:p,y:_},{x:m,y:_}]},styles:{color:s.color}}))===null||d===void 0||d.draw(t),(h=this.createFigure({name:"text",attrs:{x:C,y:_,text:n,align:b,baseline:"middle"},styles:{color:s.color,size:s.textSize,family:s.textFamily,weight:s.textWeight}}))===null||h===void 0||h.draw(t)},r}(Fa),t7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i,o,s=this.getWidget(),u=s.getPane(),d=s.getBounding(),h=u.getChart().getChartStore(),p=h.getStyles().candle.priceMark,v=p.last,m=v.line;if(p.show&&v.show&&m.show){var C=u.getAxisComponent(),b=h.getDataList(),w=b[b.length-1];if(me(w)){var _=w.close,S=w.open,M=v.compareRule==="current_open"?S:(i=(n=b[b.length-2])===null||n===void 0?void 0:n.close)!==null&&i!==void 0?i:_,I=C.convertToNicePixel(_),A="";_>M?A=v.upColor:_<M?A=v.downColor:A=v.noChangeColor,(o=this.createFigure({name:"line",attrs:{coordinates:[{x:0,y:I},{x:d.width,y:I}]},styles:{style:m.style,color:A,size:m.size,dashedValue:m.dashedValue}}))===null||o===void 0||o.draw(t)}}},r}(Fa),r7={second:"HH:mm:ss",minute:"HH:mm",hour:"MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},X2={second:"HH:mm:ss",minute:"YYYY-MM-DD HH:mm",hour:"YYYY-MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},n7={time:"",open:"",high:"",low:"",close:"",volume:"",turnover:"",change:"",second:"",minute:"",hour:"",day:"",week:"",month:"",year:""},i7={time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: ",second:"S",minute:"",hour:"H",day:"D",week:"W",month:"M",year:"Y"},a7={"zh-CN":n7,"en-US":i7};function fm(e,r){var t;return(t=a7[r][e])!==null&&t!==void 0?t:e}var o7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane().getChart().getChartStore(),o=i.getCrosshair();if(me(o.kLineData)){var s=n.getBounding(),u=i.getStyles(),d=u.candle,h=u.indicator;if(d.tooltip.showType==="rect"&&h.tooltip.showType==="rect"){var p=this.isDrawTooltip(o,d.tooltip),v=this.isDrawTooltip(o,h.tooltip);this._drawRectTooltip(t,p,v,d.tooltip.offsetTop)}else if(d.tooltip.showType==="standard"&&h.tooltip.showType==="standard"){var m=d.tooltip,C=m.offsetLeft,b=m.offsetTop,w=m.offsetRight,_=s.width-w,S=this._drawCandleStandardTooltip(t,C,b,_);this.drawIndicatorTooltip(t,C,S,_)}else if(d.tooltip.showType==="rect"&&h.tooltip.showType==="standard"){var M=d.tooltip,C=M.offsetLeft,b=M.offsetTop,w=M.offsetRight,_=s.width-w,I=this.drawIndicatorTooltip(t,C,b,_),p=this.isDrawTooltip(o,d.tooltip);this._drawRectTooltip(t,p,!1,I)}else{var A=d.tooltip,C=A.offsetLeft,b=A.offsetTop,w=A.offsetRight,_=s.width-w,P=this._drawCandleStandardTooltip(t,C,b,_),v=this.isDrawTooltip(o,h.tooltip);this._drawRectTooltip(t,!1,v,P)}}},r.prototype._drawCandleStandardTooltip=function(t,n,i,o){var s,u=this.getWidget().getPane().getChart().getChartStore(),d=u.getStyles().candle,h=d.tooltip,p=h.legend,v=0,m={x:n,y:i},C=u.getCrosshair();if(this.isDrawTooltip(C,h)){var b=h.title;if(b.show){var w=(s=u.getPeriod())!==null&&s!==void 0?s:{},_=w.type,S=_===void 0?"":_,M=w.span,I=M===void 0?"":M,A=tm(b.template,je(je({},u.getSymbol()),{period:"".concat(I).concat(fm(S,u.getLocale()))})),P=b.color,$=this.drawStandardTooltipLegends(t,[{title:{text:"",color:P},value:{text:A,color:P}}],{x:n,y:i},n,0,o,b);m.y=m.y+$}var D=this._getCandleTooltipLegends(),z=this.classifyTooltipFeatures(h.features);v=this.drawStandardTooltipFeatures(t,z[0],m,null,n,v,o),v=this.drawStandardTooltipFeatures(t,z[1],m,null,n,v,o),D.length>0&&(v=this.drawStandardTooltipLegends(t,D,m,n,v,o,p)),v=this.drawStandardTooltipFeatures(t,z[2],m,null,n,v,o)}return m.y+v},r.prototype._drawRectTooltip=function(t,n,i,o){var s=this,u,d,h=this.getWidget(),p=h.getPane(),v=p.getChart().getChartStore(),m=v.getStyles(),C=m.candle,b=m.indicator,w=C.tooltip,_=b.tooltip;if(n||i){var S=this._getCandleTooltipLegends(),M=w.offsetLeft,I=w.offsetTop,A=w.offsetRight,P=w.offsetBottom,$=w.legend,D=$.marginLeft,z=$.marginRight,V=$.marginTop,W=$.marginBottom,Q=$.size,se=$.weight,X=$.family,J=w.rect,le=J.position,j=J.paddingLeft,q=J.paddingRight,Z=J.paddingTop,re=J.paddingBottom,ee=J.offsetLeft,H=J.offsetRight,B=J.offsetTop,he=J.offsetBottom,Ce=J.borderSize,be=J.borderRadius,xe=J.borderColor,Ve=J.color,Re=0,Ae=0,ve=0;n&&(t.font=Vc(Q,se,X),S.forEach(function(yt){var wt=yt.title,xt=yt.value,$t="".concat(wt.text).concat(xt.text),Yt=t.measureText($t).width+D+z;Re=Math.max(Re,Yt)}),ve+=(W+V+Q)*S.length);var Te=_.legend,Ne=Te.marginLeft,tt=Te.marginRight,Ge=Te.marginTop,gt=Te.marginBottom,vt=Te.size,mt=Te.weight,nr=Te.family,cr=[];if(i){var Kt=v.getIndicatorsByPaneId(p.getId());t.font=Vc(vt,mt,nr),Kt.forEach(function(yt){var wt=s.getIndicatorTooltipData(yt).legends;cr.push(wt),wt.forEach(function(xt){var $t=xt.title,Yt=xt.value,gr="".concat($t.text).concat(Yt.text),ur=t.measureText(gr).width+Ne+tt;Re=Math.max(Re,ur),ve+=Ge+gt+vt})})}if(Ae+=Re,Ae!==0&&ve!==0){var Tt=v.getCrosshair(),fr=h.getBounding(),nn=p.getYAxisWidget().getBounding();Ae+=Ce*2+j+q,ve+=Ce*2+Z+re;var fn=fr.width/2,lr=le==="pointer"&&Tt.paneId===Rt.CANDLE,At=((u=Tt.realX)!==null&&u!==void 0?u:0)>fn,Ht=0;if(lr){var Qt=Tt.realX;At?Ht=Qt-H-Ae:Ht=Qt+ee}else{var Hr=this.getWidget().getPane().getAxisComponent();At?(Ht=ee+M,Hr.inside&&Hr.position==="left"&&(Ht+=nn.width)):(Ht=fr.width-H-Ae-A,Hr.inside&&Hr.position==="right"&&(Ht-=nn.width))}var sr=o+B;if(lr){var Or=Tt.y;sr=Or-ve/2,sr+ve>fr.height-he-P&&(sr=fr.height-he-ve-P),sr<o+B&&(sr=o+B+I)}(d=this.createFigure({name:"rect",attrs:{x:Ht,y:sr,width:Ae,height:ve},styles:{style:"stroke_fill",color:Ve,borderColor:xe,borderSize:Ce,borderRadius:be}}))===null||d===void 0||d.draw(t);var kt=Ht+Ce+j+D,Be=sr+Ce+Z;if(n&&S.forEach(function(yt){var wt,xt;Be+=V;var $t=yt.title;(wt=s.createFigure({name:"text",attrs:{x:kt,y:Be,text:$t.text},styles:{color:$t.color,size:Q,family:X,weight:se}}))===null||wt===void 0||wt.draw(t);var Yt=yt.value;(xt=s.createFigure({name:"text",attrs:{x:Ht+Ae-Ce-z-q,y:Be,text:Yt.text,align:"right"},styles:{color:Yt.color,size:Q,family:X,weight:se}}))===null||xt===void 0||xt.draw(t),Be+=Q+W}),i){var bt=Ht+Ce+j+Ne;cr.forEach(function(yt){yt.forEach(function(wt){var xt,$t;Be+=Ge;var Yt=wt.title,gr=wt.value;(xt=s.createFigure({name:"text",attrs:{x:bt,y:Be,text:Yt.text},styles:{color:Yt.color,size:vt,family:nr,weight:mt}}))===null||xt===void 0||xt.draw(t),($t=s.createFigure({name:"text",attrs:{x:Ht+Ae-Ce-tt-q,y:Be,text:gr.text,align:"right"},styles:{color:gr.color,size:vt,family:nr,weight:mt}}))===null||$t===void 0||$t.draw(t),Be+=vt+gt})})}}}},r.prototype._getCandleTooltipLegends=function(){var t,n,i,o,s,u,d,h,p=this.getWidget().getPane().getChart().getChartStore(),v=p.getStyles().candle,m=p.getDataList(),C=p.getInnerFormatter(),b=p.getDecimalFold(),w=p.getThousandsSeparator(),_=p.getLocale(),S=(t=p.getSymbol())!==null&&t!==void 0?t:{},M=S.pricePrecision,I=M===void 0?2:M,A=S.volumePrecision,P=A===void 0?0:A,$=p.getPeriod(),D=(n=p.getCrosshair().dataIndex)!==null&&n!==void 0?n:0,z=v.tooltip,V=z.legend,W=V.color,Q=V.defaultValue,se=V.template,X=(i=m[D-1])!==null&&i!==void 0?i:null,J=m[D],le=(o=X==null?void 0:X.close)!==null&&o!==void 0?o:J.close,j=J.close-le,q=je(je({},J),{time:C.formatDate(J.timestamp,X2[(s=$==null?void 0:$.type)!==null&&s!==void 0?s:"day"],"tooltip"),open:b.format(w.format(jn(J.open,I))),high:b.format(w.format(jn(J.high,I))),low:b.format(w.format(jn(J.low,I))),close:b.format(w.format(jn(J.close,I))),volume:b.format(w.format(C.formatBigNumber(jn((u=J.volume)!==null&&u!==void 0?u:Q,P)))),turnover:b.format(w.format(jn((d=J.turnover)!==null&&d!==void 0?d:Q,I))),change:le===0?Q:"".concat(w.format(jn(j/le*100)),"%")}),Z=ci(se)?se({prev:X,current:J,next:(h=m[D+1])!==null&&h!==void 0?h:null},v):se;return Z.map(function(re){var ee=re.title,H=re.value,B={text:"",color:W};ro(ee)?B=je({},ee):B.text=ee,B.text=fm(B.text,_);var he={text:Q,color:W};return ro(H)?he=je({},H):he.text=H,me(/{change}/.exec(he.text))&&(he.color=j===0?v.priceMark.last.noChangeColor:j>0?v.priceMark.last.upColor:v.priceMark.last.downColor),he.text=tm(he.text,q),{title:B,value:he}})},r}(U2),l7=function(e){Lt(r,e);function r(t){var n=e.call(this,t)||this;return n._activeFeatureInfo=null,n._featureClickEvent=function(i){return function(){var o=n.getWidget().getPane();return o.getChart().getChartStore().executeAction("onCrosshairFeatureClick",i),!0}},n._featureMouseMoveEvent=function(i){return function(){return n._activeFeatureInfo=i,n.getWidget().setForceCursor("pointer"),!0}},n.registerEvent("mouseMoveEvent",function(i){return n._activeFeatureInfo=null,n.getWidget().setForceCursor(null),!1}),n}return r.prototype.drawImp=function(t){var n=this,i,o,s=this.getWidget(),u=s.getPane(),d=s.getPane().getChart().getChartStore(),h=d.getCrosshair(),p=this.getWidget(),v=p.getPane().getAxisComponent();if(or(h.paneId)&&h.paneId===u.getId()&&v.isInCandle()){var m=d.getStyles().crosshair,C=m.horizontal.features;if(m.show&&m.horizontal.show&&C.length>0){var b=v.position==="right",w=p.getBounding(),_=0,S=m.horizontal.text;if(v.inside&&S.show){var M=v.convertFromPixel(h.y),I=v.getRange(),A=v.displayValueToText(v.realValueToDisplayValue(v.valueToRealValue(M,{range:I}),{range:I}),(o=(i=d.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&o!==void 0?o:2);A=d.getDecimalFold().format(d.getThousandsSeparator().format(A)),_=S.paddingLeft+no(A,S.size,S.weight,S.family)+S.paddingRight}var P=_;b&&(P=w.width-_);var $=h.y;C.forEach(function(D){var z,V,W,Q,se=D.marginLeft,X=se===void 0?0:se,J=D.marginTop,le=J===void 0?0:J,j=D.marginRight,q=j===void 0?0:j,Z=D.paddingLeft,re=Z===void 0?0:Z,ee=D.paddingTop,H=ee===void 0?0:ee,B=D.paddingRight,he=B===void 0?0:B,Ce=D.paddingBottom,be=Ce===void 0?0:Ce,xe=D.color,Ve=D.activeColor,Re=D.backgroundColor,Ae=D.activeBackgroundColor,ve=D.borderRadius,Te=D.size,Ne=Te===void 0?0:Te,tt=D.type,Ge=D.content,gt=Ne;if(tt==="icon_font"){var vt=Ge;gt=re+no(vt.code,Ne,"normal",vt.family)+he}b?P-=gt+q:P+=X;var mt=xe,nr=Re;((z=n._activeFeatureInfo)===null||z===void 0?void 0:z.feature.id)===D.id&&(mt=Ve??xe,nr=Ae??Re);var cr={mouseClickEvent:n._featureClickEvent({crosshair:h,feature:D}),mouseMoveEvent:n._featureMouseMoveEvent({crosshair:h,feature:D})};if(tt==="icon_font"){var vt=Ge;(V=n.createFigure({name:"text",attrs:{text:vt.code,x:P,y:$+le,baseline:"middle"},styles:{paddingLeft:re,paddingTop:H,paddingRight:he,paddingBottom:be,borderRadius:ve,size:Ne,family:vt.family,color:mt,backgroundColor:nr}},cr))===null||V===void 0||V.draw(t)}else{(W=n.createFigure({name:"rect",attrs:{x:P,y:$+le-Ne/2,width:Ne,height:Ne},styles:{paddingLeft:re,paddingTop:H,paddingRight:he,paddingBottom:be,color:nr}},cr))===null||W===void 0||W.draw(t);var Kt=Ge;(Q=n.createFigure({name:"path",attrs:{path:Kt.path,x:P,y:$+le+H-Ne/2,width:Ne,height:Ne},styles:{style:Kt.style,lineWidth:Kt.lineWidth,color:mt}}))===null||Q===void 0||Q.draw(t)}b?P-=X:P+=gt+q})}}},r}(Fa),s7=function(e){Lt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._candleBarView=new W2(i),i._candleAreaView=new J8(i),i._candleHighLowPriceView=new e7(i),i._candleLastPriceLineView=new t7(i),i._crosshairFeatureView=new l7(i),i.addChild(i._candleBarView),i.addChild(i._crosshairFeatureView),i}return r.prototype.updateMainContent=function(t){var n=this.getPane().getChart().getStyles().candle;n.type!=="area"?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleAreaView.stopAnimation()):this._candleAreaView.draw(t),this._candleLastPriceLineView.draw(t)},r.prototype.updateOverlayContent=function(t){this._crosshairFeatureView.draw(t)},r.prototype.createTooltipView=function(){return new o7(this)},r}(Y2),j2=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t,n){var i=this,o,s,u=this.getWidget(),d=u.getPane(),h=u.getBounding(),p=d.getAxisComponent(),v=this.getAxisStyles(d.getChart().getStyles());if(v.show&&(v.axisLine.show&&((o=this.createFigure({name:"line",attrs:this.createAxisLine(h,v),styles:v.axisLine}))===null||o===void 0||o.draw(t)),!n[0])){var m=p.getTicks();if(v.tickLine.show){var C=this.createTickLines(m,h,v);C.forEach(function(w){var _;(_=i.createFigure({name:"line",attrs:w,styles:v.tickLine}))===null||_===void 0||_.draw(t)})}if(v.tickText.show){var b=this.createTickTexts(m,h,v);(s=this.createFigure({name:"text",attrs:b,styles:v.tickText}))===null||s===void 0||s.draw(t)}}},r}(Fa),c7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAxisStyles=function(t){return t.yAxis},r.prototype.createAxisLine=function(t,n){var i=this.getWidget().getPane().getAxisComponent(),o=n.axisLine.size,s=0;return i.isFromZero()?s=0:s=t.width-o,{coordinates:[{x:s,y:0},{x:s,y:t.height}]}},r.prototype.createTickLines=function(t,n,i){var o=this.getWidget().getPane().getAxisComponent(),s=i.axisLine,u=i.tickLine,d=0,h=0;return o.isFromZero()?(d=0,s.show&&(d+=s.size),h=d+u.length):(d=n.width,s.show&&(d-=s.size),h=d-u.length),t.map(function(p){return{coordinates:[{x:d,y:p.coord},{x:h,y:p.coord}]}})},r.prototype.createTickTexts=function(t,n,i){var o=this.getWidget().getPane().getAxisComponent(),s=i.axisLine,u=i.tickLine,d=i.tickText,h=0;o.isFromZero()?(h=d.marginStart,s.show&&(h+=s.size),u.show&&(h+=u.length)):(h=n.width-d.marginEnd,s.show&&(h-=s.size),u.show&&(h-=u.length));var p=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(function(v){return{x:h,y:v.coord,text:v.text,align:p,baseline:"middle"}})},r}(j2),u7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this,i,o,s,u,d=this.getWidget(),h=d.getPane(),p=d.getBounding(),v=h.getChart().getChartStore(),m=v.getStyles().candle.priceMark,C=m.last,b=C.text;if(m.show&&C.show&&b.show){var w=(o=(i=v.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&o!==void 0?o:2,_=h.getAxisComponent(),S=v.getDataList(),M=S[S.length-1];if(me(M)){var I=M.close,A=M.open,P=C.compareRule==="current_open"?A:(u=(s=S[S.length-2])===null||s===void 0?void 0:s.close)!==null&&u!==void 0?u:I,$=_.convertToNicePixel(I),D="";I>P?D=C.upColor:I<P?D=C.downColor:D=C.noChangeColor;var z=0,V="left";_.isFromZero()?(z=0,V="left"):(z=p.width,V="right");var W=[],Q=_.getRange(),se=_.displayValueToText(_.realValueToDisplayValue(_.valueToRealValue(I,{range:Q}),{range:Q}),w);se=v.getDecimalFold().format(v.getThousandsSeparator().format(se));var X=b.paddingLeft,J=b.paddingRight,le=b.paddingTop,j=b.paddingBottom,q=b.size,Z=b.family,re=b.weight,ee=X+no(se,q,re,Z)+J,H=le+q+j;W.push({name:"text",attrs:{x:z,y:$,width:ee,height:H,text:se,align:V,baseline:"middle"},styles:je(je({},b),{backgroundColor:D})});var B=v.getInnerFormatter().formatExtendText,he=q/2,Ce=$-he-le,be=$+he+j;C.extendTexts.forEach(function(xe,Ve){var Re=B({type:"last_price",data:M,index:Ve});if(Re.length>0&&xe.show){var Ae=xe.size/2,ve=0;xe.position==="above_price"?(Ce-=xe.paddingBottom+Ae,ve=Ce,Ce-=Ae+xe.paddingTop):(be+=xe.paddingTop+Ae,ve=be,be+=Ae+xe.paddingBottom),ee=Math.max(ee,xe.paddingLeft+no(Re,xe.size,xe.weight,xe.family)+xe.paddingRight),W.push({name:"text",attrs:{x:z,y:ve,width:ee,height:xe.paddingTop+xe.size+xe.paddingBottom,text:Re,align:V,baseline:"middle"},styles:je(je({},xe),{backgroundColor:D})})}}),W.forEach(function(xe){var Ve;xe.attrs.width=ee,(Ve=n.createFigure(xe))===null||Ve===void 0||Ve.draw(t)})}}},r}(Fa),d7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this,i,o,s=this.getWidget(),u=s.getPane(),d=s.getBounding(),h=u.getChart().getChartStore(),p=h.getStyles().indicator,v=p.lastValueMark,m=v.text;if(v.show){var C=u.getAxisComponent(),b=C.getRange(),w=h.getDataList(),_=(i=w[w.length-1])!==null&&i!==void 0?i:{},S=(o=w[w.length-2])!==null&&o!==void 0?o:{},M=h.getIndicatorsByPaneId(u.getId()),I=h.getInnerFormatter(),A=h.getDecimalFold(),P=h.getThousandsSeparator();M.forEach(function($){var D,z,V=$.result,W=(z=(D=V[_.timestamp])!==null&&D!==void 0?D:V[S.timestamp])!==null&&z!==void 0?z:{};if(me(W)&&$.visible){var Q=$.precision;Rg($,{prev:S.timestamp,current:_.timestamp,next:null},p,function(se,X){var J,le=W[se.key];if(lt(le)){var j=C.convertToNicePixel(le),q=C.displayValueToText(C.realValueToDisplayValue(C.valueToRealValue(le,{range:b}),{range:b}),Q);$.shouldFormatBigNumber&&(q=I.formatBigNumber(q)),q=A.format(P.format(q));var Z=0,re="left";C.isFromZero()?(Z=0,re="left"):(Z=d.width,re="right"),(J=n.createFigure({name:"text",attrs:{x:Z,y:j,text:q,align:re,baseline:"middle"},styles:je(je({},m),{backgroundColor:X.color})}))===null||J===void 0||J.draw(t)}})}})}},r}(Fa),Z2=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},r.prototype.drawDefaultFigures=function(t,n,i){this.drawFigures(t,n,this.getDefaultFigures(n,i))},r.prototype.getDefaultFigures=function(t,n){var i,o=this.getWidget(),s=o.getPane(),u=s.getChart().getChartStore(),d=u.getClickOverlayInfo(),h=[];if(t.needDefaultYAxisFigure&&t.id===((i=d.overlay)===null||i===void 0?void 0:i.id)&&d.paneId===s.getId()){var p=s.getAxisComponent(),v=o.getBounding(),m=Number.MAX_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER,b=p.isFromZero(),w="left",_=0;b?(w="left",_=0):(w="right",_=v.width);var S=u.getDecimalFold(),M=u.getThousandsSeparator();n.forEach(function(I,A){var P,$,D=t.points[A];if(lt(D.value)){m=Math.min(m,I.y),C=Math.max(C,I.y);var z=S.format(M.format(jn(D.value,($=(P=u.getSymbol())===null||P===void 0?void 0:P.pricePrecision)!==null&&$!==void 0?$:2)));h.push({type:"text",attrs:{x:_,y:I.y,text:z,align:w,baseline:"middle"},ignoreEvent:!0})}}),n.length>1&&h.unshift({type:"rect",attrs:{x:0,y:m,width:v.width,height:C-m},ignoreEvent:!0})}return h},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),p=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createYAxisFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:p,yAxis:h}))!==null&&o!==void 0?o:[]},r}(H2),G2=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i=this.getWidget(),o=i.getPane(),s=i.getPane().getChart().getChartStore(),u=s.getCrosshair();if(or(u.paneId)&&this.compare(u,o.getId())){var d=s.getStyles().crosshair;if(d.show){var h=this.getDirectionStyles(d),p=h.text;if(h.show&&p.show){var v=i.getBounding(),m=o.getAxisComponent(),C=this.getText(u,s,m);t.font=Vc(p.size,p.weight,p.family),(n=this.createFigure({name:"text",attrs:this.getTextAttrs(C,t.measureText(C).width,u,v,m,p),styles:p}))===null||n===void 0||n.draw(t)}}}},r.prototype.compare=function(t,n){return t.paneId===n},r.prototype.getDirectionStyles=function(t){return t.horizontal},r.prototype.getText=function(t,n,i){var o,s,u=i,d=i.convertFromPixel(t.y),h=0,p=!1;if(u.isInCandle())h=(s=(o=n.getSymbol())===null||o===void 0?void 0:o.pricePrecision)!==null&&s!==void 0?s:2;else{var v=n.getIndicatorsByPaneId(t.paneId);v.forEach(function(b){h=Math.max(b.precision,h),p||(p=b.shouldFormatBigNumber)})}var m=u.getRange(),C=u.displayValueToText(u.realValueToDisplayValue(u.valueToRealValue(d,{range:m}),{range:m}),h);return p&&(C=n.getInnerFormatter().formatBigNumber(C)),n.getDecimalFold().format(n.getThousandsSeparator().format(C))},r.prototype.getTextAttrs=function(t,n,i,o,s,u){var d=s,h=0,p="left";return d.isFromZero()?(h=0,p="left"):(h=o.width,p="right"),{x:h,y:i.y,text:t,align:p,baseline:"middle"}},r}(Fa),h7=function(e){Lt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._yAxisView=new c7(i),i._candleLastPriceLabelView=new u7(i),i._indicatorLastValueView=new d7(i),i._overlayYAxisView=new Z2(i),i._crosshairHorizontalLabelView=new G2(i),i.setCursor("ns-resize"),i.addChild(i._overlayYAxisView),i}return r.prototype.getName=function(){return Vt.Y_AXIS},r.prototype.updateMain=function(t){var n=this.getPane().getOptions().state==="minimize";this._yAxisView.draw(t,n),n||(this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t))},r.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t))},r}($g);function gm(){return{from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0}}var q2=function(){function e(r){this.scrollZoomEnabled=!0,this._range=gm(),this._prevRange=gm(),this._ticks=[],this._autoCalcTickFlag=!0,this._parent=r}return e.prototype.getParent=function(){return this._parent},e.prototype.buildTicks=function(r){return this._autoCalcTickFlag&&(this._range=this.createRangeImp()),this._prevRange.from!==this._range.from||this._prevRange.to!==this._range.to||r?(this._prevRange=this._range,this._ticks=this.createTicksImp(),!0):!1},e.prototype.getTicks=function(){return this._ticks},e.prototype.setRange=function(r){this._autoCalcTickFlag=!1,this._range=r},e.prototype.getRange=function(){return this._range},e.prototype.setAutoCalcTickFlag=function(r){this._autoCalcTickFlag=r},e.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},e}(),jh=8,sp=function(e){Lt(r,e);function r(t,n){var i=e.call(this,t)||this;return i.reverse=!1,i.inside=!1,i.position="right",i.gap={top:.2,bottom:.1},i.createRange=function(o){return o.defaultRange},i.minSpan=function(o){return Rc(-o)},i.valueToRealValue=function(o){return o},i.realValueToDisplayValue=function(o){return o},i.displayValueToRealValue=function(o){return o},i.realValueToValue=function(o){return o},i.displayValueToText=function(o,s){return jn(o,s)},i.override(n),i}return r.prototype.override=function(t){var n=t.name,i=t.gap,o=mp(t,["name","gap"]);or(this.name)||(this.name=n),pn(this.gap,i),pn(this,o)},r.prototype.createRangeImp=function(){var t,n,i=this.getParent(),o=i.getChart(),s=o.getChartStore(),u=i.getId(),d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER,p=!1,v=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER,C=Number.MAX_SAFE_INTEGER,b=s.getIndicatorsByPaneId(u);b.forEach(function(Ve){p||(p=Ve.shouldOhlc),C=Math.min(C,Ve.precision),lt(Ve.minValue)&&(v=Math.min(v,Ve.minValue)),lt(Ve.maxValue)&&(m=Math.max(m,Ve.maxValue))});var w=4,_=this.isInCandle();if(_){var S=(n=(t=s.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&n!==void 0?n:2;C!==Number.MAX_SAFE_INTEGER?w=Math.min(C,S):w=S}else C!==Number.MAX_SAFE_INTEGER&&(w=C);var M=s.getVisibleRangeDataList(),I=o.getStyles().candle,A=I.type==="area",P=I.area.value,$=_&&!A||!_&&p;M.forEach(function(Ve){var Re=Ve.data.current;if(me(Re)){if($&&(d=Math.min(d,Re.low),h=Math.max(h,Re.high)),_&&A){var Ae=Re[P];lt(Ae)&&(d=Math.min(d,Ae),h=Math.max(h,Ae))}b.forEach(function(ve){var Te,Ne=ve.result,tt=ve.figures,Ge=(Te=Ne[Re.timestamp])!==null&&Te!==void 0?Te:{};tt.forEach(function(gt){var vt=Ge[gt.key];lt(vt)&&(d=Math.min(d,vt),h=Math.max(h,vt))})})}}),d!==Number.MAX_SAFE_INTEGER&&h!==Number.MIN_SAFE_INTEGER?(d=Math.min(v,d),h=Math.max(m,h)):(d=0,h=10);var D=h-d,z={from:d,to:h,range:D,realFrom:d,realTo:h,realRange:D,displayFrom:d,displayTo:h,displayRange:D},V=this.createRange({chart:o,paneId:u,defaultRange:z}),W=V.realFrom,Q=V.realTo,se=V.realRange,X=this.minSpan(w);if(W===Q||se<X){var J=v===W,le=m===Q,j=jh/2;W=J?W:le?W-jh*X:W-j*X,Q=le?Q:J?Q+jh*X:Q+j*X}var q=this.getBounding().height,Z=this.gap,re=Z.top,ee=Z.bottom,H=re;H>=1&&(H=H/q);var B=ee;B>=1&&(B=B/q),se=Q-W,W=W-se*B,Q=Q+se*H;var he=this.realValueToValue(W,{range:V}),Ce=this.realValueToValue(Q,{range:V}),be=this.realValueToDisplayValue(W,{range:V}),xe=this.realValueToDisplayValue(Q,{range:V});return{from:he,to:Ce,range:Ce-he,realFrom:W,realTo:Q,realRange:Q-W,displayFrom:be,displayTo:xe,displayRange:xe-be}},r.prototype.isInCandle=function(){return this.getParent().getId()===Rt.CANDLE},r.prototype.isFromZero=function(){return this.position==="left"&&this.inside||this.position==="right"&&!this.inside},r.prototype.createTicksImp=function(){var t=this,n,i,o,s,u=this.getRange(),d=u.displayFrom,h=u.displayTo,p=u.displayRange,v=[];if(p>=0){var m=w6(p/jh),C=_6(m),b=am(Math.ceil(d/m)*m,C),w=am(Math.floor(h/m)*m,C),_=0,S=b;if(m!==0)for(;S<=w;){var M=S.toFixed(C);v[_]={text:M,coord:0,value:M},++_,S+=m}}var I=this.getParent(),A=(i=(n=I.getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,P=I.getChart().getChartStore(),$=[],D=P.getIndicatorsByPaneId(I.getId()),z=P.getStyles(),V=0,W=!1;this.isInCandle()?V=(s=(o=P.getSymbol())===null||o===void 0?void 0:o.pricePrecision)!==null&&s!==void 0?s:2:D.forEach(function(j){V=Math.max(V,j.precision),W||(W=j.shouldFormatBigNumber)});var Q=P.getInnerFormatter(),se=P.getThousandsSeparator(),X=P.getDecimalFold(),J=z.xAxis.tickText.size,le=NaN;return v.forEach(function(j){var q=j.value,Z=t.displayValueToText(+q,V),re=t.convertToPixel(t.realValueToValue(t.displayValueToRealValue(+q,{range:u}),{range:u}));W&&(Z=Q.formatBigNumber(q)),Z=X.format(se.format(Z));var ee=lt(le);re>J&&re<A-J&&(ee&&Math.abs(le-re)>J*2||!ee)&&($.push({text:Z,coord:re,value:q}),le=re)}),ci(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:$}):$},r.prototype.getAutoSize=function(){var t,n,i=this.getParent(),o=i.getChart(),s=o.getChartStore(),u=s.getStyles(),d=u.yAxis,h=d.size;if(h!=="auto")return h;var p=0;if(d.show&&(d.axisLine.show&&(p+=d.axisLine.size),d.tickLine.show&&(p+=d.tickLine.length),d.tickText.show)){var v=0;this.getTicks().forEach(function(re){v=Math.max(v,no(re.text,d.tickText.size,d.tickText.weight,d.tickText.family))}),p+=d.tickText.marginStart+d.tickText.marginEnd+v}var m=u.candle.priceMark,C=m.show&&m.last.show&&m.last.text.show,b=0,w=u.crosshair,_=w.show&&w.horizontal.show&&w.horizontal.text.show,S=0;if(C||_){var M=(n=(t=s.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&n!==void 0?n:2,I=this.getRange().displayTo;if(C){var A=s.getDataList(),P=A[A.length-1];if(me(P)){var $=m.last.text,D=$.paddingLeft,z=$.paddingRight,V=$.size,W=$.family,Q=$.weight;b=D+no(jn(P.close,M),V,Q,W)+z;var se=s.getInnerFormatter().formatExtendText;m.last.extendTexts.forEach(function(re,ee){var H=se({type:"last_price",data:P,index:ee});H.length>0&&re.show&&(b=Math.max(b,re.paddingLeft+no(H,re.size,re.weight,re.family)+re.paddingRight))})}}if(_){var X=s.getIndicatorsByPaneId(i.getId()),J=0,le=!1;X.forEach(function(re){J=Math.max(re.precision,J),le||(le=re.shouldFormatBigNumber)});var j=2;if(this.isInCandle()){var q=u.indicator.lastValueMark;q.show&&q.text.show?j=Math.max(J,M):j=M}else j=J;var Z=jn(I,j);le&&(Z=s.getInnerFormatter().formatBigNumber(Z)),Z=s.getDecimalFold().format(Z),S+=w.horizontal.text.paddingLeft+w.horizontal.text.paddingRight+w.horizontal.text.borderSize*2+no(Z,w.horizontal.text.size,w.horizontal.text.weight,w.horizontal.text.family)}}return Math.max(p,b,S)},r.prototype.getBounding=function(){return this.getParent().getYAxisWidget().getBounding()},r.prototype.convertFromPixel=function(t){var n=this.getBounding().height,i=this.getRange(),o=i.realFrom,s=i.realRange,u=this.reverse?t/n:1-t/n,d=u*s+o;return this.realValueToValue(d,{range:i})},r.prototype.convertToPixel=function(t){var n,i,o=this.getRange(),s=this.valueToRealValue(t,{range:o}),u=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,d=o.realFrom,h=o.realRange,p=(s-d)/h;return this.reverse?Math.round(p*u):Math.round((1-p)*u)},r.prototype.convertToNicePixel=function(t){var n,i,o=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,s=this.convertToPixel(t);return Math.round(Math.max(o*.05,Math.min(s,o*.98)))},r.extend=function(t){var n=function(i){Lt(o,i);function o(s){return i.call(this,s,t)||this}return o}(r);return n},r}(q2),p7={name:"normal"},f7={name:"percentage",minSpan:function(){return Math.pow(10,-2)},displayValueToText:function(e){return"".concat(jn(e,2),"%")},valueToRealValue:function(e,r){var t=r.range;return(e-t.from)/t.range*t.realRange+t.realFrom},realValueToValue:function(e,r){var t=r.range;return(e-t.realFrom)/t.realRange*t.range+t.from},createRange:function(e){var r=e.chart,t=e.defaultRange,n=r.getDataList(),i=r.getVisibleRange(),o=n[i.from];if(me(o)){var s=t.from,u=t.to,d=t.range,h=(t.from-o.close)/o.close*100,p=(t.to-o.close)/o.close*100,v=p-h;return{from:s,to:u,range:d,realFrom:h,realTo:p,realRange:v,displayFrom:h,displayTo:p,displayRange:v}}return t}},g7={name:"logarithm",minSpan:function(e){return .05*Rc(-e)},valueToRealValue:function(e){return e<0?-Tl(Math.abs(e)):Tl(e)},realValueToDisplayValue:function(e){return e<0?-Rc(Math.abs(e)):Rc(e)},displayValueToRealValue:function(e){return e<0?-Tl(Math.abs(e)):Tl(e)},realValueToValue:function(e){return e<0?-Rc(Math.abs(e)):Rc(e)},createRange:function(e){var r=e.defaultRange,t=r.from,n=r.to,i=r.range,o=t<0?-Tl(Math.abs(t)):Tl(t),s=n<0?-Tl(Math.abs(n)):Tl(n);return{from:t,to:n,range:i,realFrom:o,realTo:s,realRange:s-o,displayFrom:t,displayTo:n,displayRange:i}}},vm={normal:sp.extend(p7),percentage:sp.extend(f7),logarithm:sp.extend(g7)};function v7(e){var r;return(r=vm[e])!==null&&r!==void 0?r:vm.normal}var K2=function(){function e(r,t){this._bounding=yp(),this._originalBounding=yp(),this._visible=!0,this._chart=r,this._id=t,this._container=Rl("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"})}return e.prototype.getContainer=function(){return this._container},e.prototype.setVisible=function(r){this._visible!==r&&(this._container.style.display=r?"block":"none",this._visible=r)},e.prototype.getVisible=function(){return this._visible},e.prototype.getId=function(){return this._id},e.prototype.getChart=function(){return this._chart},e.prototype.getBounding=function(){return this._bounding},e.prototype.setOriginalBounding=function(r){pn(this._originalBounding,r)},e.prototype.getOriginalBounding=function(){return this._originalBounding},e.prototype.update=function(r){this._bounding.height!==this._container.clientHeight&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(r??3,this._container,this._bounding)},e}(),Q2=function(e){Lt(r,e);function r(t,n,i){var o=e.call(this,t,n)||this;o._yAxisWidget=null,o._options={id:"",minHeight:lp,dragEnabled:!0,order:0,height:D2,state:"normal",axis:{name:"normal",scrollZoomEnabled:!0}};var s=o.getContainer();return o._mainWidget=o.createMainWidget(s),o._yAxisWidget=o.createYAxisWidget(s),o.setOptions(i),o}return r.prototype.setOptions=function(t){var n,i,o,s,u,d=this.getId();if(d===Rt.CANDLE||d===Rt.X_AXIS){var h=(n=t.axis)===null||n===void 0?void 0:n.name;(!me(this._axis)||me(h)&&this._options.axis.name!==h)&&(this._axis=this.createAxisComponent(h??"normal"))}else me(this._axis)||(this._axis=this.createAxisComponent("normal"));this._axis instanceof sp&&this._axis.setAutoCalcTickFlag(!0),pn(this._options,t),this._axis.override(je(je({},this._options.axis),{name:(o=(i=t.axis)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:"normal"}));var p=null,v="default";return this.getId()===Rt.X_AXIS?(p=this.getMainWidget().getContainer(),v="ew-resize"):(p=this.getYAxisWidget().getContainer(),v="ns-resize"),!((u=(s=t.axis)===null||s===void 0?void 0:s.scrollZoomEnabled)!==null&&u!==void 0)||u?p.style.cursor=v:p.style.cursor="default",this},r.prototype.getOptions=function(){return this._options},r.prototype.getAxisComponent=function(){return this._axis},r.prototype.setBounding=function(t,n,i,o){var s,u,d,h;pn(this.getBounding(),t);var p={};me(t.height)&&(p.height=t.height),me(t.top)&&(p.top=t.top),this._mainWidget.setBounding(p);var v=me(n);if(v&&this._mainWidget.setBounding(n),me(this._yAxisWidget)){this._yAxisWidget.setBounding(p);var m=this._axis;m.position==="left"?me(i)&&this._yAxisWidget.setBounding(je(je({},i),{left:0})):me(o)&&(this._yAxisWidget.setBounding(o),v&&this._yAxisWidget.setBounding({left:((s=n.left)!==null&&s!==void 0?s:0)+((u=n.width)!==null&&u!==void 0?u:0)+((d=n.right)!==null&&d!==void 0?d:0)-((h=o.width)!==null&&h!==void 0?h:0)}))}return this},r.prototype.getMainWidget=function(){return this._mainWidget},r.prototype.getYAxisWidget=function(){return this._yAxisWidget},r.prototype.updateImp=function(t){var n;this._mainWidget.update(t),(n=this._yAxisWidget)===null||n===void 0||n.update(t)},r.prototype.destroy=function(){var t;this._mainWidget.destroy(),(t=this._yAxisWidget)===null||t===void 0||t.destroy()},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=Rl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),u=s.getContext("2d"),d=Is(s);s.width=i*d,s.height=o*d,u.scale(d,d);var h=this._mainWidget.getBounding();if(u.drawImage(this._mainWidget.getImage(t),h.left,0,h.width,h.height),this._yAxisWidget!==null){var p=this._yAxisWidget.getBounding();u.drawImage(this._yAxisWidget.getImage(t),p.left,0,p.width,p.height)}return s},r.prototype.createYAxisWidget=function(t){return null},r}(K2),J2=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createAxisComponent=function(t){var n=v7(t??"default");return new n(this)},r.prototype.createMainWidget=function(t){return new Y2(t,this)},r.prototype.createYAxisWidget=function(t){return new h7(t,this)},r}(Q2),m7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createMainWidget=function(t){return new s7(t,this)},r}(J2),y7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAxisStyles=function(t){return t.xAxis},r.prototype.createAxisLine=function(t){return{coordinates:[{x:0,y:0},{x:t.width,y:0}]}},r.prototype.createTickLines=function(t,n,i){var o=i.tickLine,s=i.axisLine.size;return t.map(function(u){return{coordinates:[{x:u.coord,y:0},{x:u.coord,y:s+o.length}]}})},r.prototype.createTickTexts=function(t,n,i){var o=i.tickText,s=i.axisLine.size,u=i.tickLine.length;return t.map(function(d){return{x:d.coord,y:s+u+o.marginStart,text:d.text,align:"center",baseline:"top"}})},r}(j2),x7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},r.prototype.coordinateToPointValueFlag=function(){return!1},r.prototype.getCompleteOverlays=function(){return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()},r.prototype.getProgressOverlay=function(){var t,n;return(n=(t=this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo())===null||t===void 0?void 0:t.overlay)!==null&&n!==void 0?n:null},r.prototype.getDefaultFigures=function(t,n){var i,o=[],s=this.getWidget(),u=s.getPane(),d=u.getChart().getChartStore(),h=d.getClickOverlayInfo();if(t.needDefaultXAxisFigure&&t.id===((i=h.overlay)===null||i===void 0?void 0:i.id)){var p=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;n.forEach(function(m,C){p=Math.min(p,m.x),v=Math.max(v,m.x);var b=t.points[C];if(lt(b.timestamp)){var w=d.getInnerFormatter().formatDate(b.timestamp,"YYYY-MM-DD HH:mm","crosshair");o.push({type:"text",attrs:{x:m.x,y:0,text:w,align:"center"},ignoreEvent:!0})}}),n.length>1&&o.unshift({type:"rect",attrs:{x:p,y:0,width:v-p,height:s.getBounding().height},ignoreEvent:!0})}return o},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),p=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createXAxisFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:p,yAxis:h}))!==null&&o!==void 0?o:[]},r}(Z2),C7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.compare=function(t){return me(t.timestamp)},r.prototype.getDirectionStyles=function(t){return t.vertical},r.prototype.getText=function(t,n){var i,o,s=t.timestamp;return n.getInnerFormatter().formatDate(s,X2[(o=(i=n.getPeriod())===null||i===void 0?void 0:i.type)!==null&&o!==void 0?o:"day"],"crosshair")},r.prototype.getTextAttrs=function(t,n,i,o,s,u){var d=i.realX,h=0,p="center";return d-n/2-u.paddingLeft<0?(h=0,p="left"):d+n/2+u.paddingRight>o.width?(h=o.width,p="right"):h=d,{x:h,y:0,text:t,align:p,baseline:"top"}},r}(G2),b7=function(e){Lt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._xAxisView=new y7(i),i._overlayXAxisView=new x7(i),i._crosshairVerticalLabelView=new C7(i),i.setCursor("ew-resize"),i.addChild(i._overlayXAxisView),i}return r.prototype.getName=function(){return Vt.X_AXIS},r.prototype.updateMain=function(t){this._xAxisView.draw(t)},r.prototype.updateOverlay=function(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)},r}($g),w7=function(e){Lt(r,e);function r(t,n){var i=e.call(this,t)||this;return i.override(n),i}return r.prototype.override=function(t){var n=t.name,i=t.scrollZoomEnabled,o=t.createTicks;or(this.name)||(this.name=n),this.scrollZoomEnabled=i??this.scrollZoomEnabled,this.createTicks=o??this.createTicks},r.prototype.createRangeImp=function(){var t=this.getParent().getChart().getChartStore(),n=t.getVisibleRange(),i=n.realFrom,o=n.realTo,s=i,u=o,d=o-i+1,h={from:s,to:u,range:d,realFrom:s,realTo:u,realRange:d,displayFrom:s,displayTo:u,displayRange:d};return h},r.prototype.createTicksImp=function(){var t,n=this.getRange(),i=n.realFrom,o=n.realTo,s=n.from,u=this.getParent().getChart().getChartStore(),d=u.getInnerFormatter().formatDate,h=u.getPeriod(),p=[],v=u.getBarSpace().bar,m=u.getStyles().xAxis.tickText,C=Math.max(no("YYYY-MM-DD HH:mm:ss",m.size,m.weight,m.family),this.getBounding().width/8),b=Math.ceil(C/v);b%2!==0&&(b+=1);for(var w=Math.max(0,Math.floor(i/b)*b),_=w;_<o;_+=b)if(_>=s){var S=u.dataIndexToTimestamp(_);lt(S)&&p.push({coord:this.convertToPixel(_),value:S,text:d(S,r7[(t=h==null?void 0:h.type)!==null&&t!==void 0?t:"day"],"xAxis")})}return ci(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:p}):p},r.prototype.getAutoSize=function(){var t=this.getParent().getChart().getStyles(),n=t.xAxis,i=n.size;if(i!=="auto")return i;var o=t.crosshair,s=0;n.show&&(n.axisLine.show&&(s+=n.axisLine.size),n.tickLine.show&&(s+=n.tickLine.length),n.tickText.show&&(s+=n.tickText.marginStart+n.tickText.marginEnd+n.tickText.size));var u=0;return o.show&&o.vertical.show&&o.vertical.text.show&&(u+=o.vertical.text.paddingTop+o.vertical.text.paddingBottom+o.vertical.text.borderSize*2+o.vertical.text.size),Math.max(s,u)},r.prototype.getBounding=function(){return this.getParent().getMainWidget().getBounding()},r.prototype.convertTimestampFromPixel=function(t){var n=this.getParent().getChart().getChartStore(),i=n.coordinateToDataIndex(t);return n.dataIndexToTimestamp(i)},r.prototype.convertTimestampToPixel=function(t){var n=this.getParent().getChart().getChartStore(),i=n.timestampToDataIndex(t);return n.dataIndexToCoordinate(i)},r.prototype.convertFromPixel=function(t){return this.getParent().getChart().getChartStore().coordinateToDataIndex(t)},r.prototype.convertToPixel=function(t){return this.getParent().getChart().getChartStore().dataIndexToCoordinate(t)},r.extend=function(t){var n=function(i){Lt(o,i);function o(s){return i.call(this,s,t)||this}return o}(r);return n},r}(q2),_7={name:"normal"},mm={normal:w7.extend(_7)};function k7(e){var r;return(r=mm[e])!==null&&r!==void 0?r:mm.normal}var S7=function(e){Lt(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createAxisComponent=function(t){var n=k7(t);return new n(this)},r.prototype.createMainWidget=function(t){return new b7(t,this)},r}(Q2);function M7(e,r){var t=0;return function(){var n=Date.now();n-t>r&&(e.apply(this,arguments),t=n)}}var E7=function(e){Lt(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._dragFlag=!1,i._dragStartY=0,i._topPaneHeight=0,i._bottomPaneHeight=0,i._topPane=null,i._bottomPane=null,i._pressedMouseMoveEvent=M7(i._pressedTouchMouseMoveEvent,20),i.registerEvent("touchStartEvent",i._mouseDownEvent.bind(i)).registerEvent("touchMoveEvent",i._pressedMouseMoveEvent.bind(i)).registerEvent("touchEndEvent",i._mouseUpEvent.bind(i)).registerEvent("mouseDownEvent",i._mouseDownEvent.bind(i)).registerEvent("mouseUpEvent",i._mouseUpEvent.bind(i)).registerEvent("pressedMouseMoveEvent",i._pressedMouseMoveEvent.bind(i)).registerEvent("mouseEnterEvent",i._mouseEnterEvent.bind(i)).registerEvent("mouseLeaveEvent",i._mouseLeaveEvent.bind(i)),i}return r.prototype.getName=function(){return Vt.SEPARATOR},r.prototype._mouseDownEvent=function(t){var n=this;this._dragFlag=!0,this._dragStartY=t.pageY;var i=this.getPane(),o=i.getChart();this._topPane=i.getTopPane(),this._bottomPane=i.getBottomPane();var s=o.getDrawPanes();if(this._topPane.getOptions().state==="minimize")for(var u=s.findIndex(function(v){var m;return v.getId()===((m=n._topPane)===null||m===void 0?void 0:m.getId())}),d=u-1;d>-1;d--){var h=s[d];if(h.getOptions().state!=="minimize"){this._topPane=h;break}}if(this._bottomPane.getOptions().state==="minimize")for(var u=s.findIndex(function(C){var b;return C.getId()===((b=n._bottomPane)===null||b===void 0?void 0:b.getId())}),d=u+1;d<s.length;d++){var p=s[d];if(p.getOptions().state!=="minimize"){this._bottomPane=p;break}}return this._topPaneHeight=this._topPane.getBounding().height,this._bottomPaneHeight=this._bottomPane.getBounding().height,!0},r.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._topPane=null,this._bottomPane=null,this._topPaneHeight=0,this._bottomPaneHeight=0,this._mouseLeaveEvent()},r.prototype._pressedTouchMouseMoveEvent=function(t){var n=t.pageY-this._dragStartY,i=n<0;if(me(this._topPane)&&me(this._bottomPane)){var o=this._bottomPane.getOptions();if(this._topPane.getOptions().state!=="minimize"&&o.state!=="minimize"&&o.dragEnabled){var s=null,u=null,d=0,h=0;i?(s=this._topPane,u=this._bottomPane,d=this._topPaneHeight,h=this._bottomPaneHeight):(s=this._bottomPane,u=this._topPane,d=this._bottomPaneHeight,h=this._topPaneHeight);var p=s.getOptions().minHeight;if(d>p){var v=Math.max(d-Math.abs(n),p),m=d-v;s.setBounding({height:v}),u.setBounding({height:h+m});var C=this.getPane(),b=C.getChart();b.getChartStore().executeAction("onPaneDrag",{paneId:C.getId()}),b.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}}}return!0},r.prototype._mouseEnterEvent=function(){var t=this.getPane(),n=t.getBottomPane();if(n.getOptions().dragEnabled){var i=t.getChart(),o=i.getStyles().separator;return this.getContainer().style.background=o.activeBackgroundColor,!0}return!1},r.prototype._mouseLeaveEvent=function(){return this._dragFlag?!1:(this.getContainer().style.background="transparent",!0)},r.prototype.createContainer=function(){return Rl("div",{width:"100%",height:"".concat(w1,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},r.prototype.updateImp=function(t,n,i){if(i===4||i===2){var o=this.getPane().getChart().getStyles().separator;t.style.top="".concat(-Math.floor((w1-o.size)/2),"px"),t.style.height="".concat(w1,"px")}},r}(F2),T7=function(e){Lt(r,e);function r(t,n,i,o){var s=e.call(this,t,n)||this;return s.getContainer().style.overflow="",s._topPane=i,s._bottomPane=o,s._separatorWidget=new E7(s.getContainer(),s),s}return r.prototype.setBounding=function(t){return pn(this.getBounding(),t),this},r.prototype.getTopPane=function(){return this._topPane},r.prototype.setTopPane=function(t){return this._topPane=t,this},r.prototype.getBottomPane=function(){return this._bottomPane},r.prototype.setBottomPane=function(t){return this._bottomPane=t,this},r.prototype.getWidget=function(){return this._separatorWidget},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=this.getChart().getStyles().separator,u=Rl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),d=u.getContext("2d"),h=Is(u);return u.width=i*h,u.height=o*h,d.scale(h,h),d.fillStyle=s.color,d.fillRect(0,0,i,o),u},r.prototype.updateImp=function(t,n,i){if(t===4||t===2){var o=this.getChart().getStyles().separator;n.style.backgroundColor=o.color,n.style.height="".concat(i.height,"px"),n.style.marginLeft="".concat(i.left,"px"),n.style.width="".concat(i.width,"px"),this._separatorWidget.update(t)}},r}(K2);function ym(){return typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("firefox")}function Xf(){return typeof window>"u"?!1:/iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)}var Zh={ResetClick:500,LongTap:500,PreventFiresTouchEvents:500},hd={CancelClick:5,CancelTap:5,DoubleClick:5,DoubleTap:30},u1={Left:0,Middle:1,Right:2},I7=10,L7=function(){function e(r,t,n){var i=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!Xf(),this._onFirefoxOutsideMouseUp=function(o){i._mouseUpHandler(o)},this._onMobileSafariDoubleClick=function(o){if(i._firesTouchEvents(o)){if(++i._tapCount,i._tapTimeoutId!==null&&i._tapCount>1){var s=i._mouseTouchMoveWithDownInfo(i._getCoordinate(o),i._tapCoordinate).manhattanDistance;s<hd.DoubleTap&&!i._cancelTap&&i._processEvent(i._makeCompatEvent(o),i._handler.doubleTapEvent),i._resetTapTimeout()}}else if(++i._clickCount,i._clickTimeoutId!==null&&i._clickCount>1){var s=i._mouseTouchMoveWithDownInfo(i._getCoordinate(o),i._clickCoordinate).manhattanDistance;s<hd.DoubleClick&&!i._cancelClick&&i._processEvent(i._makeCompatEvent(o),i._handler.mouseDoubleClickEvent),i._resetClickTimeout()}},this._target=r,this._handler=t,this._options=n,this._init()}return e.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},e.prototype._mouseEnterHandler=function(r){var t=this,n,i,o;(n=this._unsubscribeMousemove)===null||n===void 0||n.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(o=this._unsubscribeContextMenu)===null||o===void 0||o.call(this);var s=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){t._target.removeEventListener("mousemove",s)},this._target.addEventListener("mousemove",s);var u=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){t._target.removeEventListener("wheel",u)},this._target.addEventListener("wheel",u,{passive:!1});var d=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){t._target.removeEventListener("contextmenu",d)},this._target.addEventListener("contextmenu",d,{passive:!1}),!this._firesTouchEvents(r)&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},e.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._mouseMoveHandler=function(r){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(r)||(this._processEvent(this._makeCompatEvent(r),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},e.prototype._mouseWheelHandler=function(r){if(Math.abs(r.deltaX)>Math.abs(r.deltaY)){if(!me(this._handler.mouseWheelHortEvent)||(this._preventDefault(r),Math.abs(r.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(r),-r.deltaX)}else{if(!me(this._handler.mouseWheelVertEvent))return;var t=-(r.deltaY/100);if(t===0)return;switch(this._preventDefault(r),r.deltaMode){case r.DOM_DELTA_PAGE:{t*=120;break}case r.DOM_DELTA_LINE:{t*=32;break}}if(t!==0){var n=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(r),n)}}},e.prototype._contextMenuHandler=function(r){this._preventDefault(r)},e.prototype._touchMoveHandler=function(r){var t=this._touchWithId(r.changedTouches,this._activeTouchId);if(t!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(r),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),i=n.xOffset,o=n.yOffset,s=n.manhattanDistance;if(!(!this._touchMoveExceededManhattanDistance&&s<hd.CancelTap)){if(!this._touchMoveExceededManhattanDistance){var u=i*.5,d=o>=u&&!this._options.treatVertDragAsPageScroll(),h=u>o&&!this._options.treatHorzDragAsPageScroll();!d&&!h&&(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(r,t),this._handler.touchMoveEvent)}}},e.prototype._mouseMoveWithDownHandler=function(r){if(r.button===u1.Left){var t=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._mouseMoveStartCoordinate),n=t.manhattanDistance;n>=hd.CancelClick&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(r),this._handler.pressedMouseMoveEvent)}},e.prototype._mouseTouchMoveWithDownInfo=function(r,t){var n=Math.abs(t.x-r.x),i=Math.abs(t.y-r.y),o=n+i;return{xOffset:n,yOffset:i,manhattanDistance:o}},e.prototype._touchEndHandler=function(r){var t=this._touchWithId(r.changedTouches,this._activeTouchId);if(t===null&&r.touches.length===0&&(t=r.changedTouches[0]),t!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(r),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var n=this._makeCompatEvent(r,t);if(this._processEvent(n,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1){var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance;i<hd.DoubleTap&&!this._cancelTap&&this._processEvent(n,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processEvent(n,this._handler.tapEvent),me(this._handler.tapEvent)&&this._preventDefault(r));this._tapCount===0&&this._preventDefault(r),r.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(r))}},e.prototype._mouseUpHandler=function(r){if(r.button===u1.Left){var t=this._makeCompatEvent(r);if(this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),ym()){var n=this._target.ownerDocument.documentElement;n.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp)}if(!this._firesTouchEvents(r))if(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1){var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._clickCoordinate).manhattanDistance;i<hd.DoubleClick&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent)}},e.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},e.prototype._touchStartHandler=function(r){if(this._activeTouchId===null){var t=r.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(r);var n=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);{var i=this._touchMoveHandler.bind(this),o=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){n.removeEventListener("touchmove",i),n.removeEventListener("touchend",o)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,r),Zh.LongTap)}this._processEvent(this._makeCompatEvent(r,t),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),Zh.ResetClick),this._tapCoordinate=this._getCoordinate(t))}},e.prototype._mouseDownHandler=function(r){if(r.button===u1.Right){this._preventDefault(r),this._processEvent(this._makeCompatEvent(r),this._handler.mouseRightClickEvent);return}if(r.button===u1.Left){var t=this._target.ownerDocument.documentElement;ym()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(r),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);{var n=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",n),t.removeEventListener("mouseup",i)},t.addEventListener("mousemove",n),t.addEventListener("mouseup",i)}this._mousePressed=!0,!this._firesTouchEvents(r)&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),Zh.ResetClick),this._clickCoordinate=this._getCoordinate(r)))}},e.prototype._init=function(){var r=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));{var t=this._target.ownerDocument,n=function(i){r._handler.mouseDownOutsideEvent!=null&&(i.composed&&r._target.contains(i.composedPath()[0])||i.target!==null&&r._target.contains(i.target)||r._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",n)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",n)},t.addEventListener("mousedown",n),t.addEventListener("touchstart",n,{passive:!0})}Xf()&&(this._unsubscribeMobileSafariEvents=function(){r._target.removeEventListener("dblclick",r._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(i){if(i.button===u1.Middle)return i.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},e.prototype._initPinch=function(){var r=this;!me(this._handler.pinchStartEvent)&&!me(this._handler.pinchEvent)&&!me(this._handler.pinchEndEvent)||(this._target.addEventListener("touchstart",function(t){r._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){if(!(t.touches.length!==2||r._startPinchMiddleCoordinate===null)&&me(r._handler.pinchEvent)){var n=r._getTouchDistance(t.touches[0],t.touches[1]),i=n/r._startPinchDistance;r._handler.pinchEvent(je(je({},r._startPinchMiddleCoordinate),{pageX:0,pageY:0}),i),r._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",function(t){r._checkPinchState(t.touches)}))},e.prototype._checkPinchState=function(r){r.length===1&&(this._pinchPrevented=!1),r.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(r)},e.prototype._startPinch=function(r){var t=this._target.getBoundingClientRect();this._startPinchMiddleCoordinate={x:(r[0].clientX-t.left+(r[1].clientX-t.left))/2,y:(r[0].clientY-t.top+(r[1].clientY-t.top))/2},this._startPinchDistance=this._getTouchDistance(r[0],r[1]),me(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},e.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,me(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},e.prototype._mouseLeaveHandler=function(r){var t,n,i;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(n=this._unsubscribeMouseWheel)===null||n===void 0||n.call(this),(i=this._unsubscribeContextMenu)===null||i===void 0||i.call(this),!this._firesTouchEvents(r)&&this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!Xf())},e.prototype._longTapHandler=function(r){var t=this._touchWithId(r.touches,this._activeTouchId);t!==null&&(this._processEvent(this._makeCompatEvent(r,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},e.prototype._firesTouchEvents=function(r){var t;return me((t=r.sourceCapabilities)===null||t===void 0?void 0:t.firesTouchEvents)?r.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(r)<this._lastTouchEventTimeStamp+Zh.PreventFiresTouchEvents},e.prototype._processEvent=function(r,t){t==null||t.call(this._handler,r)},e.prototype._makeCompatEvent=function(r,t){var n=this,i=t??r,o=this._target.getBoundingClientRect();return{x:i.clientX-o.left,y:i.clientY-o.top,pageX:i.pageX,pageY:i.pageY,isTouch:!r.type.startsWith("mouse")&&r.type!=="contextmenu"&&r.type!=="click"&&r.type!=="wheel",preventDefault:function(){r.type!=="touchstart"&&n._preventDefault(r)}}},e.prototype._getTouchDistance=function(r,t){var n=r.clientX-t.clientX,i=r.clientY-t.clientY;return Math.sqrt(n*n+i*i)},e.prototype._preventDefault=function(r){r.cancelable&&r.preventDefault()},e.prototype._getCoordinate=function(r){return{x:r.pageX,y:r.pageY}},e.prototype._eventTimeStamp=function(r){var t;return(t=r.timeStamp)!==null&&t!==void 0?t:performance.now()},e.prototype._touchWithId=function(r,t){for(var n=0;n<r.length;++n)if(r[n].identifier===t)return r[n];return null},e}(),P7=function(){function e(r,t){var n=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(i){if(i.shiftKey)switch(i.code){case"Equal":{n._chart.getChartStore().zoom(.5);break}case"Minus":{n._chart.getChartStore().zoom(-.5);break}case"ArrowLeft":{var o=n._chart.getChartStore();o.startScroll(),o.scroll(-3*o.getBarSpace().bar);break}case"ArrowRight":{var o=n._chart.getChartStore();o.startScroll(),o.scroll(3*o.getBarSpace().bar);break}}},this._container=r,this._chart=t,this._event=new L7(r,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),r.addEventListener("keydown",this._boundKeyBoardDownEvent)}return e.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},e.prototype.pinchEvent=function(r,t){var n=this._findWidgetByEvent(r),i=n.pane,o=n.widget;if((i==null?void 0:i.getId())!==Rt.X_AXIS&&(o==null?void 0:o.getName())===Vt.MAIN){var s=this._makeWidgetEvent(r,o),u=(t-this._pinchScale)*5;return this._pinchScale=t,this._chart.getChartStore().zoom(u,{x:s.x,y:s.y}),!0}return!1},e.prototype.mouseWheelHortEvent=function(r,t){var n=this._chart.getChartStore();return n.startScroll(),n.scroll(t),!0},e.prototype.mouseWheelVertEvent=function(r,t){var n=this._findWidgetByEvent(r).widget,i=this._makeWidgetEvent(r,n),o=n==null?void 0:n.getName();return o===Vt.MAIN?(this._chart.getChartStore().zoom(t,{x:i.x,y:i.y}),!0):!1},e.prototype.mouseDownEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(this._mouseDownWidget=i,i!==null){var o=this._makeWidgetEvent(r,i),s=i.getName();switch(s){case Vt.SEPARATOR:return i.dispatchEvent("mouseDownEvent",o);case Vt.MAIN:{var u=n.getAxisComponent();if(!u.getAutoCalcTickFlag()){var d=u.getRange();this._prevYAxisRange=je({},d)}return this._startScrollCoordinate={x:o.x,y:o.y},this._chart.getChartStore().startScroll(),i.dispatchEvent("mouseDownEvent",o)}case Vt.X_AXIS:return this._processXAxisScrollStartEvent(i,o);case Vt.Y_AXIS:return this._processYAxisScaleStartEvent(i,o)}}return!1},e.prototype.mouseMoveEvent=function(r){var t,n,i,o=this._findWidgetByEvent(r),s=o.pane,u=o.widget,d=this._makeWidgetEvent(r,u);if((((t=this._mouseMoveTriggerWidgetInfo.pane)===null||t===void 0?void 0:t.getId())!==(s==null?void 0:s.getId())||((n=this._mouseMoveTriggerWidgetInfo.widget)===null||n===void 0?void 0:n.getName())!==(u==null?void 0:u.getName()))&&(u==null||u.dispatchEvent("mouseEnterEvent",d),(i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0||i.dispatchEvent("mouseLeaveEvent",d),this._mouseMoveTriggerWidgetInfo={pane:s,widget:u}),u!==null){var h=u.getName();switch(h){case Vt.MAIN:{var p=u.dispatchEvent("mouseMoveEvent",d),v={x:d.x,y:d.y,paneId:s==null?void 0:s.getId()};return p?(u.getForceCursor()!=="pointer"&&(v=void 0),u.setCursor("pointer")):u.setCursor("crosshair"),this._chart.getChartStore().setCrosshair(v),p}case Vt.SEPARATOR:case Vt.X_AXIS:case Vt.Y_AXIS:{var p=u.dispatchEvent("mouseMoveEvent",d);return this._chart.getChartStore().setCrosshair(),p}}}return!1},e.prototype.pressedMouseMoveEvent=function(r){var t,n;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===Vt.SEPARATOR)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",r);var i=this._findWidgetByEvent(r),o=i.pane,s=i.widget;if(s!==null&&((t=this._mouseDownWidget)===null||t===void 0?void 0:t.getPane().getId())===(o==null?void 0:o.getId())&&((n=this._mouseDownWidget)===null||n===void 0?void 0:n.getName())===s.getName()){var u=this._makeWidgetEvent(r,s),d=s.getName();switch(d){case Vt.MAIN:{var h=void 0,p=s.dispatchEvent("pressedMouseMoveEvent",u);return p||this._processMainScrollingEvent(s,u),(!p||s.getForceCursor()==="pointer")&&(h={x:u.x,y:u.y,paneId:o==null?void 0:o.getId()}),this._chart.getChartStore().setCrosshair(h,{forceInvalidate:!0}),p}case Vt.X_AXIS:return this._processXAxisScrollingEvent(s,u);case Vt.Y_AXIS:return this._processYAxisScalingEvent(s,u)}}return!1},e.prototype.mouseUpEvent=function(r){var t=this._findWidgetByEvent(r).widget,n=!1;if(t!==null){var i=this._makeWidgetEvent(r,t),o=t.getName();switch(o){case Vt.MAIN:case Vt.SEPARATOR:case Vt.X_AXIS:case Vt.Y_AXIS:{n=t.dispatchEvent("mouseUpEvent",i);break}}n&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,n},e.prototype.mouseClickEvent=function(r){var t=this._findWidgetByEvent(r).widget;if(t!==null){var n=this._makeWidgetEvent(r,t);return t.dispatchEvent("mouseClickEvent",n)}return!1},e.prototype.mouseRightClickEvent=function(r){var t=this._findWidgetByEvent(r).widget,n=!1;if(t!==null){var i=this._makeWidgetEvent(r,t),o=t.getName();switch(o){case Vt.MAIN:case Vt.X_AXIS:case Vt.Y_AXIS:{n=t.dispatchEvent("mouseRightClickEvent",i);break}}n&&this._chart.updatePane(1)}return!1},e.prototype.mouseDoubleClickEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(i!==null){var o=i.getName();switch(o){case Vt.MAIN:{var s=this._makeWidgetEvent(r,i);return i.dispatchEvent("mouseDoubleClickEvent",s)}case Vt.Y_AXIS:{var u=n.getAxisComponent();if(!u.getAutoCalcTickFlag())return u.setAutoCalcTickFlag(!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),!0;break}}}return!1},e.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().setCrosshair(),!0},e.prototype.touchStartEvent=function(r){var t,n=this._findWidgetByEvent(r),i=n.pane,o=n.widget;if(o!==null){var s=this._makeWidgetEvent(r,o);(t=s.preventDefault)===null||t===void 0||t.call(s);var u=o.getName();switch(u){case Vt.MAIN:{var d=this._chart.getChartStore();if(o.dispatchEvent("mouseDownEvent",s))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,d.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0;this._flingScrollRequestId!==null&&(rm(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime();var h=i.getAxisComponent();if(!h.getAutoCalcTickFlag()){var p=h.getRange();this._prevYAxisRange=je({},p)}if(this._startScrollCoordinate={x:s.x,y:s.y},d.startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var v=s.x-this._touchCoordinate.x,m=s.y-this._touchCoordinate.y,C=Math.sqrt(v*v+m*m);C<I7?(this._touchCoordinate={x:s.x,y:s.y},d.setCrosshair({x:s.x,y:s.y,paneId:i==null?void 0:i.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,d.setCrosshair())}return!0}case Vt.X_AXIS:return this._processXAxisScrollStartEvent(o,s);case Vt.Y_AXIS:return this._processYAxisScaleStartEvent(o,s)}}return!1},e.prototype.touchMoveEvent=function(r){var t,n=this._findWidgetByEvent(r),i=n.pane,o=n.widget;if(o!==null){var s=this._makeWidgetEvent(r,o);(t=s.preventDefault)===null||t===void 0||t.call(s);var u=o.getName(),d=this._chart.getChartStore();switch(u){case Vt.MAIN:return o.dispatchEvent("pressedMouseMoveEvent",s)?(d.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0):(this._touchCoordinate!==null?d.setCrosshair({x:s.x,y:s.y,paneId:i==null?void 0:i.getId()}):this._processMainScrollingEvent(o,s),!0);case Vt.X_AXIS:return this._processXAxisScrollingEvent(o,s);case Vt.Y_AXIS:return this._processYAxisScalingEvent(o,s)}}return!1},e.prototype.touchEndEvent=function(r){var t=this,n=this._findWidgetByEvent(r).widget;if(n!==null){var i=this._makeWidgetEvent(r,n),o=n.getName();switch(o){case Vt.MAIN:{if(n.dispatchEvent("mouseUpEvent",i),this._startScrollCoordinate!==null){var s=new Date().getTime()-this._flingStartTime,u=i.x-this._startScrollCoordinate.x,d=u/(s>0?s:1)*20;if(s<200&&Math.abs(d)>0){var h=this._chart.getChartStore(),p=function(){t._flingScrollRequestId=xp(function(){h.startScroll(),h.scroll(d),d=d*(1-.025),Math.abs(d)<1?t._flingScrollRequestId!==null&&(rm(t._flingScrollRequestId),t._flingScrollRequestId=null):p()})};p()}}return!0}case Vt.X_AXIS:case Vt.Y_AXIS:{var v=n.dispatchEvent("mouseUpEvent",i);v&&this._chart.updatePane(1)}}this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0}return!1},e.prototype.tapEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget,o=!1;if(i!==null){var s=this._makeWidgetEvent(r,i),u=i.dispatchEvent("mouseClickEvent",s);if(i.getName()===Vt.MAIN){var d=this._makeWidgetEvent(r,i),h=this._chart.getChartStore();u?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,h.setCrosshair(void 0,{notInvalidate:!0}),o=!0):(!this._touchCancelCrosshair&&!this._touchZoomed&&(this._touchCoordinate={x:d.x,y:d.y},h.setCrosshair({x:d.x,y:d.y,paneId:n==null?void 0:n.getId()},{notInvalidate:!0}),o=!0),this._touchCancelCrosshair=!1)}(o||u)&&this._chart.updatePane(1)}return o},e.prototype.doubleTapEvent=function(r){return this.mouseDoubleClickEvent(r)},e.prototype.longTapEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(i!==null&&i.getName()===Vt.MAIN){var o=this._makeWidgetEvent(r,i);return this._touchCoordinate={x:o.x,y:o.y},this._chart.getChartStore().setCrosshair({x:o.x,y:o.y,paneId:n==null?void 0:n.getId()}),!0}return!1},e.prototype._processMainScrollingEvent=function(r,t){if(this._startScrollCoordinate!==null){var n=r.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&!n.getAutoCalcTickFlag()&&n.scrollZoomEnabled){var i=this._prevYAxisRange,o=i.from,s=i.to,u=i.range,d=0;n.reverse?d=this._startScrollCoordinate.y-t.y:d=t.y-this._startScrollCoordinate.y;var h=r.getBounding(),p=d/h.height,v=u*p,m=o+v,C=s+v,b=n.valueToRealValue(m,{range:this._prevYAxisRange}),w=n.valueToRealValue(C,{range:this._prevYAxisRange}),_=n.realValueToDisplayValue(b,{range:this._prevYAxisRange}),S=n.realValueToDisplayValue(w,{range:this._prevYAxisRange});n.setRange({from:m,to:C,range:C-m,realFrom:b,realTo:w,realRange:w-b,displayFrom:_,displayTo:S,displayRange:S-_})}var M=t.x-this._startScrollCoordinate.x;this._chart.getChartStore().scroll(M)}},e.prototype._processXAxisScrollStartEvent=function(r,t){var n=r.dispatchEvent("mouseDownEvent",t);return n&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:t.x,y:t.y},this._xAxisStartScaleDistance=t.pageX,n},e.prototype._processXAxisScrollingEvent=function(r,t){var n,i=r.dispatchEvent("pressedMouseMoveEvent",t);if(i)this._chart.updatePane(1);else{var o=r.getPane().getAxisComponent();if(o.scrollZoomEnabled&&this._xAxisStartScaleDistance!==0){var s=this._xAxisStartScaleDistance/t.pageX;if(Number.isFinite(s)){var u=(s-this._xAxisScale)*10;this._xAxisScale=s,this._chart.getChartStore().zoom(u,(n=this._xAxisStartScaleCoordinate)!==null&&n!==void 0?n:void 0)}}}return i},e.prototype._processYAxisScaleStartEvent=function(r,t){var n=r.dispatchEvent("mouseDownEvent",t);n&&this._chart.updatePane(1);var i=r.getPane().getAxisComponent().getRange();return this._prevYAxisRange=je({},i),this._yAxisStartScaleDistance=t.pageY,n},e.prototype._processYAxisScalingEvent=function(r,t){var n=r.dispatchEvent("pressedMouseMoveEvent",t);if(n)this._chart.updatePane(1);else{var i=r.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&i.scrollZoomEnabled&&this._yAxisStartScaleDistance!==0){var o=this._prevYAxisRange,s=o.from,u=o.to,d=o.range,h=t.pageY/this._yAxisStartScaleDistance,p=d*h,v=(p-d)/2,m=s-v,C=u+v,b=i.valueToRealValue(m,{range:this._prevYAxisRange}),w=i.valueToRealValue(C,{range:this._prevYAxisRange}),_=i.realValueToDisplayValue(b,{range:this._prevYAxisRange}),S=i.realValueToDisplayValue(w,{range:this._prevYAxisRange});i.setRange({from:m,to:C,range:p,realFrom:b,realTo:w,realRange:w-b,displayFrom:_,displayTo:S,displayRange:S-_}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}}return n},e.prototype._findWidgetByEvent=function(r){var t,n,i,o,s=r.x,u=r.y,d=this._chart.getSeparatorPanes(),h=this._chart.getStyles().separator.size;try{for(var p=oo(d),v=p.next();!v.done;v=p.next()){var m=v.value,C=m[1],b=C.getBounding(),w=b.top-Math.round((w1-h)/2);if(s>=b.left&&s<=b.left+b.width&&u>=w&&u<=w+w1)return{pane:C,widget:C.getWidget()}}}catch(W){t={error:W}}finally{try{v&&!v.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}var _=this._chart.getDrawPanes(),S=null;try{for(var M=oo(_),I=M.next();!I.done;I=M.next()){var A=I.value,b=A.getBounding();if(s>=b.left&&s<=b.left+b.width&&u>=b.top&&u<=b.top+b.height){S=A;break}}}catch(W){i={error:W}}finally{try{I&&!I.done&&(o=M.return)&&o.call(M)}finally{if(i)throw i.error}}var P=null;if(S!==null){if(!me(P)){var $=S.getMainWidget(),D=$.getBounding();s>=D.left&&s<=D.left+D.width&&u>=D.top&&u<=D.top+D.height&&(P=$)}if(!me(P)){var z=S.getYAxisWidget();if(z!==null){var V=z.getBounding();s>=V.left&&s<=V.left+V.width&&u>=V.top&&u<=V.top+V.height&&(P=z)}}}return{pane:S,widget:P}},e.prototype._makeWidgetEvent=function(r,t){var n,i,o,s=(n=t==null?void 0:t.getBounding())!==null&&n!==void 0?n:null;return je(je({},r),{x:r.x-((i=s==null?void 0:s.left)!==null&&i!==void 0?i:0),y:r.y-((o=s==null?void 0:s.top)!==null&&o!==void 0?o:0)})},e.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},e}(),A7=function(){function e(r,t){this._chartBounding=yp(),this._drawPanes=[],this._separatorPanes=new Map,this._layoutOptions={sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1},this._layoutPending=!1,this._cacheYAxisWidth={left:0,right:0},this._initContainer(r),this._chartEvent=new P7(this._chartContainer,this),this._chartStore=new P8(this,t),this._initPanes(t),this._layout()}return e.prototype._initContainer=function(r){this._container=r,this._chartContainer=Rl("div",{position:"relative",width:"100%",height:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",overflow:"hidden",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,r.appendChild(this._chartContainer),this._cacheChartBounding()},e.prototype._cacheChartBounding=function(){this._chartBounding.width=Math.floor(this._chartContainer.clientWidth),this._chartBounding.height=Math.floor(this._chartContainer.clientHeight)},e.prototype._initPanes=function(r){var t=this,n,i=(n=r==null?void 0:r.layout)!==null&&n!==void 0?n:[{type:"candle"}],o=function(u){var d,h;if(!me(t._candlePane)){var p=(d=u.options)!==null&&d!==void 0?d:{};pn(p,{id:Rt.CANDLE}),t._candlePane=t._createPane(m7,Rt.CANDLE,p);var v=(h=u.content)!==null&&h!==void 0?h:[];v.forEach(function(m){t.createIndicator(m,!0,p)})}},s=function(u){if(!me(t._xAxisPane)){var d=t._createPane(S7,Rt.X_AXIS,u??{});t._xAxisPane=d}};i.forEach(function(u){var d,h,p;switch(u.type){case"candle":{o(u);break}case"indicator":{var v=(d=u.content)!==null&&d!==void 0?d:[];if(v.length>0){var m=(p=(h=u.options)===null||h===void 0?void 0:h.id)!==null&&p!==void 0?p:null;me(m)&&(m=op(Rt.INDICATOR));var C=je(je({},u.options),{id:m});v.forEach(function(b){t.createIndicator(b,!0,C)})}break}case"xAxis":{s(u.options);break}}}),o({}),s({order:Number.MAX_SAFE_INTEGER})},e.prototype._createPane=function(r,t,n){var i=new r(this,t,n??{});return this._drawPanes.push(i),i},e.prototype._recalculatePaneHeight=function(r,t,n){if(n===0)return!1;var i=this._drawPanes.filter(function(v){var m=v.getId();return v.getOptions().state==="normal"&&m!==r.getId()&&m!==Rt.X_AXIS}),o=i.length;if(o===0)return!1;if(r.getId()!==Rt.CANDLE&&me(this._candlePane)&&this._candlePane.getOptions().state==="normal"){var s=this._candlePane.getBounding().height;if(s>0){var u=this._candlePane.getOptions().minHeight,d=s+n;d<u&&(d=u,t-=s+n-d),this._candlePane.setBounding({height:d})}}else{var h=n,p=Math.floor(n/o);i.forEach(function(v,m){var C=v.getBounding().height,b=0;m===o-1?b=C+h:b=C+p,b<v.getOptions().minHeight&&(b=v.getOptions().minHeight),v.setBounding({height:b}),h-=b-C}),Math.abs(h)>0&&(t-=h)}return r.setBounding({height:t}),!0},e.prototype.getDrawPaneById=function(r){if(r===Rt.CANDLE)return this._candlePane;if(r===Rt.X_AXIS)return this._xAxisPane;var t=this._drawPanes.find(function(n){return n.getId()===r});return t??null},e.prototype.getContainer=function(){return this._container},e.prototype.getChartStore=function(){return this._chartStore},e.prototype.getXAxisPane=function(){return this._xAxisPane},e.prototype.getDrawPanes=function(){return this._drawPanes},e.prototype.getSeparatorPanes=function(){return this._separatorPanes},e.prototype.layout=function(r){var t=this,n,i,o,s,u,d,h;(n=r.sort)!==null&&n!==void 0&&n&&(this._layoutOptions.sort=r.sort),(i=r.measureHeight)!==null&&i!==void 0&&i&&(this._layoutOptions.measureHeight=r.measureHeight),(o=r.measureWidth)!==null&&o!==void 0&&o&&(this._layoutOptions.measureWidth=r.measureWidth),(s=r.update)!==null&&s!==void 0&&s&&(this._layoutOptions.update=r.update),(u=r.buildYAxisTick)!==null&&u!==void 0&&u&&(this._layoutOptions.buildYAxisTick=r.buildYAxisTick),(d=r.cacheYAxisWidth)!==null&&d!==void 0&&d&&(this._layoutOptions.cacheYAxisWidth=r.cacheYAxisWidth),(h=r.buildYAxisTick)!==null&&h!==void 0&&h&&(this._layoutOptions.forceBuildYAxisTick=r.forceBuildYAxisTick),this._layoutPending||(this._layoutPending=!0,Promise.resolve().then(function(p){t._layout(),t._layoutPending=!1}).catch(function(p){}))},e.prototype._layout=function(){var r=this,t=this._layoutOptions,n=t.sort,i=t.measureHeight,o=t.measureWidth,s=t.update,u=t.buildYAxisTick,d=t.cacheYAxisWidth,h=t.forceBuildYAxisTick;if(n){for(;me(this._chartContainer.firstChild);)this._chartContainer.removeChild(this._chartContainer.firstChild);this._separatorPanes.clear(),this._drawPanes.sort(function(j,q){return j.getOptions().order-q.getOptions().order});var p=null;this._drawPanes.forEach(function(j){if(j.getId()!==Rt.X_AXIS){if(me(p)){var q=new T7(r,"",p,j);r._chartContainer.appendChild(q.getContainer()),r._separatorPanes.set(j,q)}p=j}r._chartContainer.appendChild(j.getContainer())})}if(i){var v=this._chartBounding.height,m=this.getStyles().separator.size,C=this._xAxisPane.getAxisComponent().getAutoSize(),b=v-C;b<0&&(b=0),this._drawPanes.forEach(function(j){var q=j.getId();if(me(r._separatorPanes.get(j))&&(b-=m),q!==Rt.X_AXIS&&q!==Rt.CANDLE&&j.getVisible()){var Z=j.getBounding().height;Z>b?(Z=b,b=0):b-=Z,j.setBounding({height:Z})}}),this._candlePane.setBounding({height:Math.max(b,0)}),this._xAxisPane.setBounding({height:C});var w=0;this._drawPanes.forEach(function(j){var q=r._separatorPanes.get(j);me(q)&&(q.setBounding({height:m,top:w}),w+=m),j.setBounding({top:w}),w+=j.getBounding().height})}var _=o;if((u||h)&&this._drawPanes.forEach(function(j){var q=j.getAxisComponent().buildTicks(h);_||(_=q)}),_){var S=this._chartBounding.width,M=this.getStyles(),I=0,A=!0,P=0,$=!0;this._drawPanes.forEach(function(j){if(j.getId()!==Rt.X_AXIS){var q=j.getAxisComponent(),Z=q.inside,re=q.getAutoSize();q.position==="left"?(I=Math.max(I,re),Z&&(A=!1)):(P=Math.max(P,re),Z&&($=!1))}}),d&&(I=Math.max(this._cacheYAxisWidth.left,I),P=Math.max(this._cacheYAxisWidth.right,P)),this._cacheYAxisWidth.left=I,this._cacheYAxisWidth.right=P;var D=S,z=0,V=0;A&&(D-=I,z=I),$&&(D-=P,V=P),this._chartStore.setTotalBarSpace(D);var W={width:S},Q={width:D,left:z,right:V},se={width:I},X={width:P},J=M.separator.fill,le={};J?le=W:le=Q,this._drawPanes.forEach(function(j){var q;(q=r._separatorPanes.get(j))===null||q===void 0||q.setBounding(le),j.setBounding(W,Q,se,X)})}s&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4)),this._layoutOptions={sort:!1,measureHeight:!1,measureWidth:!1,update:!1,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1}},e.prototype.updatePane=function(r,t){var n=this;if(me(t)){var i=this.getDrawPaneById(t);i==null||i.update(r)}else this._drawPanes.forEach(function(o){var s;o.update(r),(s=n._separatorPanes.get(o))===null||s===void 0||s.update(r)})},e.prototype.getDom=function(r,t){var n,i;if(me(r)){var o=this.getDrawPaneById(r);if(me(o)){var s=t??"root";switch(s){case"root":return o.getContainer();case"main":return o.getMainWidget().getContainer();case"yAxis":return(i=(n=o.getYAxisWidget())===null||n===void 0?void 0:n.getContainer())!==null&&i!==void 0?i:null}}}else return this._chartContainer;return null},e.prototype.getSize=function(r,t){var n,i;if(me(r)){var o=this.getDrawPaneById(r);if(me(o)){var s=t??"root";switch(s){case"root":return o.getBounding();case"main":return o.getMainWidget().getBounding();case"yAxis":return(i=(n=o.getYAxisWidget())===null||n===void 0?void 0:n.getBounding())!==null&&i!==void 0?i:null}}}else return this._chartBounding;return null},e.prototype.setSymbol=function(r){this._chartStore.setSymbol(r)},e.prototype.getSymbol=function(){return this._chartStore.getSymbol()},e.prototype.setPeriod=function(r){this._chartStore.setPeriod(r)},e.prototype.getPeriod=function(){return this._chartStore.getPeriod()},e.prototype.setStyles=function(r){var t=this;this._setOptions(function(){t._chartStore.setStyles(r)})},e.prototype.getStyles=function(){return this._chartStore.getStyles()},e.prototype.setFormatter=function(r){var t=this;this._setOptions(function(){t._chartStore.setFormatter(r)})},e.prototype.getFormatter=function(){return this._chartStore.getFormatter()},e.prototype.setLocale=function(r){var t=this;this._setOptions(function(){t._chartStore.setLocale(r)})},e.prototype.getLocale=function(){return this._chartStore.getLocale()},e.prototype.setTimezone=function(r){var t=this;this._setOptions(function(){t._chartStore.setTimezone(r)})},e.prototype.getTimezone=function(){return this._chartStore.getTimezone()},e.prototype.setThousandsSeparator=function(r){var t=this;this._setOptions(function(){t._chartStore.setThousandsSeparator(r)})},e.prototype.getThousandsSeparator=function(){return this._chartStore.getThousandsSeparator()},e.prototype.setDecimalFold=function(r){var t=this;this._setOptions(function(){t._chartStore.setDecimalFold(r)})},e.prototype.getDecimalFold=function(){return this._chartStore.getDecimalFold()},e.prototype._setOptions=function(r){r(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.setOffsetRightDistance=function(r){this._chartStore.setOffsetRightDistance(r,!0)},e.prototype.getOffsetRightDistance=function(){return this._chartStore.getOffsetRightDistance()},e.prototype.setMaxOffsetLeftDistance=function(r){r<0||this._chartStore.setMaxOffsetLeftDistance(r)},e.prototype.setMaxOffsetRightDistance=function(r){r<0||this._chartStore.setMaxOffsetRightDistance(r)},e.prototype.setLeftMinVisibleBarCount=function(r){r<0||this._chartStore.setLeftMinVisibleBarCount(Math.ceil(r))},e.prototype.setRightMinVisibleBarCount=function(r){r<0||this._chartStore.setRightMinVisibleBarCount(Math.ceil(r))},e.prototype.setBarSpace=function(r){this._chartStore.setBarSpace(r)},e.prototype.getBarSpace=function(){return this._chartStore.getBarSpace()},e.prototype.getVisibleRange=function(){return this._chartStore.getVisibleRange()},e.prototype.resetData=function(){this._chartStore.resetData()},e.prototype.getDataList=function(){return this._chartStore.getDataList()},e.prototype.setDataLoader=function(r){this._chartStore.setDataLoader(r)},e.prototype.createIndicator=function(r,t,n){var i,o=or(r)?{name:r}:r;if(T2(o.name)===null)return null;var s=n??{};or(s.id)||(s.id=op(Rt.INDICATOR)),or(o.id)||(o.id=op(o.name));var u=this._chartStore.addIndicator(o,s.id,t??!1);if(u){var d=!1;return me(this.getDrawPaneById(s.id))||(this._createPane(J2,s.id,s),(i=s.height)!==null&&i!==void 0||(s.height=D2),d=!0),this.setPaneOptions(s),this.layout({sort:d,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),o.id}return null},e.prototype.overrideIndicator=function(r){return this._chartStore.overrideIndicator(r)},e.prototype.getIndicators=function(r){return this._chartStore.getIndicatorsByFilter(r??{})},e.prototype.removeIndicator=function(r){var t=this,n=this._chartStore.removeIndicator(r??{});if(n){var i=!1,o=[];this._drawPanes.forEach(function(s){var u=s.getId();u!==Rt.CANDLE&&u!==Rt.X_AXIS&&o.push(u)}),o.forEach(function(s){if(!t._chartStore.hasIndicators(s)){var u=t._drawPanes.findIndex(function(h){return h.getId()===s}),d=t._drawPanes[u];me(d)&&(i=!0,t._recalculatePaneHeight(d,0,d.getBounding().height),t._drawPanes.splice(u,1),d.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:i,measureHeight:i,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return n},e.prototype.createOverlay=function(r){var t=this,n=[],i=[],o=function(u){!me(u.paneId)||t.getDrawPaneById(u.paneId)===null?(u.paneId=Rt.CANDLE,i.push(!1)):i.push(!0),n.push(u)};or(r)?o({name:r}):Bo(r)?r.forEach(function(u){var d=null;or(u)?d={name:u}:d=u,o(d)}):o(r);var s=this._chartStore.addOverlays(n,i);return Bo(r)?s:s[0]},e.prototype.getOverlays=function(r){return this._chartStore.getOverlaysByFilter(r??{})},e.prototype.overrideOverlay=function(r){return this._chartStore.overrideOverlay(r)},e.prototype.removeOverlay=function(r){return this._chartStore.removeOverlay(r??{})},e.prototype.setPaneOptions=function(r){var t,n,i=this,o,s=!1,u=!1,d=me(r.id),h=function(w){var _=w.getId();if(d&&r.id===_||!d){if(_!==Rt.X_AXIS){if(lt(r.height)&&r.height>0){var S=Math.max((o=r.minHeight)!==null&&o!==void 0?o:w.getOptions().minHeight,0),M=Math.max(S,r.height);u=!0,s=!0,w.setOriginalBounding({height:M}),p._recalculatePaneHeight(w,M,-M)}if(me(r.state)&&w.getOptions().state!==r.state){s=!0,u=!0;var I=r.state;switch(I){case"maximize":{var A=p._drawPanes.find(function(V){var W=V.getId();return V.getOptions().state==="maximize"&&W!==Rt.X_AXIS});if(!me(A)){w.getOptions().state==="normal"&&w.setOriginalBounding({height:w.getBounding().height}),w.setOptions({state:I});var P=p._chartBounding.height;w.setBounding({height:P-p._xAxisPane.getBounding().height}),p._drawPanes.forEach(function(V){var W;V.getId()!==Rt.X_AXIS&&V.getId()!==_&&(V.setBounding({height:V.getOriginalBounding().height}),V.setVisible(!1),(W=i._separatorPanes.get(V))===null||W===void 0||W.setVisible(!1))})}break}case"minimize":{var M=w.getBounding().height,$=w.getOptions().state,D=M-lp;$==="maximize"&&(D=w.getOriginalBounding().height-lp),p._recalculatePaneHeight(w,lp,D)&&($==="normal"&&w.setOriginalBounding({height:M}),w.setOptions({state:I})),p._drawPanes.forEach(function(W){var Q;W.getId()!==Rt.X_AXIS&&(W.setVisible(!0),(Q=i._separatorPanes.get(W))===null||Q===void 0||Q.setVisible(!0))});break}default:{var M=w.getOriginalBounding().height;p._recalculatePaneHeight(w,M,w.getBounding().height-M)&&w.setOptions({state:I}),p._drawPanes.forEach(function(W){var Q;W.getId()!==Rt.X_AXIS&&(W.setVisible(!0),(Q=i._separatorPanes.get(W))===null||Q===void 0||Q.setVisible(!0))});break}}}}me(r.axis)&&(u=!0);var z=je({},r);if(delete z.state,w.setOptions(z),_===r.id)return"break"}},p=this;try{for(var v=oo(this._drawPanes),m=v.next();!m.done;m=v.next()){var C=m.value,b=h(C);if(b==="break")break}}catch(w){t={error:w}}finally{try{m&&!m.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}u&&this.layout({measureHeight:s,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.getPaneOptions=function(r){var t;if(me(r)){var n=this.getDrawPaneById(r);return(t=n==null?void 0:n.getOptions())!==null&&t!==void 0?t:null}return this._drawPanes.map(function(i){return i.getOptions()})},e.prototype.setZoomEnabled=function(r){this._chartStore.setZoomEnabled(r)},e.prototype.isZoomEnabled=function(){return this._chartStore.isZoomEnabled()},e.prototype.setScrollEnabled=function(r){this._chartStore.setScrollEnabled(r)},e.prototype.isScrollEnabled=function(){return this._chartStore.isScrollEnabled()},e.prototype.scrollByDistance=function(r,t){var n=this,i=lt(t)&&t>0?t:0;if(this._chartStore.startScroll(),i>0){var o=new yg({duration:i});o.doFrame(function(s){var u=r*(s/i);n._chartStore.scroll(u)}),o.start()}else this._chartStore.scroll(r)},e.prototype.scrollToRealTime=function(r){var t=this._chartStore.getBarSpace().bar,n=this._chartStore.getLastBarRightSideDiffBarCount()-this._chartStore.getInitialOffsetRightDistance()/t,i=n*t;this.scrollByDistance(i,r)},e.prototype.scrollToDataIndex=function(r,t){var n=(this._chartStore.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-r))*this._chartStore.getBarSpace().bar;this.scrollByDistance(n,t)},e.prototype.scrollToTimestamp=function(r,t){var n=xg(this.getDataList(),"timestamp",r);this.scrollToDataIndex(n,t)},e.prototype.zoomAtCoordinate=function(r,t,n){var i=this,o=lt(n)&&n>0?n:0,s=this._chartStore.getBarSpace().bar,u=s*r,d=u-s;if(o>0){var h=0,p=new yg({duration:o});p.doFrame(function(v){var m=d*(v/o),C=(m-h)/i._chartStore.getBarSpace().bar*Cg;i._chartStore.zoom(C,t),h=m}),p.start()}else this._chartStore.zoom(d/s*Cg,t)},e.prototype.zoomAtDataIndex=function(r,t,n){var i=this._chartStore.dataIndexToCoordinate(t);this.zoomAtCoordinate(r,{x:i,y:0},n)},e.prototype.zoomAtTimestamp=function(r,t,n){var i=xg(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(r,i,n)},e.prototype.convertToPixel=function(r,t){var n=this,i,o=t??{},s=o.paneId,u=s===void 0?Rt.CANDLE:s,d=o.absolute,h=d===void 0?!1:d,p=[];if(u!==Rt.X_AXIS){var v=this.getDrawPaneById(u);if(v!==null){var m=v.getBounding(),C=[].concat(r),b=this._xAxisPane.getAxisComponent(),w=v.getAxisComponent();p=C.map(function(_){var S={},M=_.dataIndex;if(lt(_.timestamp)&&(M=n._chartStore.timestampToDataIndex(_.timestamp)),lt(M)&&(S.x=b.convertToPixel(M)),lt(_.value)){var I=w.convertToPixel(_.value);S.y=h?m.top+I:I}return S})}}return Bo(r)?p:(i=p[0])!==null&&i!==void 0?i:{}},e.prototype.convertFromPixel=function(r,t){var n=this,i,o=t??{},s=o.paneId,u=s===void 0?Rt.CANDLE:s,d=o.absolute,h=d===void 0?!1:d,p=[];if(u!==Rt.X_AXIS){var v=this.getDrawPaneById(u);if(v!==null){var m=v.getBounding(),C=[].concat(r),b=this._xAxisPane.getAxisComponent(),w=v.getAxisComponent();p=C.map(function(_){var S,M={};if(lt(_.x)){var I=b.convertFromPixel(_.x);M.dataIndex=I,M.timestamp=(S=n._chartStore.dataIndexToTimestamp(I))!==null&&S!==void 0?S:void 0}if(lt(_.y)){var A=h?_.y-m.top:_.y;M.value=w.convertFromPixel(A)}return M})}}return Bo(r)?p:(i=p[0])!==null&&i!==void 0?i:{}},e.prototype.executeAction=function(r,t){var n;switch(r){case"onCrosshairChange":{var i=je({},t);(n=i.paneId)!==null&&n!==void 0||(i.paneId=Rt.CANDLE),this._chartStore.setCrosshair(i,{notExecuteAction:!0});break}}},e.prototype.subscribeAction=function(r,t){this._chartStore.subscribeAction(r,t)},e.prototype.unsubscribeAction=function(r,t){this._chartStore.unsubscribeAction(r,t)},e.prototype.getConvertPictureUrl=function(r,t,n){var i=this,o=this._chartBounding,s=o.width,u=o.height,d=Rl("canvas",{width:"".concat(s,"px"),height:"".concat(u,"px"),boxSizing:"border-box"}),h=d.getContext("2d"),p=Is(d);d.width=s*p,d.height=u*p,h.scale(p,p),h.fillStyle=n??"#FFFFFF",h.fillRect(0,0,s,u);var v=r??!1;return this._drawPanes.forEach(function(m){var C=i._separatorPanes.get(m);if(me(C)){var b=C.getBounding();h.drawImage(C.getImage(v),b.left,b.top,b.width,b.height)}var w=m.getBounding();h.drawImage(m.getImage(v),0,w.top,s,w.height)}),d.toDataURL("image/".concat(t??"jpeg"))},e.prototype.resize=function(){this._cacheChartBounding(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.destroy=function(){this._chartEvent.destroy(),this._drawPanes.forEach(function(r){r.destroy()}),this._drawPanes=[],this._separatorPanes.clear(),this._chartStore.destroy(),this._container.removeChild(this._chartContainer)},e}(),xm=new Map,D7=1;function F7(e,r){var t=null;if(or(e)?t=document.getElementById(e):t=e,t===null)return null;var n=xm.get(t.id);if(me(n))return n;var i="k_line_chart_".concat(D7++);return n=new A7(t,r),n.id=i,t.setAttribute("k-line-chart-id",i),xm.set(i,n),n}var hn={clone:Pd,merge:pn,isString:or,isNumber:lt,isValid:me,isObject:ro,isArray:Bo,isFunction:ci,isBoolean:S1,formatValue:wn,formatPrecision:jn,formatBigNumber:w2,formatDate:b2,formatThousands:_2,formatFoldDecimal:k2,calcTextWidth:no,getLinearSlopeIntercept:Op,getLinearYFromSlopeIntercept:Vg,getLinearYFromCoordinates:M1,checkCoordinateOnArc:B2,checkCoordinateOnCircle:O2,checkCoordinateOnLine:L2,checkCoordinateOnPolygon:R2,checkCoordinateOnRect:Wg,checkCoordinateOnText:V2};const O7="",R7="",N7="",z7="",V7="",B7="",$7="",W7="",U7="",H7="",Y7="",X7="",j7="",Z7="MA()",G7="EMA()",q7="SMA",K7="BOLL()",Q7="BBI()",J7="SAR()",e4="VOL()",t4="MACD()",r4="KDJ()",n4="RSI()",i4="BIAS()",a4="BRAR()",o4="CCI()",l4="DMI()",s4="CR()",c4="PSY()",u4="DMA()",d4="TRIX()",h4="OBV()",p4="VR()",f4="WR()",g4="MTM()",v4="EMV()",m4="ROC()",y4="PVT()",x4="AO()",C4="",b4="(UTC-10) ",w4="(UTC-8) ",_4="(UTC-7) ",k4="(UTC-5) ",S4="(UTC-4) ",M4="(UTC-3) ",E4="(UTC+1) ",T4="(UTC+2) ",I4="(UTC+3) ",L4="(UTC+4) ",P4="(UTC+5) ",A4="(UTC+6) ",D4="(UTC+7) ",F4="(UTC+8) ",O4="(UTC+9) ",R4="(UTC+10) ",N4="(UTC+12) ",z4="",V4="",B4="",$4="",W4="",U4="",H4="",Y4="",X4="",j4="",Z4="",G4="",q4="",K4="",Q4="",J4="",ex="",tx="",rx="",nx="",ix="",ax="",ox="",lx="",sx="",cx="",ux="",dx="",hx="",px="",fx="",gx="",vx="ABCD",mx="XABCD",yx="",xx="",Cx="",bx="",wx="1",_x="2",kx="3",Sx="4",Mx="5",Ex="",Tx="",Ix="",Lx="",Px="",Ax="",Dx="",Fx="OHLC",Ox="",Rx="",Nx="",zx="",Vx="",Bx="",$x="",Wx="",Ux="",Hx="",Yx="",Xx="",jx="",Zx="",Gx={indicator:O7,main_indicator:R7,sub_indicator:N7,favourites:z7,setting:V7,replay:B7,timezone:$7,screenshot:W7,full_screen:U7,exit_full_screen:H7,save:Y7,confirm:X7,cancel:j7,ma:Z7,ema:G7,sma:q7,boll:K7,bbi:Q7,sar:J7,vol:e4,macd:t4,kdj:r4,rsi:n4,bias:i4,brar:a4,cci:o4,dmi:l4,cr:s4,psy:c4,dma:u4,trix:d4,obv:h4,vr:p4,wr:f4,mtm:g4,emv:v4,roc:m4,pvt:y4,ao:x4,utc:C4,honolulu:b4,juneau:w4,los_angeles:_4,chicago:k4,toronto:S4,sao_paulo:M4,london:E4,berlin:T4,bahrain:I4,dubai:L4,ashkhabad:P4,almaty:A4,bangkok:D4,shanghai:F4,tokyo:O4,sydney:R4,norfolk:N4,D:z4,"5D":"5",W:V4,M:B4,"3M":"3","6M":"6",Y:$4,"5Y":"5","Light Theme 1":"1","Light Theme 2":"2","Midnight Theme":"","Dark Theme":"","Dark Gray Theme":"","Blue Theme":"","Red Theme":"","Green Theme":"","Yellow Theme":"","Pink Theme":"",horizontal_straight_line:W4,horizontal_ray_line:U4,horizontal_segment:H4,vertical_straight_line:Y4,vertical_ray_line:X4,vertical_segment:j4,straight_line:Z4,ray_line:G4,segment:q4,arrow:K4,price_line:Q4,price_channel_line:J4,parallel_straight_line:ex,fibonacci_line:tx,fibonacci_segment:rx,fibonacci_circle:nx,fibonacci_spiral:ix,fibonacci_speed_resistance_fan:ax,fibonacci_extension:ox,gann_box:lx,rect:sx,parallelogram:cx,circle:ux,triangle:dx,three_waves:hx,five_waves:px,eight_waves:fx,any_waves:gx,abcd:vx,xabcd:mx,weak_magnet:yx,strong_magnet:xx,symbol_search:Cx,symbol_code:bx,params_1:wx,params_2:_x,params_3:kx,params_4:Sx,params_5:Mx,period:Ex,standard_deviation:Tx,candle_type:Ix,candle_solid:Lx,candle_stroke:Px,candle_up_stroke:Ax,candle_down_stroke:Dx,ohlc:Fx,area:Ox,heikin_ashi:Rx,last_price_show:Nx,high_price_show:zx,low_price_show:Vx,indicator_last_value_show:Bx,price_axis_type:$x,normal:Wx,percentage:Ux,log:Hx,reverse_coordinate:Yx,grid_show:Xx,restore_default:jx,volumeBars:Zx},qx="Indicator",Kx="Indicators",Qx="Main Indicator",Jx="Sub Indicator",eC="Favourites",tC="Setting",rC="Replay",nC="Timezone",iC="Screenshot",aC="Full Screen",oC="Exit",lC="Save",sC="Confirm",cC="Cancel",uC="MA - Moving Average",dC="EMA - Exponential Moving Average",hC="SMA - Simple Moving Average",pC="BOLL - Bolinger Bands",fC="BBI - Bull And Bearlndex",gC="SAR - Stop and Reverse",vC="VOL - Volume (sub)",mC="MACD - Moving Average Convergence / Divergence",yC="KDJ - KDJ Index",xC="RSI - Relative Strength Index",CC="BIAS - Bias Ratio",bC="BRAR - Emotional Index",wC="CCI - Commodity Channel Index",_C="DMI - Directional Movement Index (PDI, MDI, ADX, ADXR)",kC="PDI - Plus Directional Indicator",SC="MDI - Minus Directional Indicator",MC="ADX - Average Directional Index",EC="ADXR - Average Directional Index Rating",TC="CR - Energy Index",IC="PSY - Psychological Line",LC="DMA - Different of Moving Average",PC="TRIX - Triple Exponentially Smoothed Moving Average",AC="OBV - On Balance Volume",DC="VR - Volatility Volume Ratio",FC="WR - Williams %R",OC="MTM - Momentum Index",RC="EMV - Ease of Movement Value",NC="ROC - Price Rate of Change",zC="PVT - Price and Volume Trend",VC="AO - Awesome Oscillator",BC="ADL - Accumulation/Distribution Line",$C="MFI - Money Flow Index",WC="VOL - Volume",UC="WMA - Weighted Moving Average",HC="WEM - Weighted Exponential Moving Average",YC="QS - Qstick",XC="AROON - Aroon",jC="ATR - Average True Range",ZC="TR - True Range",GC="WS - Wilder's Smoothing",qC="UTC",KC="(UTC-10) Honolulu",QC="(UTC-8) Juneau",JC="(UTC-7) Los Angeles",eb="(UTC-5) Chicago",tb="(UTC-4) Toronto",rb="(UTC-3) Sao Paulo",nb="(UTC+1) London",ib="(UTC+2) Berlin",ab="(UTC+3) Bahrain",ob="(UTC+4) Dubai",lb="(UTC+5) Ashkhabad",sb="(UTC+6) Almaty",cb="(UTC+7) Bangkok",ub="(UTC+8) Shanghai",db="(UTC+9) Tokyo",hb="(UTC+10) Sydney",pb="(UTC+12) Norfolk",fb="D",gb="W",vb="M",mb="Y",yb="Horizontal Line",xb="Horizontal Ray",Cb="Horizontal Segment",bb="Vertical Line",wb="Vertical Ray",_b="Vertical Segment",kb="Trend Line",Sb="Ray",Mb="Segment",Eb="Arrow",Tb="Price Line",Ib="Price Channel Line",Lb="Parallel Line",Pb="Fibonacci Line",Ab="Fibonacci Segment",Db="Fibonacci Circle",Fb="Fibonacci Spiral",Ob="Fibonacci Sector",Rb="Fibonacci Extension",Nb="Gann Box",zb="Rect",Vb="Parallelogram",Bb="Circle",$b="Triangle",Wb="Three Waves",Ub="Five Waves",Hb="Eight Waves",Yb="Any Waves",Xb="ABCD Pattern",jb="XABCD Pattern",Zb="Weak Magnet",Gb="Strong Magnet",qb="Symbol Search",Kb="Symbol Code",Qb="Parameter 1",Jb="Parameter 2",ew="Parameter 3",tw="Parameter 4",rw="Parameter 5",nw="Period",iw="Standard Deviation",aw="Charts",ow="Candle Type",lw="Candle Solid",sw="Candle Stroke",cw="Candle Up Stroke",uw="Candle Down Stroke",dw="OHLC",hw="Area",pw="Heikin Ashi",fw="Renko",gw="Brick Size",vw="Show Last Price",mw="Show Highest Price",yw="Show Lowest Price",xw="Show indicator's last value",Cw="Restore Defaults",bw="Standard",ww="Current Open",_w="Previous Close",kw="Close",Sw="Open",Mw="High",Ew="Low",Tw="Auto",Iw="Right",Lw="Left",Pw="Normal",Aw="Percentage",Dw="Log",Fw="Show Grids",Ow="Show Horizontal Grids",Rw="Horizontal Grid Size",Nw="Horizontal Grid Color",zw="Show Vertical Grids",Vw="Vertical Grid Size",Bw="Vertical Grid Color",$w="Grid Horizontal Style",Ww="Grid Horizontal Dashed Value",Uw="Grid Vertical Style",Hw="Grid Vertical Dashed Value",Yw="Pane Options",Xw="Fill Stroke",jw="Always",Zw="Stroke",Gw="Stroke Fill",qw="Ruler",Kw="RR",Qw="Enable Crosshair Sync",Jw="Enable Time Sync",e_="Enable Ticker Sync",t_="Enable Interval Sync",r_="Enable Drawing Sync",n_="Multichart",i_="Paper Trading",a_="Balance",o_="Trade",l_="Positions",s_="Orders",c_="Trades",u_="Cash",d_="Market",h_="Limit",p_="Buy",f_="Sell",g_="Quantity",v_="Price",m_="Estimated Total",y_="No open positions",x_="Avg Price",C_="Current Price",b_="P&L",w_="Close Position",__="No pending orders",k_="Status",S_="Cancel Order",M_="No trades executed",E_="Your trade history will appear here",T_="Clear All Trades",I_="Are you sure you want to clear all {count} trades? This action cannot be undone.",L_="Symbol/Side",P_="Qty",A_="Total",D_="Date/Time",F_="Cash Amount",O_="Operation",R_="Add Cash",N_="Remove Cash",z_="Pending buy orders",V_="Balance after removal",B_="Max safe removal",$_=" Insufficient funds for pending orders!",W_="Add",U_="Remove",H_=" Reset Trading Account",Y_=` RESET TRADING ACCOUNT 

This will permanently delete:
 {orders} pending orders
 {positions} open positions
 {trades} trade records
 Reset balance to $10,000

This action cannot be undone!

Are you sure you want to continue?`,X_=` Trading account has been reset successfully!

 Balance: $10,000
 All orders, positions, and trades cleared`,j_="Pending Orders Summary",Z_="Pending Buy Orders",G_="Pending Sell Orders",q_="Available Cash",K_="Max Cash Removal",Q_={indicator:qx,indicators:Kx,main_indicator:Qx,sub_indicator:Jx,favourites:eC,setting:tC,replay:rC,timezone:nC,screenshot:iC,full_screen:aC,exit_full_screen:oC,save:lC,confirm:sC,cancel:cC,ma:uC,ema:dC,sma:hC,boll:pC,bbi:fC,sar:gC,vol:vC,macd:mC,kdj:yC,rsi:xC,bias:CC,brar:bC,cci:wC,dmi:_C,pdi:kC,mdi:SC,adx:MC,adxr:EC,cr:TC,psy:IC,dma:LC,trix:PC,obv:AC,vr:DC,wr:FC,mtm:OC,emv:RC,roc:NC,pvt:zC,ao:VC,adl:BC,"force index":"FI - Force Index",mfi:$C,"volume weighted average price":"VWAP - Volume Weighted Average Price",volumebars:WC,"volume profile fixed range":"Volume Profile - Fixed Range",wma:UC,wema:HC,"chandelier exit":"CE -  Chandelier Exit","keltner channels":"KC - Keltner Channels","ichimoku cloud":"IC - Ichimoku Cloud","chaikin oscillator":"CO - Chaikin Oscillator","percentage price oscillator":"PPO - Percentage Price Oscillator","percentage volume oscillator":"PVO - Percentage Volume Oscillator",qstick:YC,"absolute price oscillator":"APO - Absolute Price Oscillator","balance of power":"BOP - Balance of Power",aroon:XC,"double exponential moving average":"DEMA - Double Exponential Moving Average",atr:jC,tr:ZC,"envelope (sma)":"ENV (SMA) - Envelope (SMA)","envelope (ema)":"ENV (EMA) - Envelope (EMA)",ws:GC,"volume price trend":"VPT - Volume Price Trend","negative volume index":"NVI - Negative Volume Index","money flow volume":"MFV - Money Flow Volume","money flow multiplier":"MFM - Money Flow Multiplier","average price":"AVP - Average Price","moving linear regression":"MLR - Moving Linear Regression","moving least square":"MLS - Moving Least Square",utc:qC,honolulu:KC,juneau:QC,los_angeles:JC,chicago:eb,toronto:tb,sao_paulo:rb,london:nb,berlin:ib,bahrain:ab,dubai:ob,ashkhabad:lb,almaty:sb,bangkok:cb,shanghai:ub,tokyo:db,sydney:hb,norfolk:pb,D:fb,"5D":"5D",W:gb,M:vb,"3M":"3M","6M":"6M",Y:mb,"5Y":"5Y","Light Theme 1":"Light Theme 1","Light Theme 2":"Light Theme 2","Midnight Theme":"Midnight Theme","Dark Theme":"Dark Theme","Dark Gray Theme":"Dark Gray Theme","Blue Theme":"Blue Theme","Red Theme":"Red Theme","Green Theme":"Green Theme","Yellow Theme":"Yellow Theme","Pink Theme":"Pink Theme",horizontal_straight_line:yb,horizontal_ray_line:xb,horizontal_segment:Cb,vertical_straight_line:bb,vertical_ray_line:wb,vertical_segment:_b,straight_line:kb,ray_line:Sb,segment:Mb,arrow:Eb,price_line:Tb,price_channel_line:Ib,parallel_straight_line:Lb,fibonacci_line:Pb,fibonacci_segment:Ab,fibonacci_circle:Db,fibonacci_spiral:Fb,fibonacci_speed_resistance_fan:Ob,fibonacci_extension:Rb,gann_box:Nb,rect:zb,parallelogram:Vb,circle:Bb,triangle:$b,three_waves:Wb,five_waves:Ub,eight_waves:Hb,any_waves:Yb,abcd:Xb,xabcd:jb,weak_magnet:Zb,strong_magnet:Gb,symbol_search:qb,symbol_code:Kb,params_1:Qb,params_2:Jb,params_3:ew,params_4:tw,params_5:rw,period:nw,standard_deviation:iw,charts:aw,candle_type:ow,candle_solid:lw,candle_stroke:sw,candle_up_stroke:cw,candle_down_stroke:uw,ohlc:dw,area:hw,heikin_ashi:pw,renko:fw,brick_size:gw,last_price_show:vw,high_price_show:mw,low_price_show:yw,indicator_last_value_show:xw,restore_default:Cw,standard:bw,"candle.bar.compareRule":"Candle Compare Rule","candle.bar.upColor":"Candle Up Color","candle.bar.downColor":"Candle Down Color","candle.bar.noChangeColor":"Candle No Change Color","candle.bar.upBorderColor":"Candle Up Border Color","candle.bar.downBorderColor":"Candle Down Border Color","candle.bar.noChangeBorderColor":"Candle No Change Border Color","candle.bar.upWickColor":"Candle Up Wick Color","candle.bar.downWickColor":"Candle Down Wick Color","candle.bar.noChangeWickColor":"Candle No Change Wick Color","candle.priceMark.show":"Show Price Mark","candle.priceMark.high.show":"Show High Price Mark","candle.priceMark.high.color":"High Price Mark Color","candle.priceMark.high.textOffset":"High Price Mark Text Offset","candle.priceMark.high.textSize":"High Price Mark Text Size","candle.priceMark.high.textFamily":"High Price Mark Text Family","candle.priceMark.high.textWeight":"High Price Mark Text Weight","candle.priceMark.low.show":"Show Low Price Mark","candle.priceMark.low.color":"Low Price Mark Color","candle.priceMark.low.textOffset":"Low Price Mark Text Offset","candle.priceMark.low.textSize":"Low Price Mark Text Size","candle.priceMark.low.textFamily":"Low Price Mark Text Family","candle.priceMark.low.textWeight":"Low Price Mark Text Weight","candle.priceMark.last.show":"Show Last Price Mark","candle.priceMark.last.compareRule":"Last Price Mark Compare Rule","candle.priceMark.last.upColor":"Last Price Mark Up Color","candle.priceMark.last.downColor":"Last Price Mark Down Color","candle.priceMark.last.noChangeColor":"Last Price Mark No Change Color","candle.priceMark.last.line.show":"Show Last Price Mark Line","candle.priceMark.last.line.style":"Last Price Mark Line Style","candle.priceMark.last.line.size":"Last Price Mark Line Size","candle.priceMark.last.line.dashedValue":"Last Price Mark Line Dashed Value","candle.priceMark.last.text.show":"Show Last Price Mark Text","candle.priceMark.last.text.style":"Last Price Mark Text Style","candle.priceMark.last.text.size":"Last Price Mark Text Size","candle.priceMark.last.text.color":"Last Price Mark Text Color",current_open:ww,previous_close:_w,"candle.area.lineSize":"Area Line Size","candle.area.lineColor":"Area Line Color","candle.area.value":"Area Value","candle.area.smooth":"Area Smooth",close:kw,open:Sw,high:Mw,low:Ew,"candle.area.point.show":"Show Area Point","candle.area.point.color":"Area Point Color","candle.area.point.radius":"Area Point Radius","candle.area.point.rippleColor":"Area Point Ripple Color","candle.area.point.rippleRadius":"Area Point Ripple Radius","candle.area.point.animation":"Area Point Animation","candle.renko.brick.size":"Renko Brick Size",auto:Tw,"xAxis.size":"X-Axis Size","xAxis.tickText.family":"X-Axis Tick Text Family","xAxis.tickText.marginStart":"X-Axis Tick Text Margin Start","xAxis.tickText.marginEnd":"X-Axis Tick Text Margin End",right:Iw,left:Lw,normal:Pw,percentage:Aw,log:Dw,"candle.tooltip.showRule":"Candle Tooltip","candle.tooltip.showType":"Candle Tooltip Type","candle.tooltip.rect.position":"Candle Tooltip Rect Position","candle.tooltip.rect.color":"Candle Tooltip Rect Color","candle.tooltip.rect.borderColor":"Candle Tooltip Rect Border Color","candle.tooltip.text.size":"Candle Tooltip Text Size","candle.tooltip.text.weight":"Candle Tooltip Text Weight","candle.tooltip.text.color":"Candle Tooltip Text Color","indicator.lastValueMark.show":"Show Last Value Mark","indicator.lastValueMark.text.show":"Show Last Value Mark Text","indicator.lastValueMark.text.style":"Last Value Mark Text Style","indicator.lastValueMark.text.size":"Last Value Mark Text Size","indicator.lastValueMark.text.weight":"Last Value Mark Text Weight","indicator.lastValueMark.text.color":"Last Value Mark Text Color","indicator.lastValueMark.text.borderStyle":"Last Value Mark Text Border Style","indicator.lastValueMark.text.borderColor":"Last Value Mark Text Border Color","indicator.lastValueMark.text.borderSize":"Last Value Mark Text Border Size","indicator.lastValueMark.text.borderDashedValue":"Last Value Mark Text Border Border Dashed Value","indicator.lastValueMark.text.paddingLeft":"Last Value Mark Text Border Padding Left","indicator.lastValueMark.text.paddingTop":"Last Value Mark Text Border Style Padding Top","indicator.lastValueMark.text.paddingRight":"Last Value Mark Text Border Padding Right","indicator.lastValueMark.text.paddingBottom":"Last Value Mark Text Border Padding Bottom","indicator.lastValueMark.text.borderRadius":"Last Value Mark Text Border Border Radius","indicator.tooltip.showRule":"Show Tooltip Rule","indicator.tooltip.showType":"Show Tooltip Type","indicator.tooltip.showName":"Show Tooltip Name","indicator.tooltip.showParams":"Show Tooltip Params","indicator.tooltip.offsetTop":"Tooltip Offset Top","indicator.tooltip.offsetLeft":"Tooltip Offset Left","indicator.tooltip.offsetBottom":"Tooltip Offset Right","indicator.tooltip.offsetRight":"Tooltip Offset Bottom","indicator.tooltip.text.size":"Tooltip Text Size","indicator.tooltip.text.weight":"Tooltip Text Weight","indicator.tooltip.text.color":"Tooltip Text Color","indicator.tooltip.text.marginLeft":"Tooltip Text Margin Left","indicator.tooltip.text.marginTop":"Tooltip Text Margin Top","indicator.tooltip.text.marginRight":"Tooltip Text Margin Right","indicator.tooltip.text.marginBottom":"Tooltip Text Margin Bottom","indicator.bars.style":"Indicator Bars Style","indicator.bars.borderStyle":"Indicator Bars Border Style","indicator.bars.borderSize":"Indicator Bars Border Size","indicator.bars.borderColor":"Indicator Bars Border Color","indicator.bars.borderDashedValue":"Indicator Bars Border Dashed Value","indicator.ohlc.upColor":"Indicator OHLC Up Color","indicator.ohlc.downColor":"Indicator OHLC Down Color","indicator.ohlc.noChangeColor":"Indicator OHLC No Change Color","indicator.lines.style":"Indicator Lines Style","indicator.lines.size":"Indicator Lines Size","indicator.lines.color":"Indicator Lines Color","indicator.lines.dashedValue":"Indicator Lines Dashed Value",grid_show:Fw,grid_horizontal_show:Ow,grid_horizontal_size:Rw,grid_horizontal_color:Nw,grid_vertical_show:zw,grid_vertical_size:Vw,grid_vertical_color:Bw,grid_horizontal_style:$w,grid_horizontal_dashedValue:Ww,grid_vertical_style:Uw,grid_vertical_dashedValue:Hw,"xAxis.show":"Show X Axis","xAxis.axisLine.show":"Show X Axis Line","xAxis.axisLine.color":"X Axis Line Color","xAxis.axisLine.size":"X Axis Line Size","xAxis.tickText.show":"Show X Axis Tick Text","xAxis.tickText.size":"X Axis Tick Text Size","xAxis.tickText.weight":"X Axis Tick Text Weight","xAxis.tickText.color":"X Axis Tick Text Color","xAxis.tickLine.show":"Show X Axis Tick Line","xAxis.tickLine.size":"X Axis Tick Line Size","xAxis.tickLine.length":"X Axis Tick Line Length","xAxis.tickLine.color":"X Axis Tick Line Color","yAxis.size":"Y-Axis Size","yAxis.tickText.family":"Y-Axis Tick Text Family","yAxis.show":"Show Y Axis","yAxis.position":"Y Axis Position","yAxis.type":"Y Axis Type","yAxis.inside":"Y Axis Inside","yAxis.reverse":"Y Axis Reverse","yAxis.axisLine.show":"Show Y Axis Line","yAxis.axisLine.size":"Y Axis Line Size","yAxis.axisLine.color":"Y Axis Line Color","yAxis.tickText.show":"Show Y Axis Tick Text","yAxis.tickText.color":"Y Axis Tick Text Color","yAxis.tickText.size":"Y Axis Tick Text Size","yAxis.tickText.weight":"Y Axis Tick Text Weight","yAxis.tickText.marginStart":"Y Axis Tick Text Margin Start","yAxis.tickText.marginEnd":"Y Axis Tick Text Margin End","yAxis.tickLine.show":"Show Y Axis Tick Line","yAxis.tickLine.color":"Y Axis Tick Line Color","yAxis.tickLine.size":"Y Axis Tick Line Size","yAxis.tickLine.length":"Y Axis Tick Line Length","separator.size":"Sub Indicator Separator Size","separator.fill":"Sub Indicator Separator Fill","separator.activeBackgroundColor":"Sub Indicator Separator Color","crosshair.show":"Show Crosshair","crosshair.horizontal.show":"Show Horizontal Crosshair","crosshair.horizontal.line.show":"Show Horizontal Crosshair Line","crosshair.horizontal.line.style":"Horizontal Crosshair Line Style","crosshair.horizontal.line.size":"Horizontal Crosshair Line Size","crosshair.horizontal.line.color":"Horizontal Crosshair Line Color","crosshair.horizontal.line.dashedValue":"Horizontal Crosshair Line Dashed Value","crosshair.horizontal.text.show":"Show Horizontal Crosshair Text","crosshair.horizontal.text.style":"Horizontal Crosshair Text Style","crosshair.horizontal.text.size":"Horizontal Crosshair Text Size","crosshair.horizontal.text.weight":"Horizontal Crosshair Text Weight","crosshair.horizontal.text.color":"Horizontal Crosshair Text Color","crosshair.horizontal.text.backgroundColor":"Horizontal Crosshair Text Bg Color","crosshair.vertical.show":"Show Vertical Crosshair","crosshair.vertical.line.show":"Show Vertical Crosshair Line","crosshair.vertical.line.style":"Vertical Crosshair Line Style","crosshair.vertical.line.size":"Vertical Crosshair Line Size","crosshair.vertical.line.color":"Vertical Crosshair Line Color","crosshair.vertical.line.dashedValue":"Vertical Crosshair Line Dashed Value","pane.axis.position":"Axis Position","pane.axis.inside":"Axis Inside","pane.axis.reverse":"Axis Reverse","pane.axis.scrollZoomEnabled":"Axis Scroll Zoom Enabled","pane.axis.gap.top":"Axis Gap Top","pane.axis.gap.bottom":"Axis Gap Bottom","pane.height":"Pane Height","pane.minHeight":"Pane Min Height","pane.dragEnabled":"Pane Drag Enabled","pane.state":"Pane State","pane.state.normal":"Normal","pane.state.maximize":"Maximize","pane.state.minimize":"Minimize",pane_options:Yw,"crosshair.vertical.text.show":"Show Vertical Crosshair Text","crosshair.vertical.text.style":"Vertical Crosshair Text Style","crosshair.vertical.text.size":"Vertical Crosshair Text Size","crosshair.vertical.text.weight":"Vertical Crosshair Text Weight","crosshair.vertical.text.color":"Vertical Crosshair Text Color","crosshair.vertical.text.backgroundColor":"Vertical Crosshair Text Bg Color","overlay.point.color":"Point Color","overlay.point.borderColor":"Point Border Color","overlay.point.borderSize":"Point Border Size","overlay.point.activeColor":"Point Active Color","overlay.point.activeBorderColor":"Point Active Border Color","overlay.point.activeBorderSize":"Point Active Border Size","overlay.point.activeRadius":"Point Active Radius","overlay.point.radius":"Point Radius","overlay.line.style":"Line Style","overlay.line.smooth":"Line Smooth","overlay.line.size":"Line Size","overlay.line.color":"Line Color","overlay.line.dashedValue":"Line Dashed Value","overlay.rect.style":"Rect Style","sidebar.expand":"Expand sidebar","sidebar.collapse":"Collapse sidebar","overlay.rect.color":"Rect Color","overlay.rect.borderColor":"Rect Border Color","overlay.rect.borderSize":"Rect Border Size","overlay.rect.borderRadius":"Rect Border Radius","overlay.rect.borderStyle":"Rect Border Style","overlay.polygon.style":"Polygon Style","overlay.polygon.color":"Polygon Color","overlay.polygon.borderColor":"Polygon Border Color","overlay.polygon.borderStyle":"Polygon Border Style","overlay.polygon.borderSize":"Polygon Border Size","overlay.circle.style":"Circle Style","overlay.circle.color":"Circle Color","overlay.circle.borderColor":"Circle Border Color","overlay.circle.borderStyle":"Circle Border Style","overlay.circle.borderSize":"Circle Border Size","overlay.arc.style":"Arc Style","overlay.arc.size":"Arc Size","overlay.arc.color":"Arc Color","overlay.text.style":"Text Style","overlay.text.size":"Text Size","overlay.text.family":"Text Family","overlay.text.weight":"Text Weight","overlay.text.color":"Text Color","overlay.text.backgroundColor":"Text Background Color","overlay.text.borderColor":"Text Border Color","overlay.text.borderSize":"Text Border Size","overlay.text.borderStyle":"Text Border Style","overlay.text.borderDashedValue":"Text Border Dashed Value","overlay.text.borderRadius":"Text Border Radius","overlay.text.paddingLeft":"Text Padding Left","overlay.text.paddingRight":"Text Padding Right","overlay.text.paddingTop":"Text Padding Top","overlay.text.paddingBottom":"Text Padding Bottom",fill_stroke:Xw,always:jw,stroke:Zw,stroke_fill:Gw,ruler:qw,rr:Kw,enable_crosshair_sync:Qw,enable_time_sync:Jw,enable_ticker_sync:e_,enable_interval_sync:t_,enable_drawing_sync:r_,multichart:n_,paper_trading:i_,balance:a_,trade:o_,positions:l_,orders:s_,trades:c_,cash:u_,market:d_,limit:h_,buy:p_,sell:f_,quantity:g_,price:v_,estimated_total:m_,no_open_positions:y_,avg_price:x_,current_price:C_,pnl:b_,close_position:w_,no_pending_orders:__,status:k_,cancel_order:S_,no_trades_executed:M_,your_trade_history_will_appear_here:E_,clear_all_trades:T_,are_you_sure_clear_trades:I_,symbol_side:L_,qty:P_,total:A_,date_time:D_,cash_amount:F_,operation:O_,add_cash:R_,remove_cash:N_,pending_buy_orders:z_,balance_after_removal:V_,max_safe_removal:B_,insufficient_funds_warning:$_,add:W_,remove:U_,reset_trading_account:H_,reset_account_confirmation:Y_,reset_account_success:X_,pending_orders_summary:j_,pending_buy_orders_summary:Z_,pending_sell_orders_summary:G_,available_cash:q_,max_cash_removal:K_},J_={"zh-CN":Gx,"en-US":Q_},L=(e,r)=>{var t;return((t=J_[r])==null?void 0:t[e])??e};function _1(e,r,t){const n=(e.x-r.x)*Math.cos(t)-(e.y-r.y)*Math.sin(t)+r.x,i=(e.x-r.x)*Math.sin(t)+(e.y-r.y)*Math.cos(t)+r.y;return{x:n,y:i}}function bg(e,r){if(e.length>1){let t;return e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?t={x:e[0].x,y:r.height}:t={x:e[0].x,y:0}:e[0].x>e[1].x?t={x:0,y:hn.getLinearYFromCoordinates(e[0],e[1],{x:0,y:e[0].y})}:t={x:r.width,y:hn.getLinearYFromCoordinates(e[0],e[1],{x:r.width,y:e[0].y})},{coordinates:[e[0],t]}}return[]}function e5(e,r){const t=Math.abs(e.x-r.x),n=Math.abs(e.y-r.y);return Math.sqrt(t*t+n*n)}const ek={name:"arrow",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{if(e.length>1){const r=e[1].x>e[0].x?0:1,t=hn.getLinearSlopeIntercept(e[0],e[1]);let n;t!=null?n=Math.atan(t[0])+Math.PI*r:e[1].y>e[0].y?n=Math.PI/2:n=Math.PI/2*3;const i=_1({x:e[1].x-8,y:e[1].y+4},e[1],n),o=_1({x:e[1].x-8,y:e[1].y-4},e[1],n);return[{type:"line",attrs:{coordinates:e}},{type:"line",ignoreEvent:!0,attrs:{coordinates:[i,e[1],o]}}]}return[]}},tk={name:"circle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{circle:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length>1){const r=e5(e[0],e[1]);return{type:"circle",attrs:{...e[0],r},styles:{style:"stroke_fill"}}}return[]}},rk={name:"rect",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>e.length>1?[{type:"polygon",attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{style:"stroke_fill"}}]:[]},nk={name:"parallelogram",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length===2)return[{type:"line",ignoreEvent:!0,attrs:{coordinates:e}}];if(e.length===3){const r={x:e[0].x+(e[2].x-e[1].x),y:e[2].y};return[{type:"polygon",attrs:{coordinates:[e[0],e[1],e[2],r]},styles:{style:"stroke_fill"}}]}return[]},performEventPressedMove:({points:e,performPointIndex:r,performPoint:t})=>{r<2&&(e[0].price=t.price,e[1].price=t.price)},performEventMoveForDrawing:({currentStep:e,points:r,performPoint:t})=>{e===2&&(r[0].price=t.price)}},ik={name:"triangle",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>[{type:"polygon",attrs:{coordinates:e},styles:{style:"stroke_fill"}}]},ak={name:"fibonacciCircle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{if(e.length>1){const r=Math.abs(e[0].x-e[1].x),t=Math.abs(e[0].y-e[1].y),n=Math.sqrt(r*r+t*t),i=[.236,.382,.5,.618,.786,1],o=[],s=[];return i.forEach(u=>{const d=n*u;o.push({...e[0],r:d}),s.push({x:e[0].x,y:e[0].y+d+6,text:`${(u*100).toFixed(1)}%`})}),[{type:"circle",attrs:o,styles:{style:"stroke"}},{type:"text",ignoreEvent:!0,attrs:s}]}return[]}},ok={name:"fibonacciSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:e,coordinates:r,overlay:t})=>{const n=[],i=[];if(r.length>1){const o=r[1].x>r[0].x?r[0].x:r[1].x,s=[1,.786,.618,.5,.382,.236,0],u=r[0].y-r[1].y,d=t.points,h=d[0].value-d[1].value;s.forEach(p=>{const v=r[1].y+u*p,m=(d[1].value+h*p).toFixed(e.getPrecision().price);n.push({coordinates:[{x:r[0].x,y:v},{x:r[1].x,y:v}]}),i.push({x:o,y:v,text:`${m} (${(p*100).toFixed(1)}%)`,baseline:"bottom"})})}return[{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},lk={name:"fibonacciSpiral",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e,bounding:r})=>{if(e.length>1){const t=e5(e[0],e[1])/Math.sqrt(24),n=e[1].x>e[0].x?0:1,i=hn.getLinearSlopeIntercept(e[0],e[1]);let o;i!=null?o=Math.atan(i[0])+Math.PI*n:e[1].y>e[0].y?o=Math.PI/2:o=Math.PI/2*3;const s=_1({x:e[0].x-t,y:e[0].y},e[0],o),u=_1({x:e[0].x-t,y:e[0].y-t},e[0],o),d=[{...s,r:t,startAngle:o,endAngle:o+Math.PI/2},{...u,r:t*2,startAngle:o+Math.PI/2,endAngle:o+Math.PI}];let h=e[0].x-t,p=e[0].y-t;for(let v=2;v<9;v++){const m=d[v-2].r+d[v-1].r;let C=0;switch(v%4){case 0:{C=o,h-=d[v-2].r;break}case 1:{C=o+Math.PI/2,p-=d[v-2].r;break}case 2:{C=o+Math.PI,h+=d[v-2].r;break}case 3:{C=o+Math.PI/2*3,p+=d[v-2].r;break}}const b=C+Math.PI/2,w=_1({x:h,y:p},e[0],o);d.push({...w,r:m,startAngle:C,endAngle:b})}return[{type:"arc",attrs:d},{type:"line",attrs:bg(e,r)}]}return[]}},sk={name:"fibonacciSpeedResistanceFan",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e,bounding:r})=>{const t=[];let n=[];const i=[];if(e.length>1){const o=e[1].x>e[0].x?-38:4,s=e[1].y>e[0].y?-2:20,u=e[1].x-e[0].x,d=e[1].y-e[0].y;[1,.75,.618,.5,.382,.25,0].forEach(h=>{const p=e[1].x-u*h,v=e[1].y-d*h;t.push({coordinates:[{x:p,y:e[0].y},{x:p,y:e[1].y}]}),t.push({coordinates:[{x:e[0].x,y:v},{x:e[1].x,y:v}]}),n=n.concat(bg([e[0],{x:p,y:e[1].y}],r)),n=n.concat(bg([e[0],{x:e[1].x,y:v}],r)),i.unshift({x:e[0].x+o,y:v+10,text:`${h.toFixed(3)}`}),i.unshift({x:p-18,y:e[0].y+s,text:`${h.toFixed(3)}`})})}return[{type:"line",attrs:t},{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},ck={name:"fibonacciExtension",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:e,coordinates:r,overlay:t})=>{const n=[],i=[];if(r.length>2){const o=t.points,s=o[1].value-o[0].value,u=r[1].y-r[0].y,d=[0,.236,.382,.5,.618,.786,1],h=r[2].x>r[1].x?r[1].x:r[2].x;d.forEach(p=>{const v=r[2].y+u*p,m=(o[2].value+s*p).toFixed(e.getPrecision().price);n.push({coordinates:[{x:r[1].x,y:v},{x:r[2].x,y:v}]}),i.push({x:h,y:v,text:`${m} (${(p*100).toFixed(1)}%)`,baseline:"bottom"})})}return[{type:"line",attrs:{coordinates:r},styles:{style:"dashed"}},{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},uk={name:"gannBox",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length>1){const r=(e[1].y-e[0].y)/4,t=e[1].x-e[0].x,n=[{coordinates:[e[0],{x:e[1].x,y:e[1].y-r}]},{coordinates:[e[0],{x:e[1].x,y:e[1].y-r*2}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y+r}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y+r*2}]},{coordinates:[{...e[0]},{x:e[0].x+t*.236,y:e[1].y}]},{coordinates:[{...e[0]},{x:e[0].x+t*.5,y:e[1].y}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[0].x+t*.236,y:e[0].y}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[0].x+t*.5,y:e[0].y}]}],i=[{coordinates:[e[0],e[1]]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y}]}];return[{type:"line",attrs:[{coordinates:[e[0],{x:e[1].x,y:e[0].y}]},{coordinates:[{x:e[1].x,y:e[0].y},e[1]]},{coordinates:[e[1],{x:e[0].x,y:e[1].y}]},{coordinates:[{x:e[0].x,y:e[1].y},e[0]]}]},{type:"polygon",ignoreEvent:!0,attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{style:"fill"}},{type:"line",attrs:n,styles:{style:"dashed"}},{type:"line",attrs:i}]}return[]}},dk={name:"threeWaves",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},hk={name:"fiveWaves",totalStep:7,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},pk={name:"eightWaves",totalStep:10,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},fk={name:"anyWaves",totalStep:Number.MAX_SAFE_INTEGER,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},gk={name:"abcd",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{let r=[],t=[];const n=["A","B","C","D"],i=e.map((o,s)=>({...o,baseline:"bottom",text:`(${n[s]})`}));return e.length>2&&(r=[e[0],e[2]],e.length>3&&(t=[e[1],e[3]])),[{type:"line",attrs:{coordinates:e}},{type:"line",attrs:[{coordinates:r},{coordinates:t}],styles:{style:"dashed"}},{type:"text",ignoreEvent:!0,attrs:i}]}},vk={name:"xabcd",totalStep:6,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e,overlay:r})=>{const t=[],n=[],i=["X","A","B","C","D"],o=e.map((s,u)=>({...s,baseline:"bottom",text:`(${i[u]})`}));return e.length>2&&(t.push({coordinates:[e[0],e[2]]}),n.push({coordinates:[e[0],e[1],e[2]]}),e.length>3&&(t.push({coordinates:[e[1],e[3]]}),e.length>4&&(t.push({coordinates:[e[2],e[4]]}),n.push({coordinates:[e[2],e[3],e[4]]})))),[{type:"line",attrs:{coordinates:e}},{type:"line",attrs:t,styles:{style:"dashed"}},{type:"polygon",ignoreEvent:!0,attrs:n},{type:"text",ignoreEvent:!0,attrs:o}]}},mk={name:"ruler",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{backgroundColor:"rgba(22, 119, 255, 0.25)",tipBackgroundColor:"#1677FF",lineColor:"#1677FF"},extendData:e=>{if(e.length<2)return[];const[r,t]=e,n=t.dataIndex-r.dataIndex,i=t.value-r.value,o=i/r.value*100,s=t.timestamp-r.timestamp,u=Math.floor(s/(24*60*60*1e3)),d=Math.floor(s%(24*60*60*1e3)/(60*60*1e3)),h=Math.floor(s%(60*60*1e3)/(60*1e3));let p="";return u>0?(p=`${u} day${u>1?"s":""}`,d>0&&(p+=`, ${d} hour${d>1?"s":""}`)):d>0?(p=`${d} hour${d>1?"s":""}`,h>0&&(p+=`, ${h} minute${h>1?"s":""}`)):p=`${h} minute${h>1?"s":""}`,[`${i.toFixed(2)} (${o.toFixed(2)}%)`,`Bars: ${n}, d: ${p}`]},createPointFigures:({coordinates:e,overlay:r,bounding:t})=>{var n,i,o,s;if(e.length>1){const u=e[0].x<e[1].x,d=e[0].y<e[1].y,h={x:Math.round((e[0].x+e[1].x)/2),y:Math.round((e[0].y+e[1].y)/2)},p=(n=r.styles)==null?void 0:n.backgroundColor,v=(i=r.styles)==null?void 0:i.tipBackgroundColor,m=(o=r.styles)==null?void 0:o.lineColor,C=((s=r.extendData)==null?void 0:s.call(r,r.points))??[],b=[{type:"polygon",attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{color:p}},{type:"line",attrs:{coordinates:[{x:e[0].x,y:h.y},{x:e[1].x,y:h.y}]},styles:{color:m}},{type:"line",attrs:{coordinates:[{x:h.x,y:e[0].y},{x:h.x,y:e[1].y}]},styles:{color:m}}];u?b.push({type:"line",attrs:{coordinates:[{x:e[1].x-6,y:h.y-4},{x:e[1].x,y:h.y},{x:e[1].x-6,y:h.y+4}]}}):b.push({type:"line",attrs:{coordinates:[{x:e[1].x+6,y:h.y-4},{x:e[1].x,y:h.y},{x:e[1].x+6,y:h.y+4}]}}),d?b.push({type:"line",attrs:{coordinates:[{x:h.x-4,y:e[1].y-6},{x:h.x,y:e[1].y},{x:h.x+4,y:e[1].y-6}]},styles:{color:m}}):b.push({type:"line",attrs:{coordinates:[{x:h.x-4,y:e[1].y+6},{x:h.x,y:e[1].y},{x:h.x+4,y:e[1].y+6}]},styles:{color:m}});const w=C.length;if(w>0){let _,S=0;const M=w*12+(w-1)*4+8*2;C.forEach(A=>{S=Math.max(hn.calcTextWidth(A),S)}),S+=12*2,d?e[1].y+8+M>t.height?_=t.height-M:_=e[1].y+8:e[1].y-8-M<0?_=0:_=e[1].y-8-M,b.push({type:"rect",attrs:{x:h.x-S/2,y:_,width:S,height:M},styles:{borderRadius:4,color:v}});let I=_+8;C.forEach(A=>{b.push({type:"text",attrs:{x:h.x,y:I,text:A,align:"center"},styles:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,backgroundColor:"none"}}),I+=16})}return b}return[]}};var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cp={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Cp.exports;(function(e,r){(function(){var t,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",v=1,m=2,C=4,b=1,w=2,_=1,S=2,M=4,I=8,A=16,P=32,$=64,D=128,z=256,V=512,W=30,Q="...",se=800,X=16,J=1,le=2,j=3,q=1/0,Z=9007199254740991,re=17976931348623157e292,ee=NaN,H=4294967295,B=H-1,he=H>>>1,Ce=[["ary",D],["bind",_],["bindKey",S],["curry",I],["curryRight",A],["flip",V],["partial",P],["partialRight",$],["rearg",z]],be="[object Arguments]",xe="[object Array]",Ve="[object AsyncFunction]",Re="[object Boolean]",Ae="[object Date]",ve="[object DOMException]",Te="[object Error]",Ne="[object Function]",tt="[object GeneratorFunction]",Ge="[object Map]",gt="[object Number]",vt="[object Null]",mt="[object Object]",nr="[object Promise]",cr="[object Proxy]",Kt="[object RegExp]",Tt="[object Set]",fr="[object String]",nn="[object Symbol]",fn="[object Undefined]",lr="[object WeakMap]",At="[object WeakSet]",Ht="[object ArrayBuffer]",Qt="[object DataView]",Hr="[object Float32Array]",sr="[object Float64Array]",Or="[object Int8Array]",kt="[object Int16Array]",Be="[object Int32Array]",bt="[object Uint8Array]",yt="[object Uint8ClampedArray]",wt="[object Uint16Array]",xt="[object Uint32Array]",$t=/\b__p \+= '';/g,Yt=/\b(__p \+=) '' \+/g,gr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ur=/&(?:amp|lt|gt|quot|#39);/g,ar=/[&<>"']/g,Gn=RegExp(ur.source),zr=RegExp(ar.source),Vr=/<%-([\s\S]+?)%>/g,qn=/<%([\s\S]+?)%>/g,It=/<%=([\s\S]+?)%>/g,Er=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_t=/^\w*$/,Tr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xr=/[\\^$.*+?()[\]{}|]/g,dr=RegExp(xr.source),Kr=/^\s+/,Br=/\s/,Qr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gn=/\{\n\/\* \[wrapped with (.+)\] \*/,Mn=/,? & /,$i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oa=/[()=,{}\[\]\/\s]/,Xo=/\\(\\)?/g,ui=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,so=/\w*$/,Bl=/^[-+]0x[0-9a-f]+$/i,co=/^0b[01]+$/i,jo=/^\[object .+?Constructor\]$/,Zo=/^0o[0-7]+$/i,Rs=/^(?:0|[1-9]\d*)$/,Ns=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Go=/($^)/,$c=/['\n\r\u2028\u2029\\]/g,vr="\\ud800-\\udfff",Wc="\\u0300-\\u036f",$l="\\ufe20-\\ufe2f",zs="\\u20d0-\\u20ff",uo=Wc+$l+zs,Uc="\\u2700-\\u27bf",Wl="a-z\\xdf-\\xf6\\xf8-\\xff",qo="\\xac\\xb1\\xd7\\xf7",Pe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Hc="\\u2000-\\u206f",Kn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vs="A-Z\\xc0-\\xd6\\xd8-\\xde",Bs="\\ufe0e\\ufe0f",$s=qo+Pe+Hc+Kn,Oa="[']",Ko="["+vr+"]",Ra="["+$s+"]",la="["+uo+"]",Ws="\\d+",Yc="["+Uc+"]",Qo="["+Wl+"]",Ul="[^"+vr+$s+Ws+Uc+Wl+Vs+"]",ho="\\ud83c[\\udffb-\\udfff]",po="(?:"+la+"|"+ho+")",Us="[^"+vr+"]",fo="(?:\\ud83c[\\udde6-\\uddff]){2}",Xt="[\\ud800-\\udbff][\\udc00-\\udfff]",sa="["+Vs+"]",Hl="\\u200d",Jo="(?:"+Qo+"|"+Ul+")",Hs="(?:"+sa+"|"+Ul+")",Yl="(?:"+Oa+"(?:d|ll|m|re|s|t|ve))?",Xl="(?:"+Oa+"(?:D|LL|M|RE|S|T|VE))?",el=po+"?",go="["+Bs+"]?",Wi="(?:"+Hl+"(?:"+[Us,fo,Xt].join("|")+")"+go+el+")*",Ui="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Na=go+el+Wi,vo="(?:"+[Yc,fo,Xt].join("|")+")"+Na,Yi="(?:"+[Us+la+"?",la,fo,Xt,Ko].join("|")+")",Xc=RegExp(Oa,"g"),Ys=RegExp(la,"g"),ca=RegExp(ho+"(?="+ho+")|"+Yi+Na,"g"),jc=RegExp([sa+"?"+Qo+"+"+Yl+"(?="+[Ra,sa,"$"].join("|")+")",Hs+"+"+Xl+"(?="+[Ra,sa+Jo,"$"].join("|")+")",sa+"?"+Jo+"+"+Yl,sa+"+"+Xl,Hi,Ui,Ws,vo].join("|"),"g"),Xs=RegExp("["+Hl+vr+uo+Bs+"]"),tl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,js=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zc=-1,Jt={};Jt[Hr]=Jt[sr]=Jt[Or]=Jt[kt]=Jt[Be]=Jt[bt]=Jt[yt]=Jt[wt]=Jt[xt]=!0,Jt[be]=Jt[xe]=Jt[Ht]=Jt[Re]=Jt[Qt]=Jt[Ae]=Jt[Te]=Jt[Ne]=Jt[Ge]=Jt[gt]=Jt[mt]=Jt[Kt]=Jt[Tt]=Jt[fr]=Jt[lr]=!1;var jt={};jt[be]=jt[xe]=jt[Ht]=jt[Qt]=jt[Re]=jt[Ae]=jt[Hr]=jt[sr]=jt[Or]=jt[kt]=jt[Be]=jt[Ge]=jt[gt]=jt[mt]=jt[Kt]=jt[Tt]=jt[fr]=jt[nn]=jt[bt]=jt[yt]=jt[wt]=jt[xt]=!0,jt[Te]=jt[Ne]=jt[lr]=!1;var jl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Gc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jd=parseFloat,qc=parseInt,Kc=typeof Al=="object"&&Al&&Al.Object===Object&&Al,F1=typeof self=="object"&&self&&self.Object===Object&&self,Ir=Kc||F1||Function("return this")(),Zs=r&&!r.nodeType&&r,ua=Zs&&!0&&e&&!e.nodeType&&e,Zd=ua&&ua.exports===Zs,Zl=Zd&&Kc.process,Nn=function(){try{var ce=ua&&ua.require&&ua.require("util").types;return ce||Zl&&Zl.binding&&Zl.binding("util")}catch{}}(),Gd=Nn&&Nn.isArrayBuffer,Qn=Nn&&Nn.isDate,rl=Nn&&Nn.isMap,Qc=Nn&&Nn.isRegExp,Gl=Nn&&Nn.isSet,O1=Nn&&Nn.isTypedArray;function zn(ce,we,fe){switch(fe.length){case 0:return ce.call(we);case 1:return ce.call(we,fe[0]);case 2:return ce.call(we,fe[0],fe[1]);case 3:return ce.call(we,fe[0],fe[1],fe[2])}return ce.apply(we,fe)}function qd(ce,we,fe,He){for(var ft=-1,er=ce==null?0:ce.length;++ft<er;){var Yr=ce[ft];we(He,Yr,fe(Yr),ce)}return He}function En(ce,we){for(var fe=-1,He=ce==null?0:ce.length;++fe<He&&we(ce[fe],fe,ce)!==!1;);return ce}function Jc(ce,we){for(var fe=ce==null?0:ce.length;fe--&&we(ce[fe],fe,ce)!==!1;);return ce}function Kd(ce,we){for(var fe=-1,He=ce==null?0:ce.length;++fe<He;)if(!we(ce[fe],fe,ce))return!1;return!0}function mo(ce,we){for(var fe=-1,He=ce==null?0:ce.length,ft=0,er=[];++fe<He;){var Yr=ce[fe];we(Yr,fe,ce)&&(er[ft++]=Yr)}return er}function eu(ce,we){var fe=ce==null?0:ce.length;return!!fe&&ql(ce,we,0)>-1}function Qd(ce,we,fe){for(var He=-1,ft=ce==null?0:ce.length;++He<ft;)if(fe(we,ce[He]))return!0;return!1}function Cr(ce,we){for(var fe=-1,He=ce==null?0:ce.length,ft=Array(He);++fe<He;)ft[fe]=we(ce[fe],fe,ce);return ft}function yo(ce,we){for(var fe=-1,He=we.length,ft=ce.length;++fe<He;)ce[ft+fe]=we[fe];return ce}function Jd(ce,we,fe,He){var ft=-1,er=ce==null?0:ce.length;for(He&&er&&(fe=ce[++ft]);++ft<er;)fe=we(fe,ce[ft],ft,ce);return fe}function Zp(ce,we,fe,He){var ft=ce==null?0:ce.length;for(He&&ft&&(fe=ce[--ft]);ft--;)fe=we(fe,ce[ft],ft,ce);return fe}function e0(ce,we){for(var fe=-1,He=ce==null?0:ce.length;++fe<He;)if(we(ce[fe],fe,ce))return!0;return!1}var Gp=r0("length");function R1(ce){return ce.split("")}function qp(ce){return ce.match($i)||[]}function N1(ce,we,fe){var He;return fe(ce,function(ft,er,Yr){if(we(ft,er,Yr))return He=er,!1}),He}function tu(ce,we,fe,He){for(var ft=ce.length,er=fe+(He?1:-1);He?er--:++er<ft;)if(we(ce[er],er,ce))return er;return-1}function ql(ce,we,fe){return we===we?iu(ce,we,fe):tu(ce,z1,fe)}function t0(ce,we,fe,He){for(var ft=fe-1,er=ce.length;++ft<er;)if(He(ce[ft],we))return ft;return-1}function z1(ce){return ce!==ce}function V1(ce,we){var fe=ce==null?0:ce.length;return fe?n0(ce,we)/fe:ee}function r0(ce){return function(we){return we==null?t:we[ce]}}function ru(ce){return function(we){return ce==null?t:ce[we]}}function B1(ce,we,fe,He,ft){return ft(ce,function(er,Yr,hr){fe=He?(He=!1,er):we(fe,er,Yr,hr)}),fe}function Kp(ce,we){var fe=ce.length;for(ce.sort(we);fe--;)ce[fe]=ce[fe].value;return ce}function n0(ce,we){for(var fe,He=-1,ft=ce.length;++He<ft;){var er=we(ce[He]);er!==t&&(fe=fe===t?er:fe+er)}return fe}function i0(ce,we){for(var fe=-1,He=Array(ce);++fe<ce;)He[fe]=we(fe);return He}function Qp(ce,we){return Cr(we,function(fe){return[fe,ce[fe]]})}function $1(ce){return ce&&ce.slice(0,au(ce)+1).replace(Kr,"")}function di(ce){return function(we){return ce(we)}}function Gs(ce,we){return Cr(we,function(fe){return ce[fe]})}function za(ce,we){return ce.has(we)}function W1(ce,we){for(var fe=-1,He=ce.length;++fe<He&&ql(we,ce[fe],0)>-1;);return fe}function a0(ce,we){for(var fe=ce.length;fe--&&ql(we,ce[fe],0)>-1;);return fe}function U1(ce,we){for(var fe=ce.length,He=0;fe--;)ce[fe]===we&&++He;return He}var H1=ru(jl),Y1=ru(Gc);function X1(ce){return"\\"+jp[ce]}function Kl(ce,we){return ce==null?t:ce[we]}function Ql(ce){return Xs.test(ce)}function Jp(ce){return tl.test(ce)}function ef(ce){for(var we,fe=[];!(we=ce.next()).done;)fe.push(we.value);return fe}function nu(ce){var we=-1,fe=Array(ce.size);return ce.forEach(function(He,ft){fe[++we]=[ft,He]}),fe}function o0(ce,we){return function(fe){return ce(we(fe))}}function bi(ce,we){for(var fe=-1,He=ce.length,ft=0,er=[];++fe<He;){var Yr=ce[fe];(Yr===we||Yr===p)&&(ce[fe]=p,er[ft++]=fe)}return er}function xo(ce){var we=-1,fe=Array(ce.size);return ce.forEach(function(He){fe[++we]=He}),fe}function tf(ce){var we=-1,fe=Array(ce.size);return ce.forEach(function(He){fe[++we]=[He,He]}),fe}function iu(ce,we,fe){for(var He=fe-1,ft=ce.length;++He<ft;)if(ce[He]===we)return He;return-1}function rf(ce,we,fe){for(var He=fe+1;He--;)if(ce[He]===we)return He;return He}function nl(ce){return Ql(ce)?Z1(ce):Gp(ce)}function hi(ce){return Ql(ce)?G1(ce):R1(ce)}function au(ce){for(var we=ce.length;we--&&Br.test(ce.charAt(we)););return we}var j1=ru(Xp);function Z1(ce){for(var we=ca.lastIndex=0;ca.test(ce);)++we;return we}function G1(ce){return ce.match(ca)||[]}function nf(ce){return ce.match(jc)||[]}var af=function ce(we){we=we==null?Ir:Jl.defaults(Ir.Object(),we,Jl.pick(Ir,js));var fe=we.Array,He=we.Date,ft=we.Error,er=we.Function,Yr=we.Math,hr=we.Object,qs=we.RegExp,of=we.String,wi=we.TypeError,Va=fe.prototype,l0=er.prototype,da=hr.prototype,es=we["__core-js_shared__"],Ks=l0.toString,tr=da.hasOwnProperty,ts=0,ou=function(){var c=/[^.]+$/.exec(es&&es.keys&&es.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Qs=da.toString,lu=Ks.call(hr),q1=Ir._,K1=qs("^"+Ks.call(tr).replace(xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Js=Zd?we.Buffer:t,Ba=we.Symbol,ec=we.Uint8Array,s0=Js?Js.allocUnsafe:t,Xi=o0(hr.getPrototypeOf,hr),su=hr.create,cu=da.propertyIsEnumerable,uu=Va.splice,Q1=Ba?Ba.isConcatSpreadable:t,$a=Ba?Ba.iterator:t,il=Ba?Ba.toStringTag:t,tc=function(){try{var c=Lo(hr,"defineProperty");return c({},"",{}),c}catch{}}(),J1=we.clearTimeout!==Ir.clearTimeout&&we.clearTimeout,kr=He&&He.now!==Ir.Date.now&&He.now,c0=we.setTimeout!==Ir.setTimeout&&we.setTimeout,al=Yr.ceil,Co=Yr.floor,du=hr.getOwnPropertySymbols,u0=Js?Js.isBuffer:t,rs=we.isFinite,hu=Va.join,ns=o0(hr.keys,hr),Xr=Yr.max,Tn=Yr.min,lf=He.now,eh=we.parseInt,rc=Yr.random,pu=Va.reverse,nc=Lo(we,"DataView"),ol=Lo(we,"Map"),ic=Lo(we,"Promise"),bo=Lo(we,"Set"),ac=Lo(we,"WeakMap"),is=Lo(hr,"create"),fu=ac&&new ac,as={},d0=Po(nc),wo=Po(ol),th=Po(ic),os=Po(bo),ha=Po(ac),_o=Ba?Ba.prototype:t,pi=_o?_o.valueOf:t,gu=_o?_o.toString:t;function R(c){if(Zr(c)&&!Mt(c)&&!(c instanceof St)){if(c instanceof In)return c;if(tr.call(c,"__wrapped__"))return Ih(c)}return new In(c)}var ls=function(){function c(){}return function(f){if(!Ur(f))return{};if(su)return su(f);c.prototype=f;var x=new c;return c.prototype=t,x}}();function pa(){}function In(c,f){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=t}R.templateSettings={escape:Vr,evaluate:qn,interpolate:It,variable:"",imports:{_:R}},R.prototype=pa.prototype,R.prototype.constructor=R,In.prototype=ls(pa.prototype),In.prototype.constructor=In;function St(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function vu(){var c=new St(this.__wrapped__);return c.__actions__=Bn(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Bn(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Bn(this.__views__),c}function h0(){if(this.__filtered__){var c=new St(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function ss(){var c=this.__wrapped__.value(),f=this.__dir__,x=Mt(c),T=f<0,F=x?c.length:0,U=B0(0,F,this.__views__),K=U.start,ie=U.end,ue=ie-K,_e=T?ie:K-1,ke=this.__iteratees__,Ee=ke.length,We=0,it=Tn(ue,this.__takeCount__);if(!x||!T&&F==ue&&it==ue)return vs(c,this.__actions__);var ht=[];e:for(;ue--&&We<it;){_e+=f;for(var Ot=-1,pt=c[_e];++Ot<Ee;){var Wt=ke[Ot],Gt=Wt.iteratee,ra=Wt.type,yi=Gt(pt);if(ra==le)pt=yi;else if(!yi){if(ra==J)continue e;break e}}ht[We++]=pt}return ht}St.prototype=ls(pa.prototype),St.prototype.constructor=St;function Jn(c){var f=-1,x=c==null?0:c.length;for(this.clear();++f<x;){var T=c[f];this.set(T[0],T[1])}}function Sr(){this.__data__=is?is(null):{},this.size=0}function br(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}function ko(c){var f=this.__data__;if(is){var x=f[c];return x===d?t:x}return tr.call(f,c)?f[c]:t}function Ln(c){var f=this.__data__;return is?f[c]!==t:tr.call(f,c)}function ei(c,f){var x=this.__data__;return this.size+=this.has(c)?0:1,x[c]=is&&f===t?d:f,this}Jn.prototype.clear=Sr,Jn.prototype.delete=br,Jn.prototype.get=ko,Jn.prototype.has=Ln,Jn.prototype.set=ei;function Vn(c){var f=-1,x=c==null?0:c.length;for(this.clear();++f<x;){var T=c[f];this.set(T[0],T[1])}}function cs(){this.__data__=[],this.size=0}function ti(c){var f=this.__data__,x=An(f,c);if(x<0)return!1;var T=f.length-1;return x==T?f.pop():uu.call(f,x,1),--this.size,!0}function mu(c){var f=this.__data__,x=An(f,c);return x<0?t:f[x][1]}function rh(c){return An(this.__data__,c)>-1}function nh(c,f){var x=this.__data__,T=An(x,c);return T<0?(++this.size,x.push([c,f])):x[T][1]=f,this}Vn.prototype.clear=cs,Vn.prototype.delete=ti,Vn.prototype.get=mu,Vn.prototype.has=rh,Vn.prototype.set=nh;function _i(c){var f=-1,x=c==null?0:c.length;for(this.clear();++f<x;){var T=c[f];this.set(T[0],T[1])}}function ih(){this.size=0,this.__data__={hash:new Jn,map:new(ol||Vn),string:new Jn}}function Wa(c){var f=bc(this,c).delete(c);return this.size-=f?1:0,f}function yu(c){return bc(this,c).get(c)}function p0(c){return bc(this,c).has(c)}function ah(c,f){var x=bc(this,c),T=x.size;return x.set(c,f),this.size+=x.size==T?0:1,this}_i.prototype.clear=ih,_i.prototype.delete=Wa,_i.prototype.get=yu,_i.prototype.has=p0,_i.prototype.set=ah;function ll(c){var f=-1,x=c==null?0:c.length;for(this.__data__=new _i;++f<x;)this.add(c[f])}function So(c){return this.__data__.set(c,d),this}function us(c){return this.__data__.has(c)}ll.prototype.add=ll.prototype.push=So,ll.prototype.has=us;function Pn(c){var f=this.__data__=new Vn(c);this.size=f.size}function xu(){this.__data__=new Vn,this.size=0}function Cu(c){var f=this.__data__,x=f.delete(c);return this.size=f.size,x}function ki(c){return this.__data__.get(c)}function Si(c){return this.__data__.has(c)}function sl(c,f){var x=this.__data__;if(x instanceof Vn){var T=x.__data__;if(!ol||T.length<i-1)return T.push([c,f]),this.size=++x.size,this;x=this.__data__=new _i(T)}return x.set(c,f),this.size=x.size,this}Pn.prototype.clear=xu,Pn.prototype.delete=Cu,Pn.prototype.get=ki,Pn.prototype.has=Si,Pn.prototype.set=sl;function fa(c,f){var x=Mt(c),T=!x&&Dc(c),F=!x&&!T&&Ms(c),U=!x&&!T&&!F&&cd(c),K=x||T||F||U,ie=K?i0(c.length,of):[],ue=ie.length;for(var _e in c)(f||tr.call(c,_e))&&!(K&&(_e=="length"||F&&(_e=="offset"||_e=="parent")||U&&(_e=="buffer"||_e=="byteLength"||_e=="byteOffset")||Pr(_e,ue)))&&ie.push(_e);return ie}function ga(c){var f=c.length;return f?c[fs(0,f-1)]:t}function cl(c,f){return Xu(Bn(c),Ua(f,0,c.length))}function oh(c){return Xu(Bn(c))}function oc(c,f,x){(x!==t&&!Ja(c[f],x)||x===t&&!(f in c))&&va(c,f,x)}function ul(c,f,x){var T=c[f];(!(tr.call(c,f)&&Ja(T,x))||x===t&&!(f in c))&&va(c,f,x)}function An(c,f){for(var x=c.length;x--;)if(Ja(c[x][0],f))return x;return-1}function fi(c,f,x,T){return ya(c,function(F,U,K){f(T,F,x(F),K)}),T}function Mr(c,f){return c&&Zi(f,On(f),c)}function ji(c,f){return c&&Zi(f,Fi(f),c)}function va(c,f,x){f=="__proto__"&&tc?tc(c,f,{configurable:!0,enumerable:!0,value:x,writable:!0}):c[f]=x}function bu(c,f){for(var x=-1,T=f.length,F=fe(T),U=c==null;++x<T;)F[x]=U?t:Pf(c,f[x]);return F}function Ua(c,f,x){return c===c&&(x!==t&&(c=c<=x?c:x),f!==t&&(c=c>=f?c:f)),c}function ri(c,f,x,T,F,U){var K,ie=f&v,ue=f&m,_e=f&C;if(x&&(K=F?x(c,T,F,U):x(c)),K!==t)return K;if(!Ur(c))return c;var ke=Mt(c);if(ke){if(K=_c(c),!ie)return Bn(c,K)}else{var Ee=yn(c),We=Ee==Ne||Ee==tt;if(Ms(c))return T0(c,ie);if(Ee==mt||Ee==be||We&&!F){if(K=ue||We?{}:xn(c),!ie)return ue?cf(c,ji(K,c)):Fu(c,Mr(K,c))}else{if(!jt[Ee])return F?c:{};K=uf(c,Ee,ie)}}U||(U=new Pn);var it=U.get(c);if(it)return it;U.set(c,K),Lv(c)?c.forEach(function(pt){K.add(ri(pt,f,x,pt,c,U))}):Tv(c)&&c.forEach(function(pt,Wt){K.set(Wt,ri(pt,f,x,Wt,c,U))});var ht=_e?ue?Cc:xc:ue?Fi:On,Ot=ke?t:ht(c);return En(Ot||c,function(pt,Wt){Ot&&(Wt=pt,pt=c[Wt]),ul(K,Wt,ri(pt,f,x,Wt,c,U))}),K}function lh(c){var f=On(c);return function(x){return lc(x,c,f)}}function lc(c,f,x){var T=x.length;if(c==null)return!T;for(c=hr(c);T--;){var F=x[T],U=f[F],K=c[F];if(K===t&&!(F in c)||!U(K))return!1}return!0}function f0(c,f,x){if(typeof c!="function")throw new wi(s);return _s(function(){c.apply(t,x)},f)}function ma(c,f,x,T){var F=-1,U=eu,K=!0,ie=c.length,ue=[],_e=f.length;if(!ie)return ue;x&&(f=Cr(f,di(x))),T?(U=Qd,K=!1):f.length>=i&&(U=za,K=!1,f=new ll(f));e:for(;++F<ie;){var ke=c[F],Ee=x==null?ke:x(ke);if(ke=T||ke!==0?ke:0,K&&Ee===Ee){for(var We=_e;We--;)if(f[We]===Ee)continue e;ue.push(ke)}else U(f,Ee,T)||ue.push(ke)}return ue}var ya=Li(gi),sh=Li(Mo,!0);function sc(c,f){var x=!0;return ya(c,function(T,F,U){return x=!!f(T,F,U),x}),x}function dl(c,f,x){for(var T=-1,F=c.length;++T<F;){var U=c[T],K=f(U);if(K!=null&&(ie===t?K===K&&!ta(K):x(K,ie)))var ie=K,ue=U}return ue}function ch(c,f,x,T){var F=c.length;for(x=Ft(x),x<0&&(x=-x>F?0:F+x),T=T===t||T>F?F:Ft(T),T<0&&(T+=F),T=x>T?0:Av(T);x<T;)c[x++]=f;return c}function g0(c,f){var x=[];return ya(c,function(T,F,U){f(T,F,U)&&x.push(T)}),x}function Rr(c,f,x,T,F){var U=-1,K=c.length;for(x||(x=Uu),F||(F=[]);++U<K;){var ie=c[U];f>0&&x(ie)?f>1?Rr(ie,f-1,x,T,F):yo(F,ie):T||(F[F.length]=ie)}return F}var wu=Ru(),cc=Ru(!0);function gi(c,f){return c&&wu(c,f,On)}function Mo(c,f){return c&&cc(c,f,On)}function ds(c,f){return mo(f,function(x){return kl(c[x])})}function Ha(c,f){f=ba(f,c);for(var x=0,T=f.length;c!=null&&x<T;)c=c[Qi(f[x++])];return x&&x==T?c:t}function _u(c,f,x){var T=f(c);return Mt(c)?T:yo(T,x(c))}function vn(c){return c==null?c===t?fn:vt:il&&il in hr(c)?Wu(c):W0(c)}function Eo(c,f){return c>f}function Mi(c,f){return c!=null&&tr.call(c,f)}function hl(c,f){return c!=null&&f in hr(c)}function v0(c,f,x){return c>=Tn(f,x)&&c<Xr(f,x)}function ku(c,f,x){for(var T=x?Qd:eu,F=c[0].length,U=c.length,K=U,ie=fe(U),ue=1/0,_e=[];K--;){var ke=c[K];K&&f&&(ke=Cr(ke,di(f))),ue=Tn(ke.length,ue),ie[K]=!x&&(f||F>=120&&ke.length>=120)?new ll(K&&ke):t}ke=c[0];var Ee=-1,We=ie[0];e:for(;++Ee<F&&_e.length<ue;){var it=ke[Ee],ht=f?f(it):it;if(it=x||it!==0?it:0,!(We?za(We,ht):T(_e,ht,x))){for(K=U;--K;){var Ot=ie[K];if(!(Ot?za(Ot,ht):T(c[K],ht,x)))continue e}We&&We.push(ht),_e.push(it)}}return _e}function Ya(c,f,x,T){return gi(c,function(F,U,K){f(T,x(F),U,K)}),T}function Ei(c,f,x){f=ba(f,c),c=an(c,f);var T=c==null?c:c[Qi(Un(f))];return T==null?t:zn(T,c,x)}function Su(c){return Zr(c)&&vn(c)==be}function uh(c){return Zr(c)&&vn(c)==Ht}function Xa(c){return Zr(c)&&vn(c)==Ae}function Ti(c,f,x,T,F){return c===f?!0:c==null||f==null||!Zr(c)&&!Zr(f)?c!==c&&f!==f:Mu(c,f,x,T,Ti,F)}function Mu(c,f,x,T,F,U){var K=Mt(c),ie=Mt(f),ue=K?xe:yn(c),_e=ie?xe:yn(f);ue=ue==be?mt:ue,_e=_e==be?mt:_e;var ke=ue==mt,Ee=_e==mt,We=ue==_e;if(We&&Ms(c)){if(!Ms(f))return!1;K=!0,ke=!1}if(We&&!ke)return U||(U=new Pn),K||cd(c)?z0(c,f,x,T,F,U):V0(c,f,ue,x,T,F,U);if(!(x&b)){var it=ke&&tr.call(c,"__wrapped__"),ht=Ee&&tr.call(f,"__wrapped__");if(it||ht){var Ot=it?c.value():c,pt=ht?f.value():f;return U||(U=new Pn),F(Ot,pt,x,T,U)}}return We?(U||(U=new Pn),bh(c,f,x,T,F,U)):!1}function dh(c){return Zr(c)&&yn(c)==Ge}function hs(c,f,x,T){var F=x.length,U=F,K=!T;if(c==null)return!U;for(c=hr(c);F--;){var ie=x[F];if(K&&ie[2]?ie[1]!==c[ie[0]]:!(ie[0]in c))return!1}for(;++F<U;){ie=x[F];var ue=ie[0],_e=c[ue],ke=ie[1];if(K&&ie[2]){if(_e===t&&!(ue in c))return!1}else{var Ee=new Pn;if(T)var We=T(_e,ke,ue,c,f,Ee);if(!(We===t?Ti(ke,_e,b|w,T,Ee):We))return!1}}return!0}function m0(c){if(!Ur(c)||kh(c))return!1;var f=kl(c)?K1:jo;return f.test(Po(c))}function uc(c){return Zr(c)&&vn(c)==Kt}function xa(c){return Zr(c)&&yn(c)==Tt}function dc(c){return Zr(c)&&Uh(c.length)&&!!Jt[vn(c)]}function ps(c){return typeof c=="function"?c:c==null?Oi:typeof c=="object"?Mt(c)?Lr(c[0],c[1]):Eu(c):Uv(c)}function ja(c){if(!Ka(c))return ns(c);var f=[];for(var x in hr(c))tr.call(c,x)&&x!="constructor"&&f.push(x);return f}function y0(c){if(!Ur(c))return Eh(c);var f=Ka(c),x=[];for(var T in c)T=="constructor"&&(f||!tr.call(c,T))||x.push(T);return x}function To(c,f){return c<f}function x0(c,f){var x=-1,T=Di(c)?fe(c.length):[];return ya(c,function(F,U,K){T[++x]=f(F,U,K)}),T}function Eu(c){var f=wc(c);return f.length==1&&f[0][2]?Hu(f[0][0],f[0][1]):function(x){return x===c||hs(x,c,f)}}function Lr(c,f){return Ze(c)&&Sc(f)?Hu(Qi(c),f):function(x){var T=Pf(x,c);return T===t&&T===f?Af(x,c):Ti(f,T,b|w)}}function pl(c,f,x,T,F){c!==f&&wu(f,function(U,K){if(F||(F=new Pn),Ur(U))C0(c,f,K,x,pl,T,F);else{var ie=T?T(ka(c,K),U,K+"",c,f,F):t;ie===t&&(ie=U),oc(c,K,ie)}},Fi)}function C0(c,f,x,T,F,U,K){var ie=ka(c,x),ue=ka(f,x),_e=K.get(ue);if(_e){oc(c,x,_e);return}var ke=U?U(ie,ue,x+"",c,f,K):t,Ee=ke===t;if(Ee){var We=Mt(ue),it=!We&&Ms(ue),ht=!We&&!it&&cd(ue);ke=ue,We||it||ht?Mt(ie)?ke=ie:tn(ie)?ke=Bn(ie):it?(Ee=!1,ke=T0(ue,!0)):ht?(Ee=!1,ke=vh(ue,!0)):ke=[]:o1(ue)||Dc(ue)?(ke=ie,Dc(ie)?ke=Dv(ie):(!Ur(ie)||kl(ie))&&(ke=xn(ue))):Ee=!1}Ee&&(K.set(ue,ke),F(ke,ue,T,U,K),K.delete(ue)),oc(c,x,ke)}function Tu(c,f){var x=c.length;if(x)return f+=f<0?x:0,Pr(f,x)?c[f]:t}function hc(c,f,x){f.length?f=Cr(f,function(U){return Mt(U)?function(K){return Ha(K,U.length===1?U[0]:U)}:U}):f=[Oi];var T=-1;f=Cr(f,di(st()));var F=x0(c,function(U,K,ie){var ue=Cr(f,function(_e){return _e(U)});return{criteria:ue,index:++T,value:U}});return Kp(F,function(U,K){return sf(U,K,x)})}function b0(c,f){return Io(c,f,function(x,T){return Af(c,T)})}function Io(c,f,x){for(var T=-1,F=f.length,U={};++T<F;){var K=f[T],ie=Ha(c,K);x(ie,K)&&gl(U,ba(K,c),ie)}return U}function Dr(c){return function(f){return Ha(f,c)}}function $r(c,f,x,T){var F=T?t0:ql,U=-1,K=f.length,ie=c;for(c===f&&(f=Bn(f)),x&&(ie=Cr(c,di(x)));++U<K;)for(var ue=0,_e=f[U],ke=x?x(_e):_e;(ue=F(ie,ke,ue,T))>-1;)ie!==c&&uu.call(ie,ue,1),uu.call(c,ue,1);return c}function Jr(c,f){for(var x=c?f.length:0,T=x-1;x--;){var F=f[x];if(x==T||F!==U){var U=F;Pr(F)?uu.call(c,F,1):Pu(c,F)}}return c}function fs(c,f){return c+Co(rc()*(f-c+1))}function pc(c,f,x,T){for(var F=-1,U=Xr(al((f-c)/(x||1)),0),K=fe(U);U--;)K[T?U:++F]=c,c+=x;return K}function fl(c,f){var x="";if(!c||f<1||f>Z)return x;do f%2&&(x+=c),f=Co(f/2),f&&(c+=c);while(f);return x}function Dt(c,f){return vi(Yu(c,f,Oi),c+"")}function Dn(c){return ga(ud(c))}function w0(c,f){var x=ud(c);return Xu(x,Ua(f,0,x.length))}function gl(c,f,x,T){if(!Ur(c))return c;f=ba(f,c);for(var F=-1,U=f.length,K=U-1,ie=c;ie!=null&&++F<U;){var ue=Qi(f[F]),_e=x;if(ue==="__proto__"||ue==="constructor"||ue==="prototype")return c;if(F!=K){var ke=ie[ue];_e=T?T(ke,ue,ie):t,_e===t&&(_e=Ur(ke)?ke:Pr(f[F+1])?[]:{})}ul(ie,ue,_e),ie=ie[ue]}return c}var Iu=fu?function(c,f){return fu.set(c,f),c}:Oi,Ca=tc?function(c,f){return tc(c,"toString",{configurable:!0,enumerable:!1,value:Ff(f),writable:!0})}:Oi;function Ii(c){return Xu(ud(c))}function Fn(c,f,x){var T=-1,F=c.length;f<0&&(f=-f>F?0:F+f),x=x>F?F:x,x<0&&(x+=F),F=f>x?0:x-f>>>0,f>>>=0;for(var U=fe(F);++T<F;)U[T]=c[T+f];return U}function _0(c,f){var x;return ya(c,function(T,F,U){return x=f(T,F,U),!x}),!!x}function gs(c,f,x){var T=0,F=c==null?T:c.length;if(typeof f=="number"&&f===f&&F<=he){for(;T<F;){var U=T+F>>>1,K=c[U];K!==null&&!ta(K)&&(x?K<=f:K<f)?T=U+1:F=U}return F}return Lu(c,f,Oi,x)}function Lu(c,f,x,T){var F=0,U=c==null?0:c.length;if(U===0)return 0;f=x(f);for(var K=f!==f,ie=f===null,ue=ta(f),_e=f===t;F<U;){var ke=Co((F+U)/2),Ee=x(c[ke]),We=Ee!==t,it=Ee===null,ht=Ee===Ee,Ot=ta(Ee);if(K)var pt=T||ht;else _e?pt=ht&&(T||We):ie?pt=ht&&We&&(T||!it):ue?pt=ht&&We&&!it&&(T||!Ot):it||Ot?pt=!1:pt=T?Ee<=f:Ee<f;pt?F=ke+1:U=ke}return Tn(U,B)}function k0(c,f){for(var x=-1,T=c.length,F=0,U=[];++x<T;){var K=c[x],ie=f?f(K):K;if(!x||!Ja(ie,ue)){var ue=ie;U[F++]=K===0?0:K}}return U}function S0(c){return typeof c=="number"?c:ta(c)?ee:+c}function ni(c){if(typeof c=="string")return c;if(Mt(c))return Cr(c,ni)+"";if(ta(c))return gu?gu.call(c):"";var f=c+"";return f=="0"&&1/c==-q?"-0":f}function Za(c,f,x){var T=-1,F=eu,U=c.length,K=!0,ie=[],ue=ie;if(x)K=!1,F=Qd;else if(U>=i){var _e=f?null:Ch(c);if(_e)return xo(_e);K=!1,F=za,ue=new ll}else ue=f?[]:ie;e:for(;++T<U;){var ke=c[T],Ee=f?f(ke):ke;if(ke=x||ke!==0?ke:0,K&&Ee===Ee){for(var We=ue.length;We--;)if(ue[We]===Ee)continue e;f&&ue.push(Ee),ie.push(ke)}else F(ue,Ee,x)||(ue!==ie&&ue.push(Ee),ie.push(ke))}return ie}function Pu(c,f){return f=ba(f,c),c=an(c,f),c==null||delete c[Qi(Un(f))]}function M0(c,f,x,T){return gl(c,f,x(Ha(c,f)),T)}function fc(c,f,x,T){for(var F=c.length,U=T?F:-1;(T?U--:++U<F)&&f(c[U],U,c););return x?Fn(c,T?0:U,T?U+1:F):Fn(c,T?U+1:0,T?F:U)}function vs(c,f){var x=c;return x instanceof St&&(x=x.value()),Jd(f,function(T,F){return F.func.apply(F.thisArg,yo([T],F.args))},x)}function Au(c,f,x){var T=c.length;if(T<2)return T?Za(c[0]):[];for(var F=-1,U=fe(T);++F<T;)for(var K=c[F],ie=-1;++ie<T;)ie!=F&&(U[F]=ma(U[F]||K,c[ie],f,x));return Za(Rr(U,1),f,x)}function gc(c,f,x){for(var T=-1,F=c.length,U=f.length,K={};++T<F;){var ie=T<U?f[T]:t;x(K,c[T],ie)}return K}function ms(c){return tn(c)?c:[]}function Du(c){return typeof c=="function"?c:Oi}function ba(c,f){return Mt(c)?c:Ze(c,f)?[c]:Y0(pr(c))}var hh=Dt;function Ga(c,f,x){var T=c.length;return x=x===t?T:x,!f&&x>=T?c:Fn(c,f,x)}var E0=J1||function(c){return Ir.clearTimeout(c)};function T0(c,f){if(f)return c.slice();var x=c.length,T=s0?s0(x):new c.constructor(x);return c.copy(T),T}function vc(c){var f=new c.constructor(c.byteLength);return new ec(f).set(new ec(c)),f}function ph(c,f){var x=f?vc(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.byteLength)}function fh(c){var f=new c.constructor(c.source,so.exec(c));return f.lastIndex=c.lastIndex,f}function gh(c){return pi?hr(pi.call(c)):{}}function vh(c,f){var x=f?vc(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.length)}function I0(c,f){if(c!==f){var x=c!==t,T=c===null,F=c===c,U=ta(c),K=f!==t,ie=f===null,ue=f===f,_e=ta(f);if(!ie&&!_e&&!U&&c>f||U&&K&&ue&&!ie&&!_e||T&&K&&ue||!x&&ue||!F)return 1;if(!T&&!U&&!_e&&c<f||_e&&x&&F&&!T&&!U||ie&&x&&F||!K&&F||!ue)return-1}return 0}function sf(c,f,x){for(var T=-1,F=c.criteria,U=f.criteria,K=F.length,ie=x.length;++T<K;){var ue=I0(F[T],U[T]);if(ue){if(T>=ie)return ue;var _e=x[T];return ue*(_e=="desc"?-1:1)}}return c.index-f.index}function mh(c,f,x,T){for(var F=-1,U=c.length,K=x.length,ie=-1,ue=f.length,_e=Xr(U-K,0),ke=fe(ue+_e),Ee=!T;++ie<ue;)ke[ie]=f[ie];for(;++F<K;)(Ee||F<U)&&(ke[x[F]]=c[F]);for(;_e--;)ke[ie++]=c[F++];return ke}function L0(c,f,x,T){for(var F=-1,U=c.length,K=-1,ie=x.length,ue=-1,_e=f.length,ke=Xr(U-ie,0),Ee=fe(ke+_e),We=!T;++F<ke;)Ee[F]=c[F];for(var it=F;++ue<_e;)Ee[it+ue]=f[ue];for(;++K<ie;)(We||F<U)&&(Ee[it+x[K]]=c[F++]);return Ee}function Bn(c,f){var x=-1,T=c.length;for(f||(f=fe(T));++x<T;)f[x]=c[x];return f}function Zi(c,f,x,T){var F=!x;x||(x={});for(var U=-1,K=f.length;++U<K;){var ie=f[U],ue=T?T(x[ie],c[ie],ie,x,c):t;ue===t&&(ue=c[ie]),F?va(x,ie,ue):ul(x,ie,ue)}return x}function Fu(c,f){return Zi(c,Gi(c),f)}function cf(c,f){return Zi(c,wh(c),f)}function Ou(c,f){return function(x,T){var F=Mt(x)?qd:fi,U=f?f():{};return F(x,c,st(T,2),U)}}function ys(c){return Dt(function(f,x){var T=-1,F=x.length,U=F>1?x[F-1]:t,K=F>2?x[2]:t;for(U=c.length>3&&typeof U=="function"?(F--,U):t,K&&Wn(x[0],x[1],K)&&(U=F<3?t:U,F=1),f=hr(f);++T<F;){var ie=x[T];ie&&c(f,ie,T,U)}return f})}function Li(c,f){return function(x,T){if(x==null)return x;if(!Di(x))return c(x,T);for(var F=x.length,U=f?F:-1,K=hr(x);(f?U--:++U<F)&&T(K[U],U,K)!==!1;);return x}}function Ru(c){return function(f,x,T){for(var F=-1,U=hr(f),K=T(f),ie=K.length;ie--;){var ue=K[c?ie:++F];if(x(U[ue],ue,U)===!1)break}return f}}function Nu(c,f,x){var T=f&_,F=xs(c);function U(){var K=this&&this!==Ir&&this instanceof U?F:c;return K.apply(T?x:this,arguments)}return U}function P0(c){return function(f){f=pr(f);var x=Ql(f)?hi(f):t,T=x?x[0]:f.charAt(0),F=x?Ga(x,1).join(""):f.slice(1);return T[c]()+F}}function vl(c){return function(f){return Jd($v(Bv(f).replace(Xc,"")),c,"")}}function xs(c){return function(){var f=arguments;switch(f.length){case 0:return new c;case 1:return new c(f[0]);case 2:return new c(f[0],f[1]);case 3:return new c(f[0],f[1],f[2]);case 4:return new c(f[0],f[1],f[2],f[3]);case 5:return new c(f[0],f[1],f[2],f[3],f[4]);case 6:return new c(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new c(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var x=ls(c.prototype),T=c.apply(x,f);return Ur(T)?T:x}}function A0(c,f,x){var T=xs(c);function F(){for(var U=arguments.length,K=fe(U),ie=U,ue=qa(F);ie--;)K[ie]=arguments[ie];var _e=U<3&&K[0]!==ue&&K[U-1]!==ue?[]:bi(K,ue);if(U-=_e.length,U<x)return $n(c,f,Cs,F.placeholder,t,K,_e,t,t,x-U);var ke=this&&this!==Ir&&this instanceof F?T:c;return zn(ke,this,K)}return F}function ml(c){return function(f,x,T){var F=hr(f);if(!Di(f)){var U=st(x,3);f=On(f),x=function(ie){return U(F[ie],ie,F)}}var K=c(f,x,T);return K>-1?F[U?f[K]:K]:t}}function zu(c){return _a(function(f){var x=f.length,T=x,F=In.prototype.thru;for(c&&f.reverse();T--;){var U=f[T];if(typeof U!="function")throw new wi(s);if(F&&!K&&bs(U)=="wrapper")var K=new In([],!0)}for(T=K?T:x;++T<x;){U=f[T];var ie=bs(U),ue=ie=="wrapper"?$u(U):t;ue&&kc(ue[0])&&ue[1]==(D|I|P|z)&&!ue[4].length&&ue[9]==1?K=K[bs(ue[0])].apply(K,ue[3]):K=U.length==1&&kc(U)?K[ie]():K.thru(U)}return function(){var _e=arguments,ke=_e[0];if(K&&_e.length==1&&Mt(ke))return K.plant(ke).value();for(var Ee=0,We=x?f[Ee].apply(this,_e):ke;++Ee<x;)We=f[Ee].call(this,We);return We}})}function Cs(c,f,x,T,F,U,K,ie,ue,_e){var ke=f&D,Ee=f&_,We=f&S,it=f&(I|A),ht=f&V,Ot=We?t:xs(c);function pt(){for(var Wt=arguments.length,Gt=fe(Wt),ra=Wt;ra--;)Gt[ra]=arguments[ra];if(it)var yi=qa(pt),na=U1(Gt,yi);if(T&&(Gt=mh(Gt,T,F,it)),U&&(Gt=L0(Gt,U,K,it)),Wt-=na,it&&Wt<_e){var rn=bi(Gt,yi);return $n(c,f,Cs,pt.placeholder,x,Gt,rn,ie,ue,_e-Wt)}var eo=Ee?x:this,Ml=We?eo[c]:c;return Wt=Gt.length,ie?Gt=qi(Gt,ie):ht&&Wt>1&&Gt.reverse(),ke&&ue<Wt&&(Gt.length=ue),this&&this!==Ir&&this instanceof pt&&(Ml=Ot||xs(Ml)),Ml.apply(eo,Gt)}return pt}function yh(c,f){return function(x,T){return Ya(x,c,f(T),{})}}function mc(c,f){return function(x,T){var F;if(x===t&&T===t)return f;if(x!==t&&(F=x),T!==t){if(F===t)return T;typeof x=="string"||typeof T=="string"?(x=ni(x),T=ni(T)):(x=S0(x),T=S0(T)),F=c(x,T)}return F}}function Vu(c){return _a(function(f){return f=Cr(f,di(st())),Dt(function(x){var T=this;return c(f,function(F){return zn(F,T,x)})})})}function yc(c,f){f=f===t?" ":ni(f);var x=f.length;if(x<2)return x?fl(f,c):f;var T=fl(f,al(c/nl(f)));return Ql(f)?Ga(hi(T),0,c).join(""):T.slice(0,c)}function xh(c,f,x,T){var F=f&_,U=xs(c);function K(){for(var ie=-1,ue=arguments.length,_e=-1,ke=T.length,Ee=fe(ke+ue),We=this&&this!==Ir&&this instanceof K?U:c;++_e<ke;)Ee[_e]=T[_e];for(;ue--;)Ee[_e++]=arguments[++ie];return zn(We,F?x:this,Ee)}return K}function D0(c){return function(f,x,T){return T&&typeof T!="number"&&Wn(f,x,T)&&(x=T=t),f=Sl(f),x===t?(x=f,f=0):x=Sl(x),T=T===t?f<x?1:-1:Sl(T),pc(f,x,T,c)}}function Bu(c){return function(f,x){return typeof f=="string"&&typeof x=="string"||(f=Sa(f),x=Sa(x)),c(f,x)}}function $n(c,f,x,T,F,U,K,ie,ue,_e){var ke=f&I,Ee=ke?K:t,We=ke?t:K,it=ke?U:t,ht=ke?t:U;f|=ke?P:$,f&=~(ke?$:P),f&M||(f&=-4);var Ot=[c,f,F,it,Ee,ht,We,ie,ue,_e],pt=x.apply(t,Ot);return kc(c)&&U0(pt,Ot),pt.placeholder=T,H0(pt,c,f)}function mn(c){var f=Yr[c];return function(x,T){if(x=Sa(x),T=T==null?0:Tn(Ft(T),292),T&&rs(x)){var F=(pr(x)+"e").split("e"),U=f(F[0]+"e"+(+F[1]+T));return F=(pr(U)+"e").split("e"),+(F[0]+"e"+(+F[1]-T))}return f(x)}}var Ch=bo&&1/xo(new bo([,-0]))[1]==q?function(c){return new bo(c)}:Nf;function F0(c){return function(f){var x=yn(f);return x==Ge?nu(f):x==Tt?tf(f):Qp(f,c(f))}}function wa(c,f,x,T,F,U,K,ie){var ue=f&S;if(!ue&&typeof c!="function")throw new wi(s);var _e=T?T.length:0;if(_e||(f&=-97,T=F=t),K=K===t?K:Xr(Ft(K),0),ie=ie===t?ie:Ft(ie),_e-=F?F.length:0,f&$){var ke=T,Ee=F;T=F=t}var We=ue?t:$u(c),it=[c,f,x,T,F,ke,Ee,U,K,ie];if(We&&Mh(it,We),c=it[0],f=it[1],x=it[2],T=it[3],F=it[4],ie=it[9]=it[9]===t?ue?0:c.length:Xr(it[9]-_e,0),!ie&&f&(I|A)&&(f&=-25),!f||f==_)var ht=Nu(c,f,x);else f==I||f==A?ht=A0(c,f,ie):(f==P||f==(_|P))&&!F.length?ht=xh(c,f,x,T):ht=Cs.apply(t,it);var Ot=We?Iu:U0;return H0(Ot(ht,it),c,f)}function O0(c,f,x,T){return c===t||Ja(c,da[x])&&!tr.call(T,x)?f:c}function R0(c,f,x,T,F,U){return Ur(c)&&Ur(f)&&(U.set(f,c),pl(c,f,t,R0,U),U.delete(f)),c}function N0(c){return o1(c)?t:c}function z0(c,f,x,T,F,U){var K=x&b,ie=c.length,ue=f.length;if(ie!=ue&&!(K&&ue>ie))return!1;var _e=U.get(c),ke=U.get(f);if(_e&&ke)return _e==f&&ke==c;var Ee=-1,We=!0,it=x&w?new ll:t;for(U.set(c,f),U.set(f,c);++Ee<ie;){var ht=c[Ee],Ot=f[Ee];if(T)var pt=K?T(Ot,ht,Ee,f,c,U):T(ht,Ot,Ee,c,f,U);if(pt!==t){if(pt)continue;We=!1;break}if(it){if(!e0(f,function(Wt,Gt){if(!za(it,Gt)&&(ht===Wt||F(ht,Wt,x,T,U)))return it.push(Gt)})){We=!1;break}}else if(!(ht===Ot||F(ht,Ot,x,T,U))){We=!1;break}}return U.delete(c),U.delete(f),We}function V0(c,f,x,T,F,U,K){switch(x){case Qt:if(c.byteLength!=f.byteLength||c.byteOffset!=f.byteOffset)return!1;c=c.buffer,f=f.buffer;case Ht:return!(c.byteLength!=f.byteLength||!U(new ec(c),new ec(f)));case Re:case Ae:case gt:return Ja(+c,+f);case Te:return c.name==f.name&&c.message==f.message;case Kt:case fr:return c==f+"";case Ge:var ie=nu;case Tt:var ue=T&b;if(ie||(ie=xo),c.size!=f.size&&!ue)return!1;var _e=K.get(c);if(_e)return _e==f;T|=w,K.set(c,f);var ke=z0(ie(c),ie(f),T,F,U,K);return K.delete(c),ke;case nn:if(pi)return pi.call(c)==pi.call(f)}return!1}function bh(c,f,x,T,F,U){var K=x&b,ie=xc(c),ue=ie.length,_e=xc(f),ke=_e.length;if(ue!=ke&&!K)return!1;for(var Ee=ue;Ee--;){var We=ie[Ee];if(!(K?We in f:tr.call(f,We)))return!1}var it=U.get(c),ht=U.get(f);if(it&&ht)return it==f&&ht==c;var Ot=!0;U.set(c,f),U.set(f,c);for(var pt=K;++Ee<ue;){We=ie[Ee];var Wt=c[We],Gt=f[We];if(T)var ra=K?T(Gt,Wt,We,f,c,U):T(Wt,Gt,We,c,f,U);if(!(ra===t?Wt===Gt||F(Wt,Gt,x,T,U):ra)){Ot=!1;break}pt||(pt=We=="constructor")}if(Ot&&!pt){var yi=c.constructor,na=f.constructor;yi!=na&&"constructor"in c&&"constructor"in f&&!(typeof yi=="function"&&yi instanceof yi&&typeof na=="function"&&na instanceof na)&&(Ot=!1)}return U.delete(c),U.delete(f),Ot}function _a(c){return vi(Yu(c,t,Zu),c+"")}function xc(c){return _u(c,On,Gi)}function Cc(c){return _u(c,Fi,wh)}var $u=fu?function(c){return fu.get(c)}:Nf;function bs(c){for(var f=c.name+"",x=as[f],T=tr.call(as,f)?x.length:0;T--;){var F=x[T],U=F.func;if(U==null||U==c)return F.name}return f}function qa(c){var f=tr.call(R,"placeholder")?R:c;return f.placeholder}function st(){var c=R.iteratee||Of;return c=c===Of?ps:c,arguments.length?c(arguments[0],arguments[1]):c}function bc(c,f){var x=c.__data__;return ws(f)?x[typeof f=="string"?"string":"hash"]:x.map}function wc(c){for(var f=On(c),x=f.length;x--;){var T=f[x],F=c[T];f[x]=[T,F,Sc(F)]}return f}function Lo(c,f){var x=Kl(c,f);return m0(x)?x:t}function Wu(c){var f=tr.call(c,il),x=c[il];try{c[il]=t;var T=!0}catch{}var F=Qs.call(c);return T&&(f?c[il]=x:delete c[il]),F}var Gi=du?function(c){return c==null?[]:(c=hr(c),mo(du(c),function(f){return cu.call(c,f)}))}:zf,wh=du?function(c){for(var f=[];c;)yo(f,Gi(c)),c=Xi(c);return f}:zf,yn=vn;(nc&&yn(new nc(new ArrayBuffer(1)))!=Qt||ol&&yn(new ol)!=Ge||ic&&yn(ic.resolve())!=nr||bo&&yn(new bo)!=Tt||ac&&yn(new ac)!=lr)&&(yn=function(c){var f=vn(c),x=f==mt?c.constructor:t,T=x?Po(x):"";if(T)switch(T){case d0:return Qt;case wo:return Ge;case th:return nr;case os:return Tt;case ha:return lr}return f});function B0(c,f,x){for(var T=-1,F=x.length;++T<F;){var U=x[T],K=U.size;switch(U.type){case"drop":c+=K;break;case"dropRight":f-=K;break;case"take":f=Tn(f,c+K);break;case"takeRight":c=Xr(c,f-K);break}}return{start:c,end:f}}function _h(c){var f=c.match(gn);return f?f[1].split(Mn):[]}function $0(c,f,x){f=ba(f,c);for(var T=-1,F=f.length,U=!1;++T<F;){var K=Qi(f[T]);if(!(U=c!=null&&x(c,K)))break;c=c[K]}return U||++T!=F?U:(F=c==null?0:c.length,!!F&&Uh(F)&&Pr(K,F)&&(Mt(c)||Dc(c)))}function _c(c){var f=c.length,x=new c.constructor(f);return f&&typeof c[0]=="string"&&tr.call(c,"index")&&(x.index=c.index,x.input=c.input),x}function xn(c){return typeof c.constructor=="function"&&!Ka(c)?ls(Xi(c)):{}}function uf(c,f,x){var T=c.constructor;switch(f){case Ht:return vc(c);case Re:case Ae:return new T(+c);case Qt:return ph(c,x);case Hr:case sr:case Or:case kt:case Be:case bt:case yt:case wt:case xt:return vh(c,x);case Ge:return new T;case gt:case fr:return new T(c);case Kt:return fh(c);case Tt:return new T;case nn:return gh(c)}}function df(c,f){var x=f.length;if(!x)return c;var T=x-1;return f[T]=(x>1?"& ":"")+f[T],f=f.join(x>2?", ":" "),c.replace(Qr,`{
/* [wrapped with `+f+`] */
`)}function Uu(c){return Mt(c)||Dc(c)||!!(Q1&&c&&c[Q1])}function Pr(c,f){var x=typeof c;return f=f??Z,!!f&&(x=="number"||x!="symbol"&&Rs.test(c))&&c>-1&&c%1==0&&c<f}function Wn(c,f,x){if(!Ur(x))return!1;var T=typeof f;return(T=="number"?Di(x)&&Pr(f,x.length):T=="string"&&f in x)?Ja(x[f],c):!1}function Ze(c,f){if(Mt(c))return!1;var x=typeof c;return x=="number"||x=="symbol"||x=="boolean"||c==null||ta(c)?!0:_t.test(c)||!Er.test(c)||f!=null&&c in hr(f)}function ws(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function kc(c){var f=bs(c),x=R[f];if(typeof x!="function"||!(f in St.prototype))return!1;if(c===x)return!0;var T=$u(x);return!!T&&c===T[0]}function kh(c){return!!ou&&ou in c}var hf=es?kl:Vf;function Ka(c){var f=c&&c.constructor,x=typeof f=="function"&&f.prototype||da;return c===x}function Sc(c){return c===c&&!Ur(c)}function Hu(c,f){return function(x){return x==null?!1:x[c]===f&&(f!==t||c in hr(x))}}function Sh(c){var f=pe(c,function(T){return x.size===h&&x.clear(),T}),x=f.cache;return f}function Mh(c,f){var x=c[1],T=f[1],F=x|T,U=F<(_|S|D),K=T==D&&x==I||T==D&&x==z&&c[7].length<=f[8]||T==(D|z)&&f[7].length<=f[8]&&x==I;if(!(U||K))return c;T&_&&(c[2]=f[2],F|=x&_?0:M);var ie=f[3];if(ie){var ue=c[3];c[3]=ue?mh(ue,ie,f[4]):ie,c[4]=ue?bi(c[3],p):f[4]}return ie=f[5],ie&&(ue=c[5],c[5]=ue?L0(ue,ie,f[6]):ie,c[6]=ue?bi(c[5],p):f[6]),ie=f[7],ie&&(c[7]=ie),T&D&&(c[8]=c[8]==null?f[8]:Tn(c[8],f[8])),c[9]==null&&(c[9]=f[9]),c[0]=f[0],c[1]=F,c}function Eh(c){var f=[];if(c!=null)for(var x in hr(c))f.push(x);return f}function W0(c){return Qs.call(c)}function Yu(c,f,x){return f=Xr(f===t?c.length-1:f,0),function(){for(var T=arguments,F=-1,U=Xr(T.length-f,0),K=fe(U);++F<U;)K[F]=T[f+F];F=-1;for(var ie=fe(f+1);++F<f;)ie[F]=T[F];return ie[f]=x(K),zn(c,this,ie)}}function an(c,f){return f.length<2?c:Ha(c,Fn(f,0,-1))}function qi(c,f){for(var x=c.length,T=Tn(f.length,x),F=Bn(c);T--;){var U=f[T];c[T]=Pr(U,x)?F[U]:t}return c}function ka(c,f){if(!(f==="constructor"&&typeof c[f]=="function")&&f!="__proto__")return c[f]}var U0=Ki(Iu),_s=c0||function(c,f){return Ir.setTimeout(c,f)},vi=Ki(Ca);function H0(c,f,x){var T=f+"";return vi(c,df(T,Th(_h(T),x)))}function Ki(c){var f=0,x=0;return function(){var T=lf(),F=X-(T-x);if(x=T,F>0){if(++f>=se)return arguments[0]}else f=0;return c.apply(t,arguments)}}function Xu(c,f){var x=-1,T=c.length,F=T-1;for(f=f===t?T:f;++x<f;){var U=fs(x,F),K=c[U];c[U]=c[x],c[x]=K}return c.length=f,c}var Y0=Sh(function(c){var f=[];return c.charCodeAt(0)===46&&f.push(""),c.replace(Tr,function(x,T,F,U){f.push(F?U.replace(Xo,"$1"):T||x)}),f});function Qi(c){if(typeof c=="string"||ta(c))return c;var f=c+"";return f=="0"&&1/c==-q?"-0":f}function Po(c){if(c!=null){try{return Ks.call(c)}catch{}try{return c+""}catch{}}return""}function Th(c,f){return En(Ce,function(x){var T="_."+x[0];f&x[1]&&!eu(c,T)&&c.push(T)}),c.sort()}function Ih(c){if(c instanceof St)return c.clone();var f=new In(c.__wrapped__,c.__chain__);return f.__actions__=Bn(c.__actions__),f.__index__=c.__index__,f.__values__=c.__values__,f}function ju(c,f,x){(x?Wn(c,f,x):f===t)?f=1:f=Xr(Ft(f),0);var T=c==null?0:c.length;if(!T||f<1)return[];for(var F=0,U=0,K=fe(al(T/f));F<T;)K[U++]=Fn(c,F,F+=f);return K}function X0(c){for(var f=-1,x=c==null?0:c.length,T=0,F=[];++f<x;){var U=c[f];U&&(F[T++]=U)}return F}function Pi(){var c=arguments.length;if(!c)return[];for(var f=fe(c-1),x=arguments[0],T=c;T--;)f[T-1]=arguments[T];return yo(Mt(x)?Bn(x):[x],Rr(f,1))}var Zt=Dt(function(c,f){return tn(c)?ma(c,Rr(f,1,tn,!0)):[]}),on=Dt(function(c,f){var x=Un(f);return tn(x)&&(x=t),tn(c)?ma(c,Rr(f,1,tn,!0),st(x,2)):[]}),jr=Dt(function(c,f){var x=Un(f);return tn(x)&&(x=t),tn(c)?ma(c,Rr(f,1,tn,!0),t,x):[]});function Cn(c,f,x){var T=c==null?0:c.length;return T?(f=x||f===t?1:Ft(f),Fn(c,f<0?0:f,T)):[]}function mi(c,f,x){var T=c==null?0:c.length;return T?(f=x||f===t?1:Ft(f),f=T-f,Fn(c,0,f<0?0:f)):[]}function ks(c,f){return c&&c.length?fc(c,st(f,3),!0,!0):[]}function en(c,f){return c&&c.length?fc(c,st(f,3),!0):[]}function Mc(c,f,x,T){var F=c==null?0:c.length;return F?(x&&typeof x!="number"&&Wn(c,f,x)&&(x=0,T=F),ch(c,f,x,T)):[]}function Ao(c,f,x){var T=c==null?0:c.length;if(!T)return-1;var F=x==null?0:Ft(x);return F<0&&(F=Xr(T+F,0)),tu(c,st(f,3),F)}function Ec(c,f,x){var T=c==null?0:c.length;if(!T)return-1;var F=T-1;return x!==t&&(F=Ft(x),F=x<0?Xr(T+F,0):Tn(F,T-1)),tu(c,st(f,3),F,!0)}function Zu(c){var f=c==null?0:c.length;return f?Rr(c,1):[]}function Tc(c){var f=c==null?0:c.length;return f?Rr(c,q):[]}function ii(c,f){var x=c==null?0:c.length;return x?(f=f===t?1:Ft(f),Rr(c,f)):[]}function j0(c){for(var f=-1,x=c==null?0:c.length,T={};++f<x;){var F=c[f];T[F[0]]=F[1]}return T}function yl(c){return c&&c.length?c[0]:t}function Qa(c,f,x){var T=c==null?0:c.length;if(!T)return-1;var F=x==null?0:Ft(x);return F<0&&(F=Xr(T+F,0)),ql(c,f,F)}function Gu(c){var f=c==null?0:c.length;return f?Fn(c,0,-1):[]}var Z0=Dt(function(c){var f=Cr(c,ms);return f.length&&f[0]===c[0]?ku(f):[]}),Do=Dt(function(c){var f=Un(c),x=Cr(c,ms);return f===Un(x)?f=t:x.pop(),x.length&&x[0]===c[0]?ku(x,st(f,2)):[]}),qu=Dt(function(c){var f=Un(c),x=Cr(c,ms);return f=typeof f=="function"?f:t,f&&x.pop(),x.length&&x[0]===c[0]?ku(x,t,f):[]});function Fo(c,f){return c==null?"":hu.call(c,f)}function Un(c){var f=c==null?0:c.length;return f?c[f-1]:t}function Ic(c,f,x){var T=c==null?0:c.length;if(!T)return-1;var F=T;return x!==t&&(F=Ft(x),F=F<0?Xr(T+F,0):Tn(F,T-1)),f===f?rf(c,f,F):tu(c,z1,F,!0)}function G0(c,f){return c&&c.length?Tu(c,Ft(f)):t}var Ku=Dt(Lc);function Lc(c,f){return c&&c.length&&f&&f.length?$r(c,f):c}function Hn(c,f,x){return c&&c.length&&f&&f.length?$r(c,f,st(x,2)):c}function Oo(c,f,x){return c&&c.length&&f&&f.length?$r(c,f,t,x):c}var Ji=_a(function(c,f){var x=c==null?0:c.length,T=bu(c,f);return Jr(c,Cr(f,function(F){return Pr(F,x)?+F:F}).sort(I0)),T});function ai(c,f){var x=[];if(!(c&&c.length))return x;var T=-1,F=[],U=c.length;for(f=st(f,3);++T<U;){var K=c[T];f(K,T,c)&&(x.push(K),F.push(T))}return Jr(c,F),x}function Qu(c){return c==null?c:pu.call(c)}function q0(c,f,x){var T=c==null?0:c.length;return T?(x&&typeof x!="number"&&Wn(c,f,x)?(f=0,x=T):(f=f==null?0:Ft(f),x=x===t?T:Ft(x)),Fn(c,f,x)):[]}function K0(c,f){return gs(c,f)}function pf(c,f,x){return Lu(c,f,st(x,2))}function Ro(c,f){var x=c==null?0:c.length;if(x){var T=gs(c,f);if(T<x&&Ja(c[T],f))return T}return-1}function Lh(c,f){return gs(c,f,!0)}function Q0(c,f,x){return Lu(c,f,st(x,2),!0)}function xl(c,f){var x=c==null?0:c.length;if(x){var T=gs(c,f,!0)-1;if(Ja(c[T],f))return T}return-1}function J0(c){return c&&c.length?k0(c):[]}function Cl(c,f){return c&&c.length?k0(c,st(f,2)):[]}function Ph(c){var f=c==null?0:c.length;return f?Fn(c,1,f):[]}function Ah(c,f,x){return c&&c.length?(f=x||f===t?1:Ft(f),Fn(c,0,f<0?0:f)):[]}function e1(c,f,x){var T=c==null?0:c.length;return T?(f=x||f===t?1:Ft(f),f=T-f,Fn(c,f<0?0:f,T)):[]}function Ju(c,f){return c&&c.length?fc(c,st(f,3),!1,!0):[]}function ff(c,f){return c&&c.length?fc(c,st(f,3)):[]}var gf=Dt(function(c){return Za(Rr(c,1,tn,!0))}),Dh=Dt(function(c){var f=Un(c);return tn(f)&&(f=t),Za(Rr(c,1,tn,!0),st(f,2))}),Fh=Dt(function(c){var f=Un(c);return f=typeof f=="function"?f:t,Za(Rr(c,1,tn,!0),t,f)});function bl(c){return c&&c.length?Za(c):[]}function vf(c,f){return c&&c.length?Za(c,st(f,2)):[]}function Ss(c,f){return f=typeof f=="function"?f:t,c&&c.length?Za(c,t,f):[]}function ed(c){if(!(c&&c.length))return[];var f=0;return c=mo(c,function(x){if(tn(x))return f=Xr(x.length,f),!0}),i0(f,function(x){return Cr(c,r0(x))})}function Fr(c,f){if(!(c&&c.length))return[];var x=ed(c);return f==null?x:Cr(x,function(T){return zn(f,t,T)})}var mf=Dt(function(c,f){return tn(c)?ma(c,f):[]}),Oh=Dt(function(c){return Au(mo(c,tn))}),yf=Dt(function(c){var f=Un(c);return tn(f)&&(f=t),Au(mo(c,tn),st(f,2))}),xf=Dt(function(c){var f=Un(c);return f=typeof f=="function"?f:t,Au(mo(c,tn),t,f)}),Rh=Dt(ed);function Nh(c,f){return gc(c||[],f||[],ul)}function Cf(c,f){return gc(c||[],f||[],gl)}var Ai=Dt(function(c){var f=c.length,x=f>1?c[f-1]:t;return x=typeof x=="function"?(c.pop(),x):t,Fr(c,x)});function td(c){var f=R(c);return f.__chain__=!0,f}function bf(c,f){return f(c),c}function ea(c,f){return f(c)}var rd=_a(function(c){var f=c.length,x=f?c[0]:0,T=this.__wrapped__,F=function(U){return bu(U,c)};return f>1||this.__actions__.length||!(T instanceof St)||!Pr(x)?this.thru(F):(T=T.slice(x,+x+(f?1:0)),T.__actions__.push({func:ea,args:[F],thisArg:t}),new In(T,this.__chain__).thru(function(U){return f&&!U.length&&U.push(t),U}))});function wl(){return td(this)}function nd(){return new In(this.value(),this.__chain__)}function t1(){this.__values__===t&&(this.__values__=Pv(this.value()));var c=this.__index__>=this.__values__.length,f=c?t:this.__values__[this.__index__++];return{done:c,value:f}}function r1(){return this}function wf(c){for(var f,x=this;x instanceof pa;){var T=Ih(x);T.__index__=0,T.__values__=t,f?F.__wrapped__=T:f=T;var F=T;x=x.__wrapped__}return F.__wrapped__=c,f}function n1(){var c=this.__wrapped__;if(c instanceof St){var f=c;return this.__actions__.length&&(f=new St(this)),f=f.reverse(),f.__actions__.push({func:ea,args:[Qu],thisArg:t}),new In(f,this.__chain__)}return this.thru(Qu)}function _f(){return vs(this.__wrapped__,this.__actions__)}var zh=Ou(function(c,f,x){tr.call(c,x)?++c[x]:va(c,x,1)});function Vh(c,f,x){var T=Mt(c)?Kd:sc;return x&&Wn(c,f,x)&&(f=t),T(c,st(f,3))}function id(c,f){var x=Mt(c)?mo:g0;return x(c,st(f,3))}var ad=ml(Ao),Bh=ml(Ec);function i1(c,f){return Rr(_l(c,f),1)}function kf(c,f){return Rr(_l(c,f),q)}function $h(c,f,x){return x=x===t?1:Ft(x),Rr(_l(c,f),x)}function od(c,f){var x=Mt(c)?En:ya;return x(c,st(f,3))}function Pc(c,f){var x=Mt(c)?Jc:sh;return x(c,st(f,3))}var a1=Ou(function(c,f,x){tr.call(c,x)?c[x].push(f):va(c,x,[f])});function ld(c,f,x,T){c=Di(c)?c:ud(c),x=x&&!T?Ft(x):0;var F=c.length;return x<0&&(x=Xr(F+x,0)),Hh(c)?x<=F&&c.indexOf(f,x)>-1:!!F&&ql(c,f,x)>-1}var Wh=Dt(function(c,f,x){var T=-1,F=typeof f=="function",U=Di(c)?fe(c.length):[];return ya(c,function(K){U[++T]=F?zn(f,K,x):Ei(K,f,x)}),U}),Sf=Ou(function(c,f,x){va(c,x,f)});function _l(c,f){var x=Mt(c)?Cr:x0;return x(c,st(f,3))}function Mf(c,f,x,T){return c==null?[]:(Mt(f)||(f=f==null?[]:[f]),x=T?t:x,Mt(x)||(x=x==null?[]:[x]),hc(c,f,x))}var Ac=Ou(function(c,f,x){c[x?0:1].push(f)},function(){return[[],[]]});function Ef(c,f,x){var T=Mt(c)?Jd:B1,F=arguments.length<3;return T(c,st(f,4),x,F,ya)}function sd(c,f,x){var T=Mt(c)?Zp:B1,F=arguments.length<3;return T(c,st(f,4),x,F,sh)}function a(c,f){var x=Mt(c)?mo:g0;return x(c,Fe(st(f,3)))}function l(c){var f=Mt(c)?ga:Dn;return f(c)}function g(c,f,x){(x?Wn(c,f,x):f===t)?f=1:f=Ft(f);var T=Mt(c)?cl:w0;return T(c,f)}function y(c){var f=Mt(c)?oh:Ii;return f(c)}function k(c){if(c==null)return 0;if(Di(c))return Hh(c)?nl(c):c.length;var f=yn(c);return f==Ge||f==Tt?c.size:ja(c).length}function E(c,f,x){var T=Mt(c)?e0:_0;return x&&Wn(c,f,x)&&(f=t),T(c,st(f,3))}var O=Dt(function(c,f){if(c==null)return[];var x=f.length;return x>1&&Wn(c,f[0],f[1])?f=[]:x>2&&Wn(f[0],f[1],f[2])&&(f=[f[0]]),hc(c,Rr(f,1),[])}),G=kr||function(){return Ir.Date.now()};function ne(c,f){if(typeof f!="function")throw new wi(s);return c=Ft(c),function(){if(--c<1)return f.apply(this,arguments)}}function ge(c,f,x){return f=x?t:f,f=c&&f==null?c.length:f,wa(c,D,t,t,t,t,f)}function Me(c,f){var x;if(typeof f!="function")throw new wi(s);return c=Ft(c),function(){return--c>0&&(x=f.apply(this,arguments)),c<=1&&(f=t),x}}var Ie=Dt(function(c,f,x){var T=_;if(x.length){var F=bi(x,qa(Ie));T|=P}return wa(c,T,f,x,F)}),Se=Dt(function(c,f,x){var T=_|S;if(x.length){var F=bi(x,qa(Se));T|=P}return wa(f,T,c,x,F)});function Ye(c,f,x){f=x?t:f;var T=wa(c,I,t,t,t,t,t,f);return T.placeholder=Ye.placeholder,T}function qe(c,f,x){f=x?t:f;var T=wa(c,A,t,t,t,t,t,f);return T.placeholder=qe.placeholder,T}function Qe(c,f,x){var T,F,U,K,ie,ue,_e=0,ke=!1,Ee=!1,We=!0;if(typeof c!="function")throw new wi(s);f=Sa(f)||0,Ur(x)&&(ke=!!x.leading,Ee="maxWait"in x,U=Ee?Xr(Sa(x.maxWait)||0,f):U,We="trailing"in x?!!x.trailing:We);function it(rn){var eo=T,Ml=F;return T=F=t,_e=rn,K=c.apply(Ml,eo),K}function ht(rn){return _e=rn,ie=_s(Wt,f),ke?it(rn):K}function Ot(rn){var eo=rn-ue,Ml=rn-_e,Hv=f-eo;return Ee?Tn(Hv,U-Ml):Hv}function pt(rn){var eo=rn-ue,Ml=rn-_e;return ue===t||eo>=f||eo<0||Ee&&Ml>=U}function Wt(){var rn=G();if(pt(rn))return Gt(rn);ie=_s(Wt,Ot(rn))}function Gt(rn){return ie=t,We&&T?it(rn):(T=F=t,K)}function ra(){ie!==t&&E0(ie),_e=0,T=ue=F=ie=t}function yi(){return ie===t?K:Gt(G())}function na(){var rn=G(),eo=pt(rn);if(T=arguments,F=this,ue=rn,eo){if(ie===t)return ht(ue);if(Ee)return E0(ie),ie=_s(Wt,f),it(ue)}return ie===t&&(ie=_s(Wt,f)),K}return na.cancel=ra,na.flush=yi,na}var Wr=Dt(function(c,f){return f0(c,1,f)}),de=Dt(function(c,f,x){return f0(c,Sa(f)||0,x)});function oe(c){return wa(c,V)}function pe(c,f){if(typeof c!="function"||f!=null&&typeof f!="function")throw new wi(s);var x=function(){var T=arguments,F=f?f.apply(this,T):T[0],U=x.cache;if(U.has(F))return U.get(F);var K=c.apply(this,T);return x.cache=U.set(F,K)||U,K};return x.cache=new(pe.Cache||_i),x}pe.Cache=_i;function Fe(c){if(typeof c!="function")throw new wi(s);return function(){var f=arguments;switch(f.length){case 0:return!c.call(this);case 1:return!c.call(this,f[0]);case 2:return!c.call(this,f[0],f[1]);case 3:return!c.call(this,f[0],f[1],f[2])}return!c.apply(this,f)}}function rt(c){return Me(2,c)}var ot=hh(function(c,f){f=f.length==1&&Mt(f[0])?Cr(f[0],di(st())):Cr(Rr(f,1),di(st()));var x=f.length;return Dt(function(T){for(var F=-1,U=Tn(T.length,x);++F<U;)T[F]=f[F].call(this,T[F]);return zn(c,this,T)})}),at=Dt(function(c,f){var x=bi(f,qa(at));return wa(c,P,t,f,x)}),dt=Dt(function(c,f){var x=bi(f,qa(dt));return wa(c,$,t,f,x)}),ln=_a(function(c,f){return wa(c,z,t,t,t,f)});function rr(c,f){if(typeof c!="function")throw new wi(s);return f=f===t?f:Ft(f),Dt(c,f)}function No(c,f){if(typeof c!="function")throw new wi(s);return f=f==null?0:Xr(Ft(f),0),Dt(function(x){var T=x[f],F=Ga(x,0,f);return T&&yo(F,T),zn(c,this,F)})}function Tf(c,f,x){var T=!0,F=!0;if(typeof c!="function")throw new wi(s);return Ur(x)&&(T="leading"in x?!!x.leading:T,F="trailing"in x?!!x.trailing:F),Qe(c,f,{leading:T,maxWait:f,trailing:F})}function Ay(c){return ge(c,1)}function Dy(c,f){return at(Du(f),c)}function Fy(){if(!arguments.length)return[];var c=arguments[0];return Mt(c)?c:[c]}function Oy(c){return ri(c,C)}function Ry(c,f){return f=typeof f=="function"?f:t,ri(c,C,f)}function Ny(c){return ri(c,v|C)}function zy(c,f){return f=typeof f=="function"?f:t,ri(c,v|C,f)}function Vy(c,f){return f==null||lc(c,f,On(f))}function Ja(c,f){return c===f||c!==c&&f!==f}var By=Bu(Eo),$y=Bu(function(c,f){return c>=f}),Dc=Su(function(){return arguments}())?Su:function(c){return Zr(c)&&tr.call(c,"callee")&&!cu.call(c,"callee")},Mt=fe.isArray,Wy=Gd?di(Gd):uh;function Di(c){return c!=null&&Uh(c.length)&&!kl(c)}function tn(c){return Zr(c)&&Di(c)}function Uy(c){return c===!0||c===!1||Zr(c)&&vn(c)==Re}var Ms=u0||Vf,Hy=Qn?di(Qn):Xa;function Yy(c){return Zr(c)&&c.nodeType===1&&!o1(c)}function Xy(c){if(c==null)return!0;if(Di(c)&&(Mt(c)||typeof c=="string"||typeof c.splice=="function"||Ms(c)||cd(c)||Dc(c)))return!c.length;var f=yn(c);if(f==Ge||f==Tt)return!c.size;if(Ka(c))return!ja(c).length;for(var x in c)if(tr.call(c,x))return!1;return!0}function jy(c,f){return Ti(c,f)}function Zy(c,f,x){x=typeof x=="function"?x:t;var T=x?x(c,f):t;return T===t?Ti(c,f,t,x):!!T}function If(c){if(!Zr(c))return!1;var f=vn(c);return f==Te||f==ve||typeof c.message=="string"&&typeof c.name=="string"&&!o1(c)}function Gy(c){return typeof c=="number"&&rs(c)}function kl(c){if(!Ur(c))return!1;var f=vn(c);return f==Ne||f==tt||f==Ve||f==cr}function Ev(c){return typeof c=="number"&&c==Ft(c)}function Uh(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=Z}function Ur(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}function Zr(c){return c!=null&&typeof c=="object"}var Tv=rl?di(rl):dh;function qy(c,f){return c===f||hs(c,f,wc(f))}function Ky(c,f,x){return x=typeof x=="function"?x:t,hs(c,f,wc(f),x)}function Qy(c){return Iv(c)&&c!=+c}function Jy(c){if(hf(c))throw new ft(o);return m0(c)}function e9(c){return c===null}function t9(c){return c==null}function Iv(c){return typeof c=="number"||Zr(c)&&vn(c)==gt}function o1(c){if(!Zr(c)||vn(c)!=mt)return!1;var f=Xi(c);if(f===null)return!0;var x=tr.call(f,"constructor")&&f.constructor;return typeof x=="function"&&x instanceof x&&Ks.call(x)==lu}var Lf=Qc?di(Qc):uc;function r9(c){return Ev(c)&&c>=-Z&&c<=Z}var Lv=Gl?di(Gl):xa;function Hh(c){return typeof c=="string"||!Mt(c)&&Zr(c)&&vn(c)==fr}function ta(c){return typeof c=="symbol"||Zr(c)&&vn(c)==nn}var cd=O1?di(O1):dc;function n9(c){return c===t}function i9(c){return Zr(c)&&yn(c)==lr}function a9(c){return Zr(c)&&vn(c)==At}var o9=Bu(To),l9=Bu(function(c,f){return c<=f});function Pv(c){if(!c)return[];if(Di(c))return Hh(c)?hi(c):Bn(c);if($a&&c[$a])return ef(c[$a]());var f=yn(c),x=f==Ge?nu:f==Tt?xo:ud;return x(c)}function Sl(c){if(!c)return c===0?c:0;if(c=Sa(c),c===q||c===-q){var f=c<0?-1:1;return f*re}return c===c?c:0}function Ft(c){var f=Sl(c),x=f%1;return f===f?x?f-x:f:0}function Av(c){return c?Ua(Ft(c),0,H):0}function Sa(c){if(typeof c=="number")return c;if(ta(c))return ee;if(Ur(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=Ur(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=$1(c);var x=co.test(c);return x||Zo.test(c)?qc(c.slice(2),x?2:8):Bl.test(c)?ee:+c}function Dv(c){return Zi(c,Fi(c))}function s9(c){return c?Ua(Ft(c),-Z,Z):c===0?c:0}function pr(c){return c==null?"":ni(c)}var c9=ys(function(c,f){if(Ka(f)||Di(f)){Zi(f,On(f),c);return}for(var x in f)tr.call(f,x)&&ul(c,x,f[x])}),Fv=ys(function(c,f){Zi(f,Fi(f),c)}),Yh=ys(function(c,f,x,T){Zi(f,Fi(f),c,T)}),u9=ys(function(c,f,x,T){Zi(f,On(f),c,T)}),d9=_a(bu);function h9(c,f){var x=ls(c);return f==null?x:Mr(x,f)}var p9=Dt(function(c,f){c=hr(c);var x=-1,T=f.length,F=T>2?f[2]:t;for(F&&Wn(f[0],f[1],F)&&(T=1);++x<T;)for(var U=f[x],K=Fi(U),ie=-1,ue=K.length;++ie<ue;){var _e=K[ie],ke=c[_e];(ke===t||Ja(ke,da[_e])&&!tr.call(c,_e))&&(c[_e]=U[_e])}return c}),f9=Dt(function(c){return c.push(t,R0),zn(Ov,t,c)});function g9(c,f){return N1(c,st(f,3),gi)}function v9(c,f){return N1(c,st(f,3),Mo)}function m9(c,f){return c==null?c:wu(c,st(f,3),Fi)}function y9(c,f){return c==null?c:cc(c,st(f,3),Fi)}function x9(c,f){return c&&gi(c,st(f,3))}function C9(c,f){return c&&Mo(c,st(f,3))}function b9(c){return c==null?[]:ds(c,On(c))}function w9(c){return c==null?[]:ds(c,Fi(c))}function Pf(c,f,x){var T=c==null?t:Ha(c,f);return T===t?x:T}function _9(c,f){return c!=null&&$0(c,f,Mi)}function Af(c,f){return c!=null&&$0(c,f,hl)}var k9=yh(function(c,f,x){f!=null&&typeof f.toString!="function"&&(f=Qs.call(f)),c[f]=x},Ff(Oi)),S9=yh(function(c,f,x){f!=null&&typeof f.toString!="function"&&(f=Qs.call(f)),tr.call(c,f)?c[f].push(x):c[f]=[x]},st),M9=Dt(Ei);function On(c){return Di(c)?fa(c):ja(c)}function Fi(c){return Di(c)?fa(c,!0):y0(c)}function E9(c,f){var x={};return f=st(f,3),gi(c,function(T,F,U){va(x,f(T,F,U),T)}),x}function T9(c,f){var x={};return f=st(f,3),gi(c,function(T,F,U){va(x,F,f(T,F,U))}),x}var I9=ys(function(c,f,x){pl(c,f,x)}),Ov=ys(function(c,f,x,T){pl(c,f,x,T)}),L9=_a(function(c,f){var x={};if(c==null)return x;var T=!1;f=Cr(f,function(U){return U=ba(U,c),T||(T=U.length>1),U}),Zi(c,Cc(c),x),T&&(x=ri(x,v|m|C,N0));for(var F=f.length;F--;)Pu(x,f[F]);return x});function P9(c,f){return Rv(c,Fe(st(f)))}var A9=_a(function(c,f){return c==null?{}:b0(c,f)});function Rv(c,f){if(c==null)return{};var x=Cr(Cc(c),function(T){return[T]});return f=st(f),Io(c,x,function(T,F){return f(T,F[0])})}function D9(c,f,x){f=ba(f,c);var T=-1,F=f.length;for(F||(F=1,c=t);++T<F;){var U=c==null?t:c[Qi(f[T])];U===t&&(T=F,U=x),c=kl(U)?U.call(c):U}return c}function F9(c,f,x){return c==null?c:gl(c,f,x)}function O9(c,f,x,T){return T=typeof T=="function"?T:t,c==null?c:gl(c,f,x,T)}var Nv=F0(On),zv=F0(Fi);function R9(c,f,x){var T=Mt(c),F=T||Ms(c)||cd(c);if(f=st(f,4),x==null){var U=c&&c.constructor;F?x=T?new U:[]:Ur(c)?x=kl(U)?ls(Xi(c)):{}:x={}}return(F?En:gi)(c,function(K,ie,ue){return f(x,K,ie,ue)}),x}function N9(c,f){return c==null?!0:Pu(c,f)}function z9(c,f,x){return c==null?c:M0(c,f,Du(x))}function V9(c,f,x,T){return T=typeof T=="function"?T:t,c==null?c:M0(c,f,Du(x),T)}function ud(c){return c==null?[]:Gs(c,On(c))}function B9(c){return c==null?[]:Gs(c,Fi(c))}function $9(c,f,x){return x===t&&(x=f,f=t),x!==t&&(x=Sa(x),x=x===x?x:0),f!==t&&(f=Sa(f),f=f===f?f:0),Ua(Sa(c),f,x)}function W9(c,f,x){return f=Sl(f),x===t?(x=f,f=0):x=Sl(x),c=Sa(c),v0(c,f,x)}function U9(c,f,x){if(x&&typeof x!="boolean"&&Wn(c,f,x)&&(f=x=t),x===t&&(typeof f=="boolean"?(x=f,f=t):typeof c=="boolean"&&(x=c,c=t)),c===t&&f===t?(c=0,f=1):(c=Sl(c),f===t?(f=c,c=0):f=Sl(f)),c>f){var T=c;c=f,f=T}if(x||c%1||f%1){var F=rc();return Tn(c+F*(f-c+jd("1e-"+((F+"").length-1))),f)}return fs(c,f)}var H9=vl(function(c,f,x){return f=f.toLowerCase(),c+(x?Vv(f):f)});function Vv(c){return Df(pr(c).toLowerCase())}function Bv(c){return c=pr(c),c&&c.replace(Ns,H1).replace(Ys,"")}function Y9(c,f,x){c=pr(c),f=ni(f);var T=c.length;x=x===t?T:Ua(Ft(x),0,T);var F=x;return x-=f.length,x>=0&&c.slice(x,F)==f}function X9(c){return c=pr(c),c&&zr.test(c)?c.replace(ar,Y1):c}function j9(c){return c=pr(c),c&&dr.test(c)?c.replace(xr,"\\$&"):c}var Z9=vl(function(c,f,x){return c+(x?"-":"")+f.toLowerCase()}),G9=vl(function(c,f,x){return c+(x?" ":"")+f.toLowerCase()}),q9=P0("toLowerCase");function K9(c,f,x){c=pr(c),f=Ft(f);var T=f?nl(c):0;if(!f||T>=f)return c;var F=(f-T)/2;return yc(Co(F),x)+c+yc(al(F),x)}function Q9(c,f,x){c=pr(c),f=Ft(f);var T=f?nl(c):0;return f&&T<f?c+yc(f-T,x):c}function J9(c,f,x){c=pr(c),f=Ft(f);var T=f?nl(c):0;return f&&T<f?yc(f-T,x)+c:c}function e3(c,f,x){return x||f==null?f=0:f&&(f=+f),eh(pr(c).replace(Kr,""),f||0)}function t3(c,f,x){return(x?Wn(c,f,x):f===t)?f=1:f=Ft(f),fl(pr(c),f)}function r3(){var c=arguments,f=pr(c[0]);return c.length<3?f:f.replace(c[1],c[2])}var n3=vl(function(c,f,x){return c+(x?"_":"")+f.toLowerCase()});function i3(c,f,x){return x&&typeof x!="number"&&Wn(c,f,x)&&(f=x=t),x=x===t?H:x>>>0,x?(c=pr(c),c&&(typeof f=="string"||f!=null&&!Lf(f))&&(f=ni(f),!f&&Ql(c))?Ga(hi(c),0,x):c.split(f,x)):[]}var a3=vl(function(c,f,x){return c+(x?" ":"")+Df(f)});function o3(c,f,x){return c=pr(c),x=x==null?0:Ua(Ft(x),0,c.length),f=ni(f),c.slice(x,x+f.length)==f}function l3(c,f,x){var T=R.templateSettings;x&&Wn(c,f,x)&&(f=t),c=pr(c),f=Yh({},f,T,O0);var F=Yh({},f.imports,T.imports,O0),U=On(F),K=Gs(F,U),ie,ue,_e=0,ke=f.interpolate||Go,Ee="__p += '",We=qs((f.escape||Go).source+"|"+ke.source+"|"+(ke===It?ui:Go).source+"|"+(f.evaluate||Go).source+"|$","g"),it="//# sourceURL="+(tr.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zc+"]")+`
`;c.replace(We,function(pt,Wt,Gt,ra,yi,na){return Gt||(Gt=ra),Ee+=c.slice(_e,na).replace($c,X1),Wt&&(ie=!0,Ee+=`' +
__e(`+Wt+`) +
'`),yi&&(ue=!0,Ee+=`';
`+yi+`;
__p += '`),Gt&&(Ee+=`' +
((__t = (`+Gt+`)) == null ? '' : __t) +
'`),_e=na+pt.length,pt}),Ee+=`';
`;var ht=tr.call(f,"variable")&&f.variable;if(!ht)Ee=`with (obj) {
`+Ee+`
}
`;else if(oa.test(ht))throw new ft(u);Ee=(ue?Ee.replace($t,""):Ee).replace(Yt,"$1").replace(gr,"$1;"),Ee="function("+(ht||"obj")+`) {
`+(ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(ue?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ee+`return __p
}`;var Ot=Wv(function(){return er(U,it+"return "+Ee).apply(t,K)});if(Ot.source=Ee,If(Ot))throw Ot;return Ot}function s3(c){return pr(c).toLowerCase()}function c3(c){return pr(c).toUpperCase()}function u3(c,f,x){if(c=pr(c),c&&(x||f===t))return $1(c);if(!c||!(f=ni(f)))return c;var T=hi(c),F=hi(f),U=W1(T,F),K=a0(T,F)+1;return Ga(T,U,K).join("")}function d3(c,f,x){if(c=pr(c),c&&(x||f===t))return c.slice(0,au(c)+1);if(!c||!(f=ni(f)))return c;var T=hi(c),F=a0(T,hi(f))+1;return Ga(T,0,F).join("")}function h3(c,f,x){if(c=pr(c),c&&(x||f===t))return c.replace(Kr,"");if(!c||!(f=ni(f)))return c;var T=hi(c),F=W1(T,hi(f));return Ga(T,F).join("")}function p3(c,f){var x=W,T=Q;if(Ur(f)){var F="separator"in f?f.separator:F;x="length"in f?Ft(f.length):x,T="omission"in f?ni(f.omission):T}c=pr(c);var U=c.length;if(Ql(c)){var K=hi(c);U=K.length}if(x>=U)return c;var ie=x-nl(T);if(ie<1)return T;var ue=K?Ga(K,0,ie).join(""):c.slice(0,ie);if(F===t)return ue+T;if(K&&(ie+=ue.length-ie),Lf(F)){if(c.slice(ie).search(F)){var _e,ke=ue;for(F.global||(F=qs(F.source,pr(so.exec(F))+"g")),F.lastIndex=0;_e=F.exec(ke);)var Ee=_e.index;ue=ue.slice(0,Ee===t?ie:Ee)}}else if(c.indexOf(ni(F),ie)!=ie){var We=ue.lastIndexOf(F);We>-1&&(ue=ue.slice(0,We))}return ue+T}function f3(c){return c=pr(c),c&&Gn.test(c)?c.replace(ur,j1):c}var g3=vl(function(c,f,x){return c+(x?" ":"")+f.toUpperCase()}),Df=P0("toUpperCase");function $v(c,f,x){return c=pr(c),f=x?t:f,f===t?Jp(c)?nf(c):qp(c):c.match(f)||[]}var Wv=Dt(function(c,f){try{return zn(c,t,f)}catch(x){return If(x)?x:new ft(x)}}),v3=_a(function(c,f){return En(f,function(x){x=Qi(x),va(c,x,Ie(c[x],c))}),c});function m3(c){var f=c==null?0:c.length,x=st();return c=f?Cr(c,function(T){if(typeof T[1]!="function")throw new wi(s);return[x(T[0]),T[1]]}):[],Dt(function(T){for(var F=-1;++F<f;){var U=c[F];if(zn(U[0],this,T))return zn(U[1],this,T)}})}function y3(c){return lh(ri(c,v))}function Ff(c){return function(){return c}}function x3(c,f){return c==null||c!==c?f:c}var C3=zu(),b3=zu(!0);function Oi(c){return c}function Of(c){return ps(typeof c=="function"?c:ri(c,v))}function w3(c){return Eu(ri(c,v))}function _3(c,f){return Lr(c,ri(f,v))}var k3=Dt(function(c,f){return function(x){return Ei(x,c,f)}}),S3=Dt(function(c,f){return function(x){return Ei(c,x,f)}});function Rf(c,f,x){var T=On(f),F=ds(f,T);x==null&&!(Ur(f)&&(F.length||!T.length))&&(x=f,f=c,c=this,F=ds(f,On(f)));var U=!(Ur(x)&&"chain"in x)||!!x.chain,K=kl(c);return En(F,function(ie){var ue=f[ie];c[ie]=ue,K&&(c.prototype[ie]=function(){var _e=this.__chain__;if(U||_e){var ke=c(this.__wrapped__),Ee=ke.__actions__=Bn(this.__actions__);return Ee.push({func:ue,args:arguments,thisArg:c}),ke.__chain__=_e,ke}return ue.apply(c,yo([this.value()],arguments))})}),c}function M3(){return Ir._===this&&(Ir._=q1),this}function Nf(){}function E3(c){return c=Ft(c),Dt(function(f){return Tu(f,c)})}var T3=Vu(Cr),I3=Vu(Kd),L3=Vu(e0);function Uv(c){return Ze(c)?r0(Qi(c)):Dr(c)}function P3(c){return function(f){return c==null?t:Ha(c,f)}}var A3=D0(),D3=D0(!0);function zf(){return[]}function Vf(){return!1}function F3(){return{}}function O3(){return""}function R3(){return!0}function N3(c,f){if(c=Ft(c),c<1||c>Z)return[];var x=H,T=Tn(c,H);f=st(f),c-=H;for(var F=i0(T,f);++x<c;)f(x);return F}function z3(c){return Mt(c)?Cr(c,Qi):ta(c)?[c]:Bn(Y0(pr(c)))}function V3(c){var f=++ts;return pr(c)+f}var B3=mc(function(c,f){return c+f},0),$3=mn("ceil"),W3=mc(function(c,f){return c/f},1),U3=mn("floor");function H3(c){return c&&c.length?dl(c,Oi,Eo):t}function Y3(c,f){return c&&c.length?dl(c,st(f,2),Eo):t}function X3(c){return V1(c,Oi)}function j3(c,f){return V1(c,st(f,2))}function Z3(c){return c&&c.length?dl(c,Oi,To):t}function G3(c,f){return c&&c.length?dl(c,st(f,2),To):t}var q3=mc(function(c,f){return c*f},1),K3=mn("round"),Q3=mc(function(c,f){return c-f},0);function J3(c){return c&&c.length?n0(c,Oi):0}function e6(c,f){return c&&c.length?n0(c,st(f,2)):0}return R.after=ne,R.ary=ge,R.assign=c9,R.assignIn=Fv,R.assignInWith=Yh,R.assignWith=u9,R.at=d9,R.before=Me,R.bind=Ie,R.bindAll=v3,R.bindKey=Se,R.castArray=Fy,R.chain=td,R.chunk=ju,R.compact=X0,R.concat=Pi,R.cond=m3,R.conforms=y3,R.constant=Ff,R.countBy=zh,R.create=h9,R.curry=Ye,R.curryRight=qe,R.debounce=Qe,R.defaults=p9,R.defaultsDeep=f9,R.defer=Wr,R.delay=de,R.difference=Zt,R.differenceBy=on,R.differenceWith=jr,R.drop=Cn,R.dropRight=mi,R.dropRightWhile=ks,R.dropWhile=en,R.fill=Mc,R.filter=id,R.flatMap=i1,R.flatMapDeep=kf,R.flatMapDepth=$h,R.flatten=Zu,R.flattenDeep=Tc,R.flattenDepth=ii,R.flip=oe,R.flow=C3,R.flowRight=b3,R.fromPairs=j0,R.functions=b9,R.functionsIn=w9,R.groupBy=a1,R.initial=Gu,R.intersection=Z0,R.intersectionBy=Do,R.intersectionWith=qu,R.invert=k9,R.invertBy=S9,R.invokeMap=Wh,R.iteratee=Of,R.keyBy=Sf,R.keys=On,R.keysIn=Fi,R.map=_l,R.mapKeys=E9,R.mapValues=T9,R.matches=w3,R.matchesProperty=_3,R.memoize=pe,R.merge=I9,R.mergeWith=Ov,R.method=k3,R.methodOf=S3,R.mixin=Rf,R.negate=Fe,R.nthArg=E3,R.omit=L9,R.omitBy=P9,R.once=rt,R.orderBy=Mf,R.over=T3,R.overArgs=ot,R.overEvery=I3,R.overSome=L3,R.partial=at,R.partialRight=dt,R.partition=Ac,R.pick=A9,R.pickBy=Rv,R.property=Uv,R.propertyOf=P3,R.pull=Ku,R.pullAll=Lc,R.pullAllBy=Hn,R.pullAllWith=Oo,R.pullAt=Ji,R.range=A3,R.rangeRight=D3,R.rearg=ln,R.reject=a,R.remove=ai,R.rest=rr,R.reverse=Qu,R.sampleSize=g,R.set=F9,R.setWith=O9,R.shuffle=y,R.slice=q0,R.sortBy=O,R.sortedUniq=J0,R.sortedUniqBy=Cl,R.split=i3,R.spread=No,R.tail=Ph,R.take=Ah,R.takeRight=e1,R.takeRightWhile=Ju,R.takeWhile=ff,R.tap=bf,R.throttle=Tf,R.thru=ea,R.toArray=Pv,R.toPairs=Nv,R.toPairsIn=zv,R.toPath=z3,R.toPlainObject=Dv,R.transform=R9,R.unary=Ay,R.union=gf,R.unionBy=Dh,R.unionWith=Fh,R.uniq=bl,R.uniqBy=vf,R.uniqWith=Ss,R.unset=N9,R.unzip=ed,R.unzipWith=Fr,R.update=z9,R.updateWith=V9,R.values=ud,R.valuesIn=B9,R.without=mf,R.words=$v,R.wrap=Dy,R.xor=Oh,R.xorBy=yf,R.xorWith=xf,R.zip=Rh,R.zipObject=Nh,R.zipObjectDeep=Cf,R.zipWith=Ai,R.entries=Nv,R.entriesIn=zv,R.extend=Fv,R.extendWith=Yh,Rf(R,R),R.add=B3,R.attempt=Wv,R.camelCase=H9,R.capitalize=Vv,R.ceil=$3,R.clamp=$9,R.clone=Oy,R.cloneDeep=Ny,R.cloneDeepWith=zy,R.cloneWith=Ry,R.conformsTo=Vy,R.deburr=Bv,R.defaultTo=x3,R.divide=W3,R.endsWith=Y9,R.eq=Ja,R.escape=X9,R.escapeRegExp=j9,R.every=Vh,R.find=ad,R.findIndex=Ao,R.findKey=g9,R.findLast=Bh,R.findLastIndex=Ec,R.findLastKey=v9,R.floor=U3,R.forEach=od,R.forEachRight=Pc,R.forIn=m9,R.forInRight=y9,R.forOwn=x9,R.forOwnRight=C9,R.get=Pf,R.gt=By,R.gte=$y,R.has=_9,R.hasIn=Af,R.head=yl,R.identity=Oi,R.includes=ld,R.indexOf=Qa,R.inRange=W9,R.invoke=M9,R.isArguments=Dc,R.isArray=Mt,R.isArrayBuffer=Wy,R.isArrayLike=Di,R.isArrayLikeObject=tn,R.isBoolean=Uy,R.isBuffer=Ms,R.isDate=Hy,R.isElement=Yy,R.isEmpty=Xy,R.isEqual=jy,R.isEqualWith=Zy,R.isError=If,R.isFinite=Gy,R.isFunction=kl,R.isInteger=Ev,R.isLength=Uh,R.isMap=Tv,R.isMatch=qy,R.isMatchWith=Ky,R.isNaN=Qy,R.isNative=Jy,R.isNil=t9,R.isNull=e9,R.isNumber=Iv,R.isObject=Ur,R.isObjectLike=Zr,R.isPlainObject=o1,R.isRegExp=Lf,R.isSafeInteger=r9,R.isSet=Lv,R.isString=Hh,R.isSymbol=ta,R.isTypedArray=cd,R.isUndefined=n9,R.isWeakMap=i9,R.isWeakSet=a9,R.join=Fo,R.kebabCase=Z9,R.last=Un,R.lastIndexOf=Ic,R.lowerCase=G9,R.lowerFirst=q9,R.lt=o9,R.lte=l9,R.max=H3,R.maxBy=Y3,R.mean=X3,R.meanBy=j3,R.min=Z3,R.minBy=G3,R.stubArray=zf,R.stubFalse=Vf,R.stubObject=F3,R.stubString=O3,R.stubTrue=R3,R.multiply=q3,R.nth=G0,R.noConflict=M3,R.noop=Nf,R.now=G,R.pad=K9,R.padEnd=Q9,R.padStart=J9,R.parseInt=e3,R.random=U9,R.reduce=Ef,R.reduceRight=sd,R.repeat=t3,R.replace=r3,R.result=D9,R.round=K3,R.runInContext=ce,R.sample=l,R.size=k,R.snakeCase=n3,R.some=E,R.sortedIndex=K0,R.sortedIndexBy=pf,R.sortedIndexOf=Ro,R.sortedLastIndex=Lh,R.sortedLastIndexBy=Q0,R.sortedLastIndexOf=xl,R.startCase=a3,R.startsWith=o3,R.subtract=Q3,R.sum=J3,R.sumBy=e6,R.template=l3,R.times=N3,R.toFinite=Sl,R.toInteger=Ft,R.toLength=Av,R.toLower=s3,R.toNumber=Sa,R.toSafeInteger=s9,R.toString=pr,R.toUpper=c3,R.trim=u3,R.trimEnd=d3,R.trimStart=h3,R.truncate=p3,R.unescape=f3,R.uniqueId=V3,R.upperCase=g3,R.upperFirst=Df,R.each=od,R.eachRight=Pc,R.first=yl,Rf(R,function(){var c={};return gi(R,function(f,x){tr.call(R.prototype,x)||(c[x]=f)}),c}(),{chain:!1}),R.VERSION=n,En(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){R[c].placeholder=R}),En(["drop","take"],function(c,f){St.prototype[c]=function(x){x=x===t?1:Xr(Ft(x),0);var T=this.__filtered__&&!f?new St(this):this.clone();return T.__filtered__?T.__takeCount__=Tn(x,T.__takeCount__):T.__views__.push({size:Tn(x,H),type:c+(T.__dir__<0?"Right":"")}),T},St.prototype[c+"Right"]=function(x){return this.reverse()[c](x).reverse()}}),En(["filter","map","takeWhile"],function(c,f){var x=f+1,T=x==J||x==j;St.prototype[c]=function(F){var U=this.clone();return U.__iteratees__.push({iteratee:st(F,3),type:x}),U.__filtered__=U.__filtered__||T,U}}),En(["head","last"],function(c,f){var x="take"+(f?"Right":"");St.prototype[c]=function(){return this[x](1).value()[0]}}),En(["initial","tail"],function(c,f){var x="drop"+(f?"":"Right");St.prototype[c]=function(){return this.__filtered__?new St(this):this[x](1)}}),St.prototype.compact=function(){return this.filter(Oi)},St.prototype.find=function(c){return this.filter(c).head()},St.prototype.findLast=function(c){return this.reverse().find(c)},St.prototype.invokeMap=Dt(function(c,f){return typeof c=="function"?new St(this):this.map(function(x){return Ei(x,c,f)})}),St.prototype.reject=function(c){return this.filter(Fe(st(c)))},St.prototype.slice=function(c,f){c=Ft(c);var x=this;return x.__filtered__&&(c>0||f<0)?new St(x):(c<0?x=x.takeRight(-c):c&&(x=x.drop(c)),f!==t&&(f=Ft(f),x=f<0?x.dropRight(-f):x.take(f-c)),x)},St.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},St.prototype.toArray=function(){return this.take(H)},gi(St.prototype,function(c,f){var x=/^(?:filter|find|map|reject)|While$/.test(f),T=/^(?:head|last)$/.test(f),F=R[T?"take"+(f=="last"?"Right":""):f],U=T||/^find/.test(f);F&&(R.prototype[f]=function(){var K=this.__wrapped__,ie=T?[1]:arguments,ue=K instanceof St,_e=ie[0],ke=ue||Mt(K),Ee=function(Wt){var Gt=F.apply(R,yo([Wt],ie));return T&&We?Gt[0]:Gt};ke&&x&&typeof _e=="function"&&_e.length!=1&&(ue=ke=!1);var We=this.__chain__,it=!!this.__actions__.length,ht=U&&!We,Ot=ue&&!it;if(!U&&ke){K=Ot?K:new St(this);var pt=c.apply(K,ie);return pt.__actions__.push({func:ea,args:[Ee],thisArg:t}),new In(pt,We)}return ht&&Ot?c.apply(this,ie):(pt=this.thru(Ee),ht?T?pt.value()[0]:pt.value():pt)})}),En(["pop","push","shift","sort","splice","unshift"],function(c){var f=Va[c],x=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",T=/^(?:pop|shift)$/.test(c);R.prototype[c]=function(){var F=arguments;if(T&&!this.__chain__){var U=this.value();return f.apply(Mt(U)?U:[],F)}return this[x](function(K){return f.apply(Mt(K)?K:[],F)})}}),gi(St.prototype,function(c,f){var x=R[f];if(x){var T=x.name+"";tr.call(as,T)||(as[T]=[]),as[T].push({name:f,func:x})}}),as[Cs(t,S).name]=[{name:"wrapper",func:t}],St.prototype.clone=vu,St.prototype.reverse=h0,St.prototype.value=ss,R.prototype.at=rd,R.prototype.chain=wl,R.prototype.commit=nd,R.prototype.next=t1,R.prototype.plant=wf,R.prototype.reverse=n1,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=_f,R.prototype.first=R.prototype.head,$a&&(R.prototype[$a]=r1),R},Jl=af();ua?((ua.exports=Jl)._=Jl,Zs._=Jl):Ir._=Jl}).call(Al)})(Cp,Cp.exports);var Je=Cp.exports;function r5(e,r,t){const n=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],i=e.length;let o=0;for(;o<i;){const s=e[o];n[0]=Math.max(s[r]??Number.MIN_SAFE_INTEGER,n[0]),n[1]=Math.min(s[t]??Number.MAX_SAFE_INTEGER,n[1]),++o}return n}const yk=/\\(\\)?/g,xk=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function qr(e,r,t){if(wr(e)){const n=[];r.replace(xk,(u,...d)=>{let h=u;return wr(d[1])?h=d[2].replace(yk,"$1"):wr(d[0])&&(h=d[0].trim()),n.push(h),""});let i=e,o=0;const s=n.length;for(;wr(i)&&o<s;)i=i==null?void 0:i[n[o++]];return wr(i)?i:t??"--"}return t??"--"}function wr(e){return e!=null}function Cm(e,r,t,n){const i=new Path2D;if(r.length>1){i.moveTo(r[0],n);for(let o=0;o<r.length;o++)i.lineTo(r[o],t[o]);i.lineTo(r[r.length-1],n)}return i}function Ls(e,r,t,n,i){if(r.length===0)return;const o=e.canvas;e.save(),e.fillStyle=i,e.clip(Cm(e,r,t,o.height)),e.fill(Cm(e,r,n,0)),e.restore()}function ia(e,r){const t=[],n=2/(r+1);let i=0;for(let o=0;o<r;o++)i+=e[o];i/=r,t[r-1]=i;for(let o=r;o<e.length;o++){const s=(e[o]-t[o-1])*n+t[o-1];t[o]=s}for(let o=0;o<r-1;o++)t[o]=t[r-1];return t}function n5(e,r){const t=[];for(let n=0;n<e.length;n++){if(n<r-1){t[n]=0;continue}let i=0;for(let o=0;o<r;o++)i+=e[n-o];t[n]=i/r}return t}function Ps(e){if(e.startsWith("rgb(")){const o=e.match(/\d+/g);if(o&&o.length===3)return{r:parseInt(o[0]),g:parseInt(o[1]),b:parseInt(o[2])}}let r=e.replace(/^#/,"");if(!/^[0-9A-Fa-f]{6}$/.test(r))return{r:233,g:30,b:99};const t=parseInt(r.substring(0,2),16),n=parseInt(r.substring(2,4),16),i=parseInt(r.substring(4,6),16);return{r:t,g:n,b:i}}function Ck(){return{target:{color:"#279d8233"},loss:{color:"#f2385a33"},midLine:{color:"#76808F80",size:1},targetText:{backgroundColor:"#279d82"},lossText:{backgroundColor:"#f2385a"}}}function zo(e,r,t){if(t==="top"){if(!Je.isNumber(e.value)||!Je.isNumber(r.value))return;e.value<r.value&&(e.value=r.value)}else if(t==="bottom"){if(!Je.isNumber(e.value)||!Je.isNumber(r.value))return;e.value>r.value&&(e.value=r.value)}else t==="vertical"?(e.timestamp=r.timestamp,e.dataIndex=r.dataIndex):e.value=r.value}function bm(e,r){return{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),width:Math.abs(e.x-r.x),height:Math.abs(e.y-r.y)}}function bk(e){return({coordinates:r,overlay:t,yAxis:n,xAxis:i})=>{var o,s,u,d,h;if(!wr(n)||!wr(i))return[];if(r.length<2)return[];const p=[];return p.push({type:"rect",attrs:bm(r[0],r[1]),styles:e?(o=t.styles)==null?void 0:o.target:(s=t.styles)==null?void 0:s.loss}),p.push({type:"line",attrs:{coordinates:[{x:r[0].x,y:r[1].y},r[1]]},styles:(u=t.styles)==null?void 0:u.midLine}),wr(r[2])&&p.push({type:"rect",attrs:bm(r[1],r[2]),styles:e?(d=t.styles)==null?void 0:d.loss:(h=t.styles)==null?void 0:h.target}),p}}function wk(e){return({chart:r,coordinates:t,overlay:n,yAxis:i,xAxis:o})=>{var s,u,d,h,p,v;if(!wr(i)||!wr(o))return[];if(t.length<3)return[];if(n.currentStep!==-1)return[];const m=n.extendData;if(!m.hovered&&!m.selected)return[];const C=r.getLocale(),b=n.points;if(!Je.isNumber(b[0].value)||!Je.isNumber(b[1].value)||!Je.isNumber(b[2].value)||!Je.isNumber(b[0].timestamp)||!Je.isNumber(b[1].timestamp)||!Je.isNumber(b[2].timestamp))return[];let w=0;i.isInCandle()?w=((s=r.getSymbol())==null?void 0:s.pricePrecision)??2:r.getIndicators({paneId:n.paneId}).forEach(W=>{w=Math.max(w,W.precision)});const _=[],S=(o.convertTimestampToPixel(b[0].timestamp)+o.convertTimestampToPixel(b[1].timestamp))/2,M=r.getDecimalFold().format(r.getThousandsSeparator().format((b[0].value-b[1].value).toFixed(w))),I=100*(b[0].value/b[1].value-1),A=L(e?"target":"loss",C);_.push({type:"text",attrs:{x:S,y:t[0].y,text:`${A}${M} (${I.toFixed(2)}%)`,baseline:"bottom",align:"center"},styles:e?(u=n.styles)==null?void 0:u.targetText:(d=n.styles)==null?void 0:d.lossText});const P=r.getDecimalFold().format(r.getThousandsSeparator().format((b[1].value-b[2].value).toFixed(w))),$=-100*(b[2].value/b[1].value-1),D=L(e?"loss":"target",C);_.push({type:"text",attrs:{x:S,y:t[2].y,text:`${D}${P} (${$.toFixed(2)}%)`,baseline:"top",align:"center"},styles:e?(h=n.styles)==null?void 0:h.lossText:(p=n.styles)==null?void 0:p.targetText});const z=e?I/$:$/I;if(!Je.isNumber(z)||z<=0)return _;const V=L("riskReward",C);return _.push({type:"text",attrs:{x:S,y:t[1].y,text:`${V}${z.toFixed(2)}`,baseline:"middle",align:"center"},styles:(v=n.styles)==null?void 0:v.targetText}),_}}function i5(e){return r=>{const t=bk(e)(r),n=wk(e)(r);return[...t,...n]}}const a5={styles:Ck(),totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,extendData:{hovered:!1,selected:!1},onMouseEnter:({overlay:e})=>{const r=e.extendData;return r.hovered=!0,!0},onMouseLeave:({overlay:e})=>{const r=e.extendData;return r.hovered=!1,!0},onSelected:({overlay:e})=>{const r=e.extendData;return r.selected=!0,!0},onDeselected:({overlay:e})=>{const r=e.extendData;return r.selected=!1,!0},performEventPressedMove:({points:e,performPoint:r,performPointIndex:t})=>{t===0?(zo(r,e[1],"top"),zo(e[2],r,"vertical")):t===1?(zo(r,e[0],"bottom"),zo(r,e[2],"top")):t===2&&(zo(r,e[1],"bottom"),zo(e[0],r,"vertical"))},performEventMoveForDrawing:({points:e,performPoint:r,currentStep:t})=>{t===2?zo(r,e[0],"bottom"):t===3&&(zo(r,e[1],"bottom"),e[1].timestamp===r.timestamp?zo(r,e[0],"vertical"):zo(e[0],r,"vertical"))}},_k={name:"longPosition",createPointFigures:i5(!0),...a5},kk={name:"shortPosition",createPointFigures:i5(!1),...a5},Sk=[ek,tk,rk,ik,nk,ak,ok,lk,sk,ck,uk,dk,hk,pk,fk,gk,vk,mk,_k,kk],o5={isMainIndicator:!0,isSubIndicator:!1,name:"volumeBars",shortName:"Volume",zLevel:-1,figures:[],styles:{bars:[{upColor:"rgba(0, 252, 0, 0.8)",downColor:"rgba(252, 0, 0, 0.8)",noChangeColor:"rgba(128, 128, 128, 0.8)"}],custom:[{opacity:.3}]},calc:e=>e.map(r=>({volume:r.volume,close:r.close,open:r.open})),draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i})=>{const{realFrom:o,realTo:s}=r.getVisibleRange(),{gapBar:u,halfGapBar:d}=r.getBarSpace(),{result:h}=t;let p=0;for(let C=o;C<s;C++){const b=h[C];b&&(p=Math.max(p,b.volume))}const v=n.height*.4,m=Dd("rect");for(let C=o;C<s;C++){const b=h[C];if(b){const w=Math.round(b.volume/p*v),_=Mk(b.open<b.close?t.styles.bars[0].upColor:b.open>b.close?t.styles.bars[0].downColor:t.styles.bars[0].noChangeColor,t.styles.custom[0].opacity);new m({name:"rect",attrs:{x:i.convertToPixel(C)-d,y:n.height-w,width:u,height:w},styles:{color:_}}).draw(e)}}return!0}};function Mk(e,r){return e.replace(/rgba\((\d+), (\d+), (\d+), (.+)\)/,`rgba($1, $2, $3, ${r})`)}const l5={isMainIndicator:!0,isSubIndicator:!1,name:"Volume Profile Fixed Range",shortName:"Vol Profile",zLevel:-1,figures:[],calcParams:[{name:"Value Area Percentage",type:"number",value:.7,min:0,max:1}],styles:{lines:[{color:"#87CEFA",size:1,style:"dashed"},{color:"#ff0000",size:3},{color:"#87CEFA",size:1,style:"dashed"}],bars:[{upColor:"rgb(255,127,80)",downColor:"rgba(0, 128, 0, 0.8)"}]},calc:(e,r)=>e,createTooltipDataSource:({chart:e,indicator:r,crosshair:t})=>{var n,i,o;const s=r.result[t.dataIndex];return console.log(t.realX),s?{legends:[{title:"POC",value:{text:s.pocPrice.toFixed(2),color:"blue"}},{title:"Value Area Low",value:{text:s.valueAreaLowPrice.toFixed(2),color:"green"}},{title:"Value Area High",value:{text:s.valueAreaHighPrice.toFixed(2),color:((o=(i=(n=r==null?void 0:r.styles)==null?void 0:n.lines)==null?void 0:i[0])==null?void 0:o.color)??"white"}}]}:{}},draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s,u,d,h,p,v,m,C,b,w,_,S,M,I,A,P,$,D,z,V,W,Q,se,X,J,le,j,q,Z,re,ee,H,B,he;const{realFrom:Ce,realTo:be}=r.getVisibleRange(),{gapBar:xe,halfGapBar:Ve}=r.getBarSpace(),Re=Object.values(t.result).slice(Ce,be);let Ae=Math.max(40,Math.min(200,Math.floor(Re.length/5)*2));n.height/Ae<xe+2&&(Ae=Math.floor(n.height/(xe+1)));const ve=new Array(Ae).fill(0),Te=Math.min(...Re.map(At=>At.low)),Ne=(Math.max(...Re.map(At=>At.high))-Te)/Ae,tt=Dd("line"),Ge=Dd("rect");Re.forEach(At=>{if(At.volume===void 0)return;const Ht=Math.max(0,Math.min(Ae-1,Math.floor((At.low-Te)/Ne))),Qt=Math.max(0,Math.min(Ae-1,Math.floor((At.high-Te)/Ne))),Hr=At.high-At.low;for(let sr=Ht;sr<=Qt;sr++){const Or=Te+sr*Ne,kt=Or+Ne,Be=Math.max(At.low,Or),bt=Math.min(At.high,kt)-Be;if(bt>0){const yt=bt/Hr;ve[sr]+=At.volume*yt}}});const gt=ve.indexOf(Math.max(...ve)),vt=Te+(gt+.5)*Ne,mt=ve.reduce((At,Ht)=>At+Ht,0),nr=typeof((s=t.calcParams)==null?void 0:s[0])=="object"&&t.calcParams[0]!==null&&"value"in t.calcParams[0]?Number(t.calcParams[0].value):.7,cr=mt*nr;let Kt=0,Tt=0,fr=ve.length-1;for(let At=gt;At>=0;At--)if(Kt+=ve[At],Kt>cr/2){Tt=At;break}Kt=0;for(let At=gt;At<ve.length;At++)if(Kt+=ve[At],Kt>cr/2){fr=At;break}const nn=Te+Tt*Ne,fn=Te+(fr+1)*Ne,lr={volumeProfile:ve,pocPrice:vt,valueAreaLowPrice:nn,valueAreaHighPrice:fn};if(lr.volumeProfile=ve,lr.pocPrice=vt,lr.valueAreaHighPrice=fn,lr.valueAreaLowPrice=nn,lr.volumeProfile[0]!==void 0){new tt({name:"line",styles:{style:(h=(d=(u=t==null?void 0:t.styles)==null?void 0:u.lines)==null?void 0:d[1])==null?void 0:h.style,color:(m=(v=(p=t==null?void 0:t.styles)==null?void 0:p.lines)==null?void 0:v[1])==null?void 0:m.color,size:(w=(b=(C=t==null?void 0:t.styles)==null?void 0:C.lines)==null?void 0:b[1])==null?void 0:w.size},attrs:{coordinates:[{x:i.convertToPixel(Ce),y:o.convertToPixel(lr.pocPrice)},{x:i.convertToPixel(be),y:o.convertToPixel(lr.pocPrice)}]}}).draw(e),new tt({name:"line",styles:{style:(M=(S=(_=t==null?void 0:t.styles)==null?void 0:_.lines)==null?void 0:S[0])==null?void 0:M.style,color:(P=(A=(I=t==null?void 0:t.styles)==null?void 0:I.lines)==null?void 0:A[0])==null?void 0:P.color,size:(z=(D=($=t==null?void 0:t.styles)==null?void 0:$.lines)==null?void 0:D[0])==null?void 0:z.size},attrs:{coordinates:[{x:i.convertToPixel(Ce),y:o.convertToPixel(lr.valueAreaLowPrice)},{x:i.convertToPixel(be),y:o.convertToPixel(lr.valueAreaLowPrice)}]}}).draw(e),new tt({name:"line",styles:{style:(Q=(W=(V=t==null?void 0:t.styles)==null?void 0:V.lines)==null?void 0:W[2])==null?void 0:Q.style,color:(J=(X=(se=t==null?void 0:t.styles)==null?void 0:se.lines)==null?void 0:X[2])==null?void 0:J.color,size:(q=(j=(le=t==null?void 0:t.styles)==null?void 0:le.lines)==null?void 0:j[2])==null?void 0:q.size},attrs:{coordinates:[{x:i.convertToPixel(Ce),y:o.convertToPixel(lr.valueAreaHighPrice)},{x:i.convertToPixel(be),y:o.convertToPixel(lr.valueAreaHighPrice)}]}}).draw(e);let At=0;const Ht=n.height*.4;for(let Qt=0;Qt<lr.volumeProfile.length;Qt++)At=Math.max(At,lr.volumeProfile[Qt]);for(let Qt=0;Qt<ve.length;Qt++){const Hr=Math.round(ve[Qt]/At*Ht),sr=o.convertToPixel(Te+Qt*Ne),Or=Qt>=Tt&&Qt<=fr?((ee=(re=(Z=t==null?void 0:t.styles)==null?void 0:Z.bars)==null?void 0:re[0])==null?void 0:ee.upColor)??"rgb(255,127,80)":((he=(B=(H=t==null?void 0:t.styles)==null?void 0:H.bars)==null?void 0:B[0])==null?void 0:he.downColor)??"rgba(0, 128, 0, 0.8)";new Ge({name:"rect",attrs:{x:n.width-Hr,y:sr-Ve,width:Hr,height:Math.min(17,xe)},styles:{color:Or}}).draw(e)}}return!0}},Ek={isMainIndicator:!1,isSubIndicator:!0,name:"WR",shortName:"WR",calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:10},{name:"period3",type:"number",value:14}],styles:{lines:[{color:"#A020F0",size:1},{color:"#FFD700",size:1},{color:"#FF6E6E",size:1}]},figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`wr${t+1}`,title:`WR${t+1}: `,type:"line"})),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t;return e.reduce((o,s,u)=>{const d={},h=s.close;return i.forEach((p,v)=>{const m=p.value-1;if(u>=m){const C=r5(e.slice(u-m,u+1),"high","low"),b=C[0],w=C[1],_=b-w,S=n[v].key;d[S]=_===0?0:(h-b)/_*100}}),Object.keys(d).length>0&&(o[s.timestamp]=d),o},{})}},Tk={isMainIndicator:!1,isSubIndicator:!0,name:"TRIX",shortName:"TRIX",calcParams:[{name:"period",type:"number",value:12},{name:"maPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0;const p={};return e.reduce((v,m,C)=>{var b;const w=m.close;if(n+=w,C>=t[0].value-1&&(C>t[0].value-1?i=(2*w+(t[0].value-1)*i)/(t[0].value+1):i=n/t[0].value,u+=i,C>=t[0].value*2-2&&(C>t[0].value*2-2?o=(2*i+(t[0].value-1)*o)/(t[0].value+1):o=u/t[0].value,d+=o,C>=t[0].value*3-3))){let _=0,S=0;C>t[0].value*3-3?(_=(2*o+(t[0].value-1)*s)/(t[0].value+1),S=(_-s)/s*100):_=d/t[0].value,s=_,p[m.timestamp]=S,h+=S;const M={trix:S};if(C>=t[0].value*3+t[1].value-4){M.maTrix=h/t[1].value;const I=(b=e[C-(t[1].value-1)])==null?void 0:b.timestamp;h-=p[I]??0}v[m.timestamp]=M}return v},{})}};function wm(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&n&&(n.close>n.open?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.close<n.open&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}}const Ik={isMainIndicator:!1,isSubIndicator:!0,name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},wm()],regenerateFigures:e=>{const r=e.map((t,n)=>({key:`ma${n+1}`,title:`MA${t}: `,type:"line"}));return r.push(wm()),r},calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[];return e.reduce((s,u,d)=>{const h=u.volume??0,p={volume:h,open:u.open,close:u.close};return i.forEach((v,m)=>{if(o[m]=(o[m]??0)+h,d>=v-1){const C=n[m].key;p[C]=o[m]/v,o[m]-=e[d-(v-1)].volume??0}}),s[u.timestamp]=p,s},{})}},Lk={isMainIndicator:!1,isSubIndicator:!0,name:"VR",shortName:"VR",calcParams:[{name:"params_1",type:"number",value:26},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#FF6E6E",size:2},{color:"#FFD700",size:4}]},figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;return e.reduce((u,d,h)=>{var p;const v={},m=d.close,C=(e[h-1]??d).close,b=d.volume??0;if(m>C?n+=b:m<C?i+=b:o+=b,h>=t[0].value-1){const w=o/2;i+w===0?v.vr=0:v.vr=(n+w)/(i+w)*100,s+=v.vr,h>=t[0].value+t[1].value-2&&(v.maVr=s/t[1].value,s-=((p=u[e[h-(t[1].value-1)].timestamp])==null?void 0:p.vr)??0);const _=e[h-(t[0].value-1)],S=e[h-t[0].value]??_,M=_.close,I=_.volume??0;M>S.close?n-=I:M<S.close?i-=I:o-=I,u[d.timestamp]=v}return u},{})}},Pk={isMainIndicator:!1,isSubIndicator:!0,name:"KDJ",shortName:"KDJ",calcParams:[{name:"period",type:"number",value:9},{name:"dPeriod",type:"number",value:3},{name:"jPeriod",type:"number",value:3}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n={};return e.reduce((i,o,s)=>{var u;const d=o.close;if(s>=t[0].value-1){const h=r5(e.slice(s-(t[0].value-1),s+1),"high","low"),p=h[0],v=h[1],m=p-v,C=(d-v)/(m===0?1:m)*100,b=(u=e[s-1])==null?void 0:u.timestamp,w=b?n[b]:void 0,_=((t[1].value-1)*((w==null?void 0:w.k)??50)+C)/t[1].value,S=((t[2].value-1)*((w==null?void 0:w.d)??50)+_)/t[2].value,M=3*_-2*S,I={k:_,d:S,j:M};n[o.timestamp]=I,i[o.timestamp]=I}return i},{})}},Ak={isMainIndicator:!0,isSubIndicator:!1,name:"SAR",shortName:"SAR",series:"price",calcParams:[{name:"startAf",type:"number",value:2},{name:"step",type:"number",value:2},{name:"maxAf",type:"number",value:20}],precision:2,shouldOhlc:!0,styles:{circles:[{upColor:"#FF7F50",downColor:"#A020F0",noChangeColor:"#A8A8A8"}]},figures:[{key:"sar",title:"SAR: ",type:"circle",styles:({data:e,indicator:r,defaultStyles:t})=>{const{current:n}=e,i=(n==null?void 0:n.sar)??Number.MIN_SAFE_INTEGER,o=(((n==null?void 0:n.high)??0)+((n==null?void 0:n.low)??0))/2;return{color:i<o?qr(r.styles,"circles[0].upColor",t.circles[0].upColor):qr(r.styles,"circles[0].downColor",t.circles[0].downColor)}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value/100,i=t[1].value/100,o=t[2].value/100;let s=n,u=-100,d=!1,h=0;return e.reduce((p,v,m)=>{const C=h,b=v.high,w=v.low;if(d){(u===-100||u<b)&&(u=b,s=Math.min(s+i,o)),h=C+s*(u-C);const _=Math.min(e[Math.max(1,m)-1].low,w);h>v.low?(h=u,s=n,u=-100,d=!d):h>_&&(h=_)}else{(u===-100||u>w)&&(u=w,s=Math.min(s+i,o)),h=C+s*(u-C);const _=Math.max(e[Math.max(1,m)-1].high,b);h<v.high?(h=u,s=0,u=-100,d=!d):h<_&&(h=_)}return p[v.timestamp]={high:b,low:w,sar:h},p},{})}},Dk={isMainIndicator:!1,isSubIndicator:!0,name:"ROC",shortName:"ROC",calcParams:[{name:"period",type:"number",value:12},{name:"maPeriod",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0;const i={};return e.reduce((o,s,u)=>{var d;if(u>=t[0].value-1){const h=s.close,p=(e[u-t[0].value]??e[u-(t[0].value-1)]).close;let v=0;p!==0&&(v=(h-p)/p*100),i[s.timestamp]=v,n+=v;const m={roc:v};if(u>=t[0].value-1+t[1].value-1){m.maRoc=n/t[1].value;const C=(d=e[u-(t[1].value-1)])==null?void 0:d.timestamp;n-=i[C]??0}o[s.timestamp]=m}return o},{})}},Fk={isMainIndicator:!1,isSubIndicator:!0,name:"RSI",shortName:"RSI",calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:12},{name:"period3",type:"number",value:24}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>{const n=t+1;return{key:`rsi${n}`,title:`RSI${n}: `,type:"line"}}),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[],s=[];return e.reduce((u,d,h)=>{const p={},v=(e[h-1]??d).close,m=d.close-v;return i.forEach((C,b)=>{if(m>0?o[b]=(o[b]??0)+m:s[b]=(s[b]??0)+Math.abs(m),h>=C.value-1){const w=n[b].key;s[b]!==0?p[w]=100-100/(1+o[b]/s[b]):p[w]=0;const _=e[h-(C.value-1)],S=e[h-C.value]??_,M=_.close-S.close;M>0?o[b]-=M:s[b]-=Math.abs(M)}}),Object.keys(p).length>0&&(u[d.timestamp]=p),u},{})}},Ok={isMainIndicator:!0,isSubIndicator:!1,name:"SMA",shortName:"SMA",series:"price",calcParams:[{name:"period1",type:"number",value:12},{name:"period2",type:"number",value:2}],precision:2,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;return e.reduce((o,s,u)=>{const d=s.close;return n+=d,u>=t[0].value-1&&(u>t[0].value-1?i=(d*t[1].value+i*(t[0].value-t[1].value+1))/(t[0].value+1):i=n/t[0].value,o[s.timestamp]={sma:i}),o},{})}},Rk={isMainIndicator:!1,isSubIndicator:!0,name:"PVT",shortName:"PVT",precision:2,styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:e=>{let r=0;return e.reduce((t,n,i)=>{const o=n.close,s=n.volume??0;if(!o||o<=0)return t;if(i===0)return r=0,t[n.timestamp]={pvt:0},t;const u=e[i-1].close;if(!u||u<=0)return t;const d=(o-u)/u*s;return r+=d,t[n.timestamp]={pvt:Number(r.toFixed(2))},t},{})}},Nk={isMainIndicator:!1,isSubIndicator:!0,name:"PSY",shortName:"PSY",calcParams:[{name:"params_1",type:"number",value:12},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;const o=[],s=[];return e.reduce((u,d,h)=>{const p={},v=(e[h-1]??d).close,m=d.close-v>0?1:0;return o.push(m),n+=m,h>=t[0].value-1&&(p.psy=n/t[0].value*100,i+=p.psy,h>=t[0].value+t[1].value-2&&(p.maPsy=i/t[1].value,i-=s[h-(t[1].value-1)].psy??0),n-=o[h-(t[0].value-1)]),s.push(p),u[d.timestamp]=p,u},{})}},zk={isMainIndicator:!0,isSubIndicator:!1,name:"MA",shortName:"MA",series:"price",calcParams:[{name:"ma1",type:"number",value:5},{name:"ma2",type:"number",value:10},{name:"ma3",type:"number",value:30},{name:"ma4",type:"number",value:60}],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`ma${t+1}`,title:`MA${r.value}: `,type:"line"})),calc:(e,r)=>{const t=r.calcParams,n=[];return e.reduce((i,o,s)=>{const u={},d=o.close;return t.forEach((h,p)=>{if(n[p]=(n[p]??0)+d,s>=h.value-1){const v=r.figures[p].key;u[v]=n[p]/h.value,n[p]-=e[s-(h.value-1)].close}}),Object.keys(u).length>0&&(i[o.timestamp]=u),i},{})}},Vk={isMainIndicator:!1,isSubIndicator:!0,name:"MTM",shortName:"MTM",calcParams:[{name:"params_1",type:"number",value:12},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0;const i={};return e.reduce((o,s,u)=>{var d;if(u>=t[0].value){const h=s.close,p=e[u-t[0].value].close,v=h-p;i[s.timestamp]=v,n+=v;const m={mtm:v};if(u>=t[0].value+t[1].value-1){m.maMtm=n/t[1].value;const C=(d=e[u-(t[1].value-1)])==null?void 0:d.timestamp;n-=i[C]??0}o[s.timestamp]=m}return o},{})}},Bk={isMainIndicator:!1,isSubIndicator:!0,name:"DMI",shortName:"DMI",calcParams:[{name:"period",type:"number",value:14},{name:"adxrPeriod",type:"number",value:6}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,p=0;const v={};return e.reduce((m,C,b)=>{var w;const _=e[b-1]??C,S=_.close,M=C.high,I=C.low,A=M-I,P=Math.abs(M-S),$=Math.abs(S-I),D=M-_.high,z=_.low-I,V=Math.max(Math.max(A,P),$),W=D>0&&D>z?D:0,Q=z>0&&z>D?z:0;if(n+=V,i+=W,o+=Q,b>=t[0].value-1){b>t[0].value-1?(s=s-s/t[0].value+V,u=u-u/t[0].value+W,d=d-d/t[0].value+Q):(s=n,u=i,d=o);let se=0,X=0;s!==0&&(se=u*100/s,X=d*100/s);let J=0;if(X+se!==0&&(J=Math.abs(X-se)/(X+se)*100),h+=J,b>=t[0].value*2-2){b>t[0].value*2-2?p=(p*(t[0].value-1)+J)/t[0].value:p=h/t[0].value,v[C.timestamp]=p;const le={pdi:se,mdi:X,adx:p};if(b>=t[0].value*2+t[1].value-3){const j=(w=e[b-(t[1].value-1)])==null?void 0:w.timestamp,q=v[j]??0;le.adxr=(q+p)/2}m[C.timestamp]=le}else m[C.timestamp]={pdi:se,mdi:X}}return m},{})}},$k={isMainIndicator:!1,isSubIndicator:!0,name:"EMV",shortName:"EMV",calcParams:[{name:"params_1",type:"number",value:14},{name:"params_2",type:"number",value:9}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0;const i=[],o={};return e.reduce((s,u,d)=>{if(d>0){const h=e[d-1],p=u.high,v=u.low,m=u.volume??0,C=(p+v)/2-(h.high+h.low)/2;let b;if(m===0||p-v===0)b=0;else{const _=m/1e8/(p-v);b=C/_}o[u.timestamp]=b,n+=b,i.push(b);const w={emv:b};d>=t[0].value&&(w.maEmv=n/t[0].value,n-=i[d-t[0].value]),s[u.timestamp]=w}return s},{})}},Wk={isMainIndicator:!0,isSubIndicator:!1,name:"EMA",shortName:"EMA",series:"price",calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:12},{name:"period3",type:"number",value:20}],styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`ema${t+1}`,title:`EMA${r.value}: `,type:"line"})),calc:(e,r)=>{const t=r.calcParams;let n=0;const i=[];return e.reduce((o,s,u)=>{const d={},h=s.close;return n+=h,t.forEach((p,v)=>{if(u>=p.value-1){u>p.value-1?i[v]=(2*h+(p.value-1)*i[v])/(p.value+1):i[v]=n/p.value;const m=r.figures[v].key;d[m]=i[v]}}),Object.keys(d).length>0&&(o[s.timestamp]=d),o},{})}},Uk={isMainIndicator:!1,isSubIndicator:!0,name:"CR",shortName:"CR",calcParams:[{name:"cr",type:"number",value:26},{name:"ma1",type:"number",value:10},{name:"ma2",type:"number",value:20},{name:"ma3",type:"number",value:40},{name:"ma4",type:"number",value:60}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#FFFF00",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=Math.ceil(t[1].value/2.5+1),i=Math.ceil(t[2].value/2.5+1),o=Math.ceil(t[3].value/2.5+1),s=Math.ceil(t[4].value/2.5+1);let u=0;const d=[];let h=0;const p=[];let v=0;const m=[];let C=0;const b=[],w={};return e.reduce((_,S,M)=>{var I,A,P,$;const D=e[M-1]??S,z=(D.high+D.close+D.low+D.open)/4,V=Math.max(0,S.high-z),W=Math.max(0,z-S.low);if(M>=t[0].value-1){let Q;W!==0?Q=V/W*100:Q=0,w[S.timestamp]=Q,u+=Q,h+=Q,v+=Q,C+=Q;const se={cr:Q};if(M>=t[0].value+t[1].value-2){d.push(u/t[1].value),M>=t[0].value+t[1].value+n-3&&(se.ma1=d[d.length-1-n]);const X=(I=e[M-(t[1].value-1)])==null?void 0:I.timestamp;u-=w[X]??0}if(M>=t[0].value+t[2].value-2){p.push(h/t[2].value),M>=t[0].value+t[2].value+i-3&&(se.ma2=p[p.length-1-i]);const X=(A=e[M-(t[2].value-1)])==null?void 0:A.timestamp;h-=w[X]??0}if(M>=t[0].value+t[3].value-2){m.push(v/t[3].value),M>=t[0].value+t[3].value+o-3&&(se.ma3=m[m.length-1-o]);const X=(P=e[M-(t[3].value-1)])==null?void 0:P.timestamp;v-=w[X]??0}if(M>=t[0].value+t[4].value-2){b.push(C/t[4].value),M>=t[0].value+t[4].value+s-3&&(se.ma4=b[b.length-1-s]);const X=($=e[M-(t[4].value-1)])==null?void 0:$.timestamp;C-=w[X]??0}_[S.timestamp]=se}return _},{})}},Hk={isMainIndicator:!1,isSubIndicator:!0,name:"DMA",shortName:"DMA",calcParams:[{name:"params_1",type:"number",value:10},{name:"params_2",type:"number",value:50},{name:"params_3",type:"number",value:10}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=Math.max(t[0].value,t[1].value);let i=0,o=0,s=0;const u={};return e.reduce((d,h,p)=>{var v;const m=h.close;i+=m,o+=m;let C=0,b=0;if(p>=t[0].value-1&&(C=i/t[0].value,i-=e[p-(t[0].value-1)].close),p>=t[1].value-1&&(b=o/t[1].value,o-=e[p-(t[1].value-1)].close),p>=n-1){const w=C-b;u[h.timestamp]=w,s+=w;const _={dma:w};if(p>=n+t[2].value-2){_.ama=s/t[2].value;const S=(v=e[p-(t[2].value-1)])==null?void 0:v.timestamp;s-=u[S]??0}d[h.timestamp]=_}return d},{})}},Yk={isMainIndicator:!0,isSubIndicator:!1,name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[{name:"period1",type:"number",value:3},{name:"period2",type:"number",value:6},{name:"period3",type:"number",value:12},{name:"period4",type:"number",value:24}],shouldOhlc:!0,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams.map(s=>s.value),n=Math.max(...t),i=[],o=[];return e.reduce((s,u,d)=>{const h=u.close;if(t.forEach((p,v)=>{i[v]=(i[v]??0)+h,d>=p-1&&(o[v]=i[v]/p,i[v]-=e[d-(p-1)].close)}),d>=n-1){let p=0;o.forEach(m=>{p+=m});const v={bbi:p/4};s[u.timestamp]=v}return s},{})}},Xk={isMainIndicator:!1,isSubIndicator:!0,name:"CCI",shortName:"CCI",calcParams:[{name:"period",type:"number",value:20}],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value-1;let i=0;const o=[];return e.reduce((s,u,d)=>{const h={},p=(u.high+u.low+u.close)/3;if(i+=p,o.push(p),d>=n){const v=i/t[0].value,m=o.slice(d-n,d+1);let C=0;m.forEach(_=>{C+=Math.abs(_-v)});const b=C/t[0].value;h.cci=b!==0?(p-v)/b/.015:0;const w=(e[d-n].high+e[d-n].low+e[d-n].close)/3;i-=w,s[u.timestamp]=h}return s},{})}},jk={isMainIndicator:!1,isSubIndicator:!0,name:"BIAS",shortName:"BIAS",calcParams:[{name:"bias1",type:"number",value:6},{name:"bias2",type:"number",value:12},{name:"bias3",type:"number",value:24}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`bias${t+1}`,title:`BIAS${r.value}: `,type:"line"})),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[];return e.reduce((s,u,d)=>{const h={},p=u.close;return i.forEach((v,m)=>{if(o[m]=(o[m]??0)+p,d>=v.value-1){const C=o[m]/v.value,b=n[m].key;h[b]=(p-C)/C*100,o[m]-=e[d-(v.value-1)].close}}),Object.keys(h).length>0&&(s[u.timestamp]=h),s},{})}};function Zk(e,r){const t=e.length;let n=0;return e.forEach(i=>{const o=i.close-r;n+=o*o}),n=Math.abs(n),Math.sqrt(n/t)}const Gk={isMainIndicator:!0,isSubIndicator:!1,name:"BOLL",shortName:"BOLL",series:"price",calcParams:[{name:"period",type:"number",value:20},{name:"standard_deviation",type:"number",value:2}],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value-1;let i=0;return e.reduce((o,s,u)=>{const d=s.close,h={};if(i+=d,u>=n){h.mid=i/t[0].value;const p=Zk(e.slice(u-n,u+1),h.mid);h.up=h.mid+t[1].value*p,h.dn=h.mid-t[1].value*p,i-=e[u-n].close,o[s.timestamp]=h}return o},{})}},qk={isMainIndicator:!1,isSubIndicator:!0,name:"BRAR",shortName:"BRAR",calcParams:[{name:"brar",type:"number",value:26}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0].value;let n=0,i=0,o=0,s=0;return e.reduce((u,d,h)=>{const p={},v=d.high,m=d.low,C=d.open,b=(e[h-1]??d).close;if(o+=v-C,s+=C-m,n+=v-b,i+=b-m,h>=t-1){s!==0?p.ar=o/s*100:p.ar=0,i!==0?p.br=n/i*100:p.br=0;const w=e[h-(t-1)],_=w.high,S=w.low,M=w.open,I=(e[h-t]??e[h-(t-1)]).close;n-=_-I,i-=I-S,o-=_-M,s-=M-S}return u[d.timestamp]=p,u},{})}},Kk={isMainIndicator:!0,isSubIndicator:!1,name:"Average Price",shortName:"AVP",series:"price",precision:2,styles:{lines:[{color:"#A020F0",size:1}]},figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:e=>e.reduce((r,t)=>{const n={};if((t.volume??0)!==0){const i=(t.high+t.low+t.close)/3;n.avp=i,r[t.timestamp]=n}return r},{})},Qk={isMainIndicator:!1,isSubIndicator:!0,name:"AO",shortName:"AO",calcParams:[{name:"shortPeriod",type:"number",value:5},{name:"longPeriod",type:"number",value:34}],styles:{bars:[{upColor:"rgba(0, 252, 0, 0.8)",downColor:"rgba(252, 0, 0, 0.8)"}]},figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const{prev:n,current:i}=e,o=(n==null?void 0:n.ao)??Number.MIN_SAFE_INTEGER,s=(i==null?void 0:i.ao)??Number.MIN_SAFE_INTEGER;let u="";s>o?r.styles&&(u=qr(r.styles,"bars[0].upColor",r.styles.bars[0].upColor)):r.styles&&(u=qr(r.styles,"bars[0].downColor",r.styles.bars[0].downColor));const d=s>o?"stroke":"fill";return{color:u,style:d,borderColor:u}}}],calc:(e,r)=>{const t=r.calcParams,n=Math.max(t[0].value,t[1].value);let i=0,o=0,s=0,u=0;return e.reduce((d,h,p)=>{const v={},m=(h.low+h.high)/2;if(i+=m,o+=m,p>=t[0].value-1){s=i/t[0].value;const C=e[p-(t[0].value-1)];i-=(C.low+C.high)/2}if(p>=t[1].value-1){u=o/t[1].value;const C=e[p-(t[1].value-1)];o-=(C.low+C.high)/2}return p>=n-1&&(v.ao=s-u,d[h.timestamp]=v),d},{})}},Jk={isMainIndicator:!0,isSubIndicator:!1,name:"WEMA",shortName:"WEMA",zLevel:0,series:"price",calcParams:[{name:"period",type:"number",value:14}],precision:2,figures:[{key:"WEMA",title:"WEMA: ",type:"line"}],styles:{lines:[{style:"solid",color:"yellow",size:1}]},shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams[0].value,n=1/t;let i=0,o=0;return e.reduce((s,u,d)=>{const h=u.close;return d<t?(o+=h,d===t-1&&(i=o/t,s[u.timestamp]={wema:i})):(i=(h-i)*n+i,s[u.timestamp]={wema:i}),s},{})},draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s;const{realFrom:u,realTo:d}=r.getVisibleRange(),{result:h}=t,p=Dd("line");for(let v=u;v<d;v++){const m=h[v];m&&new p({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(v),y:o.convertToPixel(m.wema)},{x:i.convertToPixel(v+1),y:o.convertToPixel((s=h[v+1])==null?void 0:s.wema)}]}}).draw(e)}return!0}},eS={name:"Volume Weighted Average Price",shortName:"VWAP",series:"price",calcParams:[{name:"anchorPeriod",type:"select",value:"Monthly",options:[{value:"None",label:"None"},{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarter",label:"Quarter"},{value:"Year",label:"Year"}]},{name:"source",type:"select",value:"HLC3",options:[{value:"Close",label:"Close"},{value:"HLC3",label:"HLC3"},{value:"HLC2",label:"HLC2"},{value:"Weighted",label:"Weighted"},{value:"Median",label:"Median"},{value:"Open",label:"Open"},{value:"High",label:"High"},{value:"OHLC4",label:"OHLC4"},{value:"HLCC4",label:"HLCC4"}]},{name:"offset",type:"number",value:0,min:-100,max:100},{name:"bandsMode",type:"select",value:"Standard Deviation",options:[{value:"Standard Deviation",label:"Standard Deviation"},{value:"Percentage",label:"Percentage"},{value:"Fixed",label:"Fixed"}]},{name:"bandsMultiplier",type:"select",value:"2",options:[{value:"0.5",label:"0.5"},{value:"1",label:"1.0"},{value:"1.5",label:"1.5"},{value:"2",label:"2.0"},{value:"2.5",label:"2.5"},{value:"3",label:"3.0"}]},{name:"showBands",type:"boolean",value:!0},{name:"showShading",type:"boolean",value:!0}],precision:2,isMainIndicator:!0,isSubIndicator:!1,styles:{lines:[{style:"solid",color:"#FF7F50",size:1},{style:"dashed",color:"#4CAF50",size:1},{style:"dashed",color:"#F44336",size:1}]},figures:[{key:"vwap",title:"VWAP: ",type:"line"},{key:"upperBand",title:"Upper: ",type:"line"},{key:"lowerBand",title:"Lower: ",type:"line"}],calc:(e,r)=>{var t,n,i,o,s;const u=[],d=r.calcParams,h=((t=d.find(I=>I.name==="anchorPeriod"))==null?void 0:t.value)??"None",p=((n=d.find(I=>I.name==="source"))==null?void 0:n.value)??"Close",v=((i=d.find(I=>I.name==="offset"))==null?void 0:i.value)??0,m=((o=d.find(I=>I.name==="bandsMode"))==null?void 0:o.value)??"Standard Deviation",C=Number(((s=d.find(I=>I.name==="bandsMultiplier"))==null?void 0:s.value)??"2"),b=[],w=[];let _=0,S=0;const M=14;for(let I=0;I<e.length;I++){const A=e[I];if(A.close===void 0||A.volume===void 0){u[I]={vwap:0};continue}let P;switch(p){case"Open":P=A.open;break;case"High":P=A.high;break;case"Close":P=A.close;break;case"HLC3":P=(A.high+A.low+A.close)/3;break;case"HLC2":P=(A.high+A.low)/2;break;case"OHLC4":P=(A.open+A.high+A.low+A.close)/4;break;case"HLCC4":P=(A.high+A.low+A.close+A.close)/4;break;case"Volume":P=A.volume;break;default:P=A.close}if(h!=="None"){const z=A.timestamp;let V=!1;switch(h){case"Daily":V=Math.floor(z/(24*60*60*1e3))!==Math.floor(S/(24*60*60*1e3));break;case"Weekly":V=Math.floor(z/(7*24*60*60*1e3))!==Math.floor(S/(7*24*60*60*1e3));break;case"Monthly":const W=new Date(z),Q=new Date(S);V=W.getMonth()!==Q.getMonth()||W.getFullYear()!==Q.getFullYear();break;case"Quarter":const se=new Date(z),X=new Date(S),J=Math.floor(se.getMonth()/3),le=Math.floor(X.getMonth()/3);V=J!==le||se.getFullYear()!==X.getFullYear();break;case"Year":const j=new Date(z),q=new Date(S);V=j.getFullYear()!==q.getFullYear();break}V&&(_=I,S=z)}const $=P*A.volume;b[I]=$,w[I]=A.volume;const D=h!=="None"?I-_+1:M;if(I>=(h!=="None"?_:M-1)){let z=0,V=0,W=0;for(let le=0;le<D;le++)z+=b[I-le],V+=w[I-le];const Q=V!==0?Number((z/V).toFixed(2)):0;u[I]={vwap:Q};for(let le=0;le<D;le++){const j=e[I-le];if(j.volume===void 0)continue;let q;switch(p){case"Open":q=j.open;break;case"High":q=j.high;break;case"Close":q=j.close;break;case"HLC3":q=(j.high+j.low+j.close)/3;break;case"HLC2":q=(j.high+j.low)/2;break;case"OHLC4":q=(j.open+j.high+j.low+j.close)/4;break;case"HLCC4":q=(j.high+j.low+j.close+j.close)/4;break;default:q=j.close}const Z=q-Q;W+=Z*Z*j.volume,V+=j.volume}const se=Math.sqrt(W/V);let X=Q,J=Q;switch(m){case"Standard Deviation":X=Q+se*C,J=Q-se*C;break;case"Percentage":const le=C/100;X=Q*(1+le),J=Q*(1-le);break;case"Fixed":X=Q+C,J=Q-C;break}if(v!==0){const le=I+v;if(le>=0&&le<u.length&&(u[le]={vwap:Q,upperBand:X,lowerBand:J},v>0))for(let j=I+1;j<le;j++)j<u.length&&(u[j]={vwap:Q,upperBand:X,lowerBand:J})}else u[I]={vwap:Q,upperBand:X,lowerBand:J}}else u[I]={vwap:0}}return u},shouldOhlc:!0,draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s,u,d,h,p;const{realFrom:v,realTo:m}=r.getVisibleRange(),{result:C}=t,b=Dd("line"),w=t.calcParams,_=((s=w.find(M=>M.name==="showBands"))==null?void 0:s.value)??!0,S=((u=w.find(M=>M.name==="showShading"))==null?void 0:u.value)??!1;for(let M=v;M<m;M++){const I=C[M];I&&I.vwap!==0&&new b({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(M),y:o.convertToPixel(I.vwap)},{x:i.convertToPixel(M+1),y:o.convertToPixel((d=C[M+1])==null?void 0:d.vwap)}]}}).draw(e)}if(_){const M=[],I=[],A=[];for(let P=v;P<=m;P++){const $=C[P];$&&$.upperBand!==void 0&&$.lowerBand!==void 0&&(M.push(i.convertToPixel(P)),I.push(o.convertToPixel($.upperBand)),A.push(o.convertToPixel($.lowerBand)))}if(S&&M.length>0){const P=[];for(let z=v;z<=m;z++){const V=C[z];V&&V.vwap!==0&&P.push(o.convertToPixel(V.vwap))}const $=Ps(t.styles.lines[1].color??"#4CAF50");Ls(e,M,I,P,`rgba(${$.r}, ${$.g}, ${$.b}, 0.1)`);const D=Ps(t.styles.lines[2].color??"#F44336");Ls(e,M,P,A,`rgba(${D.r}, ${D.g}, ${D.b}, 0.1)`)}for(let P=v;P<m;P++){const $=C[P];$&&$.vwap!==0&&$.upperBand!==void 0&&$.lowerBand!==void 0&&(new b({name:"line",styles:{style:t.styles.lines[1].style,color:t.styles.lines[1].color,size:t.styles.lines[1].size},attrs:{coordinates:[{x:i.convertToPixel(P),y:o.convertToPixel($.upperBand)},{x:i.convertToPixel(P+1),y:o.convertToPixel(((h=C[P+1])==null?void 0:h.upperBand)??$.upperBand)}]}}).draw(e),new b({name:"line",styles:{style:t.styles.lines[2].style,color:t.styles.lines[2].color,size:t.styles.lines[2].size},attrs:{coordinates:[{x:i.convertToPixel(P),y:o.convertToPixel($.lowerBand)},{x:i.convertToPixel(P+1),y:o.convertToPixel(((p=C[P+1])==null?void 0:p.lowerBand)??$.lowerBand)}]}}).draw(e))}}return!0}},tS={isMainIndicator:!1,isSubIndicator:!0,name:"ADL",shortName:"ADL",calcParams:[],styles:{lines:[{color:"#FF7F50",size:1}]},figures:[{key:"adl",title:"ADL: ",type:"line"}],calc:(e,r)=>{let t=0;return e.reduce((n,i,o)=>{const{high:s=0,low:u=0,close:d=0,volume:h=0}=i;if(!s||!u||!d||!h)return n[i.timestamp]={adl:t},n;let p=0;s!==u&&(p=(d-u-(s-d))/(s-u),p=Math.max(-1,Math.min(1,p)));const v=p*h;return t+=v,n[i.timestamp]={adl:Math.round(t)},n},{})}},rS={isMainIndicator:!1,isSubIndicator:!0,name:"Force Index",shortName:"FI",calcParams:[{name:"period",type:"number",value:13}],styles:{lines:[{color:"#5D69B1",size:1}]},figures:[{key:"fi",title:"FI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0];let n=0,i=2/(t.value+1);return e.reduce((o,s,u)=>{const{close:d=0,volume:h=0}=s,p=u>0?e[u-1].close:d,v=(d-p)*h;return u===0?n=v:n=(v-n)*i+n,o[s.timestamp]={fi:Math.round(n)},o},{})}},nS={isMainIndicator:!1,isSubIndicator:!0,name:"MFI",shortName:"MFI",calcParams:[{name:"period",type:"number",value:14}],precision:2,styles:{lines:[{style:"solid",color:"#FF7F50",size:1}]},figures:[{key:"mfi",title:"MFI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0].value,n=[];let i;return e.reduce((o,s,u)=>{const{high:d=0,low:h=0,close:p=0,volume:v=0}=s;if(!d||!h||!p||!v)return o;const m=(d+h+p)/3,C=m*v;if(i===void 0)return i=m,o;let b=0,w=0;if(m>i?b=C:m<i&&(w=C),n.push({positive:b,negative:w}),n.length>t&&n.shift(),n.length===t){const _=n.reduce((I,A)=>I+A.positive,0),S=n.reduce((I,A)=>I+A.negative,0);let M=50;S===0&&_>0?M=100:_===0&&S>0?M=0:S>0&&(M=100-100/(1+_/S)),o[s.timestamp]={mfi:Number(M.toFixed(r.precision))}}return i=m,o},{})}},iS={isMainIndicator:!1,isSubIndicator:!0,name:"OBV",shortName:"OBV",calcParams:[{name:"period",type:"number",value:30}],styles:{lines:[{color:"#A020F0",size:1},{color:"#007FFF",size:1}]},figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;return e.reduce((o,s,u)=>{var d;const h=e[u-1]??s;s.close<h.close?i-=s.volume??0:s.close>h.close&&(i+=s.volume??0);const p={obv:i};return n+=i,u>=t[0].value-1&&(p.maObv=n/t[0].value,n-=((d=o[e[u-(t[0].value-1)].timestamp])==null?void 0:d.obv)??0),o[s.timestamp]=p,o},{})}},aS={isMainIndicator:!0,isSubIndicator:!1,name:"Chandelier Exit",shortName:"CE",series:"price",calcParams:[{name:"period",type:"number",value:22},{name:"multiplier",type:"number",value:3}],precision:2,shouldOhlc:!0,styles:{lines:[{style:"solid",color:"#26A69A",size:1},{style:"solid",color:"#EF5350",size:1}]},figures:[{key:"exitLong",title:"Long Exit: ",type:"line"},{key:"exitShort",title:"Short Exit: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value;let o=-1/0,s=1/0,u=0,d=e[0].close;return e.reduce((h,p,v)=>{const m=p,{high:C,low:b,close:w}=m,_=Math.max(C-b,Math.abs(C-d),Math.abs(b-d));if(u+=_,o=Math.max(o,C),s=Math.min(s,b),v>=n-1){const S=u/n,M=o-S*i,I=s+S*i;h[p.timestamp]={exitLong:M,exitShort:I};const A=v-(n-1),P=e[A],$=Math.max(P.high-P.low,Math.abs(P.high-(A>0?e[A-1].close:P.close)),Math.abs(P.low-(A>0?e[A-1].close:P.close)));u-=$,o=C,s=b;for(let D=0;D<n;D++){const z=e[v-D];o=Math.max(o,z.high),s=Math.min(s,z.low)}}return d=w,h},{})}},oS={isMainIndicator:!0,isSubIndicator:!1,name:"Keltner Channels",shortName:"KC",series:"price",calcParams:[{name:"maPeriod",type:"number",value:20},{name:"atrPeriod",type:"number",value:10},{name:"multiplier",type:"number",value:1},{name:"useSMA",type:"boolean",value:!1}],precision:2,shouldOhlc:!0,styles:{lines:[{style:"solid",color:"#FF0000",size:1},{style:"solid",color:"#4DB6AC",size:1},{style:"solid",color:"#4DB6AC",size:1}]},figures:[{key:"middle",title:"Middle: ",type:"line"},{key:"upper",title:"Upper: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=t[3].value,u=[];let d=0,h=0;const p=2/(n+1);let v=0,m=e[0].close;return e.reduce((C,b,w)=>{const _=b,{high:S,low:M,close:I}=_,A=Math.max(S-M,Math.abs(S-m),Math.abs(M-m));if(v+=A,d+=I,s?(u.push(I),u.length>n&&(d-=u[u.length-n-1])):w===0?h=I:h=(I-h)*p+h,w>=Math.max(n-1,i-1)){const P=s?d/Math.min(u.length,n):h,$=v/i;if(C[b.timestamp]={middle:P,upper:P+o*$,lower:P-o*$},w>=i){const D=w-i,z=e[D],V=Math.max(z.high-z.low,Math.abs(z.high-(D>0?e[D-1].close:z.close)),Math.abs(z.low-(D>0?e[D-1].close:z.close)));v-=V}}return m=I,C},{})}},lS={isMainIndicator:!0,isSubIndicator:!1,name:"WMA",shortName:"WMA",series:"price",calcParams:[{name:"period",type:"number",value:12}],precision:2,styles:{lines:[{color:"#B464EB"}]},figures:[{key:"wma",title:"WMA: ",type:"line"}],shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams[0].value,n=t*(t+1)/2;return e.reduce((i,o,s)=>{if(s>=t-1){let u=0;for(let d=0;d<t;d++)u+=e[s-d].close*(t-d);i[o.timestamp]={wma:u/n}}return i},{})}},sS={isMainIndicator:!0,isSubIndicator:!1,name:"Ichimoku Cloud",shortName:"IC",calcParams:[{name:"conversionPeriod",type:"number",value:9},{name:"basePeriod",type:"number",value:26},{name:"spanPeriod",type:"number",value:52},{name:"displacement",type:"number",value:26},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#32CD32",size:1},{color:"#FF4500",size:1},{color:"#1E90FF",size:1}]},figures:[{key:"conversion",title:"Conversion: ",type:"line"},{key:"base",title:"Base: ",type:"line"},{key:"spanA",title:"Span A: ",type:"line"},{key:"spanB",title:"Span B: ",type:"line"},{key:"laggingSpan",title:"Chikou: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=t[3].value,u=(p,v,m)=>{let C=-1/0,b=1/0;for(let w=Math.max(0,v-m+1);w<=v;w++)C=Math.max(C,p[w].high),b=Math.min(b,p[w].low);return{high:C,low:b}},d=[],h=[];return e.reduce((p,v,m)=>{const C={};if(m>=n-1){const{high:S,low:M}=u(e,m,n);C.conversion=(S+M)/2,d[m]=C.conversion}if(m>=i-1){const{high:S,low:M}=u(e,m,i);C.base=(S+M)/2,h[m]=C.base}const b=m-s;b>=0&&b>=Math.max(n,i)-1&&d[b]&&h[b]&&(C.spanA=(d[b]+h[b])/2);const w=m-s;if(w>=0&&w>=o-1){const{high:S,low:M}=u(e,w,o);C.spanB=(S+M)/2}const _=m+s;return _<e.length&&(C.laggingSpan=e[_].close),Object.keys(C).length>0&&(p[v.timestamp]=C),p},{})},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,p,v;const m=r.result;if(!m)return!1;const{from:C,to:b}=i.getVisibleRange(),w=i.getDataList(),_=[],S=[],M=[];for(let I=C;I<b;I++)if(I<w.length){const A=w[I],P=m[A.timestamp];P!=null&&(_.push(t.convertToPixel(I)),P.spanA!=null&&S.push(n.convertToPixel(P.spanA)),P.spanB!=null&&M.push(n.convertToPixel(P.spanB)))}if((((o=r.calcParams.find(I=>I.name==="showShading"))==null?void 0:o.value)??!0)&&_.length>0&&S.length>0&&M.length>0){const I=Ps(((d=(u=(s=r.styles)==null?void 0:s.lines)==null?void 0:u[2])==null?void 0:d.color)??"#32CD32");Ls(e,_,S,M,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`);const A=Ps(((v=(p=(h=r.styles)==null?void 0:h.lines)==null?void 0:p[3])==null?void 0:v.color)??"#FF4500");Ls(e,_,M,S,`rgba(${A.r}, ${A.g}, ${A.b}, 0.1)`)}return!1}},cS={isMainIndicator:!1,isSubIndicator:!0,name:"ATR",shortName:"ATR",series:"volume",calcParams:[{name:"period",type:"number",value:14}],precision:2,shouldOhlc:!1,styles:{lines:[{style:"solid",color:"#FF7F50",size:1}]},figures:[{key:"atr",title:"ATR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=e[0].close,i=0;const o=2/(t[0].value+1);let s=[];return e.reduce((u,d,h)=>{const{high:p,low:v,close:m}=d,C=Math.max(p-v,Math.abs(p-n),Math.abs(v-n));return s.push(C),h>=t[0].value-1&&(h===t[0].value-1?i=s.reduce((b,w)=>b+w,0)/t[0].value:i=(C-i)*o+i,u[d.timestamp]={atr:i}),n=m,u},{})}},uS={isMainIndicator:!1,isSubIndicator:!0,name:"ADXR",shortName:"ADXR",series:"volume",calcParams:[{name:"period",type:"number",value:14},{name:"adxrPeriod",type:"number",value:6}],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"adxr",title:"ADXR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,p=0;const v={};return e.reduce((m,C,b)=>{var w;const _=e[b-1]??C,S=_.close,M=C.high,I=C.low,A=M-I,P=Math.abs(M-S),$=Math.abs(S-I),D=M-_.high,z=_.low-I,V=Math.max(Math.max(A,P),$),W=D>0&&D>z?D:0,Q=z>0&&z>D?z:0;if(n+=V,i+=W,o+=Q,b>=t[0].value-1){b>t[0].value-1?(s=s-s/t[0].value+V,u=u-u/t[0].value+W,d=d-d/t[0].value+Q):(s=n,u=i,d=o);let se=0,X=0;s!==0&&(se=u*100/s,X=d*100/s);let J=0;if(X+se!==0&&(J=Math.abs(X-se)/(X+se)*100),h+=J,b>=t[0].value*2-2&&(b>t[0].value*2-2?p=(p*(t[0].value-1)+J)/t[0].value:p=h/t[0].value,v[C.timestamp]=p,b>=t[0].value*2+t[1].value-3)){const le=(w=e[b-(t[1].value-1)])==null?void 0:w.timestamp,j=((v[le]??0)+p)/2;m[C.timestamp]={adxr:j}}}return m},{})}},dS={isMainIndicator:!1,isSubIndicator:!0,name:"PDI",shortName:"PDI",series:"volume",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#00ff00",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;return e.reduce((u,d,h)=>{const p=e[h-1]??d,v=p.close,m=d.high,C=d.low,b=m-C,w=Math.abs(m-v),_=Math.abs(v-C),S=m-p.high,M=p.low-C,I=Math.max(Math.max(b,w),_),A=S>0&&S>M?S:0;if(n+=I,i+=A,h>=t[0].value-1&&(h>t[0].value-1?(o=o-o/t[0].value+I,s=s-s/t[0].value+A):(o=n,s=i),o!==0)){const P=s*100/o;u[d.timestamp]={pdi:P}}return u},{})}},hS={isMainIndicator:!1,isSubIndicator:!0,name:"MDI",shortName:"MDI",series:"volume",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"mdi",title:"MDI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;return e.reduce((u,d,h)=>{const p=e[h-1]??d,v=p.close,m=d.high,C=d.low,b=m-C,w=Math.abs(m-v),_=Math.abs(v-C),S=m-p.high,M=p.low-C,I=Math.max(Math.max(b,w),_),A=M>0&&M>S?M:0;if(n+=I,i+=A,h>=t[0].value-1&&(h>t[0].value-1?(o=o-o/t[0].value+I,s=s-s/t[0].value+A):(o=n,s=i),o!==0)){const P=s*100/o;u[d.timestamp]={mdi:P}}return u},{})}},pS={isMainIndicator:!1,isSubIndicator:!0,name:"ADX",shortName:"ADX",series:"volume",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"adx",title:"ADX: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,p=0;return e.reduce((v,m,C)=>{const b=e[C-1]??m,w=b.close,_=m.high,S=m.low,M=_-S,I=Math.abs(_-w),A=Math.abs(w-S),P=_-b.high,$=b.low-S,D=Math.max(Math.max(M,I),A),z=P>0&&P>$?P:0,V=$>0&&$>P?$:0;if(n+=D,i+=z,o+=V,C>=t[0].value-1){C>t[0].value-1?(s=s-s/t[0].value+D,u=u-u/t[0].value+z,d=d-d/t[0].value+V):(s=n,u=i,d=o);let W=0,Q=0;s!==0&&(W=u*100/s,Q=d*100/s);let se=0;Q+W!==0&&(se=Math.abs(Q-W)/(Q+W)*100),h+=se,C>=t[0].value*2-2&&(C>t[0].value*2-2?p=(p*(t[0].value-1)+se)/t[0].value:p=h/t[0].value,v[m.timestamp]={adx:p})}return v},{})}},fS={isMainIndicator:!1,isSubIndicator:!0,name:"TR",shortName:"TR",series:"volume",calcParams:[],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"tr",title:"TR: ",type:"line"}],calc:e=>{let r;return e.reduce((t,n)=>{const i=n.high,o=n.low,s=n.close;let u;return r===void 0?(r=s,u=i-o):(u=Math.max(i-o,Math.abs(i-r),Math.abs(o-r)),r=s),t[n.timestamp]={tr:u},t},{})}},gS={isMainIndicator:!0,isSubIndicator:!1,name:"WS",shortName:"WS",series:"volume",calcParams:[14],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"ws",title:"WS: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0];let n=0,i=1,o=0;return e.reduce((s,u)=>{const d=u.close;let h;return i<t?(i++,n+=d,h=n/i):i===t?(i++,n+=d,o=n/t,h=o):(o=(o*(t-1)+d)/t,h=o),s[u.timestamp]={ws:h},s},{})}},vS={isMainIndicator:!1,isSubIndicator:!0,name:"Chaikin Oscillator",shortName:"CO",series:"volume",calcParams:[{name:"shortPeriod",type:"number",value:3},{name:"longPeriod",type:"number",value:10}],styles:{lines:[{color:"#FF9800",size:1}]},figures:[{key:"co",title:"CO: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value;let o=0;const s=[];e.forEach(h=>{const p=h.high,v=h.low,m=h.close,C=h.volume??0;let b=0;p!==v&&(b=(m-v-(p-m))/(p-v));const w=b*C;o+=w,s.push(o)});const u=ia(s,n),d=ia(s,i);return e.reduce((h,p,v)=>(v>=i-1&&(h[p.timestamp]={co:u[v]-d[v]}),h),{})}},mS={isMainIndicator:!1,isSubIndicator:!0,name:"Percentage Price Oscillator",shortName:"PPO",series:"volume",calcParams:[{name:"fastPeriod",type:"number",value:12},{name:"slowPeriod",type:"number",value:26},{name:"signalPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF9800",size:1},{color:"#4CAF50",size:1}],bars:[{upColor:"#2196F3",downColor:"#FF5252"}]},figures:[{key:"ppo",title:"PPO: ",type:"line"},{key:"signal",title:"Signal: ",type:"line"},{key:"histogram",title:"Histogram: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&(n.histogram&&n.histogram>0?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.histogram&&n.histogram<0&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=e.map(v=>v.close),u=ia(s,n),d=ia(s,i),h=[];e.forEach((v,m)=>{if(m>=i-1){const C=(u[m]-d[m])/d[m]*100;h.push(C)}});const p=ia(h,o);return e.reduce((v,m,C)=>{if(C>=i-1){const b=(u[C]-d[C])/d[C]*100,w={ppo:b};C>=i+o-1&&(w.signal=p[C-(i-1)],w.histogram=b-w.signal),v[m.timestamp]=w}return v},{})}},yS={isMainIndicator:!1,isSubIndicator:!0,name:"Percentage Volume Oscillator",shortName:"PVO",series:"volume",calcParams:[{name:"shortPeriod",type:"number",value:12},{name:"longPeriod",type:"number",value:26},{name:"signalPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF9800",size:1},{color:"#4CAF50",size:1}],bars:[{upColor:"#2196F3",downColor:"#FF5252"}]},figures:[{key:"pvo",title:"PVO: ",type:"line"},{key:"signal",title:"Signal: ",type:"line"},{key:"histogram",title:"Histogram: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&(n.histogram&&n.histogram>0?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.histogram&&n.histogram<0&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=[],u=e.map(m=>m.volume),d=ia(u,n),h=ia(u,i),p=[];e.forEach((m,C)=>{if(C>=i-1){const b=(d[C]-h[C])/h[C]*100;p.push(b),s[C]={pvo:b}}else s[C]={}});const v=ia(p,o);return e.forEach((m,C)=>{C>=i+o-1&&(s[C].signal=v[C-(i-1)],s[C].pvo!==void 0&&(s[C].histogram=s[C].pvo-s[C].signal))}),s}},xS={isMainIndicator:!1,isSubIndicator:!0,name:"Qstick",shortName:"QS",series:"price",calcParams:[{name:"period",type:"number",value:20}],styles:{lines:[{color:"#2196F3",size:1}],bars:[{upColor:"#4CAF50",downColor:"#FF5252"}]},figures:[{key:"qstick",title:"Qstick: ",type:"line"},{key:"qstick",title:"Qstick: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&(n.qstick&&n.qstick>0?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.qstick&&n.qstick<0&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams[0].value,n=e.map(o=>o.close-o.open),i=n5(n,t);return e.reduce((o,s,u)=>(u>=t-1&&(o[s.timestamp]={qstick:i[u-(t-1)]}),o),{})}},CS={isMainIndicator:!1,isSubIndicator:!0,name:"Absolute Price Oscillator",shortName:"APO",series:"price",calcParams:[{name:"fastPeriod",type:"number",value:14},{name:"slowPeriod",type:"number",value:30}],styles:{lines:[{color:"#2196F3",size:1}],bars:[{upColor:"#4CAF50",downColor:"#FF5252"}]},figures:[{key:"apo",title:"APO: ",type:"line"},{key:"apo",title:"APO: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&(n.apo&&n.apo>0?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.apo&&n.apo<0&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=e.map(d=>d.close),s=ia(o,n),u=ia(o,i);return e.reduce((d,h,p)=>{if(p>=i-1){const v={apo:s[p]-u[p]};d[h.timestamp]=v}return d},{})}},bS={isMainIndicator:!1,isSubIndicator:!0,name:"Aroon",shortName:"AROON",series:"price",calcParams:[{name:"Length",type:"number",value:14}],styles:{lines:[{color:"#4CAF50",size:1},{color:"#FF5252",size:1}]},figures:[{key:"up",title:"Aroon Up: ",type:"line"},{key:"down",title:"Aroon Down: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0].value;return e.reduce((n,i,o)=>{if(o>=t-1){const s=e.slice(o-t+1,o+1),u=Math.max(...s.map(C=>C.high)),d=Math.min(...s.map(C=>C.low));let h=0,p=0;for(let C=t-1;C>=0;C--)if(s[C].high===u){h=C;break}for(let C=t-1;C>=0;C--)if(s[C].low===d){p=C;break}const v=Math.round((t-p)/t*100),m=Math.round((t-h)/t*100);n[i.timestamp]={up:v,down:m}}return n},{})}},wS={isMainIndicator:!1,isSubIndicator:!0,name:"Balance of Power",shortName:"BOP",series:"price",calcParams:[],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"value",title:"BOP: ",type:"line"}],calc:(e,r)=>e.reduce((t,n)=>{if(wr(n.open)&&wr(n.high)&&wr(n.low)&&wr(n.close)){const i=n.high-n.low;if(i!==0){const o=(n.close-n.open)/i;t[n.timestamp]={value:o}}else t[n.timestamp]={value:0}}return t},{})},_S={isMainIndicator:!0,isSubIndicator:!1,name:"Double Exponential Moving Average",shortName:"DEMA",series:"price",calcParams:[{name:"ema1Period",type:"number",value:10},{name:"ema2Period",type:"number",value:16}],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"value",title:"DEMA: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=e.map(d=>d.close),s=ia(o,n),u=ia(s,i);return e.reduce((d,h,p)=>{if(p>=n+i-2){const v=2*s[p]-u[p];d[h.timestamp]={value:v}}return d},{})}},kS={isMainIndicator:!0,isSubIndicator:!1,name:"Envelope (SMA)",shortName:"ENV",series:"price",calcParams:[{name:"period",type:"number",value:20},{name:"percentage",type:"number",value:10},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#FF5252",size:1},{color:"#2196F3",size:1},{color:"#4CAF50",size:1}]},figures:[{key:"upper",title:"Upper: ",type:"line"},{key:"middle",title:"Middle: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=e.map(u=>u.close),s=n5(o,n);return e.reduce((u,d,h)=>{if(h>=n-1){const p=s[h],v=s[h],m=s[h],C=p*(1+i/100),b=m*(1-i/100);u[d.timestamp]={upper:C,middle:v,lower:b}}return u},{})},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,p;const v=r.result;if(!v)return!1;const{from:m,to:C}=i.getVisibleRange(),b=[],w=[],_=[],S=[];for(let M=m;M<C;M++){const I=v[M];I!=null&&(b.push(t.convertToPixel(M)),I.upper!=null&&w.push(n.convertToPixel(I.upper)),I.middle!=null&&_.push(n.convertToPixel(I.middle)),I.lower!=null&&S.push(n.convertToPixel(I.lower)))}if(r.calcParams[2].value){const M=Ps(((u=(s=(o=r.styles)==null?void 0:o.lines)==null?void 0:s[0])==null?void 0:u.color)??"#E91E63");Ls(e,b,w,_,`rgba(${M.r}, ${M.g}, ${M.b}, 0.1)`);const I=Ps(((p=(h=(d=r.styles)==null?void 0:d.lines)==null?void 0:h[2])==null?void 0:p.color)??"#673AB7");Ls(e,b,_,S,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`)}return!1}},SS={isMainIndicator:!0,isSubIndicator:!1,name:"Envelope (EMA)",shortName:"ENV-EMA",series:"price",calcParams:[{name:"period",type:"number",value:20,min:1,max:100},{name:"percentage",type:"number",value:20,min:0,max:100},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#E91E63",size:1},{color:"#9C27B0",size:1},{color:"#673AB7",size:1}]},figures:[{key:"upper",title:"Upper: ",type:"line"},{key:"middle",title:"Middle: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{var t,n;const i=r.calcParams,o=((t=i.find(h=>h.name==="period"))==null?void 0:t.value)??20,s=((n=i.find(h=>h.name==="percentage"))==null?void 0:n.value)??20,u=e.map(h=>h.close),d=ia(u,o);return e.reduce((h,p,v)=>{if(v>=o-1){const m=d[v],C=d[v],b=d[v],w=m*(1+s/100),_=b*(1-s/100);h[p.timestamp]={upper:w,middle:C,lower:_}}return h},{})},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,p,v;const m=r.result;if(!m)return!1;const{from:C,to:b}=i.getVisibleRange(),w=[],_=[],S=[],M=[];for(let I=C;I<b;I++){const A=m[I];A!=null&&(w.push(t.convertToPixel(I)),A.upper!=null&&_.push(n.convertToPixel(A.upper)),A.middle!=null&&S.push(n.convertToPixel(A.middle)),A.lower!=null&&M.push(n.convertToPixel(A.lower)))}if(((o=r.calcParams.find(I=>I.name==="showShading"))==null?void 0:o.value)??!0){const I=Ps(((d=(u=(s=r.styles)==null?void 0:s.lines)==null?void 0:u[0])==null?void 0:d.color)??"#E91E63");Ls(e,w,_,S,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`);const A=Ps(((v=(p=(h=r.styles)==null?void 0:h.lines)==null?void 0:p[2])==null?void 0:v.color)??"#673AB7");Ls(e,w,S,M,`rgba(${A.r}, ${A.g}, ${A.b}, 0.1)`)}return!1}},MS={name:"Volume Price Trend",shortName:"VPT",series:"volume",calcParams:[],precision:2,isMainIndicator:!1,isSubIndicator:!0,styles:{lines:[{style:"solid",color:"#FF7F50",size:1}]},figures:[{key:"vpt",title:"VPT: ",type:"line"}],calc:(e,r)=>{let t=0;return e.reduce((n,i,o)=>{if(i.close===void 0||i.volume===void 0)return n[i.timestamp]={vpt:0},n;if(o===0)return n[i.timestamp]={vpt:0},n;const s=e[o-1].close,u=e[o-1].volume;if(s===void 0||s===0||u===void 0)return n[i.timestamp]={vpt:t},n;const d=(i.close-s)/s,h=t+u*d;return t=h,n[i.timestamp]={vpt:h},n},{})},shouldOhlc:!0,draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s;const{realFrom:u,realTo:d}=r.getVisibleRange(),{result:h}=t,p=Dd("line");for(let v=u;v<d;v++){const m=h[v];m&&m.vpt!==0&&new p({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(v),y:o.convertToPixel(m.vpt)},{x:i.convertToPixel(v+1),y:o.convertToPixel((s=h[v+1])==null?void 0:s.vpt)}]}}).draw(e)}return!0}},ES={name:"Negative Volume Index",shortName:"NVI",series:"price",calcParams:[{name:"Length",type:"number",value:5,min:1,max:1e4}],precision:2,isMainIndicator:!1,isSubIndicator:!0,styles:{lines:[{style:"solid",color:"#2196F3",size:1}]},figures:[{key:"nvi",title:"NVI: ",type:"line"}],calc:(e,r)=>{var t;const n=((t=r.calcParams.find(o=>o.name==="Length"))==null?void 0:t.value)??1e3;let i=n;return e.reduce((o,s,u)=>{if(s.close===void 0||s.volume===void 0)return o[s.timestamp]={nvi:0},o;if(u===0)return o[s.timestamp]={nvi:n},o;const d=e[u-1].close,h=e[u-1].volume;if(d===void 0||d===0||h===void 0)return o[s.timestamp]={nvi:i},o;const p=(s.close-d)/d;let v=i;return s.volume<=h&&(v=i+p*i),i=v,o[s.timestamp]={nvi:v},o},{})}},TS={isMainIndicator:!1,isSubIndicator:!0,name:"Money Flow Volume",shortName:"MFV",series:"volume",calcParams:[],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"mfv",title:"MFV: ",type:"line"}],calc:(e,r)=>{const t=[];return e.forEach((n,i)=>{if(!wr(n.high)||!wr(n.low)||!wr(n.close)||!wr(n.volume)){t[i]={};return}const o=n.high-n.low;if(o===0){t[i]={mfv:0};return}const s=(n.close-n.low-(n.high-n.close))/o*n.volume;t[i]={mfv:s}}),t}},IS={isMainIndicator:!1,isSubIndicator:!0,name:"Money Flow Multiplier",shortName:"MFM",series:"price",calcParams:[],styles:{lines:[{color:"#FF9800",size:1}]},figures:[{key:"mfm",title:"MFM: ",type:"line"}],calc:(e,r)=>e.reduce((t,n,i)=>{if(!wr(n.high)||!wr(n.low)||!wr(n.close))return t;const o=n.high-n.low;if(o===0)return t[n.timestamp]={mfm:0},t;const s=(n.close-n.low-(n.high-n.close))/o;return t[n.timestamp]={mfm:s},t},{})},LS={isMainIndicator:!0,isSubIndicator:!1,name:"Moving Linear Regression",shortName:"MLR",series:"price",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#2196F3",size:1.5}]},figures:[{key:"value",title:"MLR: ",type:"line"}],calc:(e,r)=>{const{calcParams:t}=r,n=t[0].value;return e.length<n?{}:e.reduce((i,o,s)=>{if(s<n-1)return i;const u=e.slice(s-(n-1),s+1);if(!u.every(S=>wr(S.close)))return i;const d=Array.from({length:n},(S,M)=>M+1),h=u.map(S=>S.close),p=d.reduce((S,M)=>S+M,0)/n,v=h.reduce((S,M)=>S+M,0)/n;let m=0,C=0;for(let S=0;S<n;S++){const M=d[S]-p;m+=M*(h[S]-v),C+=M*M}const b=C!==0?m/C:0,w=v-b*p,_=b*n+w;return i[o.timestamp]={value:_},i},{})}},PS={isMainIndicator:!1,isSubIndicator:!0,name:"Moving Least Square",shortName:"MLS",series:"price",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#FF9800",size:1.5},{color:"#4CAF50",size:1},{color:"#F44336",size:1}]},figures:[{key:"line",title:"MLS: ",type:"line"},{key:"slope",title:"Slope: ",type:"line"},{key:"intercept",title:"Intercept: ",type:"line"}],calc:(e,r)=>{const{calcParams:t}=r,n=t[0].value;return e.length<n?{}:e.reduce((i,o,s)=>{if(s<n-1)return i;const u=e.slice(s-(n-1),s+1);if(!u.every(M=>wr(M.close)))return i;const d=Array.from({length:n},(M,I)=>I+1),h=u.map(M=>M.close);let p=0,v=0,m=0,C=0;for(let M=0;M<n;M++)p+=d[M],v+=h[M],m+=d[M]*h[M],C+=d[M]*d[M];const b=n*C-p*p,w=b!==0?(n*m-p*v)/b:0,_=(v-w*p)/n,S=w*n+_;return i[o.timestamp]={slope:w,intercept:_,line:S},i},{})}},AS={isMainIndicator:!1,isSubIndicator:!0,name:"MACD",shortName:"MACD",calcParams:[{name:"fastPeriod",type:"number",value:12},{name:"slowPeriod",type:"number",value:26},{name:"signalPeriod",type:"number",value:9}],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const{prev:n,current:i}=e,o=(n==null?void 0:n.macd)??Number.MIN_SAFE_INTEGER,s=(i==null?void 0:i.macd)??Number.MIN_SAFE_INTEGER;let u="";return s>0?u=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):s<0?u=qr(r.styles,"bars[0].downColor",t.bars[0].downColor):u=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor),{style:o<s?"stroke":"fill",color:u,borderColor:u}}}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0;const h=Math.max(t[0].value,t[1].value);return e.reduce((p,v,m)=>{const C=v.close;if(n+=C,m>=t[0].value-1&&(m>t[0].value-1?i=(2*C+(t[0].value-1)*i)/(t[0].value+1):i=n/t[0].value),m>=t[1].value-1&&(m>t[1].value-1?o=(2*C+(t[1].value-1)*o)/(t[1].value+1):o=n/t[1].value),m>=h-1){s=i-o,u+=s;const b={dif:s};m>=h+t[2].value-2&&(m>h+t[2].value-2?d=(s*2+d*(t[2].value-1))/(t[2].value+1):d=u/t[2].value,b.macd=(s-d)*2,b.dea=d),p[v.timestamp]=b}return p},{})}},Hg=[Ek,Tk,Ik,Lk,Pk,Ak,Dk,Fk,Ok,Rk,Nk,zk,Vk,Bk,$k,Wk,Uk,Hk,Yk,Xk,jk,Gk,qk,Kk,Qk,o5,l5,Jk,eS,tS,rS,nS,iS,aS,oS,lS,sS,cS,pS,uS,dS,hS,fS,gS,vS,mS,yS,xS,CS,bS,wS,_S,kS,SS,MS,ES,TS,IS,LS,PS,AS],DS=[o5,l5],bp=[],E1=[],FS=[...Hg];FS.forEach(e=>{e.isMainIndicator?NS(e.name):e.isSubIndicator?zS(e.name):console.warn("Unknown indicator type during initialization: ",e.name),E2(e)});function OS(e){const r=[];return bp.forEach(t=>{e.forEach(n=>{t===n&&r.push(n)})}),r}function RS(e){const r=[];return E1.forEach(t=>{e.forEach(n=>{t===n&&r.push(n)})}),r}function NS(e){bp.includes(e)||bp.push(e)}function zS(e){E1.includes(e)||E1.push(e)}function _m(){return[...Hg]}var Ct=(e=>(e.STOCKS="Stocks",e.CRYPTO="Crypto",e.FOREX="Forex",e.FUTURES="Futures",e.ALL="All",e))(Ct||{});const Ue={ONE_MIN:"1m",THREE_MIN:"3m",FIVE_MIN:"5m",FIFTEEN_MIN:"15m",THIRTY_MIN:"30m",ONE_HOUR:"1H",TWO_HOUR:"2H",FOUR_HOUR:"4H",SIX_HOUR:"6H",EIGHT_HOUR:"8H",TWELVE_HOUR:"12h",ONE_DAY:"D",THREE_DAY:"3D",FIVE_DAY:"5D",ONE_WEEK:"W",ONE_MONTH:"M",THREE_MONTH:"3M",SIX_MONTH:"6M",ONE_YEAR:"Y",FIVE_YEAR:"5Y",DEFAULT:"default"},un={MINUTE:"minute",HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"};var Nd=(e=>(e.RENKO="renko",e))(Nd||{});const VS={[Ct.STOCKS]:{[Ue.ONE_MIN]:"1min",[Ue.FIVE_MIN]:"5min",[Ue.FIFTEEN_MIN]:"15min",[Ue.THIRTY_MIN]:"30min",[Ue.ONE_HOUR]:"1h",[Ue.TWO_HOUR]:"2h",[Ue.ONE_DAY]:"1day",[Ue.ONE_WEEK]:"1week",[Ue.ONE_MONTH]:"1month",[Ue.DEFAULT]:"15min"},[Ct.CRYPTO]:{[Ue.ONE_MIN]:"1m",[Ue.THREE_MIN]:"3m",[Ue.FIVE_MIN]:"5m",[Ue.FIFTEEN_MIN]:"15m",[Ue.THIRTY_MIN]:"30m",[Ue.ONE_HOUR]:"1h",[Ue.TWO_HOUR]:"2h",[Ue.FOUR_HOUR]:"4h",[Ue.SIX_HOUR]:"6h",[Ue.EIGHT_HOUR]:"8h",[Ue.TWELVE_HOUR]:"12h",[Ue.ONE_DAY]:"1d",[Ue.THREE_DAY]:"3d",[Ue.ONE_WEEK]:"1w",[Ue.ONE_MONTH]:"1M",[Ue.DEFAULT]:"15m"}};function Gh(e,r){const t=VS[e];return t[r.text]||t.default}const xd=class bn{static setStockDataFeed(r){bn.stockDataFeed=r}static setCryptoDataFeed(r){bn.cryptoDataFeed=r}static setForexDataFeed(r){bn.forexDataFeed=r}static setFuturesDataFeed(r){bn.futuresDataFeed=r}static getStockDataFeed(){return bn.stockDataFeed}static getCryptoDataFeed(){return bn.cryptoDataFeed}static getForexDataFeed(){return bn.forexDataFeed}static getFuturesDataFeed(){return bn.futuresDataFeed}static hasStockDataFeed(){return bn.stockDataFeed!==null}static hasCryptoDataFeed(){return bn.cryptoDataFeed!==null}static hasForexDataFeed(){return bn.forexDataFeed!==null}static hasFuturesDataFeed(){return bn.futuresDataFeed!==null}static getDefaultDataFeed(){return bn.defaultDataFeed}static setDefaultDataFeed(r){bn.defaultDataFeed=r}static getAllDataFeeds(){return[bn.stockDataFeed??null,bn.cryptoDataFeed??null,bn.forexDataFeed??null,bn.futuresDataFeed??null]}};De(xd,"defaultDataFeed"),De(xd,"stockDataFeed",null),De(xd,"cryptoDataFeed",null),De(xd,"forexDataFeed",null),De(xd,"futuresDataFeed",null);let Nr=xd;function s5(e){const r=[{name:Ct.CRYPTO,class:wg}];(e!=null?r.filter(t=>t.name.toLowerCase()!==e.toLowerCase()):r).forEach(t=>{t.class.checkAndCloseIfNoSubscriptions()})}const Cd=class Xe{async searchTickers(r,t){try{if(t!==void 0&&t!==Ct.CRYPTO)return[];(r===void 0||r==="")&&(r="BTCUSDT");const n=`https://api.binance.com/api/v3/exchangeInfo?symbol=${r.toUpperCase()}`,i=await fetch(n);if(!i.ok)throw new Error(`Network response was not ok: ${i.statusText}`);const o=await i.json();if(!o.symbols||!Array.isArray(o.symbols))throw new Error("Invalid response format: 'symbols' not found or not an array.");return console.log(o.symbols),(o.symbols!=null?o.symbols:[]).map(s=>({ticker:s.symbol,exchange:"binance",logo:"binance-logo.svg",type:Ct.CRYPTO}))}catch(n){return console.error("Failed to fetch data from Binance API:",n),[]}}async getHistoricalTimeSeries(r,t,n,i,o){console.warn("Fetching historical time series for crypto");const s=1e3,u=Gh(Ct.CRYPTO,t);let d=[],h=s,p,v=Math.ceil(s/1e3);try{for(;h>0&&v>0;){const m=Math.min(1e3,h),C=await BS(r.ticker,u,m,p).catch(b=>(console.error("Failed to fetch candle data:",b),[]));if(!C||C.length===0){console.warn("No data returned, stopping further requests");break}if(d=[...C,...d],h-=C.length,v--,p=C[0][0],d.length>=s)break}return d.length<s&&console.warn(`Requested ${s} data points, but only fetched ${d.length}`),d.slice(0,s).map(m=>({timestamp:m[0],open:parseFloat(m[1]),high:parseFloat(m[2]),low:parseFloat(m[3]),close:parseFloat(m[4]),volume:parseFloat(m[5])}))}catch(m){return console.error("An error occurred during data fetching:",m),[]}}async subscribeTicker(r,t,n,i){var o;if((r==null?void 0:r.ticker)==null){console.warn("Invalid symbol: Symbol must have a valid ticker.");return}if(t==null){console.warn("Invalid period: Period cannot be null or undefined.");return}if(i==null){console.warn("Invalid uuid: UUID cannot be null or undefined.");return}try{s5(Ct.CRYPTO),((o=Xe._ws)==null?void 0:o.readyState)!==WebSocket.OPEN?await this.createWebSocket(r,t,i):(console.log("WebSocket is already connected, proceeding to subscribe"),await this.subscribe(r,t,i)),this.addListener(r,t,n,i)}catch(s){console.error("Failed to subscribe to ticker: ",s)}}subscribeAllTickers(r,t,n,i=500,o){const s=async u=>{await new Promise(d=>setTimeout(d,u))};r.length!==0&&this.subscribeTicker(r[0],t,n,o).then(async()=>{console.log(`Subscribed to ticker: ${r[0].ticker}`),console.log("Applying initial delay of 3 seconds"),await s(3e3);for(let u=1;u<r.length;u++)setTimeout(()=>{this.subscribeTicker(r[u],t,n,o).then(()=>{console.log(`Subscribed to ticker: ${r[u].ticker}`)})},(u-1)*i)})}unsubscribeTicker(r,t,n){!this.validateTickerPeriodUuid(r,t,n)||n==null||this.removeListener(r.ticker,t,n)&&this.unSubscribeToSymbol(r.ticker,t)}unsubscribeAllTickers(r,t,n,i){console.log("Unsubscribing all tickers"),r.forEach((o,s)=>{!this.validateTickerPeriodUuid(o,t,i)||i==null||setTimeout(()=>{console.log("Subscribed Symbols Before",Xe._subscribedSymbolListenersMap.size),this.removeListener(o.ticker,t,i)&&this.unSubscribeToSymbol(o.ticker,t),Xe.checkAndCloseIfNoSubscriptions()},s*n)})}closeWebsocket(){Xe.closeWebsocket()}static closeWebsocket(){var r;console.warn("Closing websocket connection"),(r=Xe._ws)==null||r.close(),Xe._ws=void 0,Xe._subscribedSymbolListenersMap.clear(),Xe._subscribedSymbolsMap.clear()}async createWebSocket(r,t,n){var i,o;if(!(((i=Xe._ws)==null?void 0:i.readyState)===WebSocket.OPEN||((o=Xe._ws)==null?void 0:o.readyState)===WebSocket.CONNECTING)){console.warn("Creating new ws connection"),Xe._ws=new WebSocket("wss://stream.binance.com:9443/ws");try{await this.waitForWebSocketToOpen(Xe._ws),console.log("WebSocket connection established"),await this.subscribe(r,t,n)}catch(s){console.warn("Failed to establish Binance websocket connection: ",s)}}}async subscribe(r,t,n){var i,o,s,u;Xe._ws==null&&await this.createWebSocket(r,t,n);const d=`${r.ticker.toLowerCase()}_${t.text}`;if(Xe._subscribedSymbolsMap.set(d,(Xe._subscribedSymbolsMap.get(d)??0)+1),console.log("Subscribed ",d," count: ",Xe._subscribedSymbolsMap.get(d)),Xe._subscribedSymbolsMap.get(d)>1){console.log("No need to re-subscribe as we are already subscribed for ticker: ",r);return}try{const h=r.ticker.toLowerCase(),p=Gh(Ct.CRYPTO,t),v=JSON.stringify({method:"SUBSCRIBE",params:[`${h}@kline_${p}`],id:1});((i=Xe._ws)==null?void 0:i.readyState)===WebSocket.OPEN?(console.log("WebSocket is open, sending subscription message"),(o=Xe._ws)==null||o.send(v)):((s=Xe._ws)==null?void 0:s.readyState)===WebSocket.CONNECTING?(console.log("WebSocket is still connecting, waiting for connection to be established"),await this.waitForWebSocketToOpen(Xe._ws),(u=Xe._ws)==null||u.send(v)):await this.createWebSocket(r,t,n),console.log(`Subscribed to ${h}@kline_${p}`)}catch(h){console.error("Failed to subscribe to symbol: ",h),Xe._subscribedSymbolsMap.set(d,(Xe._subscribedSymbolsMap.get(d)??0)-1)}}unSubscribeToSymbol(r,t){var n;const i=`${r.toLowerCase()}_${t.text}`;if(Xe._subscribedSymbolsMap.set(i,(Xe._subscribedSymbolsMap.get(i)??1)-1),console.log("Unsubscribed ",i," count: ",Xe._subscribedSymbolsMap.get(i)),Xe._subscribedSymbolsMap.get(i)>=1){console.log("No need to un-subscribe as another chart is using this interval");return}const o=r.toLowerCase(),s=Gh(Ct.CRYPTO,t),u=JSON.stringify({method:"UNSUBSCRIBE",params:[`${o}@kline_${s}`],id:2});(n=Xe._ws)==null||n.send(u),Xe._subscribedSymbolsMap.delete(i),console.log(`Un subscribed to ${o}@kline_${s}`)}static checkAndCloseIfNoSubscriptions(){Xe._subscribedSymbolListenersMap.size===0&&Xe._ws!==void 0&&(console.log("Closing Binance websocket connection"),Xe.closeWebsocket())}addListener(r,t,n,i){const o=`${r.ticker.toLowerCase()}_${t.text}_${i}`,s=u=>{const d=JSON.parse(u.data),h=d==null?void 0:d.k,p=Gh(Ct.CRYPTO,t);if(h!=null&&h.s.toLowerCase()===r.ticker.toLowerCase()&&h.i===p){const v=d.k;n({timestamp:v.t,open:parseFloat(v.o),high:parseFloat(v.h),low:parseFloat(v.l),close:parseFloat(v.c),volume:parseFloat(v.v),turnover:parseFloat(v.q)},r)}};Xe._ws.addEventListener("message",s),Xe._subscribedSymbolListenersMap.set(o,s),console.log("Adding Listener for: ",o," count: ",Xe._subscribedSymbolListenersMap.size)}removeListener(r,t,n){const i=`${r.toLowerCase()}_${t.text}_${n}`,o=Xe._subscribedSymbolListenersMap.get(i);return o!=null?(console.log("Removing Listener for: ",i),Xe._ws.removeEventListener("message",o),Xe._subscribedSymbolListenersMap.delete(i),!0):!1}async waitForWebSocketToOpen(r){await new Promise((t,n)=>{r.readyState===WebSocket.OPEN?(console.log("WebSocket is open"),t()):(r.onopen=()=>{console.log("WebSocket connection opened"),t()},r.onerror=i=>{n(i),console.error("Binance WebSocket error: ",i)})})}validateTickerPeriodUuid(r,t,n){switch(!0){case(r==null?void 0:r.ticker)==null:return console.warn("Invalid symbol: Symbol must have a valid ticker."),!1;case t==null:return console.warn("Invalid period: Period cannot be null or undefined."),!1;case n==null:console.warn("Invalid uuid: Uuid cannot be null");default:return!0}}clearAllListeners(){Xe._ws&&(Array.from(Xe._subscribedSymbolListenersMap.values()).forEach(r=>{var t;console.log("Removing listener: ",r),(t=Xe._ws)==null||t.removeEventListener("message",r)}),Xe._subscribedSymbolListenersMap.clear(),Xe._subscribedSymbolsMap.clear(),console.log("All BinanceDataFeed listeners cleared"))}subscribeOrderBookData(r,t,n){if(!(r!=null&&r.ticker)){console.warn("Invalid ticker for DOM subscription");return}if(!n){console.warn("Invalid uuid for DOM subscription");return}try{this.subscribeToDOMSymbol(r,n),this.addDOMListener(r,t,n)}catch(i){console.error("Failed to subscribe to DOM data:",i)}}unsubscribeOrderBookData(r,t){if(!(r!=null&&r.ticker)||!t){console.warn("Invalid ticker or uuid for DOM unsubscription");return}try{this.removeDOMListener(r.ticker,t)&&this.unsubscribeFromDOMSymbol(r.ticker)}catch(n){console.error("Failed to unsubscribe from DOM data:",n)}}async subscribeToDOMSymbol(r,t){var n,i,o,s,u,d;if(((n=Xe._ws)==null?void 0:n.readyState)!==WebSocket.OPEN&&((i=Xe._ws)==null?void 0:i.readyState)!==WebSocket.CONNECTING){console.warn("Creating new ws connection for DOM"),Xe._ws=new WebSocket("wss://stream.binance.com:9443/ws");try{await this.waitForWebSocketToOpen(Xe._ws),console.log("WebSocket connection established for DOM")}catch(p){console.warn("Failed to establish Binance websocket connection for DOM: ",p);return}}const h=`${r.ticker.toLowerCase()}_dom`;if(Xe._domSubscriptionsMap.set(h,(Xe._domSubscriptionsMap.get(h)??0)+1),console.log("DOM Subscribed ",h," count: ",Xe._domSubscriptionsMap.get(h)),Xe._domSubscriptionsMap.get(h)>1){console.log("No need to re-subscribe to DOM as we are already subscribed for ticker: ",r);return}try{const p=r.ticker.toLowerCase(),v=JSON.stringify({method:"SUBSCRIBE",params:[`${p}@depth20@1000ms`],id:Date.now()});((o=Xe._ws)==null?void 0:o.readyState)===WebSocket.OPEN?(console.log("WebSocket is open, sending DOM subscription message:",v),(s=Xe._ws)==null||s.send(v)):((u=Xe._ws)==null?void 0:u.readyState)===WebSocket.CONNECTING&&(console.log("WebSocket is still connecting, waiting for connection to be established for DOM"),await this.waitForWebSocketToOpen(Xe._ws),(d=Xe._ws)==null||d.send(v)),console.log(`Subscribed to DOM for ${p}@depth20@1000ms`)}catch(p){console.error("Failed to subscribe to DOM symbol: ",p),Xe._domSubscriptionsMap.set(h,(Xe._domSubscriptionsMap.get(h)??0)-1)}}unsubscribeFromDOMSymbol(r){var t;const n=`${r.toLowerCase()}_dom`;if(Xe._domSubscriptionsMap.set(n,(Xe._domSubscriptionsMap.get(n)??1)-1),console.log("DOM Unsubscribed ",n," count: ",Xe._domSubscriptionsMap.get(n)),Xe._domSubscriptionsMap.get(n)>=1){console.log("No need to un-subscribe from DOM as another component is using this symbol");return}const i=r.toLowerCase(),o=JSON.stringify({method:"UNSUBSCRIBE",params:[`${i}@depth20@1000ms`],id:Date.now()});(t=Xe._ws)==null||t.send(o),Xe._domSubscriptionsMap.delete(n),console.log(`Un subscribed from DOM for ${i}@depth20@1000ms`)}addDOMListener(r,t,n){const i=`${r.ticker.toLowerCase()}_dom_${n}`,o=s=>{try{const u=JSON.parse(s.data);if(u.stream&&u.stream.includes(r.ticker.toLowerCase()),u.stream&&u.stream.includes("@depth20@")){const d=u.data,h={bids:d.bids||[],asks:d.asks||[],timestamp:d.lastUpdateId||Date.now()};t(h,r)}else if(u.e==="depthUpdate"&&u.s&&u.s.toLowerCase()===r.ticker.toLowerCase()){const d=u,h={bids:d.b||[],asks:d.a||[],timestamp:d.E};t(h,r)}else if(u.bids&&u.asks&&!u.e){const d={bids:u.bids||[],asks:u.asks||[],timestamp:Date.now()};t(d,r)}}catch(u){console.error("Error parsing DOM data:",u)}};Xe._ws.addEventListener("message",o),Xe._domListenersMap.set(i,o),console.log("Adding DOM Listener for: ",i," count: ",Xe._domListenersMap.size)}removeDOMListener(r,t){const n=`${r.toLowerCase()}_dom_${t}`,i=Xe._domListenersMap.get(n);return i!=null?(console.log("Removing DOM Listener for: ",n),Xe._ws.removeEventListener("message",i),Xe._domListenersMap.delete(n),!0):!1}};De(Cd,"_ws"),De(Cd,"_subscribedSymbolListenersMap",new Map),De(Cd,"_subscribedSymbolsMap",new Map),De(Cd,"_domListenersMap",new Map),De(Cd,"_domSubscriptionsMap",new Map);let wg=Cd;async function BS(e,r,t,n){let i=`https://api.binance.com/api/v3/klines?symbol=${e}&interval=${r}&limit=${t}`;return n!=null&&(i+=`&endTime=${n}`),await(await fetch(i)).json()}const $S=(e,r)=>e===r,Ho=Symbol("solid-proxy"),WS=typeof Proxy=="function",_g=Symbol("solid-track"),wp={equals:$S};let c5=v5;const Nl=1,_p=2,u5={owned:null,cleanups:null,context:null,owner:null},jf={};var ir=null;let Zf=null,mr=null,si=null,Fl=null,Rp=0;function Td(e,r){const t=mr,n=ir,i=e.length===0,o=r===void 0?n:r,s=i?u5:{owned:null,cleanups:null,context:o?o.context:null,owner:o},u=i?e:()=>e(()=>et(()=>T1(s)));ir=s,mr=null;try{return Yo(u,!0)}finally{mr=t,ir=n}}function ye(e,r){r=r?Object.assign({},wp,r):wp;const t={value:e,observers:null,observerSlots:null,comparator:r.equals||void 0},n=i=>(typeof i=="function"&&(i=i(t.value)),g5(t,i));return[f5.bind(t),n]}function US(e,r,t){const n=Np(e,r,!0,Nl);zd(n)}function ze(e,r,t){const n=Np(e,r,!1,Nl);zd(n)}function nt(e,r,t){c5=QS;const n=Np(e,r,!1,Nl);(!t||!t.render)&&(n.user=!0),Fl?Fl.push(n):zd(n)}function Gr(e,r,t){t=t?Object.assign({},wp,t):wp;const n=Np(e,r,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,zd(n),f5.bind(n)}function HS(e){return e&&typeof e=="object"&&"then"in e}function YS(e,r,t){let n,i,o;typeof r=="function"?(n=e,i=r,o={}):(n=!0,i=e,o=r||{});let s=null,u=jf,d=!1,h="initialValue"in o,p=typeof n=="function"&&Gr(n);const v=new Set,[m,C]=(o.storage||ye)(o.initialValue),[b,w]=ye(void 0),[_,S]=ye(void 0,{equals:!1}),[M,I]=ye(h?"ready":"unresolved");function A(V,W,Q,se){return s===V&&(s=null,se!==void 0&&(h=!0),(V===u||W===u)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(se,{value:W})),u=jf,P(W,Q)),W}function P(V,W){Yo(()=>{W===void 0&&C(()=>V),I(W!==void 0?"errored":h?"ready":"unresolved"),w(W);for(const Q of v.keys())Q.decrement();v.clear()},!1)}function $(){const V=GS,W=m(),Q=b();if(Q!==void 0&&!s)throw Q;return mr&&mr.user,W}function D(V=!0){if(V!==!1&&d)return;d=!1;const W=p?p():n;if(W==null||W===!1){A(s,et(m));return}let Q;const se=u!==jf?u:et(()=>{try{return i(W,{value:m(),refetching:V})}catch(X){Q=X}});if(Q!==void 0){A(s,void 0,cp(Q),W);return}else if(!HS(se))return A(s,se,void 0,W),se;return s=se,"v"in se?(se.s===1?A(s,se.v,void 0,W):A(s,void 0,cp(se.v),W),se):(d=!0,queueMicrotask(()=>d=!1),Yo(()=>{I(h?"refreshing":"pending"),S()},!1),se.then(X=>A(se,X,void 0,W),X=>A(se,void 0,cp(X),W)))}Object.defineProperties($,{state:{get:()=>M()},error:{get:()=>b()},loading:{get(){const V=M();return V==="pending"||V==="refreshing"}},latest:{get(){if(!h)return $();const V=b();if(V&&!s)throw V;return m()}}});let z=ir;return p?US(()=>(z=ir,D(!1))):D(!1),[$,{refetch:V=>d5(z,()=>D(V)),mutate:C}]}function Il(e){return Yo(e,!1)}function et(e){if(mr===null)return e();const r=mr;mr=null;try{return e()}finally{mr=r}}function Bi(e){nt(()=>et(e))}function _n(e){return ir===null||(ir.cleanups===null?ir.cleanups=[e]:ir.cleanups.push(e)),e}function kg(){return mr}function XS(){return ir}function d5(e,r){const t=ir,n=mr;ir=e,mr=null;try{return Yo(r,!0)}catch(i){Yg(i)}finally{ir=t,mr=n}}function jS(e){const r=mr,t=ir;return Promise.resolve().then(()=>{mr=r,ir=t;let n;return Yo(e,!1),mr=ir=null,n?n.done:void 0})}function h5(e,r){const t=Symbol("context");return{id:t,Provider:JS(t),defaultValue:e}}function p5(e){let r;return ir&&ir.context&&(r=ir.context[e.id])!==void 0?r:e.defaultValue}function ZS(e){const r=Gr(e),t=Gr(()=>Sg(r()));return t.toArray=()=>{const n=t();return Array.isArray(n)?n:n!=null?[n]:[]},t}let GS;function f5(){if(this.sources&&this.state)if(this.state===Nl)zd(this);else{const e=si;si=null,Yo(()=>Sp(this),!1),si=e}if(mr){const e=this.observers?this.observers.length:0;mr.sources?(mr.sources.push(this),mr.sourceSlots.push(e)):(mr.sources=[this],mr.sourceSlots=[e]),this.observers?(this.observers.push(mr),this.observerSlots.push(mr.sources.length-1)):(this.observers=[mr],this.observerSlots=[mr.sources.length-1])}return this.value}function g5(e,r,t){let n=e.value;return(!e.comparator||!e.comparator(n,r))&&(e.value=r,e.observers&&e.observers.length&&Yo(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=Zf&&Zf.running;s&&Zf.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?si.push(o):Fl.push(o),o.observers&&m5(o)),s||(o.state=Nl)}if(si.length>1e6)throw si=[],new Error},!1)),r}function zd(e){if(!e.fn)return;T1(e);const r=Rp;qS(e,e.value,r)}function qS(e,r,t){let n;const i=ir,o=mr;mr=ir=e;try{n=e.fn(r)}catch(s){return e.pure&&(e.state=Nl,e.owned&&e.owned.forEach(T1),e.owned=null),e.updatedAt=t+1,Yg(s)}finally{mr=o,ir=i}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?g5(e,n):e.value=n,e.updatedAt=t)}function Np(e,r,t,n=Nl,i){const o={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:ir,context:ir?ir.context:null,pure:t};return ir===null||ir!==u5&&(ir.owned?ir.owned.push(o):ir.owned=[o]),o}function kp(e){if(e.state===0)return;if(e.state===_p)return Sp(e);if(e.suspense&&et(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Rp);)e.state&&r.push(e);for(let t=r.length-1;t>=0;t--)if(e=r[t],e.state===Nl)zd(e);else if(e.state===_p){const n=si;si=null,Yo(()=>Sp(e,r[0]),!1),si=n}}function Yo(e,r){if(si)return e();let t=!1;r||(si=[]),Fl?t=!0:Fl=[],Rp++;try{const n=e();return KS(t),n}catch(n){t||(Fl=null),si=null,Yg(n)}}function KS(e){if(si&&(v5(si),si=null),e)return;const r=Fl;Fl=null,r.length&&Yo(()=>c5(r),!1)}function v5(e){for(let r=0;r<e.length;r++)kp(e[r])}function QS(e){let r,t=0;for(r=0;r<e.length;r++){const n=e[r];n.user?e[t++]=n:kp(n)}for(r=0;r<t;r++)kp(e[r])}function Sp(e,r){e.state=0;for(let t=0;t<e.sources.length;t+=1){const n=e.sources[t];if(n.sources){const i=n.state;i===Nl?n!==r&&(!n.updatedAt||n.updatedAt<Rp)&&kp(n):i===_p&&Sp(n,r)}}}function m5(e){for(let r=0;r<e.observers.length;r+=1){const t=e.observers[r];t.state||(t.state=_p,t.pure?si.push(t):Fl.push(t),t.observers&&m5(t))}}function T1(e){let r;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){const o=i.pop(),s=t.observerSlots.pop();n<i.length&&(o.sourceSlots[s]=n,i[n]=o,t.observerSlots[n]=s)}}if(e.tOwned){for(r=e.tOwned.length-1;r>=0;r--)T1(e.tOwned[r]);delete e.tOwned}if(e.owned){for(r=e.owned.length-1;r>=0;r--)T1(e.owned[r]);e.owned=null}if(e.cleanups){for(r=e.cleanups.length-1;r>=0;r--)e.cleanups[r]();e.cleanups=null}e.state=0}function cp(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Yg(e,r=ir){throw cp(e)}function Sg(e){if(typeof e=="function"&&!e.length)return Sg(e());if(Array.isArray(e)){const r=[];for(let t=0;t<e.length;t++){const n=Sg(e[t]);Array.isArray(n)?r.push.apply(r,n):r.push(n)}return r}return e}function JS(e,r){return function(t){let n;return ze(()=>n=et(()=>(ir.context={...ir.context,[e]:t.value},ZS(()=>t.children))),void 0),n}}const eM=Symbol("fallback");function km(e){for(let r=0;r<e.length;r++)e[r]()}function tM(e,r,t={}){let n=[],i=[],o=[],s=0,u=r.length>1?[]:null;return _n(()=>km(o)),()=>{let d=e()||[],h=d.length,p,v;return d[_g],et(()=>{let C,b,w,_,S,M,I,A,P;if(h===0)s!==0&&(km(o),o=[],n=[],i=[],s=0,u&&(u=[])),t.fallback&&(n=[eM],i[0]=Td($=>(o[0]=$,t.fallback())),s=1);else if(s===0){for(i=new Array(h),v=0;v<h;v++)n[v]=d[v],i[v]=Td(m);s=h}else{for(w=new Array(h),_=new Array(h),u&&(S=new Array(h)),M=0,I=Math.min(s,h);M<I&&n[M]===d[M];M++);for(I=s-1,A=h-1;I>=M&&A>=M&&n[I]===d[A];I--,A--)w[A]=i[I],_[A]=o[I],u&&(S[A]=u[I]);for(C=new Map,b=new Array(A+1),v=A;v>=M;v--)P=d[v],p=C.get(P),b[v]=p===void 0?-1:p,C.set(P,v);for(p=M;p<=I;p++)P=n[p],v=C.get(P),v!==void 0&&v!==-1?(w[v]=i[p],_[v]=o[p],u&&(S[v]=u[p]),v=b[v],C.set(P,v)):o[p]();for(v=M;v<h;v++)v in w?(i[v]=w[v],o[v]=_[v],u&&(u[v]=S[v],u[v](v))):i[v]=Td(m);i=i.slice(0,s=h),n=d.slice(0)}return i});function m(C){if(o[v]=C,u){const[b,w]=ye(v);return u[v]=w,r(d[v],b)}return r(d[v])}}}function ae(e,r){return et(()=>e(r||{}))}function qh(){return!0}const rM={get(e,r,t){return r===Ho?t:e.get(r)},has(e,r){return r===Ho?!0:e.has(r)},set:qh,deleteProperty:qh,getOwnPropertyDescriptor(e,r){return{configurable:!0,enumerable:!0,get(){return e.get(r)},set:qh,deleteProperty:qh}},ownKeys(e){return e.keys()}};function Gf(e){return(e=typeof e=="function"?e():e)?e:{}}function nM(){for(let e=0,r=this.length;e<r;++e){const t=this[e]();if(t!==void 0)return t}}function zp(...e){let r=!1;for(let s=0;s<e.length;s++){const u=e[s];r=r||!!u&&Ho in u,e[s]=typeof u=="function"?(r=!0,Gr(u)):u}if(WS&&r)return new Proxy({get(s){for(let u=e.length-1;u>=0;u--){const d=Gf(e[u])[s];if(d!==void 0)return d}},has(s){for(let u=e.length-1;u>=0;u--)if(s in Gf(e[u]))return!0;return!1},keys(){const s=[];for(let u=0;u<e.length;u++)s.push(...Object.keys(Gf(e[u])));return[...new Set(s)]}},rM);const t={},n=Object.create(null);for(let s=e.length-1;s>=0;s--){const u=e[s];if(!u)continue;const d=Object.getOwnPropertyNames(u);for(let h=d.length-1;h>=0;h--){const p=d[h];if(p==="__proto__"||p==="constructor")continue;const v=Object.getOwnPropertyDescriptor(u,p);if(!n[p])n[p]=v.get?{enumerable:!0,configurable:!0,get:nM.bind(t[p]=[v.get.bind(u)])}:v.value!==void 0?v:void 0;else{const m=t[p];m&&(v.get?m.push(v.get.bind(u)):v.value!==void 0&&m.push(()=>v.value))}}}const i={},o=Object.keys(n);for(let s=o.length-1;s>=0;s--){const u=o[s],d=n[u];d&&d.get?Object.defineProperty(i,u,d):i[u]=d?d.value:void 0}return i}const iM=e=>`Stale read from <${e}>.`;function Zn(e){const r="fallback"in e&&{fallback:()=>e.fallback};return Gr(tM(()=>e.each,e.children,r||void 0))}function Ke(e){const r=e.keyed,t=Gr(()=>e.when,void 0,void 0),n=r?t:Gr(t,void 0,{equals:(i,o)=>!i==!o});return Gr(()=>{const i=n();if(i){const o=e.children;return typeof o=="function"&&o.length>0?et(()=>o(r?i:()=>{if(!et(n))throw iM("Show");return t()})):o}return e.fallback},void 0,void 0)}const Le=e=>Gr(()=>e());function aM(e,r,t){let n=t.length,i=r.length,o=n,s=0,u=0,d=r[i-1].nextSibling,h=null;for(;s<i||u<o;){if(r[s]===t[u]){s++,u++;continue}for(;r[i-1]===t[o-1];)i--,o--;if(i===s){const p=o<n?u?t[u-1].nextSibling:t[o-u]:d;for(;u<o;)e.insertBefore(t[u++],p)}else if(o===u)for(;s<i;)(!h||!h.has(r[s]))&&r[s].remove(),s++;else if(r[s]===t[o-1]&&t[u]===r[i-1]){const p=r[--i].nextSibling;e.insertBefore(t[u++],r[s++].nextSibling),e.insertBefore(t[--o],p),r[i]=t[o]}else{if(!h){h=new Map;let v=u;for(;v<o;)h.set(t[v],v++)}const p=h.get(r[s]);if(p!=null)if(u<p&&p<o){let v=s,m=1,C;for(;++v<i&&v<o&&!((C=h.get(r[v]))==null||C!==p+m);)m++;if(m>p-u){const b=r[s];for(;u<p;)e.insertBefore(t[u++],b)}else e.replaceChild(t[u++],r[s++])}else s++;else r[s++].remove()}}}const Sm="_$DX_DELEGATE";function oM(e,r,t,n={}){let i;return Td(o=>{i=o,r===document?e():N(r,e(),r.firstChild?null:void 0,t)},n.owner),()=>{i(),r.textContent=""}}function te(e,r,t,n){let i;const o=()=>{const u=document.createElement("template");return u.innerHTML=e,u.content.firstChild},s=()=>(i||(i=o())).cloneNode(!0);return s.cloneNode=s,s}function yr(e,r=window.document){const t=r[Sm]||(r[Sm]=new Set);for(let n=0,i=e.length;n<i;n++){const o=e[n];t.has(o)||(t.add(o),r.addEventListener(o,lM))}}function $e(e,r,t){t==null?e.removeAttribute(r):e.setAttribute(r,t)}function Nt(e,r){r==null?e.removeAttribute("class"):e.className=r}function Ci(e,r,t,n){Array.isArray(t)?(e[`$$${r}`]=t[0],e[`$$${r}Data`]=t[1]):e[`$$${r}`]=t}function Vi(e,r,t){if(!r)return t?$e(e,"style"):r;const n=e.style;if(typeof r=="string")return n.cssText=r;typeof t=="string"&&(n.cssText=t=void 0),t||(t={}),r||(r={});let i,o;for(o in t)r[o]==null&&n.removeProperty(o),delete t[o];for(o in r)i=r[o],i!==t[o]&&(n.setProperty(o,i),t[o]=i);return t}function aa(e,r,t){return et(()=>e(r,t))}function N(e,r,t,n){if(t!==void 0&&!n&&(n=[]),typeof r!="function")return Mp(e,r,n,t);ze(i=>Mp(e,r(),i,t),n)}function lM(e){let r=e.target;const t=`$$${e.type}`,n=e.target,i=e.currentTarget,o=d=>Object.defineProperty(e,"target",{configurable:!0,value:d}),s=()=>{const d=r[t];if(d&&!r.disabled){const h=r[`${t}Data`];if(h!==void 0?d.call(r,h,e):d.call(r,e),e.cancelBubble)return}return r.host&&typeof r.host!="string"&&!r.host._$host&&r.contains(e.target)&&o(r.host),!0},u=()=>{for(;s()&&(r=r._$host||r.parentNode||r.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}}),e.composedPath){const d=e.composedPath();o(d[0]);for(let h=0;h<d.length-2&&(r=d[h],!!s());h++){if(r._$host){r=r._$host,u();break}if(r.parentNode===i)break}}else u();o(n)}function Mp(e,r,t,n,i){for(;typeof t=="function";)t=t();if(r===t)return t;const o=typeof r,s=n!==void 0;if(e=s&&t[0]&&t[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(r=r.toString(),r===t))return t;if(s){let u=t[0];u&&u.nodeType===3?u.data!==r&&(u.data=r):u=document.createTextNode(r),t=pd(e,t,n,u)}else t!==""&&typeof t=="string"?t=e.firstChild.data=r:t=e.textContent=r}else if(r==null||o==="boolean")t=pd(e,t,n);else{if(o==="function")return ze(()=>{let u=r();for(;typeof u=="function";)u=u();t=Mp(e,u,t,n)}),()=>t;if(Array.isArray(r)){const u=[],d=t&&Array.isArray(t);if(Mg(u,r,t,i))return ze(()=>t=Mp(e,u,t,n,!0)),()=>t;if(u.length===0){if(t=pd(e,t,n),s)return t}else d?t.length===0?Mm(e,u,n):aM(e,t,u):(t&&pd(e),Mm(e,u));t=u}else if(r.nodeType){if(Array.isArray(t)){if(s)return t=pd(e,t,n,r);pd(e,t,null,r)}else t==null||t===""||!e.firstChild?e.appendChild(r):e.replaceChild(r,e.firstChild);t=r}}return t}function Mg(e,r,t,n){let i=!1;for(let o=0,s=r.length;o<s;o++){let u=r[o],d=t&&t[e.length],h;if(!(u==null||u===!0||u===!1))if((h=typeof u)=="object"&&u.nodeType)e.push(u);else if(Array.isArray(u))i=Mg(e,u,d)||i;else if(h==="function")if(n){for(;typeof u=="function";)u=u();i=Mg(e,Array.isArray(u)?u:[u],Array.isArray(d)?d:[d])||i}else e.push(u),i=!0;else{const p=String(u);d&&d.nodeType===3&&d.data===p?e.push(d):e.push(document.createTextNode(p))}}return i}function Mm(e,r,t=null){for(let n=0,i=r.length;n<i;n++)e.insertBefore(r[n],t)}function pd(e,r,t,n){if(t===void 0)return e.textContent="";const i=n||document.createTextNode("");if(r.length){let o=!1;for(let s=r.length-1;s>=0;s--){const u=r[s];if(i!==u){const d=u.parentNode===e;!o&&!s?d?e.replaceChild(i,u):e.insertBefore(i,t):d&&u.remove()}else o=!0}}else e.insertBefore(i,t);return[i]}const sM="http://www.w3.org/2000/svg";function cM(e,r=!1){return r?document.createElementNS(sM,e):document.createElement(e)}function uM(e){const{useShadow:r}=e,t=document.createTextNode(""),n=()=>e.mount||document.body,i=XS();let o;return nt(()=>{o||(o=d5(i,()=>Gr(()=>e.children)));const s=n();if(s instanceof HTMLHeadElement){const[u,d]=ye(!1),h=()=>d(!0);Td(p=>N(s,()=>u()?p():o(),null)),_n(h)}else{const u=cM(e.isSVG?"g":"div",e.isSVG),d=r&&u.attachShadow?u.attachShadow({mode:"open"}):u;Object.defineProperty(u,"_$host",{get(){return t.parentNode},configurable:!0}),N(d,o),s.appendChild(u),e.ref&&e.ref(u),_n(()=>s.removeChild(u))}},void 0,{render:!0}),t}const Eg=Symbol("store-raw"),Id=Symbol("store-node"),Ll=Symbol("store-has"),y5=Symbol("store-self");function x5(e){let r=e[Ho];if(!r&&(Object.defineProperty(e,Ho,{value:r=new Proxy(e,pM)}),!Array.isArray(e))){const t=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,o=t.length;i<o;i++){const s=t[i];n[s].get&&Object.defineProperty(e,s,{enumerable:n[s].enumerable,get:n[s].get.bind(r)})}}return r}function As(e){let r;return e!=null&&typeof e=="object"&&(e[Ho]||!(r=Object.getPrototypeOf(e))||r===Object.prototype||Array.isArray(e))}function Fd(e,r=new Set){let t,n,i,o;if(t=e!=null&&e[Eg])return t;if(!As(e)||r.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):r.add(e);for(let s=0,u=e.length;s<u;s++)i=e[s],(n=Fd(i,r))!==i&&(e[s]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):r.add(e);const s=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let d=0,h=s.length;d<h;d++)o=s[d],!u[o].get&&(i=e[o],(n=Fd(i,r))!==i&&(e[o]=n))}return e}function Ep(e,r){let t=e[r];return t||Object.defineProperty(e,r,{value:t=Object.create(null)}),t}function I1(e,r,t){if(e[r])return e[r];const[n,i]=ye(t,{equals:!1,internal:!0});return n.$=i,e[r]=n}function dM(e,r){const t=Reflect.getOwnPropertyDescriptor(e,r);return!t||t.get||!t.configurable||r===Ho||r===Id||(delete t.value,delete t.writable,t.get=()=>e[Ho][r]),t}function C5(e){kg()&&I1(Ep(e,Id),y5)()}function hM(e){return C5(e),Reflect.ownKeys(e)}const pM={get(e,r,t){if(r===Eg)return e;if(r===Ho)return t;if(r===_g)return C5(e),t;const n=Ep(e,Id),i=n[r];let o=i?i():e[r];if(r===Id||r===Ll||r==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,r);kg()&&(typeof o!="function"||e.hasOwnProperty(r))&&!(s&&s.get)&&(o=I1(n,r,o)())}return As(o)?x5(o):o},has(e,r){return r===Eg||r===Ho||r===_g||r===Id||r===Ll||r==="__proto__"?!0:(kg()&&I1(Ep(e,Ll),r)(),r in e)},set(){return!0},deleteProperty(){return!0},ownKeys:hM,getOwnPropertyDescriptor:dM};function Ia(e,r,t,n=!1){if(!n&&e[r]===t)return;const i=e[r],o=e.length;t===void 0?(delete e[r],e[Ll]&&e[Ll][r]&&i!==void 0&&e[Ll][r].$()):(e[r]=t,e[Ll]&&e[Ll][r]&&i===void 0&&e[Ll][r].$());let s=Ep(e,Id),u;if((u=I1(s,r,i))&&u.$(()=>t),Array.isArray(e)&&e.length!==o){for(let d=e.length;d<o;d++)(u=s[d])&&u.$();(u=I1(s,"length",o))&&u.$(e.length)}(u=s[y5])&&u.$()}function b5(e,r){const t=Object.keys(r);for(let n=0;n<t.length;n+=1){const i=t[n];Ia(e,i,r[i])}}function fM(e,r){if(typeof r=="function"&&(r=r(e)),r=Fd(r),Array.isArray(r)){if(e===r)return;let t=0,n=r.length;for(;t<n;t++){const i=r[t];e[t]!==i&&Ia(e,t,i)}Ia(e,"length",n)}else b5(e,r)}function p1(e,r,t=[]){let n,i=e;if(r.length>1){n=r.shift();const s=typeof n,u=Array.isArray(e);if(Array.isArray(n)){for(let d=0;d<n.length;d++)p1(e,[n[d]].concat(r),t);return}else if(u&&s==="function"){for(let d=0;d<e.length;d++)n(e[d],d)&&p1(e,[d].concat(r),t);return}else if(u&&s==="object"){const{from:d=0,to:h=e.length-1,by:p=1}=n;for(let v=d;v<=h;v+=p)p1(e,[v].concat(r),t);return}else if(r.length>1){p1(e[n],r,[n].concat(t));return}i=e[n],t=[n].concat(t)}let o=r[0];typeof o=="function"&&(o=o(i,t),o===i)||n===void 0&&o==null||(o=Fd(o),n===void 0||As(i)&&As(o)&&!Array.isArray(o)?b5(i,o):Ia(e,n,o))}function Ds(...[e,r]){const t=Fd(e||{}),n=Array.isArray(t),i=x5(t);function o(...s){Il(()=>{n&&s.length===1?fM(t,s[0]):p1(t,s)})}return[i,o]}const Tg=Symbol("store-root");function bd(e,r,t,n,i){const o=r[t];if(e===o)return;const s=Array.isArray(e);if(t!==Tg&&(!As(e)||!As(o)||s!==Array.isArray(o)||i&&e[i]!==o[i])){Ia(r,t,e);return}if(s){if(e.length&&o.length&&(!n||i&&e[0]&&e[0][i]!=null)){let h,p,v,m,C,b,w,_;for(v=0,m=Math.min(o.length,e.length);v<m&&(o[v]===e[v]||i&&o[v]&&e[v]&&o[v][i]===e[v][i]);v++)bd(e[v],o,v,n,i);const S=new Array(e.length),M=new Map;for(m=o.length-1,C=e.length-1;m>=v&&C>=v&&(o[m]===e[C]||i&&o[m]&&e[C]&&o[m][i]===e[C][i]);m--,C--)S[C]=o[m];if(v>C||v>m){for(p=v;p<=C;p++)Ia(o,p,e[p]);for(;p<e.length;p++)Ia(o,p,S[p]),bd(e[p],o,p,n,i);o.length>e.length&&Ia(o,"length",e.length);return}for(w=new Array(C+1),p=C;p>=v;p--)b=e[p],_=i&&b?b[i]:b,h=M.get(_),w[p]=h===void 0?-1:h,M.set(_,p);for(h=v;h<=m;h++)b=o[h],_=i&&b?b[i]:b,p=M.get(_),p!==void 0&&p!==-1&&(S[p]=o[h],p=w[p],M.set(_,p));for(p=v;p<e.length;p++)p in S?(Ia(o,p,S[p]),bd(e[p],o,p,n,i)):Ia(o,p,e[p])}else for(let h=0,p=e.length;h<p;h++)bd(e[h],o,h,n,i);o.length>e.length&&Ia(o,"length",e.length);return}const u=Object.keys(e);for(let h=0,p=u.length;h<p;h++)bd(e[u[h]],o,u[h],n,i);const d=Object.keys(o);for(let h=0,p=d.length;h<p;h++)e[d[h]]===void 0&&Ia(o,d[h],void 0)}function w5(e,r={}){const{merge:t,key:n="id"}=r,i=Fd(e);return o=>{if(!As(o)||!As(i))return i;const s=bd(i,{[Tg]:o},Tg,t,n);return s===void 0?o:s}}function Ig(e,r){switch(e){case"Etc/UTC":return L("utc",r);case"Pacific/Honolulu":return L("honolulu",r);case"America/Juneau":return L("juneau",r);case"America/Los_Angeles":return L("los_angeles",r);case"America/Chicago":return L("chicago",r);case"America/Toronto":return L("toronto",r);case"America/Sao_Paulo":return L("sao_paulo",r);case"Europe/London":return L("london",r);case"Europe/Berlin":return L("berlin",r);case"Asia/Bahrain":return L("bahrain",r);case"Asia/Dubai":return L("dubai",r);case"Asia/Ashkhabad":return L("ashkhabad",r);case"Asia/Almaty":return L("almaty",r);case"Asia/Bangkok":return L("bangkok",r);case"Asia/Shanghai":return L("shanghai",r);case"Asia/Tokyo":return L("tokyo",r);case"Australia/Sydney":return L("sydney",r);case"Pacific/Norfolk":return L("norfolk",r)}return e}function gM(e){return[{key:"Etc/UTC",text:L("utc",e)},{key:"Pacific/Honolulu",text:L("honolulu",e)},{key:"America/Juneau",text:L("juneau",e)},{key:"America/Los_Angeles",text:L("los_angeles",e)},{key:"America/Chicago",text:L("chicago",e)},{key:"America/Toronto",text:L("toronto",e)},{key:"America/Sao_Paulo",text:L("sao_paulo",e)},{key:"Europe/London",text:L("london",e)},{key:"Europe/Berlin",text:L("berlin",e)},{key:"Asia/Bahrain",text:L("bahrain",e)},{key:"Asia/Dubai",text:L("dubai",e)},{key:"Asia/Ashkhabad",text:L("ashkhabad",e)},{key:"Asia/Almaty",text:L("almaty",e)},{key:"Asia/Bangkok",text:L("bangkok",e)},{key:"Asia/Shanghai",text:L("shanghai",e)},{key:"Asia/Tokyo",text:L("tokyo",e)},{key:"Australia/Sydney",text:L("sydney",e)},{key:"Pacific/Norfolk",text:L("norfolk",e)}]}class _5{constructor(r){De(this,"customOverrides",null),De(this,"isLightTheme"),this.customOverrides=r||null,this.isLightTheme=t=>t==="Light Theme 1"||t==="Light Theme 2"}hasCustomStyles(){return this.customOverrides!==null&&this.hasAnyCustomOverrides()}getStyledWithOverrides(r,t){if(!this.hasCustomStyles())return r;let n=Je.cloneDeep(r);const i=this.customOverrides;return i.global&&(n=Je.merge(n,i.global)),this.isLightTheme(t)&&i.light?n=Je.merge(n,i.light):!this.isLightTheme(t)&&i.dark&&(n=Je.merge(n,i.dark)),i.themes&&i.themes[t]&&(n=Je.merge(n,i.themes[t])),n}updateCustomOverrides(r){this.customOverrides=r}getCustomOverrides(){return this.customOverrides?Je.cloneDeep(this.customOverrides):null}clearCustomOverrides(){this.customOverrides=null}hasAnyCustomOverrides(){if(!this.customOverrides)return!1;const{global:r,light:t,dark:n,themes:i}=this.customOverrides;return!!(r&&Object.keys(r).length>0||t&&Object.keys(t).length>0||n&&Object.keys(n).length>0||i&&Object.keys(i).length>0)}}let up=null;function vM(e){up=new _5(e)}function f1(){return up||(up=new _5),up}let Ni=C2();const mM=()=>({...Ni,grid:{...Ni.grid,horizontal:{...Ni.grid.horizontal,color:"rgb(178, 181, 190)"},vertical:{...Ni.grid.vertical,color:"rgb(178, 181, 190)"}}}),yM=()=>({...Ni,grid:{...Ni.grid,horizontal:{...Ni.grid.horizontal,color:"rgb(42, 46, 57)"},vertical:{...Ni.grid.vertical,color:"rgb(42, 46, 57)"}},xAxis:{...Ni.xAxis,axisLine:{...Ni.xAxis.axisLine,color:"rgb(42, 46, 57)"}},yAxis:{...Ni.yAxis,axisLine:{...Ni.yAxis.axisLine,color:"rgb(42, 46, 57)"}}}),xM=e=>e==="Light Theme 1"||e==="Light Theme 2"?mM():yM(),zi=e=>{const r=xM(e);return f1().getStyledWithOverrides(r,e)},CM=e=>{Ni=Je.merge({},Ni,e)},k5=()=>({axis:{position:"right",inside:!1,reverse:!1,scrollZoomEnabled:!0,gap:{top:.2,bottom:.1}},dragEnabled:!0,state:"normal"}),bM=()=>(console.warn("No getStoreCallback set."),null),wM=()=>(console.warn("No updateStoreCallback set."),null),_M=()=>(console.warn("No deleteStoreCallback set."),null);class kM{async getAllLayouts(){try{return console.warn("Retrieving from Store"),vp&&!bM()?(console.warn("No callback is set. "),{}):localStorage}catch(r){console.warn("Error getting all layouts: ",r)}return{}}async removeStorage(r){try{if(vp){const t=_M();t&&await t(r)}else localStorage.removeItem(r)}catch(t){console.warn("Error removing storage: ",t)}}async addToStore(r,t){try{if(vp){const n=wM();n&&await n(r,t)}else localStorage.setItem(r,JSON.stringify(t))}catch(n){console.warn("Error updating storage: ",n)}}getLayoutEntry(r,t){return Object.entries(t).map(([n,i])=>({key:n,value:i})).find(n=>n.key===r)}async getLayoutFromStore(r){try{const t=await this.getAllLayouts();if(t instanceof Storage)return JSON.parse(t.getItem(r));const n=this.getLayoutEntry(r,t);return n?n.value:null}catch(t){console.warn("Error getting layout from store: ",t)}return{indicatorStore:{indicators:[]},stylesStore:{},overlayStore:{overlay:{},tickerInfo:{}}}}}const[Em,SM]=ye(null),[MM,Xg]=ye("default"),[EM,Tm]=ye(!1),wd=()=>({indicatorStore:{indicators:[]},stylesStore:Ar()==="Light Theme 1"||Ar()==="Light Theme 2"?zi("Light Theme 1"):zi("Dark Theme"),overlayStore:[],paneOptionsStore:{paneOptions:k5()}}),S5=class M5{constructor(r){De(this,"chart"),De(this,"storageProvider"),De(this,"stylesStore","stylesStore"),De(this,"indicatorStore","indicatorStore"),De(this,"overlayStore","overlayStore"),De(this,"paneOptionsStore","paneOptionsStore"),De(this,"defaultLayoutStore","default_mainStore"),this.chart=r,this.storageProvider=new kM}static getInstance(r){return this.instances.has(r)||this.instances.set(r,new M5(r)),this.instances.get(r)}get getSelectedLayoutName(){return(et(MM).replace(/\s+/g,"")??"default")+"_mainStore"}getDefaultLayout(){return this.defaultLayoutStore.replace("_mainStore","")}isDefaultLayout(){return this.getSelectedLayoutName===this.defaultLayoutStore}async getNameOfAllLayouts(){try{const r=[],t=await this.storageProvider.getAllLayouts();let n=0;r.push(this.getDefaultLayout()),t instanceof Storage?n=t.length:n=Object.keys(t).length;for(let i=0;i<n;i++)if(t instanceof Storage){const o=t.key(i);o!=null&&o.endsWith("_mainStore")&&r.push(o.replace("_mainStore",""))}else{const o=Object.keys(t)[i];o.endsWith("_mainStore")&&r.push(o.replace("_mainStore",""))}return r}catch(r){console.warn("Error getting the list of all names for layouts: ",r)}return[]}saveIndicators(){if(!(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore))try{const r=this.createIndicatorStoreFromChart();this.addDataToLayout(this.indicatorStore,r)}catch(r){console.warn("Error saving indicators:",r)}}async getIndicators(r){try{if(this.getSelectedLayoutName===this.defaultLayoutStore)return{indicators:[]};if(r){const t=r[this.indicatorStore];if(t)return t}}catch(t){console.warn("Error getting indicators: ",t)}return{indicators:[]}}saveStyles(){if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore)return;const r=this.getStylesFromChart();if(r)try{this.addDataToLayout(this.stylesStore,r)}catch(t){console.warn("Error saving styles:",t)}}async getStyles(r){if(this.getSelectedLayoutName===this.defaultLayoutStore)return null;try{if(r){const t=r[this.stylesStore];if(t)return t}}catch(t){console.warn("Error getting styles:",t)}return null}savePaneOptions(){if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore)return;const r={paneOptions:this.getPaneOptionsFromChart()};if(r)try{this.addDataToLayout(this.paneOptionsStore,r)}catch(t){console.warn("Error saving pane options:",t)}}async getPaneOptionsFromStore(r){if(this.getSelectedLayoutName===this.defaultLayoutStore)return{paneOptions:{}};try{if(r){const t=r[this.paneOptionsStore];if(t)return t}}catch(t){console.warn("Error getting pane options from store:",t)}return{paneOptions:{}}}removeNullValuesAndSpecificFields(r,t){const n={};for(const i in r){const o=r[i];t.includes(i)||o!==null&&(typeof o=="object"&&!Array.isArray(o)?n[i]=this.removeNullValuesAndSpecificFields(o,t):n[i]=o)}return n}async saveOverlay(r){if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore||r===null||Em()===null)return;const t={overlay:this.removeNullValuesAndSpecificFields(r,["visible","lock","zLevel","mode","needDefaultPointFigure","needDefaultXAxisFigure","needDefaultYAxisFigure","modeSensitivity","totalStep","currentStep","groupId","_prevPressedPoints","logo","paneId","createPointFigures","createYAxisFigures","createXAxisFigures","onDrawStart","onDrawing","onDrawEnd","onPressedMoveStart","onPressedMoving","onPressedMoveEnd","onMoveStart","onMoving","onMoveEnd","onRightClick","onClick"]),tickerInfo:this.getActiveChartTicker()};try{const n=await this.getLayoutFromStore()??wd();let i=await this.getOverlays(n);Array.isArray(i)||(i=[]),i==null||i.push(t),this.addDataToLayout(this.overlayStore,i)}catch(n){console.warn("Error saving overlay:",n)}}async overrideOverlay(r){try{if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore||r===null)return;const t=await this.getLayoutFromStore()??wd();let n=await this.getOverlays(t);if(!n||n.length===0){console.warn("No overlays found, nothing to override");return}n.forEach(i=>{i.overlay.id===(r==null?void 0:r.id)&&(console.log("Found overlay in store, overriding... ",r==null?void 0:r.id),i.overlay.styles=r.styles,r.extendData&&(i.overlay.extendData=r.extendData))}),this.addDataToLayout(this.overlayStore,n)}catch(t){console.warn("Error overriding overlay: ",t)}}async deleteOverlay(r){if(!(!this.chart||!this.getSelectedLayoutName))try{this.chart.removeOverlay(r);const t=await this.getLayoutFromStore();if(t){console.log("Deleting overlay for ticker: ",this.getActiveChartTicker());const n=t.overlayStore.filter(i=>i.overlay.id!==r.id);await this.addDataToLayout(this.overlayStore,n)}else console.warn("Unable to delete overlay, layout not found")}catch(t){console.warn("Error deleting overlay:",t)}}async getOverlays(r){if(this.getSelectedLayoutName===this.defaultLayoutStore)return[];if(r){const t=r[this.overlayStore];if(t)return t}return[]}async removeAllOverlays(r=!1){var t;if((t=this.chart.getOverlays())==null||t.forEach(n=>{this.chart.removeOverlay(n)}),r){const n=await this.getLayoutFromStore();n&&(Je.forEach(n.overlayStore,i=>{var o;i.tickerInfo.ticker===((o=this.getActiveChartTicker())==null?void 0:o.ticker)&&(n.overlayStore=n.overlayStore.filter(s=>s!==i))}),this.addDataToLayout(this.overlayStore,n.overlayStore))}}async updateLayoutName(r){if(this.getSelectedLayoutName!==this.defaultLayoutStore)try{const t=await this.getLayoutFromStore()??wd();if(t){const n=r.replace(/\s+/g,"")+"_mainStore",i={indicatorStore:t[this.indicatorStore],stylesStore:t[this.stylesStore],overlayStore:t[this.overlayStore],paneOptionsStore:t[this.paneOptionsStore]};await this.storageProvider.addToStore(n,i),await this.storageProvider.removeStorage(this.getSelectedLayoutName),Xg(r)}}catch(t){console.warn("Error updating store name:",t)}}getActiveChartTicker(){return Em()}async removeStorage(){this.getSelectedLayoutName!==this.getDefaultLayout()&&await this.storageProvider.removeStorage(this.getSelectedLayoutName)}async addDataToLayout(r,t){try{console.warn("Adding data to Store");let n;if(EM()?n=await this.getLayoutFromStore()??wd():n=this.createLayoutFromChart(),n){const i=n instanceof Storage?JSON.parse(n):n;i&&(i[r]=t,await this.storageProvider.addToStore(this.getSelectedLayoutName,i))}}catch(n){console.warn("Error updating storage: ",n)}}async getLayoutFromStore(){return await this.storageProvider.getLayoutFromStore(this.getSelectedLayoutName)}getDefaultLayoutData(){return wd()}createLayoutFromChart(){var r;const t=this.createIndicatorStoreFromChart(),n=this.getStylesFromChart(),i={paneOptions:this.getPaneOptionsFromChart()},o=[];return(r=this.chart.getOverlays())==null||r.forEach(s=>{o.push({overlay:s,tickerInfo:this.getActiveChartTicker()})}),{indicatorStore:t,stylesStore:n,overlayStore:o,paneOptionsStore:i}}createIndicatorStoreFromChart(){const r=this.chart.getIndicators(),t=r.filter(i=>i.paneId==="candle_pane");r.forEach(i=>{E1.forEach(o=>{o===i.name&&t.push(i)})});const n=[];return Je.forEach(t,i=>{const o={id:i.id,name:i.name,paneId:i.paneId,calcParams:i.calcParams,visible:i.visible,zLevel:i.zLevel,precision:i.precision,shortName:i.shortName,shouldOhlc:i.shouldOhlc,shouldFormatBigNumber:i.shouldFormatBigNumber,extendData:i.extendData,series:i.series,minValue:i.minValue,maxValue:i.maxValue,styles:i.styles,figures:i.figures};n.push(o)}),{indicators:n}}getStylesFromChart(){return this.chart.getStyles()}getPaneOptionsFromChart(){const r=this.chart.getPaneOptions();return r===null?{}:Array.isArray(r)?r.length>0?r[0]:{}:r||{}}};De(S5,"instances",new Map);let ut=S5;function Lg(e,r,t,n,i){const o={name:r,visible:!0,createTooltipDataSource:({indicator:u,crosshair:d})=>{var h,p;const v=u.result,m=((p=(h=d.kLineData)==null?void 0:h.timestamp)==null?void 0:p.toString())??"",C=v[m],b=[];if(C){for(const $ in C)if(Object.prototype.hasOwnProperty.call(C,$)&&C[$]!==void 0){let D=e.getStyles().indicator.lines[b.length%e.getStyles().indicator.lines.length].color;const z=u.styles;z&&(z.lines?D=z.lines[b.length%z.lines.length].color:z.circles&&(D=z.circles[b.length%z.circles.length].upColor)),b.push({title:$.toUpperCase()+": ",value:{text:C[$].toFixed(2),color:D}})}}const w=[],_=e.getStyles().indicator.tooltip.features,S=_.find($=>$.id==="visible"),M=_.find($=>$.id==="invisible"),I=_.find($=>$.id==="setting"),A=_.find($=>$.id==="close"),P=$=>$&&{...$,marginTop:2,marginLeft:4};return u.visible?(S&&w.push(P(S)),I&&w.push(P(I)),A&&w.push(P(A))):(M&&w.push(P(M)),I&&w.push(P(I)),A&&w.push(P(A))),{name:u.name,calcParamsText:"",features:w,legends:b}}},s=(e==null?void 0:e.createIndicator(o,n,i))??null;return t&&ut.getInstance(e).saveIndicators(),s}const TM=(e,r,t)=>{let n=r,i=n;switch(e.timespan){case"minute":{n=n-n%(60*1e3),i=n-t*e.multiplier*60*1e3;break}case"hour":{n=n-n%(60*60*1e3),i=n-t*e.multiplier*60*60*1e3;break}case"day":{n=n-n%(60*60*1e3),i=n-t*e.multiplier*24*60*60*1e3;break}case"week":{const o=new Date(n).getDay(),s=o===0?6:o-1;n=n-s*60*60*24;const u=new Date(n);n=new Date(`${u.getFullYear()}-${u.getMonth()+1}-${u.getDate()}`).getTime(),i=t*e.multiplier*7*24*60*60*1e3;break}case"month":{const o=new Date(n),s=o.getFullYear(),u=o.getMonth()+1;n=new Date(`${s}-${u}-01`).getTime(),i=t*e.multiplier*30*24*60*60*1e3;const d=new Date(i);i=new Date(`${d.getFullYear()}-${d.getMonth()+1}-01`).getTime();break}case"year":{const o=new Date(n).getFullYear();n=new Date(`${o}-01-01`).getTime(),i=t*e.multiplier*365*24*60*60*1e3;const s=new Date(i);i=new Date(`${s.getFullYear()}-01-01`).getTime();break}}return[i,n]},IM=e=>{e.getIndicators().forEach(r=>{e.removeIndicator({id:r.id})})};function LM(e,r,t,n){if(e&&e.length>0){t([]),n({});const i=e.map(d=>d.name),o=OS(i),s=RS(i);t(o);const u={};e.forEach(d=>{if(r!=null){const h={name:d.name,id:d.id,calcParams:d.calcParams,visible:d.visible,zLevel:d.zLevel,precision:d.precision,shortName:d.shortName,shouldOhlc:d.shouldOhlc,shouldFormatBigNumber:d.shouldFormatBigNumber,series:d.series,minValue:d.minValue,maxValue:d.maxValue,styles:d.styles,figures:d.figures};if(s.includes(d.name)){const p=r.getIndicators({name:d.name});if(p.length===0){const v=r.createIndicator(h,!0);v&&(u[d.name]=v)}else{const v=p[0];r.overrideIndicator({id:v.id,name:d.name,calcParams:d.calcParams,styles:d.styles,visible:d.visible,zLevel:d.zLevel,precision:d.precision,shortName:d.shortName,shouldOhlc:d.shouldOhlc,shouldFormatBigNumber:d.shouldFormatBigNumber,series:d.series,minValue:d.minValue,maxValue:d.maxValue,figures:d.figures}),u[d.name]=v.paneId}}else{const p=r.getIndicators({paneId:"candle_pane",name:d.name});p.length===0?r.createIndicator(h,!0,{id:"candle_pane"}):r.overrideIndicator({id:p[0].id,name:d.name,calcParams:d.calcParams,styles:d.styles,visible:d.visible,zLevel:d.zLevel,precision:d.precision,shortName:d.shortName,shouldOhlc:d.shouldOhlc,shouldFormatBigNumber:d.shouldFormatBigNumber,series:d.series,minValue:d.minValue,maxValue:d.maxValue,figures:d.figures})}}}),n(u)}}function PM(e,r){e.forEach(t=>{r!=null&&r.getIndicators({paneId:"candle_pane",name:t}).length===0&&Lg(r,t,!1,!0,{id:"candle_pane"})})}var AM=te("<button>");const E5=e=>(()=>{var r=AM();return Ci(r,"click",e.onClick),N(r,()=>e.children),ze(t=>{var n=e.style,i=`chartspire-ui-button ${e.type??"confirm"} ${e.class??""}`;return t.e=Vi(r,n,t.e),i!==t.t&&Nt(r,t.t=i),t},{e:void 0,t:void 0}),r})();yr(["click"]);var DM=te('<svg viewBox="0 0 1024 1024"class=icon><path d="M810.666667 128H213.333333c-46.933333 0-85.333333 38.4-85.333333 85.333333v597.333334c0 46.933333 38.4 85.333333 85.333333 85.333333h597.333334c46.933333 0 85.333333-38.4 85.333333-85.333333V213.333333c0-46.933333-38.4-85.333333-85.333333-85.333333z m-353.706667 567.04a42.496 42.496 0 0 1-60.16 0L243.626667 541.866667c-8.106667-8.106667-12.373333-18.773333-12.373334-29.866667s4.693333-22.186667 12.373334-29.866667a42.496 42.496 0 0 1 60.16 0L426.666667 604.586667l293.546666-293.546667a42.496 42.496 0 1 1 60.16 60.16l-323.413333 323.84z">'),FM=te('<svg viewBox="0 0 1024 1024"class=icon><path d="M245.333333 128h533.333334A117.333333 117.333333 0 0 1 896 245.333333v533.333334A117.333333 117.333333 0 0 1 778.666667 896H245.333333A117.333333 117.333333 0 0 1 128 778.666667V245.333333A117.333333 117.333333 0 0 1 245.333333 128z m0 64c-29.44 0-53.333333 23.893333-53.333333 53.333333v533.333334c0 29.44 23.893333 53.333333 53.333333 53.333333h533.333334c29.44 0 53.333333-23.893333 53.333333-53.333333V245.333333c0-29.44-23.893333-53.333333-53.333333-53.333333H245.333333z">'),OM=te("<div>"),RM=te("<span class=label>");const NM=()=>DM(),zM=()=>FM(),VM=e=>{const[r,t]=ye(e.checked??!1);return nt(()=>{"checked"in e&&t(e.checked)}),(()=>{var n=OM();return n.$$click=i=>{const o=!r();e.onChange!=null&&e.onChange(o),t(o)},N(n,(()=>{var i=Le(()=>!!e.label);return()=>i()&&(()=>{var o=RM();return N(o,()=>e.label),o})()})(),null),N(n,(()=>{var i=Le(()=>!!r());return()=>i()?ae(NM,{}):ae(zM,{})})(),null),ze(i=>{var o=e.style,s=`chartspire-ui-checkbox ${r()&&"checked"||""} ${e.class||""}`;return i.e=Vi(n,o,i.e),s!==i.t&&Nt(n,i.t=s),i},{e:void 0,t:void 0}),n})()};yr(["click"]);var BM=te("<div class=chartspire-ui-loading><div class=loading-container><div class=spinner><div class=spinner-ring></div><div class=spinner-ring></div><div class=spinner-ring></div></div><div class=loading-text>Loading...");const T5=()=>BM();var $M=te('<div class=chartspire-ui-empty><svg class=icon viewBox="0 0 1024 1024"><path d="M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z">');const WM=()=>$M();var UM=te("<ul>"),HM=te("<li>");const I5=e=>(()=>{var r=UM();return N(r,ae(Ke,{get when(){return e.loading},get children(){return ae(T5,{})}}),null),N(r,ae(Ke,{get when(){var t;return!e.loading&&!e.children&&!((t=e.dataSource)!=null&&t.length)},get children(){return ae(WM,{})}}),null),N(r,ae(Ke,{get when(){return e.children},get children(){return e.children}}),null),N(r,ae(Ke,{get when(){return!e.children},get children(){var t;return(t=e.dataSource)==null?void 0:t.map(n=>{var i;return((i=e.renderItem)==null?void 0:i.call(e,n))??HM()})}}),null),ze(t=>{var n=e.style,i=`chartspire-ui-list ${e.class??""}`;return t.e=Vi(r,n,t.e),i!==t.t&&Nt(r,t.t=i),t},{e:void 0,t:void 0}),r})();var YM=te('<div><div class=inner><div class=title-container><svg class=close-icon viewBox="0 0 1024 1024"><path d="M934.184927 199.723787 622.457206 511.452531l311.727721 311.703161c14.334473 14.229073 23.069415 33.951253 23.069415 55.743582 0 43.430138-35.178197 78.660524-78.735226 78.660524-21.664416 0-41.361013-8.865925-55.642275-23.069415L511.149121 622.838388 199.420377 934.490384c-14.204513 14.20349-33.901111 23.069415-55.642275 23.069415-43.482327 0-78.737272-35.230386-78.737272-78.660524 0-21.792329 8.864902-41.513486 23.094998-55.743582l311.677579-311.703161L88.135828 199.723787c-14.230096-14.255679-23.094998-33.92567-23.094998-55.642275 0-43.430138 35.254945-78.762855 78.737272-78.762855 21.741163 0 41.437761 8.813736 55.642275 23.069415l311.727721 311.727721L822.876842 88.389096c14.281261-14.255679 33.977859-23.069415 55.642275-23.069415 43.557028 0 78.735226 35.332716 78.735226 78.762855C957.254342 165.798117 948.5194 185.468109 934.184927 199.723787"></path></svg></div><div class=content-container>'),XM=te("<div class=button-container>");const zl=e=>{const[r,t]=ye(!1);return Bi(()=>{setTimeout(()=>{t(!0)},10)}),(()=>{var n=YM(),i=n.firstChild,o=i.firstChild,s=o.firstChild,u=o.nextSibling;return N(o,()=>e.title,s),Ci(s,"click",e.onClose),N(u,()=>e.children),N(i,(()=>{var d=Le(()=>e.buttons!=null&&e.buttons.length>0);return()=>d()&&(()=>{var h=XM();return N(h,()=>e.buttons.map(p=>ae(E5,zp(p,{get children(){return p.children}})))),ze(p=>(p=e.buttonContainerPadding??"15px 20px 15px")!=null?h.style.setProperty("padding",p):h.style.removeProperty("padding")),h})()})(),null),ze(d=>{var h=`chartspire-ui-modal ${r()?"modal-show":""}`,p=`${e.width??400}px`,v=`${e.height??"80%"}`,m={...e.contentHeight!==void 0&&{height:typeof e.contentHeight=="string"?e.contentHeight:`${e.contentHeight}px`},padding:e.padding??"0 26px"};return h!==d.e&&Nt(n,d.e=h),p!==d.t&&((d.t=p)!=null?i.style.setProperty("width",p):i.style.removeProperty("width")),v!==d.a&&((d.a=v)!=null?i.style.setProperty("height",v):i.style.removeProperty("height")),d.o=Vi(u,m,d.o),d},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()};yr(["click"]);var jM=te("<div tabindex=0><div class=selector-container><span class=value></span><i class=arrow>"),ZM=te("<div class=drop-down-container><ul>"),GM=te("<li>");const D1=e=>{const[r,t]=ye(!1),[n,i]=ye(e.value);return(()=>{var o=jM(),s=o.firstChild,u=s.firstChild;return o.addEventListener("blur",d=>{t(!1)}),o.$$click=d=>{t(h=>!h)},N(u,n),N(o,(()=>{var d=Le(()=>e.dataSource!=null&&e.dataSource.length>0);return()=>d()&&(()=>{var h=ZM(),p=h.firstChild;return N(p,()=>e.dataSource.map(v=>{const m=v[e.valueKey??"text"]??v;return(()=>{var C=GM();return C.$$click=b=>{var w;b.stopPropagation(),n()!==m&&(i(m),(w=e.onSelected)==null||w.call(e,v)),t(!1)},N(C,m),C})()})),h})()})(),null),ze(d=>{var h=e.style,p=`chartspire-ui-select ${e.class??""} ${r()?"chartspire-ui-select-show":""}`;return d.e=Vi(o,h,d.e),p!==d.t&&Nt(o,d.t=p),d},{e:void 0,t:void 0}),o})()};yr(["click"]);var qM=te("<span class=prefix>"),KM=te("<span class=suffix>"),QM=te("<div><input class=value>");const $o=e=>{const r=zp({min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},e);let t;const[n,i]=ye("normal");return(()=>{var o=QM(),s=o.firstChild;return o.$$click=()=>{t==null||t.focus()},N(o,ae(Ke,{get when(){return r.prefix},get children(){var u=qM();return N(u,()=>r.prefix),u}}),s),Ci(s,"input",r.onInput),s.addEventListener("change",u=>{var d,h;const p=u.target.value;if("precision"in r){let v;const m=Math.max(0,Math.floor(r.precision));m<=0?v=new RegExp(/^[1-9]\d*$/):v=new RegExp("^\\d+\\.?\\d{0,"+m+"}$"),(p===""||v.test(p)&&+p>=r.min&&+p<=r.max)&&((d=r.onChange)==null||d.call(r,p===""?p:+p))}else(h=r.onChange)==null||h.call(r,p)}),s.addEventListener("blur",()=>{i("normal")}),s.addEventListener("focus",()=>{i("focus")}),aa(u=>{t=u},s),N(o,ae(Ke,{get when(){return r.suffix},get children(){var u=KM();return N(u,()=>r.suffix),u}}),null),ze(u=>{var d=r.style,h=`chartspire-ui-input ${r.class??""}`,p=n(),v=r.placeholder??"";return u.e=Vi(o,d,u.e),h!==u.t&&Nt(o,u.t=h),p!==u.a&&$e(o,"data-status",u.a=p),v!==u.o&&$e(s,"placeholder",u.o=v),u},{e:void 0,t:void 0,a:void 0,o:void 0}),ze(()=>s.value=r.value),o})()};yr(["click","input"]);var JM=te("<div><i class=thumb>");const eE=e=>(()=>{var r=JM();return r.$$click=t=>{e.onChange&&e.onChange()},ze(t=>{var n=e.style,i=`chartspire-ui-switch ${e.open?"turn-on":"turn-off"} ${e.class??""}`;return t.e=Vi(r,n,t.e),i!==t.t&&Nt(r,t.t=i),t},{e:void 0,t:void 0}),r})();yr(["click"]);var tE=te('<div class=chartspire-ui-modal-light><div><div class=title-container><div class=title-content><svg class=drag-handle viewBox="0 0 24 24"fill=currentColor><circle cx=8 cy=6 r=2></circle><circle cx=8 cy=12 r=2></circle><circle cx=8 cy=18 r=2></circle><circle cx=16 cy=6 r=2></circle><circle cx=16 cy=12 r=2></circle><circle cx=16 cy=18 r=2></circle></svg><span class=title-text></span></div><svg class=close-icon viewBox="0 0 1024 1024"><path d="M934.184927 199.723787 622.457206 511.452531l311.727721 311.703161c14.334473 14.229073 23.069415 33.951253 23.069415 55.743582 0 43.430138-35.178197 78.660524-78.735226 78.660524-21.664416 0-41.361013-8.865925-55.642275-23.069415L511.149121 622.838388 199.420377 934.490384c-14.204513 14.20349-33.901111 23.069415-55.642275 23.069415-43.482327 0-78.737272-35.230386-78.737272-78.660524 0-21.792329 8.864902-41.513486 23.094998-55.743582l311.677579-311.703161L88.135828 199.723787c-14.230096-14.255679-23.094998-33.92567-23.094998-55.642275 0-43.430138 35.254945-78.762855 78.737272-78.762855 21.741163 0 41.437761 8.813736 55.642275 23.069415l311.727721 311.727721L822.876842 88.389096c14.281261-14.255679 33.977859-23.069415 55.642275-23.069415 43.557028 0 78.735226 35.332716 78.735226 78.762855C957.254342 165.798117 948.5194 185.468109 934.184927 199.723787">'),rE=te("<div class=alert-content><div class=alert-message><p>"),nE=te("<div class=content-container>"),iE=te("<div class=button-container>");const aE=e=>{const[r,t]=ye("chartspire-ui-modal-light"),n="Select starting candle by clicking on candle",[i,o]=ye({x:0,y:0});let s,u,d=null;return nt(()=>{t(e.isPLaying()?"inner -transparent":"inner")}),Bi(()=>{let h=!1,p={x:0,y:0};const v=M=>"touches"in M&&M.touches.length>0?{clientX:M.touches[0].clientX,clientY:M.touches[0].clientY}:{clientX:M.clientX,clientY:M.clientY},m=M=>{if(!s||!u||M.target.closest(".close-icon"))return;h=!0;const I=v(M),A=s.getBoundingClientRect(),P=s.offsetParent,$=P?P.getBoundingClientRect():{left:0,top:0};p={x:I.clientX-(A.left-$.left),y:I.clientY-(A.top-$.top)},document.addEventListener("mousemove",C),document.addEventListener("mouseup",b),document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",b),M.preventDefault()},C=M=>{if(!h||!s)return;const I=v(M),A=s.offsetParent,P=A?A.getBoundingClientRect():{left:0,top:0,width:window.innerWidth,height:window.innerHeight},$=I.clientX-P.left-p.x,D=I.clientY-P.top-p.y,z=s.offsetWidth,V=s.offsetHeight,W=P.width-z,Q=P.height-V,se=Math.max(0,Math.min($,W)),X=Math.max(0,Math.min(D,Q));o({x:se,y:X}),"touches"in M&&h&&M.preventDefault()},b=()=>{h=!1,w()},w=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",C),document.removeEventListener("touchend",b)},_=()=>{u&&(u.removeEventListener("mousedown",m),u.removeEventListener("touchstart",m))},S=()=>{h=!1,w(),_()};return d=S,u&&(u.addEventListener("mousedown",m),u.addEventListener("touchstart",m,{passive:!1})),S}),_n(()=>{d&&(console.log("onCleanup replay modal"),d())}),(()=>{var h=tE(),p=h.firstChild,v=p.firstChild,m=v.firstChild,C=m.firstChild,b=C.nextSibling,w=m.nextSibling,_=s;typeof _=="function"?aa(_,h):s=h;var S=u;return typeof S=="function"?aa(S,v):u=v,N(b,()=>e.title),Ci(w,"click",e.onClose),N(p,(()=>{var M=Le(()=>!!e.showAlert);return()=>M()&&(()=>{var I=rE(),A=I.firstChild,P=A.firstChild;return N(P,()=>e.alertMessage||n),I})()})(),null),N(p,(()=>{var M=Le(()=>!e.showAlert);return()=>M()&&[(()=>{var I=nE();return N(I,()=>e.children),I})(),Le(()=>Le(()=>e.buttons!=null&&e.buttons.length>0)()&&(()=>{var I=iE();return I.style.setProperty("padding","20px 30px 20px"),N(I,()=>e.buttons.map(A=>ae(E5,zp(A,{get children(){return A.children}})))),I})())]})(),null),ze(M=>{var I={...(i().x!==0||i().y!==0)&&{left:`${i().x}px`,top:`${i().y}px`,transform:"none"}},A=r();return M.e=Vi(h,I,M.e),A!==M.t&&Nt(p,M.t=A),M},{e:void 0,t:void 0}),h})()};yr(["click"]);function La(e){if(e==null)return Nr.getDefaultDataFeed();switch(e){case Ct.STOCKS:if(Nr.hasStockDataFeed())return Nr.getStockDataFeed();break;case Ct.CRYPTO:if(Nr.hasCryptoDataFeed())return Nr.getCryptoDataFeed();break;case Ct.FOREX:if(Nr.hasForexDataFeed())return Nr.getForexDataFeed();break;case Ct.FUTURES:if(Nr.hasFuturesDataFeed())return Nr.getFuturesDataFeed();break}return Nr.getDefaultDataFeed()}function oE(e){let r=null;if(e.defaultDataFeed?r=e.defaultDataFeed:e.stockDataFeed?r=e.stockDataFeed:e.cryptoDataFeed?r=e.cryptoDataFeed:e.forexDataFeed?r=e.forexDataFeed:e.futuresDataFeed?r=e.futuresDataFeed:r=null,r==null)throw alert("No data feed set, please set `options.defaultDataFeed` or use `options.stockDataFeed`, `options.cryptoDataFeed`, `options.forexDataFeed`, or `options.futuresDataFeed`"),new Error("No data feed set, please set `options.defaultDataFeed` or use `options.stockDataFeed`, `options.cryptoDataFeed`, `options.forexDataFeed`, or `options.futuresDataFeed`");Nr.setDefaultDataFeed(r),Nr.setStockDataFeed(e.stockDataFeed??null),Nr.setCryptoDataFeed(e.cryptoDataFeed??null),Nr.setForexDataFeed(e.forexDataFeed??null),Nr.setFuturesDataFeed(e.futuresDataFeed??null)}var lE=te("<div class=chartspire-ui-filter-tags>"),sE=te('<svg viewBox="0 0 1024 1024"><path d="M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z">'),cE=te("<span>"),uE=te("<img alt=symbol>"),dE=te("<li><div><span>");const L5=e=>{const[r,t]=ye(Ct.STOCKS),n=Gr(()=>La(r())),i=Object.values(Ct).filter(d=>{switch(d){case Ct.STOCKS:return e.stockDataFeed!==null;case Ct.CRYPTO:return e.cryptoDataFeed!==null;case Ct.FOREX:return e.forexDataFeed!==null;case Ct.FUTURES:return e.futuresDataFeed!==null;default:return!0}}),[o,s]=ye(""),[u]=YS(()=>[o(),r()],async([d,h])=>await n().searchTickers(d,h));return ae(zl,{get title(){return L("symbol_search",e.locale)},width:460,get onClose(){return e.onClose},get children(){return[ae($o,{class:"chartspire-ui-symbol-search-modal-input",get placeholder(){return L("symbol_code",e.locale)},get suffix(){return sE()},get value(){return o()},onChange:d=>{s(`${d}`)}}),(()=>{var d=lE();return N(d,()=>i.map(h=>(()=>{var p=cE();return p.$$click=()=>{t(h),h===Ct.CRYPTO?t(Ct.CRYPTO):h===Ct.STOCKS?t(Ct.STOCKS):h===Ct.FOREX?t(Ct.FOREX):h===Ct.FUTURES?t(Ct.FUTURES):(console.warn("Using default datafeed - crypto"),t(Ct.CRYPTO))},N(p,h),ze(()=>Nt(p,`chartspire-ui-tag ${r()===h?"selected":""}`)),p})())),d})(),ae(I5,{class:"chartspire-ui-symbol-search-modal-list",get loading(){return u.loading},get dataSource(){return u()??[]},renderItem:d=>(()=>{var h=dE(),p=h.firstChild,v=p.firstChild;return h.$$click=()=>{e.onTickerSelected(d),e.onClose()},N(p,ae(Ke,{get when(){return d.logo},get children(){var m=uE();return ze(()=>$e(m,"src",d.logo)),m}}),v),N(v,()=>d.shortName??d.ticker,null),N(v,()=>`${d.name!=null?`(${d.name})`:""}`,null),N(h,()=>d.exchange??"",null),ze(()=>$e(v,"title",d.name??"")),h})()})]}})};yr(["click"]);var hE=te("<div>"),Vp=class{constructor(e){De(this,"x"),De(this,"y"),De(this,"width"),De(this,"height"),this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},Ld=e=>{let r=new Vp(e.getBoundingClientRect());const{transform:t}=getComputedStyle(e);return t&&(r=pE(r,t)),r},pE=(e,r)=>{let t,n;if(r.startsWith("matrix3d(")){const i=r.slice(9,-1).split(/, /);t=+i[12],n=+i[13]}else if(r.startsWith("matrix(")){const i=r.slice(7,-1).split(/, /);t=+i[4],n=+i[5]}else t=0,n=0;return new Vp({...e,x:e.x-t,y:e.y-n})},io=()=>({x:0,y:0}),jg=(e,r)=>e.x===r.x&&e.y===r.y,qf=(e,r)=>new Vp({...e,x:e.x+r.x,y:e.y+r.y}),fE=(e,r)=>Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)),gE=(e,r)=>{const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),i=Math.min(e.right,r.right),o=Math.min(e.bottom,r.bottom),s=i-n,u=o-t;if(n<i&&t<o){const d=e.width*e.height,h=r.width*r.height,p=s*u;return p/(d+h-p)}return 0},Kf=(e,r)=>e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height,vE=(e,r,t)=>{const n=e.transformed.center,i={distance:1/0,droppable:null};for(const o of r){const s=fE(n,o.layout.center);s<i.distance?(i.distance=s,i.droppable=o):s===i.distance&&o.id===t.activeDroppableId&&(i.droppable=o)}return i.droppable},mE=(e,r,t)=>{const n=e.transformed,i={ratio:0,droppable:null};for(const o of r){const s=gE(n,o.layout);s>i.ratio?(i.ratio=s,i.droppable=o):s>0&&s===i.ratio&&o.id===t.activeDroppableId&&(i.droppable=o)}return i.droppable},P5=h5(),yE=e=>{const r=zp({collisionDetector:mE},e),[t,n]=Ds({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return t.active.draggableId!==null?t.draggables[t.active.draggableId]:null},droppableId:null,get droppable(){return t.active.droppableId!==null?t.droppables[t.active.droppableId]:null},sensorId:null,get sensor(){return t.active.sensorId!==null?t.sensors[t.active.sensorId]:null},overlay:null}}),i=(X,J,le)=>{X.substring(0,X.length-1),et(()=>t[X][J])&&n(X,J,"transformers",le.id,le)},o=(X,J,le)=>{X.substring(0,X.length-1),et(()=>t[X][J])&&et(()=>t[X][J].transformers[le])&&n(X,J,"transformers",le,void 0)},s=({id:X,node:J,layout:le,data:j})=>{const q=t.draggables[X],Z={id:X,node:J,layout:le,data:j,_pendingCleanup:!1};let re;if(!q)Object.defineProperties(Z,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(t.active.overlay)return io();const ee=Object.values(t.draggables[X].transformers);return ee.sort((H,B)=>H.order-B.order),ee.reduce((H,B)=>B.callback(H),io())}},transformed:{enumerable:!0,configurable:!0,get:()=>qf(t.draggables[X].layout,t.draggables[X].transform)}});else if(t.active.draggableId===X&&!t.active.overlay){const ee={x:q.layout.x-le.x,y:q.layout.y-le.y},H="addDraggable-existing-offset",B=q.transformers[H],he=B?B.callback(ee):ee;re={id:H,order:100,callback:Ce=>({x:Ce.x+he.x,y:Ce.y+he.y})},Q(()=>o("draggables",X,H))}Il(()=>{n("draggables",X,Z),re&&i("draggables",X,re)}),t.active.draggable&&A()},u=X=>{et(()=>t.draggables[X])&&(n("draggables",X,"_pendingCleanup",!0),queueMicrotask(()=>d(X)))},d=X=>{var J;if((J=t.draggables[X])!=null&&J._pendingCleanup){const le=t.active.draggableId===X;Il(()=>{le&&n("active","draggableId",null),n("draggables",X,void 0)})}},h=({id:X,node:J,layout:le,data:j})=>{const q=t.droppables[X],Z={id:X,node:J,layout:le,data:j,_pendingCleanup:!1};q||Object.defineProperties(Z,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const re=Object.values(t.droppables[X].transformers);return re.sort((ee,H)=>ee.order-H.order),re.reduce((ee,H)=>H.callback(ee),io())}},transformed:{enumerable:!0,configurable:!0,get:()=>qf(t.droppables[X].layout,t.droppables[X].transform)}}),n("droppables",X,Z),t.active.draggable&&A()},p=X=>{et(()=>t.droppables[X])&&(n("droppables",X,"_pendingCleanup",!0),queueMicrotask(()=>v(X)))},v=X=>{var J;if((J=t.droppables[X])!=null&&J._pendingCleanup){const le=t.active.droppableId===X;Il(()=>{le&&n("active","droppableId",null),n("droppables",X,void 0)})}},m=({id:X,activators:J})=>{n("sensors",X,{id:X,activators:J,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:t.sensors[X].coordinates.current.x-t.sensors[X].coordinates.origin.x,y:t.sensors[X].coordinates.current.y-t.sensors[X].coordinates.origin.y}}}})},C=X=>{if(!et(()=>t.sensors[X]))return;const J=t.active.sensorId===X;Il(()=>{J&&n("active","sensorId",null),n("sensors",X,void 0)})},b=({node:X,layout:J})=>{const le=t.active.overlay,j={node:X,layout:J};le||Object.defineProperties(j,{id:{enumerable:!0,configurable:!0,get:()=>{var q;return(q=t.active.draggable)==null?void 0:q.id}},data:{enumerable:!0,configurable:!0,get:()=>{var q;return(q=t.active.draggable)==null?void 0:q.data}},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(t.active.draggable?t.active.draggable.transformers:{}).filter(([q])=>q!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const q=Object.values(t.active.overlay?t.active.overlay.transformers:[]);return q.sort((Z,re)=>Z.order-re.order),q.reduce((Z,re)=>re.callback(Z),io())}},transformed:{enumerable:!0,configurable:!0,get:()=>t.active.overlay?qf(t.active.overlay.layout,t.active.overlay.transform):new Vp({x:0,y:0,width:0,height:0})}}),n("active","overlay",j)},w=()=>n("active","overlay",null),_=(X,J)=>{Il(()=>{n("sensors",X,"coordinates",{origin:{...J},current:{...J}}),n("active","sensorId",X)})},S=X=>{const J=t.active.sensorId;J&&n("sensors",J,"coordinates","current",{...X})},M=()=>n("active","sensorId",null),I=(X,J)=>{const le={};for(const q of Object.values(t.sensors))if(q)for(const[Z,re]of Object.entries(q.activators))le[Z]??(le[Z]=[]),le[Z].push({sensor:q,activator:re});const j={};for(const q in le){let Z=q;J&&(Z=`on${q}`),j[Z]=re=>{for(const{activator:ee}of le[q]){if(t.active.sensor)break;ee(re,X)}}}return j},A=()=>{let X=!1;const J=Object.values(t.draggables),le=Object.values(t.droppables),j=t.active.overlay;return Il(()=>{const q=new WeakMap;for(const Z of J)if(Z){const re=Z.layout;q.has(Z.node)||q.set(Z.node,Ld(Z.node));const ee=q.get(Z.node);Kf(re,ee)||(n("draggables",Z.id,"layout",ee),X=!0)}for(const Z of le)if(Z){const re=Z.layout;q.has(Z.node)||q.set(Z.node,Ld(Z.node));const ee=q.get(Z.node);Kf(re,ee)||(n("droppables",Z.id,"layout",ee),X=!0)}if(j){const Z=j.layout,re=Ld(j.node);Kf(Z,re)||(n("active","overlay","layout",re),X=!0)}}),X},P=()=>{const X=t.active.overlay??t.active.draggable;if(X){const J=r.collisionDetector(X,Object.values(t.droppables),{activeDroppableId:t.active.droppableId}),le=J?J.id:null;t.active.droppableId!==le&&n("active","droppableId",le)}},$=X=>{const J={id:"sensorMove",order:0,callback:le=>t.active.sensor?{x:le.x+t.active.sensor.coordinates.delta.x,y:le.y+t.active.sensor.coordinates.delta.y}:le};A(),Il(()=>{n("active","draggableId",X),i("draggables",X,J)}),P()},D=()=>{const X=et(()=>t.active.draggableId);Il(()=>{X!==null&&o("draggables",X,"sensorMove"),n("active",["draggableId","droppableId"],null)}),A()},z=X=>{nt(()=>{const J=t.active.draggable;J&&et(()=>X({draggable:J}))})},V=X=>{nt(()=>{const J=t.active.draggable;if(J){const le=et(()=>t.active.overlay);Object.values(le?le.transform:J.transform),et(()=>X({draggable:J,overlay:le}))}})},W=X=>{nt(()=>{const J=t.active.draggable,le=t.active.droppable;J&&et(()=>X({draggable:J,droppable:le,overlay:t.active.overlay}))})},Q=X=>{nt(({previousDraggable:J,previousDroppable:le,previousOverlay:j})=>{const q=t.active.draggable,Z=q?t.active.droppable:null,re=q?t.active.overlay:null;return!q&&J&&et(()=>X({draggable:J,droppable:le,overlay:j})),{previousDraggable:q,previousDroppable:Z,previousOverlay:re}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};V(()=>P()),r.onDragStart&&z(r.onDragStart),r.onDragMove&&V(r.onDragMove),r.onDragOver&&W(r.onDragOver),r.onDragEnd&&Q(r.onDragEnd);const se=[t,{addTransformer:i,removeTransformer:o,addDraggable:s,removeDraggable:u,addDroppable:h,removeDroppable:p,addSensor:m,removeSensor:C,setOverlay:b,clearOverlay:w,recomputeLayouts:A,detectCollisions:P,draggableActivators:I,sensorStart:_,sensorMove:S,sensorEnd:M,dragStart:$,dragEnd:D,onDragStart:z,onDragMove:V,onDragOver:W,onDragEnd:Q}];return ae(P5.Provider,{value:se,get children(){return r.children}})},Vd=()=>p5(P5)||null,xE=(e="pointer-sensor")=>{const[r,{addSensor:t,removeSensor:n,sensorStart:i,sensorMove:o,sensorEnd:s,dragStart:u,dragEnd:d}]=Vd(),h=250,p=10;Bi(()=>{t({id:e,activators:{pointerdown:w}})}),_n(()=>{n(e)});const v=()=>r.active.sensorId===e,m={x:0,y:0};let C=null,b=null;const w=(P,$)=>{P.button===0&&(document.addEventListener("pointermove",M),document.addEventListener("pointerup",I),b=$,m.x=P.clientX,m.y=P.clientY,C=window.setTimeout(S,h))},_=()=>{C&&(clearTimeout(C),C=null),document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",I),document.removeEventListener("selectionchange",A)},S=()=>{r.active.sensor?v()||_():(i(e,m),u(b),A(),document.addEventListener("selectionchange",A))},M=P=>{const $={x:P.clientX,y:P.clientY};if(!r.active.sensor){const D={x:$.x-m.x,y:$.y-m.y};Math.sqrt(D.x**2+D.y**2)>p&&S()}v()&&(P.preventDefault(),o($))},I=P=>{_(),v()&&(P.preventDefault(),d(),s())},A=()=>{var P;(P=window.getSelection())==null||P.removeAllRanges()}},CE=e=>(xE(),Le(()=>e.children)),Bp=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),bE=(e,r={})=>{const[t,{addDraggable:n,removeDraggable:i,draggableActivators:o}]=Vd(),[s,u]=ye(null);Bi(()=>{const p=s();p&&n({id:e,node:p,layout:Ld(p),data:r})}),_n(()=>i(e));const d=()=>t.active.draggableId===e,h=()=>{var p;return((p=t.draggables[e])==null?void 0:p.transform)||io()};return Object.defineProperties((p,v)=>{const m=v?v():{};nt(()=>{const C=s(),b=o(e);if(C)for(const w in b)C.addEventListener(w,b[w]);_n(()=>{if(C)for(const w in b)C.removeEventListener(w,b[w])})}),u(p),m.skipTransform||nt(()=>{const C=h();if(jg(C,io()))p.style.removeProperty("transform");else{const b=Bp(h());p.style.setProperty("transform",b.transform??null)}})},{ref:{enumerable:!0,value:u},isActiveDraggable:{enumerable:!0,get:d},dragActivators:{enumerable:!0,get:()=>o(e,!0)},transform:{enumerable:!0,get:h}})},wE=(e,r={})=>{const[t,{addDroppable:n,removeDroppable:i}]=Vd(),[o,s]=ye(null);Bi(()=>{const h=o();h&&n({id:e,node:h,layout:Ld(h),data:r})}),_n(()=>i(e));const u=()=>t.active.droppableId===e,d=()=>{var h;return((h=t.droppables[e])==null?void 0:h.transform)||io()};return Object.defineProperties((h,p)=>{const v=p?p():{};s(h),v.skipTransform||nt(()=>{const m=d();if(jg(m,io()))h.style.removeProperty("transform");else{const C=Bp(d());h.style.setProperty("transform",C.transform??null)}})},{ref:{enumerable:!0,value:s},isActiveDroppable:{enumerable:!0,get:u},transform:{enumerable:!0,get:d}})},_E=e=>{const[r,{onDragStart:t,onDragEnd:n,setOverlay:i,clearOverlay:o}]=Vd();let s;t(({draggable:d})=>{i({node:d.node,layout:d.layout}),queueMicrotask(()=>{if(s){const h=Ld(s),p={x:(d.layout.width-h.width)/2,y:(d.layout.height-h.height)/2};h.x+=p.x,h.y+=p.y,i({node:s,layout:h})}})}),n(()=>queueMicrotask(o));const u=()=>{const d=r.active.overlay,h=r.active.draggable;return!d||!h?{}:{position:"fixed",transition:"transform 0s",top:`${d.layout.top}px`,left:`${d.layout.left}px`,"min-width":`${h.layout.width}px`,"min-height":`${h.layout.height}px`,...Bp(d.transform),...e.style}};return ae(uM,{get mount(){return document.body},get children(){return ae(Ke,{get when(){return r.active.draggable},get children(){var d=hE(),h=s;return typeof h=="function"?aa(h,d):s=d,N(d,(()=>{var p=Le(()=>typeof e.children=="function");return()=>p()?e.children(r.active.draggable):e.children})()),ze(p=>{var v=e.class,m=u();return v!==p.e&&Nt(d,p.e=v),p.t=Vi(d,m,p.t),p},{e:void 0,t:void 0}),d}})}})},kE=(e,r,t)=>{const n=e.slice();return n.splice(t,0,...n.splice(r,1)),n},A5=h5(),SE=e=>{const[r]=Vd(),[t,n]=Ds({initialIds:[],sortedIds:[]}),i=s=>s>=0&&s<t.initialIds.length;nt(()=>{n("initialIds",[...e.ids]),n("sortedIds",[...e.ids])}),nt(()=>{r.active.draggableId&&r.active.droppableId?et(()=>{const s=t.sortedIds.indexOf(r.active.draggableId),u=t.initialIds.indexOf(r.active.droppableId);if(!i(s)||!i(u))n("sortedIds",[...e.ids]);else if(s!==u){const d=kE(t.sortedIds,s,u);n("sortedIds",d)}}):n("sortedIds",[...e.ids])});const o=[t,{}];return ae(A5.Provider,{value:o,get children(){return e.children}})},ME=()=>p5(A5)||null,EE=(e,r)=>t=>{e(t),r(t)},TE=(e,r={})=>{const[t,{addTransformer:n,removeTransformer:i}]=Vd(),[o]=ME(),s=bE(e,r),u=wE(e,r),d=EE(s.ref,u.ref),h=()=>o.initialIds.indexOf(e),p=()=>o.sortedIds.indexOf(e),v=w=>{var _;return((_=t.droppables[w])==null?void 0:_.layout)||null},m=()=>{const w=io(),_=h(),S=p();if(S!==_){const M=v(e),I=v(o.initialIds[S]);M&&I&&(w.x=I.x-M.x,w.y=I.y-M.y)}return w},C={id:"sortableOffset",order:100,callback:w=>{const _=m();return{x:w.x+_.x,y:w.y+_.y}}};Bi(()=>n("droppables",e,C)),_n(()=>i("droppables",e,C.id));const b=()=>{var w,_;return(e===t.active.draggableId&&!t.active.overlay?(w=t.draggables[e])==null?void 0:w.transform:(_=t.droppables[e])==null?void 0:_.transform)||io()};return Object.defineProperties(w=>{s(w,()=>({skipTransform:!0})),u(w,()=>({skipTransform:!0})),nt(()=>{const _=b();if(jg(_,io()))w.style.removeProperty("transform");else{const S=Bp(b());w.style.setProperty("transform",S.transform??null)}})},{ref:{enumerable:!0,value:d},transform:{enumerable:!0,get:b},isActiveDraggable:{enumerable:!0,get:()=>s.isActiveDraggable},dragActivators:{enumerable:!0,get:()=>s.dragActivators},isActiveDroppable:{enumerable:!0,get:()=>u.isActiveDroppable}})};const IE=async()=>null;class LE{constructor(r){De(this,"useExternalStorage"),this.useExternalStorage=r}addToStorage(r){if(!this.useExternalStorage)try{localStorage.setItem("watchlist",JSON.stringify(r))}catch(t){console.error("Error saving watchlist to local storage:",t)}}async fetchWatchlist(){try{if(this.useExternalStorage)return await IE()||(console.error("Failed to fetch watchlist data from external."),null);{const r=localStorage.getItem("watchlist");return r?JSON.parse(r):(console.error("Failed to fetch watchlist data from local storage."),null)}}catch(r){return console.error("Error fetching watchlist data:",r),null}}}var PE=te("<div class=list>"),AE=te("<div class=chartspire-ui-watchlist><div class=header><select class=select></select><span class=button>+"),DE=te("<option>"),FE=te(`<div class=ticker-item><div class=ticker-info><img class=ticker-logo><span class=ticker-name></span></div><span class=ticker-price>$</span><svg version=1.1 id=Capa_1 xmlns=http://www.w3.org/2000/svg viewBox="0 0 408.483 408.483"><g><g><path d="M87.748,388.784c0.461,11.01,9.521,19.699,20.539,19.699h191.911c11.018,0,20.078-8.689,20.539-19.699l13.705-289.316\r
															H74.043L87.748,388.784z M247.655,171.329c0-4.61,3.738-8.349,8.35-8.349h13.355c4.609,0,8.35,3.738,8.35,8.349v165.293\r
															c0,4.611-3.738,8.349-8.35,8.349h-13.355c-4.61,0-8.35-3.736-8.35-8.349V171.329z M189.216,171.329\r
															c0-4.61,3.738-8.349,8.349-8.349h13.355c4.609,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.737,8.349-8.349,8.349h-13.355\r
															c-4.61,0-8.349-3.736-8.349-8.349V171.329L189.216,171.329z M130.775,171.329c0-4.61,3.738-8.349,8.349-8.349h13.356\r
															c4.61,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.738,8.349-8.349,8.349h-13.356c-4.61,0-8.349-3.736-8.349-8.349V171.329z"></path><path d="M343.567,21.043h-88.535V4.305c0-2.377-1.927-4.305-4.305-4.305h-92.971c-2.377,0-4.304,1.928-4.304,4.305v16.737H64.916\r
															c-7.125,0-12.9,5.776-12.9,12.901V74.47h304.451V33.944C356.467,26.819,350.692,21.043,343.567,21.043z">`),OE=te("<div class=ticker-item>");const Vo={multiplier:1,timespan:"minute",text:"1m"},RE=e=>({ticker:e.ticker,exchange:e.exchange,type:e.type}),NE=e=>{const r=new LE(e.useExternalWatchListStorage);Bi(()=>{se("WatchList 1").then(j=>{console.log("Watchlist 1 fetched")})});const[t,n]=ye(!1),[i,o]=ye({"WatchList 1":[],"WatchList 2":[],"WatchList 3":[],"WatchList 4":[],"WatchList 5":[]}),[s,u]=ye("WatchList 1"),[d,h]=ye(s()),[p,v]=ye({}),[m,C]=ye({}),[b,w]=ye(null),_=Math.random().toString(36).slice(2,11);_n(()=>{V(s())});const S=j=>{if(X(s())||J(j))return;const q=RE(j),Z=o(re=>({...re,[s()]:[...re[s()],q]}));r.addToStorage(Z),P(j)},M=(j,q=!1)=>{const Z=q?d():s(),re=o(ee=>({...ee,[Z]:ee[Z].filter(H=>H!==j)}));r.addToStorage(re),$(j)},I=({draggable:j})=>{w(j.id)},A=({draggable:j,droppable:q})=>{if(j&&q){const Z=i()[s()],re=Z.findIndex(Ce=>Ce.ticker===j.id),ee=Z.findIndex(Ce=>Ce.ticker===q.id),H=[...Z],[B]=H.splice(re,1);H.splice(ee,0,B);const he=o(Ce=>({...Ce,[s()]:H}));r.addToStorage(he)}w(null)},P=j=>{const q=La(j.type);q&&q.subscribeTicker(j,Vo,Z=>{C(re=>{var ee;return{...re,[j.ticker]:((ee=p()[j.ticker])==null?void 0:ee.close)||Z.close}}),v(re=>({...re,[j.ticker]:Z}))},_)},$=j=>{const q=La(j.type);q&&q.unsubscribeTicker(j,Vo,_)},D=j=>{h(s()),u(j),V(d()),se(j).then(q=>{console.log(j," Watchlist fetched")})};function z(j,q){const Z=[],re=[],ee=[],H=[];i()[j].forEach(he=>{he.type===Ct.STOCKS?re.push(he):he.type===Ct.CRYPTO?Z.push(he):he.type===Ct.FOREX?ee.push(he):he.type===Ct.FUTURES&&H.push(he)});const B=(he,Ce)=>{C(be=>{var xe;return{...be,[Ce.ticker]:((xe=p()[Ce.ticker])==null?void 0:xe.close)||he.close}}),v(be=>({...be,[Ce.ticker]:he}))};if(Z.length>0){const he=La(Ct.CRYPTO);q?he.subscribeAllTickers(Z,Vo,B,300,_):he.unsubscribeAllTickers(Z,Vo,300,_)}if(re.length>0){const he=La(Ct.STOCKS);q?he.subscribeAllTickers(re,Vo,B,300,_):he.unsubscribeAllTickers(re,Vo,300,_)}if(ee.length>0){const he=La(Ct.FOREX);q?he.subscribeAllTickers(ee,Vo,B,300,_):he.unsubscribeAllTickers(ee,Vo,300,_)}if(H.length>0){const he=La(Ct.FUTURES);q?he.subscribeAllTickers(H,Vo,B,300,_):he.unsubscribeAllTickers(H,Vo,300,_)}}function V(j){z(j,!1)}function W(j){z(j,!0)}const Q=j=>{var q;const Z=(q=p()[j.ticker])==null?void 0:q.close,re=m()[j.ticker];return Z>re?"green":Z<re?"red":"grey"};async function se(j){try{const q=await r.fetchWatchlist();if(q){if(o(q),X(s()))return;Object.keys(q).forEach(Z=>{Z===j&&W(j)})}}catch(q){console.error("Error fetching watchlist data:",q)}}const X=j=>i()[j].length>=e.watchListLimit?(console.warn("Watchlist is full"),!0):!1;function J(j){const q=i()[s()].some(Z=>Z.ticker===j.ticker&&Z.exchange===j.exchange&&Z.type===j.type);return q&&console.warn("Ticker is already present in the watch list"),q}const le=j=>{const q={...j};La(j.type),e.setTicker(q)};return(()=>{var j=AE(),q=j.firstChild,Z=q.firstChild,re=Z.nextSibling;return Z.addEventListener("change",ee=>{D(ee.currentTarget.value)}),N(Z,ae(Zn,{get each(){return Object.keys(i())},children:ee=>(()=>{var H=DE();return H.value=ee,N(H,ee),H})()})),re.$$click=()=>n(ee=>!ee),N(j,ae(Ke,{get when(){return t()},get children(){return ae(L5,{get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get locale(){return e.locale},onTickerSelected:ee=>{S(ee)},onClose:()=>n(!1)})}}),null),N(j,ae(yE,{onDragStart:I,onDragEnd:A,collisionDetector:vE,get children(){return[ae(CE,{}),ae(SE,{get ids(){return i()[s()].map(ee=>ee.ticker)},get children(){var ee=PE();return N(ee,()=>i()[s()].map(H=>{const B=TE(H.ticker);return(()=>{var he=FE(),Ce=he.firstChild,be=Ce.firstChild,xe=be.nextSibling,Ve=Ce.nextSibling;Ve.firstChild;var Re=Ve.nextSibling;return he.$$click=()=>{le(H)},aa(B,he,()=>B),N(xe,()=>H.ticker),N(Ve,()=>{var Ae;return((Ae=p()[H.ticker])==null?void 0:Ae.close)||"Loading..."},null),Re.$$click=Ae=>{Ae.stopPropagation(),M(H,!1)},ze(Ae=>{var ve=H.logo?H.logo:void 0,Te=Q(H);return ve!==Ae.e&&$e(be,"src",Ae.e=ve),Te!==Ae.t&&((Ae.t=Te)!=null?Ve.style.setProperty("color",Te):Ve.style.removeProperty("color")),Ae},{e:void 0,t:void 0}),he})()})),ee}}),ae(_E,{get children(){return Le(()=>!!b())()?(()=>{var ee=OE();return N(ee,b),ee})():null}})]}}),null),j})()};yr(["click"]);const{min:zE,max:VE}=Math,Nc=(e,r=0,t=1)=>zE(VE(r,e),t),Zg=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=Nc(e[r],0,255)):r===3&&(e[r]=Nc(e[r],0,1));return e},D5={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])D5[`[object ${e}]`]=e.toLowerCase();function Bt(e){return D5[Object.prototype.toString.call(e)]||"object"}const Pt=(e,r=null)=>e.length>=3?Array.prototype.slice.call(e):Bt(e[0])=="object"&&r?r.split("").filter(t=>e[0][t]!==void 0).map(t=>e[0][t]):e[0].slice(0),Bd=e=>{if(e.length<2)return null;const r=e.length-1;return Bt(e[r])=="string"?e[r].toLowerCase():null},{PI:$p,min:F5,max:O5}=Math,Aa=e=>Math.round(e*100)/100,Pg=e=>Math.round(e*100)/100,Pl=$p*2,Qf=$p/3,BE=$p/180,$E=180/$p;function R5(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const Et={format:{},autodetect:[]};class Oe{constructor(...r){const t=this;if(Bt(r[0])==="object"&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];let n=Bd(r),i=!1;if(!n){i=!0,Et.sorted||(Et.autodetect=Et.autodetect.sort((o,s)=>s.p-o.p),Et.sorted=!0);for(let o of Et.autodetect)if(n=o.test(...r),n)break}if(Et.format[n]){const o=Et.format[n].apply(null,i?r:r.slice(0,-1));t._rgb=Zg(o)}else throw new Error("unknown format: "+r);t._rgb.length===3&&t._rgb.push(1)}toString(){return Bt(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const WE="3.1.2",Ut=(...e)=>new Oe(...e);Ut.version=WE;const Od={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},UE=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,HE=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,N5=e=>{if(e.match(UE)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const r=parseInt(e,16),t=r>>16,n=r>>8&255,i=r&255;return[t,n,i,1]}if(e.match(HE)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const r=parseInt(e,16),t=r>>24&255,n=r>>16&255,i=r>>8&255,o=Math.round((r&255)/255*100)/100;return[t,n,i,o]}throw new Error(`unknown hex color: ${e}`)},{round:Kh}=Math,z5=(...e)=>{let[r,t,n,i]=Pt(e,"rgba"),o=Bd(e)||"auto";i===void 0&&(i=1),o==="auto"&&(o=i<1?"rgba":"rgb"),r=Kh(r),t=Kh(t),n=Kh(n);let s="000000"+(r<<16|t<<8|n).toString(16);s=s.substr(s.length-6);let u="0"+Kh(i*255).toString(16);switch(u=u.substr(u.length-2),o.toLowerCase()){case"rgba":return`#${s}${u}`;case"argb":return`#${u}${s}`;default:return`#${s}`}};Oe.prototype.name=function(){const e=z5(this._rgb,"rgb");for(let r of Object.keys(Od))if(Od[r]===e)return r.toLowerCase();return e};Et.format.named=e=>{if(e=e.toLowerCase(),Od[e])return N5(Od[e]);throw new Error("unknown color name: "+e)};Et.autodetect.push({p:5,test:(e,...r)=>{if(!r.length&&Bt(e)==="string"&&Od[e.toLowerCase()])return"named"}});Oe.prototype.alpha=function(e,r=!1){return e!==void 0&&Bt(e)==="number"?r?(this._rgb[3]=e,this):new Oe([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};Oe.prototype.clipped=function(){return this._rgb._clipped||!1};const Uo={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},YE=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Dl(e){const r=YE.get(String(e).toLowerCase());if(!r)throw new Error("unknown Lab illuminant "+e);Uo.labWhitePoint=e,Uo.Xn=r[0],Uo.Zn=r[1]}function L1(){return Uo.labWhitePoint}const Gg=(...e)=>{e=Pt(e,"lab");const[r,t,n]=e,[i,o,s]=XE(r,t,n),[u,d,h]=V5(i,o,s);return[u,d,h,e.length>3?e[3]:1]},XE=(e,r,t)=>{const{kE:n,kK:i,kKE:o,Xn:s,Yn:u,Zn:d}=Uo,h=(e+16)/116,p=.002*r+h,v=h-.005*t,m=p*p*p,C=v*v*v,b=m>n?m:(116*p-16)/i,w=e>o?Math.pow((e+16)/116,3):e/i,_=C>n?C:(116*v-16)/i,S=b*s,M=w*u,I=_*d;return[S,M,I]},Jf=e=>{const r=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*r},V5=(e,r,t)=>{const{MtxAdaptMa:n,MtxAdaptMaI:i,MtxXYZ2RGB:o,RefWhiteRGB:s,Xn:u,Yn:d,Zn:h}=Uo,p=u*n.m00+d*n.m10+h*n.m20,v=u*n.m01+d*n.m11+h*n.m21,m=u*n.m02+d*n.m12+h*n.m22,C=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,b=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,w=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,_=(e*n.m00+r*n.m10+t*n.m20)*(C/p),S=(e*n.m01+r*n.m11+t*n.m21)*(b/v),M=(e*n.m02+r*n.m12+t*n.m22)*(w/m),I=_*i.m00+S*i.m10+M*i.m20,A=_*i.m01+S*i.m11+M*i.m21,P=_*i.m02+S*i.m12+M*i.m22,$=Jf(I*o.m00+A*o.m10+P*o.m20),D=Jf(I*o.m01+A*o.m11+P*o.m21),z=Jf(I*o.m02+A*o.m12+P*o.m22);return[$*255,D*255,z*255]},qg=(...e)=>{const[r,t,n,...i]=Pt(e,"rgb"),[o,s,u]=B5(r,t,n),[d,h,p]=jE(o,s,u);return[d,h,p,...i.length>0&&i[0]<1?[i[0]]:[]]};function jE(e,r,t){const{Xn:n,Yn:i,Zn:o,kE:s,kK:u}=Uo,d=e/n,h=r/i,p=t/o,v=d>s?Math.pow(d,1/3):(u*d+16)/116,m=h>s?Math.pow(h,1/3):(u*h+16)/116,C=p>s?Math.pow(p,1/3):(u*p+16)/116;return[116*m-16,500*(v-m),200*(m-C)]}function eg(e){const r=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*r}const B5=(e,r,t)=>{e=eg(e/255),r=eg(r/255),t=eg(t/255);const{MtxRGB2XYZ:n,MtxAdaptMa:i,MtxAdaptMaI:o,Xn:s,Yn:u,Zn:d,As:h,Bs:p,Cs:v}=Uo;let m=e*n.m00+r*n.m10+t*n.m20,C=e*n.m01+r*n.m11+t*n.m21,b=e*n.m02+r*n.m12+t*n.m22;const w=s*i.m00+u*i.m10+d*i.m20,_=s*i.m01+u*i.m11+d*i.m21,S=s*i.m02+u*i.m12+d*i.m22;let M=m*i.m00+C*i.m10+b*i.m20,I=m*i.m01+C*i.m11+b*i.m21,A=m*i.m02+C*i.m12+b*i.m22;return M*=w/h,I*=_/p,A*=S/v,m=M*o.m00+I*o.m10+A*o.m20,C=M*o.m01+I*o.m11+A*o.m21,b=M*o.m02+I*o.m12+A*o.m22,[m,C,b]};Oe.prototype.lab=function(){return qg(this._rgb)};const ZE=(...e)=>new Oe(...e,"lab");Object.assign(Ut,{lab:ZE,getLabWhitePoint:L1,setLabWhitePoint:Dl});Et.format.lab=Gg;Et.autodetect.push({p:2,test:(...e)=>{if(e=Pt(e,"lab"),Bt(e)==="array"&&e.length===3)return"lab"}});Oe.prototype.darken=function(e=1){const r=this,t=r.lab();return t[0]-=Uo.Kn*e,new Oe(t,"lab").alpha(r.alpha(),!0)};Oe.prototype.brighten=function(e=1){return this.darken(-e)};Oe.prototype.darker=Oe.prototype.darken;Oe.prototype.brighter=Oe.prototype.brighten;Oe.prototype.get=function(e){const[r,t]=e.split("."),n=this[r]();if(t){const i=r.indexOf(t)-(r.substr(0,2)==="ok"?2:0);if(i>-1)return n[i];throw new Error(`unknown channel ${t} in mode ${r}`)}else return n};const{pow:GE}=Math,qE=1e-7,KE=20;Oe.prototype.luminance=function(e,r="rgb"){if(e!==void 0&&Bt(e)==="number"){if(e===0)return new Oe([0,0,0,this._rgb[3]],"rgb");if(e===1)return new Oe([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),n=KE;const i=(s,u)=>{const d=s.interpolate(u,.5,r),h=d.luminance();return Math.abs(e-h)<qE||!n--?d:h>e?i(s,d):i(d,u)},o=(t>e?i(new Oe([0,0,0]),this):i(this,new Oe([255,255,255]))).rgb();return new Oe([...o,this._rgb[3]])}return QE(...this._rgb.slice(0,3))};const QE=(e,r,t)=>(e=tg(e),r=tg(r),t=tg(t),.2126*e+.7152*r+.0722*t),tg=e=>(e/=255,e<=.03928?e/12.92:GE((e+.055)/1.055,2.4)),li={},Rd=(e,r,t=.5,...n)=>{let i=n[0]||"lrgb";if(!li[i]&&!n.length&&(i=Object.keys(li)[0]),!li[i])throw new Error(`interpolation mode ${i} is not defined`);return Bt(e)!=="object"&&(e=new Oe(e)),Bt(r)!=="object"&&(r=new Oe(r)),li[i](e,r,t).alpha(e.alpha()+t*(r.alpha()-e.alpha()))};Oe.prototype.mix=Oe.prototype.interpolate=function(e,r=.5,...t){return Rd(this,e,r,...t)};Oe.prototype.premultiply=function(e=!1){const r=this._rgb,t=r[3];return e?(this._rgb=[r[0]*t,r[1]*t,r[2]*t,t],this):new Oe([r[0]*t,r[1]*t,r[2]*t,t],"rgb")};const{sin:JE,cos:eT}=Math,$5=(...e)=>{let[r,t,n]=Pt(e,"lch");return isNaN(n)&&(n=0),n=n*BE,[r,eT(n)*t,JE(n)*t]},Kg=(...e)=>{e=Pt(e,"lch");const[r,t,n]=e,[i,o,s]=$5(r,t,n),[u,d,h]=Gg(i,o,s);return[u,d,h,e.length>3?e[3]:1]},tT=(...e)=>{const r=R5(Pt(e,"hcl"));return Kg(...r)},{sqrt:rT,atan2:nT,round:iT}=Math,W5=(...e)=>{const[r,t,n]=Pt(e,"lab"),i=rT(t*t+n*n);let o=(nT(n,t)*$E+360)%360;return iT(i*1e4)===0&&(o=Number.NaN),[r,i,o]},Qg=(...e)=>{const[r,t,n,...i]=Pt(e,"rgb"),[o,s,u]=qg(r,t,n),[d,h,p]=W5(o,s,u);return[d,h,p,...i.length>0&&i[0]<1?[i[0]]:[]]};Oe.prototype.lch=function(){return Qg(this._rgb)};Oe.prototype.hcl=function(){return R5(Qg(this._rgb))};const aT=(...e)=>new Oe(...e,"lch"),oT=(...e)=>new Oe(...e,"hcl");Object.assign(Ut,{lch:aT,hcl:oT});Et.format.lch=Kg;Et.format.hcl=tT;["lch","hcl"].forEach(e=>Et.autodetect.push({p:2,test:(...r)=>{if(r=Pt(r,e),Bt(r)==="array"&&r.length===3)return e}}));Oe.prototype.saturate=function(e=1){const r=this,t=r.lch();return t[1]+=Uo.Kn*e,t[1]<0&&(t[1]=0),new Oe(t,"lch").alpha(r.alpha(),!0)};Oe.prototype.desaturate=function(e=1){return this.saturate(-e)};Oe.prototype.set=function(e,r,t=!1){const[n,i]=e.split("."),o=this[n]();if(i){const s=n.indexOf(i)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(Bt(r)=="string")switch(r.charAt(0)){case"+":o[s]+=+r;break;case"-":o[s]+=+r;break;case"*":o[s]*=+r.substr(1);break;case"/":o[s]/=+r.substr(1);break;default:o[s]=+r}else if(Bt(r)==="number")o[s]=r;else throw new Error("unsupported value for Color.set");const u=new Oe(o,n);return t?(this._rgb=u._rgb,this):u}throw new Error(`unknown channel ${i} in mode ${n}`)}else return o};Oe.prototype.tint=function(e=.5,...r){return Rd(this,"white",e,...r)};Oe.prototype.shade=function(e=.5,...r){return Rd(this,"black",e,...r)};const lT=(e,r,t)=>{const n=e._rgb,i=r._rgb;return new Oe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"rgb")};li.rgb=lT;const{sqrt:rg,pow:fd}=Math,sT=(e,r,t)=>{const[n,i,o]=e._rgb,[s,u,d]=r._rgb;return new Oe(rg(fd(n,2)*(1-t)+fd(s,2)*t),rg(fd(i,2)*(1-t)+fd(u,2)*t),rg(fd(o,2)*(1-t)+fd(d,2)*t),"rgb")};li.lrgb=sT;const cT=(e,r,t)=>{const n=e.lab(),i=r.lab();return new Oe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"lab")};li.lab=cT;const $d=(e,r,t,n)=>{let i,o;n==="hsl"?(i=e.hsl(),o=r.hsl()):n==="hsv"?(i=e.hsv(),o=r.hsv()):n==="hcg"?(i=e.hcg(),o=r.hcg()):n==="hsi"?(i=e.hsi(),o=r.hsi()):n==="lch"||n==="hcl"?(n="hcl",i=e.hcl(),o=r.hcl()):n==="oklch"&&(i=e.oklch().reverse(),o=r.oklch().reverse());let s,u,d,h,p,v;(n.substr(0,1)==="h"||n==="oklch")&&([s,d,p]=i,[u,h,v]=o);let m,C,b,w;return!isNaN(s)&&!isNaN(u)?(u>s&&u-s>180?w=u-(s+360):u<s&&s-u>180?w=u+360-s:w=u-s,C=s+t*w):isNaN(s)?isNaN(u)?C=Number.NaN:(C=u,(p==1||p==0)&&n!="hsv"&&(m=h)):(C=s,(v==1||v==0)&&n!="hsv"&&(m=d)),m===void 0&&(m=d+t*(h-d)),b=p+t*(v-p),n==="oklch"?new Oe([b,m,C],n):new Oe([C,m,b],n)},U5=(e,r,t)=>$d(e,r,t,"lch");li.lch=U5;li.hcl=U5;const uT=e=>{if(Bt(e)=="number"&&e>=0&&e<=16777215){const r=e>>16,t=e>>8&255,n=e&255;return[r,t,n,1]}throw new Error("unknown num color: "+e)},dT=(...e)=>{const[r,t,n]=Pt(e,"rgb");return(r<<16)+(t<<8)+n};Oe.prototype.num=function(){return dT(this._rgb)};const hT=(...e)=>new Oe(...e,"num");Object.assign(Ut,{num:hT});Et.format.num=uT;Et.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&Bt(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const pT=(e,r,t)=>{const n=e.num(),i=r.num();return new Oe(n+t*(i-n),"num")};li.num=pT;const{floor:fT}=Math,gT=(...e)=>{e=Pt(e,"hcg");let[r,t,n]=e,i,o,s;n=n*255;const u=t*255;if(t===0)i=o=s=n;else{r===360&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60;const d=fT(r),h=r-d,p=n*(1-t),v=p+u*(1-h),m=p+u*h,C=p+u;switch(d){case 0:[i,o,s]=[C,m,p];break;case 1:[i,o,s]=[v,C,p];break;case 2:[i,o,s]=[p,C,m];break;case 3:[i,o,s]=[p,v,C];break;case 4:[i,o,s]=[m,p,C];break;case 5:[i,o,s]=[C,p,v];break}}return[i,o,s,e.length>3?e[3]:1]},vT=(...e)=>{const[r,t,n]=Pt(e,"rgb"),i=F5(r,t,n),o=O5(r,t,n),s=o-i,u=s*100/255,d=i/(255-s)*100;let h;return s===0?h=Number.NaN:(r===o&&(h=(t-n)/s),t===o&&(h=2+(n-r)/s),n===o&&(h=4+(r-t)/s),h*=60,h<0&&(h+=360)),[h,u,d]};Oe.prototype.hcg=function(){return vT(this._rgb)};const mT=(...e)=>new Oe(...e,"hcg");Ut.hcg=mT;Et.format.hcg=gT;Et.autodetect.push({p:1,test:(...e)=>{if(e=Pt(e,"hcg"),Bt(e)==="array"&&e.length===3)return"hcg"}});const yT=(e,r,t)=>$d(e,r,t,"hcg");li.hcg=yT;const{cos:gd}=Math,xT=(...e)=>{e=Pt(e,"hsi");let[r,t,n]=e,i,o,s;return isNaN(r)&&(r=0),isNaN(t)&&(t=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(s=(1-t)/3,i=(1+t*gd(Pl*r)/gd(Qf-Pl*r))/3,o=1-(s+i)):r<2/3?(r-=1/3,i=(1-t)/3,o=(1+t*gd(Pl*r)/gd(Qf-Pl*r))/3,s=1-(i+o)):(r-=2/3,o=(1-t)/3,s=(1+t*gd(Pl*r)/gd(Qf-Pl*r))/3,i=1-(o+s)),i=Nc(n*i*3),o=Nc(n*o*3),s=Nc(n*s*3),[i*255,o*255,s*255,e.length>3?e[3]:1]},{min:CT,sqrt:bT,acos:wT}=Math,_T=(...e)=>{let[r,t,n]=Pt(e,"rgb");r/=255,t/=255,n/=255;let i;const o=CT(r,t,n),s=(r+t+n)/3,u=s>0?1-o/s:0;return u===0?i=NaN:(i=(r-t+(r-n))/2,i/=bT((r-t)*(r-t)+(r-n)*(t-n)),i=wT(i),n>t&&(i=Pl-i),i/=Pl),[i*360,u,s]};Oe.prototype.hsi=function(){return _T(this._rgb)};const kT=(...e)=>new Oe(...e,"hsi");Ut.hsi=kT;Et.format.hsi=xT;Et.autodetect.push({p:2,test:(...e)=>{if(e=Pt(e,"hsi"),Bt(e)==="array"&&e.length===3)return"hsi"}});const ST=(e,r,t)=>$d(e,r,t,"hsi");li.hsi=ST;const Ag=(...e)=>{e=Pt(e,"hsl");const[r,t,n]=e;let i,o,s;if(t===0)i=o=s=n*255;else{const u=[0,0,0],d=[0,0,0],h=n<.5?n*(1+t):n+t-n*t,p=2*n-h,v=r/360;u[0]=v+1/3,u[1]=v,u[2]=v-1/3;for(let m=0;m<3;m++)u[m]<0&&(u[m]+=1),u[m]>1&&(u[m]-=1),6*u[m]<1?d[m]=p+(h-p)*6*u[m]:2*u[m]<1?d[m]=h:3*u[m]<2?d[m]=p+(h-p)*(2/3-u[m])*6:d[m]=p;[i,o,s]=[d[0]*255,d[1]*255,d[2]*255]}return e.length>3?[i,o,s,e[3]]:[i,o,s,1]},H5=(...e)=>{e=Pt(e,"rgba");let[r,t,n]=e;r/=255,t/=255,n/=255;const i=F5(r,t,n),o=O5(r,t,n),s=(o+i)/2;let u,d;return o===i?(u=0,d=Number.NaN):u=s<.5?(o-i)/(o+i):(o-i)/(2-o-i),r==o?d=(t-n)/(o-i):t==o?d=2+(n-r)/(o-i):n==o&&(d=4+(r-t)/(o-i)),d*=60,d<0&&(d+=360),e.length>3&&e[3]!==void 0?[d,u,s,e[3]]:[d,u,s]};Oe.prototype.hsl=function(){return H5(this._rgb)};const MT=(...e)=>new Oe(...e,"hsl");Ut.hsl=MT;Et.format.hsl=Ag;Et.autodetect.push({p:2,test:(...e)=>{if(e=Pt(e,"hsl"),Bt(e)==="array"&&e.length===3)return"hsl"}});const ET=(e,r,t)=>$d(e,r,t,"hsl");li.hsl=ET;const{floor:TT}=Math,IT=(...e)=>{e=Pt(e,"hsv");let[r,t,n]=e,i,o,s;if(n*=255,t===0)i=o=s=n;else{r===360&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60;const u=TT(r),d=r-u,h=n*(1-t),p=n*(1-t*d),v=n*(1-t*(1-d));switch(u){case 0:[i,o,s]=[n,v,h];break;case 1:[i,o,s]=[p,n,h];break;case 2:[i,o,s]=[h,n,v];break;case 3:[i,o,s]=[h,p,n];break;case 4:[i,o,s]=[v,h,n];break;case 5:[i,o,s]=[n,h,p];break}}return[i,o,s,e.length>3?e[3]:1]},{min:LT,max:PT}=Math,AT=(...e)=>{e=Pt(e,"rgb");let[r,t,n]=e;const i=LT(r,t,n),o=PT(r,t,n),s=o-i;let u,d,h;return h=o/255,o===0?(u=Number.NaN,d=0):(d=s/o,r===o&&(u=(t-n)/s),t===o&&(u=2+(n-r)/s),n===o&&(u=4+(r-t)/s),u*=60,u<0&&(u+=360)),[u,d,h]};Oe.prototype.hsv=function(){return AT(this._rgb)};const DT=(...e)=>new Oe(...e,"hsv");Ut.hsv=DT;Et.format.hsv=IT;Et.autodetect.push({p:2,test:(...e)=>{if(e=Pt(e,"hsv"),Bt(e)==="array"&&e.length===3)return"hsv"}});const FT=(e,r,t)=>$d(e,r,t,"hsv");li.hsv=FT;function Tp(e,r){let t=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(r[0])||(r=r.map(s=>[s]));let n=r[0].length,i=r[0].map((s,u)=>r.map(d=>d[u])),o=e.map(s=>i.map(u=>Array.isArray(s)?s.reduce((d,h,p)=>d+h*(u[p]||0),0):u.reduce((d,h)=>d+h*s,0)));return t===1&&(o=o[0]),n===1?o.map(s=>s[0]):o}const Jg=(...e)=>{e=Pt(e,"lab");const[r,t,n,...i]=e,[o,s,u]=OT([r,t,n]),[d,h,p]=V5(o,s,u);return[d,h,p,...i.length>0&&i[0]<1?[i[0]]:[]]};function OT(e){var r=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=Tp(t,e);return Tp(r,n.map(i=>i**3))}const ev=(...e)=>{const[r,t,n,...i]=Pt(e,"rgb"),o=B5(r,t,n);return[...RT(o),...i.length>0&&i[0]<1?[i[0]]:[]]};function RT(e){const r=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=Tp(r,e);return Tp(t,n.map(i=>Math.cbrt(i)))}Oe.prototype.oklab=function(){return ev(this._rgb)};const NT=(...e)=>new Oe(...e,"oklab");Object.assign(Ut,{oklab:NT});Et.format.oklab=Jg;Et.autodetect.push({p:2,test:(...e)=>{if(e=Pt(e,"oklab"),Bt(e)==="array"&&e.length===3)return"oklab"}});const zT=(e,r,t)=>{const n=e.oklab(),i=r.oklab();return new Oe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"oklab")};li.oklab=zT;const VT=(e,r,t)=>$d(e,r,t,"oklch");li.oklch=VT;const{pow:ng,sqrt:ig,PI:ag,cos:Im,sin:Lm,atan2:BT}=Math,$T=(e,r="lrgb",t=null)=>{const n=e.length;t||(t=Array.from(new Array(n)).map(()=>1));const i=n/t.reduce(function(v,m){return v+m});if(t.forEach((v,m)=>{t[m]*=i}),e=e.map(v=>new Oe(v)),r==="lrgb")return WT(e,t);const o=e.shift(),s=o.get(r),u=[];let d=0,h=0;for(let v=0;v<s.length;v++)if(s[v]=(s[v]||0)*t[0],u.push(isNaN(s[v])?0:t[0]),r.charAt(v)==="h"&&!isNaN(s[v])){const m=s[v]/180*ag;d+=Im(m)*t[0],h+=Lm(m)*t[0]}let p=o.alpha()*t[0];e.forEach((v,m)=>{const C=v.get(r);p+=v.alpha()*t[m+1];for(let b=0;b<s.length;b++)if(!isNaN(C[b]))if(u[b]+=t[m+1],r.charAt(b)==="h"){const w=C[b]/180*ag;d+=Im(w)*t[m+1],h+=Lm(w)*t[m+1]}else s[b]+=C[b]*t[m+1]});for(let v=0;v<s.length;v++)if(r.charAt(v)==="h"){let m=BT(h/u[v],d/u[v])/ag*180;for(;m<0;)m+=360;for(;m>=360;)m-=360;s[v]=m}else s[v]=s[v]/u[v];return p/=n,new Oe(s,r).alpha(p>.99999?1:p,!0)},WT=(e,r)=>{const t=e.length,n=[0,0,0,0];for(let i=0;i<e.length;i++){const o=e[i],s=r[i]/t,u=o._rgb;n[0]+=ng(u[0],2)*s,n[1]+=ng(u[1],2)*s,n[2]+=ng(u[2],2)*s,n[3]+=u[3]*s}return n[0]=ig(n[0]),n[1]=ig(n[1]),n[2]=ig(n[2]),n[3]>.9999999&&(n[3]=1),new Oe(Zg(n))},{pow:UT}=Math;function Ip(e){let r="rgb",t=Ut("#ccc"),n=0,i=[0,1],o=[],s=[0,0],u=!1,d=[],h=!1,p=0,v=1,m=!1,C={},b=!0,w=1;const _=function(D){if(D=D||["#fff","#000"],D&&Bt(D)==="string"&&Ut.brewer&&Ut.brewer[D.toLowerCase()]&&(D=Ut.brewer[D.toLowerCase()]),Bt(D)==="array"){D.length===1&&(D=[D[0],D[0]]),D=D.slice(0);for(let z=0;z<D.length;z++)D[z]=Ut(D[z]);o.length=0;for(let z=0;z<D.length;z++)o.push(z/(D.length-1))}return P(),d=D},S=function(D){if(u!=null){const z=u.length-1;let V=0;for(;V<z&&D>=u[V];)V++;return V-1}return 0};let M=D=>D,I=D=>D;const A=function(D,z){let V,W;if(z==null&&(z=!1),isNaN(D)||D===null)return t;z?W=D:u&&u.length>2?W=S(D)/(u.length-2):v!==p?W=(D-p)/(v-p):W=1,W=I(W),z||(W=M(W)),w!==1&&(W=UT(W,w)),W=s[0]+W*(1-s[0]-s[1]),W=Nc(W,0,1);const Q=Math.floor(W*1e4);if(b&&C[Q])V=C[Q];else{if(Bt(d)==="array")for(let se=0;se<o.length;se++){const X=o[se];if(W<=X){V=d[se];break}if(W>=X&&se===o.length-1){V=d[se];break}if(W>X&&W<o[se+1]){W=(W-X)/(o[se+1]-X),V=Ut.interpolate(d[se],d[se+1],W,r);break}}else Bt(d)==="function"&&(V=d(W));b&&(C[Q]=V)}return V};var P=()=>C={};_(e);const $=function(D){const z=Ut(A(D));return h&&z[h]?z[h]():z};return $.classes=function(D){if(D!=null){if(Bt(D)==="array")u=D,i=[D[0],D[D.length-1]];else{const z=Ut.analyze(i);D===0?u=[z.min,z.max]:u=Ut.limits(z,"e",D)}return $}return u},$.domain=function(D){if(!arguments.length)return i;p=D[0],v=D[D.length-1],o=[];const z=d.length;if(D.length===z&&p!==v)for(let V of Array.from(D))o.push((V-p)/(v-p));else{for(let V=0;V<z;V++)o.push(V/(z-1));if(D.length>2){const V=D.map((Q,se)=>se/(D.length-1)),W=D.map(Q=>(Q-p)/(v-p));W.every((Q,se)=>V[se]===Q)||(I=Q=>{if(Q<=0||Q>=1)return Q;let se=0;for(;Q>=W[se+1];)se++;const X=(Q-W[se])/(W[se+1]-W[se]);return V[se]+X*(V[se+1]-V[se])})}}return i=[p,v],$},$.mode=function(D){return arguments.length?(r=D,P(),$):r},$.range=function(D,z){return _(D),$},$.out=function(D){return h=D,$},$.spread=function(D){return arguments.length?(n=D,$):n},$.correctLightness=function(D){return D==null&&(D=!0),m=D,P(),m?M=function(z){const V=A(0,!0).lab()[0],W=A(1,!0).lab()[0],Q=V>W;let se=A(z,!0).lab()[0];const X=V+(W-V)*z;let J=se-X,le=0,j=1,q=20;for(;Math.abs(J)>.01&&q-- >0;)(function(){return Q&&(J*=-1),J<0?(le=z,z+=(j-z)*.5):(j=z,z+=(le-z)*.5),se=A(z,!0).lab()[0],J=se-X})();return z}:M=z=>z,$},$.padding=function(D){return D!=null?(Bt(D)==="number"&&(D=[D,D]),s=D,$):s},$.colors=function(D,z){arguments.length<2&&(z="hex");let V=[];if(arguments.length===0)V=d.slice(0);else if(D===1)V=[$(.5)];else if(D>1){const W=i[0],Q=i[1]-W;V=HT(0,D).map(se=>$(W+se/(D-1)*Q))}else{e=[];let W=[];if(u&&u.length>2)for(let Q=1,se=u.length,X=1<=se;X?Q<se:Q>se;X?Q++:Q--)W.push((u[Q-1]+u[Q])*.5);else W=i;V=W.map(Q=>$(Q))}return Ut[z]&&(V=V.map(W=>W[z]())),V},$.cache=function(D){return D!=null?(b=D,$):b},$.gamma=function(D){return D!=null?(w=D,$):w},$.nodata=function(D){return D!=null?(t=Ut(D),$):t},$}function HT(e,r,t){let n=[],i=e<r,o=r;for(let s=e;i?s<o:s>o;i?s++:s--)n.push(s);return n}const YT=function(e){let r=[1,1];for(let t=1;t<e;t++){let n=[1];for(let i=1;i<=r.length;i++)n[i]=(r[i]||0)+r[i-1];r=n}return r},XT=function(e){let r,t,n,i;if(e=e.map(o=>new Oe(o)),e.length===2)[t,n]=e.map(o=>o.lab()),r=function(o){const s=[0,1,2].map(u=>t[u]+o*(n[u]-t[u]));return new Oe(s,"lab")};else if(e.length===3)[t,n,i]=e.map(o=>o.lab()),r=function(o){const s=[0,1,2].map(u=>(1-o)*(1-o)*t[u]+2*(1-o)*o*n[u]+o*o*i[u]);return new Oe(s,"lab")};else if(e.length===4){let o;[t,n,i,o]=e.map(s=>s.lab()),r=function(s){const u=[0,1,2].map(d=>(1-s)*(1-s)*(1-s)*t[d]+3*(1-s)*(1-s)*s*n[d]+3*(1-s)*s*s*i[d]+s*s*s*o[d]);return new Oe(u,"lab")}}else if(e.length>=5){let o,s,u;o=e.map(d=>d.lab()),u=e.length-1,s=YT(u),r=function(d){const h=1-d,p=[0,1,2].map(v=>o.reduce((m,C,b)=>m+s[b]*h**(u-b)*d**b*C[v],0));return new Oe(p,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return r},jT=e=>{const r=XT(e);return r.scale=()=>Ip(r),r},{round:Y5}=Math;Oe.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Y5)};Oe.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((r,t)=>t<3?e===!1?r:Y5(r):r)};const ZT=(...e)=>new Oe(...e,"rgb");Object.assign(Ut,{rgb:ZT});Et.format.rgb=(...e)=>{const r=Pt(e,"rgba");return r[3]===void 0&&(r[3]=1),r};Et.autodetect.push({p:3,test:(...e)=>{if(e=Pt(e,"rgba"),Bt(e)==="array"&&(e.length===3||e.length===4&&Bt(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const lo=(e,r,t)=>{if(!lo[t])throw new Error("unknown blend mode "+t);return lo[t](e,r)},Fs=e=>(r,t)=>{const n=Ut(t).rgb(),i=Ut(r).rgb();return Ut.rgb(e(n,i))},Os=e=>(r,t)=>{const n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n},GT=e=>e,qT=(e,r)=>e*r/255,KT=(e,r)=>e>r?r:e,QT=(e,r)=>e>r?e:r,JT=(e,r)=>255*(1-(1-e/255)*(1-r/255)),eI=(e,r)=>r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255)),tI=(e,r)=>255*(1-(1-r/255)/(e/255)),rI=(e,r)=>e===255?255:(e=255*(r/255)/(1-e/255),e>255?255:e);lo.normal=Fs(Os(GT));lo.multiply=Fs(Os(qT));lo.screen=Fs(Os(JT));lo.overlay=Fs(Os(eI));lo.darken=Fs(Os(KT));lo.lighten=Fs(Os(QT));lo.dodge=Fs(Os(rI));lo.burn=Fs(Os(tI));const{pow:nI,sin:iI,cos:aI}=Math;function oI(e=300,r=-1.5,t=1,n=1,i=[0,1]){let o=0,s;Bt(i)==="array"?s=i[1]-i[0]:(s=0,i=[i,i]);const u=function(d){const h=Pl*((e+120)/360+r*d),p=nI(i[0]+s*d,n),v=(o!==0?t[0]+d*o:t)*p*(1-p)/2,m=aI(h),C=iI(h),b=p+v*(-.14861*m+1.78277*C),w=p+v*(-.29227*m-.90649*C),_=p+v*(1.97294*m);return Ut(Zg([b*255,w*255,_*255,1]))};return u.start=function(d){return d==null?e:(e=d,u)},u.rotations=function(d){return d==null?r:(r=d,u)},u.gamma=function(d){return d==null?n:(n=d,u)},u.hue=function(d){return d==null?t:(t=d,Bt(t)==="array"?(o=t[1]-t[0],o===0&&(t=t[1])):o=0,u)},u.lightness=function(d){return d==null?i:(Bt(d)==="array"?(i=d,s=d[1]-d[0]):(i=[d,d],s=0),u)},u.scale=()=>Ut.scale(u),u.hue(t),u}const lI="0123456789abcdef",{floor:sI,random:cI}=Math,uI=()=>{let e="#";for(let r=0;r<6;r++)e+=lI.charAt(sI(cI()*16));return new Oe(e,"hex")},{log:Pm,pow:dI,floor:hI,abs:pI}=Math;function X5(e,r=null){const t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Bt(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{r&&Bt(n)==="object"&&(n=n[r]),n!=null&&!isNaN(n)&&(t.values.push(n),t.sum+=n,n<t.min&&(t.min=n),n>t.max&&(t.max=n),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(n,i)=>j5(t,n,i),t}function j5(e,r="equal",t=7){Bt(e)=="array"&&(e=X5(e));const{min:n,max:i}=e,o=e.values.sort((u,d)=>u-d);if(t===1)return[n,i];const s=[];if(r.substr(0,1)==="c"&&(s.push(n),s.push(i)),r.substr(0,1)==="e"){s.push(n);for(let u=1;u<t;u++)s.push(n+u/t*(i-n));s.push(i)}else if(r.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const u=Math.LOG10E*Pm(n),d=Math.LOG10E*Pm(i);s.push(n);for(let h=1;h<t;h++)s.push(dI(10,u+h/t*(d-u)));s.push(i)}else if(r.substr(0,1)==="q"){s.push(n);for(let u=1;u<t;u++){const d=(o.length-1)*u/t,h=hI(d);if(h===d)s.push(o[h]);else{const p=d-h;s.push(o[h]*(1-p)+o[h+1]*p)}}s.push(i)}else if(r.substr(0,1)==="k"){let u;const d=o.length,h=new Array(d),p=new Array(t);let v=!0,m=0,C=null;C=[],C.push(n);for(let _=1;_<t;_++)C.push(n+_/t*(i-n));for(C.push(i);v;){for(let S=0;S<t;S++)p[S]=0;for(let S=0;S<d;S++){const M=o[S];let I=Number.MAX_VALUE,A;for(let P=0;P<t;P++){const $=pI(C[P]-M);$<I&&(I=$,A=P),p[A]++,h[S]=A}}const _=new Array(t);for(let S=0;S<t;S++)_[S]=null;for(let S=0;S<d;S++)u=h[S],_[u]===null?_[u]=o[S]:_[u]+=o[S];for(let S=0;S<t;S++)_[S]*=1/p[S];v=!1;for(let S=0;S<t;S++)if(_[S]!==C[S]){v=!0;break}C=_,m++,m>200&&(v=!1)}const b={};for(let _=0;_<t;_++)b[_]=[];for(let _=0;_<d;_++)u=h[_],b[u].push(o[_]);let w=[];for(let _=0;_<t;_++)w.push(b[_][0]),w.push(b[_][b[_].length-1]);w=w.sort((_,S)=>_-S),s.push(w[0]);for(let _=1;_<w.length;_+=2){const S=w[_];!isNaN(S)&&s.indexOf(S)===-1&&s.push(S)}}return s}const fI=(e,r)=>{e=new Oe(e),r=new Oe(r);const t=e.luminance(),n=r.luminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const Am=.027,gI=5e-4,vI=.1,Dm=1.14,Qh=.022,Fm=1.414,mI=(e,r)=>{e=new Oe(e),r=new Oe(r),e.alpha()<1&&(e=Rd(r,e,e.alpha(),"rgb"));const t=Om(...e.rgb()),n=Om(...r.rgb()),i=t>=Qh?t:t+Math.pow(Qh-t,Fm),o=n>=Qh?n:n+Math.pow(Qh-n,Fm),s=Math.pow(o,.56)-Math.pow(i,.57),u=Math.pow(o,.65)-Math.pow(i,.62),d=Math.abs(o-i)<gI?0:i<o?s*Dm:u*Dm;return(Math.abs(d)<vI?0:d>0?d-Am:d+Am)*100};function Om(e,r,t){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(r/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:El,pow:sn,min:yI,max:xI,atan2:Rm,abs:Nm,cos:Jh,sin:zm,exp:CI,PI:Vm}=Math;function bI(e,r,t=1,n=1,i=1){var o=function(B){return 360*B/(2*Vm)},s=function(B){return 2*Vm*B/360};e=new Oe(e),r=new Oe(r);const[u,d,h]=Array.from(e.lab()),[p,v,m]=Array.from(r.lab()),C=(u+p)/2,b=El(sn(d,2)+sn(h,2)),w=El(sn(v,2)+sn(m,2)),_=(b+w)/2,S=.5*(1-El(sn(_,7)/(sn(_,7)+sn(25,7)))),M=d*(1+S),I=v*(1+S),A=El(sn(M,2)+sn(h,2)),P=El(sn(I,2)+sn(m,2)),$=(A+P)/2,D=o(Rm(h,M)),z=o(Rm(m,I)),V=D>=0?D:D+360,W=z>=0?z:z+360,Q=Nm(V-W)>180?(V+W+360)/2:(V+W)/2,se=1-.17*Jh(s(Q-30))+.24*Jh(s(2*Q))+.32*Jh(s(3*Q+6))-.2*Jh(s(4*Q-63));let X=W-V;X=Nm(X)<=180?X:W<=V?X+360:X-360,X=2*El(A*P)*zm(s(X)/2);const J=p-u,le=P-A,j=1+.015*sn(C-50,2)/El(20+sn(C-50,2)),q=1+.045*$,Z=1+.015*$*se,re=30*CI(-sn((Q-275)/25,2)),ee=-(2*El(sn($,7)/(sn($,7)+sn(25,7))))*zm(2*s(re)),H=El(sn(J/(t*j),2)+sn(le/(n*q),2)+sn(X/(i*Z),2)+ee*(le/(n*q))*(X/(i*Z)));return xI(0,yI(100,H))}function wI(e,r,t="lab"){e=new Oe(e),r=new Oe(r);const n=e.get(t),i=r.get(t);let o=0;for(let s in n){const u=(n[s]||0)-(i[s]||0);o+=u*u}return Math.sqrt(o)}const _I=(...e)=>{try{return new Oe(...e),!0}catch{return!1}},kI={cool(){return Ip([Ut.hsl(180,1,.9),Ut.hsl(250,.7,.4)])},hot(){return Ip(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Dg={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Z5=Object.keys(Dg),Bm=new Map(Z5.map(e=>[e.toLowerCase(),e])),SI=typeof Proxy=="function"?new Proxy(Dg,{get(e,r){const t=r.toLowerCase();if(Bm.has(t))return e[Bm.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Z5)}}):Dg,MI=(...e)=>{e=Pt(e,"cmyk");const[r,t,n,i]=e,o=e.length>4?e[4]:1;return i===1?[0,0,0,o]:[r>=1?0:255*(1-r)*(1-i),t>=1?0:255*(1-t)*(1-i),n>=1?0:255*(1-n)*(1-i),o]},{max:$m}=Math,EI=(...e)=>{let[r,t,n]=Pt(e,"rgb");r=r/255,t=t/255,n=n/255;const i=1-$m(r,$m(t,n)),o=i<1?1/(1-i):0,s=(1-r-i)*o,u=(1-t-i)*o,d=(1-n-i)*o;return[s,u,d,i]};Oe.prototype.cmyk=function(){return EI(this._rgb)};const TI=(...e)=>new Oe(...e,"cmyk");Object.assign(Ut,{cmyk:TI});Et.format.cmyk=MI;Et.autodetect.push({p:2,test:(...e)=>{if(e=Pt(e,"cmyk"),Bt(e)==="array"&&e.length===4)return"cmyk"}});const II=(...e)=>{const r=Pt(e,"hsla");let t=Bd(e)||"lsa";return r[0]=Aa(r[0]||0)+"deg",r[1]=Aa(r[1]*100)+"%",r[2]=Aa(r[2]*100)+"%",t==="hsla"||r.length>3&&r[3]<1?(r[3]="/ "+(r.length>3?r[3]:1),t="hsla"):r.length=3,`${t.substr(0,3)}(${r.join(" ")})`},LI=(...e)=>{const r=Pt(e,"lab");let t=Bd(e)||"lab";return r[0]=Aa(r[0])+"%",r[1]=Aa(r[1]),r[2]=Aa(r[2]),t==="laba"||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`lab(${r.join(" ")})`},PI=(...e)=>{const r=Pt(e,"lch");let t=Bd(e)||"lab";return r[0]=Aa(r[0])+"%",r[1]=Aa(r[1]),r[2]=isNaN(r[2])?"none":Aa(r[2])+"deg",t==="lcha"||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`lch(${r.join(" ")})`},AI=(...e)=>{const r=Pt(e,"lab");return r[0]=Aa(r[0]*100)+"%",r[1]=Pg(r[1]),r[2]=Pg(r[2]),r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`oklab(${r.join(" ")})`},G5=(...e)=>{const[r,t,n,...i]=Pt(e,"rgb"),[o,s,u]=ev(r,t,n),[d,h,p]=W5(o,s,u);return[d,h,p,...i.length>0&&i[0]<1?[i[0]]:[]]},DI=(...e)=>{const r=Pt(e,"lch");return r[0]=Aa(r[0]*100)+"%",r[1]=Pg(r[1]),r[2]=isNaN(r[2])?"none":Aa(r[2])+"deg",r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`oklch(${r.join(" ")})`},{round:og}=Math,FI=(...e)=>{const r=Pt(e,"rgba");let t=Bd(e)||"rgb";if(t.substr(0,3)==="hsl")return II(H5(r),t);if(t.substr(0,3)==="lab"){const n=L1();Dl("d50");const i=LI(qg(r),t);return Dl(n),i}if(t.substr(0,3)==="lch"){const n=L1();Dl("d50");const i=PI(Qg(r),t);return Dl(n),i}return t.substr(0,5)==="oklab"?AI(ev(r)):t.substr(0,5)==="oklch"?DI(G5(r)):(r[0]=og(r[0]),r[1]=og(r[1]),r[2]=og(r[2]),(t==="rgba"||r.length>3&&r[3]<1)&&(r[3]="/ "+(r.length>3?r[3]:1),t="rgba"),`${t.substr(0,3)}(${r.slice(0,t==="rgb"?3:4).join(" ")})`)},q5=(...e)=>{e=Pt(e,"lch");const[r,t,n,...i]=e,[o,s,u]=$5(r,t,n),[d,h,p]=Jg(o,s,u);return[d,h,p,...i.length>0&&i[0]<1?[i[0]]:[]]},Ol=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,ao=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Lp=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Da=/\s*/.source,Wd=/\s+/.source,tv=/\s*,\s*/.source,Wp=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Ud=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,K5=new RegExp("^rgba?\\("+Da+[Ol,Ol,Ol].join(Wd)+Ud+"\\)$"),Q5=new RegExp("^rgb\\("+Da+[Ol,Ol,Ol].join(tv)+Da+"\\)$"),J5=new RegExp("^rgba\\("+Da+[Ol,Ol,Ol,ao].join(tv)+Da+"\\)$"),ey=new RegExp("^hsla?\\("+Da+[Wp,Lp,Lp].join(Wd)+Ud+"\\)$"),ty=new RegExp("^hsl?\\("+Da+[Wp,Lp,Lp].join(tv)+Da+"\\)$"),ry=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,ny=new RegExp("^lab\\("+Da+[ao,ao,ao].join(Wd)+Ud+"\\)$"),iy=new RegExp("^lch\\("+Da+[ao,ao,Wp].join(Wd)+Ud+"\\)$"),ay=new RegExp("^oklab\\("+Da+[ao,ao,ao].join(Wd)+Ud+"\\)$"),oy=new RegExp("^oklch\\("+Da+[ao,ao,Wp].join(Wd)+Ud+"\\)$"),{round:ly}=Math,vd=e=>e.map((r,t)=>t<=2?Nc(ly(r),0,255):r),cn=(e,r=0,t=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=r+(e+1)*.5*(t-r):e=r+e*(t-r)),+e),xi=(e,r)=>e==="none"?r:e,rv=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let r;if(Et.format.named)try{return Et.format.named(e)}catch{}if((r=e.match(K5))||(r=e.match(Q5))){let t=r.slice(1,4);for(let i=0;i<3;i++)t[i]=+cn(xi(t[i],0),0,255);t=vd(t);const n=r[4]!==void 0?+cn(r[4],0,1):1;return t[3]=n,t}if(r=e.match(J5)){const t=r.slice(1,5);for(let n=0;n<4;n++)t[n]=+cn(t[n],0,255);return t}if((r=e.match(ey))||(r=e.match(ty))){const t=r.slice(1,4);t[0]=+xi(t[0].replace("deg",""),0),t[1]=+cn(xi(t[1],0),0,100)*.01,t[2]=+cn(xi(t[2],0),0,100)*.01;const n=vd(Ag(t)),i=r[4]!==void 0?+cn(r[4],0,1):1;return n[3]=i,n}if(r=e.match(ry)){const t=r.slice(1,4);t[1]*=.01,t[2]*=.01;const n=Ag(t);for(let i=0;i<3;i++)n[i]=ly(n[i]);return n[3]=+r[4],n}if(r=e.match(ny)){const t=r.slice(1,4);t[0]=cn(xi(t[0],0),0,100),t[1]=cn(xi(t[1],0),-125,125,!0),t[2]=cn(xi(t[2],0),-125,125,!0);const n=L1();Dl("d50");const i=vd(Gg(t));Dl(n);const o=r[4]!==void 0?+cn(r[4],0,1):1;return i[3]=o,i}if(r=e.match(iy)){const t=r.slice(1,4);t[0]=cn(t[0],0,100),t[1]=cn(xi(t[1],0),0,150,!1),t[2]=+xi(t[2].replace("deg",""),0);const n=L1();Dl("d50");const i=vd(Kg(t));Dl(n);const o=r[4]!==void 0?+cn(r[4],0,1):1;return i[3]=o,i}if(r=e.match(ay)){const t=r.slice(1,4);t[0]=cn(xi(t[0],0),0,1),t[1]=cn(xi(t[1],0),-.4,.4,!0),t[2]=cn(xi(t[2],0),-.4,.4,!0);const n=vd(Jg(t)),i=r[4]!==void 0?+cn(r[4],0,1):1;return n[3]=i,n}if(r=e.match(oy)){const t=r.slice(1,4);t[0]=cn(xi(t[0],0),0,1),t[1]=cn(xi(t[1],0),0,.4,!1),t[2]=+xi(t[2].replace("deg",""),0);const n=vd(q5(t)),i=r[4]!==void 0?+cn(r[4],0,1):1;return n[3]=i,n}};rv.test=e=>K5.test(e)||ey.test(e)||ny.test(e)||iy.test(e)||ay.test(e)||oy.test(e)||Q5.test(e)||J5.test(e)||ty.test(e)||ry.test(e)||e==="transparent";Oe.prototype.css=function(e){return FI(this._rgb,e)};const OI=(...e)=>new Oe(...e,"css");Ut.css=OI;Et.format.css=rv;Et.autodetect.push({p:5,test:(e,...r)=>{if(!r.length&&Bt(e)==="string"&&rv.test(e))return"css"}});Et.format.gl=(...e)=>{const r=Pt(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r};const RI=(...e)=>new Oe(...e,"gl");Ut.gl=RI;Oe.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};Oe.prototype.hex=function(e){return z5(this._rgb,e)};const NI=(...e)=>new Oe(...e,"hex");Ut.hex=NI;Et.format.hex=N5;Et.autodetect.push({p:4,test:(e,...r)=>{if(!r.length&&Bt(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:ep}=Math,sy=e=>{const r=e/100;let t,n,i;return r<66?(t=255,n=r<6?0:-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*ep(n),i=r<20?0:-254.76935184120902+.8274096064007395*(i=r-10)+115.67994401066147*ep(i)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*ep(t),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*ep(n),i=255),[t,n,i,1]},{round:zI}=Math,VI=(...e)=>{const r=Pt(e,"rgb"),t=r[0],n=r[2];let i=1e3,o=4e4;const s=.4;let u;for(;o-i>s;){u=(o+i)*.5;const d=sy(u);d[2]/d[0]>=n/t?o=u:i=u}return zI(u)};Oe.prototype.temp=Oe.prototype.kelvin=Oe.prototype.temperature=function(){return VI(this._rgb)};const lg=(...e)=>new Oe(...e,"temp");Object.assign(Ut,{temp:lg,kelvin:lg,temperature:lg});Et.format.temp=Et.format.kelvin=Et.format.temperature=sy;Oe.prototype.oklch=function(){return G5(this._rgb)};const BI=(...e)=>new Oe(...e,"oklch");Object.assign(Ut,{oklch:BI});Et.format.oklch=q5;Et.autodetect.push({p:2,test:(...e)=>{if(e=Pt(e,"oklch"),Bt(e)==="array"&&e.length===3)return"oklch"}});Object.assign(Ut,{analyze:X5,average:$T,bezier:jT,blend:lo,brewer:SI,Color:Oe,colors:Od,contrast:fI,contrastAPCA:mI,cubehelix:oI,deltaE:bI,distance:wI,input:Et,interpolate:Rd,limits:j5,mix:Rd,random:uI,scale:Ip,scales:kI,valid:_I});const $I=[["rgb(255, 255, 255)","rgb(178, 181, 190)","rgb(149, 152, 161)","rgb(120, 123, 134)","rgb(93, 96, 107)","rgb(42, 46, 57)","rgb(0, 0, 0)"],["rgb(242, 54, 69)","rgb(252, 203, 205)","rgb(250, 161, 164)","rgb(247, 124, 128)","rgb(247, 82, 95)","rgb(178, 40, 51)","rgb(128, 25, 34)"],["rgb(255, 152, 0)","rgb(255, 224, 178)","rgb(255, 204, 128)","rgb(255, 183, 77)","rgb(255, 167, 38)","rgb(245, 124, 0)","rgb(230, 81, 0)"],["rgb(255, 235, 59)","rgb(255, 249, 196)","rgb(255, 245, 157)","rgb(255, 241, 118)","rgb(255, 238, 88)","rgb(251, 192, 45)","rgb(245, 127, 23)"],["rgb(76, 175, 80)","rgb(200, 230, 201)","rgb(165, 214, 167)","rgb(129, 199, 132)","rgb(102, 187, 106)","rgb(56, 142, 60)","rgb(27, 94, 32)"],["rgb(8, 153, 129)","rgb(172, 229, 220)","rgb(112, 204, 189)","rgb(66, 189, 168)","rgb(34, 171, 148)","rgb(5, 102, 86)","rgb(0, 51, 42)"],["rgb(0, 188, 212)","rgb(178, 235, 242)","rgb(128, 222, 234)","rgb(77, 208, 225)","rgb(38, 198, 218)","rgb(0, 151, 167)","rgb(0, 96, 100)"],["rgb(41, 98, 255)","rgb(187, 217, 251)","rgb(144, 191, 249)","rgb(91, 156, 246)","rgb(49, 121, 245)","rgb(24, 72, 204)","rgb(12, 50, 153)"],["rgb(103, 58, 183)","rgb(209, 196, 233)","rgb(179, 157, 219)","rgb(149, 117, 205)","rgb(126, 87, 194)","rgb(81, 45, 168)","rgb(49, 27, 146)"],["rgb(156, 39, 176)","rgb(225, 190, 231)","rgb(206, 147, 216)","rgb(186, 104, 200)","rgb(171, 71, 188)","rgb(123, 31, 162)","rgb(74, 20, 140)"],["rgb(233, 30, 99)","rgb(248, 187, 208)","rgb(244, 143, 177)","rgb(240, 98, 146)","rgb(236, 64, 122)","rgb(194, 24, 91)","rgb(136, 14, 79)"],["#00698b","#fb7b50"]];var WI=te("<div class=split_line>"),UI=te("<div class=range_div><input class=range type=range min=1 max=100><p>%"),HI=te("<div tabindex=0><div class=selector-container><i class=arrow></i></div><div class=drop-down-container><div class=palette-content><div class=split_line></div><div class=submit><span class=cancel>Cancel</span><span>Ok"),YI=te("<div class=each_line>"),XI=te("<div>");const nv=e=>{const r=w=>{if(!w)return 100;try{const _=String(w);return _.includes("rgba")?Math.round(Ut(_).alpha()*100):100}catch{return 100}},[t,n]=Ds({ui:{open:!1,rangeFocused:!1,isDragging:!1},color:{opacity:r(e.value),selectedColor:e.value,finalColor:e.value}}),i=Gr(()=>t.ui.rangeFocused||t.ui.isDragging),o=w=>{const _=w.currentTarget,S=w.relatedTarget;return!i()&&_&&!_.contains(S)},s=()=>{n("ui","open",!1)},u=()=>{var w;n("color",{selectedColor:e.value,finalColor:e.value,opacity:r(e.value)}),(w=e.onChange)==null||w.call(e,e.value),s()},d=(w,_)=>{try{const S=_/100;return Ut(w).alpha(S).css()}catch(S){return console.warn("Error applying opacity to color:",S),w}},h=()=>{var w;const _=d(t.color.selectedColor,t.color.opacity);n("color","finalColor",_),(e.reactiveChange??!0)&&((w=e.onChange)==null||w.call(e,_))},p=w=>{const _=parseInt(w.target.value);n("color","opacity",_),h()},v=()=>{n("ui",{rangeFocused:!0,isDragging:!0})},m=()=>{n("ui","isDragging",!1),setTimeout(()=>{n("ui","rangeFocused",!1)},100)},C=w=>{n("color","selectedColor",w),h()},b=()=>{t.ui.isDragging&&(n("ui","isDragging",!1),setTimeout(()=>{n("ui","rangeFocused",!1)},100))};return Bi(()=>{document.addEventListener("mouseup",b)}),_n(()=>{document.removeEventListener("mouseup",b)}),(()=>{var w=HI(),_=w.firstChild,S=_.nextSibling,M=S.firstChild,I=M.firstChild,A=I.nextSibling,P=A.firstChild,$=P.nextSibling;return w.addEventListener("blur",D=>{o(D)&&s()}),_.$$click=D=>{D.stopPropagation(),n("ui","open",!t.ui.open)},S.$$click=D=>{D.target===D.currentTarget&&s()},M.$$click=D=>{D.stopPropagation()},N(M,()=>$I.map(D=>(()=>{var z=YI();return N(z,()=>D.map(V=>(()=>{var W=XI();return W.$$click=Q=>{Q.stopPropagation(),C(V)},ze(Q=>{var se=`each_color ${V==t.color.selectedColor?"selected":""}`,X=`background-color: ${V}`;return se!==Q.e&&Nt(W,Q.e=se),Q.t=Vi(W,X,Q.t),Q},{e:void 0,t:void 0}),W})())),z})()),I),N(M,ae(Ke,{get when(){return e.opacityEnabled},get children(){return[WI(),(()=>{var D=UI(),z=D.firstChild,V=z.nextSibling,W=V.firstChild;return z.addEventListener("mouseleave",m),z.$$mouseup=m,z.$$mousedown=v,z.addEventListener("blur",m),z.addEventListener("focus",v),z.$$input=p,N(V,()=>t.color.opacity,W),ze(Q=>Vi(z,`background: linear-gradient(to right, transparent 0%, ${t.color.selectedColor} 100%); border: 1px solid ${t.color.selectedColor}`,Q)),ze(()=>z.value=t.color.opacity),D})()]}}),I),P.$$click=u,$.$$click=()=>{var D;e.reactiveChange===!1&&((D=e.onChange)==null||D.call(e,t.color.finalColor)),s()},ze(D=>{var z=`width: 120px; background-color: ${t.color.finalColor}; border-radius: 10px`,V=`chartspire-ui-color ${e.class??""} ${t.ui.open?"chartspire-ui-color-palette-show":""}`;return D.e=Vi(w,z,D.e),V!==D.t&&Nt(w,D.t=V),D},{e:void 0,t:void 0}),w})()};yr(["click","input","mousedown","mouseup"]);class cy{constructor(r){De(this,"dataFeeds",new Map),De(this,"trackedSymbols",new Map),De(this,"priceCallbacks",new Set),De(this,"currentPrices",new Map),De(this,"updateIntervals",new Map),De(this,"config"),this.config={updateInterval:3e4,enableLogging:!0,...r},this.log(`[PriceTrackingService] Initialized with ${this.config.updateInterval}ms update interval`)}log(r,...t){this.config.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.config.enableLogging&&console.warn(r,...t)}setDataFeed(r,t){this.dataFeeds.set(r,t),this.log(`[PriceTrackingService] Set data feed for ticker type: ${r}`)}setDataFeeds(r){this.dataFeeds=new Map(r),this.log(`[PriceTrackingService] Set ${r.size} data feeds:`,Array.from(r.keys()))}getDataFeedForTicker(r){var t;const n=((t=r.type)==null?void 0:t.toString())||"default";return this.dataFeeds.get(n)||null}trackSymbol(r){if(!this.getDataFeedForTicker(r)){this.logWarn(`[PriceTrackingService] No DataFeed found for ticker type ${r.type}, cannot track symbol:`,r.ticker);return}const t=r.ticker;this.trackedSymbols.has(t)||(this.trackedSymbols.set(t,r),this.startPriceFetching(r),this.log(`[PriceTrackingService] Started tracking price for ${t} using ${r.type} datafeed (${this.config.updateInterval}ms interval)`))}async startPriceFetching(r){const t=r.ticker;await this.fetchPrice(r);const n=setInterval(async()=>{await this.fetchPrice(r)},this.config.updateInterval);this.updateIntervals.set(t,n)}async fetchPrice(r){const t=this.getDataFeedForTicker(r);if(!t){this.logWarn(`[PriceTrackingService] No DataFeed available for ${r.ticker} (${r.type})`);return}const n=r.ticker,i=Date.now(),o=i-60*1e3;try{this.logWarn(`[PriceTrackingService] Fetching price for ${n} using ${r.type} datafeed...`);const s={multiplier:1,timespan:un.MINUTE,text:Ue.ONE_MIN},u=await t.getHistoricalTimeSeries(r,s,o,i,r.type);if(u&&u.length>0){const d=u[u.length-1],h=d.close;if(h!==void 0){this.currentPrices.set(n,h);const p={symbol:n,price:h,timestamp:d.timestamp??i};this.log(`[PriceTrackingService] Price update for ${n} (${r.type}): $${h.toFixed(2)}`),this.priceCallbacks.forEach(v=>{try{v(p)}catch(m){console.error(`[PriceTrackingService] Error in price update callback for ${n}:`,m)}})}}else this.logWarn(`[PriceTrackingService] No data received for ${n} (${r.type})`)}catch(s){console.error(`[PriceTrackingService] Error fetching price for ${n} (${r.type}):`,s)}}untrackSymbol(r){if(!this.trackedSymbols.get(r))return;const t=this.updateIntervals.get(r);t&&(clearInterval(t),this.updateIntervals.delete(r)),this.trackedSymbols.delete(r),this.currentPrices.delete(r),this.log(`[PriceTrackingService] Stopped tracking price for ${r}`)}getCurrentPrice(r){return this.currentPrices.get(r)??null}getTrackedSymbols(){return Array.from(this.trackedSymbols.keys())}addPriceCallback(r){this.priceCallbacks.add(r)}removePriceCallback(r){this.priceCallbacks.delete(r)}updateTrackedSymbols(r,t){const n=new Set(this.trackedSymbols.keys()),i=new Set(r);for(const o of n)i.has(o)||this.untrackSymbol(o);for(const o of r)if(!n.has(o)){const s=t(o);s&&this.trackSymbol(s)}}cleanup(){for(const[r,t]of this.updateIntervals)clearInterval(t),this.log(`[PriceTrackingService] Cleared interval for ${r}`);this.updateIntervals.clear(),this.trackedSymbols.clear(),this.currentPrices.clear(),this.priceCallbacks.clear(),this.log("[PriceTrackingService] Cleanup completed")}isLoggingEnabled(){return this.config.enableLogging}updateConfig(r){const t=this.config.updateInterval;if(this.config={...this.config,...r},r.updateInterval&&r.updateInterval!==t){this.log(`[PriceTrackingService] Update interval changed from ${t}ms to ${this.config.updateInterval}ms`);const n=Array.from(this.trackedSymbols.values());this.cleanup(),n.forEach(i=>{this.trackSymbol(i)})}}getCurrentConfig(){return{...this.config}}}var dn=(e=>(e.MARKET="MARKET",e.LIMIT="LIMIT",e))(dn||{}),Yn=(e=>(e.PENDING="PENDING",e.FILLED="FILLED",e.CANCELLED="CANCELLED",e))(Yn||{});class iv{constructor(){De(this,"storageKey","chartspire-paper-trading")}save(r){try{localStorage.setItem(this.storageKey,JSON.stringify(r))}catch(t){console.error("Error saving paper trading data to local storage:",t)}}load(){try{const r=localStorage.getItem(this.storageKey);return r?JSON.parse(r):null}catch(r){return console.error("Error loading paper trading data from local storage:",r),null}}}class jI{constructor(r,t,n=!0){De(this,"storageProvider"),De(this,"tickerInfoCache"),De(this,"isInitialized",!1),De(this,"enableLogging"),this.storageProvider=r??new iv,this.tickerInfoCache=t??new Map,this.enableLogging=n}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}isExternalStorageProvider(r){return"loadAsync"in r}loadData(){const r=this.storageProvider.load();return r?(this.migrateDataIfNeeded(r),this.isInitialized=!0,r):(this.isInitialized=!0,{orders:[],positions:[],trades:[],balance:1e4})}async initializeAsync(){if(this.isExternalStorageProvider(this.storageProvider)){const r=await this.storageProvider.loadAsync();return r?(this.migrateDataIfNeeded(r),this.log("[DataStorageManager] Loaded data from external storage"),this.isInitialized=!0,r):(this.log("[DataStorageManager] No external data found, using default data"),this.isInitialized=!0,this.getDefaultData())}else return this.isInitialized=!0,this.loadData()}getDefaultData(){return{orders:[],positions:[],trades:[],balance:1e4}}saveData(r){if(!this.isInitialized){this.logWarn("[DataStorageManager] Attempted to save data before initialization completed, skipping...");return}this.log("[DataStorageManager] Saving data:",{ordersCount:r.orders.length,positionsCount:r.positions.length,tradesCount:r.trades.length,balance:r.balance}),this.storageProvider.save(r)}migrateDataIfNeeded(r){r.orders.forEach(i=>{if(!i.tickerType){const o=this.tickerInfoCache.get(i.symbol);o!=null&&o.type?(i.tickerType=o.type.toString(),this.log(`[DataStorageManager] Migration: Set ticker type for order ${i.symbol} from cache: ${i.tickerType}`)):(i.tickerType="Unknown",this.logWarn(`[DataStorageManager] Migration: Could not determine ticker type for order ${i.symbol}, set to 'Unknown'. Price tracking may not work correctly.`))}}),r.positions.forEach(i=>{if(!i.tickerType){const o=this.tickerInfoCache.get(i.symbol);o!=null&&o.type?(i.tickerType=o.type.toString(),this.log(`[DataStorageManager] Migration: Set ticker type for position ${i.symbol} from cache: ${i.tickerType}`)):(i.tickerType="Unknown",this.logWarn(`[DataStorageManager] Migration: Could not determine ticker type for position ${i.symbol}, set to 'Unknown'. Price tracking may not work correctly.`))}});const t=r.orders.length;r.orders=r.orders.filter(i=>i.status===Yn.PENDING);const n=t-r.orders.length;n>0&&this.log(`[DataStorageManager] Migration: Removed ${n} filled/cancelled orders from storage to keep it clean`)}isStorageInitialized(){return this.isInitialized}isUsingExternalStorage(){return this.isExternalStorageProvider(this.storageProvider)}setTickerInfoCache(r){this.tickerInfoCache=r}setLoggingEnabled(r){this.enableLogging=r}}class ZI{constructor(r=!0){De(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}validateOrder(r,t,n){const{symbol:i,side:o,quantity:s,type:u,price:d,currentPrice:h,tickerType:p}=r;if(s<=0)throw new Error("Quantity must be greater than 0");if(u===dn.LIMIT&&d<=0)throw new Error("Limit price must be greater than 0");if(!p||p.trim()==="")throw new Error("Ticker type is required when placing orders");const v=(u===dn.MARKET?h:d)*s;if(o==="buy"&&v>t)throw new Error("Insufficient balance");if(o==="sell"){const m=n.find(b=>b.symbol===i&&b.side==="buy"),C=m?m.quantity:0;if(C<s)throw new Error(`Insufficient shares to sell. You own ${C} ${i} but trying to sell ${s}`)}}createOrder(r){const{symbol:t,side:n,quantity:i,type:o,price:s,currentPrice:u,tickerType:d}=r,h=o===dn.MARKET?u:s;return{id:this.generateId(),symbol:t,side:n,quantity:i,type:o,price:h,status:Yn.PENDING,timestamp:Date.now(),tickerType:d.trim()}}shouldExecuteLimitOrder(r,t){return r.type!==dn.LIMIT?!0:(this.log("[OrderManager] Checking limit order execution:",{orderId:r.id,symbol:r.symbol,side:r.side,limitPrice:r.price,marketPrice:t,shouldExecute:r.side==="buy"?t<=r.price:t>=r.price}),r.side==="buy"&&t>r.price?(this.log(`[OrderManager] Buy limit order NOT executed: market price ${t} > limit price ${r.price}`),!1):r.side==="sell"&&t<r.price?(this.log(`[OrderManager] Sell limit order NOT executed: market price ${t} < limit price ${r.price}`),!1):(this.log(`[OrderManager] Limit order EXECUTING: ${r.side} ${r.symbol} at market price ${t} (limit was ${r.price})`),!0))}fillOrder(r){r.status=Yn.FILLED,r.filledAt=Date.now(),this.log(`[OrderManager] Order ${r.id} filled and will be removed from storage to keep storage clean`)}cancelOrder(r){if(r.status!==Yn.PENDING)throw new Error("Order cannot be cancelled");r.status=Yn.CANCELLED,this.log(`[OrderManager] Order ${r.id} cancelled and will be removed from storage to keep storage clean`)}checkLimitOrdersForExecution(r,t,n){const i=r.filter(o=>o.symbol===t&&o.status===Yn.PENDING&&o.type===dn.LIMIT);return i.length>0&&this.log(`[OrderManager] Checking ${i.length} pending limit orders for ${t} at price $${n.toFixed(2)}`),i.filter(o=>this.shouldExecuteLimitOrder(o,n))}getPendingOrders(r){return r.filter(t=>t.status===Yn.PENDING)}getPendingLimitOrdersForSymbol(r,t){return r.filter(n=>n.symbol===t&&n.status===Yn.PENDING&&n.type===dn.LIMIT)}hasPendingLimitOrders(r){return r.some(t=>t.status===Yn.PENDING&&t.type===dn.LIMIT)}calculatePendingBuyOrdersValue(r){return r.filter(t=>t.status===Yn.PENDING&&t.side==="buy").reduce((t,n)=>t+n.price*n.quantity,0)}getPendingOrdersInfo(r){const t=r.filter(o=>o.status===Yn.PENDING&&o.side==="buy"),n=r.filter(o=>o.status===Yn.PENDING&&o.side==="sell"),i=this.calculatePendingBuyOrdersValue(r);return{pendingBuyOrders:t,pendingSellOrders:n,totalBuyOrdersValue:i}}setLoggingEnabled(r){this.enableLogging=r}}class GI{constructor(r=!0){De(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}updatePosition(r,t,n){let i=0;if(t.side==="buy"){const o=r.find(s=>s.symbol===t.symbol&&s.side==="buy");if(o){const s=o.quantity+t.quantity,u=o.averagePrice*o.quantity+n*t.quantity;o.quantity=s,o.averagePrice=u/s,o.tickerType=t.tickerType}else{const s={id:this.generateId(),symbol:t.symbol,side:"buy",quantity:t.quantity,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(s)}}else{const o=r.find(s=>s.symbol===t.symbol&&s.side==="buy");if(o)if(t.quantity>=o.quantity){const s=t.quantity-o.quantity,u=(n-o.averagePrice)*o.quantity;i+=u;const d=r.findIndex(h=>h.id===o.id);if(r.splice(d,1),s>0){const h={id:this.generateId(),symbol:t.symbol,side:"sell",quantity:s,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(h)}}else{const s=t.quantity,u=o.quantity-s,d=(n-o.averagePrice)*s;i+=d,o.quantity=u}else{const s=r.find(u=>u.symbol===t.symbol&&u.side==="sell");if(s){const u=s.quantity+t.quantity,d=s.averagePrice*s.quantity+n*t.quantity;s.quantity=u,s.averagePrice=d/u,s.tickerType=t.tickerType}else{const u={id:this.generateId(),symbol:t.symbol,side:"sell",quantity:t.quantity,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(u)}}}return{updatedBalance:i}}updatePositionPnL(r,t,n){r.filter(i=>i.symbol===t).forEach(i=>{i.side==="buy"?i.unrealizedPnL=(n-i.averagePrice)*i.quantity:i.unrealizedPnL=(i.averagePrice-n)*i.quantity})}closePosition(r,t,n){const i=r.findIndex(h=>h.id===t);if(i===-1)throw new Error("Position not found");const o=r[i];if(!n||n<=0)throw new Error(`Invalid current price: ${n}. Cannot close position.`);this.log("[PositionManager] Closing position"),this.log("[PositionManager] Position details:",{symbol:o.symbol,side:o.side,quantity:o.quantity,averagePrice:o.averagePrice,currentPrice:n});let s=0;o.side==="buy"?s=(n-o.averagePrice)*o.quantity:s=(o.averagePrice-n)*o.quantity,this.log(`[PositionManager] Calculated realized P&L: $${s.toFixed(2)}`);const u=n*o.quantity;this.log(`[PositionManager] Total proceeds from sale: $${u.toFixed(2)}`),this.log(`[PositionManager] Original investment: $${(o.averagePrice*o.quantity).toFixed(2)}`),this.log(`[PositionManager] Net P&L from this position: $${s.toFixed(2)}`);const d={id:this.generateId(),orderId:`close-${o.id}`,symbol:o.symbol,side:o.side==="buy"?"sell":"buy",quantity:o.quantity,price:n,timestamp:Date.now()};return this.log(`[PositionManager] Closed position ${o.symbol} ${o.side} ${o.quantity} at $${n.toFixed(2)}, realized P&L: $${s.toFixed(2)}`),r.splice(i,1),{balanceChange:u,trade:d}}getPositionsForSymbol(r,t){return r.filter(n=>n.symbol===t)}getSymbolsWithPositions(r){const t=new Set;return r.forEach(n=>t.add(n.symbol)),Array.from(t)}hasOpenPositions(r){return r.length>0}getTotalUnrealizedPnL(r){return r.reduce((t,n)=>t+n.unrealizedPnL,0)}getTotalRealizedPnL(r){return r.reduce((t,n)=>t+n.realizedPnL,0)}setLoggingEnabled(r){this.enableLogging=r}}class qI{constructor(r=!0){De(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}calculatePendingBuyOrdersValue(r){return r.filter(t=>t.status==="PENDING"&&t.side==="buy").reduce((t,n)=>t+n.price*n.quantity,0)}addCash(r,t){if(t<=0)throw new Error("Amount must be greater than 0");const n=r+t;return this.log(`[BalanceManager] Added $${t.toFixed(2)} to account. New balance: $${n.toFixed(2)}`),n}removeCash(r,t,n){if(t<=0)throw new Error("Amount must be greater than 0");if(t>r)throw new Error(`Insufficient balance. Current balance: $${r.toFixed(2)}, trying to remove: $${t.toFixed(2)}`);const i=this.calculatePendingBuyOrdersValue(n),o=r-t;if(o<i)throw new Error(`Cannot remove $${t.toFixed(2)}. Pending buy orders require $${i.toFixed(2)} but new balance would be $${o.toFixed(2)}. Cancel some orders or remove less cash.`);return this.log(`[BalanceManager] Removed $${t.toFixed(2)} from account. New balance: $${o.toFixed(2)}`),o}setBalance(r,t){if(r<0)throw new Error("Balance cannot be negative");const n=this.calculatePendingBuyOrdersValue(t);if(r<n)throw new Error(`Cannot set balance to $${r.toFixed(2)}. Pending buy orders require $${n.toFixed(2)}. Cancel some orders first.`);return this.log(`[BalanceManager] Set balance to $${r.toFixed(2)}`),r}getPendingOrdersInfo(r,t){const n=t.filter(d=>d.status==="PENDING"&&d.side==="buy"),i=t.filter(d=>d.status==="PENDING"&&d.side==="sell"),o=this.calculatePendingBuyOrdersValue(t),s=r-o,u=Math.max(0,s);return{pendingBuyOrders:n,pendingSellOrders:i,totalBuyOrdersValue:o,availableCashAfterOrders:s,maxCashRemoval:u}}updateBalanceForOrderExecution(r,t,n){return t==="buy"?r-n:r+n}validateBalanceForOrder(r,t,n){return t==="buy"?r>=n:!0}setLoggingEnabled(r){this.enableLogging=r}}class KI{constructor(r=1e3,t=!0){De(this,"maxTrades"),De(this,"enableLogging"),this.maxTrades=Math.max(1,r),this.enableLogging=t}log(r,...t){this.enableLogging&&console.log(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}createTrade(r,t,n,i,o){return{id:this.generateId(),orderId:r,symbol:t,side:n,quantity:i,price:o,timestamp:Date.now()}}addTrade(r,t){r.push(t),this.limitTrades(r)}limitTrades(r){if(r.length>this.maxTrades){r.sort((n,i)=>n.timestamp-i.timestamp);const t=r.length-this.maxTrades;r.splice(0,t),this.log(`[TradeManager] Limited trades to ${this.maxTrades}, removed ${t} oldest trades`)}}clearAllTrades(r){const t=r.length;return r.length=0,this.log(`[TradeManager] Cleared ${t} trades from history`),t}getTradesForSymbol(r,t){return r.filter(n=>n.symbol===t)}getTradesInDateRange(r,t,n){return r.filter(i=>i.timestamp>=t&&i.timestamp<=n)}getTradesForOrder(r,t){return r.filter(n=>n.orderId===t)}getTotalVolumeForSymbol(r,t){return r.filter(n=>n.symbol===t).reduce((n,i)=>n+i.quantity,0)}getTotalValueForSymbol(r,t){return r.filter(n=>n.symbol===t).reduce((n,i)=>n+i.quantity*i.price,0)}getTradeStatistics(r){const t=r.length,n=r.reduce((d,h)=>d+h.quantity,0),i=r.reduce((d,h)=>d+h.quantity*h.price,0),o=new Set(r.map(d=>d.symbol)).size,s=t>0?n/t:0,u=t>0?i/t:0;return{totalTrades:t,totalVolume:n,totalValue:i,uniqueSymbols:o,averageTradeSize:s,averageTradeValue:u}}getRecentTrades(r,t=10){return r.sort((n,i)=>i.timestamp-n.timestamp).slice(0,t)}setMaxTrades(r){this.maxTrades=Math.max(1,r)}getMaxTrades(){return this.maxTrades}setLoggingEnabled(r){this.enableLogging=r}}class QI{constructor(r,t,n,i,o=!0){De(this,"data"),De(this,"dataStorageManager"),De(this,"orderManager"),De(this,"positionManager"),De(this,"balanceManager"),De(this,"tradeManager"),De(this,"priceTrackingService"),De(this,"tickerInfoCache",new Map),De(this,"isUIVisible",!1),De(this,"enableLogging"),this.enableLogging=o,this.dataStorageManager=new jI(r??new iv,this.tickerInfoCache,o),this.orderManager=new ZI(o),this.positionManager=new GI(o),this.balanceManager=new qI(o),this.tradeManager=new KI(i,o),this.priceTrackingService=t??new cy(n),this.dataStorageManager.isUsingExternalStorage()?(this.data=this.dataStorageManager.getDefaultData(),this.log("[PaperTradingService] Initialized with default data for external storage (async load will follow)")):(this.data=this.dataStorageManager.loadData(),this.log("[PaperTradingService] Initialized with local storage data")),this.setupPriceTracking()}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}async initializeAsync(){this.dataStorageManager.isUsingExternalStorage()&&(this.data=await this.dataStorageManager.initializeAsync(),this.log("[PaperTradingService] Async initialization completed"),this.updateTrackedSymbols())}saveData(){this.dataStorageManager.saveData(this.data)}setupPriceTracking(){this.priceTrackingService.addPriceCallback(r=>{this.log(`[PaperTradingService] Price update received: ${r.symbol} = $${r.price.toFixed(2)}`),this.checkLimitOrdersForSymbol(r.symbol,r.price),this.updatePositionPnLForSymbol(r.symbol,r.price)}),this.updateTrackedSymbols()}updateTrackedSymbols(){if(!this.isUIVisible)return;const r=new Set;for(const t of this.data.orders)t.status===Yn.PENDING&&t.type===dn.LIMIT&&r.add(t.symbol);for(const t of this.data.positions)r.add(t.symbol);this.priceTrackingService.updateTrackedSymbols(Array.from(r),t=>this.tickerInfoCache.get(t)??null)}createTickerInfo(r,t){return this.tickerInfoCache.get(r)||(t?{ticker:r,type:t,name:r}:null)}checkLimitOrdersForSymbol(r,t){this.orderManager.checkLimitOrdersForExecution(this.data.orders,r,t).forEach(n=>{this.executeOrder(n.id,t)}),this.updateTrackedSymbols()}updatePositionPnLForSymbol(r,t){this.positionManager.updatePositionPnL(this.data.positions,r,t)}setDataFeed(r,t){this.priceTrackingService.setDataFeed(r,t)}setDataFeeds(r){this.priceTrackingService.setDataFeeds(r)}cacheTickerInfo(r){this.tickerInfoCache.set(r.ticker,r)}updatePriceTrackingConfig(r){this.priceTrackingService.updateConfig(r)}setPriceTrackingInterval(r){if(r<1e3)throw new Error("Price tracking interval must be at least 1000ms (1 second)");this.priceTrackingService.updateConfig({updateInterval:r})}getCurrentConfig(){return this.priceTrackingService.getCurrentConfig()}setPriceTrackingLogging(r){this.priceTrackingService.updateConfig({enableLogging:r}),this.enableLogging=r,this.dataStorageManager.setLoggingEnabled(r),this.orderManager.setLoggingEnabled(r),this.positionManager.setLoggingEnabled(r),this.balanceManager.setLoggingEnabled(r),this.tradeManager.setLoggingEnabled(r)}getOrders(){return[...this.data.orders]}getPositions(){return[...this.data.positions]}getTrades(){return[...this.data.trades]}getBalance(){return this.data.balance}placeOrder(r){this.orderManager.validateOrder(r,this.data.balance,this.data.positions);const t=this.orderManager.createOrder(r);return this.data.orders.push(t),t.type===dn.MARKET?this.executeOrder(t.id,r.currentPrice):this.updateTrackedSymbols(),this.saveData(),t}executeOrder(r,t){const n=this.data.orders.find(d=>d.id===r);if(!n||n.status!==Yn.PENDING||!this.orderManager.shouldExecuteLimitOrder(n,t))return;const i=t*n.quantity;this.data.balance=this.balanceManager.updateBalanceForOrderExecution(this.data.balance,n.side,i);const o=this.positionManager.updatePosition(this.data.positions,n,t);this.data.balance+=o.updatedBalance;const s=this.tradeManager.createTrade(n.id,n.symbol,n.side,n.quantity,t);this.tradeManager.addTrade(this.data.trades,s),this.orderManager.fillOrder(n);const u=this.data.orders.findIndex(d=>d.id===r);u!==-1&&(this.data.orders.splice(u,1),this.log(`[PaperTradingService] Removed filled order ${r} from storage`)),this.updateTrackedSymbols(),this.saveData()}cancelOrder(r){const t=this.data.orders.find(i=>i.id===r);if(!t)throw new Error("Order not found");this.orderManager.cancelOrder(t);const n=this.data.orders.findIndex(i=>i.id===r);n!==-1&&(this.data.orders.splice(n,1),this.log(`[PaperTradingService] Removed cancelled order ${r} from storage`)),this.updateTrackedSymbols(),this.saveData()}updatePositionPnL(r,t){this.positionManager.updatePositionPnL(this.data.positions,r,t)}closePosition(r,t){const n=this.data.balance;this.log(`[PaperTradingService] Closing position - Initial balance: $${n.toFixed(2)}`);const i=this.positionManager.closePosition(this.data.positions,r,t);this.data.balance+=i.balanceChange,this.log(`[PaperTradingService] Updated balance: $${this.data.balance.toFixed(2)} (added proceeds: +$${i.balanceChange.toFixed(2)})`),this.tradeManager.addTrade(this.data.trades,i.trade),this.updateTrackedSymbols(),this.saveData(),this.log(`[PaperTradingService] Position close completed. Final balance: $${this.data.balance.toFixed(2)}`)}addCash(r){this.data.balance=this.balanceManager.addCash(this.data.balance,r),this.saveData()}removeCash(r){this.data.balance=this.balanceManager.removeCash(this.data.balance,r,this.data.orders),this.saveData()}setBalance(r){this.data.balance=this.balanceManager.setBalance(r,this.data.orders),this.saveData()}getPendingOrdersInfo(){return this.balanceManager.getPendingOrdersInfo(this.data.balance,this.data.orders)}clearAllTrades(){this.tradeManager.clearAllTrades(this.data.trades),this.saveData()}checkLimitOrders(r,t){this.checkLimitOrdersForSymbol(r,t)}reset(){this.data=this.dataStorageManager.getDefaultData(),this.updateTrackedSymbols(),this.saveData()}startPriceTrackingForPendingOrders(){this.isUIVisible=!0,this.log("[PaperTradingService] UI opened, starting price tracking for pending orders and positions...");const r=new Set;for(const i of this.data.orders)i.status===Yn.PENDING&&i.type===dn.LIMIT&&r.add(i.symbol);for(const i of this.data.positions)r.add(i.symbol);const t=this.data.orders.filter(i=>i.status===Yn.PENDING&&i.type===dn.LIMIT).map(i=>i.symbol),n=this.data.positions.map(i=>i.symbol);this.log(`[PaperTradingService] Found ${t.length} symbols with pending limit orders:`,t),this.log(`[PaperTradingService] Found ${n.length} symbols with open positions:`,n),this.log(`[PaperTradingService] Total ${r.size} unique symbols to track:`,Array.from(r));for(const i of r){let o=this.tickerInfoCache.get(i);if(!o){const s=this.data.orders.find(h=>h.symbol===i),u=this.data.positions.find(h=>h.symbol===i),d=(s==null?void 0:s.tickerType)||(u==null?void 0:u.tickerType);if(d){const h=this.createTickerInfo(i,d);h&&(o=h,this.tickerInfoCache.set(i,o))}}o?(this.log(`[PaperTradingService] Starting tracking for ${i} (type: ${o.type})`),this.priceTrackingService.trackSymbol(o)):this.logWarn(`[PaperTradingService] No ticker info available for ${i} - cannot track price`)}r.size===0&&this.log("[PaperTradingService] No pending orders or positions found, no price tracking needed")}stopPriceTrackingForUI(){this.isUIVisible=!1,this.log("[PaperTradingService] UI closed, stopping all price tracking..."),this.priceTrackingService.cleanup()}hasPendingLimitOrders(){return this.orderManager.hasPendingLimitOrders(this.data.orders)}hasItemsNeedingPriceTracking(){const r=this.orderManager.hasPendingLimitOrders(this.data.orders),t=this.positionManager.hasOpenPositions(this.data.positions);return r||t}isUICurrentlyVisible(){return this.isUIVisible}cleanup(){this.isUIVisible=!1,this.priceTrackingService.cleanup()}}const JI=async()=>null;class eL{constructor(r=!0){De(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}save(r){this.log("[ExternalStorageProvider] Saving paper trading data via callback"),this.log("[ExternalStorageProvider] Data to save:",r),this.log("[ExternalStorageProvider] Data type:",typeof r),this.log("[ExternalStorageProvider] Data keys:",Object.keys(r||{})),this.logWarn("[ExternalStorageProvider] No save callback registered, data not saved")}load(){return this.log("[ExternalStorageProvider] Load called - use loadAsync() for external storage"),null}async loadAsync(){try{this.log("[ExternalStorageProvider] Loading paper trading data via callback");const r=await JI();return r?(this.log("[ExternalStorageProvider] Paper trading data loaded successfully"),r):(this.log("[ExternalStorageProvider] No paper trading data found"),null)}catch(r){return console.error("[ExternalStorageProvider] Error loading paper trading data:",r),null}}}var tL=te("<div class=form-group><label></label><input type=number min=0 step=0.01>"),rL=te("<div class=trade-form><div class=order-type-selector><button></button><button></button></div><div class=side-selector><button></button><button></button></div><div class=form-group><label></label><input type=number min=1 step=1></div><div class=order-summary><div class=summary-row><span>:</span><span></span></div></div><button> "),Wm=te("<div class=empty-state>"),nL=te("<div class=positions-list>"),iL=te("<div class=orders-list>"),aL=te("<div class=empty-state><div class=empty-icon></div><div class=empty-title></div><div class=empty-subtitle>"),oL=te("<div class=trades-header><button class=clear-trades-btn> "),lL=te("<div class=trades-table-header><div class=header-symbol></div><div class=header-details><span class=header-qty></span><span class=header-price></span><span class=header-total></span></div><div class=header-time>"),sL=te("<div class=trades-list>"),cL=te("<div class=cash-warning>"),uL=te('<div class=cash-management><div class=cash-form><div class=form-group><label></label><input type=number min=0 step=100></div><div class=form-group><label></label><select><option value=add></option><option value=remove></option></select></div><button> </button><button class="cash-operation-btn remove"style=margin-top:15px;background:#dc3545;border-color:#dc3545;></button></div><div class=pending-orders-summary><h4>'),dL=te("<div class=paper-trading-container><div class=paper-trading-header><h3></h3><div class=balance>: </div></div><div class=current-ticker><div class=ticker-info><span class=symbol></span><span class=price></span></div></div><div class=tab-navigation><button></button><button> (<!>)</button><button> (<!>)</button><button> (<!>)</button><button></button></div><div class=tab-content>"),hL=te("<div class=position-item><div class=position-header><span class=symbol></span><span></span></div><div class=position-details><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div></div><button class=close-position-btn>"),pL=te("<div class=order-item><div class=order-header><span class=symbol></span><span></span><span class=type></span></div><div class=order-details><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div></div><button class=cancel-order-btn>"),fL=te('<div class="trade-item compact"><div class=trade-row><div class=trade-symbol><span class=symbol></span><span> </span></div><div class=trade-details><span class=quantity></span><span class=price></span><span class=total></span></div><div class=trade-time><br>'),gL=te("<div><div>: </div><div>: </div><div>: "),vL=te("<div class=error-text>"),mL=te("<div class=summary-details><div class=summary-row><span>:</span><span> (<!>)</span></div><div class=summary-row><span>:</span><span></span></div><div class=summary-row><span>:</span><span></span></div><div class=summary-row><span>:</span><span>");const yL=e=>{const[r,t]=ye([]),[n,i]=ye([]),[o,s]=ye([]),[u,d]=ye(1e4),[h,p]=ye(dn.MARKET),[v,m]=ye("buy"),[C,b]=ye(1),[w,_]=ye(e.currentPrice),[S,M]=ye("trade"),[I,A]=ye(""),[P,$]=ye(0),[D,z]=ye(1e3),[V,W]=ye("add"),Q=new cy(e.priceTrackingConfig),se=e.paperTradingUseExternalStorage?new eL(Q.isLoggingEnabled()):new iv,X=new QI(se,Q,e.priceTrackingConfig,e.paperTradingMaxTrades),J=(ve,...Te)=>{Q.isLoggingEnabled()&&console.log(ve,...Te)},le=(ve,...Te)=>{Q.isLoggingEnabled()&&console.warn(ve,...Te)},j=()=>(P(),Ae(e.ticker.ticker)),q=ve=>{P();const Te=Q.getCurrentPrice(ve.symbol);return Te&&Te>0?ve.side==="buy"?(Te-ve.averagePrice)*ve.quantity:(ve.averagePrice-Te)*ve.quantity:ve.unrealizedPnL};Q.addPriceCallback(ve=>{$(Te=>Te+1),Z()}),Bi(async()=>{J("[PaperTrading] Component mounted, setting up paper trading..."),e.paperTradingUseExternalStorage&&(J("[PaperTrading] Using external storage, initializing async..."),await X.initializeAsync()),e.dataFeeds?(X.setDataFeeds(e.dataFeeds),J("[PaperTrading] Set up multiple data feeds:",Array.from(e.dataFeeds.keys()))):e.dataFeed&&e.ticker.type?(X.setDataFeed(e.ticker.type.toString(),e.dataFeed),J("[PaperTrading] Set up single data feed for:",e.ticker.type.toString())):le("[PaperTrading] No data feeds available!"),e.ticker.ticker&&(X.cacheTickerInfo(e.ticker),J("[PaperTrading] Cached ticker info for:",e.ticker.ticker)),Z(),A(e.ticker.ticker),X.startPriceTrackingForPendingOrders()}),_n(()=>{J("[PaperTrading] Component unmounting, stopping price tracking..."),X.stopPriceTrackingForUI()}),nt(()=>{if(e.ticker.ticker&&e.ticker.ticker!==I()){const ve=j();_(ve||e.currentPrice),A(e.ticker.ticker),X.cacheTickerInfo(e.ticker)}}),nt(()=>{e.ticker.ticker&&e.currentPrice>0&&(X.updatePositionPnL(e.ticker.ticker,e.currentPrice),Z())});const Z=()=>{t(X.getOrders()),i(X.getPositions()),s(X.getTrades()),d(X.getBalance())},re=()=>{var ve;if(!e.ticker.ticker||C()<=0)return;const Te=j(),Ne=h()===dn.MARKET?Te:w();J("[PaperTrading] Placing order:",{symbol:e.ticker.ticker,side:v(),quantity:C(),type:h(),price:Ne,currentPrice:Te});try{const tt=X.placeOrder({symbol:e.ticker.ticker,side:v(),quantity:C(),type:h(),price:Ne,currentPrice:Te,tickerType:(ve=e.ticker.type)==null?void 0:ve.toString()});J("[PaperTrading] Order placed successfully:",tt),Z(),b(1),_(j())}catch(tt){console.error("Error placing order:",tt),alert(tt instanceof Error?tt.message:"Error placing order")}},ee=ve=>{try{const Te=n().find(mt=>mt.id===ve);if(!Te)throw new Error("Position not found");const Ne=u();J(`[PaperTrading] BEFORE closing position - Balance: $${Ne.toFixed(2)}`),J("[PaperTrading] Position to close:",Te);const tt=Ae(Te.symbol);if(J(`[PaperTrading] Current price for ${Te.symbol}: $${tt}`),!tt||tt<=0)throw new Error(`Cannot close position: No current price available for ${Te.symbol}. Please try again when price data is available.`);let Ge=0;Te.side==="buy"?Ge=(tt-Te.averagePrice)*Te.quantity:Ge=(Te.averagePrice-tt)*Te.quantity,J(`[PaperTrading] Expected P&L: $${Ge.toFixed(2)}`),J(`[PaperTrading] Expected new balance: $${(Ne+Ge).toFixed(2)}`),X.closePosition(ve,tt),Z();const gt=u(),vt=gt-Ne;J(`[PaperTrading] AFTER closing position - Balance: $${gt.toFixed(2)}`),J(`[PaperTrading] Actual balance change: $${vt.toFixed(2)}`),J(`[PaperTrading] Expected vs Actual: Expected $${Ge.toFixed(2)}, Got $${vt.toFixed(2)}`)}catch(Te){console.error("Error closing position:",Te),alert(Te instanceof Error?Te.message:"Error closing position")}},H=ve=>{try{X.cancelOrder(ve),Z()}catch(Te){console.error("Error canceling order:",Te)}},B=()=>{try{X.addCash(D()),Z(),z(1e3)}catch(ve){console.error("Error adding cash:",ve),alert(ve instanceof Error?ve.message:"Error adding cash")}},he=()=>{try{X.removeCash(D()),Z(),z(1e3)}catch(ve){console.error("Error removing cash:",ve),alert(ve instanceof Error?ve.message:"Error removing cash")}},Ce=()=>{try{X.reset(),Z(),J("[PaperTrading] Account reset successfully")}catch(ve){console.error("Error resetting account:",ve),alert(ve instanceof Error?ve.message:"Error resetting account")}},be=()=>X.getPendingOrdersInfo(),xe=ve=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ve),Ve=(ve,Te=2)=>ve.toFixed(Te),Re=ve=>ve>0?"#00C851":ve<0?"#FF4444":"#666",Ae=ve=>{P();const Te=Q.getCurrentPrice(ve);return Te&&Te>0?(J(`[PaperTrading] Using API price for ${ve}: $${Te.toFixed(2)}`),Te):ve===e.ticker.ticker?(J(`[PaperTrading] Using chart price for ${ve}: $${e.currentPrice.toFixed(2)} (API price not available)`),e.currentPrice):(le(`[PaperTrading] No price available for ${ve}`),0)};return(()=>{var ve=dL(),Te=ve.firstChild,Ne=Te.firstChild,tt=Ne.nextSibling,Ge=tt.firstChild,gt=Te.nextSibling,vt=gt.firstChild,mt=vt.firstChild,nr=mt.nextSibling,cr=gt.nextSibling,Kt=cr.firstChild,Tt=Kt.nextSibling,fr=Tt.firstChild,nn=fr.nextSibling;nn.nextSibling;var fn=Tt.nextSibling,lr=fn.firstChild,At=lr.nextSibling;At.nextSibling;var Ht=fn.nextSibling,Qt=Ht.firstChild,Hr=Qt.nextSibling;Hr.nextSibling;var sr=Ht.nextSibling,Or=cr.nextSibling;return N(Ne,()=>L("paper_trading",e.locale)),N(tt,()=>L("balance",e.locale),Ge),N(tt,()=>xe(u()),null),N(mt,()=>e.ticker.ticker),N(nr,()=>xe(j())),Kt.$$click=()=>M("trade"),N(Kt,()=>L("trade",e.locale)),Tt.$$click=()=>M("positions"),N(Tt,()=>L("positions",e.locale),fr),N(Tt,()=>n().length,nn),fn.$$click=()=>M("orders"),N(fn,()=>L("orders",e.locale),lr),N(fn,()=>r().length,At),Ht.$$click=()=>M("trades"),N(Ht,()=>L("trades",e.locale),Qt),N(Ht,()=>o().length,Hr),sr.$$click=()=>M("cash"),N(sr,()=>L("cash",e.locale)),N(Or,ae(Ke,{get when(){return S()==="trade"},get children(){var kt=rL(),Be=kt.firstChild,bt=Be.firstChild,yt=bt.nextSibling,wt=Be.nextSibling,xt=wt.firstChild,$t=xt.nextSibling,Yt=wt.nextSibling,gr=Yt.firstChild,ur=gr.nextSibling,ar=Yt.nextSibling,Gn=ar.firstChild,zr=Gn.firstChild,Vr=zr.firstChild,qn=zr.nextSibling,It=ar.nextSibling,Er=It.firstChild;return bt.$$click=()=>p(dn.MARKET),N(bt,()=>L("market",e.locale)),yt.$$click=()=>{p(dn.LIMIT),_(j())},N(yt,()=>L("limit",e.locale)),xt.$$click=()=>m("buy"),N(xt,()=>L("buy",e.locale)),$t.$$click=()=>m("sell"),N($t,()=>L("sell",e.locale)),N(gr,()=>L("quantity",e.locale)),ur.$$input=_t=>b(Number(_t.target.value)),N(kt,ae(Ke,{get when(){return h()===dn.LIMIT},get children(){var _t=tL(),Tr=_t.firstChild,xr=Tr.nextSibling;return N(Tr,()=>L("price",e.locale)),xr.$$input=dr=>_(Number(dr.target.value)),ze(()=>xr.value=w()),_t}}),ar),N(zr,()=>L("estimated_total",e.locale),Vr),N(qn,()=>xe((h()===dn.MARKET?j():w())*C())),It.$$click=re,N(It,(()=>{var _t=Le(()=>v()==="buy");return()=>_t()?L("buy",e.locale):L("sell",e.locale)})(),Er),N(It,()=>e.ticker.ticker,null),ze(_t=>{var Tr=`order-type-btn ${h()===dn.MARKET?"active":""}`,xr=`order-type-btn ${h()===dn.LIMIT?"active":""}`,dr=`side-btn buy ${v()==="buy"?"active":""}`,Kr=`side-btn sell ${v()==="sell"?"active":""}`,Br=`place-order-btn ${v()}`,Qr=!e.ticker.ticker||C()<=0;return Tr!==_t.e&&Nt(bt,_t.e=Tr),xr!==_t.t&&Nt(yt,_t.t=xr),dr!==_t.a&&Nt(xt,_t.a=dr),Kr!==_t.o&&Nt($t,_t.o=Kr),Br!==_t.i&&Nt(It,_t.i=Br),Qr!==_t.n&&(It.disabled=_t.n=Qr),_t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),ze(()=>ur.value=C()),kt}}),null),N(Or,ae(Ke,{get when(){return S()==="positions"},get children(){var kt=nL();return N(kt,ae(Ke,{get when(){return n().length===0},get children(){var Be=Wm();return N(Be,()=>L("no_open_positions",e.locale)),Be}}),null),N(kt,ae(Zn,{get each(){return n()},children:Be=>{const bt=()=>(P(),Ae(Be.symbol));return(()=>{var yt=hL(),wt=yt.firstChild,xt=wt.firstChild,$t=xt.nextSibling,Yt=wt.nextSibling,gr=Yt.firstChild,ur=gr.firstChild,ar=ur.firstChild,Gn=ur.nextSibling,zr=gr.nextSibling,Vr=zr.firstChild,qn=Vr.firstChild,It=Vr.nextSibling,Er=zr.nextSibling,_t=Er.firstChild,Tr=_t.firstChild,xr=_t.nextSibling,dr=Er.nextSibling,Kr=dr.firstChild,Br=Kr.firstChild,Qr=Kr.nextSibling,gn=Yt.nextSibling;return N(xt,()=>Be.symbol),N($t,()=>Be.side.toUpperCase()),N(ur,()=>L("quantity",e.locale),ar),N(Gn,()=>Be.quantity),N(Vr,()=>L("avg_price",e.locale),qn),N(It,()=>xe(Be.averagePrice)),N(_t,()=>L("current_price",e.locale),Tr),N(xr,()=>xe(bt())),N(Kr,()=>L("pnl",e.locale),Br),N(Qr,()=>xe(q(Be))),gn.$$click=()=>ee(Be.id),N(gn,()=>L("close_position",e.locale)),ze(Mn=>{var $i=`side ${Be.side}`,oa=Re(q(Be));return $i!==Mn.e&&Nt($t,Mn.e=$i),oa!==Mn.t&&((Mn.t=oa)!=null?Qr.style.setProperty("color",oa):Qr.style.removeProperty("color")),Mn},{e:void 0,t:void 0}),yt})()}}),null),kt}}),null),N(Or,ae(Ke,{get when(){return S()==="orders"},get children(){var kt=iL();return N(kt,ae(Ke,{get when(){return r().length===0},get children(){var Be=Wm();return N(Be,()=>L("no_pending_orders",e.locale)),Be}}),null),N(kt,ae(Zn,{get each(){return r()},children:Be=>(()=>{var bt=pL(),yt=bt.firstChild,wt=yt.firstChild,xt=wt.nextSibling,$t=xt.nextSibling,Yt=yt.nextSibling,gr=Yt.firstChild,ur=gr.firstChild,ar=ur.firstChild,Gn=ur.nextSibling,zr=gr.nextSibling,Vr=zr.firstChild,qn=Vr.firstChild,It=Vr.nextSibling,Er=zr.nextSibling,_t=Er.firstChild,Tr=_t.firstChild,xr=_t.nextSibling,dr=Yt.nextSibling;return N(wt,()=>Be.symbol),N(xt,()=>Be.side.toUpperCase()),N($t,()=>Be.type),N(ur,()=>L("quantity",e.locale),ar),N(Gn,()=>Be.quantity),N(Vr,()=>L("price",e.locale),qn),N(It,()=>xe(Be.price)),N(_t,()=>L("status",e.locale),Tr),N(xr,()=>Be.status),dr.$$click=()=>H(Be.id),N(dr,()=>L("cancel_order",e.locale)),ze(()=>Nt(xt,`side ${Be.side}`)),bt})()}),null),kt}}),null),N(Or,ae(Ke,{get when(){return S()==="trades"},get children(){var kt=sL();return N(kt,ae(Ke,{get when(){return o().length===0},get children(){var Be=aL(),bt=Be.firstChild,yt=bt.nextSibling,wt=yt.nextSibling;return N(yt,()=>L("no_trades_executed",e.locale)),N(wt,()=>L("your_trade_history_will_appear_here",e.locale)),Be}}),null),N(kt,ae(Ke,{get when(){return o().length>0},get children(){return[(()=>{var Be=oL(),bt=Be.firstChild;return bt.firstChild,bt.$$click=()=>{const yt=L("are_you_sure_clear_trades",e.locale).replace("{count}",o().length.toString());confirm(yt)&&(X.clearAllTrades(),Z())},N(bt,()=>L("clear_all_trades",e.locale),null),Be})(),(()=>{var Be=lL(),bt=Be.firstChild,yt=bt.nextSibling,wt=yt.firstChild,xt=wt.nextSibling,$t=xt.nextSibling,Yt=yt.nextSibling;return N(bt,()=>L("symbol_side",e.locale)),N(wt,()=>L("qty",e.locale)),N(xt,()=>L("price",e.locale)),N($t,()=>L("total",e.locale)),N(Yt,()=>L("date_time",e.locale)),Be})()]}}),null),N(kt,ae(Zn,{get each(){return o().sort((Be,bt)=>bt.timestamp-Be.timestamp)},children:Be=>(()=>{var bt=fL(),yt=bt.firstChild,wt=yt.firstChild,xt=wt.firstChild,$t=xt.nextSibling,Yt=$t.firstChild,gr=wt.nextSibling,ur=gr.firstChild,ar=ur.nextSibling,Gn=ar.nextSibling,zr=gr.nextSibling,Vr=zr.firstChild;return N(xt,()=>Be.symbol),N($t,()=>Be.side==="buy"?"":"",Yt),N($t,()=>Be.side.toUpperCase(),null),N(ur,()=>Ve(Be.quantity,Be.quantity<1?4:0)),N(ar,()=>xe(Be.price)),N(Gn,()=>xe(Be.price*Be.quantity)),N(zr,()=>new Date(Be.timestamp).toLocaleDateString([],{month:"short",day:"numeric"}),Vr),N(zr,()=>new Date(Be.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),null),ze(()=>Nt($t,`side-badge ${Be.side}`)),bt})()}),null),kt}}),null),N(Or,ae(Ke,{get when(){return S()==="cash"},get children(){var kt=uL(),Be=kt.firstChild,bt=Be.firstChild,yt=bt.firstChild,wt=yt.nextSibling,xt=bt.nextSibling,$t=xt.firstChild,Yt=$t.nextSibling,gr=Yt.firstChild,ur=gr.nextSibling,ar=xt.nextSibling,Gn=ar.firstChild,zr=ar.nextSibling,Vr=Be.nextSibling,qn=Vr.firstChild;return N(yt,()=>L("cash_amount",e.locale)),wt.$$input=It=>z(Number(It.target.value)),N($t,()=>L("operation",e.locale)),Yt.addEventListener("change",It=>W(It.target.value)),N(gr,()=>L("add_cash",e.locale)),N(ur,()=>L("remove_cash",e.locale)),N(Be,ae(Ke,{get when(){return V()==="remove"},get children(){var It=cL();return N(It,()=>{const Er=be();if(Er.totalBuyOrdersValue>0){const _t=u()-D(),Tr=_t<Er.totalBuyOrdersValue;return(()=>{var xr=gL(),dr=xr.firstChild,Kr=dr.firstChild,Br=dr.nextSibling,Qr=Br.firstChild,gn=Br.nextSibling,Mn=gn.firstChild;return Nt(xr,`warning ${Tr?"error":"info"}`),N(dr,()=>L("pending_buy_orders",e.locale),Kr),N(dr,()=>xe(Er.totalBuyOrdersValue),null),N(Br,()=>L("balance_after_removal",e.locale),Qr),N(Br,()=>xe(_t),null),N(gn,()=>L("max_safe_removal",e.locale),Mn),N(gn,()=>xe(Er.maxCashRemoval),null),N(xr,Tr&&(()=>{var $i=vL();return N($i,()=>L("insufficient_funds_warning",e.locale)),$i})(),null),xr})()}return null}),It}}),ar),Ci(ar,"click",V()==="add"?B:he),N(ar,(()=>{var It=Le(()=>V()==="add");return()=>It()?L("add",e.locale):L("remove",e.locale)})(),Gn),N(ar,()=>xe(D()),null),zr.$$click=()=>{const It=L("reset_account_confirmation",e.locale).replace("{orders}",r().length.toString()).replace("{positions}",n().length.toString()).replace("{trades}",o().length.toString());confirm(It)&&(Ce(),alert(L("reset_account_success",e.locale)))},N(zr,()=>L("reset_trading_account",e.locale)),N(qn,()=>L("pending_orders_summary",e.locale)),N(Vr,()=>{const It=be();return(()=>{var Er=mL(),_t=Er.firstChild,Tr=_t.firstChild,xr=Tr.firstChild,dr=Tr.nextSibling,Kr=dr.firstChild,Br=Kr.nextSibling;Br.nextSibling;var Qr=_t.nextSibling,gn=Qr.firstChild,Mn=gn.firstChild,$i=gn.nextSibling,oa=Qr.nextSibling,Xo=oa.firstChild,ui=Xo.firstChild,so=Xo.nextSibling,Bl=oa.nextSibling,co=Bl.firstChild,jo=co.firstChild,Zo=co.nextSibling;return N(Tr,()=>L("pending_buy_orders_summary",e.locale),xr),N(dr,()=>It.pendingBuyOrders.length,Kr),N(dr,()=>xe(It.totalBuyOrdersValue),Br),N(gn,()=>L("pending_sell_orders_summary",e.locale),Mn),N($i,()=>It.pendingSellOrders.length),N(Xo,()=>L("available_cash",e.locale),ui),N(so,()=>xe(It.availableCashAfterOrders)),N(co,()=>L("max_cash_removal",e.locale),jo),N(Zo,()=>xe(It.maxCashRemoval)),Er})()},null),ze(It=>{var Er=`cash-operation-btn ${V()}`,_t=D()<=0;return Er!==It.e&&Nt(ar,It.e=Er),_t!==It.t&&(ar.disabled=It.t=_t),It},{e:void 0,t:void 0}),ze(()=>wt.value=D()),ze(()=>Yt.value=V()),kt}}),null),ze(kt=>{var Be=`tab ${S()==="trade"?"active":""}`,bt=`tab ${S()==="positions"?"active":""}`,yt=`tab ${S()==="orders"?"active":""}`,wt=`tab ${S()==="trades"?"active":""}`,xt=`tab ${S()==="cash"?"active":""}`;return Be!==kt.e&&Nt(Kt,kt.e=Be),bt!==kt.t&&Nt(Tt,kt.t=bt),yt!==kt.a&&Nt(fn,kt.a=yt),wt!==kt.o&&Nt(Ht,kt.o=wt),xt!==kt.i&&Nt(sr,kt.i=xt),kt},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),ve})()};yr(["click","input"]);var xL=te("<div class=orderbook-ticker>"),CL=te("<div class=orderbook-empty><p>Select a ticker to view order book"),bL=te("<div class=orderbook-loading><p>Loading order book..."),wL=te("<div class=orderbook-error><p>"),_L=te("<div class=spread-info><span class=spread-value>"),kL=te("<div class=orderbook-orderbook><div class=orderbook-section-header><span class=orderbook-size-header>Size</span><span class=orderbook-price-header>Price</span><span class=orderbook-amount-header>Amount</span></div><div class=orderbook-asks><div class=orderbook-orders></div></div><div class=orderbook-spread></div><div class=orderbook-bids><div class=orderbook-orders>"),SL=te("<div class=chartspire-ui-orderbook><div class=orderbook-header><h3>Order Book"),ML=te('<div class="orderbook-order orderbook-ask"><div class=orderbook-quantity-bar></div><span class=orderbook-quantity></span><span class="orderbook-price ask-price"></span><span class=orderbook-amount>'),EL=te('<div class="orderbook-order orderbook-bid"><div class=orderbook-quantity-bar></div><span class=orderbook-quantity></span><span class="orderbook-price bid-price"></span><span class=orderbook-amount>');const TL=e=>{const[r,t]=ye(null),[n,i]=ye(!1),[o,s]=ye(null),u=Math.random().toString(36).slice(2,11);let d=null;nt(()=>{d&&(console.log("Orderbook: Unsubscribing from previous ticker:",d),p(d),d=null),e.currentTicker&&(console.log("Orderbook: Subscribing to new ticker:",e.currentTicker),h(e.currentTicker),d=e.currentTicker)}),_n(()=>{d&&(console.log("Orderbook: Component cleanup - unsubscribing from:",d),p(d),d=null)});const h=_=>{i(!0),s(null),console.log("Orderbook: Attempting to subscribe for ticker:",_);const S=La(_.type);if(S){if(_.type!==Ct.CRYPTO){s("Orderbook data is only available for crypto tickers"),i(!1);return}console.log("Orderbook: Subscribing to order book data for ticker",_);const M=I=>{console.log("Orderbook: Received order book data:",I),t(I),i(!1)};S.subscribeOrderBookData(_,M,u)}else{const M="Data feed not available for this ticker type";console.error("orderbook:",M),s(M),i(!1)}},p=_=>{const S=La(_.type);S&&(console.log("Unsubscribing from orderbook data for ticker",_),S.unsubscribeOrderBookData(_,u))},v=_=>{const S=parseFloat(_);return S>=1e3?S.toFixed(2).replace(/\.?0+$/,""):S>=100?S.toFixed(3).replace(/\.?0+$/,""):S>=1?S.toFixed(4).replace(/\.?0+$/,""):S>=.1?S.toFixed(5).replace(/\.?0+$/,""):S>=.01?S.toFixed(6).replace(/\.?0+$/,""):S.toFixed(8).replace(/\.?0+$/,"")},m=_=>{const S=parseFloat(_);return S>=1e3?S.toFixed(2).replace(/\.?0+$/,""):S>=100?S.toFixed(3).replace(/\.?0+$/,""):S>=1?S.toFixed(4).replace(/\.?0+$/,""):S.toFixed(6).replace(/\.?0+$/,"")},C=(_,S)=>{const M=parseFloat(_)*parseFloat(S);return M>=1e3?M.toFixed(2).replace(/\.?0+$/,""):M>=100?M.toFixed(3).replace(/\.?0+$/,""):M>=1?M.toFixed(4).replace(/\.?0+$/,""):M.toFixed(6).replace(/\.?0+$/,"")},b=()=>{const _=r();if(!_)return 0;const S=[..._.bids.map(([M,I])=>parseFloat(I)),..._.asks.map(([M,I])=>parseFloat(I))];return Math.max(...S)},w=_=>{const S=b();if(S===0)return"0%";const M=parseFloat(_)/S*100;return`${Math.min(M,100)}%`};return(()=>{var _=SL(),S=_.firstChild;return S.firstChild,N(S,ae(Ke,{get when(){return e.currentTicker},get children(){var M=xL();return N(M,()=>{var I;return(I=e.currentTicker)==null?void 0:I.ticker}),M}}),null),N(_,ae(Ke,{get when(){return!e.currentTicker},get children(){return CL()}}),null),N(_,ae(Ke,{get when(){return n()},get children(){return bL()}}),null),N(_,ae(Ke,{get when(){return o()},get children(){var M=wL(),I=M.firstChild;return N(I,o),M}}),null),N(_,ae(Ke,{get when(){return!n()&&!o()&&r()&&e.currentTicker},get children(){var M=kL(),I=M.firstChild,A=I.nextSibling,P=A.firstChild,$=A.nextSibling,D=$.nextSibling,z=D.firstChild;return N(P,ae(Zn,{get each(){var V;return(V=r())==null?void 0:V.asks.slice(0,8).sort((W,Q)=>parseFloat(Q[0])-parseFloat(W[0]))},children:([V,W])=>(()=>{var Q=ML(),se=Q.firstChild,X=se.nextSibling,J=X.nextSibling,le=J.nextSibling;return N(X,()=>m(W)),N(J,()=>v(V)),N(le,()=>C(V,W)),ze(j=>(j=w(W))!=null?se.style.setProperty("width",j):se.style.removeProperty("width")),Q})()})),N($,ae(Ke,{get when(){var V;return Le(()=>{var W;return!!((W=r())!=null&&W.asks.length)})()&&((V=r())==null?void 0:V.bids.length)},get children(){var V=_L(),W=V.firstChild;return N(W,()=>v((parseFloat(r().asks[0][0])-parseFloat(r().bids[0][0])).toString())),V}})),N(z,ae(Zn,{get each(){var V;return(V=r())==null?void 0:V.bids.slice(0,8).sort((W,Q)=>parseFloat(Q[0])-parseFloat(W[0]))},children:([V,W])=>(()=>{var Q=EL(),se=Q.firstChild,X=se.nextSibling,J=X.nextSibling,le=J.nextSibling;return N(X,()=>m(W)),N(J,()=>v(V)),N(le,()=>C(V,W)),ze(j=>(j=w(W))!=null?se.style.setProperty("width",j):se.style.removeProperty("width")),Q})()})),M}}),null),_})()};var IL=te('<button type=button><svg viewBox="0 0 24 24"width=20 height=20><path d="M15 18L9 12L15 6"stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round fill=none>');const av=e=>{const r=e.startingDirection||"left",t=()=>r==="left"?e.isExpanded?"rotate(0deg)":"rotate(180deg)":e.isExpanded?"rotate(180deg)":"rotate(0deg)";return(()=>{var n=IL(),i=n.firstChild;return Ci(n,"click",e.onClick),i.style.setProperty("transition","transform 0.2s ease-in-out"),i.style.setProperty("min-width","20px"),i.style.setProperty("min-height","20px"),ze(o=>{var s=e.className||"",u={background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex","align-items":"center","justify-content":"center",...typeof e.style=="object"?e.style:{}},d=e.ariaLabel||(e.isExpanded?"Collapse":"Expand"),h=`toggle-icon ${e.isExpanded?"":"collapsed"}`,p=t();return s!==o.e&&Nt(n,o.e=s),o.t=Vi(n,u,o.t),d!==o.a&&$e(n,"aria-label",o.a=d),h!==o.o&&$e(i,"class",o.o=h),p!==o.i&&((o.i=p)!=null?i.style.setProperty("transform",p):i.style.removeProperty("transform")),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),n})()};yr(["click"]);var oi=(e=>(e.ONE_X="1x",e.TWO_X="0.5x",e.THREE_X="0.3x",e.FIVE_X="0.2x",e.TEN_X="0.1x",e))(oi||{});function LL(e,r){switch(e){case oi.ONE_X:return L("1 upd per 1 sec",r);case oi.TWO_X:return L("1 upd per 2 sec",r);case oi.THREE_X:return L("1 upd per 3 sec",r);case oi.FIVE_X:return L("1 upd per 5 sec",r);case oi.TEN_X:return L("1 upd per 10 sec",r)}return e}function PL(e){return[{key:oi.ONE_X,text:L("1 upd per 1 sec",e)},{key:oi.TWO_X,text:L("1 upd per 2 sec",e)},{key:oi.THREE_X,text:L("1 upd per 3 sec",e)},{key:oi.FIVE_X,text:L("1 upd per 5 sec",e)},{key:oi.TEN_X,text:L("1 upd per 10 sec",e)}]}function AL(e){const r={[oi.ONE_X]:1e3,[oi.TWO_X]:2e3,[oi.THREE_X]:3e3,[oi.FIVE_X]:5e3,[oi.TEN_X]:1e4};return e in r?r[e]:(console.error(`Invalid replay speed key: ${e}`),0)}var DL=te("<div class=chartspire-ui-alert-container><div class=alert><div class=messagebox><p>");function FL(e){const r="Select starting candle by clicking on candle";return(()=>{var t=DL(),n=t.firstChild,i=n.firstChild,o=i.firstChild;return N(o,()=>e.message!==""?e.message:r),t})()}const OL=e=>{const[r,t]=ye(e.replaySpeed),n=Gr(()=>PL(e.locale)),i=`Replay ${e.chartId}`,o=()=>{e.replayCandle!=null&&(e.onPause!=null&&e.onPause(!1),e.onPlay!=null&&(e.onPlay(!0),e.setReplaySpeed(r())))},s=()=>{e.onPause!=null&&e.onPause(!0),e.onPlay!=null&&e.onPlay(!1)},u=()=>{e.onClose!=null&&e.onClose(),console.warn("handle close: replay closed")},d=()=>{e.skipReplay!=null&&e.skipReplay(!0)};return nt(()=>{e.setReplaySpeed(r())}),ae(Ke,{get when(){return e.isActive},get children(){return ae(Ke,{get when(){return e.replayModalVisible},get children(){return[ae(Ke,{get when(){return e.isAlertVisible},get children(){return ae(FL,{get message(){return e.alertMessage}})}}),ae(aE,{title:i,width:380,onClose:u,get isPLaying(){return e.isPlaying},get buttons(){return[e.isPlaying()?{children:"Pause",onClick:()=>{s()}}:{children:"Play",onClick:()=>{o()}},{children:">>",onClick:()=>{d()}}]},get children(){return ae(D1,{style:{width:"100%"},get value(){return r().key},onSelected:h=>{t(h)},get dataSource(){return n()}})}})]}})}})};var RL=te('<svg viewBox="0 0 1024 1024"class=icon stroke-width=10><path d="M512 0L627.2 384H1024L748.8 640L864 1024L512 768L160 1024L275.2 640L0 384H396.8L512 0z">'),NL=te("<div class=indicator-item><li class=row>"),Um=te("<li class=title>");const zL=e=>(()=>{var r=RL();return Ci(r,"click",e.onClick),ze(t=>{var n=e.selected?"yellow":"none",i=e.selected?"yellow":"#76808F";return n!==t.e&&$e(r,"fill",t.e=n),i!==t.t&&$e(r,"stroke",t.t=i),t},{e:void 0,t:void 0}),r})(),VL=e=>(()=>{var r=NL(),t=r.firstChild;return N(r,ae(zL,{get selected(){return e.isSelected},get onClick(){return e.onStarClick}}),t),Ci(t,"click",e.onClick),N(t,ae(VM,{get checked(){return e.isChecked},get label(){return L(e.name.toLowerCase(),e.locale)}})),r})(),BL=e=>{const[r,t]=ye(""),n=()=>{const v=r().toLowerCase();return[..._m().map(m=>m.name)].filter(m=>L(m.toLowerCase(),e.locale).toLowerCase().includes(v)).sort((m,C)=>{const b=L(m.toLowerCase(),e.locale).toLowerCase(),w=L(C.toLowerCase(),e.locale).toLowerCase();return b.localeCompare(w)})},i=localStorage.getItem("chartspire-favIndicators"),o=i?JSON.parse(i):[],[s,u]=ye(o),d=()=>s().filter(v=>e.mainIndicators().includes(v)||v in e.subIndicators()||[..._m().map(m=>m.name)].includes(v)).sort((v,m)=>{const C=L(v.toLowerCase(),e.locale).toLowerCase(),b=L(m.toLowerCase(),e.locale).toLowerCase();return C.localeCompare(b)}),h=v=>{u(m=>{const C=m.includes(v),b=C?m.filter(w=>w!==v):[...m,v];return e.mainIndicators().includes(v)?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!C}):v in e.subIndicators()&&(e.subIndicators()[v]||e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!C})),localStorage.setItem("chartspire-favIndicators",JSON.stringify(b)),b})},p=v=>{const m=e.mainIndicators().includes(v),C=v in e.subIndicators(),b=m||C,w=d().includes(v);return ae(VL,{name:v,isSelected:w,isChecked:b,onClick:()=>{m?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!b}):C?e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!b}):bp.includes(v)?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!b}):E1.includes(v)&&e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!b})},onStarClick:()=>h(v),get locale(){return e.locale}})};return ae(zl,{get title(){return L("indicator",e.locale)},width:600,contentHeight:"90%",get onClose(){return e.onClose},get children(){return[ae($o,{style:{width:"100%"},get value(){return r()},onInput:v=>t(v.target.value)}),ae(I5,{class:"chartspire-ui-indicator-modal-list",get children(){return[Le(()=>Le(()=>d().length>0)()&&(()=>{var v=Um();return N(v,()=>L("favourites",e.locale)),v})()),Le(()=>d().map(p)),(()=>{var v=Um();return N(v,()=>L("Indicators",e.locale)),v})(),Le(()=>n().map(p))]}})]}})};yr(["click"]);const $L=e=>(e.widget==null&&console.error("widget is null"),ae(Ke,{get when(){return e.indicatorModalVisible},get children(){return ae(BL,{get locale(){return e.locale},get mainIndicators(){return e.mainIndicators},get subIndicators(){return e.subIndicators},onClose:()=>{e.setIndicatorModalVisible(!1)},onMainIndicatorChange:r=>{var t;const n=[...e.mainIndicators()];r.added?(e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&Lg(e.widget,r.name,!0,!0,{id:"candle_pane"}),n.push(r.name)):((t=e.widget)==null||t.removeIndicator({paneId:"candle_pane",name:r.name}),n.splice(n.indexOf(r.name),1),e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(e.widget).saveIndicators()),e.setMainIndicators(n)},onSubIndicatorChange:r=>{var t;const n={...e.subIndicators()};if(r.added){const i=Lg(e.widget,r.name,!0);i&&(n[r.name]=i)}else e.subIndicators()[r.name]&&((t=e.widget)==null||t.removeIndicator({name:r.name})),delete n[r.name],e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(e.widget).saveIndicators();e.setSubIndicators(n)}})}}));var Y=(e=>(e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.TWO_VERTICAL=21]="TWO_VERTICAL",e[e.THREE=3]="THREE",e[e.THREE_VERTICAL=31]="THREE_VERTICAL",e[e.THREE_MIXED=32]="THREE_MIXED",e[e.THREE_MIXED_REVERSE=33]="THREE_MIXED_REVERSE",e[e.THREE_MIXED_BOTTOM=34]="THREE_MIXED_BOTTOM",e[e.THREE_MIXED_TOP=35]="THREE_MIXED_TOP",e[e.FOUR=4]="FOUR",e[e.FOUR_VERTICAL=41]="FOUR_VERTICAL",e[e.FOUR_HORIZONTAL=42]="FOUR_HORIZONTAL",e[e.FOUR_MIXED=43]="FOUR_MIXED",e[e.FOUR_MIXED_REVERSE=44]="FOUR_MIXED_REVERSE",e[e.FOUR_MIXED_TOP=45]="FOUR_MIXED_TOP",e[e.FOUR_MIXED_BOTTOM=46]="FOUR_MIXED_BOTTOM",e[e.FIVE_VERTICAL=51]="FIVE_VERTICAL",e[e.FIVE_HORIZONTAL=52]="FIVE_HORIZONTAL",e[e.FIVE_MIXED=53]="FIVE_MIXED",e[e.FIVE_MIXED_REVERSE=54]="FIVE_MIXED_REVERSE",e[e.FIVE_MIXED_TOP=55]="FIVE_MIXED_TOP",e[e.SIX=6]="SIX",e[e.SIX_HORIZONTAL=62]="SIX_HORIZONTAL",e[e.SIX_VERTICAL=61]="SIX_VERTICAL",e[e.SIX_MIXED=63]="SIX_MIXED",e[e.SEVEN_VERTICAL=71]="SEVEN_VERTICAL",e[e.SEVEN_HORIZONTAL=72]="SEVEN_HORIZONTAL",e[e.EIGHT=8]="EIGHT",e[e.EIGHT_VERTICAL=81]="EIGHT_VERTICAL",e[e.EIGHT_HORIZONTAL=82]="EIGHT_HORIZONTAL",e[e.NINE=9]="NINE",e[e.NINE_VERTICAL=91]="NINE_VERTICAL",e[e.NINE_HORIZONTAL=92]="NINE_HORIZONTAL",e[e.TEN=10]="TEN",e[e.TEN_VERTICAL=101]="TEN_VERTICAL",e[e.TEN_HORIZONTAL=102]="TEN_HORIZONTAL",e[e.TWELVE=12]="TWELVE",e[e.TWELVE_VERTICAL=121]="TWELVE_VERTICAL",e[e.TWELVE_HORIZONTAL=122]="TWELVE_HORIZONTAL",e[e.TWELVE_GRID=123]="TWELVE_GRID",e[e.FOURTEEN=14]="FOURTEEN",e[e.SIXTEEN=16]="SIXTEEN",e[e.SIXTEEN_GRID=161]="SIXTEEN_GRID",e))(Y||{});const Pa=new Set;let Xn=null;const ov=()=>{Pa.clear(),Pa.add(1)},uy=()=>{document.visibilityState==="visible"&&ov()};document.addEventListener("visibilitychange",uy);const WL=()=>{console.log("Cleaning up multiChart listeners"),document.removeEventListener("visibilitychange",uy),Xn&&(clearTimeout(Xn),Xn=null),Pa.clear()},UL=(e,r,t,n)=>{Xn&&(clearTimeout(Xn),Xn=null),Xn=setTimeout(()=>{Xn=null},(Math.abs(r-e)+1)*t+1e3);const i=o=>{if(e<r){if(o<=r){if(Pa.has(o)||(Pa.add(o),Dp(o===r&&n&&n!==r?n:o)),o<r)setTimeout(()=>{i(o+1)},t);else if(Xn&&(clearTimeout(Xn),Xn=null),o===r){Pa.clear();for(let s=1;s<=r;s++)Pa.add(s)}}}else if(o>=r){if(Dp(o===r&&n&&n!==r?n:o),o>r)setTimeout(()=>{i(o-1)},t);else if(Xn&&(clearTimeout(Xn),Xn=null),o===r){Pa.clear();for(let s=1;s<=r;s++)Pa.add(s)}}};i(e<r?e:e-1)},Hm=e=>{switch(e){case 1:return 1;case 2:return 2;case 21:return 2;case 3:return 3;case 31:return 3;case 32:return 3;case 33:return 3;case 34:return 3;case 35:return 3;case 4:return 4;case 41:return 4;case 42:return 4;case 43:return 4;case 44:return 4;case 45:return 4;case 46:return 4;case 51:return 5;case 52:return 5;case 53:return 5;case 54:return 5;case 55:return 5;case 6:return 6;case 62:return 6;case 61:return 6;case 63:return 6;case 71:return 7;case 72:return 7;case 8:return 8;case 81:return 8;case 82:return 8;case 9:return 9;case 91:return 9;case 92:return 9;case 10:return 10;case 101:return 10;case 102:return 10;case 12:return 12;case 121:return 12;case 122:return 12;case 123:return 12;case 14:return 14;case 16:return 16;case 161:return 16;default:return e}},HL=(e,r)=>{console.warn("Initial delay",r);const t=Md();if(Pa.has(2)&&t===1&&ov(),e===t)return;Xn&&(clearTimeout(Xn),Xn=null);const n=Hm(t),i=Hm(e);n===i?setTimeout(()=>{Dp(e),Pa.clear();for(let o=1;o<=i;o++)Pa.add(o)},r):UL(n,i,r,e)},g1=class Oc{constructor(){De(this,"activeCharts",new Map)}static getInstance(){return Oc.instance}static setEnabled(r){Oc.enabled=r}static isEnabled(){return Oc.enabled}static setTimeSyncEnabled(r){Oc.timeSyncEnabled=r}static isTimeSyncEnabled(){return Oc.timeSyncEnabled}registerChart(r,t,n,i){this.activeCharts.set(r,{chart:t,ticker:n,type:i})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n){const i=this.activeCharts.get(r);i&&(i.ticker=t,i.type=n)}updateChartStyles(r,t){const n=this.activeCharts.get(r);n&&n.chart.setStyles(t)}hasSameTicker(r,t){const n=this.activeCharts.get(r),i=this.activeCharts.get(t);if(!n||!i||!n.ticker||!i.ticker)return!1;const o=n.ticker===i.ticker;return n.type===void 0&&i.type===void 0?o:o&&n.type===i.type}configureCrosshair(r,t){var n;try{const i=r.getStyles(),o=JSON.parse(JSON.stringify(i));(n=o==null?void 0:o.crosshair)!=null&&n.vertical&&(t?(o.crosshair.horizontal.show=!0,o.crosshair.horizontal.line.show=!0):(o.crosshair.horizontal.show=!1,o.crosshair.horizontal.line.show=!1),r.setStyles(o))}catch(i){console.error("Error configuring crosshair:",i)}}resetCrosshairVisibility(r){try{const t=this.activeCharts.get(r);if(!t)return;const n={crosshair:{show:!0,horizontal:{show:!0,line:{show:!0}},vertical:{show:!0,line:{show:!0}}}};t.chart.setStyles(n);const i=t.chart.getStyles();if(i){const o=JSON.parse(JSON.stringify(i));o.crosshair&&(o.crosshair.show=!0,o.crosshair.vertical&&(o.crosshair.vertical.show=!0,o.crosshair.vertical.line.show=!0),o.crosshair.horizontal&&(o.crosshair.horizontal.show=!0,o.crosshair.horizontal.line.show=!0),t.chart.setStyles(o))}}catch(t){console.error("Error resetting crosshair visibility:",t)}}getSafeVisibleIndices(r,t){const n=typeof r.realFrom=="number"?r.realFrom:r.from,i=typeof r.realTo=="number"?r.realTo:r.to,o=Math.max(0,Math.min(n,t-1)),s=Math.max(0,Math.min(i,t-1));return{safeFromIndex:o,safeToIndex:s}}findVisibleTimestamp(r,t,n){try{const i=r.getDataList();if(!i||i.length===0)return null;const o=r.getVisibleRange();if(!o)return null;const{safeFromIndex:s,safeToIndex:u}=this.getSafeVisibleIndices(o,i.length);if(s>u)return null;const d=i[s].timestamp,h=i[u].timestamp;if(t<=d)return d;if(t>=h)return h;for(let b=s;b<=u;b++)if(i[b].timestamp===t)return i[b].timestamp;const p=h-d;if(p<=0)return d;const v=(t-d)/p,m=Math.floor(s+v*(u-s)),C=Math.max(s,Math.min(u,m));return i[C].timestamp}catch(i){return console.error("Error finding visible timestamp:",i),null}}checkTimestampStatus(r,t){try{const n=r.getDataList();if(!n||n.length===0)return{exists:!1,dataIndex:-1,isVisible:!1};const i=n.findIndex(h=>h.timestamp===t);if(i===-1)return{exists:!1,dataIndex:-1,isVisible:!1};const o=r.getVisibleRange();if(!o)return{exists:!0,dataIndex:i,isVisible:!1};const{safeFromIndex:s,safeToIndex:u}=this.getSafeVisibleIndices(o,n.length),d=i>=s&&i<=u;return{exists:!0,dataIndex:i,isVisible:d}}catch(n){return console.error("Error checking timestamp status:",n),{exists:!1,dataIndex:-1,isVisible:!1}}}clearCrosshair(r,t){try{r.executeAction("onCrosshairChange",{paneId:t,x:void 0,y:void 0})}catch(n){console.error("Error clearing crosshair:",n)}}extractPriceValue(r,t){var n,i;if(!(!t||!r.paneId)){if(r.y!==void 0)try{const o=t.convertFromPixel([{y:r.y}],{paneId:r.paneId});if(o&&Array.isArray(o)&&((n=o[0])==null?void 0:n.value)!==void 0)return o[0].value}catch(o){console.error("Error converting Y to price, trying fallback",o)}return(i=r.kLineData)==null?void 0:i.close}}showCrosshair(r,t,n,i,o,s){try{const u=r.getDom(n);if(!u)return!1;const d=u.getBoundingClientRect(),h=i!==void 0?r.convertToPixel({timestamp:t,value:i},{paneId:n}):r.convertToPixel({timestamp:t},{paneId:n});if(!h)return!1;const p=Array.isArray(h)?h[0]:h;if(typeof(p==null?void 0:p.x)!="number")return!1;let v;return typeof(p==null?void 0:p.y)=="number"?v=p.y:s!==void 0&&s>=0&&s<=1?v=Math.floor(d.height*s):o!==void 0?v=o:v=Math.floor(d.height/2),v=Math.max(0,Math.min(d.height,v)),r.executeAction("onCrosshairChange",{paneId:n,x:p.x,y:v}),!0}catch(u){return console.error("Error showing crosshair:",u),!1}}calculateYPercentage(r,t,n){if(n===void 0||!r)return;const i=r.getDom(t);if(!i)return;const o=i.getBoundingClientRect();return o.height>0?n/o.height:void 0}syncCrosshair(r,t){if(!Oc.enabled||!t||!t.paneId||t.timestamp===void 0||this.activeCharts.size<=1)return;const n=t.timestamp,i=t.paneId,o=this.activeCharts.get(r);if(!o)return;const s=o.chart,u=this.extractPriceValue(t,s),d=this.calculateYPercentage(s,i,t.y);this.activeCharts.forEach((h,p)=>{if(p===r)return;const v=h.chart;try{const m=this.hasSameTicker(r,p);this.configureCrosshair(v,m);const C=this.checkTimestampStatus(v,n);let b=!1;if(C.exists&&C.isVisible&&(b=this.showCrosshair(v,n,i,u,t.y,d)),!b){const w=this.findVisibleTimestamp(v,n,i);w&&(b=this.showCrosshair(v,w,i,u,t.y,d))}b||this.clearCrosshair(v,i)}catch(m){console.error(`Error syncing chart ${p}:`,m)}})}};De(g1,"instance",new g1),De(g1,"enabled",!1),De(g1,"timeSyncEnabled",!1);let lv=g1;const sv=()=>lv.getInstance(),YL=e=>{lv.setEnabled(e)},XL=()=>lv.isEnabled(),dp=class v1{constructor(){De(this,"activeCharts",new Map)}static getInstance(){return v1.instance}static setEnabled(r){v1.enabled=r}static isEnabled(){return v1.enabled}registerChart(r,t,n,i){this.activeCharts.set(r,{chart:t,ticker:n,type:i})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n){const i=this.activeCharts.get(r);i&&(i.ticker=t,i.type=n)}findClosestTimestamp(r,t){try{const n=r.getDataList();if(!n||n.length===0)return null;let i=0,o=n.length-1,s=n[0].timestamp,u=Math.abs(n[0].timestamp-t);for(;i<=o;){const h=Math.floor((i+o)/2),p=n[h].timestamp,v=Math.abs(p-t);if(v<u&&(u=v,s=p),p===t)return p;p<t?i=h+1:o=h-1}const d=Math.round(u/(1e3*60));return s}catch(n){return console.error("Error finding closest timestamp:",n),null}}isTimestampVisible(r,t){try{const n=r.getVisibleRange();if(!n)return!1;const i=r.getDataList();if(!i||i.length===0)return!1;const o=Math.max(0,Math.min(n.from||0,i.length-1)),s=Math.max(0,Math.min(n.to||i.length-1,i.length-1));if(o>s)return!1;const u=i[o].timestamp,d=i[s].timestamp,h=t>=u&&t<=d;if(!h){const p=this.findClosestTimestamp(r,t);if(p)return p>=u&&p<=d}return h}catch(n){return console.error("Error checking timestamp visibility:",n),!1}}scrollToTimestamp(r,t){try{const n=r.getVisibleRange();if(!n)return r.scrollToTimestamp(t),!0;const i=r.getDataList();if(!i||i.length===0)return!1;const o=Math.max(0,Math.min(n.from||0,i.length-1)),s=Math.max(0,Math.min(n.to||i.length-1,i.length-1))-o+1;let u=i.findIndex(p=>p.timestamp===t);if(u===-1){let p=0,v=Math.abs(i[0].timestamp-t);for(let m=1;m<i.length;m++){const C=Math.abs(i[m].timestamp-t);C<v&&(v=C,p=m)}u=p}const d=Math.min(u+s-1,i.length-1),h=i[d].timestamp;return r.scrollToTimestamp(h),!0}catch(n){return console.error("Error scrolling to timestamp:",n),!1}}syncTime(r,t){!v1.enabled||this.activeCharts.size<=1||!this.activeCharts.get(r)||this.activeCharts.forEach((n,i)=>{if(i===r)return;const o=n.chart;try{const s=this.findClosestTimestamp(o,t);if(!s)return;if(s!==t){const d=Math.abs(s-t)}if(this.isTimestampVisible(o,s))return;const u=this.scrollToTimestamp(o,s)}catch(s){console.error(`Error syncing chart ${i}:`,s)}})}};De(dp,"instance",new dp),De(dp,"enabled",!1);let cv=dp;const dy=()=>cv.getInstance(),jL=e=>{cv.setEnabled(e)},ZL=()=>cv.isEnabled(),hp=class _d{constructor(){De(this,"activeCharts",new Map)}static getInstance(){return _d.instance}static setEnabled(r){_d.enabled=r}static isEnabled(){return _d.enabled}registerChart(r,t,n,i,o,s){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o,onTickerChange:s})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.ticker=t,o.type=n,i!==void 0&&(o.interval=i))}updateTickerChangeCallback(r,t){const n=this.activeCharts.get(r);n&&(n.onTickerChange=t)}syncAllToActiveTicker(r){if(!_d.enabled||this.activeCharts.size<=1)return;const t=this.activeCharts.get(r);if(!t||!t.ticker)return;const{ticker:n,type:i}=t;this.activeCharts.forEach((o,s)=>{if(s!==r&&!(o.ticker===n&&o.type===i))try{o.ticker=n,o.type=i,o.onTickerChange&&o.onTickerChange(n,i)}catch(u){console.error(`Error updating ticker for chart ${s}:`,u)}})}onTickerChange(r,t,n){this.updateChartTicker(r,t,n),_d.enabled&&this.syncAllToActiveTicker(r)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartTicker(r){const t=this.activeCharts.get(r);if(t)return{ticker:t.ticker,type:t.type,interval:t.interval}}};De(hp,"instance",new hp),De(hp,"enabled",!1);let uv=hp;const dv=()=>uv.getInstance(),GL=e=>{uv.setEnabled(e)},qL=()=>uv.isEnabled(),pp=class kd{constructor(){De(this,"activeCharts",new Map)}static getInstance(){return kd.instance}static setEnabled(r){kd.enabled=r}static isEnabled(){return kd.enabled}registerChart(r,t,n,i,o,s){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o,onIntervalChange:s})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartInterval(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.interval=t,n!==void 0&&(o.ticker=n),i!==void 0&&(o.type=i))}updateIntervalChangeCallback(r,t){const n=this.activeCharts.get(r);n&&(n.onIntervalChange=t)}syncAllToActiveInterval(r){if(!kd.enabled||this.activeCharts.size<=1)return;const t=this.activeCharts.get(r);if(!t||!t.interval)return;const{interval:n}=t;this.activeCharts.forEach((i,o)=>{if(o!==r&&!(i.interval&&i.interval.multiplier===n.multiplier&&i.interval.timespan===n.timespan))try{i.interval=n,i.onIntervalChange&&i.onIntervalChange(n)}catch(s){console.error(`Error updating interval for chart ${o}:`,s)}})}onIntervalChange(r,t){this.updateChartInterval(r,t),kd.enabled&&this.syncAllToActiveInterval(r)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartInterval(r){const t=this.activeCharts.get(r);if(t)return{interval:t.interval,ticker:t.ticker,type:t.type}}};De(pp,"instance",new pp),De(pp,"enabled",!1);let hv=pp;const pv=()=>hv.getInstance(),KL=e=>{hv.setEnabled(e)},QL=()=>hv.isEnabled(),fp=class m1{constructor(){De(this,"activeCharts",new Map),De(this,"syncingOverlays",new Set)}static getInstance(){return m1.instance}static setEnabled(r){m1.enabled=r}static isEnabled(){return m1.enabled}registerChart(r,t,n,i,o){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.ticker=t,o.type=n,i!==void 0&&(o.interval=i))}updateChartInterval(r,t){const n=this.activeCharts.get(r);n&&(n.interval=t.text||`${t.multiplier}${t.timespan}`)}hasSameTicker(r,t){const n=this.activeCharts.get(r),i=this.activeCharts.get(t);if(!n||!i||!n.ticker||!i.ticker)return!1;const o=n.ticker===i.ticker;return n.type===void 0&&i.type===void 0?o:o&&n.type===i.type}generateOverlayId(r){if(r.groupId)return`${r.name}_${r.groupId}`;const t=(r.points||[]).map(n=>`${n.timestamp}_${n.value}`).join("|");return`${r.name}_${t}_${r.extendData?JSON.stringify(r.extendData):""}`}onOverlayCreated(r,t){this.syncDrawing(r,t,"create")}onOverlayUpdated(r,t){this.syncDrawing(r,t,"update")}onOverlayRemoved(r,t){this.syncDrawing(r,t,"remove")}syncDrawing(r,t,n){if(!m1.enabled||this.activeCharts.size<=1)return;const i=this.generateOverlayId(t);if(!this.syncingOverlays.has(i)){this.syncingOverlays.add(i);try{if(!this.activeCharts.get(r))return;this.activeCharts.forEach((o,s)=>{if(s!==r)try{if(!this.hasSameTicker(r,s))return;const u=o.chart;switch(n){case"create":this.createOverlayOnChart(u,t,s);break;case"update":this.updateOverlayOnChart(u,t,s);break;case"remove":this.removeOverlayFromChart(u,t,s);break}}catch(u){console.error(`Error syncing drawing to chart ${s}:`,u)}})}finally{setTimeout(()=>{this.syncingOverlays.delete(i)},100)}}}createOverlayOnChart(r,t,n){try{const i={...t,points:t.points?[...t.points]:[],extendData:t.extendData?JSON.parse(JSON.stringify(t.extendData)):void 0};delete i.id,r.createOverlay(i)}catch(i){console.error(`Error creating overlay on chart ${n}:`,i)}}updateOverlayOnChart(r,t,n){try{const i=r.getOverlays(),o=[];i&&Array.isArray(i)&&i.forEach(s=>{const u=s.name===t.name,d=t.groupId&&s.groupId===t.groupId;(t.groupId&&d&&u||!t.groupId&&u&&this.overlaysAreSimilarForUpdate(s,t))&&o.push(s)}),o.forEach(s=>{s.id&&r.removeOverlay({id:s.id})}),this.createOverlayOnChart(r,t,n)}catch(i){console.error(`Error updating overlay on chart ${n}:`,i)}}removeOverlayFromChart(r,t,n){try{const i=r.getOverlays(),o=[];i&&Array.isArray(i)&&i.forEach(s=>{s.name===t.name&&this.overlaysAreSimilar(s,t)&&o.push(s)}),o.forEach(s=>{s.id&&r.removeOverlay({id:s.id})})}catch(i){console.error(`Error removing overlay from chart ${n}:`,i)}}overlaysAreSimilar(r,t){if(r.name!==t.name)return!1;if(r.points&&t.points){if(r.points.length!==t.points.length)return!1;for(let n=0;n<r.points.length;n++){const i=r.points[n],o=t.points[n];if(i.timestamp!==o.timestamp)return!1;if(i.value!==void 0&&o.value!==void 0){const s=Math.abs(i.value-o.value),u=Math.max(i.value,o.value)*.001;if(s>u)return!1}}}return!0}overlaysAreSimilarForUpdate(r,t){return!(r.name!==t.name||r.points&&t.points&&r.points.length!==t.points.length)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartTicker(r){const t=this.activeCharts.get(r);if(t)return{ticker:t.ticker,type:t.type,interval:t.interval}}};De(fp,"instance",new fp),De(fp,"enabled",!1);let fv=fp;const P1=()=>fv.getInstance(),JL=e=>{fv.setEnabled(e)},y1=()=>fv.isEnabled();var eP=te('<div class=chartspire-ui-svg-container><div class=chart-layouts><div class=item><span>1</span><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><rect width=41 height=40 fill=none stroke=currentColor rx=4 transform="translate(.5 .5)"></rect></svg></div><div class="item two-chart-row"><span>2</span><div class=two-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path></g></svg></div></div><div class="item three-chart-row"><span>3</span><div class=three-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M13 0v40"></path><path d="M28 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 28h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 20h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 20h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M20.5 0v20"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M20.5 20v20"></path></g></svg></div></div><div class="item four-chart-row"><span>4</span><div class=four-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M20 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 10h41"></path><path d="M0 20h41"></path><path d="M0 30h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M10 0v40"></path><path d="M20 0v40"></path><path d="M30 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 13h20.5"></path><path d="M20.5 27h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 13h20.5"></path><path d="M0 27h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M13.5 20v20"></path><path d="M27 20v20"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M13.5 0v20"></path><path d="M27 0v20"></path></g></svg></div></div><div class="item five-chart-row"><span>5</span><div class=five-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 8h41"></path><path d="M0 16h41"></path><path d="M0 24h41"></path><path d="M0 32h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M8 0v40"></path><path d="M16 0v40"></path><path d="M24 0v40"></path><path d="M32 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 10h20.5"></path><path d="M20.5 20h20.5"></path><path d="M20.5 30h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 10h20.5"></path><path d="M0 20h20.5"></path><path d="M0 30h20.5"></path></g></svg></div></div><div class="item six-chart-row"><span>6</span><div class=six-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M13 0v41M27 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M7 0v40"></path><path d="M14 0v40"></path><path d="M21 0v40"></path><path d="M28 0v40"></path><path d="M35 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 7h41"></path><path d="M0 14h41"></path><path d="M0 21h41"></path><path d="M0 28h41"></path><path d="M0 35h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 27h41"></path><path d="M20 0v40"></path></g></svg></div></div><div class="item seven-chart-row"><span>7</span><div class=seven-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 5.7h41"></path><path d="M0 11.4h41"></path><path d="M0 17.1h41"></path><path d="M0 22.8h41"></path><path d="M0 28.5h41"></path><path d="M0 34.2h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M6 0v40"></path><path d="M12 0v40"></path><path d="M18 0v40"></path><path d="M24 0v40"></path><path d="M30 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item eight-chart-row"><span>8</span><div class=eight-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M10 0v41M20 0v41M30 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 5h41"></path><path d="M0 10h41"></path><path d="M0 15h41"></path><path d="M0 20h41"></path><path d="M0 25h41"></path><path d="M0 30h41"></path><path d="M0 35h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M5 0v40"></path><path d="M10 0v40"></path><path d="M15 0v40"></path><path d="M20 0v40"></path><path d="M25 0v40"></path><path d="M30 0v40"></path><path d="M35 0v40"></path></g></svg></div></div><div class="item nine-chart-row"><span>9</span><div class=nine-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 27h41"></path><path d="M13 0v40"></path><path d="M27 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 4.4h41"></path><path d="M0 8.8h41"></path><path d="M0 13.2h41"></path><path d="M0 17.6h41"></path><path d="M0 22h41"></path><path d="M0 26.4h41"></path><path d="M0 30.8h41"></path><path d="M0 35.2h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M4.5 0v40"></path><path d="M9 0v40"></path><path d="M13.5 0v40"></path><path d="M18 0v40"></path><path d="M22.5 0v40"></path><path d="M27 0v40"></path><path d="M31.5 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item ten-chart-row"><span>10</span><div class=ten-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M8 0v41M16 0v41M24 0v41M32 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 4h41"></path><path d="M0 8h41"></path><path d="M0 12h41"></path><path d="M0 16h41"></path><path d="M0 20h41"></path><path d="M0 24h41"></path><path d="M0 28h41"></path><path d="M0 32h41"></path><path d="M0 36h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M4 0v40"></path><path d="M8 0v40"></path><path d="M12 0v40"></path><path d="M16 0v40"></path><path d="M20 0v40"></path><path d="M24 0v40"></path><path d="M28 0v40"></path><path d="M32 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item twelve-chart-row"><span>12</span><div class=twelve-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 10h41"></path><path d="M0 20h41"></path><path d="M0 30h41"></path><path d="M13 0v40"></path><path d="M27 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 3.3h41"></path><path d="M0 6.6h41"></path><path d="M0 10h41"></path><path d="M0 13.3h41"></path><path d="M0 16.6h41"></path><path d="M0 20h41"></path><path d="M0 23.3h41"></path><path d="M0 26.6h41"></path><path d="M0 30h41"></path><path d="M0 33.3h41"></path><path d="M0 36.6h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M3.4 0v40"></path><path d="M6.8 0v40"></path><path d="M10.2 0v40"></path><path d="M13.6 0v40"></path><path d="M17 0v40"></path><path d="M20.4 0v40"></path><path d="M23.8 0v40"></path><path d="M27.2 0v40"></path><path d="M30.6 0v40"></path><path d="M34 0v40"></path><path d="M37.4 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M6.8 0v40"></path><path d="M13.6 0v40"></path><path d="M20.4 0v40"></path><path d="M27.2 0v40"></path><path d="M34 0v40"></path></g></svg></div></div><div class=item><span>14</span><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M6 0v41M12 0v41M18 0v41M24 0v41M30 0v41M36 0v41"></path></g></svg></div><div class="item sixteen-chart-row"><span>16</span><div class=sixteen-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M5 0v41M10 0v41M15 0v41M20 0v41M25 0v41M30 0v41M35 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 10h41M0 20h41M0 30h41M10 0v40M20 0v40M30 0v40"></path></g></svg></div></div></div><div class=sync-controls><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark>');const tP=e=>{const[r,t]=ye(XL()),[n,i]=ye(ZL()),[o,s]=ye(qL()),[u,d]=ye(QL()),[h,p]=ye(y1()),v=M=>{e.onConfirm!=null&&e.onConfirm(M,Py),e.onClose!=null&&e.onClose()},m=M=>(M===Y.TWO_VERTICAL?2:M===Y.THREE_VERTICAL||M===Y.THREE_MIXED||M===Y.THREE_MIXED_REVERSE||M===Y.THREE_MIXED_BOTTOM||M===Y.THREE_MIXED_TOP?3:M===Y.FOUR_VERTICAL||M===Y.FOUR_HORIZONTAL||M===Y.FOUR_MIXED||M===Y.FOUR_MIXED_REVERSE||M===Y.FOUR_MIXED_TOP||M===Y.FOUR_MIXED_BOTTOM?4:M===Y.FIVE_VERTICAL||M===Y.FIVE_HORIZONTAL||M===Y.FIVE_MIXED||M===Y.FIVE_MIXED_REVERSE||M===Y.FIVE_MIXED_TOP?5:M===Y.SIX_HORIZONTAL||M===Y.SIX_VERTICAL||M===Y.SIX_MIXED?6:M===Y.SEVEN_HORIZONTAL||M===Y.SEVEN_VERTICAL?7:M===Y.EIGHT||M===Y.EIGHT_VERTICAL||M===Y.EIGHT_HORIZONTAL?8:M===Y.NINE||M===Y.NINE_VERTICAL||M===Y.NINE_HORIZONTAL?9:M===Y.TEN||M===Y.TEN_VERTICAL||M===Y.TEN_HORIZONTAL?10:M===Y.TWELVE||M===Y.TWELVE_VERTICAL||M===Y.TWELVE_HORIZONTAL||M===Y.TWELVE_GRID?12:M===Y.SIXTEEN||M===Y.SIXTEEN_GRID?16:M)<=e.maxMultiChart,C=M=>{const I=M.target.checked;t(I),YL(I)},b=M=>{const I=M.target.checked;i(I),jL(I)},w=M=>{const I=M.target.checked;s(I),GL(I)},_=M=>{const I=M.target.checked;d(I),KL(I)},S=M=>{const I=M.target.checked;p(I),JL(I)};return ae(zl,{get title(){return L("multichart",e.locale)},width:500,padding:"20px 35px",get onClose(){return e.onClose},get children(){var M=eP(),I=M.firstChild,A=I.firstChild,P=A.firstChild,$=P.nextSibling,D=A.nextSibling,z=D.firstChild,V=z.nextSibling,W=V.firstChild,Q=W.nextSibling,se=D.nextSibling,X=se.firstChild,J=X.nextSibling,le=J.firstChild,j=le.nextSibling,q=j.nextSibling,Z=q.nextSibling,re=Z.nextSibling,ee=re.nextSibling,H=se.nextSibling,B=H.firstChild,he=B.nextSibling,Ce=he.firstChild,be=Ce.nextSibling,xe=be.nextSibling,Ve=xe.nextSibling,Re=Ve.nextSibling,Ae=Re.nextSibling,ve=Ae.nextSibling,Te=H.nextSibling,Ne=Te.firstChild,tt=Ne.nextSibling,Ge=tt.firstChild,gt=Ge.nextSibling,vt=gt.nextSibling,mt=vt.nextSibling,nr=Te.nextSibling,cr=nr.firstChild,Kt=cr.nextSibling,Tt=Kt.firstChild,fr=Tt.nextSibling,nn=fr.nextSibling,fn=nn.nextSibling,lr=nr.nextSibling,At=lr.firstChild,Ht=At.nextSibling,Qt=Ht.firstChild,Hr=Qt.nextSibling,sr=lr.nextSibling,Or=sr.firstChild,kt=Or.nextSibling,Be=kt.firstChild,bt=Be.nextSibling,yt=bt.nextSibling,wt=sr.nextSibling,xt=wt.firstChild,$t=xt.nextSibling,Yt=$t.firstChild,gr=Yt.nextSibling,ur=gr.nextSibling,ar=wt.nextSibling,Gn=ar.firstChild,zr=Gn.nextSibling,Vr=zr.firstChild,qn=Vr.nextSibling,It=qn.nextSibling,Er=ar.nextSibling,_t=Er.firstChild,Tr=_t.nextSibling,xr=Tr.firstChild,dr=xr.nextSibling,Kr=dr.nextSibling,Br=Kr.nextSibling,Qr=Er.nextSibling,gn=Qr.firstChild,Mn=gn.nextSibling,$i=Qr.nextSibling,oa=$i.firstChild,Xo=oa.nextSibling,ui=Xo.firstChild,so=ui.nextSibling,Bl=I.nextSibling,co=Bl.firstChild,jo=co.firstChild,Zo=jo.nextSibling,Rs=co.nextSibling,Ns=Rs.firstChild,Go=Ns.nextSibling,$c=Rs.nextSibling,vr=$c.firstChild,Wc=vr.nextSibling,$l=$c.nextSibling,zs=$l.firstChild,uo=zs.nextSibling,Uc=$l.nextSibling,Wl=Uc.firstChild,qo=Wl.nextSibling;return $.$$click=()=>{v(Y.ONE)},W.$$click=()=>{v(Y.TWO)},Q.$$click=()=>{v(Y.TWO_VERTICAL)},le.$$click=()=>{v(Y.THREE)},j.$$click=()=>{v(Y.THREE_VERTICAL)},q.$$click=()=>{v(Y.THREE_MIXED)},Z.$$click=()=>{v(Y.THREE_MIXED_REVERSE)},re.$$click=()=>{v(Y.THREE_MIXED_BOTTOM)},ee.$$click=()=>{v(Y.THREE_MIXED_TOP)},Ce.$$click=()=>{v(Y.FOUR)},be.$$click=()=>{v(Y.FOUR_VERTICAL)},xe.$$click=()=>{v(Y.FOUR_HORIZONTAL)},Ve.$$click=()=>{v(Y.FOUR_MIXED)},Re.$$click=()=>{v(Y.FOUR_MIXED_REVERSE)},Ae.$$click=()=>{v(Y.FOUR_MIXED_TOP)},ve.$$click=()=>{v(Y.FOUR_MIXED_BOTTOM)},Ge.$$click=()=>{v(Y.FIVE_VERTICAL)},gt.$$click=()=>{v(Y.FIVE_HORIZONTAL)},vt.$$click=()=>{v(Y.FIVE_MIXED)},mt.$$click=()=>{v(Y.FIVE_MIXED_REVERSE)},Tt.$$click=()=>{v(Y.SIX)},fr.$$click=()=>{v(Y.SIX_HORIZONTAL)},nn.$$click=()=>{v(Y.SIX_VERTICAL)},fn.$$click=()=>{v(Y.SIX_MIXED)},Qt.$$click=()=>{v(Y.SEVEN_VERTICAL)},Hr.$$click=()=>{v(Y.SEVEN_HORIZONTAL)},Be.$$click=()=>{v(Y.EIGHT)},bt.$$click=()=>{v(Y.EIGHT_VERTICAL)},yt.$$click=()=>{v(Y.EIGHT_HORIZONTAL)},Yt.$$click=()=>{v(Y.NINE)},gr.$$click=()=>{v(Y.NINE_VERTICAL)},ur.$$click=()=>{v(Y.NINE_HORIZONTAL)},Vr.$$click=()=>{v(Y.TEN)},qn.$$click=()=>{v(Y.TEN_VERTICAL)},It.$$click=()=>{v(Y.TEN_HORIZONTAL)},xr.$$click=()=>{v(Y.TWELVE)},dr.$$click=()=>{v(Y.TWELVE_VERTICAL)},Kr.$$click=()=>{v(Y.TWELVE_HORIZONTAL)},Br.$$click=()=>{v(Y.TWELVE_GRID)},Mn.$$click=()=>{v(Y.FOURTEEN)},ui.$$click=()=>{v(Y.SIXTEEN)},so.$$click=()=>{v(Y.SIXTEEN_GRID)},N(jo,()=>L("enable_crosshair_sync",e.locale)),Zo.addEventListener("change",C),N(Ns,()=>L("enable_time_sync",e.locale)),Go.addEventListener("change",b),N(vr,()=>L("enable_ticker_sync",e.locale)),Wc.addEventListener("change",w),N(zs,()=>L("enable_interval_sync",e.locale)),uo.addEventListener("change",_),N(Wl,()=>L("enable_drawing_sync",e.locale)),qo.addEventListener("change",S),ze(Pe=>{var Hc=m(Y.ONE)?"active":"inactive",Kn=m(Y.TWO)?"active":"inactive",Vs=m(Y.TWO_VERTICAL)?"active":"inactive",Bs=m(Y.THREE)?"active":"inactive",$s=m(Y.THREE_VERTICAL)?"active":"inactive",Oa=m(Y.THREE_MIXED)?"active":"inactive",Ko=m(Y.THREE_MIXED_REVERSE)?"active":"inactive",Ra=m(Y.THREE_MIXED_BOTTOM)?"active":"inactive",la=m(Y.THREE_MIXED_TOP)?"active":"inactive",Ws=m(Y.FOUR)?"active":"inactive",Yc=m(Y.FOUR_VERTICAL)?"active":"inactive",Qo=m(Y.FOUR_HORIZONTAL)?"active":"inactive",Ul=m(Y.FOUR_MIXED)?"active":"inactive",ho=m(Y.FOUR_MIXED_REVERSE)?"active":"inactive",po=m(Y.FOUR_MIXED_TOP)?"active":"inactive",Us=m(Y.FOUR_MIXED_BOTTOM)?"active":"inactive",fo=m(Y.FIVE_VERTICAL)?"active":"inactive",Xt=m(Y.FIVE_HORIZONTAL)?"active":"inactive",sa=m(Y.FIVE_MIXED)?"active":"inactive",Hl=m(Y.FIVE_MIXED_REVERSE)?"active":"inactive",Jo=m(Y.SIX)?"active":"inactive",Hs=m(Y.SIX_HORIZONTAL)?"active":"inactive",Yl=m(Y.SIX_VERTICAL)?"active":"inactive",Xl=m(Y.SIX_MIXED)?"active":"inactive",el=m(Y.SEVEN_VERTICAL)?"active":"inactive",go=m(Y.SEVEN_HORIZONTAL)?"active":"inactive",Wi=m(Y.EIGHT)?"active":"inactive",Ui=m(Y.EIGHT_VERTICAL)?"active":"inactive",Hi=m(Y.EIGHT_HORIZONTAL)?"active":"inactive",Na=m(Y.NINE)?"active":"inactive",vo=m(Y.NINE_VERTICAL)?"active":"inactive",Yi=m(Y.NINE_HORIZONTAL)?"active":"inactive",Xc=m(Y.TEN)?"active":"inactive",Ys=m(Y.TEN_VERTICAL)?"active":"inactive",ca=m(Y.TEN_HORIZONTAL)?"active":"inactive",jc=m(Y.TWELVE)?"active":"inactive",Xs=m(Y.TWELVE_VERTICAL)?"active":"inactive",tl=m(Y.TWELVE_HORIZONTAL)?"active":"inactive",js=m(Y.TWELVE_GRID)?"active":"inactive",Zc=m(Y.FOURTEEN)?"active":"inactive",Jt=m(Y.SIXTEEN)?"active":"inactive",jt=m(Y.SIXTEEN_GRID)?"active":"inactive";return Hc!==Pe.e&&$e($,"class",Pe.e=Hc),Kn!==Pe.t&&$e(W,"class",Pe.t=Kn),Vs!==Pe.a&&$e(Q,"class",Pe.a=Vs),Bs!==Pe.o&&$e(le,"class",Pe.o=Bs),$s!==Pe.i&&$e(j,"class",Pe.i=$s),Oa!==Pe.n&&$e(q,"class",Pe.n=Oa),Ko!==Pe.s&&$e(Z,"class",Pe.s=Ko),Ra!==Pe.h&&$e(re,"class",Pe.h=Ra),la!==Pe.r&&$e(ee,"class",Pe.r=la),Ws!==Pe.d&&$e(Ce,"class",Pe.d=Ws),Yc!==Pe.l&&$e(be,"class",Pe.l=Yc),Qo!==Pe.u&&$e(xe,"class",Pe.u=Qo),Ul!==Pe.c&&$e(Ve,"class",Pe.c=Ul),ho!==Pe.w&&$e(Re,"class",Pe.w=ho),po!==Pe.m&&$e(Ae,"class",Pe.m=po),Us!==Pe.f&&$e(ve,"class",Pe.f=Us),fo!==Pe.y&&$e(Ge,"class",Pe.y=fo),Xt!==Pe.g&&$e(gt,"class",Pe.g=Xt),sa!==Pe.p&&$e(vt,"class",Pe.p=sa),Hl!==Pe.b&&$e(mt,"class",Pe.b=Hl),Jo!==Pe.T&&$e(Tt,"class",Pe.T=Jo),Hs!==Pe.A&&$e(fr,"class",Pe.A=Hs),Yl!==Pe.O&&$e(nn,"class",Pe.O=Yl),Xl!==Pe.I&&$e(fn,"class",Pe.I=Xl),el!==Pe.S&&$e(Qt,"class",Pe.S=el),go!==Pe.W&&$e(Hr,"class",Pe.W=go),Wi!==Pe.C&&$e(Be,"class",Pe.C=Wi),Ui!==Pe.B&&$e(bt,"class",Pe.B=Ui),Hi!==Pe.v&&$e(yt,"class",Pe.v=Hi),Na!==Pe.k&&$e(Yt,"class",Pe.k=Na),vo!==Pe.x&&$e(gr,"class",Pe.x=vo),Yi!==Pe.j&&$e(ur,"class",Pe.j=Yi),Xc!==Pe.q&&$e(Vr,"class",Pe.q=Xc),Ys!==Pe.z&&$e(qn,"class",Pe.z=Ys),ca!==Pe.P&&$e(It,"class",Pe.P=ca),jc!==Pe.H&&$e(xr,"class",Pe.H=jc),Xs!==Pe.F&&$e(dr,"class",Pe.F=Xs),tl!==Pe.M&&$e(Kr,"class",Pe.M=tl),js!==Pe.D&&$e(Br,"class",Pe.D=js),Zc!==Pe.R&&$e(Mn,"class",Pe.R=Zc),Jt!==Pe.E&&$e(ui,"class",Pe.E=Jt),jt!==Pe.L&&$e(so,"class",Pe.L=jt),Pe},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0,H:void 0,F:void 0,M:void 0,D:void 0,R:void 0,E:void 0,L:void 0}),ze(()=>Zo.checked=r()),ze(()=>Go.checked=n()),ze(()=>Wc.checked=o()),ze(()=>uo.checked=u()),ze(()=>qo.checked=h()),M}})};yr(["click"]);const rP=e=>ae(tP,{get multiChart(){return e.multiChart},get maxMultiChart(){return e.maxMultiCharts},get onConfirm(){return e.onMultiChartClick},onClose:()=>{e.setMultiChartModalVisible(!1)},get locale(){return e.locale}});var nP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M12.41465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L12.41465,12C12.20873,12.5826,11.65311,13,11,13C10.34689,13,9.79127,12.5826,9.58535,12L3.5,12C3.223857,12,3,11.77614,3,11.5C3,11.22386,3.223857,11,3.5,11L9.58535,11C9.79127,10.417404,10.34689,10,11,10C11.65311,10,12.20873,10.417404,12.41465,11Z stroke-opacity=0 stroke=none>');const iP=()=>nP();var aP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,11L11.08535,11C11.29127,10.417404,11.84689,10,12.5,10C13.15311,10,13.70873,10.417404,13.91465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L13.91465,12C13.70873,12.5826,13.15311,13,12.5,13C11.84689,13,11.29127,12.5826,11.08535,12L6.91465,12C6.70873,12.5826,6.15311,13,5.5,13C4.671573,13,4,12.32843,4,11.5C4,10.671573,4.671573,10,5.5,10C6.15311,10,6.70873,10.417404,6.91465,11Z stroke-opacity=0 stroke=none>');const oP=()=>aP();var lP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,12.5C6.70873,13.0826,6.15311,13.5,5.5,13.5C4.671573,13.5,4,12.82843,4,12C4,11.171573,4.671573,10.5,5.5,10.5C6.15311,10.5,6.70873,10.917404,6.91465,11.5L16.0853,11.5C16.2913,10.917404,16.846899999999998,10.5,17.5,10.5C18.328400000000002,10.5,19,11.171573,19,12C19,12.82843,18.328400000000002,13.5,17.5,13.5C16.846899999999998,13.5,16.2913,13.0826,16.0853,12.5L6.91465,12.5Z stroke-opacity=0 stroke=none>');const sP=()=>lP();var cP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11,12.41465L11,18.5C11,18.7761,11.22386,19,11.5,19C11.77614,19,12,18.7761,12,18.5L12,12.41465C12.5826,12.20873,13,11.65311,13,11C13,10.34689,12.5826,9.79127,12,9.58535L12,3.5C12,3.223857,11.77614,3,11.5,3C11.22386,3,11,3.223857,11,3.5L11,9.58535C10.417404,9.79127,10,10.34689,10,11C10,11.65311,10.417404,12.20873,11,12.41465Z stroke-opacity=0 stroke=none>');const uP=()=>cP();var dP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.66558837890625,19C10.83716137890625,19,10.16558837890625,18.328400000000002,10.16558837890625,17.5C10.16558837890625,16.846899999999998,10.58298437890625,16.2913,11.16557337890625,16.0854L11.16557337890625,11.91464C10.58298437890625,11.70872,10.16558837890625,11.1531,10.16558837890625,10.5C10.16558837890625,9.8469,10.58298437890625,9.29128,11.16557337890625,9.08536L11.16557337890625,4.5C11.16557337890625,4.223857,11.38942837890625,4,11.66556837890625,4C11.94171837890625,4,12.16556837890625,4.223857,12.16556837890625,4.5L12.16556837890625,9.08535C12.74817837890625,9.291260000000001,13.16558837890625,9.846879999999999,13.16558837890625,10.5C13.16558837890625,11.153120000000001,12.74817837890625,11.708739999999999,12.16556837890625,11.91465L12.16556837890625,16.0854C12.74817837890625,16.2913,13.16558837890625,16.846899999999998,13.16558837890625,17.5C13.16558837890625,18.328400000000002,12.49401837890625,19,11.66558837890625,19Z stroke-opacity=0 stroke=none>');const hP=()=>dP();var pP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.165603637695312,6.91465C11.748203637695312,6.70873,12.165603637695312,6.15311,12.165603637695312,5.5C12.165603637695312,4.671573,11.494033637695313,4,10.665603637695312,4C9.837176637695313,4,9.165603637695312,4.671573,9.165603637695312,5.5C9.165603637695312,6.15311,9.583007637695312,6.70873,10.165603637695312,6.91465L10.165603637695312,16.0854C9.583007637695312,16.2913,9.165603637695312,16.846899999999998,9.165603637695312,17.5C9.165603637695312,18.328400000000002,9.837176637695313,19,10.665603637695312,19C11.494033637695313,19,12.165603637695312,18.328400000000002,12.165603637695312,17.5C12.165603637695312,16.846899999999998,11.748203637695312,16.2913,11.165603637695312,16.0854L11.165603637695312,6.91465Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const fP=()=>pP();var gP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.146447,15.753C4.9511845,15.9483,4.9511845,16.2649,5.146447,16.4602C5.341709,16.6554,5.658291,16.6554,5.853554,16.4602L8.156600000000001,14.15711C8.352409999999999,14.25082,8.57173,14.3033,8.8033,14.3033C9.631730000000001,14.3033,10.3033,13.63172,10.3033,12.80329C10.3033,12.57172,10.250820000000001,12.352409999999999,10.157119999999999,12.15659L12.156600000000001,10.15711C12.352409999999999,10.250820000000001,12.571729999999999,10.30329,12.8033,10.30329C13.63173,10.30329,14.3033,9.63172,14.3033,8.80329C14.3033,8.57172,14.25082,8.352409999999999,14.15712,8.15659L16.4602,5.853553C16.6554,5.658291,16.6554,5.341709,16.4602,5.146447C16.2649,4.9511843,15.9483,4.9511843,15.753,5.146447L13.45001,7.449479999999999C13.25419,7.35577,13.03487,7.3032900000000005,12.8033,7.3032900000000005C11.97487,7.3032900000000005,11.3033,7.97487,11.3033,8.80329C11.3033,9.03487,11.35578,9.254190000000001,11.44949,9.450009999999999L9.450009999999999,11.449480000000001C9.254190000000001,11.35577,9.03487,11.30329,8.8033,11.30329C7.97487,11.30329,7.3033,11.97487,7.3033,12.80329C7.3033,13.03487,7.35578,13.25419,7.44949,13.45001L5.146447,15.753Z stroke-opacity=0 stroke=none>');const vP=()=>gP();var mP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M7.573332939453125,14.54567903564453C7.667042939453125,14.741499035644532,7.719512939453125,14.960809035644532,7.719512939453125,15.19239903564453C7.719512939453125,16.02079903564453,7.047942939453125,16.69239903564453,6.219512939453125,16.69239903564453C5.391085939453125,16.69239903564453,4.719512939453125,16.02079903564453,4.719512939453125,15.19239903564453C4.719512939453125,14.36394903564453,5.391085939453125,13.692379035644532,6.219512939453125,13.692379035644532C6.451092939453125,13.692379035644532,6.670412939453125,13.74485903564453,6.866232939453125,13.83856903564453L9.865702939453126,10.83909903564453C9.771992939453124,10.643279035644532,9.719512939453125,10.42395903564453,9.719512939453125,10.192379035644532C9.719512939453125,9.36394903564453,10.391082939453124,8.692379035644532,11.219512939453125,8.692379035644532C11.451092939453126,8.692379035644532,11.670412939453126,8.74485903564453,11.866232939453125,8.838569035644532L15.462112939453124,5.242645035644531C15.657412939453126,5.047383335644532,15.974012939453125,5.047383335644532,16.169212939453125,5.242645035644531C16.364512939453125,5.437907035644531,16.364512939453125,5.754489035644531,16.169212939453125,5.949752035644531L12.573332939453124,9.545679035644532C12.667042939453125,9.74149903564453,12.719512939453125,9.96080903564453,12.719512939453125,10.192379035644532C12.719512939453125,11.020809035644533,12.047942939453126,11.692379035644532,11.219512939453125,11.692379035644532C10.987942939453125,11.692379035644532,10.768632939453125,11.639909035644532,10.572812939453126,11.54619903564453L7.573332939453125,14.54567903564453Z stroke-opacity=0 stroke=none>');const yP=()=>mP();var xP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M15.719512939453125,8.461776733398438C16.547912939453127,8.461776733398438,17.219512939453125,7.7902067333984375,17.219512939453125,6.9617767333984375C17.219512939453125,6.133349733398438,16.547912939453127,5.4617767333984375,15.719512939453125,5.4617767333984375C14.891082939453124,5.4617767333984375,14.219512939453125,6.133349733398438,14.219512939453125,6.9617767333984375C14.219512939453125,7.193346733398437,14.271992939453124,7.412666733398438,14.365692939453124,7.608486733398438L7.366222939453126,14.607956733398437C7.170402939453125,14.514256733398437,6.951082939453125,14.461776733398438,6.719512939453125,14.461776733398438C5.891085939453125,14.461776733398438,5.219512939453125,15.133346733398437,5.219512939453125,15.961776733398438C5.219512939453125,16.79017673339844,5.891085939453125,17.461776733398438,6.719512939453125,17.461776733398438C7.547942939453125,17.461776733398438,8.219512939453125,16.79017673339844,8.219512939453125,15.961776733398438C8.219512939453125,15.730176733398437,8.167032939453126,15.510876733398437,8.073322939453124,15.315066733398437L15.072802939453124,8.315586733398437C15.268612939453124,8.409296733398438,15.487912939453125,8.461776733398438,15.719512939453125,8.461776733398438Z stroke-opacity=0 stroke=none>');const CP=()=>xP();var bP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M17.0643,7.033864912109375L18,3.585784912109375L14.5078,4.509695912109375L15.3537,5.344934912109375L6.02026,14.560584912109375C5.87635,14.517484912109374,5.72366,14.494284912109375,5.5655,14.494284912109375C4.7009,14.494284912109375,4,15.186384912109375,4,16.040084912109375C4,16.893784912109375,4.7009,17.585784912109375,5.5655,17.585784912109375C6.43011,17.585784912109375,7.13101,16.893784912109375,7.13101,16.040084912109375C7.13101,15.722284912109375,7.03392,15.426984912109376,6.86744,15.181384912109374L16.0917,6.073604912109375L17.0643,7.033864912109375Z stroke-opacity=0 stroke=none>');const wP=()=>bP();var _P=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,13.00505L18.5,13.00505C18.7761,13.00505,19,13.228909999999999,19,13.50505C19,13.781189999999999,18.7761,14.00505,18.5,14.00505L6.91465,14.00505C6.70873,14.58765,6.15311,15.00505,5.5,15.00505C4.671573,15.00505,4,14.33348,4,13.50505C4,12.67662,4.671573,12.00505,5.5,12.00505C6.15311,12.00505,6.70873,12.422450000000001,6.91465,13.00505ZM7.81404,11.625L10.48591,11.625L10.48591,10.90625L9.65193,10.90625L9.65193,7.125L8.997630000000001,7.125C8.71443,7.306641,8.415600000000001,7.419922,7.96443,7.498047L7.96443,8.05078L8.77497,8.05078L8.77497,10.90625L7.81404,10.90625L7.81404,11.625ZM11.081620000000001,11.625L14.0562,11.625L14.0562,10.88281L13.09724,10.88281C12.8863,10.88281,12.59333,10.90625,12.36482,10.93555C13.17537,10.11328,13.84724,9.2207,13.84724,8.39062C13.84724,7.541016,13.28865,7,12.4488,7C11.84333,7,11.446850000000001,7.234375,11.03279,7.679688L11.52497,8.16797C11.747630000000001,7.914062,12.0113,7.697266,12.33552,7.697266C12.7613,7.697266,13.00154,7.982422,13.00154,8.43359C13.00154,9.14648,12.29255,10.00781,11.081620000000001,11.11523L11.081620000000001,11.625ZM15.9605,11.75C16.8121,11.75,17.526899999999998,11.2832,17.526899999999998,10.4375C17.526899999999998,9.82031,17.142200000000003,9.43945,16.6441,9.30078L16.6441,9.27148C17.1129,9.08594,17.3824,8.7207,17.3824,8.21289C17.3824,7.421875,16.8004,7,15.9429,7C15.4215,7,14.9957,7.210938,14.6109,7.541016L15.066,8.11133C15.3258,7.849609,15.5836,7.697266,15.9019,7.697266C16.2789,7.697266,16.4957,7.914062,16.4957,8.28125C16.4957,8.70898,16.2301,9,15.4215,9L15.4215,9.63672C16.3804,9.63672,16.6383,9.91992,16.6383,10.38086C16.6383,10.79688,16.3336,11.03125,15.8824,11.03125C15.4742,11.03125,15.1578,10.82227,14.8922,10.55078L14.4781,11.13281C14.7906,11.486329999999999,15.2652,11.75,15.9605,11.75Z stroke-opacity=0 stroke=none>');const kP=()=>_P();var SP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3.146447,14.178126025390625C2.9511847,13.982826025390626,2.9511847,13.666226025390625,3.146447,13.470926025390625L7.39146,9.225966025390626C7.35417,9.095106025390624,7.33421,8.956946025390625,7.33421,8.814116025390625C7.33421,7.985696025390625,8.00578,7.314116025390625,8.834209999999999,7.314116025390625C8.97703,7.314116025390625,9.11519,7.334086025390625,9.24605,7.371366025390625L13.753,2.864373025390625C13.9483,2.669110325390625,14.2649,2.669110325390625,14.4602,2.864373025390625C14.6554,3.059635025390625,14.6554,3.376217025390625,14.4602,3.571479025390625L10.06916,7.962476025390625C10.23631,8.204386025390626,10.334209999999999,8.497826025390625,10.334209999999999,8.814116025390625C10.334209999999999,9.642546025390626,9.66264,10.314116025390625,8.834209999999999,10.314116025390625C8.51791,10.314116025390625,8.22448,10.216226025390625,7.98256,10.049076025390626L3.853554,14.178126025390625C3.658291,14.373326025390625,3.341709,14.373326025390625,3.146447,14.178126025390625ZM7.67736,19.188526025390626C7.4821,18.993226025390626,7.4821,18.676626025390625,7.67736,18.481426025390626L9.9804,16.178326025390625C9.88669,15.982526025390625,9.834209999999999,15.763226025390624,9.834209999999999,15.531626025390626C9.834209999999999,14.703226025390626,10.50578,14.031626025390626,11.33421,14.031626025390626C11.56579,14.031626025390626,11.78511,14.084126025390624,11.98093,14.177826025390624L13.9804,12.178356025390626C13.8867,11.982536025390624,13.8342,11.763216025390625,13.8342,11.531636025390625C13.8342,10.703206025390624,14.5058,10.031636025390625,15.3342,10.031636025390625C15.5658,10.031636025390625,15.7851,10.084116025390625,15.9809,10.177826025390626L18.284,7.874796025390625C18.4792,7.679536025390625,18.7958,7.679536025390625,18.9911,7.874796025390625C19.1863,8.070056025390624,19.1863,8.386636025390626,18.9911,8.581906025390625L16.688000000000002,10.884936025390624C16.7817,11.080756025390626,16.8342,11.300066025390626,16.8342,11.531636025390625C16.8342,12.360066025390624,16.162599999999998,13.031626025390626,15.3342,13.031626025390626C15.1026,13.031626025390626,14.8833,12.979126025390626,14.6875,12.885426025390625L12.68803,14.884926025390625C12.78174,15.080726025390625,12.83421,15.300026025390626,12.83421,15.531626025390626C12.83421,16.360026025390624,12.16264,17.031626025390626,11.33421,17.031626025390626C11.10264,17.031626025390626,10.88333,16.979126025390627,10.68751,16.885426025390625L8.38446,19.188526025390626C8.1892,19.383726025390626,7.87262,19.383726025390626,7.67736,19.188526025390626Z stroke-opacity=0 stroke=none>');const MP=()=>SP();var EP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3.3367688759765626,12.63173C3.5320318759765623,12.82699,3.8486138759765627,12.82699,4.043876875976562,12.63173L11.822052875976562,4.853553C12.017312875976563,4.658291,12.017312875976563,4.341708,11.822052875976562,4.146446C11.626792875976562,3.9511843,11.310202875976563,3.9511843,11.114942875976563,4.146446L3.3367688759765626,11.92462C3.1415071759765625,12.11988,3.1415071759765625,12.43647,3.3367688759765626,12.63173ZM5.001492875976562,17.0351C4.806232875976562,16.8399,4.806232875976562,16.5233,5.001492875976562,16.328L7.304532875976562,14.025C7.210822875976563,13.82916,7.158352875976563,13.60984,7.158352875976563,13.37827C7.158352875976563,12.54984,7.829922875976562,11.87827,8.658352875976561,11.87827C8.889922875976563,11.87827,9.109232875976563,11.93075,9.305052875976562,12.02446L11.304532875976562,10.02498C11.210822875976563,9.82916,11.158352875976561,9.60984,11.158352875976561,9.37827C11.158352875976561,8.54984,11.829922875976562,7.8782700000000006,12.658352875976563,7.8782700000000006C12.889922875976563,7.8782700000000006,13.109232875976563,7.93075,13.305022875976562,8.024460000000001L15.608122875976562,5.72142C15.803322875976562,5.5261499999999995,16.119922875976563,5.5261499999999995,16.315222875976563,5.72142C16.510422875976563,5.9166799999999995,16.510422875976563,6.23326,16.315222875976563,6.42852L14.012122875976562,8.73156C14.105822875976562,8.92738,14.158322875976562,9.1467,14.158322875976562,9.37827C14.158322875976562,10.2067,13.486822875976562,10.87827,12.658352875976563,10.87827C12.426772875976562,10.87827,12.207452875976562,10.82579,12.011642875976563,10.73209L10.012162875976562,12.73156C10.105872875976562,12.92738,10.158352875976561,13.1467,10.158352875976561,13.37827C10.158352875976561,14.2067,9.486772875976563,14.8783,8.658352875976561,14.8783C8.426772875976562,14.8783,8.207452875976562,14.8258,8.011642875976563,14.7321L5.708602875976562,17.0351C5.513342875976562,17.2304,5.196752875976562,17.2304,5.001492875976562,17.0351ZM10.415712875976563,18.328C10.220452875976562,18.5233,9.903862875976563,18.5233,9.708602875976563,18.328C9.513342875976562,18.1328,9.513342875976562,17.816200000000002,9.708602875976563,17.6209L12.304532875976562,15.025C12.210822875976563,14.8292,12.158352875976563,14.6098,12.158352875976563,14.3783C12.158352875976563,13.54984,12.829922875976562,12.87827,13.658322875976562,12.87827C13.889922875976563,12.87827,14.109222875976563,12.93075,14.305022875976562,13.02446L17.486822875976564,9.84274C17.682022875976564,9.64747,17.99862287597656,9.64747,18.19392287597656,9.84274C18.38912287597656,10.038,18.38912287597656,10.35458,18.19392287597656,10.54984L15.012122875976562,13.73156C15.105822875976562,13.92738,15.158322875976562,14.1467,15.158322875976562,14.3783C15.158322875976562,15.2067,14.486822875976562,15.8783,13.658322875976562,15.8783C13.426822875976562,15.8783,13.207422875976562,15.8258,13.011642875976563,15.7321L10.415712875976563,18.328Z stroke-opacity=0 stroke=none>');const TP=()=>EP();var IP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M13.1889,6C12.98303,6.582599999999999,12.42741,7,11.7743,7C11.12119,7,10.565570000000001,6.582599999999999,10.35965,6L3.5,6C3.223857,6,3,5.77614,3,5.5C3,5.22386,3.223857,5,3.5,5L10.35965,5C10.565570000000001,4.417404,11.12119,4,11.7743,4C12.42741,4,12.98303,4.417404,13.1889,5L18.5,5C18.7761,5,19,5.22386,19,5.5C19,5.77614,18.7761,6,18.5,6L13.1889,6ZM3,8.5C3,8.22386,3.223857,8,3.5,8L18.5,8C18.7761,8,19,8.22386,19,8.5C19,8.77614,18.7761,9,18.5,9L3.5,9C3.223857,9,3,8.77614,3,8.5ZM3.278549,11.5C3.278549,11.22386,3.502407,11,3.778549,11L18.7785,11C19.0547,11,19.2785,11.22386,19.2785,11.5C19.2785,11.77614,19.0547,12,18.7785,12L3.778549,12C3.502407,12,3.278549,11.77614,3.278549,11.5ZM3.139267,14.5C3.139267,14.2239,3.363124,14,3.6392670000000003,14L18.6393,14C18.915399999999998,14,19.1393,14.2239,19.1393,14.5C19.1393,14.7761,18.915399999999998,15,18.6393,15L3.6392670000000003,15C3.363124,15,3.139267,14.7761,3.139267,14.5ZM13.1889,18C12.98303,18.5826,12.42741,19,11.7743,19C11.12119,19,10.565570000000001,18.5826,10.35965,18L3.778549,18C3.502407,18,3.278549,17.7761,3.278549,17.5C3.278549,17.2239,3.502407,17,3.778549,17L10.35965,17C10.565570000000001,16.4174,11.12119,16,11.7743,16C12.42741,16,12.98303,16.4174,13.1889,17L18.7785,17C19.0547,17,19.2785,17.2239,19.2785,17.5C19.2785,17.7761,19.0547,18,18.7785,18L13.1889,18Z stroke-opacity=0 stroke=none>');const LP=()=>IP();var PP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M4.91465,6C4.70873,6.582599999999999,4.15311,7,3.5,7C2.671573,7,2,6.32843,2,5.5C2,4.671573,2.671573,4,3.5,4C4.15311,4,4.70873,4.417404,4.91465,5L18.2257,5C18.5018,5,18.7257,5.22386,18.7257,5.5C18.7257,5.77614,18.5018,6,18.2257,6L4.91465,6ZM2.7257,8.5C2.7257,8.22386,2.949558,8,3.2257,8L18.2257,8C18.5018,8,18.7257,8.22386,18.7257,8.5C18.7257,8.77614,18.5018,9,18.2257,9L3.2257,9C2.949558,9,2.7257,8.77614,2.7257,8.5ZM3.00425,11.5C3.00425,11.22386,3.22811,11,3.50425,11L18.5042,11C18.7804,11,19.0042,11.22386,19.0042,11.5C19.0042,11.77614,18.7804,12,18.5042,12L3.50425,12C3.22811,12,3.00425,11.77614,3.00425,11.5ZM2.864967,14.5C2.864967,14.2239,3.08882,14,3.36497,14L18.365,14C18.6411,14,18.865,14.2239,18.865,14.5C18.865,14.7761,18.6411,15,18.365,15L3.36497,15C3.08882,15,2.864967,14.7761,2.864967,14.5ZM20,17.5C20,18.328400000000002,19.3284,19,18.5,19C17.846899999999998,19,17.2913,18.5826,17.0854,18L3.50425,18C3.22811,18,3.00425,17.7761,3.00425,17.5C3.00425,17.2239,3.22811,17,3.50425,17L17.0854,17C17.2913,16.4174,17.846899999999998,16,18.5,16C19.3284,16,20,16.671599999999998,20,17.5Z stroke-opacity=0 stroke=none>');const AP=()=>PP();var DP=te('<svg class=icon-overlay viewBox="0 0 22 22"><ellipse cx=10.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=17.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=10.5 cy=11.5 rx=7 ry=7 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1></ellipse><ellipse cx=10.5 cy=11.5 rx=5 ry=5 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1></ellipse><ellipse cx=10.5 cy=11.5 rx=3 ry=3 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1>');const FP=()=>DP();var OP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3,7.32468C5.90649,3.3893050000000002,11.49833,2.81306,14.6674,6.31944C14.9056,6.1554199999999994,15.192,6.05979,15.5,6.05979C15.845,6.05979,16.1628,6.17974,16.4162,6.381349999999999L18.4509,4.23827L19,4.816615L16.8945,7.03429C16.962600000000002,7.21075,17,7.40319,17,7.60463C17,8.45782,16.328400000000002,9.14947,15.5,9.14947C14.6716,9.14947,14,8.45782,14,7.60463C14,7.36402,14.0534,7.13625,14.1487,6.93322C11.32695,3.748365,6.25159,4.253956,3.612785,7.82695L3,7.32468ZM14.09,15.4717C15.7427,13.78985,16.244500000000002,11.524740000000001,15.5633,9.30134L15.5618,9.30134L16.3012,9.0502C17.072400000000002,11.56646,16.497700000000002,14.158,14.6282,16.0599C12.28737,18.442,8.62386,18.6988,6.41348,16.4501C4.5526,14.5572,4.52076,11.19671,6.36766,9.3177C7.89069,7.76754,10.07544,7.706189999999999,11.56741,9.22363C11.95453,9.61742,12.24817,10.08363,12.43369,10.57677L14.1451,8.77421L14.6942,9.35256L12.64982,11.50582C12.65827,11.59712,12.66295,11.68839,12.66378,11.77936C12.87398,12.04523,13,12.38451,13,12.7541C13,13.60729,12.32843,14.2989,11.5,14.2989C10.67157,14.2989,10,13.60729,10,12.7541C10,11.90091,10.67157,11.20926,11.5,11.20926C11.60387,11.20926,11.70528,11.220130000000001,11.8032,11.240829999999999L11.81763,11.22564C11.69858,10.71874,11.42858,10.21929,11.0284,9.81179C9.844000000000001,8.60765,8.136890000000001,8.65592,6.90822,9.90586C5.37975,11.460930000000001,5.40693,14.288,6.95404,15.8619C8.84598,17.7867,12.03496,17.5626,14.09,15.4717Z stroke-opacity=0 stroke=none>');const RP=()=>OP();var NP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M4,17.0854L4,3.5C4,3.223858,4.22386,3,4.5,3C4.77614,3,5,3.223858,5,3.5L5,10L7.57584,10L9.8127,4.46359C9.91614,4.20756,10.20756,4.08386,10.46359,4.1873000000000005C10.71963,4.29075,10.84333,4.58216,10.73988,4.8382000000000005L8.65438,10L11.08535,10C11.29127,9.4174,11.84689,9,12.5,9C12.65154,9,12.79784,9.02247,12.93573,9.06427L16.6464,5.35355C16.8417,5.15829,17.1583,5.15829,17.3536,5.35355C17.5488,5.54882,17.5488,5.8654,17.3536,6.06066L13.7475,9.66675C13.907,9.90508,14,10.19168,14,10.5C14,11.15311,13.5826,11.70873,13,11.91465L13,14.3638L18.3714,12.1936C18.6274,12.09015,18.918799999999997,12.21385,19.0222,12.46989C19.1257,12.72592,19.002,13.0173,18.746000000000002,13.1208L13,15.4423L13,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854ZM6.3729499999999994,17.0413L12,14.7678L12,11.91465C11.88136,11.87271,11.76956,11.81627,11.66675,11.74746L6.3729499999999994,17.0413ZM12,15.8463L6.6694700000000005,18L12,18L12,15.8463ZM6.38629,15.6137L8.250350000000001,11L11,11L6.38629,15.6137ZM5,11L7.17182,11L5,16.3754L5,11Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const zP=()=>NP();var VP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M17,4.5C17,5.32843,16.328400000000002,6,15.5,6C15.0931,6,14.7241,5.83802,14.4539,5.57503L5.98992,8.32515C5.99658,8.38251,6,8.440850000000001,6,8.5C6,9.15311,5.582599999999999,9.70873,5,9.91465L5,11.08535C5.42621,11.236,5.763999999999999,11.57379,5.91465,12L19.5,12C19.7761,12,20,12.22386,20,12.5C20,12.77614,19.7761,13,19.5,13L5.91465,13C5.70873,13.5826,5.15311,14,4.5,14C3.671573,14,3,13.3284,3,12.5C3,11.84689,3.417404,11.29127,4,11.08535L4,9.91465C3.417404,9.70873,3,9.15311,3,8.5C3,7.67157,3.671573,7,4.5,7C4.90411,7,5.2709,7.15981,5.5406200000000005,7.41967L14.0093,4.66802C14.0032,4.6128599999999995,14,4.5568,14,4.5C14,3.671573,14.6716,3,15.5,3C16.328400000000002,3,17,3.671573,17,4.5ZM4,15.5C4,15.2239,4.22386,15,4.5,15L19.5,15C19.7761,15,20,15.2239,20,15.5C20,15.7761,19.7761,16,19.5,16L4.5,16C4.22386,16,4,15.7761,4,15.5ZM4,18.5C4,18.2239,4.22386,18,4.5,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L4.5,19C4.22386,19,4,18.7761,4,18.5Z stroke-opacity=0 stroke=none>');const BP=()=>VP();var $P=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M20,3.5C20,4.15311,19.5826,4.70873,19,4.91465L19,18.5C19,18.7761,18.7761,19,18.5,19L4.91465,19C4.70873,19.5826,4.15311,20,3.5,20C2.671573,20,2,19.3284,2,18.5C2,17.846899999999998,2.417404,17.2913,3,17.0854L3,3.5C3,3.22386,3.22386,3,3.5,3L17.0854,3C17.2913,2.417404,17.846899999999998,2,18.5,2C19.3284,2,20,2.671573,20,3.5ZM17.0854,4C17.236,4.42621,17.5738,4.763999999999999,18,4.91465L18,8L14,8L14,4L17.0854,4ZM13,4L13,8L9,8L9,4L13,4ZM13,9L9,9L9,13L13,13L13,9ZM13,14L9,14L9,18L13,18L13,14ZM14,18L14,14L18,14L18,18L14,18ZM18,13L14,13L14,9L18,9L18,13ZM4.91465,18C4.763999999999999,17.5738,4.42621,17.236,4,17.0854L4,14L8,14L8,18L4.91465,18ZM4,8L4,4L8,4L8,8L4,8ZM8,9L8,13L4,13L4,9L8,9Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const WP=()=>$P();var UP=te('<svg class=icon-overlay viewBox="0 0 22 22"><ellipse cx=10.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=17.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=10.5 cy=11.5 rx=7 ry=7 fill-opacity=0 fill=none stroke-opacity=1 stroke-width=1>');const HP=()=>UP();var YP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.57625,6.9981C11.55099,6.999359999999999,11.52557,7,11.5,7C11.34,7,11.18584,6.97495,11.04125,6.9285499999999995L5.55401,16.4327C5.713760000000001,16.5905,5.83826,16.7839,5.91465,17L16.0854,17C16.2187,16.622700000000002,16.4987,16.314700000000002,16.8569,16.1445L11.57625,6.9981ZM12.50759,6.611219999999999C12.81005,6.336790000000001,13,5.94058,13,5.5C13,4.671573,12.32843,4,11.5,4C10.67157,4,10,4.671573,10,5.5C10,5.80059,10.08841,6.08052,10.24066,6.31522L4.64514,16.0069C4.59738,16.002299999999998,4.54896,16,4.5,16C3.671573,16,3,16.671599999999998,3,17.5C3,18.328400000000002,3.671573,19,4.5,19C5.15311,19,5.70873,18.5826,5.91465,18L16.0854,18C16.2913,18.5826,16.846899999999998,19,17.5,19C18.328400000000002,19,19,18.328400000000002,19,17.5C19,16.8365,18.5691,16.2735,17.971899999999998,16.075699999999998L12.50759,6.611219999999999Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const XP=()=>YP();var jP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M19,4.5C19,5.15311,18.5826,5.70873,18,5.91465L18,18.5C18,18.7761,17.7761,19,17.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854L4,4.5C4,4.22386,4.22386,4,4.5,4L16.0854,4C16.2913,3.417404,16.846899999999998,3,17.5,3C18.328400000000002,3,19,3.671573,19,4.5ZM5,5L16.0854,5C16.236,5.42621,16.5738,5.763999999999999,17,5.91465L17,18L5.91465,18C5.763999999999999,17.5738,5.42621,17.236,5,17.0854L5,5Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const ZP=()=>jP();var GP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M19.6401,7.99355C20.4028,7.92291,21,7.2811900000000005,21,6.5C21,5.671573,20.3284,5,19.5,5C18.8469,5,18.2913,5.417404,18.0854,6L7.62067,6C7.34453,6,7.12067,6.22386,7.12067,6.5C7.12067,6.5479,7.12741,6.59423,7.13999,6.63809L3.2294099999999997,15.0243C2.530138,15.1517,2,15.764,2,16.5C2,17.328400000000002,2.671573,18,3.5,18C4.15311,18,4.70873,17.5826,4.91465,17L14.5963,17C14.6456,17.076,14.7162,17.1396,14.8044,17.1807C15.0546,17.2974,15.3521,17.1891,15.4688,16.9388L19.6401,7.99355ZM14.7896,16.0293L18.6551,7.739599999999999C18.3942,7.56144,18.1925,7.30307,18.0854,7L8.0746,7L4.25044,15.2009C4.55701,15.3784,4.79493,15.6613,4.91465,16L14.6207,16C14.68,16,14.7368,16.0103,14.7896,16.0293Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const qP=()=>GP();var KP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M8.134443814697265,7.494615087890625L8.764323814697265,7.494615087890625L8.764323814697265,3.414215087890625L8.310223814697267,3.414215087890625L7.294603814697266,4.005035087890625L7.289713814697266,4.634915087890625L8.134443814697265,4.149892087890625L8.134443814697265,7.494615087890625ZM18.832003814697266,6.933095087890624Q19.004603814697266,6.635245087890625,19.004603814697266,6.2543850878906255Q19.004603814697266,5.884915087890625,18.845103814697264,5.593575087890625Q18.685503814697267,5.3006050878906255,18.399103814697266,5.136225087890625Q18.114303814697266,4.9702050878906245,17.754603814697266,4.9653250878906245L18.820603814697265,3.840647087890625L18.820603814697265,3.414215087890625L16.519203814697264,3.414215087890625L16.519203814697264,3.939931087890625L18.050803814697264,3.939931087890625L16.719403814697266,5.334785087890625L17.074203814697263,5.7205350878906245Q17.254903814697265,5.484525087890625,17.619503814697268,5.484525087890625Q17.980803814697268,5.484525087890625,18.187503814697266,5.689605087890625Q18.394203814697267,5.894685087890625,18.394203814697267,6.2543850878906255Q18.394203814697267,6.604315087890625,18.187503814697266,6.822415087890625Q17.980803814697268,7.0405150878906255,17.640603814697265,7.0405150878906255Q17.334603814697267,7.0405150878906255,17.124703814697266,6.890775087890625Q16.914703814697265,6.739415087890626,16.820303814697265,6.469225087890624L16.354803814697263,6.744295087890626Q16.480103814697266,7.125155087890625,16.821903814697265,7.341625087890625Q17.165403814697264,7.559725087890625,17.640603814697265,7.559725087890625Q18.039403814697266,7.559725087890625,18.348603814697267,7.393705087890625Q18.659503814697267,7.229315087890625,18.832003814697266,6.933095087890624ZM10.000003814697266,10.634915087890626C10.000003814697266,11.024655087890626,9.851363814697265,11.379685087890625,9.607683814697266,11.646395087890625L12.168903814697266,15.171615087890626C12.275403814697265,15.147615087890625,12.386203814697266,15.134915087890626,12.500003814697266,15.134915087890626C12.596503814697266,15.134915087890626,12.690803814697265,15.144015087890624,12.782303814697265,15.161415087890624L16.108803814697268,11.196955087890625C16.038703814697264,11.023375087890624,16.000003814697266,10.833655087890625,16.000003814697266,10.634915087890626C16.000003814697266,9.806495087890625,16.671603814697264,9.134915087890626,17.500003814697266,9.134915087890626C18.328403814697264,9.134915087890626,19.000003814697266,9.806495087890625,19.000003814697266,10.634915087890626C19.000003814697266,11.463345087890625,18.328403814697264,12.134915087890626,17.500003814697266,12.134915087890626C17.239503814697265,12.134915087890626,16.994503814697268,12.068495087890625,16.781003814697264,11.951675087890624L13.654703814697266,15.677415087890624C13.870303814697266,15.937215087890625,14.000003814697266,16.270915087890625,14.000003814697266,16.634915087890626C14.000003814697266,17.463315087890624,13.328403814697266,18.134915087890626,12.500003814697266,18.134915087890626C11.671573814697265,18.134915087890626,11.000003814697266,17.463315087890624,11.000003814697266,16.634915087890626C11.000003814697266,16.284415087890626,11.120193814697265,15.962015087890626,11.321603814697266,15.706715087890625L8.715393814697265,12.119565087890624C8.645053814697267,12.129685087890625,8.573143814697266,12.134915087890626,8.500003814697266,12.134915087890626C8.162103814697264,12.134915087890626,7.8503038146972655,12.023195087890626,7.599523814697266,11.834665087890626L4.505583814697266,15.521915087890624C4.809213814697266,15.796415087890624,5.000003814697266,16.193415087890624,5.000003814697266,16.634915087890626C5.000003814697266,17.463315087890624,4.328433814697266,18.134915087890626,3.5000038146972656,18.134915087890626C2.6715768146972656,18.134915087890626,2.0000038146972656,17.463315087890624,2.0000038146972656,16.634915087890626C2.0000038146972656,15.806515087890626,2.6715768146972656,15.134915087890626,3.5000038146972656,15.134915087890626C3.508253814697266,15.134915087890626,3.5164838146972657,15.135015087890626,3.524703814697266,15.135115087890625L7.033823814697266,10.953115087890625C7.011673814697265,10.850565087890626,7.000003814697266,10.744105087890624,7.000003814697266,10.634915087890626C7.000003814697266,9.806495087890625,7.671573814697266,9.134915087890626,8.500003814697266,9.134915087890626C9.328433814697267,9.134915087890626,10.000003814697266,9.806495087890625,10.000003814697266,10.634915087890626Z stroke-opacity=0 stroke=none>');const QP=()=>KP();var JP=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M8.13444,7.494615087890625L8.76432,7.494615087890625L8.76432,3.414215087890625L8.310220000000001,3.414215087890625L7.2946,4.005035087890625L7.28971,4.634915087890625L8.13444,4.149892087890625L8.13444,7.494615087890625ZM18.832,6.929835087890625Q19.0046,6.635245087890625,19.0046,6.2543850878906255Q19.0046,5.889805087890625,18.8451,5.5952050878906245Q18.6855,5.3006050878906255,18.3975,5.132965087890625Q18.1094,4.9653250878906245,17.7399,4.9653250878906245Q17.435499999999998,4.9653250878906245,17.1556,5.149245087890625L17.2793,3.939931087890625L18.8304,3.939931087890625L18.8304,3.414215087890625L16.7406,3.414215087890625L16.5094,5.665195087890625L17.0156,5.795405087890625Q17.095399999999998,5.655425087890626,17.2516,5.570795087890625Q17.4095,5.484525087890625,17.6357,5.484525087890625Q17.9694,5.484525087890625,18.1842,5.697745087890625Q18.4007,5.909335087890625,18.4007,6.2543850878906255Q18.4007,6.604315087890625,18.1842,6.822415087890625Q17.9694,7.0405150878906255,17.6292,7.0405150878906255Q17.3298,7.0405150878906255,17.119799999999998,6.890775087890625Q16.9098,6.739415087890626,16.825200000000002,6.474115087890625L16.3597,6.749175087890626Q16.470399999999998,7.110505087890624,16.807299999999998,7.335115087890625Q17.144199999999998,7.559725087890625,17.6292,7.559725087890625Q18.0296,7.559725087890625,18.3438,7.392075087890625Q18.6595,7.224435087890625,18.832,6.929835087890625ZM10,10.634915087890626C10,11.024655087890626,9.85136,11.379685087890625,9.60768,11.646395087890625L12.1689,15.171615087890626C12.2754,15.147615087890625,12.3862,15.134915087890626,12.5,15.134915087890626C12.5965,15.134915087890626,12.6908,15.144015087890624,12.7823,15.161415087890624L16.108800000000002,11.196955087890625C16.0387,11.023375087890624,16,10.833655087890625,16,10.634915087890626C16,9.806495087890625,16.671599999999998,9.134915087890626,17.5,9.134915087890626C18.3284,9.134915087890626,19,9.806495087890625,19,10.634915087890626C19,11.463345087890625,18.3284,12.134915087890626,17.5,12.134915087890626C17.2395,12.134915087890626,16.994500000000002,12.068505087890625,16.781,11.951675087890624L13.6547,15.677415087890624C13.8703,15.937215087890625,14,16.270915087890625,14,16.634915087890626C14,17.463315087890624,13.3284,18.134915087890626,12.5,18.134915087890626C11.67157,18.134915087890626,11,17.463315087890624,11,16.634915087890626C11,16.284415087890626,11.12019,15.962015087890626,11.3216,15.706715087890625L8.71539,12.119565087890624C8.645050000000001,12.129685087890625,8.57314,12.134915087890626,8.5,12.134915087890626C8.162099999999999,12.134915087890626,7.8503,12.023195087890626,7.59952,11.834665087890626L4.50558,15.521915087890624C4.80921,15.796415087890624,5,16.193415087890624,5,16.634915087890626C5,17.463315087890624,4.32843,18.134915087890626,3.5,18.134915087890626C2.671573,18.134915087890626,2,17.463315087890624,2,16.634915087890626C2,15.806515087890626,2.671573,15.134915087890626,3.5,15.134915087890626C3.5082500000000003,15.134915087890626,3.51648,15.135015087890626,3.5247,15.135115087890625L7.03382,10.953115087890625C7.01167,10.850565087890626,7,10.744105087890624,7,10.634915087890626C7,9.806495087890625,7.67157,9.134915087890626,8.5,9.134915087890626C9.32843,9.134915087890626,10,9.806495087890625,10,10.634915087890626Z stroke-opacity=0 stroke=none>');const eA=()=>JP();var tA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M18.8532,7.020985087890625Q19.0257,6.734525087890625,19.0257,6.369945087890625Q19.0257,6.020005087890625,18.8499,5.754705087890625Q18.6758,5.489415087890626,18.3649,5.339675087890625Q18.5944,5.209465087890625,18.7214,4.994615087890625Q18.8499,4.779775087890625,18.8499,4.5193550878906255Q18.8499,4.2003480878906245,18.7002,3.951324087890625Q18.5505,3.700673087890625,18.277,3.557444087890625Q18.0052,3.414215087890625,17.6455,3.414215087890625Q17.285800000000002,3.414215087890625,17.0107,3.557444087890625Q16.7357,3.700673087890625,16.5843,3.951324087890625Q16.4346,4.2003480878906245,16.4346,4.5193550878906255Q16.4346,4.779775087890625,16.561500000000002,4.994615087890625Q16.6901,5.209465087890625,16.919600000000003,5.339675087890625Q16.6055,5.489415087890626,16.4297,5.757965087890625Q16.255499999999998,6.024895087890625,16.255499999999998,6.369945087890625Q16.255499999999998,6.734525087890625,16.4297,7.020985087890625Q16.6055,7.305815087890625,16.919600000000003,7.465325087890625Q17.2354,7.624825087890625,17.6455,7.624825087890625Q18.0557,7.624825087890625,18.3682,7.465325087890625Q18.6807,7.305815087890625,18.8532,7.020985087890625ZM8.76432,7.559725087890625L8.13444,7.559725087890625L8.13444,4.214996087890625L7.28971,4.700025087890625L7.2946,4.070139087890625L8.310220000000001,3.479319087890625L8.76432,3.479319087890625L8.76432,7.559725087890625ZM17.1816,4.955555087890625Q17.0042,4.784655087890625,17.0042,4.5095950878906255Q17.0042,4.229645087890625,17.18,4.057119087890625Q17.355800000000002,3.884592087890625,17.6455,3.884592087890625Q17.935200000000002,3.884592087890625,18.1077,4.057119087890625Q18.2803,4.229645087890625,18.2803,4.5095950878906255Q18.2803,4.784655087890625,18.1045,4.955555087890625Q17.930300000000003,5.124825087890625,17.6455,5.124825087890625Q17.3607,5.124825087890625,17.1816,4.955555087890625ZM18.2217,5.7953950878906255Q18.4398,6.005365087890625,18.4398,6.3552950878906245Q18.4398,6.705235087890625,18.2217,6.915195087890625Q18.0052,7.125155087890625,17.6455,7.125155087890625Q17.285800000000002,7.125155087890625,17.067700000000002,6.915195087890625Q16.849600000000002,6.705235087890625,16.849600000000002,6.3552950878906245Q16.849600000000002,6.005365087890625,17.064500000000002,5.7953950878906255Q17.2793,5.585435087890625,17.6455,5.585435087890625Q18.0052,5.585435087890625,18.2217,5.7953950878906255ZM9.60768,11.711495087890626C9.85136,11.444785087890626,10,11.089765087890626,10,10.700025087890625C10,9.871595087890626,9.32843,9.200025087890625,8.5,9.200025087890625C7.67157,9.200025087890625,7,9.871595087890626,7,10.700025087890625C7,10.809205087890625,7.01167,10.915665087890625,7.03382,11.018215087890624L3.5247,15.200215087890625C3.51648,15.200115087890625,3.5082500000000003,15.200015087890625,3.5,15.200015087890625C2.671573,15.200015087890625,2,15.871615087890625,2,16.700015087890627C2,17.528415087890625,2.671573,18.200015087890627,3.5,18.200015087890627C4.32843,18.200015087890627,5,17.528415087890625,5,16.700015087890627C5,16.258515087890625,4.80921,15.861515087890625,4.50558,15.587015087890626L7.59952,11.899765087890625C7.8503,12.088295087890625,8.162099999999999,12.200025087890625,8.5,12.200025087890625C8.57314,12.200025087890625,8.645050000000001,12.194785087890626,8.71539,12.184675087890625L11.3216,15.771815087890625C11.12019,16.027215087890625,11,16.349515087890623,11,16.700015087890627C11,17.528415087890625,11.67157,18.200015087890627,12.5,18.200015087890627C13.3284,18.200015087890627,14,17.528415087890625,14,16.700015087890627C14,16.336015087890623,13.8703,16.002315087890626,13.6547,15.742515087890625L16.781,12.016775087890625C16.994500000000002,12.133605087890626,17.2395,12.200025087890625,17.5,12.200025087890625C18.3284,12.200025087890625,19,11.528445087890624,19,10.700025087890625C19,9.871595087890626,18.3284,9.200025087890625,17.5,9.200025087890625C16.671599999999998,9.200025087890625,16,9.871595087890626,16,10.700025087890625C16,10.898765087890624,16.0387,11.088475087890625,16.108800000000002,11.262055087890625L12.7823,15.226515087890625C12.6908,15.209115087890625,12.5965,15.200015087890625,12.5,15.200015087890625C12.3862,15.200015087890625,12.2754,15.212715087890626,12.1689,15.236715087890625L9.60768,11.711495087890626Z stroke-opacity=0 stroke=none>');const rA=()=>tA();var nA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M9.474616630859375,7.494615087890625L8.844736630859375,7.494615087890625L8.844736630859375,4.149892087890625L8.000006630859374,4.634915087890625L8.004896630859374,4.005035087890625L9.020516630859376,3.414215087890625L9.474616630859375,3.414215087890625L9.474616630859375,7.494615087890625ZM18.529296630859378,4.8318550878906255Q18.307996630859375,5.028795087890625,18.122396630859377,5.385245087890625Q17.868496630859376,5.019035087890625,17.629196630859376,4.8269750878906255Q17.389996630859375,4.634915087890625,17.168596630859376,4.634915087890625Q16.794296630859375,4.634915087890625,16.522496630859376,4.976715087890625Q16.252296630859377,5.3168850878906255,16.252296630859377,5.7856350878906255Q16.252296630859377,6.218575087890625,16.502896630859375,6.521315087890625Q16.755196630859373,6.822415087890625,17.114896630859377,6.822415087890625Q17.368796630859375,6.822415087890625,17.588596630859374,6.625475087890624Q17.809896630859377,6.428535087890625,17.998696630859374,6.0688350878906245Q18.249396630859373,6.439935087890625,18.488596630859377,6.631985087890625Q18.727896630859377,6.822415087890625,18.952496630859375,6.822415087890625Q19.326796630859373,6.822415087890625,19.596996630859376,6.482245087890625Q19.868796630859375,6.140455087890626,19.868796630859375,5.671705087890626Q19.868796630859375,5.238755087890625,19.618196630859376,4.937655087890625Q19.367496630859375,4.634915087890625,19.006196630859375,4.634915087890625Q18.750696630859377,4.634915087890625,18.529296630859378,4.8318550878906255ZM18.337296630859377,5.674955087890625L18.278696630859375,5.596835087890625Q18.449596630859375,5.272935087890625,18.622096630859374,5.1101750878906245Q18.794596630859374,4.947415087890625,18.967096630859373,4.947415087890625Q19.194996630859375,4.947415087890625,19.346396630859374,5.1345950878906255Q19.497696630859377,5.320135087890625,19.497696630859377,5.598455087890625Q19.497696630859377,5.8914250878906245,19.360996630859376,6.096505087890625Q19.224296630859374,6.301585087890626,19.027396630859375,6.301585087890626Q18.915096630859374,6.301585087890626,18.742496630859375,6.146965087890624Q18.569996630859375,5.992335087890625,18.337296630859377,5.674955087890625ZM17.785496630859377,5.779125087890625L17.842496630859372,5.857245087890625Q17.668296630859373,6.186025087890625,17.495796630859374,6.348785087890625Q17.324896630859374,6.509915087890625,17.153996630859375,6.509915087890625Q16.926096630859377,6.509915087890625,16.774796630859377,6.324375087890624Q16.623396630859375,6.137195087890625,16.623396630859375,5.858875087890625Q16.623396630859375,5.565905087890625,16.761696630859376,5.360825087890625Q16.900096630859373,5.1557550878906255,17.095396630859376,5.1557550878906255Q17.228896630859374,5.1557550878906255,17.365596630859375,5.2778250878906245Q17.502296630859377,5.399895087890625,17.785496630859377,5.779125087890625ZM10.710296630859375,10.634915087890626C10.710296630859375,11.024655087890626,10.561656630859375,11.379685087890625,10.317976630859375,11.646395087890625L12.879196630859376,15.171615087890626C12.985696630859374,15.147615087890625,13.096496630859376,15.134915087890626,13.210296630859375,15.134915087890626C13.306796630859376,15.134915087890626,13.401096630859374,15.144015087890624,13.492596630859374,15.161415087890624L16.819096630859377,11.196955087890625C16.748996630859374,11.023375087890624,16.710296630859375,10.833655087890625,16.710296630859375,10.634915087890626C16.710296630859375,9.806495087890625,17.381896630859373,9.134915087890626,18.210296630859375,9.134915087890626C19.038696630859373,9.134915087890626,19.710296630859375,9.806495087890625,19.710296630859375,10.634915087890626C19.710296630859375,11.463345087890625,19.038696630859373,12.134915087890626,18.210296630859375,12.134915087890626C17.949796630859375,12.134915087890626,17.704796630859377,12.068505087890625,17.491296630859374,11.951675087890624L14.364996630859375,15.677415087890624C14.580596630859375,15.937215087890625,14.710296630859375,16.270915087890625,14.710296630859375,16.634915087890626C14.710296630859375,17.463315087890624,14.038696630859375,18.134915087890626,13.210296630859375,18.134915087890626C12.381866630859374,18.134915087890626,11.710296630859375,17.463315087890624,11.710296630859375,16.634915087890626C11.710296630859375,16.284415087890626,11.830486630859374,15.962015087890626,12.031896630859375,15.706715087890625L9.425686630859374,12.119565087890624C9.355346630859376,12.129685087890625,9.283436630859375,12.134915087890626,9.210296630859375,12.134915087890626C8.872396630859374,12.134915087890626,8.560596630859376,12.023195087890626,8.309816630859375,11.834665087890626L5.215876630859375,15.521915087890624C5.519506630859375,15.796415087890624,5.710296630859375,16.193415087890624,5.710296630859375,16.634915087890626C5.710296630859375,17.463315087890624,5.038726630859375,18.134915087890626,4.210296630859375,18.134915087890626C3.381869630859375,18.134915087890626,2.710296630859375,17.463315087890624,2.710296630859375,16.634915087890626C2.710296630859375,15.806515087890626,3.381869630859375,15.134915087890626,4.210296630859375,15.134915087890626C4.218546630859375,15.134915087890626,4.226776630859375,15.135015087890626,4.234996630859375,15.135115087890625L7.744116630859375,10.953115087890625C7.721966630859375,10.850565087890626,7.710296630859375,10.744105087890624,7.710296630859375,10.634915087890626C7.710296630859375,9.806495087890625,8.381866630859374,9.134915087890626,9.210296630859375,9.134915087890626C10.038726630859376,9.134915087890626,10.710296630859375,9.806495087890625,10.710296630859375,10.634915087890626Z stroke-opacity=0 stroke=none>');const iA=()=>nA();var aA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M21,5.5C21,6.32843,20.3284,7,19.5,7C19.4136,7,19.3289,6.99269,19.2465,6.97866L15.6257,15.5086C15.8587,15.7729,16,16.119999999999997,16,16.5C16,17.328400000000002,15.3284,18,14.5,18C13.8469,18,13.2913,17.5826,13.0854,17L3.91465,17C3.70873,17.5826,3.15311,18,2.5,18C1.671573,18,1,17.328400000000002,1,16.5C1,15.6716,1.671573,15,2.5,15C2.5840199999999998,15,2.66643,15.0069,2.74668,15.0202L6.36934,6.48574C6.13933,6.22213,6,5.87733,6,5.5C6,4.671573,6.67157,4,7.5,4C8.15311,4,8.70873,4.417404,8.91465,5L18.0854,5C18.2913,4.417404,18.8469,4,19.5,4C20.3284,4,21,4.671573,21,5.5ZM18.0854,6L8.91465,6C8.892579999999999,6.06243,8.8665,6.12296,8.83672,6.18128L13.9814,15.0921C14.143,15.0325,14.3177,15,14.5,15C14.584,15,14.6664,15.0069,14.7467,15.0202L18.3693,6.48574C18.2462,6.3446,18.149,6.1802,18.0854,6ZM13.2036,15.745L8.0861,6.8811800000000005C7.90605,6.95768,7.70797,7,7.5,7C7.41359,7,7.32888,6.99269,7.24647,6.97866L3.62571,15.5086C3.7512,15.651,3.8501,15.8174,3.91465,16L13.0854,16C13.1169,15.9108,13.1566,15.8255,13.2036,15.745Z stroke-opacity=0 stroke=none>');const oA=()=>aA();var lA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.92159,5.93994C6.04014,5.90529,6.152620000000001,5.85639,6.25704,5.79523L9.12729,9.89437C9.045449999999999,10.07959,9,10.28449,9,10.5C9,10.79522,9.08529,11.07053,9.232569999999999,11.30262L4.97573,16.7511L5.92159,5.93994ZM4.92259,5.8848400000000005C4.38078,5.658659999999999,4,5.1238,4,4.5C4,3.671573,4.67157,3,5.5,3C6.2157,3,6.81433,3.50124,6.96399,4.17183L15.1309,4.88634C15.3654,4.36387,15.8902,4,16.5,4C17.328400000000002,4,18,4.67157,18,5.5C18,6.08983,17.659599999999998,6.60015,17.1645,6.84518L18.4264,14.0018C18.4508,14.0006,18.4753,14,18.5,14C19.3284,14,20,14.6716,20,15.5C20,16.328400000000002,19.3284,17,18.5,17C17.932499999999997,17,17.4386,16.6849,17.183799999999998,16.22L5.99686,18.5979C5.946429999999999,19.3807,5.29554,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.869300000000003,3.389292,17.3295,3.94071,17.1077L4.92259,5.8848400000000005ZM5.72452,17.6334C5.69799,17.596,5.6698,17.5599,5.64004,17.525100000000002L10.01843,11.92103C10.16958,11.97223,10.33155,12,10.5,12C10.80059,12,11.08052,11.91158,11.31522,11.75934L17.0606,15.0765C17.0457,15.1271,17.0335,15.1789,17.023899999999998,15.2317L5.72452,17.6334ZM11.92855,10.95875L17.4349,14.1379L16.1699,6.96356C15.9874,6.92257,15.8174,6.8483,15.6667,6.74746L11.99771,10.4165C11.99923,10.44414,12,10.47198,12,10.5C12,10.66,11.97495,10.814160000000001,11.92855,10.95875ZM10.5,9C10.259830000000001,9,10.03285,9.05644,9.83159,9.15679L7.04919,5.1831L15.0493,5.88302C15.054,5.90072,15.059,5.91829,15.0643,5.9357299999999995L11.56066,9.43934C11.28921,9.16789,10.91421,9,10.5,9Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const sA=()=>lA();var cA=te('<svg viewBox="0 0 22 22"><path d=M4.727219638671875,8.007996215820313L9.973849638671876,2.7629472158203123C10.167279638671875,2.5696791158203123,10.480729638671875,2.5696791158203123,10.674169638671875,2.7629472158203123L13.223329638671874,5.311756215820313C13.416929638671874,5.505236215820313,13.416929638671874,5.8189862158203125,13.223329638671874,6.012466215820313L7.977129638671875,11.257906215820313C7.379859638671875,11.855176215820313,7.407609638671875,12.909396215820312,8.033809638671876,13.535596215820313C8.660409638671876,14.162596215820313,9.713849638671874,14.189996215820312,10.311129638671876,13.591896215820313L15.556929638671875,8.346066215820311C15.750429638671875,8.152526215820313,16.064229638671875,8.152526215820313,16.257629638671872,8.346066215820311L18.806529638671876,10.895266215820312C19.000029638671876,11.088746215820313,19.000029638671876,11.402496215820312,18.806529638671876,11.595976215820313L13.560629638671875,16.841796215820313C11.165619638671876,19.237196215820312,7.197149638671875,19.19919621582031,4.783499638671875,16.785496215820313C2.3698426386718747,14.371896215820312,2.331397638671875,10.403416215820313,4.727219638671875,8.007996215820313ZM12.172299638671875,5.662106215820312L10.323809638671875,3.8136162158203124L5.4287196386718755,8.709096215820313C3.422893638671875,10.714536215820312,3.4549956386718748,14.055196215820313,5.484999638671875,16.08479621582031C7.514609638671875,18.114796215820313,10.855289638671875,18.146496215820314,12.860719638671876,16.141096215820312L15.465629638671874,13.535796215820312L14.090929638671875,12.160756215820312L14.791629638671875,11.460436215820312L16.166229638671876,12.834996215820313L17.755829638671877,11.245226215820313L15.907729638671874,9.396736215820312L11.011839638671875,14.292596215820312C10.042809638671875,15.262396215820312,8.418249638671874,15.243796215820312,7.406019638671875,14.306496215820312L7.333099638671875,14.236296215820312C6.327599638671876,13.230796215820313,6.284009638671876,11.550396215820312,7.276419638671875,10.557586215820312L9.882199638671874,7.952026215820313L8.501079638671875,6.570906215820313L9.201789638671876,5.870186215820313L10.582939638671874,7.251336215820312L12.172299638671875,5.662106215820312Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const uA=e=>(()=>{var r=cA();return $e(r,"class",`icon-overlay ${e??""}`),r})();var dA=te('<svg viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_615><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_615)><path d=M19.672,3.0673368C19.4417,2.9354008,19.1463,3.00292252,18.9994,3.2210900000000002L17.4588,5.50622L16.743299999999998,3.781253L13.9915,7.4662L13.9618,7.51108C13.8339,7.72862,13.8936,8.005659999999999,14.1004,8.15391L14.1462,8.183430000000001C14.3683,8.308720000000001,14.6511,8.25001,14.8022,8.047229999999999L16.4907,5.78571L17.246299999999998,7.60713L19.8374,3.7635389999999997L19.8651,3.717088C19.9871,3.484615,19.9023,3.199273,19.672,3.0673368ZM4.79974,8.462530000000001L10.117740000000001,3.252975C10.31381,3.0610145,10.63152,3.0610145,10.82759,3.252975L13.4115,5.78453C13.6076,5.976710000000001,13.6076,6.28833,13.4115,6.4805L8.093869999999999,11.69045C7.48847,12.28368,7.51659,13.3308,8.151309999999999,13.9528C8.786439999999999,14.5755,9.85421,14.6027,10.45961,14.0087L15.7768,8.79831C15.9729,8.60609,16.2909,8.60609,16.487099999999998,8.79831L19.0705,11.33026C19.2667,11.52244,19.2667,11.83406,19.0705,12.02623L13.7533,17.2366C11.32572,19.6158,7.30328,19.578,4.85679,17.1807C2.410298,14.7834,2.371331,10.84174,4.79974,8.462530000000001ZM12.3461,6.1325199999999995L10.47246,4.29654L5.51079,9.15889C3.477674,11.15076,3.510214,14.4688,5.56784,16.4847C7.62506,18.500999999999998,11.01117,18.5325,13.0439,16.540599999999998L15.6842,13.9529L14.2908,12.58718L15.0011,11.89161L16.394399999999997,13.2569L18.0056,11.67786L16.1323,9.84188L11.16985,14.7046C10.18764,15.6679,8.540980000000001,15.6494,7.51498,14.7184L7.44107,14.6487C6.4219,13.65,6.37771,11.98096,7.38362,10.994869999999999L10.02485,8.40693L8.624939999999999,7.03516L9.335180000000001,6.33919L10.73512,7.71099L12.3461,6.1325199999999995Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const hA=e=>(()=>{var r=dA();return $e(r,"class",`icon-overlay ${e??""}`),r})();var pA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11,17C5.80945,17,3.667717,12.85,3.113386,11.575C2.9622047,11.2,2.9622047,10.8,3.113386,10.425C3.667717,9.15,5.80945,5,11,5C16.165399999999998,5,18.3323,9.15,18.8866,10.425C19.0378,10.8,19.0378,11.2,18.8866,11.575C18.3323,12.85,16.165399999999998,17,11,17ZM4.04567,10.8C3.995276,10.925,3.995276,11.05,4.04567,11.175C4.52441,12.325,6.43937,16,11,16C15.5606,16,17.4756,12.325,17.9543,11.2C18.0047,11.075,18.0047,10.95,17.9543,10.825C17.4756,9.675,15.5606,6,11,6C6.43937,6,4.52441,9.675,4.04567,10.8ZM11,13.5C9.61417,13.5,8.480319999999999,12.375,8.480319999999999,11C8.480319999999999,9.625,9.61417,8.5,11,8.5C12.38583,8.5,13.5197,9.625,13.5197,11C13.5197,12.375,12.38583,13.5,11,13.5ZM11,9.5C10.1685,9.5,9.48819,10.175,9.48819,11C9.48819,11.825,10.1685,12.5,11,12.5C11.8315,12.5,12.51181,11.825,12.51181,11C12.51181,10.175,11.8315,9.5,11,9.5Z stroke-opacity=0 fill-opacity=1>');const fA=()=>pA();var gA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.80417,14.9887L4.62563,16.167299999999997C4.43037,16.3625,4.43037,16.6791,4.62563,16.8744C4.82089,17.0696,5.13748,17.0696,5.332739999999999,16.8744L6.62638,15.5807C7.75595,16.290100000000002,9.19328,16.7929,11,16.7929C16.165399999999998,16.7929,18.3323,12.64289,18.8866,11.36789C19.0378,10.99289,19.0378,10.59289,18.8866,10.21789C18.5549,9.45486,17.6456,7.66212,15.8617,6.34545L17.3536,4.853553C17.5488,4.658291,17.5488,4.341709,17.3536,4.146447C17.1583,3.9511845,16.8417,3.9511845,16.6464,4.146447L15.0014,5.7915399999999995C13.9314,5.1969,12.61166,4.792893,11,4.792893C5.80945,4.792893,3.667717,8.94289,3.113386,10.21789C2.9622049,10.59289,2.9622049,10.99289,3.113386,11.36789C3.424435,12.08333,4.2353000000000005,13.70399,5.80417,14.9887ZM7.36012,14.847C8.32327,15.4074,9.52286,15.7929,11,15.7929C15.5606,15.7929,17.4756,12.11789,17.9543,10.99289C18.0047,10.86789,18.0047,10.74289,17.9543,10.61789C17.659,9.90846,16.8171,8.23812,15.1447,7.06241L12.96929,9.23782C13.3134,9.66543,13.5197,10.20642,13.5197,10.79289C13.5197,12.16789,12.38583,13.29289,11,13.29289C10.41596,13.29289,9.87667,13.09308,9.44815,12.75896L7.36012,14.847ZM8.794609999999999,11.99829L6.520099999999999,14.2728C5.06905,13.12119,4.32057,11.628250000000001,4.04567,10.96789C3.995275,10.84289,3.995275,10.71789,4.04567,10.59289C4.52441,9.46789,6.43937,5.79289,11,5.79289C12.28868,5.79289,13.3661,6.086320000000001,14.2596,6.53329L12.19759,8.5953C11.84086,8.40257,11.43271,8.29289,11,8.29289C9.61417,8.29289,8.480319999999999,9.41789,8.480319999999999,10.79289C8.480319999999999,11.22918,8.594470000000001,11.64029,8.794609999999999,11.99829ZM10.16528,12.04183C10.404869999999999,12.20032,10.692070000000001,12.29289,11,12.29289C11.8315,12.29289,12.51181,11.61789,12.51181,10.79289C12.51181,10.48318,12.41593,10.194600000000001,12.25216,9.95494L10.16528,12.04183ZM11.43602,9.35687L9.55616,11.236740000000001C9.512,11.09633,9.48819,10.94724,9.48819,10.79289C9.48819,9.96789,10.1685,9.29289,11,9.29289C11.15142,9.29289,11.29782,9.31528,11.43602,9.35687Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const vA=()=>gA();var mA=te('<svg class=icon-overlay viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_625><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_625)><path d=M14.5385,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807692,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.88462,4,14.5385,5.61538,14.5385,7.576919999999999L14.5385,9.76923ZM10.88461,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923L13.38462,9.76923L13.38462,7.576919999999999C13.38462,6.23077,12.26923,5.15385,10.88461,5.15385ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.038450000000001,12.07692,11.307680000000001,12.34615,11.307680000000001,12.65385L11.307680000000001,14.5769C11.307680000000001,14.8846,11.038450000000001,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const yA=()=>mA();var xA=te('<svg class=icon-overlay viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_620><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_620)><path d=M8.38461,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807693,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.46154,4,13.84615,4.961539,14.3462,6.423080000000001C14.4615,6.73077,14.3077,7.038460000000001,14,7.15385C13.69231,7.26923,13.38461,7.11538,13.26923,6.80769C12.92308,5.80769,11.96154,5.15385,10.88462,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.03846,12.07692,11.307690000000001,12.34615,11.307690000000001,12.65385L11.307690000000001,14.5769C11.307690000000001,14.8846,11.03846,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const CA=()=>xA();var bA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M16.966900000000003,8.67144C16.6669,8.67144,16.4247,8.91558,16.4247,9.21802L16.4247,16.631500000000003C16.4247,17.322,16.007199999999997,17.9068,15.5139,17.9068L13.93072,17.9068L13.93072,9.2162C13.93072,8.91741,13.68675,8.67144,13.38855,8.67144C13.09036,8.67144,12.84639,8.91741,12.84639,9.21802L12.84639,17.9068L10.151810000000001,17.9068L10.151810000000001,9.21802C10.151810000000001,8.91741,9.90783,8.67144,9.609639999999999,8.67144C9.31145,8.67144,9.06747,8.91741,9.06747,9.219850000000001L9.06747,17.9068L7.48614,17.9068C6.99277,17.9068,6.5753,17.322,6.5753,16.631500000000003L6.5753,9.21802C6.5753,8.91558,6.333130000000001,8.67144,6.03313,8.67144C5.73313,8.67144,5.49096,8.91558,5.49096,9.21802L5.49096,16.631500000000003C5.49096,17.9378,6.385540000000001,19,7.48614,19L15.512,19C16.6127,19,17.509,17.9378,17.509,16.631500000000003L17.509,9.21802C17.509,8.91558,17.2669,8.67144,16.966900000000003,8.67144ZM18.4578,6.21183L4.542169,6.21183C4.243976,6.21183,4,6.45779,4,6.75841C4,7.05903,4.243976,7.30499,4.542169,7.30499L18.4578,7.30499C18.756,7.30499,19,7.05903,19,6.75841C19,6.45779,18.756,6.21183,18.4578,6.21183ZM8.68072,5.10045L14.3193,5.10045C14.6175,5.10045,14.8614,4.852666,14.8614,4.550225C14.8614,4.247783,14.6175,4,14.3193,4L8.68072,4C8.38253,4,8.13855,4.247783,8.13855,4.550225C8.13855,4.852666,8.38253,5.10045,8.68072,5.10045Z stroke-opacity=0 fill-opacity=1>');const wA=()=>bA();var _A=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d=m15.57,0.2l-15.37,15.37l6.33,6.33l15.37,-15.37l-6.33,-6.33zm-13.56,15.37l0.89,-0.89l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.92,-0.92l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.89,-0.89l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.92,-0.92l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.91,-0.91l4.52,4.52l-13.56,13.56l-4.52,-4.52z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const kA=()=>_A();var SA=te('<svg width=30 height=40 fill=currentColor stroke=currentColor stroke-width=0.06 stroke-linecap=round fill-rule=evenodd clip-rule=evenodd shape-rendering=geometricPrecision text-rendering=geometricPrecision viewBox="0 0 1.45 1.63"><circle transform="matrix(-1.01724 -0.370788 0.370788 -1.01724 0.140283 1.49275)"r=0.13></circle><line fill=transparent x1=0.15 y1=1.49 x2=1.31 y2=1.49></line><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.140293 0.140278)"r=0.13></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.140293 0.945028)"r=0.13></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 1.3066 0.945028)"r=0.13></circle><line fill=transparent x1=1.31 y1=0.14 x2=0.15 y2=0.14></line><line fill=transparent x1=1.31 y1=0.95 x2=0.15 y2=0.95></line><line fill=transparent x1=0.65 y1=1.11 x2=0.65 y2=0.53></line><path fill=transparent d="M0.8 0.42l-0.11 -0.17c-0.02,-0.03 -0.05,-0.03 -0.08,0l-0.11 0.17c-0.02,0.04 -0.02,0.09 0,0.13 0.15,0 0.15,0 0.3,0 0.02,-0.04 0.02,-0.09 0,-0.13z"></path><path fill=transparent d="M0.8 1.21l-0.11 0.17c-0.02,0.04 -0.05,0.03 -0.08,0l-0.11 -0.17c-0.02,-0.04 -0.02,-0.09 0,-0.13 0.15,0 0.15,0 0.3,0 0.02,0.04 0.02,0.09 0,0.13z">');const MA=()=>SA();var EA=te('<svg width=30 height=40 fill=currentColor stroke=currentColor stroke-width=0.06 stroke-linecap=round fill-rule=evenodd clip-rule=evenodd shape-rendering=geometricPrecision text-rendering=geometricPrecision viewBox="0 0 1.71 1.93"><circle transform="matrix(-1.01724 -0.370788 0.370788 -1.01724 0.165745 1.76369)"r=0.15></circle><line fill=none x1=0.18 y1=1.76 x2=1.54 y2=1.76></line><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.165756 0.165739)"r=0.15></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.165756 0.788812)"r=0.15></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 1.54375 0.788812)"r=0.15></circle><line fill=none x1=1.54 y1=0.17 x2=0.18 y2=0.17></line><line fill=none x1=1.54 y1=0.79 x2=0.18 y2=0.79></line><line fill=none x1=0.77 y1=1.31 x2=0.77 y2=0.63></line><path fill=transparent d="M0.95 0.5l-0.13 -0.2c-0.03,-0.04 -0.07,-0.04 -0.09,0l-0.13 0.2c-0.03,0.04 -0.03,0.11 0,0.15 0.16,0 0.17,0 0.35,0 0.02,-0.04 0.02,-0.11 0,-0.15z"></path><path fill=transparent d="M0.95 1.43l-0.13 0.2c-0.03,0.04 -0.07,0.04 -0.09,0l-0.13 -0.2c-0.03,-0.04 -0.03,-0.11 0,-0.15 0.16,0 0.17,0 0.35,0 0.02,0.04 0.02,0.11 0,0.15z">');const TA=()=>EA();var IA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d="M6 4V18M4 18H8M10 7V4H2V7M17 4V18M17 4L14 7M17 4L20 7M17 18L14 15M17 18L20 15"stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round>');const LA=()=>IA();var PA=te('<svg class=icon-overlay viewBox="0 0 22 22"><path d="M11 2V11M8 11H14M19 5V2H3V5M3 17H19M3 17L6 20M3 17L6 14M19 17L16 20M19 17L16 14"stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round>');const AA=()=>PA(),DA={horizontalStraightLine:iP,horizontalRayLine:oP,horizontalSegment:sP,verticalStraightLine:uP,verticalRayLine:hP,verticalSegment:fP,straightLine:vP,rayLine:yP,segment:CP,arrow:wP,priceLine:kP,priceChannelLine:MP,parallelStraightLine:TP,fibonacciLine:LP,fibonacciSegment:AP,fibonacciCircle:FP,fibonacciSpiral:RP,fibonacciSpeedResistanceFan:zP,fibonacciExtension:BP,gannBox:WP,circle:HP,triangle:XP,rect:ZP,parallelogram:qP,threeWaves:QP,fiveWaves:eA,eightWaves:rA,anyWaves:iA,abcd:oA,xabcd:sA,weak_magnet:uA,strong_magnet:hA,lock:yA,unlock:CA,visible:fA,invisible:vA,remove:wA,ruler:kA,longPosition:MA,shortPosition:TA,simpleAnnotation:LA,simpleTag:AA};function FA(e){return[{key:"horizontalStraightLine",text:L("horizontal_straight_line",e)},{key:"horizontalRayLine",text:L("horizontal_ray_line",e)},{key:"horizontalSegment",text:L("horizontal_segment",e)},{key:"verticalStraightLine",text:L("vertical_straight_line",e)},{key:"verticalRayLine",text:L("vertical_ray_line",e)},{key:"verticalSegment",text:L("vertical_segment",e)},{key:"straightLine",text:L("straight_line",e)},{key:"rayLine",text:L("ray_line",e)},{key:"segment",text:L("segment",e)},{key:"arrow",text:L("arrow",e)},{key:"priceLine",text:L("price_line",e)}]}function OA(e){return[{key:"priceChannelLine",text:L("price_channel_line",e)},{key:"parallelStraightLine",text:L("parallel_straight_line",e)}]}function RA(e){return[{key:"circle",text:L("circle",e)},{key:"rect",text:L("rect",e)},{key:"parallelogram",text:L("parallelogram",e)},{key:"triangle",text:L("triangle",e)}]}function NA(e){return[{key:"fibonacciLine",text:L("fibonacci_line",e)},{key:"fibonacciSegment",text:L("fibonacci_segment",e)},{key:"fibonacciCircle",text:L("fibonacci_circle",e)},{key:"fibonacciSpiral",text:L("fibonacci_spiral",e)},{key:"fibonacciSpeedResistanceFan",text:L("fibonacci_speed_resistance_fan",e)},{key:"fibonacciExtension",text:L("fibonacci_extension",e)},{key:"gannBox",text:L("gann_box",e)}]}function zA(e){return[{key:"xabcd",text:L("xabcd",e)},{key:"abcd",text:L("abcd",e)},{key:"threeWaves",text:L("three_waves",e)},{key:"fiveWaves",text:L("five_waves",e)},{key:"eightWaves",text:L("eight_waves",e)},{key:"anyWaves",text:L("any_waves",e)}]}function VA(e){return[{key:"weak_magnet",text:L("weak_magnet",e)},{key:"strong_magnet",text:L("strong_magnet",e)}]}function BA(e){return[{key:"ruler",text:L("ruler",e)}]}function $A(e){return[{key:"longPosition",text:L("long_position",e)},{key:"shortPosition",text:L("short_position",e)}]}function WA(e){return[{key:"simpleAnnotation",text:L("simpleAnnotation",e)},{key:"simpleTag",text:L("simpleTag",e)}]}const Ma=e=>DA[e.name](e.class),Ym={createPointFigures:({bounding:e,coordinates:r})=>({type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:e.width,y:r[0].y}]},ignoreEvent:!1}),createYAxisFigures:({overlay:e,coordinates:r,bounding:t,yAxis:n})=>{var i;const o=(n==null?void 0:n.isFromZero())??!1;let s="left",u=0;o?(s="left",u=0):(s="right",u=t.width);let d="";return e.extendData!=null&&(typeof e.extendData!="function"?d=e.extendData??"":d=e.extendData(e)),d===""&&typeof((i=e.points[0])==null?void 0:i.value)=="number"&&(d=e.points[0].value.toString()),{type:"text",attrs:{x:u,y:r[0].y,text:d,align:s,baseline:"middle"}}}},UA={createPointFigures:({overlay:e,coordinates:r})=>{let t="";e.extendData&&(t=typeof e.extendData=="function"?e.extendData(e):e.extendData||"");const n=r[0].x,i=r[0].y-6,o=i-50,s=o-5;return[{type:"line",attrs:{coordinates:[{x:n,y:i},{x:n,y:o}]},ignoreEvent:!1},{type:"polygon",attrs:{coordinates:[{x:n,y:o},{x:n-4,y:s},{x:n+4,y:s}]},ignoreEvent:!1},{type:"text",attrs:{x:n,y:s,text:t,align:"center",baseline:"bottom"},ignoreEvent:!1}]}};function k1(e){if(e.name==="simpleTag"||e.name==="simpleAnnotation"){e.createPointFigures||(e.name==="simpleTag"?(e.createPointFigures=Ym.createPointFigures,e.createYAxisFigures=Ym.createYAxisFigures):e.name==="simpleAnnotation"&&(e.createPointFigures=UA.createPointFigures));const r=e.createPointFigures;e.createPointFigures=t=>{if(r){const n=r(t);if(Array.isArray(n))return n.map(i=>({...i,ignoreEvent:!1}));if(n)return{...n,ignoreEvent:!1}}return[]}}}const zc=(e,r,t)=>({x:r,y:t});var sg=te("<span class=split-line>"),HA=te('<div class=item tabindex=0><span style=width:32px;height:32px></span><div class=icon-arrow><svg viewBox="0 0 4 6"><path d=M1.07298,0.159458C0.827521,-0.0531526,0.429553,-0.0531526,0.184094,0.159458C-0.0613648,0.372068,-0.0613648,0.716778,0.184094,0.929388L2.61275,3.03303L0.260362,5.07061C0.0149035,5.28322,0.0149035,5.62793,0.260362,5.84054C0.505822,6.05315,0.903789,6.05315,1.14925,5.84054L3.81591,3.53075C4.01812,3.3556,4.05374,3.0908,3.92279,2.88406C3.93219,2.73496,3.87113,2.58315,3.73964,2.46925L1.07298,0.159458Z stroke=none stroke-opacity=0>'),cg=te("<div class=item><span style=width:32px;height:32px>"),YA=te("<div class=chartspire-ui-drawing-bar><div class=toggle-container>"),Xm=te("<div class=item tabindex=0><span style=width:32px;height:32px>"),jm=te('<div class=icon-arrow><svg viewBox="0 0 4 6"><path d=M1.07298,0.159458C0.827521,-0.0531526,0.429553,-0.0531526,0.184094,0.159458C-0.0613648,0.372068,-0.0613648,0.716778,0.184094,0.929388L2.61275,3.03303L0.260362,5.07061C0.0149035,5.28322,0.0149035,5.62793,0.260362,5.84054C0.505822,6.05315,0.903789,6.05315,1.14925,5.84054L3.81591,3.53075C4.01812,3.3556,4.05374,3.0908,3.92279,2.88406C3.93219,2.73496,3.87113,2.58315,3.73964,2.46925L1.07298,0.159458Z stroke=none stroke-opacity=0>'),XA=te("<div class=chartspire-ui-drawing-bar-dropdowns><div class=dropdown-list>"),jA=te('<li style="cursor:pointer;display:flex;align-items:center;padding:8px 12px;user-select:none;"><div class=icon-overlay style=pointer-events:none;></div><span style=pointer-events:none;>');const ug="drawing_tools",ZA=e=>{const[r,t]=ye("horizontalStraightLine"),[n,i]=ye("priceChannelLine"),[o,s]=ye("circle"),[u,d]=ye("fibonacciLine"),[h,p]=ye("xabcd"),[v,m]=ye("ruler"),[C,b]=ye("longPosition"),[w,_]=ye("simpleAnnotation"),[S,M]=ye("weak_magnet"),[I,A]=ye("normal"),[P,$]=ye(!1),[D,z]=ye(!0),[V,W]=ye(""),[Q,se]=ye({top:0,item:null});let X={};const J=Gr(()=>[{key:"singleLine",icon:r(),list:FA(e.locale),setter:t},{key:"moreLine",icon:n(),list:OA(e.locale),setter:i},{key:"polygon",icon:o(),list:RA(e.locale),setter:s},{key:"fibonacci",icon:u(),list:NA(e.locale),setter:d},{key:"wave",icon:h(),list:zA(e.locale),setter:p},{key:"ruler",icon:v(),list:BA(e.locale),setter:m}]),le=Gr(()=>[{key:"simpleAnnotation",icon:w(),list:WA(e.locale),setter:_},{key:"longPosition",icon:C(),list:$A(e.locale),setter:b}]),j=Gr(()=>VA(e.locale)),q=Gr(()=>{const ee=V();return ee?ee==="mode"?{key:"mode",list:j(),setter:M}:[...J(),...le()].find(H=>H.key===ee):null}),Z=ee=>{var H;const B=X[ee];if(!B)return;const he=B.getBoundingClientRect(),Ce=(H=B.closest(".chartspire-ui-drawing-bar"))==null?void 0:H.getBoundingClientRect();if(Ce){const be=he.top-Ce.top;se({top:be,item:q()})}};nt(()=>{const ee=V();ee&&X[ee]&&Z(ee)});const re=ee=>{ee===V()?W(""):(W(ee),setTimeout(()=>Z(ee),10))};return[(()=>{var ee=YA(),H=ee.firstChild;return N(ee,ae(Ke,{get when(){return!e.drawingBarCollapsed},get children(){return[Le(()=>J().map(B=>(()=>{var he=Xm(),Ce=he.firstChild;return he.addEventListener("blur",()=>{W("")}),aa(be=>X[B.key]=be,he),Ce.$$click=()=>{e.onDrawingItemClick({onDrawEnd:function(be){return e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(be.chart).saveOverlay(be.overlay),(be.overlay.name==="simpleTag"||be.overlay.name==="simpleAnnotation")&&k1(be.overlay),!0},onRightClick:function(be){var xe;const Ve=be.x||0,Re=be.y||0,Ae=zc(e.widget,Ve,Re);return e.setOverlayMousePosition(Ae),e.setOverlaySettingVisible(!0),e.setOverlayStyles(be.overlay),(xe=be.preventDefault)==null||xe.call(be),!0},onPressedMoveEnd:function(be){return!0},groupId:ug,name:B.icon,visible:D(),lock:P(),mode:I()})},N(Ce,ae(Ma,{get name(){return B.icon}})),N(he,(()=>{var be=Le(()=>B.list.length>1);return()=>be()&&(()=>{var xe=jm(),Ve=xe.firstChild;return xe.$$click=()=>re(B.key),ze(()=>$e(Ve,"class",B.key===V()?"rotate":"")),xe})()})(),null),he})())),sg(),Le(()=>le().map(B=>(()=>{var he=Xm(),Ce=he.firstChild;return he.addEventListener("blur",()=>{W("")}),aa(be=>X[B.key]=be,he),Ce.$$click=()=>{e.onDrawingItemClick({onDrawEnd:function(be){return e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(be.chart).saveOverlay(be.overlay),(be.overlay.name==="simpleTag"||be.overlay.name==="simpleAnnotation")&&k1(be.overlay),!0},onRightClick:function(be){var xe;const Ve=be.x||0,Re=be.y||0,Ae=zc(e.widget,Ve,Re);return e.setOverlayMousePosition(Ae),e.setOverlaySettingVisible(!0),e.setOverlayStyles(be.overlay),(xe=be.preventDefault)==null||xe.call(be),!0},onPressedMoveEnd:function(be){return!0},groupId:ug,name:B.icon,visible:D(),lock:P(),mode:I()})},N(Ce,ae(Ma,{get name(){return B.icon}})),N(he,(()=>{var be=Le(()=>B.list.length>1);return()=>be()&&(()=>{var xe=jm(),Ve=xe.firstChild;return xe.$$click=()=>re(B.key),ze(()=>$e(Ve,"class",B.key===V()?"rotate":"")),xe})()})(),null),he})())),sg(),(()=>{var B=HA(),he=B.firstChild,Ce=he.nextSibling,be=Ce.firstChild;return B.addEventListener("blur",()=>{W("")}),aa(xe=>X.mode=xe,B),he.$$click=()=>{let xe=S();I()!=="normal"&&(xe="normal"),A(xe),e.onModeChange(xe)},N(he,(()=>{var xe=Le(()=>S()==="weak_magnet");return()=>xe()?Le(()=>I()==="weak_magnet")()?ae(Ma,{name:"weak_magnet",class:"selected"}):ae(Ma,{name:"weak_magnet"}):Le(()=>I()==="strong_magnet")()?ae(Ma,{name:"strong_magnet",class:"selected"}):ae(Ma,{name:"strong_magnet"})})()),Ce.$$click=()=>re("mode"),ze(()=>$e(be,"class",V()==="mode"?"rotate":"")),B})(),(()=>{var B=cg(),he=B.firstChild;return he.$$click=()=>{const Ce=!P();$(Ce),e.onLockChange(Ce)},N(he,(()=>{var Ce=Le(()=>!!P());return()=>Ce()?ae(Ma,{name:"lock"}):ae(Ma,{name:"unlock"})})()),B})(),(()=>{var B=cg(),he=B.firstChild;return he.$$click=()=>{const Ce=!D();z(Ce),e.onVisibleChange(Ce)},N(he,(()=>{var Ce=Le(()=>!!D());return()=>Ce()?ae(Ma,{name:"visible"}):ae(Ma,{name:"invisible"})})()),B})(),sg(),(()=>{var B=cg(),he=B.firstChild;return he.$$click=()=>{e.onRemoveClick(ug)},N(he,ae(Ma,{name:"remove"})),B})()]}}),H),N(H,ae(av,{get isExpanded(){return!e.drawingBarCollapsed},onClick:()=>{e.setDrawingBarCollapsed(!e.drawingBarCollapsed)},get ariaLabel(){return e.drawingBarCollapsed?"Expand drawing bar":"Collapse drawing bar"},className:"toggle-button",startingDirection:"left"})),ze(()=>$e(ee,"data-collapsed",e.drawingBarCollapsed.toString())),ee})(),Le(()=>Le(()=>!!(V()&&q()))()&&(()=>{var ee=XA(),H=ee.firstChild;return H.$$click=B=>{B.stopPropagation()},N(H,()=>{var B;return(B=q())==null?void 0:B.list.map((he,Ce)=>(()=>{var be=jA(),xe=be.firstChild,Ve=xe.nextSibling;return be.$$mousedown=Re=>{var Ae;Re.preventDefault(),Re.stopPropagation(),V()==="mode"?(M(he.key),A(he.key),e.onModeChange(he.key)):((Ae=q())==null||Ae.setter(he.key),e.onDrawingItemClick({onDrawEnd:function(ve){return e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(ve.chart).saveOverlay(ve.overlay),(ve.overlay.name==="simpleTag"||ve.overlay.name==="simpleAnnotation")&&k1(ve.overlay),!0},onRightClick:function(ve){var Te;const Ne=ve.x||0,tt=ve.y||0,Ge=zc(e.widget,Ne,tt);return e.setOverlayMousePosition(Ge),e.setOverlaySettingVisible(!0),e.setOverlayStyles(ve.overlay),(Te=ve.preventDefault)==null||Te.call(ve),!0},onPressedMoveEnd:function(){return!0},name:he.key,lock:P(),mode:I()})),W("")},N(xe,ae(Ma,{get name(){return he.key}})),N(Ve,()=>he.text),be})())}),ze(B=>Vi(H,`top: ${Q().top}px`,B)),ee})())]};yr(["click","mousedown"]);const GA=e=>{const[r,t]=ye(e.timezone),n=Gr(()=>gM(e.locale));return ae(zl,{get title(){return L("timezone",e.locale)},width:320,height:"200px",contentHeight:10,buttonContainerPadding:"20px 30px 20px",get buttons(){return[{children:L("confirm",e.locale),onClick:()=>{e.onConfirm(r()),e.onClose()}}]},get onClose(){return e.onClose},get children(){return ae(D1,{style:{width:"100%","margin-top":"20px"},get value(){return r().text},onSelected:i=>{t(i)},get dataSource(){return n()}})}})};var qA=te("<img style=width:500px;margin-top:20px>");const KA=e=>ae(zl,{get title(){return L("screenshot",e.locale)},width:540,get buttons(){return[{type:"confirm",children:L("save",e.locale),onClick:()=>{const r=document.createElement("a");r.download="screenshot",r.href=e.url,document.body.appendChild(r),r.click(),r.remove()}}]},get onClose(){return e.onClose},get children(){var r=qA();return ze(()=>$e(r,"src",e.url)),r}}),QA={AO:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:5},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:34}],BIAS:[{paramNameKey:"BIAS1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"BIAS2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"BIAS3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"BIAS4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"BIAS5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],BOLL:[{paramNameKey:"period",type:"number",precision:0,min:1,default:20},{paramNameKey:"standard_deviation",type:"number",precision:2,min:1,default:2}],BRAR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:26}],BBI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:3},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_4",type:"number",precision:0,min:1,default:24}],CCI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:20}],CR:[{paramNameKey:"cr",type:"number",precision:0,min:1,default:26},{paramNameKey:"ma1",type:"number",precision:0,min:1,default:10},{paramNameKey:"ma2",type:"number",precision:0,min:1,default:20},{paramNameKey:"ma3",type:"number",precision:0,min:1,default:40},{paramNameKey:"ma4",type:"number",precision:0,min:1,default:60}],EMV:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:10},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:50},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:10}],DMI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:14},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],DMA:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:10},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:50},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:10}],EMA:[{paramNameKey:"EMA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"EMA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"EMA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"EMA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"EMA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],MTM:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],MA:[{paramNameKey:"MA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"MA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"MA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"MA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"MA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],MACD:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:26},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:9}],OBV:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:30}],PVT:[],PSY:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],ROC:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],RSI:[{paramNameKey:"RSI1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"RSI2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"RSI3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"RSI4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"RSI5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],SMA:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:2}],KDJ:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:9},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:3},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:3}],SAR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:2,upColor:"#FF7F50",downColor:"#A020F0"},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:2,upColor:"#FF7F50",downColor:"#A020F0"},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:20,upColor:"#FF7F50",downColor:"#A020F0"}],TRIX:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:9}],VOL:[{paramNameKey:"MA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"MA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"MA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"MA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"MA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],VR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:26},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],WR:[{paramNameKey:"WR1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"WR2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"WR3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"WR4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"WR5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],WEMA:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],"Volume Profile Fixed Range":[{paramNameKey:"Value area (range 0-1)",type:"number",precision:0,min:0,max:1,default:.7}],"Force Index":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:13}],"Ichimoku Cloud":[{paramNameKey:"Conversion Period",type:"number",precision:0,min:1,default:9},{paramNameKey:"Base Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Span Period",type:"number",precision:0,min:1,default:52},{paramNameKey:"Displacement",type:"number",precision:0,min:1,default:26},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],ATR:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],ADX:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14},{paramNameKey:"Adxr Period",type:"number",precision:0,min:1,default:6}],ADXR:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],PDI:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],MDI:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],TR:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],WS:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],"Chaikin Oscillator":[{paramNameKey:"Short Period",type:"number",precision:0,min:1,default:3},{paramNameKey:"Long Period",type:"number",precision:0,min:1,default:10}],"Percentage Price Oscillator":[{paramNameKey:"Fast Period",type:"number",precision:0,min:1,default:12},{paramNameKey:"Slow Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Signal Period",type:"number",precision:0,min:1,default:9}],"Percentage Volume Oscillator":[{paramNameKey:"Short Period",type:"number",precision:0,min:1,default:12},{paramNameKey:"Long Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Signal Period",type:"number",precision:0,min:1,default:9}],Qstick:[{paramNameKey:"period",type:"number",precision:0,min:1,default:20}],"Absolute Price Oscillator":[{paramNameKey:"Fast Period",type:"number",precision:0,min:1,default:14},{paramNameKey:"Slow Period",type:"number",precision:0,min:1,default:30}],Aroon:[{paramNameKey:"Length",type:"number",precision:0,min:1,default:14}],"Balance of Power":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20}],"Double Exponential Moving Average":[{paramNameKey:"EMA1 Period",type:"number",precision:0,min:1,default:10},{paramNameKey:"EMA2 Period",type:"number",precision:0,min:1,default:16}],"Envelope (EMA)":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20},{paramNameKey:"Percentage",type:"number",precision:0,min:0,max:100,default:20},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Envelope (SMA)":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20},{paramNameKey:"Percentage",type:"number",precision:0,min:1,default:20},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Volume Weighted Average Price":[{paramNameKey:"Anchor Period",type:"select",precision:0,options:[{value:"None",label:"None"},{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarter",label:"Quarter"},{value:"Year",label:"Year"}],default:"None"},{paramNameKey:"Source",type:"select",precision:0,options:[{value:"Open",label:"Open"},{value:"High",label:"High"},{value:"Close",label:"Close"},{value:"HLC3",label:"HLC3"},{value:"HLC2",label:"HLC2"},{value:"OHLC4",label:"OHLC4"},{value:"HLCC4",label:"HLCC4"}],default:"Close"},{paramNameKey:"Offset",type:"number",precision:0,min:-100,max:100,default:0},{paramNameKey:"Bands Mode",type:"select",precision:0,options:[{value:"Standard Deviation",label:"Standard Deviation"},{value:"Percentage",label:"Percentage"},{value:"Fixed",label:"Fixed"}],default:"Standard Deviation"},{paramNameKey:"Bands Multiplier",type:"select",precision:0,options:[{value:"0.5",label:"0.5"},{value:"1",label:"1.0"},{value:"1.5",label:"1.5"},{value:"2",label:"2.0"},{value:"2.5",label:"2.5"},{value:"3",label:"3.0"}],default:"2"},{paramNameKey:"Show Bands",type:"boolean",precision:0,default:!0},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Negative Volume Index":[{paramNameKey:"Length",type:"number",precision:0,min:1,default:5}],"Money Flow Volume":[],"Money Flow Multiplier":[],"Moving Linear Regression":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],"Moving Least Square":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}]};var JA=te("<div class=chartspire-ui-indicator-setting-input><span>");const hy=e=>(()=>{var r=JA(),t=r.firstChild;return N(t,()=>e.label),N(r,ae($o,{style:{width:"120px"},get value(){return e.value},get onChange(){return e.onChange}}),null),r})();var eD=te("<div class=chartspire-ui-indicator-setting-select><span>");const Pp=e=>(()=>{var r=eD(),t=r.firstChild;return N(t,()=>e.label),N(r,ae(D1,{style:{width:"120px"},get value(){return e.value},get dataSource(){return e.dataSource},get onSelected(){return e.onSelected}}),null),r})();var tD=te("<div class=chartspire-ui-indicator-setting-styles><span>");const Fc=e=>(()=>{var r=tD(),t=r.firstChild;return N(t,()=>e.label),N(r,ae(nv,{style:{width:"120px"},get value(){return e.value},get onChange(){return e.onChange}}),null),r})();var rD=te("<div class=styles-container>");const tp=({index:e,locale:r,styles:t,setStyles:n,type:i})=>{const o=hn.clone(t());return(()=>{var s=rD();return N(s,(()=>{var u=Le(()=>i===x1.line);return()=>u()?[ae(Fc,{get label(){return`${L("Color",r)} ${e+1}`},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:p.color)??"#000000"},onChange:d=>{var h,p,v;(((p=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:p.color)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].color=d),n({...o})}}),ae(Pp,{get label(){return`${L("Size",r)} ${e+1}`},get value(){var d,h,p;return String(((p=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:p.size)??1)},dataSource:[{key:"1",text:"1"},{key:"2",text:"2"},{key:"3",text:"3"},{key:"4",text:"4"},{key:"5",text:"5"},{key:"6",text:"6"},{key:"7",text:"7"},{key:"8",text:"8"},{key:"9",text:"9"},{key:"10",text:"10"}],onSelected:d=>{var h,p,v;(((p=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:p.size)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].size=Number(d.key)),n({...o})}}),ae(Pp,{get label(){return L("LineType",r)},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:p.style)??"solid"},dataSource:[{key:"solid",text:"Solid"},{key:"dashed",text:"Dashed"}],onSelected:d=>{var h,p,v;(((p=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:p.style)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].style=d.key),n({...o})}})]:Le(()=>i===x1.circle)()?[Le(()=>Le(()=>{var d,h,p;return((p=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:p.upColor)!==void 0})()&&ae(Fc,{get label(){return`${L("upColor",r)} ${e+1}`},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:p.upColor)??"#000000"},onChange:d=>{var h,p,v;(((p=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:p.upColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].upColor=d),n({...o})}})),Le(()=>Le(()=>{var d,h,p;return((p=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:p.downColor)!==void 0})()&&ae(Fc,{get label(){return`${L("downColor",r)} ${e+1}`},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:p.downColor)??"#000000"},onChange:d=>{var h,p,v;(((p=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:p.downColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].downColor=d),n({...o})}})),Le(()=>Le(()=>{var d,h,p;return((p=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:p.noChangeColor)!==void 0})()&&ae(Fc,{get label(){return`${L("noChangeColor",r)} ${e+1}`},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:p.noChangeColor)??"#000000"},onChange:d=>{var h,p,v;(((p=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:p.noChangeColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].noChangeColor=d),n({...o})}}))]:Le(()=>i===x1.bar)()?[Le(()=>Le(()=>{var d,h,p;return((p=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:p.upColor)!==void 0})()&&ae(Fc,{get label(){return`${L("upColor",r)} ${e+1}`},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:p.upColor)??"#000000"},onChange:d=>{var h,p,v;(((p=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:p.upColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].upColor=d),n({...o})}})),Le(()=>Le(()=>{var d,h,p;return((p=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:p.downColor)!==void 0})()&&ae(Fc,{get label(){return`${L("downColor",r)} ${e+1}`},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:p.downColor)??"#000000"},onChange:d=>{var h,p,v;(((p=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:p.downColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].downColor=d),n({...o})}})),Le(()=>Le(()=>{var d,h,p;return((p=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:p.noChangeColor)!==void 0})()&&ae(Fc,{get label(){return`${L("noChangeColor",r)} ${e+1}`},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:p.noChangeColor)??"#000000"},onChange:d=>{var h,p,v;(((p=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:p.noChangeColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].noChangeColor=d),n({...o})}}))]:Le(()=>i===x1.custom)()?Le(()=>Le(()=>{var d,h,p;return((p=(h=(d=t())==null?void 0:d.custom)==null?void 0:h[e])==null?void 0:p.opacity)!==void 0})()&&ae(hy,{get label(){return`${L("opacity",r)} ${e+1}`},get value(){var d,h,p;return((p=(h=(d=t())==null?void 0:d.custom)==null?void 0:h[e])==null?void 0:p.opacity)??.3},onChange:d=>{var h,p,v;(((p=(h=o==null?void 0:o.custom)==null?void 0:h[e])==null?void 0:p.opacity)!==void 0||((v=o==null?void 0:o.custom)==null?void 0:v[e])!==void 0)&&(o.custom[e].opacity=d),n({...o})}})):null})()),s})()};var nD=te("<div class=chartspire-ui-indicator-setting-modal-content>"),iD=te("<div class=chartspire-ui-indicator-setting-modal-content> <!> <!> "),aD=te("<div class=chartspire-ui-indicator-setting-modal-wrapper><div class=topbar>"),oD=te("<button>"),rp=te("<div class=styles-container>"),x1=(e=>(e.line="line",e.circle="circle",e.bar="bar",e.custom="custom",e))(x1||{});const lD=e=>{const[r,t]=ye(hn.clone(e.params.calcParams)),[n,i]=ye(hn.clone(e.params.styles)),[o,s]=ye("params"),u=h=>QA[h],d=[{text:"Params",key:"params"},{text:"Style",key:"style"}];return ae(zl,{get title(){return e.params.indicatorName},width:360,contentHeight:"80%",buttonContainerPadding:"30px 30px 20px",get buttons(){return[{type:"confirm",children:L("confirm",e.locale),onClick:()=>{var h;const p=u(e.params.indicatorName),v=[];(h=hn.clone(r()))==null||h.forEach((m,C)=>{!hn.isValid(m)||m===""?"default"in p[C]&&v.push(p[C].default):v.push(m)}),e.onConfirm(v,n()),e.onClose()}}]},get onClose(){return e.onClose},get children(){var h=aD(),p=h.firstChild;return N(p,ae(Zn,{each:d,children:v=>(()=>{var m=oD();return m.$$click=()=>s(v.key),N(m,()=>v.text),ze(()=>Nt(m,`${o()===v.key?"selected":""}`)),m})()})),N(h,ae(Ke,{get when(){return o()==="params"},get children(){var v=nD();return N(v,()=>{var m;return(m=u(e.params.indicatorName))==null?void 0:m.map((C,b)=>C.type==="boolean"?ae(Pp,{get label(){return L(C.paramNameKey,e.locale)},get value(){var w;return(w=r()[b])!=null&&w.value?"true":"false"},dataSource:[{key:"true",text:"Yes"},{key:"false",text:"No"}],onSelected:w=>{const _=hn.clone(r());_[b]={..._[b],value:w.key==="true"},t(_)}}):C.type==="select"?ae(Pp,{get label(){return L(C.paramNameKey,e.locale)},get value(){var w;return((w=r()[b])==null?void 0:w.value)??C.default},get dataSource(){var w;return((w=C.options)==null?void 0:w.map(_=>({key:_.value,text:_.label})))??[]},onSelected:w=>{const _=hn.clone(r());_[b]={..._[b],value:w.key},t(_)}}):ae(hy,{key:b,get label(){return L(C.paramNameKey,e.locale)},get value(){var w;return((w=r()[b])==null?void 0:w.value)??""},get precision(){return C.precision},get min(){return C.min},onChange:w=>{const _=hn.clone(r());_[b]={..._[b],value:Number(w)},t(_)}}))}),v}}),null),N(h,ae(Ke,{get when(){return o()==="style"},get children(){var v=iD(),m=v.firstChild,C=m.nextSibling,b=C.nextSibling,w=b.nextSibling;return w.nextSibling,N(v,()=>{var _,S;return(S=(_=e.params.styles)==null?void 0:_.lines)==null?void 0:S.map((M,I)=>(()=>{var A=rp();return $e(A,"key",I),N(A,ae(tp,{index:I,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"line"}})),A})())},m),N(v,()=>{var _,S;return(S=(_=e.params.styles)==null?void 0:_.circles)==null?void 0:S.map((M,I)=>(()=>{var A=rp();return $e(A,"key",I),N(A,ae(tp,{index:I,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"circle"}})),A})())},C),N(v,()=>{var _,S;return(S=(_=e.params.styles)==null?void 0:_.bars)==null?void 0:S.map((M,I)=>(()=>{var A=rp();return $e(A,"key",I),N(A,ae(tp,{index:I,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"bar"}})),A})())},w),N(v,()=>{var _,S;return(S=(_=e.params.styles)==null?void 0:_.custom)==null?void 0:S.map((M,I)=>(()=>{var A=rp();return $e(A,"key",I),N(A,ae(tp,{index:I,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"custom"}})),A})())},null),v}}),null),h}})};yr(["click"]);var sD=te('<svg viewBox="0 0 22 22"><rect x=2 y=2 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=2 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=2 width=4 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=2 y=9 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=9 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=9 width=4 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=2 y=16 width=5 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=16 width=5 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=16 width=4 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none>');const cD=e=>(()=>{var r=sD();return ze(()=>$e(r,"class",e.class||"icon-overlay")),r})();var uD=te('<svg viewBox="0 0 24 24"fill=none><path d="M3 6h18M3 12h18M3 18h18M7 3v18M17 3v18"stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round></path><path d="M9 9h2M13 9h2M9 15h2M13 15h2"stroke=currentColor stroke-width=1.5 stroke-linecap=round>');const dD=e=>(()=>{var r=uD();return ze(()=>$e(r,"class",e.class||"icon-overlay")),r})();var hD=te('<div class=item tabindex=0><span style=width:40px;height:40px><svg viewBox="0 0 22 22"><path d="M8 6.00067L21 6.00139M8 12.0007L21 12.0015M8 18.0007L21 18.0015M3.5 6H3.51M3.5 12H3.51M3.5 18H3.51M4 6C4 6.27614 3.77614 6.5 3.5 6.5C3.22386 6.5 3 6.27614 3 6C3 5.72386 3.22386 5.5 3.5 5.5C3.77614 5.5 4 5.72386 4 6ZM4 12C4 12.2761 3.77614 12.5 3.5 12.5C3.22386 12.5 3 12.2761 3 12C3 11.7239 3.22386 11.5 3.5 11.5C3.77614 11.5 4 11.7239 4 12ZM4 18C4 18.2761 3.77614 18.5 3.5 18.5C3.22386 18.5 3 18.2761 3 18C3 17.7239 3.22386 17.5 3.5 17.5C3.77614 17.5 4 17.7239 4 18Z"stroke-width=2 stroke-linecap=round stroke-linejoin=round>'),pD=te('<div class="item paper-trading-item"tabindex=0><span style=width:40px;height:40px>'),fD=te('<div class="item orderbook-item"tabindex=0><span style=width:40px;height:40px>'),gD=te("<div class=chartspire-ui-right-bar><div class=toggle-container>");const vD=e=>(()=>{var r=gD(),t=r.firstChild;return N(r,ae(Ke,{get when(){return e.isWatchListEnabled&&!e.rightBarCollapsed},get children(){var n=hD(),i=n.firstChild,o=i.firstChild;return n.$$click=()=>{console.log("Watchlist clicked"),e.setWatchListModalVisible!=null&&e.setWatchListModalVisible(s=>!s)},ze(()=>$e(o,"class",`icon-overlay ${e.watchListModalVisible?"selected":""}`)),n}}),t),N(r,ae(Ke,{get when(){return e.isPaperTradingEnabled&&!e.rightBarCollapsed},get children(){var n=pD(),i=n.firstChild;return n.$$click=()=>{console.log("Paper Trading clicked"),e.setPaperTradingModalVisible!=null&&e.setPaperTradingModalVisible(o=>!o)},N(i,ae(cD,{get class(){return`icon-overlay ${e.paperTradingModalVisible?"selected":""}`}})),n}}),t),N(r,ae(Ke,{get when(){return e.isOrderBookEnabled&&!e.rightBarCollapsed},get children(){var n=fD(),i=n.firstChild;return n.$$click=()=>{console.log("DOM clicked"),e.setOrderBookVisible!=null&&e.setOrderBookVisible(o=>!o)},N(i,ae(dD,{get class(){return`icon-overlay ${e.orderBookModalVisible?"selected":""}`}})),n}}),t),N(t,ae(av,{get isExpanded(){return!e.rightBarCollapsed},onClick:()=>{e.setRightBarCollapsed(!e.rightBarCollapsed)},get ariaLabel(){return e.rightBarCollapsed?"Show sidebar":"Hide sidebar"},className:"toggle-button",startingDirection:"right"})),ze(()=>$e(r,"data-collapsed",e.rightBarCollapsed.toString())),r})();yr(["click"]);const mD=DS.map(e=>e.name),yD=e=>{const r=e.getDataList(),t=e.getIndicators(),n=new Set,i={};t.forEach(p=>{console.log(p.result),mD.includes(p.name)||Object.entries(p.result).forEach(([v,m])=>{const C=m;Object.keys(C).forEach(b=>{let w=!1;n.add(b),i[b]||(i[b]={}),i[b][v]||(i[b][v]=[]),C[b]!==void 0&&C[b]!==null&&(i[b][v].push(C[b]),w=!0),w||n.delete(b)})})});const o=["timestamp","open","high","low","close","volume",...n].join(","),s=r.map((p,v)=>{const m=Array.from(n).map(C=>i[C][v]??"").join(",");return`${p.timestamp},${p.open},${p.high},${p.low},${p.close},${p.volume??""},${m}`}).join(`
`),u=`${o}
${s}`,d=new Blob([u],{type:"text/csv"}),h=document.createElement("a");h.href=URL.createObjectURL(d),h.download="data.csv",document.body.appendChild(h),h.click(),document.body.removeChild(h)};var xD=te('<div class="item tools">'),CD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><rect width=15 height=14 fill=none stroke=currentColor rx=4 transform="translate(.5 .5)">'),bD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14">'),wD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15">'),_D=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M5 0v14"></path><path d="M10 0v14">'),kD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15">'),SD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 7h7.5">'),MD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 7h7.5">'),ED=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M7.5 0v7">'),TD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M7.5 7v7">'),ID=te('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7.5h15M7.5 0v14">'),LD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 3.5h15"></path><path d="M0 7h15"></path><path d="M0 10.5h15">'),PD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M3.75 0v14"></path><path d="M7.5 0v14"></path><path d="M11.25 0v14">'),AD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 4.5h7.5"></path><path d="M7.5 9.5h7.5">'),DD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 4.5h7.5"></path><path d="M0 9.5h7.5">'),FD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M5 7v7"></path><path d="M10 7v7">'),OD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M5 0v7"></path><path d="M10 0v7">'),RD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 2.8h15"></path><path d="M0 5.6h15"></path><path d="M0 8.4h15"></path><path d="M0 11.2h15">'),ND=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M3 0v14"></path><path d="M6 0v14"></path><path d="M9 0v14"></path><path d="M12 0v14">'),zD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 3.5h7.5"></path><path d="M7.5 7h7.5"></path><path d="M7.5 10.5h7.5">'),VD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 3.5h7.5"></path><path d="M0 7h7.5"></path><path d="M0 10.5h7.5">'),BD=te('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M5 0v14"></path><path d="M10 0v14"></path><path d="M0 7.5h15M7.5">'),$D=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M2.5 0v14"></path><path d="M5 0v14"></path><path d="M7.5 0v14"></path><path d="M10 0v14"></path><path d="M12.5 0v14">'),WD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 2.5h15"></path><path d="M0 5h15"></path><path d="M0 7.5h15"></path><path d="M0 10h15"></path><path d="M0 12.5h15">'),UD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15"></path><path d="M7.5 0v14">'),HD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 2h15"></path><path d="M0 4h15"></path><path d="M0 6h15"></path><path d="M0 8h15"></path><path d="M0 10h15"></path><path d="M0 12h15">'),YD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M2.14 0v14"></path><path d="M4.28 0v14"></path><path d="M6.42 0v14"></path><path d="M8.57 0v14"></path><path d="M10.71 0v14"></path><path d="M12.85 0v14">'),XD=te('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15M3.75 0v14M7.5 0v14M11.25 0v14">'),jD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.75h15"></path><path d="M0 3.5h15"></path><path d="M0 5.25h15"></path><path d="M0 7h15"></path><path d="M0 8.75h15"></path><path d="M0 10.5h15"></path><path d="M0 12.25h15">'),ZD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.875 0v14"></path><path d="M3.75 0v14"></path><path d="M5.625 0v14"></path><path d="M7.5 0v14"></path><path d="M9.375 0v14"></path><path d="M11.25 0v14"></path><path d="M13.125 0v14">'),GD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15"></path><path d="M5 0v14"></path><path d="M10 0v14">'),qD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.5h15"></path><path d="M0 3h15"></path><path d="M0 4.5h15"></path><path d="M0 6h15"></path><path d="M0 7.5h15"></path><path d="M0 9h15"></path><path d="M0 10.5h15"></path><path d="M0 12h15">'),KD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.67 0v14"></path><path d="M3.33 0v14"></path><path d="M5 0v14"></path><path d="M6.67 0v14"></path><path d="M8.33 0v14"></path><path d="M10 0v14"></path><path d="M11.67 0v14"></path><path d="M13.33 0v14">'),QD=te('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15M3 0v14M6 0v14M9 0v14M12 0v14">'),JD=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.4h15"></path><path d="M0 2.8h15"></path><path d="M0 4.2h15"></path><path d="M0 5.6h15"></path><path d="M0 7h15"></path><path d="M0 8.4h15"></path><path d="M0 9.8h15"></path><path d="M0 11.2h15"></path><path d="M0 12.6h15">'),eF=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.5 0v14"></path><path d="M3 0v14"></path><path d="M4.5 0v14"></path><path d="M6 0v14"></path><path d="M7.5 0v14"></path><path d="M9 0v14"></path><path d="M10.5 0v14"></path><path d="M12 0v14"></path><path d="M13.5 0v14">'),tF=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 3.5h15"></path><path d="M0 7h15"></path><path d="M0 10.5h15"></path><path d="M5 0v14"></path><path d="M10 0v14">'),rF=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.17h15"></path><path d="M0 2.33h15"></path><path d="M0 3.5h15"></path><path d="M0 4.67h15"></path><path d="M0 5.83h15"></path><path d="M0 7h15"></path><path d="M0 8.17h15"></path><path d="M0 9.33h15"></path><path d="M0 10.5h15"></path><path d="M0 11.67h15"></path><path d="M0 12.83h15">'),nF=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.25 0v14"></path><path d="M2.5 0v14"></path><path d="M3.75 0v14"></path><path d="M5 0v14"></path><path d="M6.25 0v14"></path><path d="M7.5 0v14"></path><path d="M8.75 0v14"></path><path d="M10 0v14"></path><path d="M11.25 0v14"></path><path d="M12.5 0v14"></path><path d="M13.75 0v14">'),iF=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 7h15"></path><path d="M2.5 0v14"></path><path d="M5 0v14"></path><path d="M7.5 0v14"></path><path d="M10 0v14"></path><path d="M12.5 0v14">'),Zm=te('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M2 0v14"></path><path d="M5 0v14"></path><path d="M12 0v14"></path><path d="M0 7.5h15M9 0v14">'),aF=te('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 3.5h15"></path><path d="M0 7h15"></path><path d="M0 10.5h15"></path><path d="M3.75 0v14"></path><path d="M7.5 0v14"></path><path d="M11.25 0v14">');const oF=e=>(()=>{var r=xD();return Ci(r,"click",e.onMultiChartClick),N(r,(()=>{var t=Le(()=>e.multiChart===Y.ONE);return()=>t()&&CD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TWO);return()=>t()&&bD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TWO_VERTICAL);return()=>t()&&wD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.THREE);return()=>t()&&_D()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.THREE_VERTICAL);return()=>t()&&kD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.THREE_MIXED);return()=>t()&&SD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.THREE_MIXED_REVERSE);return()=>t()&&MD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.THREE_MIXED_BOTTOM);return()=>t()&&ED()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.THREE_MIXED_TOP);return()=>t()&&TD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FOUR);return()=>t()&&ID()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FOUR_VERTICAL);return()=>t()&&LD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FOUR_HORIZONTAL);return()=>t()&&PD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FOUR_MIXED);return()=>t()&&AD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FOUR_MIXED_REVERSE);return()=>t()&&DD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FOUR_MIXED_TOP);return()=>t()&&FD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FOUR_MIXED_BOTTOM);return()=>t()&&OD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FIVE_VERTICAL);return()=>t()&&RD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FIVE_HORIZONTAL);return()=>t()&&ND()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FIVE_MIXED);return()=>t()&&zD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FIVE_MIXED_REVERSE);return()=>t()&&VD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.SIX);return()=>t()&&BD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.SIX_HORIZONTAL);return()=>t()&&$D()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.SIX_VERTICAL);return()=>t()&&WD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.SIX_MIXED);return()=>t()&&UD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.SEVEN_VERTICAL);return()=>t()&&HD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.SEVEN_HORIZONTAL);return()=>t()&&YD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.EIGHT);return()=>t()&&XD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.EIGHT_VERTICAL);return()=>t()&&jD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.EIGHT_HORIZONTAL);return()=>t()&&ZD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.NINE);return()=>t()&&GD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.NINE_VERTICAL);return()=>t()&&qD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.NINE_HORIZONTAL);return()=>t()&&KD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TEN);return()=>t()&&QD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TEN_VERTICAL);return()=>t()&&JD()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TEN_HORIZONTAL);return()=>t()&&eF()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TWELVE);return()=>t()&&tF()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TWELVE_VERTICAL);return()=>t()&&rF()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TWELVE_HORIZONTAL);return()=>t()&&nF()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.TWELVE_GRID);return()=>t()&&iF()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.FOURTEEN);return()=>t()&&Zm()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.SIXTEEN);return()=>t()&&Zm()})(),null),N(r,(()=>{var t=Le(()=>e.multiChart===Y.SIXTEEN_GRID);return()=>t()&&aF()})(),null),r})();yr(["click"]);const Vl=e=>{const r=[{key:"solid",text:L("solid",e)},{key:"dashed",text:L("dashed",e)}],t=[{key:"true",text:!0},{key:"false",text:!1}],n=[{key:1,text:1},{key:2,text:2},{key:3,text:3},{key:4,text:4},{key:5,text:5},{key:6,text:6},{key:7,text:7},{key:8,text:8},{key:9,text:9},{key:10,text:10}],i=[{key:"fill",text:L("fill",e)},{key:"stroke",text:L("stroke",e)},{key:"stroke_fill",text:L("stroke_fill",e)}],o=[{key:"none",text:L("none",e)},{key:"always",text:L("always",e)},{key:"follow_cross",text:L("follow_cross",e)}],s=[{key:10,text:10},{key:11,text:11},{key:12,text:12},{key:14,text:14},{key:16,text:16},{key:18,text:18},{key:20,text:20},{key:22,text:22},{key:24,text:24}],u=[{key:"normal",text:L("Normal",e)}],d=[{key:"Helvetica Neue",text:L("Helvetica Neue",e)}],h=[{key:"current_open",text:L("current_open",e)},{key:"previous_close",text:L("previous_close",e)}];return{solid_dashed:r,size:n,fill_stroke:i,font_family:d,font_size:s,font_weight:u,none_always_followCross:o,true_false:t,compare_rule:h,text_offset:[{key:1,text:1},{key:2,text:2},{key:3,text:3},{key:4,text:4},{key:5,text:5},{key:6,text:6},{key:7,text:7},{key:8,text:8},{key:9,text:9},{key:10,text:10}],dashed_values:[{key:[2,2],text:"[2, 2]"},{key:[4,4],text:"[4, 4]"},{key:[6,6],text:"[6, 6]"},{key:[8,8],text:"[8, 8]"},{key:[2,4],text:"[2, 4]"},{key:[4,2],text:"[4, 2]"}]}},py=e=>{const{font_family:r,font_size:t,font_weight:n,size:i,solid_dashed:o,fill_stroke:s,none_always_followCross:u,compare_rule:d,text_offset:h,dashed_values:p}=Vl(e);return[{key:"candle.type",text:L("candle_type",e),component:"select",dataSource:[{key:"heikin_ashi",text:L("heikin_ashi",e)},{key:"candle_solid",text:L("candle_solid",e)},{key:"candle_stroke",text:L("candle_stroke",e)},{key:"candle_up_stroke",text:L("candle_up_stroke",e)},{key:"candle_down_stroke",text:L("candle_down_stroke",e)},{key:"ohlc",text:L("ohlc",e)},{key:"area",text:L("area",e)},{key:"renko",text:L("renko",e)}]},{key:"candle.bar.compareRule",text:L("candle.bar.compareRule",e),component:"select",dataSource:d},{key:"candle.bar.upColor",text:L("candle.bar.upColor",e),component:"color"},{key:"candle.bar.downColor",text:L("candle.bar.downColor",e),component:"color"},{key:"candle.bar.noChangeColor",text:L("candle.bar.noChangeColor",e),component:"color"},{key:"candle.bar.upBorderColor",text:L("candle.bar.upBorderColor",e),component:"color"},{key:"candle.bar.downBorderColor",text:L("candle.bar.downBorderColor",e),component:"color"},{key:"candle.bar.noChangeBorderColor",text:L("candle.bar.noChangeBorderColor",e),component:"color"},{key:"candle.bar.upWickColor",text:L("candle.bar.upWickColor",e),component:"color"},{key:"candle.bar.downWickColor",text:L("candle.bar.downWickColor",e),component:"color"},{key:"candle.bar.noChangeWickColor",text:L("candle.bar.noChangeWickColor",e),component:"color"},{key:"candle.area.lineSize",text:L("candle.area.lineSize",e),component:"select",dataSource:i},{key:"candle.area.lineColor",text:L("candle.area.lineColor",e),component:"color"},{key:"candle.area.value",text:L("candle.area.value",e),component:"select",dataSource:[{key:"close",text:L("close",e)},{key:"open",text:L("open",e)},{key:"high",text:L("high",e)},{key:"low",text:L("low",e)}]},{key:"candle.area.smooth",text:L("candle.area.smooth",e),component:"switch"},{key:"candle.area.point.show",text:L("candle.area.point.show",e),component:"switch"},{key:"candle.area.point.color",text:L("candle.area.point.color",e),component:"color"},{key:"candle.area.point.radius",text:L("candle.area.point.radius",e),component:"select",dataSource:i},{key:"candle.area.point.rippleColor",text:L("candle.area.point.rippleColor",e),component:"color"},{key:"candle.area.point.rippleRadius",text:L("candle.area.point.rippleRadius",e),component:"select",dataSource:i},{key:"candle.area.point.animation",text:L("candle.area.point.animation",e),component:"switch"},{key:"candle.renko.brick.size",text:L("candle.renko.brick.size",e),component:"select",dataSource:[{key:1,text:1},{key:2,text:2},{key:3,text:3},{key:4,text:4},{key:5,text:5},{key:10,text:10},{key:15,text:15},{key:20,text:20},{key:25,text:25},{key:50,text:50}]},{key:"candle.priceMark.show",text:L("candle.priceMark.show",e),component:"switch"},{key:"candle.priceMark.high.show",text:L("high_price_show",e),component:"switch"},{key:"candle.priceMark.high.color",text:L("candle.priceMark.high.color",e),component:"color"},{key:"candle.priceMark.high.textOffset",text:L("candle.priceMark.high.textOffset",e),component:"select",dataSource:h},{key:"candle.priceMark.high.textSize",text:L("candle.priceMark.high.textSize",e),component:"select",dataSource:t},{key:"candle.priceMark.high.textFamily",text:L("candle.priceMark.high.textFamily",e),component:"select",dataSource:r},{key:"candle.priceMark.high.textWeight",text:L("candle.priceMark.high.textWeight",e),component:"select",dataSource:n},{key:"candle.priceMark.low.show",text:L("low_price_show",e),component:"switch"},{key:"candle.priceMark.low.color",text:L("candle.priceMark.low.color",e),component:"color"},{key:"candle.priceMark.low.textOffset",text:L("candle.priceMark.low.textOffset",e),component:"select",dataSource:h},{key:"candle.priceMark.low.textSize",text:L("candle.priceMark.low.textSize",e),component:"select",dataSource:t},{key:"candle.priceMark.low.textFamily",text:L("candle.priceMark.low.textFamily",e),component:"select",dataSource:r},{key:"candle.priceMark.low.textWeight",text:L("candle.priceMark.low.textWeight",e),component:"select",dataSource:n},{key:"candle.priceMark.last.show",text:L("candle.priceMark.last.show",e),component:"switch"},{key:"candle.priceMark.last.compareRule",text:L("candle.priceMark.last.compareRule",e),component:"select",dataSource:d},{key:"candle.priceMark.last.upColor",text:L("candle.priceMark.last.upColor",e),component:"color"},{key:"candle.priceMark.last.downColor",text:L("candle.priceMark.last.downColor",e),component:"color"},{key:"candle.priceMark.last.noChangeColor",text:L("candle.priceMark.last.noChangeColor",e),component:"color"},{key:"candle.priceMark.last.line.show",text:L("candle.priceMark.last.line.show",e),component:"switch"},{key:"candle.priceMark.last.line.style",text:L("candle.priceMark.last.line.style",e),component:"select",dataSource:o},{key:"candle.priceMark.last.line.size",text:L("candle.priceMark.last.line.size",e),component:"select",dataSource:i},{key:"candle.priceMark.last.line.dashedValue",text:L("candle.priceMark.last.line.dashedValue",e),component:"select",dataSource:p},{key:"candle.priceMark.last.text.show",text:L("candle.priceMark.last.text.show",e),component:"switch"},{key:"candle.priceMark.last.text.style",text:L("candle.priceMark.last.text.style",e),component:"select",dataSource:s},{key:"candle.priceMark.last.text.size",text:L("candle.priceMark.last.text.size",e),component:"select",dataSource:t},{key:"candle.priceMark.last.text.color",text:L("candle.priceMark.last.text.color",e),component:"color"},{key:"candle.tooltip.showRule",text:L("candle.tooltip.showRule",e),component:"select",dataSource:u},{key:"candle.tooltip.showType",text:L("candle.tooltip.showType",e),component:"select",dataSource:[{key:"rect",text:L("Rect",e)},{key:"standard",text:L("Standard",e)}]},{key:"candle.tooltip.rect.position",text:L("candle.tooltip.rect.position",e),component:"select",dataSource:[{key:"fixed",text:L("Fixed",e)},{key:"pointer",text:L("Pointer",e)}]},{key:"candle.tooltip.rect.color",text:L("candle.tooltip.rect.color",e),component:"color"},{key:"candle.tooltip.rect.borderColor",text:L("candle.tooltip.rect.borderColor",e),component:"color"},{key:"candle.tooltip.text.size",text:L("candle.tooltip.text.size",e),component:"select",dataSource:t},{key:"candle.tooltip.text.weight",text:L("candle.tooltip.text.weight",e),component:"select",dataSource:n},{key:"candle.tooltip.text.color",text:L("candle.tooltip.text.color",e),component:"color"}]};var lF=te("<div class=candle-type-dropdown><div class=candle-icon-container><div class=candle-icon></div><span class=candle-type-text></span><span class=dropdown-indicator></span></div><div>"),sF=te("<div><div class=candle-icon-small></div><span>");const np={candle_solid:'<svg width="20" height="20" stroke="currentColor" stroke-width="0.04" viewBox="0 0 0.63 0.99"><path fill="none" d="M.52.02v.95M.11.02v.95"></path><rect x=".02" y=".16" width=".19" height=".5" rx=".02" ry=".07" fill="currentColor"></rect><rect x=".42" y=".35" width=".19" height=".5" rx=".02" ry=".07" fill="currentColor"></rect></svg>',candle_stroke:'<svg viewBox="0 0 26 26" width="28" height="28" fill="currentColor"><g transform="translate(0.5, 0.5)"><path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1zM9 4v5H7v11h2v3h1v-3h2V9h-2V4H9zm6 3h3v10h-3V7zm-7 3h3v9H8v-9z"></path></g></svg>',candle_up_stroke:`<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor">
    <g transform="translate(0.5, 0.5)">
      <!-- Right candle (filled) -->
      <path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1z" fill="currentColor"/>
      <path d="M16 6h3v10h-3V6z" fill="currentColor"/>
      
      <!-- Left candle (hollow) -->
      <path d="M9 4v5h-2v11h2v3h1v-3h2V9h-2V4h-1z" stroke="currentColor" stroke-width="0.8" fill="none"/>
    </g>
  </svg>`,candle_down_stroke:`<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor">
    <g transform="translate(0.5, 0.5)">
      <!-- Right candle (hollow) -->
      <path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1z" stroke="currentColor" stroke-width="0.8" fill="none"/>
      
      <!-- Left candle (filled) -->
      <path d="M9 4v5h-2v11h2v3h1v-3h2V9h-2V4h-1z" fill="currentColor"/>
      <path d="M8 9v9h3V9h-3z" fill="currentColor"/>
    </g>
  </svg>`,ohlc:'<svg stroke="currentColor" stroke-width="0.04" stroke-linecap="round" stroke-linejoin="round" width="18" height="20" fill="none" viewBox="0 0 0.73 1.07"><path d="M.58.02v1.03M.15.02v1.03"></path><path d="M.02.26h.13M.15.7h.12M.58.97h.13M.46.36h.12"></path></svg>',area:'<svg fill="none" stroke="currentColor" stroke-width="0.12" stroke-linejoin="round" width="20" height="20" viewBox="0 0 2.28 1.65"><path d="M.03 1.62.36.78l.38.59.36-.7.36.25.36-.89.42.74v.85z"></path></svg>',heikin_ashi:'<svg width="20" height="20" stroke-width="0.03" stroke="currentColor" viewBox="0 0 0.63 0.99"><path fill="none" d="M.52.02v.96M.11.02v.96"></path><rect fill="currentColor" x=".02" y=".48" width=".19" height=".5" rx=".02" ry=".07"></rect><rect fill="currentColor" x=".42" y=".48" width=".19" height=".5" rx=".02" ry=".07"></rect></svg>',[Nd.RENKO]:'<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor"><g transform="translate(0.5, 0.5)"><path d="M12 4v6h3V4h-3zm3 6v6h3v-6h-3zm3 6v6h3v-6h-3zm-6-6H9v6h3v-6zm-3 6H6v6h3v-6zm4-11h1v4h-1V5zm-3 6h1v4h-1v-4zm-3 6h1v4H7v-4z"></path></g></svg>'},cF=e=>{const r=py(e).find(t=>t.key==="candle.type");return!r||!r.dataSource?[{value:"candle_solid",label:L("candle_solid",e),icon:np.candle_solid},{value:"heikin_ashi",label:L("heikin_ashi",e),icon:np.heikin_ashi}]:r.dataSource.map(t=>({value:t.key,label:t.text,icon:np[t.key]||np.candle_solid}))},uF=e=>{const r=cF(e.locale),[t,n]=ye(!1),[i,o]=ye(r.find(p=>p.value===e.currentCandleType)||r[0]);nt(()=>{const p=e.currentCandleType,v=r.find(m=>m.value===p);v&&o(v)});let s;const u=p=>{p.stopPropagation();const v=!t();if(n(v),v&&s){const m=s.getBoundingClientRect(),C=s.querySelector(".candle-dropdown-options");C&&(C.style.top=`${m.bottom}px`,C.style.left=`${m.left}px`)}},d=(p,v)=>{v.stopPropagation();const m=r.find(C=>C.value===p);m&&o(m),e.onCandleTypeChange(p),n(!1)},h=p=>{s&&!s.contains(p.target)&&n(!1)};return Bi(()=>{document.addEventListener("mousedown",h)}),_n(()=>{document.removeEventListener("mousedown",h)}),(()=>{var p=lF(),v=p.firstChild,m=v.firstChild,C=m.nextSibling,b=v.nextSibling,w=s;return typeof w=="function"?aa(w,p):s=p,v.$$click=u,N(C,()=>L("charts",e.locale)),N(b,ae(Zn,{each:r,children:_=>(()=>{var S=sF(),M=S.firstChild,I=M.nextSibling;return S.$$click=A=>d(_.value,A),N(I,()=>_.label),ze(A=>{var P=`candle-option ${_.value===i().value?"selected":""}`,$=_.icon;return P!==A.e&&Nt(S,A.e=P),$!==A.t&&(M.innerHTML=A.t=$),A},{e:void 0,t:void 0}),S})()})),ze(_=>{var S=i().icon,M=`candle-dropdown-options ${t()?"open":""}`;return S!==_.e&&(m.innerHTML=_.e=S),M!==_.t&&Nt(b,_.t=M),_},{e:void 0,t:void 0}),p})()};yr(["click"]);var dF=te("<img alt=ticker>"),hF=te("<div class=ticker><span>"),pF=te('<div class=chartspire-ui-top-bar><select class=select-dropdown></select><div class="item tools"><svg viewBox="0 0 20 20"><path d=M15.873,20L3.65079,20C1.5873,20,0,18.3871,0,16.2903L0,3.70968C-3.78442e-7,1.6129,1.5873,0,3.65079,0L15.873,0C17.9365,0,19.5238,1.6129,19.5238,3.70968C19.5238,4.35484,19.2063,4.51613,18.5714,4.51613C17.9365,4.51613,17.619,4.19355,17.619,3.70968C17.619,2.74194,16.8254,1.93548,15.873,1.93548L3.65079,1.93548C2.69841,1.93548,1.90476,2.74194,1.90476,3.70968L1.90476,16.2903C1.90476,17.2581,2.69841,18.0645,3.65079,18.0645L15.873,18.0645C16.8254,18.0645,17.619,17.2581,17.619,16.2903C17.619,15.8065,18.0952,15.3226,18.5714,15.3226C19.0476,15.3226,19.5238,15.8065,19.5238,16.2903C19.5238,18.2258,17.9365,20,15.873,20ZM14.9206,12.9032C14.7619,12.9032,14.4444,12.9032,14.2857,12.7419L11.2698,9.35484C10.9524,9.03226,10.9524,8.54839,11.2698,8.22581C11.5873,7.90323,12.0635,7.90323,12.381,8.22581L15.3968,11.6129C15.7143,11.9355,15.7143,12.4194,15.3968,12.7419C15.3968,12.9032,15.2381,12.9032,14.9206,12.9032ZM11.4286,13.2258C11.2698,13.2258,11.1111,13.2258,10.9524,13.0645C10.6349,12.7419,10.6349,12.4194,10.9524,12.0968L15.0794,7.74193C15.3968,7.41935,15.7143,7.41935,16.0317,7.74193C16.3492,8.06452,16.3492,8.3871,16.0317,8.70968L11.9048,13.0645C11.746,13.2258,11.5873,13.2258,11.4286,13.2258ZM10.3175,3.70968C10.6349,3.70968,11.4286,3.87097,11.4286,4.67742C11.4286,5.32258,10.4762,5.16129,10.1587,5.16129C8.73016,5.16129,8.25397,5.96774,8.09524,6.6129L7.77778,8.54839L9.36508,8.54839C9.68254,8.54839,10,8.87097,10,9.19355C10,9.51613,9.68254,9.83871,9.36508,9.83871L7.61905,9.83871L6.50794,14.8387Q6.34921,16.2903,5.39683,16.2903Q4.44444,16.2903,4.92064,14.8387L6.03175,10L4.60317,10C4.28571,10,3.96825,9.67742,3.96825,9.35484C3.96825,8.70968,4.28571,8.54839,4.60317,8.54839L6.34921,8.54839L6.8254,6.45161C7.14286,3.70968,9.52381,3.54839,10.3175,3.70968ZM18.4127,6.6129C18.5714,6.12903,18.8889,5.96774,19.3651,5.96774C19.8413,6.12903,20,6.45161,20,6.93548L18.4127,13.3871C18.254,13.871,17.9365,14.0323,17.4603,14.0323C16.9841,13.871,16.8254,13.5484,16.8254,13.0645L18.4127,6.6129Z></path></svg><span></span></div><div class="item tools"><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M12,23 C5.92486775,23 1,18.0751322 1,12 C1,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,18.0751322 18.0751322,23 12,23 Z M12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 Z M8,17 L8,7 C8,6.21456446 8.86395093,5.73572169 9.52999894,6.1520017 L17.5299989,11.1520017 C18.156667,11.5436692 18.156667,12.4563308 17.5299989,12.8479983 L9.52999894,17.8479983 C8.86395093,18.2642783 8,17.7854355 8,17 Z M15.1132038,12 L10,8.80424764 L10,15.1957524 L15.1132038,12 Z"></path></svg><span></span></div><div></div><div class="item tools csv"><svg viewBox="0 50 500 400"><path d="M430.557,79.556H218.44c21.622,12.688,40.255,29.729,54.859,49.906h157.258 c7.196,0,13.063,5.863,13.063,13.06v238.662c0,7.199-5.866,13.064-13.063,13.064H191.894c-7.198,0-13.062-5.865-13.062-13.064 V222.173c-6.027-3.1-12.33-5.715-18.845-7.732c-3.818,11.764-12.105,21.787-23.508,27.781c-2.39,1.252-4.987,2.014-7.554,2.844 v136.119c0,34.717,28.25,62.971,62.968,62.971h238.663c34.718,0,62.969-28.254,62.969-62.971V142.522 C493.525,107.806,465.275,79.556,430.557,79.556z"></path><path id=XMLID_31_ d="M129.037,175.989c51.419,1.234,96.388,28.283,122.25,68.865c2.371,3.705,6.434,5.848,10.657,5.848 c1.152,0,2.322-0.162,3.46-0.486c5.377-1.545,9.114-6.418,9.179-12.006c0-0.504,0-1.01,0-1.51 c0-81.148-64.853-147.023-145.527-148.957V64.155c0-5.492-3.038-10.512-7.879-13.078c-2.16-1.139-4.533-1.707-6.889-1.707 c-2.94,0-5.848,0.88-8.35,2.584L5.751,120.526C2.162,122.98,0.018,127.041,0,131.394c-0.017,4.338,2.113,8.418,5.687,10.902 l100.17,69.451c2.518,1.753,5.459,2.631,8.414,2.631c2.355,0,4.696-0.553,6.857-1.676c4.855-2.549,7.909-7.6,7.909-13.092V175.989z "></path></svg></div><div class="item tools"><svg width=20 height=20 viewBox="0 0 20 20"><path d=M18.5446,9.09091C18.3333,6.61616,17.2887,4.31818,15.5751,2.63889C13.8498,0.94697,11.6197,0,9.28404,0C8.02817,0,6.81925,0.265151,5.66901,0.782828C5.65728,0.782828,5.65728,0.795454,5.64554,0.795454C5.6338,0.795454,5.6338,0.808081,5.62207,0.808081C4.53052,1.31313,3.55634,2.0202,2.71127,2.92929C1.85446,3.85101,1.18545,4.91162,0.715963,6.11111C0.246479,7.33586,0,8.64899,0,10C0,10.8712,0.105634,11.7172,0.305164,12.5379C0.305164,12.5631,0.316901,12.5884,0.328638,12.6136C0.739437,14.2298,1.51408,15.7197,2.62911,16.9571C4.07277,18.548,5.92723,19.5581,7.93427,19.8737C7.95775,19.8737,7.96948,19.8864,7.99296,19.8864C8.3216,19.9369,8.66197,19.9747,9.00235,19.9747L9.21362,19.9747C9.61268,19.9747,10.3756,19.9369,11.0094,19.697C11.1737,19.6338,11.3028,19.5076,11.3732,19.3434C11.4437,19.1793,11.4554,18.9899,11.3967,18.8131C11.3028,18.5354,11.0563,18.346,10.7864,18.346C10.716,18.346,10.6338,18.3586,10.5634,18.3838C10.0939,18.5606,9.46009,18.5859,9.20188,18.5859L9.09624,18.5859C9.20188,18.2702,9.23709,17.9167,9.15493,17.5505C9.00235,16.8939,8.50939,16.3384,7.58216,15.7955L7.19484,15.5682C6.57277,15.2146,6.23239,15.0253,6.03286,14.7348C5.83333,14.4444,5.69249,13.9899,5.51643,12.9798C5.38732,12.298,5.04695,11.7677,4.50704,11.4646C4.14319,11.2626,3.70892,11.149,3.19249,11.149C2.82864,11.149,2.42958,11.1995,2.00704,11.3005C1.79578,11.351,1.59624,11.4141,1.42019,11.4646C1.33803,10.9848,1.30282,10.4798,1.30282,9.97475C1.30282,6.93182,2.76995,4.26768,4.98826,2.72727C5,3.00505,5.05869,3.29545,5.17606,3.57323C5.48122,4.26768,6.10329,4.7096,7.01878,4.89899C7.06573,4.91162,7.10094,4.91162,7.13615,4.91162L7.1831,4.91162C7.26526,4.91162,7.57042,4.92424,7.88732,5.0505C8.3216,5.2399,8.56808,5.55555,8.65023,6.04798C8.84977,7.61364,9.07277,10.4293,8.79108,11.3384C8.76761,11.4141,8.75587,11.4899,8.75587,11.5657C8.75587,11.9444,9.0493,12.2601,9.40141,12.2601C9.57747,12.2601,9.74179,12.1843,9.85915,12.0581C9.97653,11.9318,12.6174,9.05303,13.3216,8.09343C13.4038,7.97979,13.4859,7.87878,13.5798,7.76515C13.9202,7.33586,14.2723,6.90656,14.4014,6.26262C14.554,5.56818,14.4014,4.79798,13.9437,3.85101C13.615,3.16919,13.5563,2.86616,13.5446,2.75252C13.5563,2.7399,13.5798,2.72727,13.6033,2.71464C15.6221,4.10353,17.0188,6.43939,17.2535,9.19192C17.2887,9.55808,17.5587,9.82323,17.8991,9.82323L17.9577,9.82323C18.3099,9.8106,18.5681,9.48232,18.5446,9.09091ZM3.19249,12.5631C3.48592,12.5631,3.72066,12.6136,3.89671,12.7146C4.08451,12.8283,4.19014,12.9924,4.23709,13.2702C4.43662,14.3434,4.61268,15.0631,5,15.6061C5.37559,16.1364,5.85681,16.4015,6.58451,16.8182L6.60798,16.8308C6.71362,16.8939,6.84272,16.9571,6.96009,17.0328C7.69953,17.4621,7.86385,17.7525,7.89906,17.8914C7.93427,18.0303,7.85211,18.2323,7.74648,18.4343C4.91784,17.8535,2.65258,15.6944,1.73709,12.8283C2.15962,12.702,2.71127,12.5631,3.19249,12.5631ZM12.7934,4.5202C13.4272,5.83333,13.1455,6.18687,12.5822,6.89394C12.4883,7.00758,12.3944,7.12121,12.3005,7.24747C11.9484,7.72727,11.0211,8.77525,10.2113,9.68434C10.2113,9.24242,10.1878,8.73737,10.1526,8.19444C10.0704,6.95707,9.92958,5.90909,9.92958,5.87121L9.92958,5.83333C9.75352,4.83586,9.20188,4.11616,8.3216,3.76263C7.82864,3.56061,7.37089,3.53535,7.19484,3.53535C6.73709,3.43434,6.4554,3.24495,6.33803,2.99242C6.19718,2.68939,6.29108,2.24747,6.38498,1.9697C7.28873,1.59091,8.26291,1.37626,9.28404,1.37626C10.3873,1.37626,11.4437,1.61616,12.4061,2.04545C12.3357,2.18434,12.277,2.34848,12.2535,2.5505C12.2066,3.04293,12.3709,3.64899,12.7934,4.5202Z></path><path d=M15.22299772857666,9.722223632261718C12.59389772857666,9.722223632261718,10.44600772857666,12.020201374511718,10.44600772857666,14.861111374511719C10.44600772857666,17.70202137451172,12.58215772857666,20.000021374511718,15.223007728576661,20.000021374511718C17.86384772857666,20.000021374511718,19.99999772857666,17.70202137451172,19.99999772857666,14.861111374511719C19.99999772857666,12.020201374511718,17.85211772857666,9.72222212709572,15.22299772857666,9.722223632261718ZM15.22299772857666,18.598491374511717C13.30985772857666,18.598491374511717,11.737087728576661,16.91919137451172,11.737087728576661,14.848481374511719C11.737087728576661,12.777781374511719,13.29811772857666,11.098491374511719,15.22299772857666,11.098491374511719C17.14787772857666,11.098491374511719,18.708917728576658,12.77778137451172,18.708917728576658,14.848481374511719C18.708917728576658,16.91919137451172,17.13614772857666,18.59848137451172,15.22299772857666,18.598491374511717Z></path><path d=M15.692486288146974,15.050496970825195L15.692486288146974,12.676760970825196C15.692486288146974,12.297972970825196,15.399058288146973,11.982316970825195,15.046945288146972,11.982316970825195C14.694833288146972,11.982316970825195,14.401406288146973,12.297972970825196,14.401406288146973,12.676760970825196L14.401406288146973,15.340896970825195C14.401406288146973,15.530296970825194,14.471829288146973,15.694436970825196,14.589200288146973,15.833326970825196L15.751176288146972,17.095956970825195C15.868546288146973,17.222216970825194,16.032866288146973,17.297976970825196,16.208916288146973,17.297976970825196C16.384976288146973,17.297976970825196,16.537556288146973,17.222216970825194,16.666666288146974,17.095956970825195C16.78403628814697,16.969686970825194,16.854456288146974,16.792916970825196,16.854456288146974,16.603526970825193C16.854456288146974,16.414136970825197,16.78403628814697,16.237366970825196,16.666666288146974,16.111106970825197L15.692486288146974,15.050496970825195Z></path></svg></div><div class="item tools"><svg viewBox="0 0 20 20"><path d=M19.7361,12.542L18.1916,11.2919C18.2647,10.8678,18.3025,10.4347,18.3025,10.0017C18.3025,9.56861,18.2647,9.13555,18.1916,8.71142L19.7361,7.46135C19.9743,7.26938,20.0615,6.95686,19.9554,6.6756L19.9342,6.61756C19.5074,5.49026,18.8755,4.45449,18.0549,3.53926L18.0124,3.49238C17.8096,3.26692,17.4819,3.1821,17.1848,3.28032L15.2677,3.92544C14.5603,3.3763,13.7704,2.94324,12.9168,2.63966L12.5466,0.742229C12.49,0.449802,12.2472,0.222111,11.9383,0.168536L11.8746,0.157375C10.6461,-0.0524583,9.35391,-0.0524583,8.1254,0.157375L8.06174,0.168536C7.75284,0.222111,7.50997,0.449802,7.45338,0.742229L7.08082,2.64859C6.2343,2.95217,5.44909,3.383,4.74641,3.92991L2.81522,3.28032C2.52047,3.1821,2.19036,3.26469,1.98757,3.49238L1.94513,3.53926C1.12455,4.45672,0.492609,5.49249,0.0658141,6.61756L0.0445921,6.6756C-0.0615171,6.95463,0.0257283,7.26715,0.263885,7.46135L1.82723,8.72482C1.75413,9.14448,1.71876,9.57308,1.71876,9.99944C1.71876,10.428,1.75413,10.8566,1.82723,11.2741L0.263885,12.5375C0.025729,12.7295,-0.0615164,13.042,0.0445929,13.3233L0.0658148,13.3813C0.49261,14.5064,1.12455,15.5444,1.94513,16.4596L1.98757,16.5065C2.19036,16.732,2.51812,16.8168,2.81522,16.7186L4.74641,16.069C5.44909,16.6159,6.2343,17.0489,7.08082,17.3503L7.45338,19.2567C7.50997,19.5491,7.75284,19.7768,8.06174,19.8303L8.1254,19.8415C8.74084,19.9464,9.37042,20,10,20C10.6296,20,11.2615,19.9464,11.8746,19.8415L11.9383,19.8303C12.2472,19.7768,12.49,19.5491,12.5466,19.2567L12.9168,17.3592C13.7704,17.0556,14.5603,16.6248,15.2677,16.0734L17.1848,16.7186C17.4795,16.8168,17.8096,16.7342,18.0124,16.5065L18.0549,16.4596C18.8755,15.5422,19.5074,14.5064,19.9342,13.3813L19.9554,13.3233C20.0615,13.0487,19.9743,12.7362,19.7361,12.542ZM16.5175,8.97483C16.5764,9.3119,16.6071,9.65791,16.6071,10.0039C16.6071,10.3499,16.5764,10.6959,16.5175,11.033L16.3618,11.9281L18.1233,13.3545C17.8568,13.9372,17.5196,14.4863,17.1188,14.9975L14.9305,14.2631L14.1901,14.839C13.6266,15.2765,12.9994,15.6203,12.3203,15.8614L11.4219,16.1806L10.9998,18.3459C10.3372,18.4173,9.66045,18.4173,8.9955,18.3459L8.57342,16.1761L7.6821,15.8524C7.01008,15.6114,6.38521,15.2676,5.82637,14.8323L5.08596,14.2541L2.88361,14.9953C2.48275,14.4841,2.14791,13.9327,1.8791,13.3523L3.65938,11.9125L3.50611,11.0196C3.44952,10.687,3.41887,10.3432,3.41887,10.0039C3.41887,9.66237,3.44716,9.32083,3.50611,8.98822L3.65938,8.09531L1.8791,6.6555C2.14556,6.07288,2.48275,5.52374,2.88361,5.01255L5.08596,5.75367L5.82637,5.17551C6.38521,4.74022,7.01008,4.39645,7.6821,4.15536L8.57578,3.83615L8.99786,1.66638C9.66045,1.59495,10.3372,1.59495,11.0021,1.66638L11.4242,3.83168L12.3226,4.1509C12.9994,4.39198,13.6289,4.73575,14.1925,5.17328L14.9329,5.7492L17.1211,5.01479C17.522,5.52598,17.8568,6.07734,18.1256,6.65773L16.3642,8.08416L16.5175,8.97483ZM10.0024,5.85189C7.7104,5.85189,5.85231,7.61092,5.85231,9.78068C5.85231,11.9504,7.7104,13.7095,10.0024,13.7095C12.2943,13.7095,14.1524,11.9504,14.1524,9.78068C14.1524,7.61092,12.2943,5.85189,10.0024,5.85189ZM11.8699,11.5486C11.37,12.0196,10.7074,12.2808,10.0024,12.2808C9.29732,12.2808,8.63473,12.0196,8.13483,11.5486C7.6373,11.0754,7.36142,10.4481,7.36142,9.78068C7.36142,9.11323,7.6373,8.48596,8.13483,8.01272C8.63473,7.53948,9.29732,7.28054,10.0024,7.28054C10.7074,7.28054,11.37,7.53948,11.8699,8.01272C12.3674,8.48596,12.6433,9.11323,12.6433,9.78068C12.6433,10.4481,12.3674,11.0754,11.8699,11.5486Z></path></svg></div><div class="item tools"><svg viewBox="0 0 20 20"><path d=M6.50977,1L13.4902,1C13.6406,1,13.7695,1.1104910000000001,13.7969,1.2631700000000001L14.0273,2.52277C14.1387,3.13147,14.6543,3.57143,15.2559,3.57143L17.5,3.57143C18.8809,3.57143,20,4.72254,20,6.14286L20,16.4286C20,17.8489,18.8809,19,17.5,19L2.5,19C1.11914,19,0,17.8489,0,16.4286L0,6.14286C0,4.72254,1.11914,3.57143,2.5,3.57143L4.74414,3.57143C5.3457,3.57143,5.86133,3.13147,5.97266,2.52277L6.20312,1.2631700000000001C6.23047,1.1104910000000001,6.35937,1,6.50977,1ZM15.2559,4.857139999999999C14.0547,4.857139999999999,13.0215,3.97522,12.7988,2.75982L12.7129,2.28571L7.28711,2.28571L7.20117,2.75982C6.98047,3.97522,5.94727,4.857139999999999,4.74414,4.857139999999999L2.5,4.857139999999999C1.81055,4.857139999999999,1.25,5.43371,1.25,6.14286L1.25,16.4286C1.25,17.1377,1.81055,17.7143,2.5,17.7143L17.5,17.7143C18.1895,17.7143,18.75,17.1377,18.75,16.4286L18.75,6.14286C18.75,5.43371,18.1895,4.857139999999999,17.5,4.857139999999999L15.2559,4.857139999999999ZM4.375,6.78571L3.125,6.78571C2.7793,6.78571,2.5,6.49844,2.5,6.14286C2.5,5.78728,2.7793,5.5,3.125,5.5L4.375,5.5C4.7207,5.5,5,5.78728,5,6.14286C5,6.49844,4.7207,6.78571,4.375,6.78571ZM10,6.14286C7.06641,6.14286,4.6875,8.58973,4.6875,11.6071C4.6875,14.6246,7.06641,17.0714,10,17.0714C12.9336,17.0714,15.3125,14.6246,15.3125,11.6071C15.3125,8.58973,12.9336,6.14286,10,6.14286ZM10,7.42857C11.0859,7.42857,12.1055,7.8625,12.873,8.65201C13.6406,9.44152,14.0625,10.49018,14.0625,11.6071C14.0625,12.7241,13.6406,13.7728,12.873,14.5623C12.1055,15.3518,11.0859,15.7857,10,15.7857C8.91406,15.7857,7.89453,15.3518,7.12695,14.5623C6.35937,13.7728,5.9375,12.7241,5.9375,11.6071C5.9375,10.49018,6.35938,9.44152,7.12695,8.65201C7.89453,7.8625,8.91406,7.42857,10,7.42857ZM10,9.67857C8.96484,9.67857,8.125,10.54241,8.125,11.6071C8.125,12.6719,8.96484,13.5357,10,13.5357C11.0352,13.5357,11.875,12.6719,11.875,11.6071C11.875,10.54241,11.0352,9.67857,10,9.67857ZM10,10.96429C10.3438,10.96429,10.625,11.2536,10.625,11.6071C10.625,11.9607,10.3438,12.25,10,12.25C9.65625,12.25,9.375,11.9607,9.375,11.6071C9.375,11.2536,9.65625,10.96429,10,10.96429Z></path></svg></div><div class="item tools">'),fF=te("<option>"),gF=te('<svg viewBox="0 0 20 20"><path d=M1.08108,0L0,1.079L4.18919,5.27938L2.54826,6.91715L6.9112,6.91715L6.9112,2.56262L5.28957,4.18112L1.08108,0ZM15.8108,5.27938L20,1.079L18.9189,0L14.7104,4.18112L13.0888,2.56262L13.0888,6.91715L17.4517,6.91715L15.8108,5.27938ZM4.16988,14.7014L0.07722,18.8054L1.1583,20L5.27027,15.7996L6.9112,17.4374L6.9112,13.0829L2.54826,13.0829L4.16988,14.7014ZM17.4517,13.0829L13.0888,13.0829L13.0888,17.4374L14.7297,15.7996L18.8417,20L19.9228,18.8054L15.8301,14.7013L17.4517,13.0829Z>'),vF=te('<svg viewBox="0 0 20 20"><path d=M2.93444,1.76899L7.57544,6.40999L6.38918,7.59626L1.76899,2.93444L0,4.70343L0,0L4.70343,0L2.93444,1.76899ZM6.40999,12.4037L1.76899,17.0447L0,15.2758L0,19.9792L4.70343,19.9792L2.93444,18.2102L7.57544,13.5692L6.40999,12.4037ZM15.2758,0L17.0447,1.76899L12.4037,6.40999L13.59,7.59626L18.231,2.95526L20,4.72425L20,0L15.2758,0ZM13.5692,12.4037L12.3829,13.59L17.0239,18.231L15.2549,20L19.9792,20L19.9792,15.2758L18.2102,17.0447L13.5692,12.4037Z>');const mF=e=>{const[r,t]=ye(!1),n=()=>{t(i=>!i)};return Bi(()=>{document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("msfullscreenchange",n)}),_n(()=>{document.removeEventListener("fullscreenchange",n),document.removeEventListener("mozfullscreenchange",n),document.removeEventListener("webkitfullscreenchange",n),document.removeEventListener("msfullscreenchange",n)}),(()=>{var i=pF(),o=i.firstChild,s=o.nextSibling,u=s.firstChild,d=u.nextSibling,h=s.nextSibling,p=h.firstChild,v=p.nextSibling,m=h.nextSibling,C=m.nextSibling,b=C.nextSibling,w=b.nextSibling,_=w.nextSibling,S=_.nextSibling;return aa(M=>{},i),N(i,ae(Ke,{get when(){return e.ticker},get children(){var M=hF(),I=M.firstChild;return Ci(M,"click",e.onTickerClick),N(M,ae(Ke,{get when(){return e.ticker.logo},get children(){var A=dF();return A.addEventListener("error",P=>P.currentTarget.style.display="none"),ze(()=>$e(A,"src",e.ticker.logo)),A}}),I),N(I,()=>e.ticker.ticker??e.ticker.shortName??e.ticker.name),M}}),o),o.addEventListener("change",M=>{const I=e.periods.find(A=>A.text===M.target.value);I&&e.onPeriodChange(I)}),N(o,()=>e.periods.map(M=>(()=>{var I=fF();return N(I,()=>M.text),ze(()=>I.selected=M.text===e.period.text),ze(()=>I.value=M.text),I})())),Ci(s,"click",e.onIndicatorClick),N(d,()=>L("indicator",e.locale)),N(i,ae(uF,{get locale(){return e.locale},get currentCandleType(){return e.currentCandleType},get onCandleTypeChange(){return e.onCandleTypeChange}}),h),Ci(h,"click",e.onReplayClick),N(v,()=>L("replay",e.locale)),m.style.setProperty("flex","1"),N(i,ae(oF,{get onMultiChartClick(){return e.onMultiChartClick},get multiChart(){return e.multiChart}}),C),C.$$click=()=>{yD(e.chart)},Ci(b,"click",e.onTimezoneClick),Ci(w,"click",e.onSettingClick),Ci(_,"click",e.onScreenshotClick),S.$$click=()=>{r()||e.rootContainer},N(S,(()=>{var M=Le(()=>!!r());return()=>M()?gF():vF()})()),i})()};yr(["click"]);var yF=typeof Al=="object"&&Al&&Al.Object===Object&&Al,xF=yF,CF=xF,bF=typeof self=="object"&&self&&self.Object===Object&&self,wF=CF||bF||Function("return this")(),gv=wF,_F=gv,kF=_F.Symbol,vv=kF,Gm=vv,fy=Object.prototype,SF=fy.hasOwnProperty,MF=fy.toString,d1=Gm?Gm.toStringTag:void 0;function EF(e){var r=SF.call(e,d1),t=e[d1];try{e[d1]=void 0;var n=!0}catch{}var i=MF.call(e);return n&&(r?e[d1]=t:delete e[d1]),i}var TF=EF,IF=Object.prototype,LF=IF.toString;function PF(e){return LF.call(e)}var AF=PF,qm=vv,DF=TF,FF=AF,OF="[object Null]",RF="[object Undefined]",Km=qm?qm.toStringTag:void 0;function NF(e){return e==null?e===void 0?RF:OF:Km&&Km in Object(e)?DF(e):FF(e)}var gy=NF;function zF(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var mv=zF,VF=gy,BF=mv,$F="[object AsyncFunction]",WF="[object Function]",UF="[object GeneratorFunction]",HF="[object Proxy]";function YF(e){if(!BF(e))return!1;var r=VF(e);return r==WF||r==UF||r==$F||r==HF}var XF=YF,jF=gv,ZF=jF["__core-js_shared__"],GF=ZF,dg=GF,Qm=function(){var e=/[^.]+$/.exec(dg&&dg.keys&&dg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qF(e){return!!Qm&&Qm in e}var KF=qF,QF=Function.prototype,JF=QF.toString;function eO(e){if(e!=null){try{return JF.call(e)}catch{}try{return e+""}catch{}}return""}var tO=eO,rO=XF,nO=KF,iO=mv,aO=tO,oO=/[\\^$.*+?()[\]{}|]/g,lO=/^\[object .+?Constructor\]$/,sO=Function.prototype,cO=Object.prototype,uO=sO.toString,dO=cO.hasOwnProperty,hO=RegExp("^"+uO.call(dO).replace(oO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pO(e){if(!iO(e)||nO(e))return!1;var r=rO(e)?hO:lO;return r.test(aO(e))}var fO=pO;function gO(e,r){return e==null?void 0:e[r]}var vO=gO,mO=fO,yO=vO;function xO(e,r){var t=yO(e,r);return mO(t)?t:void 0}var yv=xO,CO=yv,bO=function(){try{var e=CO(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wO=bO,Jm=wO;function _O(e,r,t){r=="__proto__"&&Jm?Jm(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var kO=_O;function SO(e,r){return e===r||e!==e&&r!==r}var vy=SO,MO=kO,EO=vy,TO=Object.prototype,IO=TO.hasOwnProperty;function LO(e,r,t){var n=e[r];(!(IO.call(e,r)&&EO(n,t))||t===void 0&&!(r in e))&&MO(e,r,t)}var PO=LO,AO=Array.isArray,xv=AO;function DO(e){return e!=null&&typeof e=="object"}var FO=DO,OO=gy,RO=FO,NO="[object Symbol]";function zO(e){return typeof e=="symbol"||RO(e)&&OO(e)==NO}var Cv=zO,VO=xv,BO=Cv,$O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WO=/^\w*$/;function UO(e,r){if(VO(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||BO(e)?!0:WO.test(e)||!$O.test(e)||r!=null&&e in Object(r)}var HO=UO,YO=yv,XO=YO(Object,"create"),Up=XO,e2=Up;function jO(){this.__data__=e2?e2(null):{},this.size=0}var ZO=jO;function GO(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var qO=GO,KO=Up,QO="__lodash_hash_undefined__",JO=Object.prototype,eR=JO.hasOwnProperty;function tR(e){var r=this.__data__;if(KO){var t=r[e];return t===QO?void 0:t}return eR.call(r,e)?r[e]:void 0}var rR=tR,nR=Up,iR=Object.prototype,aR=iR.hasOwnProperty;function oR(e){var r=this.__data__;return nR?r[e]!==void 0:aR.call(r,e)}var lR=oR,sR=Up,cR="__lodash_hash_undefined__";function uR(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=sR&&r===void 0?cR:r,this}var dR=uR,hR=ZO,pR=qO,fR=rR,gR=lR,vR=dR;function Hd(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Hd.prototype.clear=hR;Hd.prototype.delete=pR;Hd.prototype.get=fR;Hd.prototype.has=gR;Hd.prototype.set=vR;var mR=Hd;function yR(){this.__data__=[],this.size=0}var xR=yR,CR=vy;function bR(e,r){for(var t=e.length;t--;)if(CR(e[t][0],r))return t;return-1}var Hp=bR,wR=Hp,_R=Array.prototype,kR=_R.splice;function SR(e){var r=this.__data__,t=wR(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():kR.call(r,t,1),--this.size,!0}var MR=SR,ER=Hp;function TR(e){var r=this.__data__,t=ER(r,e);return t<0?void 0:r[t][1]}var IR=TR,LR=Hp;function PR(e){return LR(this.__data__,e)>-1}var AR=PR,DR=Hp;function FR(e,r){var t=this.__data__,n=DR(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var OR=FR,RR=xR,NR=MR,zR=IR,VR=AR,BR=OR;function Yd(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Yd.prototype.clear=RR;Yd.prototype.delete=NR;Yd.prototype.get=zR;Yd.prototype.has=VR;Yd.prototype.set=BR;var $R=Yd,WR=yv,UR=gv,HR=WR(UR,"Map"),YR=HR,t2=mR,XR=$R,jR=YR;function ZR(){this.size=0,this.__data__={hash:new t2,map:new(jR||XR),string:new t2}}var GR=ZR;function qR(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var KR=qR,QR=KR;function JR(e,r){var t=e.__data__;return QR(r)?t[typeof r=="string"?"string":"hash"]:t.map}var Yp=JR,eN=Yp;function tN(e){var r=eN(this,e).delete(e);return this.size-=r?1:0,r}var rN=tN,nN=Yp;function iN(e){return nN(this,e).get(e)}var aN=iN,oN=Yp;function lN(e){return oN(this,e).has(e)}var sN=lN,cN=Yp;function uN(e,r){var t=cN(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var dN=uN,hN=GR,pN=rN,fN=aN,gN=sN,vN=dN;function Xd(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Xd.prototype.clear=hN;Xd.prototype.delete=pN;Xd.prototype.get=fN;Xd.prototype.has=gN;Xd.prototype.set=vN;var mN=Xd,my=mN,yN="Expected a function";function bv(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(yN);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return t.cache=o.set(i,s)||o,s};return t.cache=new(bv.Cache||my),t}bv.Cache=my;var xN=bv,CN=xN,bN=500;function wN(e){var r=CN(e,function(n){return t.size===bN&&t.clear(),n}),t=r.cache;return r}var _N=wN,kN=_N,SN=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MN=/\\(\\)?/g,EN=kN(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(SN,function(t,n,i,o){r.push(i?o.replace(MN,"$1"):n||t)}),r}),TN=EN;function IN(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var LN=IN,r2=vv,PN=LN,AN=xv,DN=Cv,n2=r2?r2.prototype:void 0,i2=n2?n2.toString:void 0;function yy(e){if(typeof e=="string")return e;if(AN(e))return PN(e,yy)+"";if(DN(e))return i2?i2.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var FN=yy,ON=FN;function RN(e){return e==null?"":ON(e)}var NN=RN,zN=xv,VN=HO,BN=TN,$N=NN;function WN(e,r){return zN(e)?e:VN(e,r)?[e]:BN($N(e))}var xy=WN,UN=9007199254740991,HN=/^(?:0|[1-9]\d*)$/;function YN(e,r){var t=typeof e;return r=r??UN,!!r&&(t=="number"||t!="symbol"&&HN.test(e))&&e>-1&&e%1==0&&e<r}var XN=YN,jN=Cv;function ZN(e){if(typeof e=="string"||jN(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var Cy=ZN,GN=PO,qN=xy,KN=XN,a2=mv,QN=Cy;function JN(e,r,t,n){if(!a2(e))return e;r=qN(r,e);for(var i=-1,o=r.length,s=o-1,u=e;u!=null&&++i<o;){var d=QN(r[i]),h=t;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=s){var p=u[d];h=n?n(p,d,u):void 0,h===void 0&&(h=a2(p)?p:KN(r[i+1])?[]:{})}GN(u,d,h),u=u[d]}return e}var ez=JN,tz=ez;function rz(e,r,t){return e==null?e:tz(e,r,t)}var nz=rz;const C1=t5(nz);var iz=xy,az=Cy;function oz(e,r){r=iz(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[az(r[t++])];return t&&t==n?e:void 0}var lz=oz,sz=lz;function cz(e,r,t){var n=e==null?void 0:sz(e,r);return n===void 0?t:n}var uz=cz;const dz=t5(uz),hz=e=>{const{fill_stroke:r,font_size:t,font_weight:n,none_always_followCross:i,solid_dashed:o,size:s,dashed_values:u}=Vl(e);return[{key:"indicator.lastValueMark.show",text:L("indicator.lastValueMark.show",e),component:"switch"},{key:"indicator.lastValueMark.text.show",text:L("indicator.lastValueMark.text.show",e),component:"switch"},{key:"indicator.lastValueMark.text.style",text:L("indicator.lastValueMark.text.style",e),component:"select",dataSource:r},{key:"indicator.lastValueMark.text.size",text:L("indicator.lastValueMark.text.size",e),component:"select",dataSource:t},{key:"indicator.lastValueMark.text.weight",text:L("indicator.lastValueMark.text.weight",e),component:"select",dataSource:n},{key:"indicator.lastValueMark.text.color",text:L("indicator.lastValueMark.text.color",e),component:"color"},{key:"indicator.lastValueMark.text.borderStyle",text:L("indicator.lastValueMark.text.borderStyle",e),component:"select",dataSource:o},{key:"indicator.lastValueMark.text.borderColor",text:L("indicator.lastValueMark.text.borderColor",e),component:"color"},{key:"indicator.lastValueMark.text.borderSize",text:L("indicator.lastValueMark.text.borderSize",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.borderDashedValue",text:L("indicator.lastValueMark.text.borderDashedValue",e),component:"select",dataSource:u},{key:"indicator.lastValueMark.text.paddingLeft",text:L("indicator.lastValueMark.text.paddingLeft",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingTop",text:L("indicator.lastValueMark.text.paddingTop",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingRight",text:L("indicator.lastValueMark.text.paddingRight",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingBottom",text:L("indicator.lastValueMark.text.paddingBottom",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.borderRadius",text:L("indicator.lastValueMark.text.borderRadius",e),component:"select",dataSource:s},{key:"indicator.bars[0].style",text:L("indicator.bars.style",e),component:"select",dataSource:r},{key:"indicator.bars[0].borderStyle",text:L("indicator.bars.borderStyle",e),component:"select",dataSource:o},{key:"indicator.bars[0].borderSize",text:L("indicator.bars.borderSize",e),component:"select",dataSource:s},{key:"indicator.bars[0].borderColor",text:L("indicator.bars.borderColor",e),component:"color"},{key:"indicator.bars[0].borderDashedValue",text:L("indicator.bars.borderDashedValue",e),component:"select",dataSource:u},{key:"indicator.ohlc.upColor",text:L("indicator.ohlc.upColor",e),component:"color"},{key:"indicator.ohlc.downColor",text:L("indicator.ohlc.downColor",e),component:"color"},{key:"indicator.ohlc.noChangeColor",text:L("indicator.ohlc.noChangeColor",e),component:"color"},{key:"indicator.lines[0].style",text:L("indicator.lines.style",e),component:"select",dataSource:o},{key:"indicator.lines[0].size",text:L("indicator.lines.size",e),component:"select",dataSource:s},{key:"indicator.lines[0].color",text:L("indicator.lines.color",e),component:"color"},{key:"indicator.lines[0].dashedValue",text:L("indicator.lines.dashedValue",e),component:"select",dataSource:u},{key:"indicator.tooltip.showRule",text:L("indicator.tooltip.showRule",e),component:"select",dataSource:i},{key:"indicator.tooltip.showType",text:L("indicator.tooltip.showType",e),component:"select",dataSource:[{key:"standard",text:L("Standard",e)},{key:"rect",text:L("Rect",e)}]},{key:"indicator.tooltip.showName",text:L("indicator.tooltip.showName",e),component:"switch"},{key:"indicator.tooltip.showParams",text:L("indicator.tooltip.showParams",e),component:"switch"},{key:"indicator.tooltip.title.size",text:L("indicator.tooltip.text.size",e),component:"select",dataSource:t},{key:"indicator.tooltip.title.weight",text:L("indicator.tooltip.text.weight",e),component:"select",dataSource:n},{key:"indicator.tooltip.title.color",text:L("indicator.tooltip.text.color",e),component:"color"},{key:"indicator.tooltip.title.marginLeft",text:L("indicator.tooltip.text.marginLeft",e),component:"select",dataSource:s},{key:"indicator.tooltip.title.marginTop",text:L("indicator.tooltip.text.marginTop",e),component:"select",dataSource:s},{key:"indicator.tooltip.title.marginRight",text:L("indicator.tooltip.text.marginRight",e),component:"select",dataSource:s},{key:"indicator.tooltip.title.marginBottom",text:L("indicator.tooltip.text.marginBottom",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetTop",text:L("indicator.tooltip.offsetTop",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetLeft",text:L("indicator.tooltip.offsetLeft",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetRight",text:L("indicator.tooltip.offsetRight",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetBottom",text:L("indicator.tooltip.offsetBottom",e),component:"select",dataSource:s}]},pz=e=>{const{font_size:r,size:t,font_weight:n,font_family:i}=Vl(e);return[{key:"xAxis.show",text:L("xAxis.show",e),component:"switch"},{key:"xAxis.size",text:L("xAxis.size",e),component:"select",dataSource:[{key:"auto",text:L("auto",e)},...t]},{key:"xAxis.axisLine.show",text:L("xAxis.axisLine.show",e),component:"switch"},{key:"xAxis.axisLine.color",text:L("xAxis.axisLine.color",e),component:"color"},{key:"xAxis.axisLine.size",text:L("xAxis.axisLine.size",e),component:"select",dataSource:t},{key:"xAxis.tickText.show",text:L("xAxis.tickText.show",e),component:"switch"},{key:"xAxis.tickText.size",text:L("xAxis.tickText.size",e),component:"select",dataSource:r},{key:"xAxis.tickText.weight",text:L("xAxis.tickText.weight",e),component:"select",dataSource:n},{key:"xAxis.tickText.family",text:L("xAxis.tickText.family",e),component:"select",dataSource:i},{key:"xAxis.tickText.color",text:L("xAxis.tickText.color",e),component:"color"},{key:"xAxis.tickText.marginStart",text:L("xAxis.tickText.marginStart",e),component:"select",dataSource:t},{key:"xAxis.tickText.marginEnd",text:L("xAxis.tickText.marginEnd",e),component:"select",dataSource:t},{key:"xAxis.tickLine.show",text:L("xAxis.tickLine.show",e),component:"switch"},{key:"xAxis.tickLine.size",text:L("xAxis.tickLine.size",e),component:"select",dataSource:t},{key:"xAxis.tickLine.length",text:L("xAxis.tickLine.length",e),component:"select",dataSource:t},{key:"xAxis.tickLine.color",text:L("xAxis.tickLine.color",e),component:"color"}]},fz=e=>{const{size:r,font_weight:t,font_size:n,font_family:i}=Vl(e);return[{key:"yAxis.show",text:L("yAxis.show",e),component:"switch"},{key:"yAxis.size",text:L("yAxis.size",e),component:"select",dataSource:[{key:"auto",text:L("auto",e)},...r]},{key:"yAxis.inside",text:L("yAxis.inside",e),component:"switch"},{key:"yAxis.reverse",text:L("yAxis.reverse",e),component:"switch"},{key:"yAxis.axisLine.show",text:L("yAxis.axisLine.show",e),component:"switch"},{key:"yAxis.axisLine.size",text:L("yAxis.axisLine.size",e),component:"select",dataSource:r},{key:"yAxis.axisLine.color",text:L("yAxis.axisLine.color",e),component:"color"},{key:"yAxis.tickText.show",text:L("yAxis.tickText.show",e),component:"switch"},{key:"yAxis.tickText.color",text:L("yAxis.tickText.color",e),component:"color"},{key:"yAxis.tickText.size",text:L("yAxis.tickText.size",e),component:"select",dataSource:n},{key:"yAxis.tickText.weight",text:L("yAxis.tickText.weight",e),component:"select",dataSource:t},{key:"yAxis.tickText.family",text:L("yAxis.tickText.family",e),component:"select",dataSource:i},{key:"yAxis.tickText.marginStart",text:L("yAxis.tickText.marginStart",e),component:"select",dataSource:r},{key:"yAxis.tickText.marginEnd",text:L("yAxis.tickText.marginEnd",e),component:"select",dataSource:r},{key:"yAxis.tickLine.show",text:L("yAxis.tickLine.show",e),component:"switch"},{key:"yAxis.tickLine.color",text:L("yAxis.tickLine.color",e),component:"color"},{key:"yAxis.tickLine.size",text:L("yAxis.tickLine.size",e),component:"select",dataSource:r},{key:"yAxis.tickLine.length",text:L("yAxis.tickLine.length",e),component:"select",dataSource:r}]},gz=e=>{const{size:r,solid_dashed:t,dashed_values:n}=Vl(e);return[{key:"grid.show",text:L("grid_show",e),component:"switch"},{key:"grid.horizontal.show",text:L("grid_horizontal_show",e),component:"switch"},{key:"grid.horizontal.size",text:L("grid_horizontal_size",e),component:"select",dataSource:r},{key:"grid.horizontal.color",text:L("grid_horizontal_color",e),component:"color"},{key:"grid.horizontal.style",text:L("grid_horizontal_style",e),component:"select",dataSource:t},{key:"grid.horizontal.dashedValue",text:L("grid_horizontal_dashedValue",e),component:"select",dataSource:n},{key:"grid.vertical.show",text:L("grid_vertical_show",e),component:"switch"},{key:"grid.vertical.size",text:L("grid_vertical_size",e),component:"select",dataSource:r},{key:"grid.vertical.color",text:L("grid_vertical_color",e),component:"color"},{key:"grid.vertical.style",text:L("grid_vertical_style",e),component:"select",dataSource:t},{key:"grid.vertical.dashedValue",text:L("grid_vertical_dashedValue",e),component:"select",dataSource:n}]},vz=e=>{const{solid_dashed:r,fill_stroke:t,size:n,font_size:i,font_weight:o,dashed_values:s}=Vl(e);return[{key:"crosshair.show",text:L("crosshair.show",e),component:"switch"},{key:"crosshair.horizontal.show",text:L("crosshair.horizontal.show",e),component:"switch"},{key:"crosshair.horizontal.line.show",text:L("crosshair.horizontal.line.show",e),component:"switch"},{key:"crosshair.horizontal.line.style",text:L("crosshair.horizontal.line.style",e),component:"select",dataSource:r},{key:"crosshair.horizontal.line.size",text:L("crosshair.horizontal.line.size",e),component:"select",dataSource:n},{key:"crosshair.horizontal.line.color",text:L("crosshair.horizontal.line.color",e),component:"color"},{key:"crosshair.horizontal.line.dashedValue",text:L("crosshair.horizontal.line.dashedValue",e),component:"select",dataSource:s},{key:"crosshair.horizontal.text.show",text:L("crosshair.horizontal.text.show",e),component:"switch"},{key:"crosshair.horizontal.text.style",text:L("crosshair.horizontal.text.style",e),component:"select",dataSource:t},{key:"crosshair.horizontal.text.size",text:L("crosshair.horizontal.text.size",e),component:"select",dataSource:i},{key:"crosshair.horizontal.text.weight",text:L("crosshair.horizontal.text.weight",e),component:"select",dataSource:o},{key:"crosshair.horizontal.text.color",text:L("crosshair.horizontal.text.color",e),component:"color"},{key:"crosshair.horizontal.text.backgroundColor",text:L("crosshair.horizontal.text.backgroundColor",e),component:"color"},{key:"crosshair.vertical.show",text:L("crosshair.vertical.show",e),component:"switch"},{key:"crosshair.vertical.line.show",text:L("crosshair.vertical.line.show",e),component:"switch"},{key:"crosshair.vertical.line.style",text:L("crosshair.vertical.line.style",e),component:"select",dataSource:r},{key:"crosshair.vertical.line.size",text:L("crosshair.vertical.line.size",e),component:"select",dataSource:n},{key:"crosshair.vertical.line.color",text:L("crosshair.vertical.line.color",e),component:"color"},{key:"crosshair.vertical.line.dashedValue",text:L("crosshair.vertical.line.dashedValue",e),component:"select",dataSource:s},{key:"crosshair.vertical.text.show",text:L("crosshair.vertical.text.show",e),component:"switch"},{key:"crosshair.vertical.text.style",text:L("crosshair.vertical.text.style",e),component:"select",dataSource:t},{key:"crosshair.vertical.text.size",text:L("crosshair.vertical.text.size",e),component:"select",dataSource:i},{key:"crosshair.vertical.text.weight",text:L("crosshair.vertical.text.weight",e),component:"select",dataSource:o},{key:"crosshair.vertical.text.color",text:L("crosshair.vertical.text.color",e),component:"color"},{key:"crosshair.vertical.text.backgroundColor",text:L("crosshair.vertical.text.backgroundColor",e),component:"color"}]},by=e=>{const{solid_dashed:r,fill_stroke:t,size:n,font_size:i,font_weight:o,font_family:s,dashed_values:u}=Vl(e);return[{key:"overlay.point.color",text:L("overlay.point.color",e),component:"color"},{key:"overlay.point.borderColor",text:L("overlay.point.borderColor",e),component:"color"},{key:"overlay.point.borderSize",text:L("overlay.point.borderSize",e),component:"select",dataSource:n},{key:"overlay.point.activeColor",text:L("overlay.point.activeColor",e),component:"color"},{key:"overlay.point.activeBorderColor",text:L("overlay.point.activeBorderColor",e),component:"color"},{key:"overlay.point.activeBorderSize",text:L("overlay.point.activeBorderSize",e),component:"select",dataSource:n},{key:"overlay.point.activeRadius",text:L("overlay.point.activeRadius",e),component:"select",dataSource:n},{key:"overlay.point.radius",text:L("overlay.point.radius",e),component:"select",dataSource:n},{key:"overlay.line.style",text:L("overlay.line.style",e),component:"select",dataSource:r},{key:"overlay.line.smooth",text:L("overlay.line.smooth",e),component:"switch"},{key:"overlay.line.size",text:L("overlay.line.size",e),component:"select",dataSource:n},{key:"overlay.line.color",text:L("overlay.line.color",e),component:"color"},{key:"overlay.line.dashedValue",text:L("overlay.line.dashedValue",e),component:"select",dataSource:u},{key:"overlay.rect.style",text:L("overlay.rect.style",e),component:"select",dataSource:t},{key:"overlay.rect.color",text:L("overlay.rect.color",e),component:"color"},{key:"overlay.rect.borderColor",text:L("overlay.rect.borderColor",e),component:"color"},{key:"overlay.rect.borderSize",text:L("overlay.rect.borderSize",e),component:"select",dataSource:n},{key:"overlay.rect.borderRadius",text:L("overlay.rect.borderRadius",e),component:"select",dataSource:n},{key:"overlay.rect.borderStyle",text:L("overlay.rect.borderStyle",e),component:"select",dataSource:r},{key:"overlay.polygon.style",text:L("Polygon Style",e),component:"select",dataSource:t},{key:"overlay.polygon.color",text:L("overlay.polygon.color",e),component:"color"},{key:"overlay.polygon.borderColor",text:L("overlay.polygon.borderColor",e),component:"color"},{key:"overlay.polygon.borderStyle",text:L("overlay.polygon.borderStyle",e),component:"select",dataSource:r},{key:"overlay.polygon.borderSize",text:L("overlay.polygon.borderSize",e),component:"select",dataSource:n},{key:"overlay.circle.style",text:L("overlay.circle.style",e),component:"select",dataSource:t},{key:"overlay.circle.color",text:L("overlay.circle.color",e),component:"color"},{key:"overlay.circle.borderStyle",text:L("overlay.circle.borderStyle",e),component:"select",dataSource:r},{key:"overlay.circle.borderSize",text:L("overlay.circle.borderSize",e),component:"select",dataSource:n},{key:"overlay.circle.borderColor",text:L("overlay.circle.borderColor",e),component:"color"},{key:"overlay.arc.style",text:L("overlay.arc.style",e),component:"select",dataSource:r},{key:"overlay.arc.size",text:L("overlay.arc.size",e),component:"select",dataSource:n},{key:"overlay.arc.color",text:L("overlay.arc.color",e),component:"color"},{key:"overlay.text.size",text:L("overlay.text.size",e),component:"select",dataSource:i},{key:"overlay.text.weight",text:L("overlay.text.weight",e),component:"select",dataSource:o},{key:"overlay.text.color",text:L("overlay.text.color",e),component:"color"},{key:"overlay.text.style",text:L("overlay.text.style",e),component:"select",dataSource:t},{key:"overlay.text.size",text:L("overlay.text.size",e),component:"select",dataSource:i},{key:"overlay.text.family",text:L("overlay.text.family",e),component:"select",dataSource:s},{key:"overlay.text.weight",text:L("overlay.text.weight",e),component:"select",dataSource:o},{key:"overlay.text.color",text:L("overlay.text.color",e),component:"color"},{key:"overlay.text.backgroundColor",text:L("overlay.text.backgroundColor",e),component:"color"},{key:"overlay.text.borderColor",text:L("overlay.text.borderColor",e),component:"color"},{key:"overlay.text.borderSize",text:L("overlay.text.borderSize",e),component:"select",dataSource:n},{key:"overlay.text.borderStyle",text:L("overlay.text.borderStyle",e),component:"select",dataSource:r},{key:"overlay.text.borderDashedValue",text:L("overlay.text.borderDashedValue",e),component:"select",dataSource:u},{key:"overlay.text.borderRadius",text:L("overlay.text.borderRadius",e),component:"select",dataSource:n},{key:"overlay.text.paddingLeft",text:L("overlay.text.paddingLeft",e),component:"select",dataSource:n},{key:"overlay.text.paddingRight",text:L("overlay.text.paddingRight",e),component:"select",dataSource:n},{key:"overlay.text.paddingTop",text:L("overlay.text.paddingTop",e),component:"select",dataSource:n},{key:"overlay.text.paddingBottom",text:L("overlay.text.paddingBottom",e),component:"select",dataSource:n}]},mz=e=>{const r=by(e),t={arc:[],circle:[],line:[],point:[],polygon:[],rect:[],text:[]};return r.forEach(n=>{const i=n.key.split(".")[1];t[i]||(t[i]=[]),t[i].push(n)}),t};function o2(e){const{size:r}=Vl(e);return[...py(e),...hz(e),...pz(e),...fz(e),...gz(e),...vz(e),...by(e),{key:"separator.size",text:L("separator.size",e),component:"select",dataSource:r},{key:"separator.color",text:L("separator.color",e),component:"color"},{key:"separator.fill",text:L("separator.fill",e),component:"switch"},{key:"separator.activeBackgroundColor",text:L("separator.activeBackgroundColor",e),component:"color"}]}const l2=e=>(Vl(e),[{key:"axis.position",text:L("pane.axis.position",e),component:"select",dataSource:[{key:"right",text:L("right",e)},{key:"left",text:L("left",e)}]},{key:"axis.inside",text:L("pane.axis.inside",e),component:"switch"},{key:"axis.reverse",text:L("pane.axis.reverse",e),component:"switch"},{key:"axis.scrollZoomEnabled",text:L("pane.axis.scrollZoomEnabled",e),component:"switch"},{key:"axis.gap.top",text:L("pane.axis.gap.top",e),component:"number",min:0,max:1,step:.1},{key:"axis.gap.bottom",text:L("pane.axis.gap.bottom",e),component:"number",min:0,max:1,step:.1},{key:"height",text:L("pane.height",e),component:"number",min:50,max:1e3,step:10},{key:"minHeight",text:L("pane.minHeight",e),component:"number",min:30,max:500,step:10},{key:"dragEnabled",text:L("pane.dragEnabled",e),component:"switch"},{key:"state",text:L("pane.state",e),component:"select",dataSource:[{key:"normal",text:L("pane.state.normal",e)},{key:"maximize",text:L("pane.state.maximize",e)},{key:"minimize",text:L("pane.state.minimize",e)}]}]);var yz=te("<div class=chartspire-ui-setting-modal-content><div><div class=sidebar-header></div></div><div>"),xz=te("<button>"),s2=te("<div class=component><span>");const Cz=e=>{const[r,t]=ye(e.currentStyles),[n,i]=ye(o2(e.locale)),[o,s]=ye(l2(e.locale)),u=()=>{const A=e.widget.getPaneOptions("candle_pane");return A===null?{}:Array.isArray(A)?A.length>0?A[0]:{}:A||{}},[d,h]=ye(u()),[p,v]=ye("candle"),[m,C]=ye(!1),b=()=>{window.innerWidth<=768&&C(!0)};nt(()=>(b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b))),nt(()=>{i(o2(e.locale)),s(l2(e.locale)),h(u())});const w=(A,P)=>{const $={};C1($,A.key,P);const D=hn.clone(r());C1(D,A.key,P),t(D),e.onChange($)},_=(A,P)=>{const $={id:"candle_pane"};C1($,A.key,P);const D=hn.clone(d());C1(D,A.key,P),h(D),e.widget.setPaneOptions($),e.onPaneOptionsChange()},S=()=>{e.onRestoreDefault(n()),e.onClose()},M=[{text:"Candle",key:"candle"},{text:"Indicator",key:"indicator"},{text:"Grid",key:"grid"},{text:"X-axis",key:"xAxis"},{text:"Y-axis",key:"yAxis"},{text:"Separator",key:"separator"},{text:"Crosshair",key:"crosshair"},{text:"Overlay",key:"overlay"},{text:"Pane Options",key:"paneOptions"}],I=(A,P,$=!1)=>{const D=$?_:w,z=typeof P=="function"?P():P;switch(A.component){case"select":return ae(D1,{style:{width:"120px"},get value(){return L(z,e.locale)},get dataSource(){return A.dataSource},onSelected:V=>{const W=V.key;D(A,W)}});case"switch":{const V=z==="--"?!1:!!z;return ae(eE,{open:V,onChange:()=>{D(A,!V)}})}case"color":return ae(nv,{style:{width:"120px"},value:z,onChange:V=>{D(A,V)}});case"number":return ae($o,{style:{width:"120px"},get precision(){return Le(()=>!!A.step)()?Math.max(0,-Math.floor(Math.log10(A.step))):0},get min(){return A.min},get max(){return A.max},value:z||0,onChange:V=>{D(A,V)}})}};return ae(zl,{get title(){return L("setting",e.locale)},width:700,contentHeight:void 0,padding:"0 10px",get buttons(){return[{children:L("restore_default",e.locale),onClick:()=>{S()}}]},get onClose(){return e.onClose},get children(){var A=yz(),P=A.firstChild,$=P.firstChild,D=P.nextSibling;return N($,ae(av,{get isExpanded(){return!m()},onClick:()=>C(!m()),get ariaLabel(){return Le(()=>!!m())()?L("sidebar.expand",e.locale):L("sidebar.collapse",e.locale)},className:"sidebar-toggle",startingDirection:"left"})),N(P,()=>M.map(z=>(()=>{var V=xz();return V.$$click=()=>v(z.key),N(V,(()=>{var W=Le(()=>!!m());return()=>W()?z.text.charAt(0):z.text})()),ze(W=>{var Q=`${p()===z.key?"selected":""}`,se=m()?z.text:"";return Q!==W.e&&Nt(V,W.e=Q),se!==W.t&&$e(V,"title",W.t=se),W},{e:void 0,t:void 0}),V})()),null),N(D,(()=>{var z=Le(()=>p()!=="paneOptions");return()=>z()&&ae(Zn,{get each(){return n().filter(V=>V.key.includes(p()))},children:V=>(()=>{var W=s2(),Q=W.firstChild;return N(Q,()=>V.text),N(W,()=>I(V,()=>hn.formatValue(r(),V.key),!1),null),W})()})})(),null),N(D,(()=>{var z=Le(()=>p()==="paneOptions");return()=>z()&&ae(Zn,{get each(){return o()},children:V=>(()=>{var W=s2(),Q=W.firstChild;return N(Q,()=>V.text),N(W,()=>I(V,()=>dz(d(),V.key),!0),null),W})()})})(),null),ze(z=>{var V=`sidebar ${m()?"collapsed":""}`,W=`content ${m()?"expanded":""}`;return V!==z.e&&Nt(P,z.e=V),W!==z.t&&Nt(D,z.t=W),z},{e:void 0,t:void 0}),A}})};yr(["click"]);var bz=te("<div class=chartspire-ui-interval-container>"),wz=te("<span>");const _z=e=>{const[r,t]=ye(Ue.ONE_DAY),n=[Ue.ONE_DAY,Ue.FIVE_DAY,Ue.ONE_MONTH,Ue.THREE_MONTH,Ue.SIX_MONTH,Ue.ONE_YEAR,Ue.FIVE_YEAR],i=()=>{var o;const s=(o=e.widget)==null?void 0:o.getSize();let u={[Ue.ONE_DAY]:1440,[Ue.FIVE_DAY]:1440,[Ue.ONE_MONTH]:1440,[Ue.THREE_MONTH]:1440,[Ue.SIX_MONTH]:2016,[Ue.ONE_YEAR]:365,[Ue.FIVE_YEAR]:260}[r()];e.ticker.type===Ct.STOCKS&&(u={[Ue.ONE_DAY]:390,[Ue.FIVE_DAY]:390,[Ue.ONE_MONTH]:273,[Ue.THREE_MONTH]:390,[Ue.SIX_MONTH]:390,[Ue.ONE_YEAR]:252,[Ue.FIVE_YEAR]:252}[r()]);const d=Math.min(Math.max(((s==null?void 0:s.width)??0)/u,1),50);e.widget.setBarSpace(d);let h={multiplier:u,timespan:un.DAY,text:Ue.ONE_DAY};r()===Ue.ONE_DAY?h={multiplier:1,timespan:un.MINUTE,text:Ue.ONE_MIN}:r()===Ue.FIVE_DAY?h={multiplier:5,timespan:un.MINUTE,text:Ue.FIVE_MIN}:r()===Ue.ONE_MONTH?h={multiplier:1,timespan:un.MINUTE,text:Ue.THIRTY_MIN}:r()===Ue.THREE_MONTH?h={multiplier:1,timespan:un.HOUR,text:Ue.ONE_HOUR}:r()===Ue.SIX_MONTH?h={multiplier:2,timespan:un.HOUR,text:Ue.TWO_HOUR}:r()===Ue.ONE_YEAR?h={multiplier:1,timespan:un.DAY,text:Ue.ONE_DAY}:r()===Ue.FIVE_YEAR&&(h={multiplier:1,timespan:un.WEEK,text:Ue.ONE_WEEK}),e.widget.setOffsetRightDistance(0),e.setInterval(h)};return(()=>{var o=bz();return N(o,()=>n.map(s=>(()=>{var u=wz();return u.$$click=()=>{console.log("interval clicked",s),t(s),i()},N(u,s),ze(()=>Nt(u,`interval-buttons ${s===r()?"selected":""}`)),u})())),o})()};yr(["click"]);var kz=te("<div class=chartspire-ui-layout-selector><select></select><span class=button>+</span><span class=button>-"),Sz=te("<option>"),Mz=te('<div class=edit-layout><span class=edit-button><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z">'),Ez=te('<div class=edit-layout-form><span class=confirm-button><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></svg></span><span class=cancel-button>X');const Tz=e=>{const[r,t]=ye([]),[n,i]=ye(null),[o,s]=ye("");nt(()=>{e.allLayouts&&t([...new Set(e.allLayouts)])});const u=m=>{e.onLayoutChange(m)},d=()=>{if(r().length>=e.layoutLimit+1){alert("You can only have a maximum of "+e.layoutLimit.toString()+" layouts.");return}const m=`Layout${r().length+1}`;if(r().includes(m)){alert("A layout with this name already exists.");return}t([...r(),m]),e.setAllLayouts([...r(),m]),u(m)},h=()=>{if(e.layout===ut.getInstance(e.widget).getDefaultLayout()||!window.confirm("Are you sure you want to delete this layout?"))return;ut.getInstance(e.widget).removeStorage();const m=r().filter(C=>C!==e.layout);t(m),e.setAllLayouts(m),m.length>0?u(m[0]):u(""),i(null)},p=()=>{if(e.layout===ut.getInstance(e.widget).getDefaultLayout())return;const m=r().find(C=>C===e.layout);m&&(i(m),s(m))},v=async()=>{if(e.layout===ut.getInstance(e.widget).getDefaultLayout())return;const m=r().map(C=>C===n()?o():C);t(m),i(null),await ut.getInstance(e.widget).updateLayoutName(o()),e.setAllLayouts(m),u(o())};return(()=>{var m=kz(),C=m.firstChild,b=C.nextSibling,w=b.nextSibling;return C.addEventListener("change",_=>{e.layout===ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(e.widget).removeAllOverlays();const S=_.target.value;u(S)}),N(C,ae(Zn,{get each(){return r()},children:_=>(()=>{var S=Sz();return S.value=_,N(S,_),ze(()=>S.selected=_===e.layout),S})()})),b.$$click=d,w.$$click=h,N(m,(()=>{var _=Le(()=>!!e.layout);return()=>_()&&(()=>{var S=Mz(),M=S.firstChild;return M.$$click=p,N(S,(()=>{var I=Le(()=>n()===e.layout);return()=>I()&&(()=>{var A=Ez(),P=A.firstChild,$=P.nextSibling;return N(A,ae($o,{class:"layout-input",get value(){return o()},onChange:D=>{s(D)}}),P),P.$$click=v,$.$$click=()=>i(null),A})()})(),null),S})()})(),null),ze(()=>C.value=e.layout),m})()};yr(["click"]);const Iz={builtInThemes:["Light Theme 1","Light Theme 2","Midnight Theme","Dark Theme","Dark Gray Theme","Blue Theme","Red Theme","Green Theme","Yellow Theme","Pink Theme"],customThemes:[],allowCustomThemes:!0};class Lz{constructor(){De(this,"storageKey","chartspire-custom-themes")}save(r){try{localStorage.setItem(this.storageKey,JSON.stringify(r))}catch(t){console.warn("Failed to save custom themes to localStorage:",t)}}load(){try{const r=localStorage.getItem(this.storageKey);if(r)return JSON.parse(r)}catch(r){console.warn("Failed to load custom themes from localStorage:",r)}return null}}const Pz=async()=>null;class Az{constructor(r=!1){De(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}save(r){this.log("[ExternalThemeStorageProvider] Saving custom themes via callback"),this.log("[ExternalThemeStorageProvider] Themes to save:",r),this.log("[ExternalThemeStorageProvider] Themes count:",r.length),this.logWarn("[ExternalThemeStorageProvider] No save callback registered, themes not saved")}load(){return this.log("[ExternalThemeStorageProvider] Load called - use loadAsync() for external storage"),null}async loadAsync(){try{this.log("[ExternalThemeStorageProvider] Loading custom themes via callback");const r=await Pz();return r&&r.length>0?(this.log("[ExternalThemeStorageProvider] Custom themes loaded successfully"),r):(this.log("[ExternalThemeStorageProvider] No custom themes found"),[])}catch(r){return console.error("[ExternalThemeStorageProvider] Error loading custom themes:",r),null}}}const wy=class Sd{constructor(r=!1){De(this,"themeConfig"),De(this,"customStyleElement",null),De(this,"storageProvider"),De(this,"useExternalStorage"),this.themeConfig={...Iz},this.useExternalStorage=r,this.storageProvider=r?new Az:new Lz,this.loadCustomThemes()}static getInstance(r=!1){return Sd.instance||(Sd.instance=new Sd(r)),Sd.instance}static async initializeAsync(r=!1){const t=Sd.getInstance(r);return r&&t.isExternalStorageProvider(t.storageProvider)&&await t.loadCustomThemesAsync(),t}isUsingExternalStorage(){return this.useExternalStorage}isExternalStorageProvider(r){return"loadAsync"in r&&typeof r.loadAsync=="function"}setThemeConfig(r){this.themeConfig={...this.themeConfig,...r},this.saveCustomThemes(),this.updateCustomThemeStyles()}addCustomTheme(r){const t=this.themeConfig.customThemes.findIndex(n=>n.name===r.name);t>=0?this.themeConfig.customThemes[t]=r:this.themeConfig.customThemes.push(r),this.saveCustomThemes(),this.updateCustomThemeStyles()}removeCustomTheme(r){this.themeConfig.customThemes=this.themeConfig.customThemes.filter(t=>t.name!==r),this.saveCustomThemes(),this.updateCustomThemeStyles()}getAllThemes(){const r=this.themeConfig.customThemes.map(t=>t.displayName);return[...this.themeConfig.builtInThemes,...r]}getCustomThemes(){return this.themeConfig.customThemes}areCustomThemesAllowed(){return this.themeConfig.allowCustomThemes}isCustomTheme(r){return this.themeConfig.customThemes.some(t=>t.displayName===r||t.name===r)}getCustomTheme(r){return this.themeConfig.customThemes.find(t=>t.displayName===r||t.name===r)}loadCustomThemes(){const r=this.storageProvider.load();r&&(this.themeConfig.customThemes=r,this.updateCustomThemeStyles())}async loadCustomThemesAsync(){if(this.isExternalStorageProvider(this.storageProvider)){const r=await this.storageProvider.loadAsync();r&&(this.themeConfig.customThemes=r,this.updateCustomThemeStyles())}}saveCustomThemes(){this.storageProvider.save(this.themeConfig.customThemes)}updateCustomThemeStyles(){if(this.customStyleElement&&this.customStyleElement.remove(),this.themeConfig.customThemes.length>0){this.customStyleElement=document.createElement("style"),this.customStyleElement.id="chartspire-custom-themes";let r="";for(const t of this.themeConfig.customThemes)r+=this.generateThemeCSS(t);this.customStyleElement.textContent=r,document.head.appendChild(this.customStyleElement)}}generateThemeCSS(r){const t=r.colors;return`
.chartspire-ui[data-theme="${r.name}"] {
	--chartspire-ui-primary-color: ${t.primaryColor};
	--chartspire-ui-selected-color: ${t.selectedColor};
	--chartspire-ui-hover-background-color: ${t.hoverBackgroundColor};
	--chartspire-ui-background-color: ${t.backgroundColor};
	--chartspire-ui-popover-background-color: ${t.popoverBackgroundColor};
	--chartspire-ui-text-color: ${t.textColor};
	--chartspire-ui-text-second-color: ${t.textSecondColor};
	--chartspire-ui-border-color: ${t.borderColor};
}
`}importThemes(r){try{const t=JSON.parse(r);for(const n of t)this.addCustomTheme(n)}catch{throw new Error("Invalid theme JSON format")}}exportThemes(){return JSON.stringify(this.themeConfig.customThemes,null,2)}};De(wy,"instance");let c2=wy;var Dz=te("<div class=import-section><label></label><textarea rows=4></textarea><div class=import-buttons><button></button><button>"),Fz=te("<div class=custom-themes-list><h5>"),Oz=te("<div class=custom-theme-creator><div class=creator-header><h4></h4><button class=close-btn></button></div><div class=theme-form><div class=form-group><label></label><input type=text></div><div class=color-inputs></div><div class=action-buttons><button class=create-btn></button><button class=import-btn></button><button class=export-btn>"),Rz=te('<div class=chartspire-ui-theme-selector><div class=theme-selector-header><svg viewBox="2 2 20 20"><path d="M12 2.75C6.89321 2.75 2.75 6.90121 2.75 12.0261C2.75 16.7885 6.32861 20.7112 10.9326 21.2412C11.395 21.2944 11.89 21.1004 12.2858 20.7036C12.6473 20.3412 12.6473 19.7528 12.2858 19.3904C11.9739 19.0776 11.6611 18.6609 11.4899 18.1872C11.3146 17.702 11.2713 17.0933 11.627 16.5276C11.9499 16.014 12.4341 15.739 12.9421 15.6053C13.4313 15.4766 13.9734 15.4693 14.494 15.5009C14.978 15.5303 15.4991 15.5978 16.0045 15.6633C16.0471 15.6689 16.0896 15.6744 16.132 15.6798C16.6889 15.7517 17.2328 15.8188 17.7581 15.8439C18.8324 15.8954 19.6599 15.76 20.2254 15.2976C20.7667 14.8552 21.25 13.9568 21.25 12.0261C21.25 6.90121 17.1068 2.75 12 2.75ZM1.25 12.0261C1.25 6.07647 6.0611 1.25 12 1.25C17.9389 1.25 22.75 6.07647 22.75 12.0261C22.75 14.1713 22.2132 15.6101 21.1748 16.459C20.1608 17.2879 18.8495 17.398 17.6863 17.3422C17.0929 17.3138 16.4934 17.239 15.9399 17.1675C15.901 17.1625 15.8625 17.1575 15.8241 17.1525C15.3046 17.0853 14.8335 17.0243 14.4032 16.9982C13.937 16.9699 13.5828 16.9878 13.3239 17.0559C13.0837 17.1191 12.968 17.2127 12.8968 17.326C12.858 17.3877 12.8307 17.4837 12.9007 17.6775C12.9749 17.8829 13.1368 18.1195 13.3478 18.3311C14.2933 19.279 14.2933 20.815 13.3478 21.7629C12.6976 22.4148 11.7682 22.8473 10.761 22.7314C5.40565 22.1148 1.25 17.5562 1.25 12.0261ZM9.585 6.24977C9.17079 6.24977 8.835 6.58556 8.835 6.99977C8.835 7.41399 9.17079 7.74977 9.585 7.74977C9.99922 7.74977 10.335 7.41399 10.335 6.99977C10.335 6.58556 9.99922 6.24977 9.585 6.24977ZM7.335 6.99977C7.335 5.75713 8.34236 4.74977 9.585 4.74977C10.8276 4.74977 11.835 5.75713 11.835 6.99977C11.835 8.24241 10.8276 9.24977 9.585 9.24977C8.34236 9.24977 7.335 8.24241 7.335 6.99977ZM14.5 6.25C14.0858 6.25 13.75 6.58579 13.75 7C13.75 7.41421 14.0858 7.75 14.5 7.75C14.9142 7.75 15.25 7.41421 15.25 7C15.25 6.58579 14.9142 6.25 14.5 6.25ZM12.25 7C12.25 5.75736 13.2574 4.75 14.5 4.75C15.7426 4.75 16.75 5.75736 16.75 7C16.75 8.24264 15.7426 9.25 14.5 9.25C13.2574 9.25 12.25 8.24264 12.25 7ZM6.5 10.75C6.08579 10.75 5.75 11.0858 5.75 11.5C5.75 11.9142 6.08579 12.25 6.5 12.25C6.91421 12.25 7.25 11.9142 7.25 11.5C7.25 11.0858 6.91421 10.75 6.5 10.75ZM4.25 11.5C4.25 10.2574 5.25736 9.25 6.5 9.25C7.74264 9.25 8.75 10.2574 8.75 11.5C8.75 12.7426 7.74264 13.75 6.5 13.75C5.25736 13.75 4.25 12.7426 4.25 11.5ZM17.5 10.75C17.0858 10.75 16.75 11.0858 16.75 11.5C16.75 11.9142 17.0858 12.25 17.5 12.25C17.9142 12.25 18.25 11.9142 18.25 11.5C18.25 11.0858 17.9142 10.75 17.5 10.75ZM15.25 11.5C15.25 10.2574 16.2574 9.25 17.5 9.25C18.7426 9.25 19.75 10.2574 19.75 11.5C19.75 12.7426 18.7426 13.75 17.5 13.75C16.2574 13.75 15.25 12.7426 15.25 11.5Z"></path></svg><select></select><button class=custom-theme-toggle>+'),Nz=te("<option>"),zz=te("<div class=form-group><label><span class=field-description></span></label><div class=color-input-group><input type=color><input type=text>"),Vz=te("<div class=theme-item><span class=theme-name></span><div class=theme-actions><button class=edit-btn></button><button class=delete-btn>");const Bz=e=>{const[r,t]=ye([]),[n,i]=ye([]),[o,s]=ye(!1),[u,d]=ye({left:0,bottom:60}),[h,p]=ye(""),[v,m]=ye(null),[C,b]=ye({primaryColor:"#1677ff",selectedColor:"rgba(22, 119, 255, 0.15)",hoverBackgroundColor:"rgba(22, 119, 255, 0.15)",backgroundColor:"#ffffff",popoverBackgroundColor:"#ffffff",textColor:"#051441",textSecondColor:"#76808f",borderColor:"#ebedf1"}),[w,_]=ye(!1),[S,M]=ye("");localStorage.getItem(Mv);const I=c2.getInstance(e.themeUseExternalStorage??!1),A=()=>{const J=I.getAllThemes(),le=I.getCustomThemes(),j=J.map(q=>I.isCustomTheme(q)?q:L(q,e.locale));t(j),i([...le])};Bi(async()=>{if(A(),e.themeUseExternalStorage){await new Promise(J=>setTimeout(J,1e3));try{await c2.initializeAsync(!0),A()}catch(J){console.error("[ThemeSelector] Failed to initialize external theme storage: ",J)}}});const P=J=>{console.log("[ThemeSelector] handleThemeChange called with:",J);let le=J;const j=["Light Theme 1","Light Theme 2","Midnight Theme","Dark Theme","Dark Gray Theme","Blue Theme","Red Theme","Green Theme","Yellow Theme","Pink Theme"];for(const q of j)if(L(q,e.locale)===J){le=q;break}if(I.isCustomTheme(J)){const q=I.getCustomTheme(J);q&&(le=q.name)}console.log("[ThemeSelector] Setting theme to:",le),e.setTheme(le)},$=[{key:"primaryColor",label:"Primary Color",description:"Main accent color for buttons and highlights"},{key:"selectedColor",label:"Selected Color",description:"Color for selected items and active states"},{key:"hoverBackgroundColor",label:"Hover Background",description:"Background color when hovering over elements"},{key:"backgroundColor",label:"Background Color",description:"Main background color of the interface"},{key:"popoverBackgroundColor",label:"Popover Background",description:"Background color for dropdowns and modals"},{key:"textColor",label:"Text Color",description:"Primary text color"},{key:"textSecondColor",label:"Secondary Text",description:"Color for secondary text and labels"},{key:"borderColor",label:"Border Color",description:"Color for borders and dividers"}],D=(J,le)=>{b(j=>({...j,[J]:le}))},z=()=>{if(!h().trim()){alert(L("Please enter a theme name",e.locale));return}const J={name:h().trim(),displayName:h().trim(),colors:C()};try{I.addCustomTheme(J),A(),V();const le=v()?L("Theme updated successfully!",e.locale):L("Theme created successfully!",e.locale);alert(le),s(!1)}catch{const le=v()?L("Failed to update theme",e.locale):L("Failed to create theme",e.locale);alert(le)}},V=()=>{p(""),m(null),b({primaryColor:"#1677ff",selectedColor:"rgba(22, 119, 255, 0.15)",hoverBackgroundColor:"rgba(22, 119, 255, 0.15)",backgroundColor:"#ffffff",popoverBackgroundColor:"#ffffff",textColor:"#051441",textSecondColor:"#76808f",borderColor:"#ebedf1"})},W=J=>{m(J),p(J.displayName),b(J.colors),s(!0)},Q=()=>{try{I.importThemes(S()),M(""),_(!1),A(),alert(L("Themes imported successfully!",e.locale))}catch{alert(L("Invalid theme JSON format",e.locale))}},se=()=>{const J=I.exportThemes();navigator.clipboard.writeText(J).then(()=>{alert(L("Themes exported to clipboard!",e.locale))}).catch(()=>{const le=document.createElement("textarea");le.value=J,document.body.appendChild(le),le.select(),document.execCommand("copy"),document.body.removeChild(le),alert(L("Themes exported to clipboard!",e.locale))})},X=J=>{confirm(L(`Are you sure you want to delete the theme "${J}"?`,e.locale))&&(I.removeCustomTheme(J),A(),alert(L("Theme deleted successfully!",e.locale)))};return(()=>{var J=Rz(),le=J.firstChild,j=le.firstChild,q=j.nextSibling,Z=q.nextSibling;return q.addEventListener("change",re=>P(re.currentTarget.value)),N(q,ae(Zn,{get each(){return r()},children:re=>(()=>{var ee=Nz();return ee.value=re,N(ee,re,null),N(ee,()=>I.isCustomTheme(re)?" (Custom)":"",null),ze(()=>ee.selected=re===e.theme),ee})()})),Z.$$click=re=>{if(!o()){const ee=re.currentTarget.getBoundingClientRect();d({left:ee.left,bottom:window.innerHeight-ee.top+8})}s(!o())},N(J,ae(Ke,{get when(){return o()},get children(){var re=Oz(),ee=re.firstChild,H=ee.firstChild,B=H.nextSibling,he=ee.nextSibling,Ce=he.firstChild,be=Ce.firstChild,xe=be.nextSibling,Ve=Ce.nextSibling,Re=Ve.nextSibling,Ae=Re.firstChild,ve=Ae.nextSibling,Te=ve.nextSibling;return N(H,(()=>{var Ne=Le(()=>!!v());return()=>Ne()?L("Edit Custom Theme",e.locale):L("Create Custom Theme",e.locale)})()),B.$$click=()=>{V(),s(!1)},N(be,()=>L("Theme Name",e.locale)),xe.$$input=Ne=>p(Ne.currentTarget.value),N(Ve,ae(Zn,{each:$,children:Ne=>(()=>{var tt=zz(),Ge=tt.firstChild,gt=Ge.firstChild,vt=Ge.nextSibling,mt=vt.firstChild,nr=mt.nextSibling;return N(Ge,()=>L(Ne.label,e.locale),gt),N(gt,()=>L(Ne.description,e.locale)),mt.$$input=cr=>D(Ne.key,cr.currentTarget.value),nr.$$input=cr=>D(Ne.key,cr.currentTarget.value),ze(()=>$e(nr,"placeholder",L("Color value (hex, rgb, rgba)",e.locale))),ze(()=>mt.value=C()[Ne.key].startsWith("rgba")?"#1677ff":C()[Ne.key]),ze(()=>nr.value=C()[Ne.key]),tt})()})),Ae.$$click=z,N(Ae,(()=>{var Ne=Le(()=>!!v());return()=>Ne()?L("Update Theme",e.locale):L("Create Theme",e.locale)})()),ve.$$click=()=>_(!w()),N(ve,()=>L("Import",e.locale)),Te.$$click=se,N(Te,()=>L("Export",e.locale)),N(he,ae(Ke,{get when(){return w()},get children(){var Ne=Dz(),tt=Ne.firstChild,Ge=tt.nextSibling,gt=Ge.nextSibling,vt=gt.firstChild,mt=vt.nextSibling;return N(tt,()=>L("Paste Theme JSON",e.locale)),Ge.$$input=nr=>M(nr.currentTarget.value),vt.$$click=Q,N(vt,()=>L("Import",e.locale)),mt.$$click=()=>_(!1),N(mt,()=>L("Cancel",e.locale)),ze(()=>$e(Ge,"placeholder",L("Paste your theme JSON here...",e.locale))),ze(()=>Ge.value=S()),Ne}}),null),N(he,ae(Ke,{get when(){return n().length>0},get children(){var Ne=Fz(),tt=Ne.firstChild;return N(tt,()=>L("Custom Themes",e.locale)),N(Ne,ae(Zn,{get each(){return n()},children:Ge=>(()=>{var gt=Vz(),vt=gt.firstChild,mt=vt.nextSibling,nr=mt.firstChild,cr=nr.nextSibling;return N(vt,()=>Ge.displayName),nr.$$click=()=>W(Ge),N(nr,()=>L("Edit",e.locale)),cr.$$click=()=>X(Ge.name),N(cr,()=>L("Delete",e.locale)),gt})()}),null),Ne}}),null),ze(Ne=>{var tt=`${u().left}px`,Ge=`${u().bottom}px`,gt=L("Enter theme name",e.locale);return tt!==Ne.e&&((Ne.e=tt)!=null?re.style.setProperty("left",tt):re.style.removeProperty("left")),Ge!==Ne.t&&((Ne.t=Ge)!=null?re.style.setProperty("bottom",Ge):re.style.removeProperty("bottom")),gt!==Ne.a&&$e(xe,"placeholder",Ne.a=gt),Ne},{e:void 0,t:void 0,a:void 0}),ze(()=>xe.value=h()),re}}),null),ze(()=>$e(Z,"title",L("Create Custom Theme",e.locale))),ze(()=>q.value=e.theme?I.isCustomTheme(e.theme)?e.theme:L(e.theme,e.locale):L("Light Theme 1",e.locale)),J})()};yr(["click","input"]);var $z=te("<div class=chartspire-ui-bottom-bar>");const Wz=e=>(()=>{var r=$z();return aa(t=>{},r),N(r,ae(_z,{get widget(){return e.widget},get ticker(){return e.ticker},get setInterval(){return e.setInterval}}),null),N(r,ae(Tz,{get widget(){return e.widget},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get onLayoutChange(){return e.onLayoutChange},get layoutLimit(){return e.layoutLimit}}),null),N(r,ae(Bz,{get widget(){return e.widget},get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}}),null),r})(),qt={color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},kn={style:"fill",color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderSize:0,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"rgba(22, 119, 255)"},wv={style:"fill",color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},Bc={style:"fill",color:"rgba(22, 119, 255)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},Sn={...wv,borderRadius:2,color:"rgba(22, 119, 255, 0.1)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2],paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2},_v={style:"solid",color:"#1677FF",size:1,dashedValue:[2,2]},_r={..._v,smooth:!1};function Uz(){return{point:qt}}function Hz(){return{line:_r,point:qt}}function Yz(){return{line:_r,point:qt}}function Xz(){return{line:_r,point:qt}}function jz(){return{line:_r,point:qt}}function Zz(){return{line:_r,point:qt}}function Gz(){return{line:_r,point:qt}}function qz(){return{line:_r,point:qt}}function Kz(){return{line:_r,point:qt}}function Qz(){return{line:_r,point:qt}}function Jz(){return{line:_r,text:kn,point:qt}}function eV(){return{line:_r,point:qt}}function tV(){return{polygon:Bc,point:qt}}function rV(){return{polygon:Bc,point:qt}}function nV(){return{circle:wv,point:qt}}function iV(){return{arc:_v,point:qt}}function aV(){return{text:kn}}function oV(){return{line:_r,rect:Sn,point:qt}}function lV(){return{line:_r,rect:Sn,point:qt}}function sV(){return{line:_r,text:kn,polygon:Bc}}function cV(){return{text:kn,line:_r,polygon:Bc}}function uV(){return{polygon:Bc,rect:Sn,point:qt}}function dV(){return{point:qt,rect:Sn,polygon:Bc}}function hV(){return{line:_r,rect:Sn,text:kn,point:qt}}function pV(){return{line:_r,rect:Sn,text:kn,point:qt}}function fV(){return{circle:wv,rect:Sn,text:kn,point:qt}}function gV(){return{line:_r,rect:Sn,text:kn,arc:_v,point:qt}}function vV(){return{line:_r,rect:Sn,text:kn,point:qt}}function mV(){return{line:_r,rect:Sn,text:kn,point:qt}}function yV(){return{line:_r,rect:Sn,text:kn,point:qt}}function xV(){return{line:_r,rect:Sn,text:kn,point:qt}}function CV(){return{line:_r,rect:Sn,text:kn,point:qt}}function bV(){return{line:_r,rect:Sn,text:kn,point:qt}}function wV(){return{line:_r,rect:Sn,text:kn,point:qt}}function _V(){return{line:_r,rect:Sn,text:kn,point:qt}}function kV(){return{line:_r,rect:Sn,text:kn,point:qt}}function SV(){return{line:_r,rect:Sn,text:kn,point:qt,polygon:Bc}}function MV(){return{rect:Sn,text:kn,point:qt}}const hg={pointStyle:()=>Je.cloneDeep(Uz()),horizontalStraightLineStyle:()=>Je.cloneDeep(Hz()),horizontalRayLineStyle:()=>Je.cloneDeep(Xz()),horizontalSegmentStyle:()=>Je.cloneDeep(Yz()),verticalStraightLineStyle:()=>Je.cloneDeep(Gz()),verticalRayLineStyle:()=>Je.cloneDeep(jz()),verticalSegmentStyle:()=>Je.cloneDeep(Zz()),straightLineStyle:()=>Je.cloneDeep(eV()),rayLineStyle:()=>Je.cloneDeep(qz()),segmentStyle:()=>Je.cloneDeep(Kz()),arrowStyle:()=>Je.cloneDeep(Qz()),priceLineStyle:()=>Je.cloneDeep(Jz()),rectStyle:()=>Je.cloneDeep(tV()),polygonStyle:()=>Je.cloneDeep(rV()),circleStyle:()=>Je.cloneDeep(nV()),arcStyle:()=>Je.cloneDeep(iV()),textStyle:()=>Je.cloneDeep(aV()),priceChannelLineStyle:()=>Je.cloneDeep(oV()),simpleTagStyle:()=>Je.cloneDeep(sV()),simpleAnnotationStyle:()=>Je.cloneDeep(cV()),parallelStraightLineStyle:()=>Je.cloneDeep(lV()),parallelogramStyle:()=>Je.cloneDeep(uV()),triangleStyle:()=>Je.cloneDeep(dV()),fibonacciSpiralStyle:()=>Je.cloneDeep(gV()),fibonacciCircleStyle:()=>Je.cloneDeep(fV()),fibonacciExtensionStyle:()=>Je.cloneDeep(vV()),fibonacciLineStyle:()=>Je.cloneDeep(hV()),fibonacciSegmentStyle:()=>Je.cloneDeep(pV()),fibonacciSpeedResistanceFanStyle:()=>Je.cloneDeep(mV()),gannBoxStyle:()=>Je.cloneDeep(yV()),abcdStyle:()=>Je.cloneDeep(CV()),anyWavesStyle:()=>Je.cloneDeep(kV()),eightWavesStyle:()=>Je.cloneDeep(_V()),fiveWavesStyle:()=>Je.cloneDeep(wV()),threeWavesStyle:()=>Je.cloneDeep(bV()),xabcdStyle:()=>Je.cloneDeep(xV()),rulerStyle:()=>Je.cloneDeep(SV()),rrStyle:()=>Je.cloneDeep(MV())};var EV=te("<div class=overlay-type>Text"),TV=te("<div class=component><span>Label Text"),IV=te("<div class=chartspire-ui-overlay-setting-modal-content><div class=content>"),LV=te("<div class=overlay-type>"),PV=te("<div>"),AV=te("<div class=component><span>");const _y=e=>{let r=e.overlay.styles?e.overlay.styles:hg[`${e.overlay.name}Style`]();(e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation")&&(r=hg[`${e.overlay.name}Style`]());const t=mz(e.locale);let n=[],i=[];r&&(n=Object.keys(t),i=Object.keys(r));const o=d=>{const[h,p,v]=d.split(".");if(r&&r[p]&&r&&r[p][v]!==void 0)return r[p][v];{const m=hg[`${e.overlay.name}Style`]();if(m&&m[p]&&m[p][v]!==void 0)return m[p][v]}},s=(d,h,p)=>{const v=d.key.split(".")[2];r[p][v]=h,(m=>{const C=Je.cloneDeep(m),[b,w,_]=d.key.split("."),S=w?`${w}.${_}`:`${w}.${_}`;w?Je.set(C,S,h):Je.set(C,`${d.key}`,h);const M={id:e.overlay.id,styles:C};if(e.widget.overrideOverlay(M),ut.getInstance(e.widget).overrideOverlay(M),e.chartId){const I=P1(),A={...e.overlay,styles:C};I.onOverlayUpdated(e.chartId,A)}return C})(r)},u=d=>{const h=typeof d=="number"?String(d):d,p={id:e.overlay.id,extendData:h};if(e.widget.overrideOverlay(p),ut.getInstance(e.widget).overrideOverlay(p),e.chartId){const v=P1(),m={...e.overlay,extendData:h};v.onOverlayUpdated(e.chartId,m)}(e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation")&&k1(e.overlay)};return ae(zl,{get title(){return`Style ${e.overlay.name}`},width:360,contentHeight:"90%",onClose:()=>{e.setOverlayVisible(!1),e.setShowOverlaySetting(!1)},get children(){var d=IV(),h=d.firstChild;return N(h,ae(Ke,{get when(){return e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation"},get children(){return[EV(),(()=>{var p=TV();return p.firstChild,N(p,ae($o,{style:{width:"120px"},get value(){return typeof e.overlay.extendData=="string"?e.overlay.extendData:""},onChange:v=>{u(v)}}),null),p})()]}}),null),N(h,ae(Zn,{each:i,children:p=>{if(n.includes(p))return[(()=>{var v=LV();return N(v,p),v})(),ae(Zn,{get each(){return t[p]},children:v=>{let m;const C=o(v.key);if(C!==void 0){switch(v.component){case"select":{m=ae(D1,{style:{width:"120px"},get value(){return L(C,e.locale)},get dataSource(){return v.dataSource},onSelected:b=>{const w=b.key;s(v,w,p)}});break}case"input":{m=[ae(Ke,{get when(){return Je.isArray(C)},get children(){var b=PV();return b.style.setProperty("width","120px"),b.style.setProperty("display","flex"),b.style.setProperty("flex-direction","row"),b.style.setProperty("align-items","center"),b.style.setProperty("vertical-align","middle"),N(b,ae($o,{style:{width:"50px","margin-right":"10px"},get value(){return C[0]??"4"},onChange:w=>{let _=o(v.key);_[0]=Number(w),s(v,_,p)}}),null),N(b,ae($o,{style:{width:"50px","margin-left":"10px"},get value(){return C[1]??"4"},onChange:w=>{let _=o(v.key);_[1]=Number(w),s(v,_,p)}}),null),b}}),ae(Ke,{get when(){return!Je.isArray(C)},get children(){return ae($o,{style:{width:"120px"},value:C??"4",onChange:b=>{let w=Number(b);s(v,w,p)}})}})];break}case"color":{m=ae(nv,{style:{width:"120px"},value:C,opacityEnabled:!0,onChange:b=>{s(v,b,p)}});break}}if(m)return(()=>{var b=AV(),w=b.firstChild;return N(w,()=>v.text),N(b,m,null),b})()}}})]}}),null),d}})};var DV=te("<div class=chartspire-ui-popup-background><div class=popup><button>Settings</button><button>Remove</button><button>Close");const FV=e=>{const[r,t]=ye(e.overlayMousePosition),[n,i]=ye(!1),o=p=>{p.preventDefault()},s=()=>{const p=r();try{const v=e.widget.getDom("candle_pane");if(v){const m=v.getBoundingClientRect();return{x:m.left+p.x,y:m.top+p.y}}}catch(v){console.warn("Failed to get chart container bounds for popup positioning:",v)}return p},u=()=>{e.setShowOverlaySetting?(e.setShowOverlaySetting(!0),e.setOverlayVisible(!1)):(i(!0),e.setOverlayVisible(!1))},d=()=>{e.setOverlayVisible(!1)},h=()=>{e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()?ut.getInstance(e.widget).deleteOverlay(e.overlay):e.widget.removeOverlay(e.overlay),d()};return(()=>{var p=DV(),v=p.firstChild,m=v.firstChild,C=m.nextSibling,b=C.nextSibling;return p.$$contextmenu=o,v.style.setProperty("position","fixed"),v.style.setProperty("z-index","1000011"),m.$$click=u,C.$$click=h,b.$$click=d,N(p,ae(Ke,{get when(){return n()&&!e.setShowOverlaySetting},get children(){return ae(_y,{get widget(){return e.widget},get locale(){return e.locale},get overlay(){return e.overlay},get setOverlayVisible(){return e.setOverlayVisible},setShowOverlaySetting:i,get chartId(){return e.chartId},onConfirm:w=>{console.log("Selected color:",w),i(!1)}})}}),null),ze(w=>{var _=`${s().y}px`,S=`${s().x}px`;return _!==w.e&&((w.e=_)!=null?v.style.setProperty("top",_):v.style.removeProperty("top")),S!==w.t&&((w.t=S)!=null?v.style.setProperty("left",S):v.style.removeProperty("left")),w},{e:void 0,t:void 0}),p})()};yr(["contextmenu","click"]);const OV=e=>ae(Ke,{get when(){return e.timezoneModalVisible},get children(){return ae(GA,{get locale(){return e.locale},get timezone(){return e.timezone},onClose:()=>{e.setTimezoneModalVisible(!1)},get onConfirm(){return e.setTimezone}})}}),RV=e=>ae(Ke,{get when(){return e.settingModalVisible()},get children(){return ae(Cz,{get locale(){return e.locale},get currentStyles(){return e.widget.getStyles()},get widget(){return e.widget},onClose:()=>{e.setSettingModalVisible(!1)},onChange:r=>{var t;(t=e.widget)==null||t.setStyles(r),e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(e.widget).saveStyles()},onPaneOptionsChange:()=>{e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(e.widget).savePaneOptions()},onRestoreDefault:r=>{const t={};r.forEach(n=>{const i=n.key;C1(t,i,hn.formatValue(e.widgetDefaultStyles(),i))}),e.widget.setStyles(zi(Ar())),e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(e.widget).saveStyles()}})}}),NV=e=>ae(Ke,{get when(){return e.screenshotUrl.length>0},get children(){return ae(KA,{get locale(){return e.locale},get url(){return e.screenshotUrl},onClose:()=>{e.setScreenshotUrl("")}})}}),zV=e=>ae(Ke,{get when(){return e.indicatorSettingModalParams.visible},get children(){return ae(lD,{get locale(){return e.locale},get params(){return e.indicatorSettingModalParams},onClose:()=>{e.setIndicatorSettingModalParams({visible:!1,indicatorName:"",paneId:"",calcParams:[],styles:{}})},onConfirm:(r,t)=>{const n=e.indicatorSettingModalParams;e.widget.overrideIndicator({name:n.indicatorName,calcParams:r,styles:t}),e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(e.widget).saveIndicators()}})}}),VV=e=>ae(Ke,{get when(){return e.isActive},get children(){return ae(mF,{get chart(){return e.widget},get rootContainer(){return e.rootContainer},get locale(){return e.locale},get ticker(){return e.ticker},get spread(){return e.drawingBarVisible},get period(){return e.period},get periods(){return e.periods},get multiChart(){return e.multiChart},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get currentCandleType(){return e.currentCandleType},get onCandleTypeChange(){return e.onCandleTypeChange},onMenuClick:async()=>{try{await jS(()=>e.setDrawingBarVisible(!e.drawingBarVisible)),e.widget.resize()}catch(r){console.error(r)}},onTickerClick:()=>{e.setTickerSearchModalVisible(!e.tickerSearchModalVisible)},get onPeriodChange(){return e.setPeriod},onIndicatorClick:()=>{e.setIndicatorModalVisible(!e.indicatorModalVisible)},onTimezoneClick:()=>{e.setTimezoneModalVisible(!e.timezoneModalVisible)},onSettingClick:()=>{e.setSettingModalVisible(!e.settingModalVisible)},onScreenshotClick:()=>{if(e.widget!=null){const r=e.widget.getConvertPictureUrl(!0,"jpeg",e.theme==="dark"?"#151517":"#ffffff");e.setScreenshotUrl(r)}},onMultiChartClick:()=>{e.setMultiChartModalVisible(!e.multiChartModalVisible)},onReplayClick:()=>{e.setReplayModalVisible(!e.replayModalVisible)},get onLayoutChange(){return e.setLayout},get layoutLimit(){return e.layoutLimit}})}}),BV=e=>{const r=P1();return ae(Ke,{get when(){return e.drawingBarVisible&&e.isActive},get children(){return ae(ZA,{get locale(){return e.locale},get widget(){return e.widget},get currentLayout(){return e.currentLayout},get setOverlaySettingVisible(){return e.setOverlaySettingVisible},get setOverlayStyles(){return e.setOverlayStyles},get setOverlayMousePosition(){return e.setOverlayMousePosition},get drawingBarCollapsed(){return e.drawingBarCollapsed},get setDrawingBarCollapsed(){return e.setDrawingBarCollapsed},onDrawingItemClick:t=>{const n={...t,onDrawing:function(i){return e.chartIds&&y1()&&r.onOverlayUpdated(e.chartIds,i.overlay),!1},onDrawEnd:function(i){return e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()&&ut.getInstance(i.chart).saveOverlay(i.overlay),e.chartIds&&y1()&&r.onOverlayCreated(e.chartIds,i.overlay),!0},onRightClick:function(i){var o;const s=i.x||0,u=i.y||0,d=zc(e.widget,s,u);return e.setOverlayMousePosition(d),e.setOverlaySettingVisible(!0),e.setOverlayStyles(i.overlay),(o=i.preventDefault)==null||o.call(i),!0},onDoubleClick:function(i){const o=i.x||0,s=i.y||0,u=zc(e.widget,o,s);return e.setOverlayMousePosition(u),e.setOverlaySettingVisible(!0),e.setOverlayStyles(i.overlay),!0},onPressedMoving:function(i){return e.chartIds&&y1()&&r.onOverlayUpdated(e.chartIds,i.overlay),!1},onPressedMoveEnd:function(i){return e.chartIds&&y1()&&r.onOverlayUpdated(e.chartIds,i.overlay),!0}};e.widget.createOverlay(n)},onModeChange:t=>{},onLockChange:t=>{const n=e.widget.getOverlays();n&&typeof n.forEach=="function"&&n.forEach(i=>{e.widget.overrideOverlay({id:i.id,lock:t})})},onVisibleChange:t=>{const n=e.widget.getOverlays();n&&typeof n.forEach=="function"&&n.forEach(i=>{e.widget.overrideOverlay({id:i.id,visible:t})})},onRemoveClick:t=>{const n=e.widget.getOverlays(),i=[];n&&typeof n.forEach=="function"&&n.forEach(o=>{i.push(o)}),e.currentLayout!==ut.getInstance(e.widget).getDefaultLayout()?ut.getInstance(e.widget).removeAllOverlays(!0):n&&typeof n.forEach=="function"&&n.forEach(o=>{e.widget.removeOverlay({id:o.id})}),e.chartIds&&i.forEach(o=>{r.onOverlayRemoved(e.chartIds,o)})}})}})},$V=(e,r)=>e===Y.THREE_MIXED?r==="chart1"?"three-chart-mixed-large":"three-chart-mixed-small":e===Y.THREE_MIXED_REVERSE?r==="chart3"?"three-chart-mixed-reverse-large":"three-chart-mixed-reverse-small":e===Y.THREE_MIXED_BOTTOM?r==="chart3"?"three-chart-mixed-bottom-large":"three-chart-mixed-bottom-small":e===Y.THREE_MIXED_TOP?r==="chart1"?"three-chart-mixed-top-large":"three-chart-mixed-top-small":e===Y.FOUR_MIXED?r==="chart1"?"four-chart-mixed-large":"four-chart-mixed-small":e===Y.FOUR_MIXED_REVERSE?r==="chart4"?"four-chart-mixed-reverse-large":"four-chart-mixed-reverse-small":e===Y.FOUR_MIXED_TOP?r==="chart1"?"four-chart-mixed-top-large":"four-chart-mixed-top-small":e===Y.FOUR_MIXED_BOTTOM?r==="chart4"?"four-chart-mixed-bottom-large":"four-chart-mixed-bottom-small":e===Y.FIVE_MIXED?r==="chart1"?"five-chart-mixed-large":"five-chart-mixed-small":e===Y.FIVE_MIXED_REVERSE?r==="chart5"?"five-chart-mixed-reverse-large":"five-chart-mixed-reverse-small":WV(e),WV=e=>{switch(e){case Y.TWO:return"two-chart";case Y.TWO_VERTICAL:return"two-chart-vertical";case Y.THREE:return"three-chart";case Y.THREE_VERTICAL:return"three-chart-vertical";case Y.FOUR:return"four-chart";case Y.FOUR_VERTICAL:return"four-chart-vertical";case Y.FOUR_HORIZONTAL:return"four-chart-horizontal";case Y.FIVE_VERTICAL:return"five-chart-vertical";case Y.FIVE_HORIZONTAL:return"five-chart-horizontal";case Y.SIX:return"six-chart";case Y.SIX_HORIZONTAL:return"six-chart-horizontal";case Y.SIX_VERTICAL:return"six-chart-vertical";case Y.SIX_MIXED:return"six-chart-mixed";case Y.SEVEN_VERTICAL:return"seven-chart-vertical";case Y.SEVEN_HORIZONTAL:return"seven-chart-horizontal";case Y.EIGHT:return"eight-chart";case Y.EIGHT_VERTICAL:return"eight-chart-vertical";case Y.EIGHT_HORIZONTAL:return"eight-chart-horizontal";case Y.NINE:return"nine-chart";case Y.NINE_VERTICAL:return"nine-chart-vertical";case Y.NINE_HORIZONTAL:return"nine-chart-horizontal";case Y.TEN:return"ten-chart";case Y.TEN_VERTICAL:return"ten-chart-vertical";case Y.TEN_HORIZONTAL:return"ten-chart-horizontal";case Y.TWELVE:return"twelve-chart";case Y.TWELVE_VERTICAL:return"twelve-chart-vertical";case Y.TWELVE_HORIZONTAL:return"twelve-chart-horizontal";case Y.TWELVE_GRID:return"twelve-chart-grid";case Y.FOURTEEN:return"fourteen-chart";case Y.SIXTEEN:return"sixteen-chart";case Y.SIXTEEN_GRID:return"sixteen-chart-grid";case Y.ONE:default:return"one-chart"}};var UV=te("<div><div>");const HV=e=>{const r=()=>{e.onClick!=null&&e.onClick()},t=()=>{e.onClick!=null&&e.onClick()};return(()=>{var n=UV(),i=n.firstChild;N(n,ae(Ke,{get when(){return e.loadingVisible},get children(){return ae(T5,{})}}),i),i.$$touchend=t,i.$$click=r;var o=e.ref;return typeof o=="function"?aa(o,i):e.ref=i,ze(s=>{var u=`chartspire-ui-content ${$V(e.multiChart,e.chartIds)}`,d=`
          chartspire-ui-widget
          ${e.chartIds}
          ${e.isActive&&e.multiChart>1?"active-chart":""}
          `,h=e.chartIds,p=e.drawingBarVisible,v=e.drawingBarCollapsed,m=String(e.multiChart),C=e.isActive;return u!==s.e&&Nt(n,s.e=u),d!==s.t&&Nt(i,s.t=d),h!==s.a&&$e(i,"data-chart-id",s.a=h),p!==s.o&&$e(i,"data-drawing-bar-visible",s.o=p),v!==s.i&&$e(i,"data-drawing-bar-collapsed",s.i=v),m!==s.n&&$e(i,"multichart-amount",s.n=m),C!==s.s&&$e(i,"is-active-chart",s.s=C),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),n})()};yr(["click","touchend"]);const YV=e=>ae(Ke,{get when(){return e.symbolTickerModalVisible},get children(){return ae(L5,{get locale(){return e.locale},get onTickerSelected(){return e.setTicker},onClose:()=>{e.setTickerSearchModalVisible(!1)},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed}})}});function XV(e,r,t){nt(()=>{e()&&t(!0)}),nt(()=>{r()||t(!1)})}function jV(e,r){nt(()=>{e()&&SM(r())})}function ZV(e,r){nt(()=>{e()&&(r(),e()>1?Tm(!0):Tm(!1))})}function GV(e,r,t,n,i,o,s,u,d,h,p,v){nt(async()=>{if(t()&&i()&&e()&&r!=null){if(o([]),s(w5({})),await ut.getInstance(et(r)).removeAllOverlays(),IM(et(r)),t()===ut.getInstance(et(r)).getDefaultLayout())return et(r).setStyles(zi(Ar())),KV(et(r)),v&&zi(Ar()).candle&&zi(Ar()).candle.type&&v(zi(Ar()).candle.type),null;Xg(t());const m=await ut.getInstance(et(r)).getLayoutFromStore()??wd();if(et(r)!==null&&v){await qV(et(r),m,v),await QV(et(r),m),await JV(et(r),m,d,h,p,et(n));const C=await ut.getInstance(et(r)).getIndicators(m);u(C.indicators)}}})}async function qV(e,r,t){const n=await ut.getInstance(e).getStyles(r);n?(e.setStyles(n),t&&n.candle&&n.candle.type&&t(n.candle.type)):(e.setStyles(zi(Ar())),t&&zi(Ar()).candle&&zi(Ar()).candle.type&&t(zi(Ar()).candle.type))}function KV(e){e.setPaneOptions(k5())}async function QV(e,r){const t=await ut.getInstance(e).getPaneOptionsFromStore(r);t&&t.paneOptions&&Object.keys(t.paneOptions).length>0&&e.setPaneOptions(t.paneOptions)}async function JV(e,r,t,n,i,o){const s=await ut.getInstance(e).getOverlays(r);Je.forEach(s,u=>{var d,h,p;(d=ut.getInstance(e))!=null&&d.isDefaultLayout()||o.ticker===((h=u==null?void 0:u.tickerInfo)==null?void 0:h.ticker)&&o.type===((p=u==null?void 0:u.tickerInfo)==null?void 0:p.type)&&(u.overlay.onDrawEnd=v=>(ut.getInstance(v.chart).saveOverlay(v.overlay),!0),u.overlay.onRightClick=v=>{var m;const C=zc(e,v.x??0,v.y??0);return i(C),t(!0),n(v.overlay),(m=v.preventDefault)==null||m.call(v),!0},u.overlay.onDoubleClick=v=>{const m=zc(e,v.x??0,v.y??0);return i(m),t(!0),n(v.overlay),!0},(u.overlay.name==="simpleTag"||u.overlay.name==="simpleAnnotation")&&k1(u.overlay),e.createOverlay(u.overlay))})}function eB(e,r,t){nt(()=>{const n=r();n!=null&&n.priceCurrency?(t.innerHTML=n.priceCurrency.toLocaleUpperCase(),t.style.display="flex"):t.style.display="none",console.log("usePriceVolumePrecisionEffect ",n)})}function tB(e,r){nt(()=>{e(),r()})}function rB(e,r){nt(()=>{e()&&r()})}function nB(e,r){nt(()=>{console.log("useLocaleEffect",r()),et(e).setLocale(r())})}let ky=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"America/Los_Angeles"});function iB(e){ky=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:e})}function aB(){return ky}function oB(e,r,t){nt(()=>{if(et(e)==null)return;const n=r().key;iB(n),t()})}function lB(e,r,t){nt(()=>{r()&&et(e)&&(et(e).setStyles(r()),t(et(e).getStyles()))})}function sB(e,r){const t=r==="dark"?"#929AA5":"#76808F";e==null||e.setStyles({indicator:{tooltip:{features:[{id:"visible",position:"middle",marginLeft:8,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,type:"icon_font",content:{code:"",family:"icomoon"},size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"invisible",position:"middle",marginLeft:8,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,type:"icon_font",content:{code:"",family:"icomoon"},size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"setting",position:"middle",marginLeft:6,marginTop:7,marginBottom:0,marginRight:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,type:"icon_font",content:{code:"",family:"icomoon"},size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"close",position:"middle",marginLeft:6,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,type:"icon_font",content:{code:"",family:"icomoon"},size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"}]}}})}function cB(e,r){nt(()=>{et(e).setStyles(r),sB(et(e),r)})}const gp=new Map;function uB(e){return gp.has(e)||gp.set(e,{currentCandle:null,targetInterval:{multiplier:1,timespan:"minute",text:"1m"},lastTimestamp:0,initialized:!1,lastVolume:0,isFirstDataPoint:!0}),gp.get(e)}function Sy(e){gp.set(e,{currentCandle:null,targetInterval:{multiplier:1,timespan:"minute",text:"1m"},lastTimestamp:0,initialized:!1,lastVolume:0,isFirstDataPoint:!0})}function dB(e,r,t){if(!t.currentCandle)return!0;const n=new Date(t.currentCandle.timestamp),i=new Date(e);switch(r.timespan){case"minute":const o=r.multiplier,s=n.getUTCHours()*60+n.getUTCMinutes(),u=i.getUTCHours()*60+i.getUTCMinutes();return Math.floor(s/o)!==Math.floor(u/o);case"hour":const d=r.multiplier,h=n.getUTCHours(),p=i.getUTCHours(),v=Math.floor(h/d)!==Math.floor(p/d),m=n.getUTCDate()!==i.getUTCDate();return!!(v||m);case"day":return Math.floor((i.getTime()-n.getTime())/(24*60*60*1e3))>=r.multiplier;case"week":const C=_=>{const S=new Date(_.getTime());let M=S.getUTCDay();M===0&&(M=7);const I=M-1;return S.setUTCDate(S.getUTCDate()-I),S.setUTCHours(0,0,0,0),S},b=C(n),w=C(i);return b.getTime()!==w.getTime();case"month":return(i.getUTCFullYear()-n.getUTCFullYear())*12+(i.getUTCMonth()-n.getUTCMonth())>=r.multiplier;default:return console.warn(`Unknown interval: ${r.timespan}`),!0}}function My(e,r){const t=new Date(e);t.toISOString();let n=new Date(e);switch(r.timespan){case"minute":const i=Math.floor(t.getUTCMinutes()/r.multiplier)*r.multiplier;n.setUTCMinutes(i,0,0);break;case"hour":const o=t.getUTCHours(),s=Math.floor(o/r.multiplier)*r.multiplier;n.setUTCHours(s,0,0,0);break;case"day":if(n.setUTCHours(0,0,0,0),r.multiplier>1){const h=Math.floor(t.getTime()/864e5)%r.multiplier;n.setTime(n.getTime()-h*24*60*60*1e3)}break;case"week":let u=t.getUTCDay();u===0&&(u=7);const d=u-1;if(n.setUTCDate(t.getUTCDate()-d),n.setUTCHours(0,0,0,0),r.multiplier>1){const h=new Date(Date.UTC(2e3,0,3)).getTime(),p=(Math.floor((n.getTime()-h)/6048e5)%r.multiplier+r.multiplier)%r.multiplier;p>0&&n.setTime(n.getTime()-p*6048e5)}break;case"month":if(n.setUTCDate(1),n.setUTCHours(0,0,0,0),r.multiplier>1){const h=t.getUTCMonth(),p=h%r.multiplier;n.setUTCMonth(h-p)}break;default:return e}return n.getTime()}function Ey(e,r){try{const t=e.getDataList();return!t||t.length===0?(console.log(`No existing data found in chart for timestamp lookup: ${new Date(r).toISOString()}`),null):t.find(i=>i.timestamp===r)||null}catch(t){return console.error("Error finding existing candle:",t),null}}function hB(e,r,t,n){if(!n.initialized)try{const i=My(r,t),o=Ey(e,i);if(o)n.currentCandle={...o};else if(t.timespan==="week"){const s=(h=>{const p=new Date(h.getTime());let v=p.getUTCDay();return v===0&&(v=7),p.setUTCDate(p.getUTCDate()-(v-1)),p.setUTCHours(0,0,0,0),p})(new Date(r)),u=new Date(s.getTime()+7*24*60*60*1e3),d=e.getDataList();if(d&&d.length>0){const h=d.find(p=>{const v=new Date(p.timestamp).getTime();return v>=s.getTime()&&v<u.getTime()});h&&(n.currentCandle={...h,timestamp:i})}}n.initialized=!0}catch(i){console.error("Error initializing from existing data:",i),n.initialized=!0}}function u2(e,r,t,n,i){if(t.timespan==="minute"&&t.multiplier===1){i?i(r):console.warn("candleAggregate called without callback for 1-minute data");return}const o=uB(n);o.targetInterval=t,o.initialized||hB(e,r.timestamp,t,o);const s=r.timestamp;o.lastTimestamp=s;const u=My(s,t),d=r.volume||0,h=Math.max(0,d-o.lastVolume);if(o.lastVolume=d,!o.currentCandle||dB(s,t,o)){o.lastVolume=d,o.isFirstDataPoint=!0,o.currentCandle&&i&&i(o.currentCandle);const p=Ey(e,u);if(p){o.currentCandle={...p},o.currentCandle.high=Math.max(p.high,r.high),o.currentCandle.low=Math.min(p.low,r.low),o.currentCandle.close=r.close;const v=p.volume||0;o.currentCandle.volume=v}else o.currentCandle={open:r.open,high:r.high,low:r.low,close:r.close,volume:d,timestamp:u};i&&i(o.currentCandle)}else if(o.currentCandle){const p=o.currentCandle;p.high=Math.max(p.high,r.high),p.low=Math.min(p.low,r.low),p.close=r.close,o.isFirstDataPoint||(p.volume=(p.volume||0)+h),i&&i(p)}o.isFirstDataPoint=!1}Nd.RENKO;const Ty=10,pg=new Map;function Iy(e){return pg.has(e)||pg.set(e,{lastData:null,lastUpdateTime:Date.now()}),pg.get(e)}function pB(e,r,t){var n;if(!r||r.length===0)return console.warn(`No data provided for Renko chart initialization (chart ${t})`),[];try{const i=((n=e.getStyles().candle.renko)==null?void 0:n.brick.size)||Ty;e.getStyles().candle.type="candle_solid";const o=[...r].sort((p,v)=>p.timestamp-v.timestamp),s=kv(o,i,4);if(s.length===0)return console.warn(`Failed to generate Renko bricks for chart ${t} - using original data`),o;const u=o.at(-1),d=vB(u,s,i,4),h=mB(d,u);if(h.length>0){const p=Iy(t);p.lastData=h.at(-1),p.lastUpdateTime=Date.now()}else console.warn(`No Renko bricks generated during initialization for chart ${t}`);return h}catch(i){return console.error(`Error initializing Renko chart ${t}:`,i),r}}function fB(e,r,t,n,i,o){r.subscribeTicker(t,n,s=>{if(e)try{const u=gB(e,s,i);if(u&&u.length>0){const d=u.at(-1),h=d.shadowPrice!==void 0?Number(d.shadowPrice):d.close,p=d.close>d.open,v={...d,open:d.open,close:d.close,high:p&&h>d.close?h:d.high,low:p?d.low:h<d.close?h:d.low};o?o(v):console.warn("setupRenkoSubscription called without callback - using deprecated updateData");const m=Iy(i);m.lastData=v,m.lastUpdateTime=Date.now()}else console.warn(`Failed to update Renko chart ${i} - no valid bricks`)}catch(u){console.error(`Error updating Renko chart ${i}:`,u)}},i)}function gB(e,r,t){var n;try{const i=e.getDataList();if(!i||i.length===0)return console.warn(`No existing data found for Renko chart ${t}`),[];const o=((n=e.getStyles().candle.renko)==null?void 0:n.brick.size)||Ty,s=i.at(-1),u=s.close,d=r.close,h=d-u;if(Math.abs(h)>=o){const p=[...i,r],v=kv(p,o,4);return v.length===0?(console.warn(`No Renko bricks generated for chart ${t}`),i):v}else{const p={...s,shadowPrice:d};return[...i.slice(0,-1),p]}}catch(i){return console.error(`Error in updateRenkoData for chart ${t}:`,i),[]}}function kv(e,r,t){var n,i,o,s;if(!e||e.length===0)return[];let u=[],d=e[0].open;for(let h=1;h<e.length;h++){const p=e[h].timestamp,v=e[h].close,m=Number((v-d).toFixed(t));if(m>0){let C=m;for(;C>=r;){const b=Number((d+r).toFixed(t)),w={open:d,high:b,low:d,close:b,timestamp:p};(u.length===0||b!==((n=u.at(-1))==null?void 0:n.open)&&b!==((i=u.at(-1))==null?void 0:i.close))&&u.push(w),d=b,C-=r}}else if(m<0){let C=Math.abs(m);for(;C>=r;){const b=Number((d-r).toFixed(t)),w={open:d,high:d,low:b,close:b,timestamp:p};(u.length===0||b!==((o=u.at(-1))==null?void 0:o.open)&&b!==((s=u.at(-1))==null?void 0:s.close))&&u.push(w),d=b,C-=r}}}return u}function vB(e,r,t,n){var i,o,s,u,d;if(r.length===0)return kv([{open:e.open,high:e.high,low:e.low,close:e.close,timestamp:e.timestamp-6e4},e],t,n);let h=[...r],p=((i=h.at(-1))==null?void 0:i.close)||0;const v=e.timestamp;let m=e.close;const C=Number((m-p).toFixed(n));if(C>0&&C>=t){const w=Math.floor(C/t);for(let _=0;_<w;_++){const S=Number((p+t).toFixed(n)),M={open:p,high:S,low:p,close:S,timestamp:v};(h.length===0||S!==((o=h.at(-1))==null?void 0:o.open)&&S!==((s=h.at(-1))==null?void 0:s.close))&&h.push(M),p=S}}else if(C<0&&Math.abs(C)>=t){const w=Math.floor(Math.abs(C)/t);for(let _=0;_<w;_++){const S=Number((p-t).toFixed(n)),M={open:p,high:p,low:S,close:S,timestamp:v};(h.length===0||S!==((u=h.at(-1))==null?void 0:u.open)&&S!==((d=h.at(-1))==null?void 0:d.close))&&h.push(M),p=S}}const b=C-Math.floor(Math.abs(C)/t)*(C>=0?t:-t);if(b!==0&&h.length>0){const w=h.at(-1),_=Number((w.close+b).toFixed(n));w.shadowPrice=_}return h}function mB(e,r){if(e.length===0)return e;const t=[...e],n=t[t.length-1],i=r.close,o={...n,shadowPrice:i};return t[t.length-1]=o,t}Nd.RENKO;const yB=10;function Sv(e){return e===Nd.RENKO||String(e).toLowerCase()==="renko"}const Wo={multiplier:1,timespan:"minute",text:"1m"};function xB(e,r,t,n,i,o,s,u,d,h,p){nt(v=>{var m,C;const b=La(r().type);if(h(b),n())b.unsubscribeTicker(r(),Wo,i);else if(o)console.warn("No data being retrieved");else return v!=null?(et(u).unsubscribeTicker(v.symbol,Wo,i),(v.symbol.ticker!==r().ticker||v.period.timespan!==t().timespan||v.period.multiplier!==t().multiplier)&&Sy(i)):((m=e())==null||m.setPeriod({span:t().multiplier,type:t().timespan}),(C=e())==null||C.setSymbol({ticker:r().ticker,pricePrecision:r().pricePrecision??2,volumePrecision:r().volumePrecision??0})),o=!0,d(b),Ly({widget:et(e),ticker:r(),interval:t(),tickerType:r().type,candleType:p?et(p):void 0,uuid:i,setLoadingVisible:s}).finally(()=>{o=!1}),{symbol:r(),period:t()};return v})}async function Ly({widget:e,ticker:r,interval:t,tickerType:n,candleType:i,uuid:o,setLoadingVisible:s}){if(!e)return;const u=La(n);s&&s(!0),console.warn("Fetching market data"),Sy(o);try{const[d,h]=TM(t,new Date().getTime(),500);let p=await u.getHistoricalTimeSeries(r,t,d,h,n);if(await new Promise(v=>setTimeout(v,1e3)),e==null)return;Sv(i)&&p.length>0&&(p=pB(e,p,o)),e.setDataLoader({getBars:({callback:v})=>{console.warn("getBars called, returning",p.length,"data points"),v(p)},subscribeBar:({callback:v})=>{CB(e,u,r,o,i,t,v)},unsubscribeBar:()=>{console.warn("unsubscribeBar called"),u.unsubscribeTicker(r,Wo,o)}})}catch(d){console.warn("Error fetching market data",d),e.setDataLoader({getBars:({callback:h})=>{h([])}})}finally{s&&s(!1)}}function CB(e,r,t,n,i,o,s){if(Sv(i)){e.getStyles().candle.type="candle_solid",fB(e,r,t,Wo,n,s);return}r.subscribeTicker(t,Wo,u=>{s?u2(e,u,o||Wo,n,s):u2(e,u,o||Wo,n)},n)}const md=new Map;class Ap{constructor(r,t,n){De(this,"chart"),De(this,"replayCandle"),De(this,"replaySpeed"),De(this,"hasReplaySpeedChanged",!1),De(this,"dataList",[]),De(this,"currentReplayData",[]),De(this,"isPaused",!1),De(this,"currentCallback",null),De(this,"currentRightList",[]),De(this,"selectedCandleIndex",null),De(this,"currentIndex",0),De(this,"intervalId",null),this.chart=r,this.replayCandle=t,this.replaySpeed=n}static getInstance(r,t,n,i){var o;if(!md.has(r)||((o=md.get(r))==null?void 0:o.chart)==null){const s=new Ap(t,n,i);md.set(r,s)}return md.get(r)}static destroyInstance(r){md.has(r)&&md.delete(r)}initializeReplayData(){var r;this.hasReplaySpeedChanged=!0,this.dataList=((r=this.chart)==null?void 0:r.getDataList())??[],this.selectedCandleIndex=this.replayCandle()}setupInitialChartState(r){var t;this.currentReplayData=[...r],(t=this.chart)==null||t.setDataLoader({getBars:({callback:n})=>{n(r)},subscribeBar:()=>{},unsubscribeBar:()=>{}})}getDataListToRightOfCandle(){try{if(!this.hasReplaySpeedChanged&&(this.initializeReplayData(),this.selectedCandleIndex!=null)){const r=this.selectedCandleIndex.dataIndex,t=this.dataList.slice(0,r+1),n=this.dataList.slice(r+1);return this.setupInitialChartState(t),n}if(this.selectedCandleIndex!==null)return this.dataList.slice(this.selectedCandleIndex.dataIndex+1)}catch(r){console.error("Error trying to get data to replay:",r)}return[]}isReplayPaused(){return this.isPaused&&this.currentIndex>0}isReplayActive(){return this.intervalId!==null}updateReplaySpeed(){try{if(!this.isReplayActive()||!this.currentCallback||this.currentRightList.length===0)return;const r=this.validateReplaySpeed();this.clearCurrentInterval(),this.createReplayInterval(this.currentRightList,this.currentCallback,r)}catch(r){console.error("Error updating replay speed:",r)}}validateReplaySpeed(){const r=Number(AL(this.replaySpeed().key));return isNaN(r)||r<=0?(console.warn("Invalid replay speed. Must be a positive number., Return set to 1x"),1e3):r}clearCurrentInterval(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}cleanupReplayState(){this.clearCurrentInterval(),this.currentCallback=null,this.currentRightList=[],this.isPaused=!1}createReplayInterval(r,t,n){this.intervalId=setInterval(()=>{try{if(this.currentIndex<r.length){const i=r[this.currentIndex];this.currentReplayData.push(i),t(i),this.currentIndex++}else this.cleanupReplayState()}catch(i){console.error("Error during replay interval:",i),this.clearCurrentInterval()}},n)}initializeFreshReplay(){if(this.currentIndex=0,this.isPaused=!1,this.selectedCandleIndex!=null){const r=this.selectedCandleIndex.dataIndex;this.currentReplayData=this.dataList.slice(0,r+1)}else this.currentReplayData=[]}prepareResumeReplay(){this.isPaused=!1}startReplay(r){var t;try{if(!Array.isArray(r)||r.length===0){console.warn("Invalid data provided for replay");return}const n=this.validateReplaySpeed();this.clearCurrentInterval(),this.isReplayPaused()?(this.prepareResumeReplay(),this.currentCallback?this.createReplayInterval(r,this.currentCallback,n):console.warn("No callback available for resume, this should not happen")):(this.initializeFreshReplay(),(t=this.chart)==null||t.setDataLoader({getBars:({callback:i})=>{console.warn("getBars called during replay, returning",this.currentReplayData.length,"data points"),i(this.currentReplayData)},subscribeBar:({callback:i})=>{this.currentCallback=i,this.createReplayInterval(r,i,n)},unsubscribeBar:()=>{this.cleanupReplayState()}})),this.currentRightList=[...r]}catch(n){console.log("Error starting replay:",n)}}pauseReplay(){try{this.intervalId!==null&&(this.clearCurrentInterval(),this.isPaused=!0)}catch(r){console.log("Error while pausing replay:",r)}}skipReplay(){try{this.pauseReplay(),this.currentReplayData=[...this.dataList],this.currentIndex=this.dataList.length,this.isPaused=!1,this.chart.setDataLoader({getBars:({callback:r})=>{r(this.dataList)}})}catch(r){console.log("Error while skipping to end:",r)}}}const bB=(e,r,t)=>{const n=()=>({key:"1x",text:LL("1x",e)}),i=W=>Ap.getInstance(t,et(o),()=>et(w),W||(()=>et(h))),[o,s]=ye(r),[u,d]=ye(!1),[h,p]=ye(n()),[v,m]=ye(!1),[C,b]=ye(!1),[w,_]=ye(null),[S,M]=ye(!0),[I,A]=ye(""),[P,$]=ye(!1),[D,z]=ye(!1);nt(()=>{const W=i();v()&&!C()?et(w)!=null?(W.startReplay(W.getDataListToRightOfCandle()),z(!0),M(!1)):M(!0):(C()&&W.pauseReplay(),z(!1))}),nt(()=>{const W=h();D()&&i(()=>W).updateReplaySpeed()}),nt(()=>{u()?M(!0):(m(!1),b(!1))}),nt(()=>{P()&&(i().skipReplay(),V())});const V=()=>{_(null),d(!1),p(n()),m(!1),b(!0),M(!0),A(""),$(!1),Ap.destroyInstance(t)};return{replayModalVisible:u,setReplayModalVisible:d,replaySpeed:h,setReplaySpeed:p,replayPlay:v,setReplayPlay:m,replayPaused:C,setReplayPaused:b,replayCandle:w,setReplayCandle:_,isAlertVisible:S,setIsAlertVisible:M,alertMessage:I,setAlertMessage:A,resetReplayState:V,setSkipToEnd:$,skipToEnd:P,isPlaying:D,setIsPlaying:z,setReplayWidget:s}};function wB(e){nt(()=>{e()})}const _B=Nd.RENKO;function ip(e){return String(e).toLowerCase()===_B}function kB(e,r,t,n,i,o,s,u,d,h){const[p,v]=ye(null);return nt(()=>{const m=e();if(m){const C=m.getStyles();C&&C.candle&&C.candle.type&&n(C.candle.type)}}),nt(()=>{const m=e(),C=r(),b=t();if(m==null||C==null)return;const w=p();v(b);const _={...C,candle:{...C.candle,type:b}};m.setStyles(_),m.resize();const S=ip(b)&&!ip(w),M=!ip(b)&&ip(w);(S||M)&&i&&o&&h&&m&&(console.log(`Candle type changed ${w} -> ${b}, refreshing data...`),d2(m,et(s),et(i),et(o),b,h))}),nt(()=>{u()&&et(e)&&(console.log("Renko update triggered"),d2(et(e),et(s),et(i),et(o),et(t),h),d(!1))}),m=>{n(m);const C=e();if(C){const b=C.getStyles();b.candle.type=m,C.setStyles(b),ut.getInstance(C).saveStyles()}}}function d2(e,r,t,n,i,o){r.unsubscribeTicker(t,Wo,o),Ly({widget:e,ticker:t,interval:n,tickerType:t.type,candleType:i,uuid:o})}const SB=(e,r,t,n)=>{nt(()=>{const i=r();if(i&&Sv(e())){const o=s=>{s.preventDefault(),n({x:s.clientX,y:s.clientY}),t(!0)};i.addEventListener("contextmenu",o),_n(()=>{i.removeEventListener("contextmenu",o)})}})};function MB(e){nt(()=>{Ar()==="Dark Theme"||Ar()==="Midnight Theme"||Ar()==="Dark Gray Theme"||Ar()==="Blue Theme"||Ar()==="Red Theme"||Ar()==="Green Theme"||Ar()==="Yellow Theme"||Ar(),et(e).setStyles(zi(Ar()))})}function EB(e,r){nt(async()=>{r()&&et(e)&&await ut.getInstance(et(e)).removeAllOverlays()})}function TB(e,r){const[t,n]=ye(!1);return nt(()=>{const i=t()?"24px":"52px";document.documentElement.style.setProperty("--right-bar-width",i),setTimeout(()=>{r(o=>!o)},350)}),{rightBarCollapsed:t,setRightBarCollapsed:n}}const[h2,IB]=ye(!1),h1=[];function LB(e){return e&&!h1.includes(e)&&h1.push(e),nt(()=>{const r=h2()?"24px":"60px";document.documentElement.style.setProperty("--drawing-bar-width",r),setTimeout(()=>{h1.forEach(t=>t())},350)}),{drawingBarCollapsed:h2,setDrawingBarCollapsed:IB,cleanUpDrawingBar:e?()=>{const r=h1.indexOf(e);r>-1&&h1.splice(r,1)}:void 0}}function PB(e,r,t,n,i){const[o,s]=ye({timeRemaining:"",isActive:!1,nextCandleTimestamp:0});let u=null;const d=(b,w)=>{const _=new Date(b);switch(w.timespan){case"minute":const S=Math.floor(_.getUTCMinutes()/w.multiplier)*w.multiplier;_.setUTCMinutes(S+w.multiplier,0,0);break;case"hour":const M=Math.floor(_.getUTCHours()/w.multiplier)*w.multiplier;_.setUTCHours(M+w.multiplier,0,0,0);break;case"day":_.setUTCDate(_.getUTCDate()+w.multiplier),_.setUTCHours(0,0,0,0);break;case"week":const I=_.getUTCDay(),A=I===0?1:8-I;_.setUTCDate(_.getUTCDate()+A+(w.multiplier-1)*7),_.setUTCHours(0,0,0,0);break;case"month":_.setUTCMonth(_.getUTCMonth()+w.multiplier,1),_.setUTCHours(0,0,0,0);break;default:_.setUTCMinutes(_.getUTCMinutes()+1,0,0)}return _.getTime()},h=b=>{const w=Math.floor(b/1e3),_=Math.floor(w/86400),S=Math.floor(w%86400/3600),M=Math.floor(w%3600/60),I=w%60;return _>0?S>0?`${_}d ${S}h`:`${_}d`:S>0?S>=12?`${S}h ${M}m`:`${S.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`:`${M.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`},p=()=>{const b=Date.now(),w=r(),_=d(b,w),S=_-b;if(S<=0){const M=d(b,w),I=M-b;s({timeRemaining:h(I),isActive:!0,nextCandleTimestamp:M})}else s({timeRemaining:h(S),isActive:!0,nextCandleTimestamp:_})},v=()=>{u||(p(),u=setInterval(p,1e3))},m=()=>{u&&(clearInterval(u),u=null);const b=e();if(b)try{b.setStyles({candle:{priceMark:{last:{text:{extendTexts:[]}}}}})}catch(w){console.warn("Error clearing timer on stop:",w)}s({timeRemaining:"",isActive:!1,nextCandleTimestamp:0})},C=()=>{var b,w;const _=e(),S=o();if(_)try{if(!S.isActive||!t()){_.setStyles({candle:{priceMark:{last:{text:{extendTexts:[]}}}}});return}const M={show:!0,color:"#D0D0D0",size:13,family:i||"monospace",weight:"normal",style:"fill",borderStyle:"solid",borderDashedValue:[2,2],borderSize:0,borderColor:"transparent",paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,position:"below_price",updateInterval:0,borderRadius:2},I=((w=(b=_.getStyles().candle)==null?void 0:b.priceMark)==null?void 0:w.last)||{},A=`${S.timeRemaining}`,P=_.getFormatter();_.setFormatter({...P,formatExtendText:({type:$,index:D})=>$==="last_price"&&D===0?A:""}),_.setStyles({candle:{priceMark:{last:{...I,show:!0,extendTexts:[M]}}}})}catch(M){console.warn("Error updating price mark timer:",M)}};return nt(()=>{const b=e(),w=t();r(),b&&w?v():m()}),nt(()=>{r(),t()&&(m(),setTimeout(()=>{t()&&v()},100))}),nt(()=>{n&&(n(),t()&&(m(),setTimeout(()=>{t()&&v()},200)))}),nt(()=>{C()}),_n(()=>{m()}),{timerState:o,startTimer:v,stopTimer:m}}function AB(e,r,t){let n=e().ticker;nt(()=>{const i=e(),o=r();i.ticker!==n&&i.ticker!==o.ticker&&t(i),n=i.ticker})}function DB({chart:e,chartIds:r,ticker:t,period:n,onTickerChange:i,onIntervalChange:o}){const s=sv(),u=dy(),d=dv(),h=pv(),p=P1(),v=t.ticker,m=t.type?String(t.type):void 0;s.registerChart(r,e,v,m),u.registerChart(r,e,v,m);const C=(w,_)=>{i&&i(w,_)};d.registerChart(r,e,v,m,n.timespan+n.multiplier,C);const b=w=>{o&&o(w)};return h.registerChart(r,e,v,m,n,b),p.registerChart(r,e,v,m,n.timespan+n.multiplier),{syncManager:s,timeSyncManager:u,tickerSyncManager:d,intervalSyncManager:h,drawingSyncManager:p,initialTicker:{symbol:v,type:m}}}function FB({chart:e,chartIds:r,isActiveChart:t,timeSyncManager:n}){let i=null,o=0,s={x:0,y:0},u={x:0,y:0};const d=e.getDom("candle_pane");if(!d)return()=>{};const h=(w,_)=>{if(t()){o=Date.now(),s={x:w,y:_};const S=d.getBoundingClientRect();u={x:w-S.left,y:_-S.top}}},p=(w,_)=>{var S;if(t()){const M=Date.now()-o,I=Math.sqrt(Math.pow(w-s.x,2)+Math.pow(_-s.y,2));if(M<300&&I<5){try{const A=e.convertFromPixel([u],{paneId:"candle_pane"});if(A&&Array.isArray(A)&&(S=A[0])!=null&&S.timestamp){const P=A[0].timestamp;n.syncTime(r,P)}}catch(A){console.error("[TimeSync] Error converting interaction position to timestamp:",A)}i&&clearTimeout(i),i=setTimeout(()=>{},150)}}},v=w=>{if(w.preventDefault(),w.touches.length===1){const _=w.touches[0];h(_.clientX,_.clientY)}},m=w=>{if(w.preventDefault(),w.changedTouches.length===1){const _=w.changedTouches[0];p(_.clientX,_.clientY)}},C=w=>{h(w.clientX,w.clientY)},b=w=>{p(w.clientX,w.clientY)};return d.addEventListener("mousedown",C),d.addEventListener("mouseup",b),d.addEventListener("touchstart",v,{passive:!1}),d.addEventListener("touchend",m,{passive:!1}),()=>{d.removeEventListener("mousedown",C),d.removeEventListener("mouseup",b),d.removeEventListener("touchstart",v),d.removeEventListener("touchend",m),i&&clearTimeout(i)}}function OB({chart:e,chartIds:r,isActiveChart:t,syncManager:n}){e.subscribeAction("onCrosshairChange",i=>{const o=i;if(o.paneId==="candle_pane"&&t()){if(!o.timestamp&&o.x!==void 0)try{const s=e.convertFromPixel([{x:o.x}],{paneId:o.paneId});if(s&&Array.isArray(s)&&s[0]){const u=s[0];if(u.timestamp&&(o.timestamp=u.timestamp),u.dataIndex!==void 0&&(o.dataIndex=u.dataIndex),u.dataIndex!==void 0){const d=e.getDataList();d&&d[u.dataIndex]&&(o.kLineData=d[u.dataIndex],!o.timestamp&&o.kLineData.timestamp&&(o.timestamp=o.kLineData.timestamp))}}}catch(s){console.error("Error converting x to timestamp:",s)}n.resetCrosshairVisibility(r),n.syncCrosshair(r,o)}})}function RB({ticker:e,chartIds:r,syncManager:t,timeSyncManager:n,drawingSyncManager:i,tickerSyncManager:o,initialTicker:s}){let u=s.symbol,d=s.type;nt(()=>{const h=e(),p=h.ticker,v=h.type?String(h.type):void 0;(p!==u||v!==d)&&(t.updateChartTicker(r,p,v),n.updateChartTicker(r,p,v),i.updateChartTicker(r,p,v),o.onTickerChange(r,p,v),u=p,d=v)})}function NB({period:e,chartIds:r,intervalSyncManager:t,drawingSyncManager:n,initialPeriod:i}){let o=i;nt(()=>{const s=e();(s.multiplier!==o.multiplier||s.timespan!==o.timespan)&&(t.updateChartInterval(r,s),n.updateChartInterval(r,s),t.onIntervalChange(r,s),o=s)})}function zB({ticker:e,period:r,chartIds:t,syncManager:n,timeSyncManager:i,drawingSyncManager:o,tickerSyncManager:s,intervalSyncManager:u,initialTicker:d}){RB({ticker:e,chartIds:t,syncManager:n,timeSyncManager:i,drawingSyncManager:o,tickerSyncManager:s,initialTicker:d});const h=r();NB({period:r,chartIds:t,intervalSyncManager:u,drawingSyncManager:o,initialPeriod:h})}const Fg=new Map;function VB({chart:e,period:r,ticker:t,chartIds:n,isActiveChart:i,onTickerChange:o,onIntervalChange:s}){if(!e())return;const u=e(),d=t(),h=r(),p=DB({chart:u,chartIds:n,ticker:d,period:h,onTickerChange:o,onIntervalChange:s}),v=FB({chart:u,chartIds:n,isActiveChart:i,timeSyncManager:p.timeSyncManager});Fg.set(n,v),OB({chart:u,chartIds:n,isActiveChart:i,syncManager:p.syncManager}),zB({ticker:t,period:r,chartIds:n,syncManager:p.syncManager,timeSyncManager:p.timeSyncManager,drawingSyncManager:p.drawingSyncManager,tickerSyncManager:p.tickerSyncManager,intervalSyncManager:p.intervalSyncManager,initialTicker:p.initialTicker})}function BB(e){const r=Fg.get(e);r&&(r(),Fg.delete(e)),sv().unregisterChart(e),dy().unregisterChart(e),dv().unregisterChart(e),pv().unregisterChart(e),P1().unregisterChart(e)}function $B(e,r){sv().updateChartStyles(e,r)}function WB({chartRef:e,period:r,setChart:t,timezone:n,documentResize:i}){window.addEventListener("resize",i);const o=UB(e,r);n&&n.key&&(console.log("setting timezone",n.key),o.setTimezone(n.key)),t(o);const s=o.getDom("candle_pane","yAxis"),u=document.createElement("span");return u.className="chartspire-price-unit",s==null||s.appendChild(u),{chart:o,priceUnitDom:u}}function UB(e,r){const t=F7(e,{formatter:{formatDate:n=>{const i=aB(),o=r();if(n.type==="xAxis"){const u=HB(o,n.template);return hn.formatDate(i,n.timestamp,u)}const s=YB(o);return hn.formatDate(i,n.timestamp,s)}}});if(!t)throw new Error("Failed to initialize chart");return t}function HB(e,r){switch(e.timespan){case"minute":return"HH:mm";case"hour":return"(DD) HH:mm";case"day":return e.multiplier===1?"MM-DD":"YYYY-MM-DD";case"week":return"YYYY-MM-DD";case"month":return"YYYY-MM";case"year":return"YYYY";default:return r}}function YB(e){switch(e.timespan){case"minute":return"MM-DD HH:mm";case"hour":return"YYYY-MM-DD HH:mm";case"day":case"week":return"YYYY-MM-DD";case"month":return"YYYY-MM";case"year":return"YYYY";default:return"YYYY-MM-DD HH:mm"}}async function XB({chart:e,layout:r,ticker:t,updateIndicators:n,addMainIndicatorsToChart:i}){const o=ut.getInstance(e),s=await jB(o,r);await ZB(o,s,n,i);const u=await GB(o,s,e);return await qB(o,s,t,e),{savedStyles:u,layoutData:s}}async function jB(e,r){return r()===e.getDefaultLayout()?e.getDefaultLayoutData():await e.getLayoutFromStore()??e.getDefaultLayoutData()}async function ZB(e,r,t,n){const i=await e.getIndicators(r);t(i.indicators),n()}async function GB(e,r,t){const n=await e.getStyles(r);return n!=null&&t.setStyles(n),n}async function qB(e,r,t,n){const i=await e.getOverlays(r);Je.forEach(i,o=>{var s;i!=null&&t().ticker===((s=o.tickerInfo)==null?void 0:s.ticker)&&t().type===o.tickerInfo.type&&n.createOverlay(o.overlay)})}function KB(e,r,t,n,i,o){t(e);const s=e.data.current.timestamp,u=new Date(s);n("Candle selected from date: "+u.toLocaleString()+" - Press play to start replay"),Xg(r),i(o)}function QB(e,r,t,n,i,o,s){const u=r.paneId,d=r.indicator,h=r.feature;if(d&&h){const p=d.name;switch(h.id){case"invisible":{e.overrideIndicator({name:p,visible:!0,paneId:u});break}case"visible":{e.overrideIndicator({name:p,visible:!1,paneId:u});break}case"setting":{const v=e.getIndicators({name:p,paneId:u});if(v&&v.length>0){const m=v[0];m&&t({visible:!0,indicatorName:p,paneId:u,calcParams:m.calcParams,styles:m.styles})}break}case"close":{if(u==="candle_pane"){const v=[...n()];e.removeIndicator({name:p,paneId:"candle_pane"}),v.splice(v.indexOf(p),1),i(v)}else{const v={...o()};e.removeIndicator({name:p,paneId:u}),delete v[p],s(v)}ut.getInstance(e).saveIndicators();break}}}}function JB({chart:e,mainIndicators:r,setMainIndicators:t,subIndicators:n,setSubIndicators:i,setIndicatorSettingModalParams:o}){return s=>{QB(e,s,o,r,t,n,i)}}function e$({chart:e,layout:r,mainIndicators:t,setMainIndicators:n,subIndicators:i,setSubIndicators:o,setReplayCandle:s,setAlertMessage:u,setReplayWidget:d,setIndicatorSettingModalParams:h}){const p=JB({chart:e,mainIndicators:t,setMainIndicators:n,subIndicators:i,setSubIndicators:o,setIndicatorSettingModalParams:h});e.subscribeAction("onIndicatorTooltipFeatureClick",p),e.subscribeAction("onCandleBarClick",v=>{KB(v,r,s,u,d,e)})}async function t$({chart:e,setAllLayouts:r,layoutLimit:t}){const n=await ut.getInstance(e).getNameOfAllLayouts();r(n.slice(0,t))}async function r$(e,r,t,n,i,o,s,u,d,h,p,v,m,C,b,w,_,S,M,I){const{chart:A,priceUnitDom:P}=WB({chartRef:e,period:r,setChart:n,timezone:I(),documentResize:w}),{savedStyles:$}=await XB({chart:A,layout:o,ticker:i,updateIndicators:_,addMainIndicatorsToChart:M});VB({chart:()=>A,period:r,ticker:i,chartIds:S.chartIds,isActiveChart:()=>S.isActiveChart,onTickerChange:S.onTickerChange,onIntervalChange:S.onIntervalChange}),$&&$B(S.chartIds,$),e$({chart:A,layout:o,mainIndicators:s,setMainIndicators:u,subIndicators:d,setSubIndicators:h,setReplayCandle:p,setAlertMessage:v,setReplayWidget:m,setIndicatorSettingModalParams:b}),await t$({chart:A,setAllLayouts:C,layoutLimit:S.layoutLimit}),eB(()=>A,i,P)}function n$(e){BB(e)}function p2(e,r,t,n,i){if(i){const o=i.getAttribute("data-chart-id");o&&n$(o)}if(window.removeEventListener("resize",e),r){const o={multiplier:1,timespan:"minute",text:"1m"};r.unsubscribeTicker(t,o,n)}s5(Ct.ALL)}const i$=e=>ae(Ke,{get when(){return e.isActive},get children(){return ae(Wz,{get widget(){return e.widget},get ticker(){return e.ticker},get setInterval(){return e.setInterval},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get layoutLimit(){return e.layoutLimit},get onLayoutChange(){return e.onLayoutChange},get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}})}}),a$=e=>{const[r,t]=ye(!1);return[ae(Ke,{get when(){return e.overlayOptionsVisible},get children(){return ae(FV,{get setOverlayVisible(){return e.setOverlayOptionsVisible},get overlay(){return e.overlayStyles},get widget(){return e.widget},get locale(){return e.locale},get currentLayout(){return e.currentLayout},get chartId(){return e.chartId},get overlayMousePosition(){return e.overlayMousePosition},setShowOverlaySetting:t})}}),ae(Ke,{get when(){return r()},get children(){return ae(_y,{get widget(){return e.widget},get locale(){return e.locale},get overlay(){return e.overlayStyles},get setOverlayVisible(){return e.setOverlayOptionsVisible},setShowOverlaySetting:t,get chartId(){return e.chartId},onConfirm:n=>{console.log("Selected color:",n),t(!1)}})}})]};var o$=te("<div class=chartspire-ui-renko-setting-modal-content><div class=content><div class=setting-item><span></span></div><div class=setting-footer><button class=cancel-button></button><button class=confirm-button>");const l$=e=>{var r,t;const n=((t=(r=e.widget.getStyles().candle.renko)==null?void 0:r.brick)==null?void 0:t.size)||yB,[i,o]=ye(n.toString()),s=()=>{const d=e.widget.getStyles();d.candle.renko||(d.candle.renko={brick:{size:10}}),d.candle.renko||(d.candle.renko={brick:{size:10}});const h=Number(i());!isNaN(h)&&h>0?(d.candle.renko&&(d.candle.renko={brick:{size:h}}),e.widget.setStyles(d),ut.getInstance(e.widget).saveStyles(),e.widget.resize(),e.setRenkoRefresh(!0),console.log(`Renko brick size updated to ${h}`)):console.error("Invalid brick size"),e.setShowRenkoSetting(!1),e.setRenkoPopupVisible(!1),e.onConfirm()},u=()=>{e.setShowRenkoSetting(!1)};return ae(zl,{get title(){return L("renko_settings",e.locale)||"Renko Settings"},contentHeight:"auto",onClose:u,get children(){var d=o$(),h=d.firstChild,p=h.firstChild,v=p.firstChild,m=p.nextSibling,C=m.firstChild,b=C.nextSibling;return N(v,()=>L("brick_size",e.locale)||"Brick Size"),N(p,ae($o,{style:{width:"120px"},get value(){return i()},onChange:w=>o(w),min:.1}),null),C.$$click=u,N(C,()=>L("cancel",e.locale)||"Cancel"),b.$$click=s,N(b,()=>L("save",e.locale)||"Save"),d}})};yr(["click"]);var s$=te("<div class=chartspire-ui-popup-background><div class=popup><button>Brick Size Settings</button><button>Close");const c$=e=>{const[r,t]=ye(!1),n=s=>{s.preventDefault()},i=()=>{t(!0)},o=()=>{e.setRenkoPopupVisible(!1)};return(()=>{var s=s$(),u=s.firstChild,d=u.firstChild,h=d.nextSibling;return s.$$contextmenu=n,d.$$click=i,h.$$click=o,N(s,ae(Ke,{get when(){return r()},get children(){return ae(l$,{get widget(){return e.widget},get locale(){return e.locale},get setRenkoPopupVisible(){return e.setRenkoPopupVisible},setShowRenkoSetting:t,get setRenkoRefresh(){return e.setRenkoRefresh},onConfirm:()=>{t(!1)}})}}),null),ze(p=>{var v=`${e.renkoMousePosition.y}px`,m=`${e.renkoMousePosition.x}px`;return v!==p.e&&((p.e=v)!=null?u.style.setProperty("top",v):u.style.removeProperty("top")),m!==p.t&&((p.t=m)!=null?u.style.setProperty("left",m):u.style.removeProperty("left")),p},{e:void 0,t:void 0}),s})()};yr(["contextmenu","click"]);const u$=()=>{const[e,r]=Ds({timezoneModalVisible:!1,multiChartModalVisible:!1,tickerSearchModalVisible:!1,indicatorModalVisible:!1,settingModalVisible:!1,overlaySettingVisible:!1,renkoPopupVisible:!1});return{modalState:e,setModalState:r,toggleModal:(t,n)=>{r(t,n??!e[t])},closeAllModals:()=>{r({timezoneModalVisible:!1,multiChartModalVisible:!1,tickerSearchModalVisible:!1,indicatorModalVisible:!1,settingModalVisible:!1,overlaySettingVisible:!1,renkoPopupVisible:!1})}}},d$=e=>{const[r,t]=Ds({chart:null,dataFeed:Nr.getDefaultDataFeed(),prevDataFeed:Nr.getDefaultDataFeed(),ticker:{...e.ticker},interval:{...e.interval},mainIndicators:[...e.mainIndicators],subIndicators:{},candleType:"candle_solid",layout:"default",hasLayoutChanged:!1});return{chartData:r,setChartData:t}},h$=e=>{const[r,t]=Ds({drawingBarVisible:!!e.drawingBarVisible,loadingVisible:!1,drawingBarCollapsed:!1,screenshotUrl:"",renkoRefresh:!1});return{uiState:r,setUIState:t}},p$=()=>{const[e,r]=Ds({overlayMousePosition:{x:0,y:0},renkoMousePosition:{x:0,y:0}});return{positions:e,setPositions:r}},f$=e=>{const[r,t]=Ds({styles:{...e.styles},chartStyles:void 0,overlay:null,indicatorSettingModalParams:{visible:!1,indicatorName:"",paneId:"",calcParams:[],styles:{}}});return{settings:r,setSettings:t}};var g$=te('<i class="icon-close chartspire-ui-load-icon">');const fg=new Set,[f2,gg]=ye([]),[ap,v$]=ye("en-US"),[yd,vg]=ye({key:"America/New_York",text:Ig("America/New_York","en-US")}),m$=e=>{fg.has(e.chartIds)?console.warn(`Chart ${e.chartIds} is being mounted again, this may cause issues`):(console.log(`Mounting chart ${e.chartIds} for the first time`),fg.add(e.chartIds));const r=Math.random().toString(36).slice(2,11),t={id:e.chartIds};let n=!1,i;const{modalState:o,setModalState:s}=u$(),{chartData:u,setChartData:d}=d$(e),{uiState:h,setUIState:p}=h$(e),{positions:v,setPositions:m}=p$(),{settings:C,setSettings:b}=f$(e),{setDrawingBarCollapsed:w,cleanUpDrawingBar:_}=LB(()=>{var B;return(B=u.chart)==null?void 0:B.resize()});AB(()=>e.ticker,()=>u.ticker,B=>d("ticker",B));const S=B=>{w(B),p("drawingBarCollapsed",B)},M=()=>{var B;(B=u.chart)==null||B.resize()},I=B=>{LM(B,u.chart,he=>d("mainIndicators",he),he=>d("subIndicators",he))},A=()=>{PM(u.mainIndicators,u.chart)};Bi(()=>{const B={destroy:()=>{console.log("MainUI destroy called for chart:",e.chartIds),p2(M,u.dataFeed,u.ticker,r,i)},setStyles:he=>{setTimeout(()=>{var Ce;(Ce=u.chart)==null||Ce.setStyles(he),CM(he)},50)},getStyles:()=>u.chart?u.chart.getStyles():{},setLocale:he=>{var Ce;v$(he),(Ce=u.chart)==null||Ce.setLocale(he),vg({key:yd().key,text:Ig(yd().key,he)})},getLocale:()=>ap(),setTimezone:he=>{vg({key:he,text:Ig(he,ap())})},getTimezone:()=>yd().key,setTicker:(he,Ce)=>{var be;(be=u.dataFeed)==null||be.unsubscribeTicker(u.ticker,Wo,r),d("dataFeed",Ce),d("ticker",he)},getTicker:()=>u.ticker,setInterval:he=>{var Ce;(Ce=u.dataFeed)==null||Ce.unsubscribeTicker(u.ticker,Wo,r),d("interval",he)},getInterval:()=>u.interval,getMultiCharts:()=>e.multiChartLimit,getUnderlyingChart:()=>u.chart};e.ref(B)});const{replayModalVisible:P,setReplayModalVisible:$,replaySpeed:D,setReplaySpeed:z,setReplayPlay:V,setReplayPaused:W,replayCandle:Q,setReplayCandle:se,isAlertVisible:X,alertMessage:J,setAlertMessage:le,resetReplayState:j,setSkipToEnd:q,isPlaying:Z,setReplayWidget:re}=bB(e.locale,u.chart,t),ee=kB(()=>u.chart,()=>C.chartStyles,()=>u.candleType,B=>d("candleType",B),()=>u.ticker,()=>u.interval,()=>u.dataFeed,()=>h.renkoRefresh,B=>p("renkoRefresh",B),r);Bi(async()=>{d("layout",ut.getInstance(u.chart||{}).getDefaultLayout()),await r$(i,()=>u.interval,()=>u.chart,B=>d("chart",B),()=>u.ticker,()=>u.layout,()=>u.mainIndicators,B=>d("mainIndicators",B),()=>u.subIndicators,B=>d("subIndicators",B),se,le,re,gg,B=>b("indicatorSettingModalParams",B),M,I,e,A,yd)}),_n(()=>{p2(M,u.dataFeed,u.ticker,r,i),console.log(`Removing chart ${e.chartIds} from mounted charts tracking`),fg.delete(e.chartIds),_&&_()}),xB(()=>u.chart,()=>u.ticker,()=>u.interval,P,r,n,B=>p("loadingVisible",B),()=>u.prevDataFeed,B=>d("prevDataFeed",B),B=>d("dataFeed",B),()=>u.candleType),cB(()=>u.chart,e.theme),nB(()=>u.chart,ap),oB(()=>u.chart,yd,M),lB(()=>u.chart,()=>C.styles,B=>b("chartStyles",B)),ZV(()=>e.multiChartLimit,M),tB(()=>e.resizeChart,M),rB(()=>e.rightBarExpandedViewVisible,M),jV(()=>e.isActiveChart,()=>u.ticker),XV(()=>u.layout,()=>e.isActiveChart,B=>d("hasLayoutChanged",B)),GV(()=>e.isActiveChart,()=>u.chart,()=>u.layout,()=>u.ticker,()=>u.hasLayoutChanged,B=>d("mainIndicators",B),B=>d("subIndicators",B),I,B=>s("overlaySettingVisible",B),B=>b("overlay",B),B=>m("overlayMousePosition",B),B=>d("candleType",B)),wB(A),SB(()=>u.candleType,()=>i,B=>s("renkoPopupVisible",B),B=>m("renkoMousePosition",B)),MB(()=>u.chart),EB(()=>u.chart,()=>u.ticker),PB(()=>u.chart,()=>u.interval,()=>e.candleCloseTimerEnabled??!1,()=>u.ticker,e.fontFamily);const H=B=>{i=B};return[g$(),ae(a$,{get overlayOptionsVisible(){return o.overlaySettingVisible},setOverlayOptionsVisible:B=>s("overlaySettingVisible",B),get overlayStyles(){return C.overlay},get widget(){return u.chart},get locale(){return e.locale},get currentLayout(){return u.layout},get chartId(){return e.chartIds},get overlayMousePosition(){return v.overlayMousePosition}}),ae(Ke,{get when(){return o.renkoPopupVisible},get children(){return ae(c$,{get widget(){return u.chart},setRenkoPopupVisible:B=>s("renkoPopupVisible",B),get locale(){return ap()},get renkoMousePosition(){return v.renkoMousePosition},setRenkoRefresh:B=>p("renkoRefresh",B)})}}),ae(YV,{get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},setTicker:B=>{d("ticker",B),e.isActiveChart&&e.onTickerChange&&e.onTickerChange(B.ticker,B.type||void 0)},get symbolTickerModalVisible(){return o.tickerSearchModalVisible},setTickerSearchModalVisible:B=>s("tickerSearchModalVisible",B),get locale(){return e.locale}}),ae($L,{mainIndicators:()=>u.mainIndicators,setMainIndicators:B=>d("mainIndicators",B),subIndicators:()=>u.subIndicators,setSubIndicators:B=>d("subIndicators",w5(B)),get indicatorModalVisible(){return o.indicatorModalVisible},setIndicatorModalVisible:B=>s("indicatorModalVisible",B),get widget(){return u.chart},get locale(){return e.locale},get currentLayout(){return u.layout}}),ae(Ke,{get when(){return o.multiChartModalVisible},get children(){return ae(rP,{get multiChart(){return e.multiChartLimit},get maxMultiCharts(){return e.maxMultiCharts},get onMultiChartClick(){return e.onMultiChartClick},setMultiChartModalVisible:B=>s("multiChartModalVisible",B),get locale(){return e.locale}})}}),ae(OL,{get locale(){return e.locale},get replaySpeed(){return D()},setReplaySpeed:z,get replayCandle(){return Q()},onPlay:V,onPause:W,onClose:j,skipReplay:q,isPlaying:Z,get chartId(){return e.chartIds},get isAlertVisible(){return X()},get alertMessage(){return J()},get replayModalVisible(){return P()},get isActive(){return e.isActiveChart}}),ae(OV,{get timezone(){return yd()},setTimezone:vg,get timezoneModalVisible(){return o.timezoneModalVisible},setTimezoneModalVisible:B=>s("timezoneModalVisible",B),get locale(){return e.locale}}),ae(RV,{settingModalVisible:()=>o.settingModalVisible,setSettingModalVisible:B=>s("settingModalVisible",B),get widget(){return u.chart},widgetDefaultStyles:()=>C.chartStyles,get locale(){return e.locale},get currentLayout(){return u.layout}}),ae(NV,{get screenshotUrl(){return h.screenshotUrl},setScreenshotUrl:B=>p("screenshotUrl",B),get locale(){return e.locale}}),ae(zV,{get locale(){return e.locale},get widget(){return u.chart},get currentLayout(){return u.layout},get indicatorSettingModalParams(){return C.indicatorSettingModalParams},setIndicatorSettingModalParams:B=>b("indicatorSettingModalParams",B)}),ae(VV,{get rootContainer(){return e.rootContainer},get locale(){return e.locale},get ticker(){return u.ticker},get spread(){return h.drawingBarVisible},get period(){return u.interval},setPeriod:B=>{d("interval",B),e.isActiveChart&&e.onIntervalChange&&e.onIntervalChange(B)},get periods(){return e.periods},get multiChart(){return e.multiChartLimit},get widget(){return u.chart},get theme(){return e.theme},get isActive(){return e.isActiveChart},setIndicatorModalVisible:B=>s("indicatorModalVisible",B),setMultiChartModalVisible:B=>s("multiChartModalVisible",B),get replayModalVisible(){return P()},setReplayModalVisible:$,setSettingModalVisible:B=>s("settingModalVisible",B),setScreenshotUrl:B=>p("screenshotUrl",B),setTimezoneModalVisible:B=>s("timezoneModalVisible",B),get tickerSearchModalVisible(){return o.tickerSearchModalVisible},setTickerSearchModalVisible:B=>s("tickerSearchModalVisible",B),get drawingBarVisible(){return h.drawingBarVisible},setDrawingBarVisible:B=>p("drawingBarVisible",B),get layout(){return u.layout},setLayout:B=>d("layout",B),get allLayouts(){return f2()},setAllLayouts:gg,get layoutLimit(){return e.layoutLimit},get currentCandleType(){return u.candleType},onCandleTypeChange:ee,get indicatorModalVisible(){return o.indicatorModalVisible},get timezoneModalVisible(){return o.timezoneModalVisible},get settingModalVisible(){return o.settingModalVisible},get multiChartModalVisible(){return o.multiChartModalVisible}}),ae(BV,{get isActive(){return e.isActiveChart},get locale(){return e.locale},get drawingBarVisible(){return h.drawingBarVisible},get widget(){return u.chart},get currentLayout(){return u.layout},setOverlaySettingVisible:B=>s("overlaySettingVisible",B),setOverlayStyles:B=>b("overlay",B),setOverlayMousePosition:B=>m("overlayMousePosition",B),get chartIds(){return e.chartIds},get drawingBarCollapsed(){return h.drawingBarCollapsed},setDrawingBarCollapsed:S}),ae(i$,{get isActive(){return e.isActiveChart},get widget(){return u.chart},get ticker(){return u.ticker},setInterval:B=>{d("interval",B),e.isActiveChart&&e.onIntervalChange&&e.onIntervalChange(B)},get layout(){return u.layout},get allLayouts(){return f2()},setAllLayouts:gg,get layoutLimit(){return e.layoutLimit},onLayoutChange:B=>d("layout",B),get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}}),ae(HV,{ref:H,get chartIds(){return e.chartIds},get multiChart(){return e.multiChartLimit},get isActive(){return e.isActiveChart},get loadingVisible(){return h.loadingVisible},get drawingBarVisible(){return h.drawingBarVisible},get drawingBarCollapsed(){return h.drawingBarCollapsed},get onClick(){return e.onClick}})]};function y$(e,r,t){const[n,i]=ye(e.ticker),[o,s]=ye(r.reduce((u,d)=>(u[d]=e.ticker,u),{}));return nt(()=>{const u=et(t);u!=null&&s(d=>({...d,[u]:n()}))}),[n,i,o,s]}function x$(e,r,t){nt(()=>{const n=e.slice(0,r());t(n[0])})}function C$(e,r){nt(()=>{e==null||e.setAttribute("data-theme",r()),localStorage.setItem(Mv,r())})}var b$=te('<div class="modal-panel watchlist-panel">'),w$=te('<div class="modal-panel paper-trading-panel">'),_$=te('<div class="modal-panel dom-panel">'),k$=te('<div class="split-handle first-split-handle"><div class=split-handle-indicator>'),S$=te("<div>"),M$=te("<div class=chartspire-ui-right-bar-extended-view><div class=resizable-handle>");const E$=e=>{const[r,t]=ye(parseInt(getComputedStyle(document.documentElement).getPropertyValue("--right-bar-extended-view-width"),10)),[n,i]=ye(0),[o,s]=ye(50),[u,d]=ye(75);let h,p,v,m,C=0,b=0;const w=Gr(()=>{const j=[];return e.watchListModalVisible&&j.push("watchlist"),e.paperTradingModalVisible&&j.push("papertrading"),e.domModalVisible&&j.push("dom"),j}),_=Gr(()=>w().length),S=Gr(()=>_()===2),M=j=>{const q=w(),Z=q.indexOf(j);return q.length===1?"100%":q.length===2?Z===0?`${o()}%`:`${100-o()}%`:"100%"};nt(()=>{if(e.chart&&e.paperTradingModalVisible&&e.currentTicker){const j=()=>{try{const Z=e.chart.getDataList();if(Z&&Z.length>0){const re=Z[Z.length-1];i(re.close||0)}}catch(Z){console.error("Error getting current price from chart:",Z)}};j();const q=setInterval(j,1e3);return()=>{clearInterval(q)}}});const I=j=>{h=j.clientX,p=r(),document.addEventListener("mousemove",A),document.addEventListener("mouseup",P)},A=j=>{const q=p-(j.clientX-h);t(q),document.documentElement.style.setProperty("--right-bar-extended-view-width",`${q}px`),e.resizeChart(Z=>!Z)},P=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",P)},$=j=>{j.preventDefault(),j.stopPropagation(),v=j.clientY,m=o(),document.addEventListener("mousemove",D),document.addEventListener("mouseup",z)},D=j=>{const q=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!q)return;const Z=q.getBoundingClientRect(),re=(j.clientY-v)/Z.height*100;let ee=m+re;ee=Math.max(20,Math.min(80,ee)),s(ee)},z=()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",z)},V=j=>{j.preventDefault(),j.stopPropagation();const q=j.touches[0];q&&(v=q.clientY,m=o(),document.addEventListener("touchmove",W,{passive:!1}),document.addEventListener("touchend",Q))},W=j=>{j.preventDefault();const q=j.touches[0];if(!q)return;const Z=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!Z)return;const re=Z.getBoundingClientRect(),ee=(q.clientY-v)/re.height*100;let H=m+ee;H=Math.max(20,Math.min(80,H)),s(H)},Q=()=>{document.removeEventListener("touchmove",W),document.removeEventListener("touchend",Q)},se=j=>{const q=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!q)return;const Z=q.getBoundingClientRect(),re=(j.clientY-C)/Z.height*100;let ee=b+re;const H=o()+15;ee=Math.max(H,Math.min(95,ee)),d(ee)},X=()=>{document.removeEventListener("mousemove",se),document.removeEventListener("mouseup",X)},J=j=>{j.preventDefault();const q=j.touches[0];if(!q)return;const Z=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!Z)return;const re=Z.getBoundingClientRect(),ee=(q.clientY-C)/re.height*100;let H=b+ee;const B=o()+15;H=Math.max(B,Math.min(95,H)),d(H)},le=()=>{document.removeEventListener("touchmove",J),document.removeEventListener("touchend",le)};return _n(()=>{console.log("Cleaning up right bar extended view modal"),document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",P),document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",z),document.removeEventListener("touchmove",W),document.removeEventListener("touchend",Q),document.removeEventListener("mousemove",se),document.removeEventListener("mouseup",X),document.removeEventListener("touchmove",J),document.removeEventListener("touchend",le)}),(()=>{var j=M$(),q=j.firstChild;return q.$$mousedown=I,N(j,ae(Ke,{get when(){return _()>0},get children(){var Z=S$();return N(Z,ae(Ke,{get when(){return e.watchListModalVisible},get children(){var re=b$();return N(re,ae(NE,{get locale(){return e.locale},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get watchListLimit(){return e.watchListLimit},get subscribedTickersURL(){return e.subscribedTickersURL},get setTicker(){return e.setTicker},get useExternalWatchListStorage(){return e.useExternalWatchListStorage},get setInterval(){return e.setInterval}})),ze(ee=>(ee=M("watchlist"))!=null?re.style.setProperty("height",ee):re.style.removeProperty("height")),re}}),null),N(Z,ae(Ke,{get when(){return e.paperTradingModalVisible},get children(){var re=w$();return N(re,ae(yL,{get ticker(){return e.currentTicker||{ticker:"",type:null}},get currentPrice(){return n()},get locale(){return e.locale},get dataFeeds(){return new Map([[Ct.STOCKS.toString(),e.stockDataFeed],[Ct.CRYPTO.toString(),e.cryptoDataFeed],[Ct.FOREX.toString(),e.forexDataFeed],[Ct.FUTURES.toString(),e.futuresDataFeed]].filter(([ee,H])=>H!==null))},get priceTrackingConfig(){return{updateInterval:e.priceTrackingInterval,enableLogging:e.priceTrackingLogging}},get paperTradingUseExternalStorage(){return e.useExternalPaperTradingStorage},get paperTradingMaxTrades(){return e.paperTradingMaxTrades}})),ze(ee=>(ee=M("papertrading"))!=null?re.style.setProperty("height",ee):re.style.removeProperty("height")),re}}),null),N(Z,ae(Ke,{get when(){return e.domModalVisible},get children(){var re=_$();return N(re,ae(TL,{get locale(){return e.locale},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get currentTicker(){return e.currentTicker}})),ze(ee=>(ee=M("dom"))!=null?re.style.setProperty("height",ee):re.style.removeProperty("height")),re}}),null),N(Z,ae(Ke,{get when(){return S()},get children(){var re=k$();return re.$$touchstart=V,re.$$mousedown=$,ze(ee=>(ee=`${o()}%`)!=null?re.style.setProperty("top",ee):re.style.removeProperty("top")),re}}),null),ze(()=>Nt(Z,`modal-container ${S()?"split-view":"single-view"}`)),Z}}),null),ze(Z=>(Z=`${r()}px`)!=null?j.style.setProperty("width",Z):j.style.removeProperty("width")),j})()};yr(["mousedown","touchstart"]);const T$=2,I$=e=>{let r,t,n,i,o,s;const[u,d]=ye([]),{rightBarCollapsed:h,setRightBarCollapsed:p}=TB(e.chartComponentApis,e.resizeChart);e.isWatchListEnabled&&([r,t]=ye(!1)),e.isPaperTradingEnabled&&([n,i]=ye(!1)),e.isOrderBookEnabled&&([o,s]=ye(!1));const v=(w,_,S)=>!_||!S?null:M=>{const I=S(),A=typeof M=="function"?M(I):M;d(A?P=>{const $=P.filter(D=>D!==w);if($.push(w),$.length>T$){const D=$.shift();if(D)switch(D){case"watchlist":t&&t(!1);break;case"papertrading":i&&i(!1);break;case"orderbook":s&&s(!1);break}}return $}:P=>P.filter($=>$!==w)),_(A)},m=v("watchlist",t,r),C=v("papertrading",i,n),b=v("orderbook",s,o);return nt(()=>{((r==null?void 0:r())??!1)||((n==null?void 0:n())??!1)||((o==null?void 0:o())??!1)?(e.setRightBarExpandedViewVisible(!0),h()&&p(!1)):e.setRightBarExpandedViewVisible(!1),e.resizeChart(w=>!w)}),[ae(vD,{get isWatchListEnabled(){return e.isWatchListEnabled},get isPaperTradingEnabled(){return e.isPaperTradingEnabled},get watchListModalVisible(){return r!=null?r():!1},get paperTradingModalVisible(){return n!=null?n():!1},get isOrderBookEnabled(){return e.isOrderBookEnabled},get orderBookModalVisible(){return o!=null?o():!1},setWatchListModalVisible:m,setPaperTradingModalVisible:C,setOrderBookVisible:b,get rightBarCollapsed(){return h()},setRightBarCollapsed:p}),ae(Ke,{get when(){return e.rightBarExpandedViewVisible()},get children(){return ae(E$,{get locale(){return e.locale},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get watchListModalVisible(){return r!=null?r():!1},get paperTradingModalVisible(){return n!=null?n():!1},get domModalVisible(){return o!=null?o():!1},get priceTrackingInterval(){return e.paperTradingPriceTrackingInterval},get priceTrackingLogging(){return e.paperTradingPriceTrackingLogging},get useExternalPaperTradingStorage(){return e.paperTradingUseExternalStorage},get paperTradingMaxTrades(){return e.paperTradingMaxTrades},get watchListLimit(){return e.watchListLimit},get subscribedTickersURL(){return e.subscribedTickersURL??null},get setTicker(){return e.setTicker},get resizeChart(){return e.resizeChart},get useExternalWatchListStorage(){return e.watchListUseExternalStorage},get chart(){return e.chart},get currentTicker(){return e.currentTicker},get setInterval(){return e.setInterval}})}})]},L$=e=>({[Y.ONE]:1,[Y.TWO]:2,[Y.TWO_VERTICAL]:2,[Y.THREE]:3,[Y.THREE_VERTICAL]:3,[Y.THREE_MIXED]:3,[Y.THREE_MIXED_REVERSE]:3,[Y.THREE_MIXED_BOTTOM]:3,[Y.THREE_MIXED_TOP]:3,[Y.FOUR]:4,[Y.FOUR_VERTICAL]:4,[Y.FOUR_HORIZONTAL]:4,[Y.FOUR_MIXED]:4,[Y.FOUR_MIXED_REVERSE]:4,[Y.FOUR_MIXED_TOP]:4,[Y.FOUR_MIXED_BOTTOM]:4,[Y.FIVE_VERTICAL]:5,[Y.FIVE_HORIZONTAL]:5,[Y.FIVE_MIXED]:5,[Y.FIVE_MIXED_REVERSE]:5,[Y.FIVE_MIXED_TOP]:5,[Y.SIX]:6,[Y.SIX_HORIZONTAL]:6,[Y.SIX_VERTICAL]:6,[Y.SIX_MIXED]:6,[Y.SEVEN_HORIZONTAL]:7,[Y.SEVEN_VERTICAL]:7,[Y.EIGHT]:8,[Y.EIGHT_VERTICAL]:8,[Y.EIGHT_HORIZONTAL]:8,[Y.NINE]:9,[Y.NINE_VERTICAL]:9,[Y.NINE_HORIZONTAL]:9,[Y.TEN]:10,[Y.TEN_VERTICAL]:10,[Y.TEN_HORIZONTAL]:10,[Y.TWELVE]:12,[Y.TWELVE_VERTICAL]:12,[Y.TWELVE_HORIZONTAL]:12,[Y.TWELVE_GRID]:12,[Y.FOURTEEN]:14,[Y.SIXTEEN]:16,[Y.SIXTEEN_GRID]:16})[e]??e,P$=e=>({[Y.ONE]:"one-charts",[Y.TWO]:"two-charts",[Y.TWO_VERTICAL]:"two-charts-vertical",[Y.THREE]:"three-charts",[Y.THREE_VERTICAL]:"three-charts-vertical",[Y.THREE_MIXED]:"three-charts-mixed",[Y.THREE_MIXED_REVERSE]:"three-charts-mixed-reverse",[Y.THREE_MIXED_BOTTOM]:"three-charts-mixed-bottom",[Y.THREE_MIXED_TOP]:"three-charts-mixed-top",[Y.FOUR]:"four-charts",[Y.FOUR_VERTICAL]:"four-charts-vertical",[Y.FOUR_HORIZONTAL]:"four-charts-horizontal",[Y.FOUR_MIXED]:"four-charts-mixed",[Y.FOUR_MIXED_REVERSE]:"four-charts-mixed-reverse",[Y.FOUR_MIXED_TOP]:"four-charts-mixed-top",[Y.FOUR_MIXED_BOTTOM]:"four-charts-mixed-bottom",[Y.FIVE_VERTICAL]:"five-charts-vertical",[Y.FIVE_HORIZONTAL]:"five-charts-horizontal",[Y.FIVE_MIXED]:"five-charts-mixed",[Y.FIVE_MIXED_REVERSE]:"five-charts-mixed-reverse",[Y.FIVE_MIXED_TOP]:"five-charts-mixed-top",[Y.SIX]:"six-charts",[Y.SIX_HORIZONTAL]:"six-charts-horizontal",[Y.SIX_VERTICAL]:"six-charts-vertical",[Y.SIX_MIXED]:"six-charts-mixed",[Y.SEVEN_HORIZONTAL]:"seven-charts-horizontal",[Y.SEVEN_VERTICAL]:"seven-charts-vertical",[Y.EIGHT]:"eight-charts",[Y.EIGHT_VERTICAL]:"eight-charts-vertical",[Y.EIGHT_HORIZONTAL]:"eight-charts-horizontal",[Y.NINE]:"nine-charts",[Y.NINE_VERTICAL]:"nine-charts-vertical",[Y.NINE_HORIZONTAL]:"nine-charts-horizontal",[Y.TEN]:"ten-charts",[Y.TEN_VERTICAL]:"ten-charts-vertical",[Y.TEN_HORIZONTAL]:"ten-charts-horizontal",[Y.TWELVE]:"twelve-charts",[Y.TWELVE_VERTICAL]:"twelve-charts-vertical",[Y.TWELVE_HORIZONTAL]:"twelve-charts-horizontal",[Y.TWELVE_GRID]:"twelve-charts-grid",[Y.FOURTEEN]:"fourteen-charts",[Y.SIXTEEN]:"sixteen-charts",[Y.SIXTEEN_GRID]:"sixteen-charts-grid"})[e]??"one-charts";function A$(e,r){return t=>{const n=e();if(console.log("IntervalHandler: handleSetInterval called for chart:",n),console.log("IntervalHandler: Available chart APIs:",Object.keys(r)),r[n]){const i=typeof t=="function"?t({multiplier:1,timespan:"minute",text:"1m"}):t;console.log("IntervalHandler: Setting interval on chart:",n,"to:",i),r[n].chart.setInterval(i,n)}else console.error("IntervalHandler: Chart API not found for:",n)}}var D$=te("<div class=chartspire><div>");let vp=!0;const[Md,Dp]=ye(1);let Py=250;const Mv="chartspire-theme";let Ta="en-US";const F$=localStorage.getItem(Mv)??L("Light Theme 1",Ta),[Ar,g2]=ye(F$),[Ea,v2]=ye("chart1");class O${constructor(r){De(this,"_rootContainer",null),De(this,"_container"),De(this,"_chartApi",null),De(this,"_chartComponentApis",{}),De(this,"_dispose"),De(this,"_allChartIds",[]),De(this,"_visibleChartIds",()=>[]);var t,n;if(r.theme&&g2(r.theme),Ta=r.locale??"en-US",r.customStyles&&vM(r.customStyles),hn.isString(r.container)){if(this._container=document.getElementById(r.container),this._container==null)throw new Error("Container is null")}else this._container=r.container;ov(),this._rootContainer=document.createElement("div"),this._rootContainer.className="chartspire-root-container",(t=this._container)==null||t.appendChild(this._rootContainer),this._container.classList.add("chartspire-ui"),(n=this._container)==null||n.setAttribute("data-theme",Ar()),r.fontFamily?(this._container.style.setProperty("--chartspire-ui-font-family",r.fontFamily),console.log("ChartSpire: Font family set to:",r.fontFamily),console.log("ChartSpire: CSS custom property value:",this._container.style.getPropertyValue("--chartspire-ui-font-family"))):this._container.style.setProperty("--chartspire-ui-font-family",'Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'),C$(this._container,Ar),oE(r),vp=r.layoutUseExternalStorage??!1,Py=r.multiChartDelay??500,this._dispose=Td(i=>{let o=r.multiChartLimit??Y.SIXTEEN;(o<1||o>16)&&(o=Y.SIXTEEN,console.warn("Invalid multiChartLimit value. It must be between 1 and 16. Defaulting to 16."));const s=["chart1","chart2","chart3","chart4","chart5","chart6","chart7","chart8","chart9","chart10","chart11","chart12","chart13","chart14","chart15","chart16"].slice(0,o);this._allChartIds=s,Dp(Y.ONE);const u=Gr(()=>{const M=Md(),I=L$(M);return s.slice(0,I)});this._visibleChartIds=u;const[d,h]=ye(!1),[p,v]=ye(!1);let[m,C]=ye(r.ticker),[b,w]=ye({});r.watchlistEnabled===!0&&([m,C,b,w]=y$(r,s,Ea));const _=A$(Ea,this._chartComponentApis);x$(s,Md,Ea);const S=M=>{v2(M)};return oM(()=>{const M=this;return(()=>{var I=D$(),A=I.firstChild;return aa(P=>M._rootContainer=P,I),N(A,ae(Zn,{get each(){return u()},children:(P,$)=>ae(m$,{ref:D=>{if(M._chartApi=D,(D==null?void 0:D.destroy)!=null){M._chartComponentApis[P]={onCleanUp:D.destroy,chart:D,underlyingChart:null};const z=()=>{var V;const W=(V=D.getUnderlyingChart)==null?void 0:V.call(D);W?M._chartComponentApis[P].underlyingChart=W:setTimeout(z,100)};z()}},get rootContainer(){return M._rootContainer},get styles(){return r.styles??{}},get customStyles(){return r.customStyles},watermark:"options.watermark ?? (Logo as Node)",get locale(){return r.locale??"en-US"},get drawingBarVisible(){return r.drawingBarVisible??!0},get ticker(){var D;return((D=b())==null?void 0:D[P])??r.ticker},get interval(){return r.interval},get periods(){return r.periods??[{multiplier:1,timespan:un.MINUTE,text:Ue.ONE_MIN},{multiplier:3,timespan:un.MINUTE,text:Ue.THREE_MIN},{multiplier:5,timespan:un.MINUTE,text:Ue.FIVE_MIN},{multiplier:15,timespan:un.MINUTE,text:Ue.FIFTEEN_MIN},{multiplier:30,timespan:un.MINUTE,text:Ue.THIRTY_MIN},{multiplier:1,timespan:un.HOUR,text:Ue.ONE_HOUR},{multiplier:2,timespan:un.HOUR,text:Ue.TWO_HOUR},{multiplier:4,timespan:un.HOUR,text:Ue.FOUR_HOUR},{multiplier:1,timespan:un.DAY,text:Ue.ONE_DAY},{multiplier:1,timespan:un.WEEK,text:Ue.ONE_WEEK},{multiplier:1,timespan:un.MONTH,text:Ue.ONE_MONTH}]},get timezone(){return r.timezone??"UTC"},get mainIndicators(){return r.mainIndicators??[]},get subIndicators(){return r.subIndicators??[]},maxMultiCharts:o,get defaultDataFeed(){return Nr.getDefaultDataFeed()},get stockDataFeed(){return r.stockDataFeed??null},get cryptoDataFeed(){return r.cryptoDataFeed??null},get forexDataFeed(){return r.forexDataFeed??null},get futuresDataFeed(){return r.futuresDataFeed??null},get layoutLimit(){return r.layoutLimit??20},get themeUseExternalStorage(){return r.themeUseExternalStorage??!1},onClick:()=>{S(P)},get isActiveChart(){return Ea()===P},get multiChartLimit(){return Md()},onMultiChartClick:HL,chartIds:P,get theme(){return Ar()},setTheme:g2,onTickerChange:(D,z)=>{let V=Nr.getDefaultDataFeed();if(z)switch(z){case"stock":V=r.stockDataFeed??Nr.getDefaultDataFeed();break;case"crypto":V=r.cryptoDataFeed??Nr.getDefaultDataFeed();break;case"forex":V=r.forexDataFeed??Nr.getDefaultDataFeed();break;case"futures":V=r.futuresDataFeed??Nr.getDefaultDataFeed();break;default:V=Nr.getDefaultDataFeed()}const W={ticker:D,type:z||"stock"};M.setTicker(W,P,V)},onIntervalChange:D=>{M.setInterval(D,P)},get rightBarExpandedViewVisible(){return d()},get resizeChart(){return p()},get candleCloseTimerEnabled(){return r.candleCloseTimerEnabled??!1},get fontFamily(){return r.fontFamily??"monospace"}})})),N(I,ae(I$,{get isWatchListEnabled(){return r.watchlistEnabled??!1},get isPaperTradingEnabled(){return r.paperTradingEnabled??!1},get isOrderBookEnabled(){return r.orderBookEnabled??!1},get paperTradingPriceTrackingInterval(){return r.paperTradingPriceTrackingInterval},get paperTradingPriceTrackingLogging(){return r.paperTradingPriceTrackingLogging},get paperTradingUseExternalStorage(){return r.paperTradingUseExternalStorage??!1},get paperTradingMaxTrades(){return r.paperTradingMaxTrades},get subscribedTickersURL(){return r.subscribedTickersURL??null},get watchListLimit(){return r.watchListLimit??50},get watchListUseExternalStorage(){return r.watchListUseExternalStorage??!1},setTicker:C,setInterval:_,rightBarExpandedViewVisible:d,setRightBarExpandedViewVisible:h,get locale(){return r.locale??"en-US"},get stockDataFeed(){return r.stockDataFeed??null},get cryptoDataFeed(){return r.cryptoDataFeed??null},get forexDataFeed(){return r.forexDataFeed??null},get futuresDataFeed(){return r.futuresDataFeed??null},resizeChart:v,get chart(){var P;return((P=M._chartComponentApis[Ea()])==null?void 0:P.underlyingChart)||null},get currentTicker(){return Le(()=>{var P;return!!((P=M._chartComponentApis[Ea()])!=null&&P.chart)})()&&M._chartComponentApis[Ea()].chart.getTicker(Ea())||void 0},get chartComponentApis(){return M._chartComponentApis}}),null),ze(P=>{var $=`chartspire-ui-parent-flex ${P$(Md())}`,D=d();return $!==P.e&&Nt(A,P.e=$),D!==P.t&&$e(A,"right-bar-extended-view-visible",P.t=D),P},{e:void 0,t:void 0}),I})()},this._container),i})}setTheme(r){var t;const n=[L("Light Theme 1",Ta),L("Light Theme 2",Ta),L("Midnight Theme",Ta),L("Dark Theme",Ta),L("Dark Gray Theme",Ta),L("Blue Theme",Ta),L("Red Theme",Ta),L("Green Theme",Ta),L("Yellow Theme",Ta),L("Pink Theme",Ta)];if(!n.includes(r)){console.error("Invalid theme: ",r," should be one of: ",n);return}(t=this._container)==null||t.setAttribute("data-theme",r)}getTheme(){return Ar()}setStyles(r){Object.values(this._chartComponentApis).forEach(t=>{console.log("setting styles",r),t.chart.setStyles(r)})}getStyles(){return this._chartComponentApis[Ea()].chart.getStyles()}setCustomStyles(r){f1().updateCustomOverrides(r);const t=Ar();Object.values(this._chartComponentApis).forEach(n=>{n.chart.setStyles(zi(t))})}getCustomStyles(){return f1().getCustomOverrides()}clearCustomStyles(){f1().clearCustomOverrides();const r=Ar();Object.values(this._chartComponentApis).forEach(t=>{t.chart.setStyles(zi(r))})}hasCustomStyles(){return f1().hasCustomStyles()}setLocale(r){Object.values(this._chartComponentApis).forEach(t=>{console.log("setting locale",r),t.chart.setLocale(r)})}getLocale(){var r;return((r=this._chartApi)==null?void 0:r.getLocale())??"en-US"}setFontFamily(r){this._container&&(this._container.style.setProperty("--chartspire-ui-font-family",r),console.log("ChartSpire: Font family updated to:",r),console.log("ChartSpire: CSS custom property value:",this._container.style.getPropertyValue("--chartspire-ui-font-family")))}getFontFamily(){return this._container&&this._container.style.getPropertyValue("--chartspire-ui-font-family")||'Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'}setTimezone(r){Object.values(this._chartComponentApis).forEach(t=>{t.chart.setTimezone(r)})}getTimezone(){var r;return((r=this._chartApi)==null?void 0:r.getTimezone())??"America/New_York"}setTicker(r,t,n){if(this._chartComponentApis[t]==null){console.error("Chart not found: ",t);return}if(n==null){console.error("Data feed is null");return}this._chartComponentApis[t].chart.setTicker(r,t,n)}getTicker(r){return this._chartComponentApis[r]==null?(console.error("Chart not found: ",r),null):this._chartComponentApis[r].chart.getTicker(r)}setInterval(r,t){if(this._chartComponentApis[t]==null){console.error("Chart not found: ",t);return}this._chartComponentApis[t].chart.setInterval(r,t)}getInterval(r){return this._chartComponentApis[r]==null?(console.error("Chart not found: ",r),null):this._chartComponentApis[r].chart.getInterval(r)}getActiveChart(){return this._chartApi}getChart(r){return this._chartComponentApis[r]==null?(console.error("Chart not found"),null):this._chartComponentApis[r].chart}isActiveChart(r){return Ea()===r}setActiveChart(r){if(this._chartComponentApis[r]==null){console.error("Chart not found: ",r);return}v2(r)}getMultiChart(){return Md()}getAllChartIds(){return[...this._allChartIds]}getVisibleChartIds(){return[...this._visibleChartIds()]}destroy(){console.log("Destroying chart");const r=Object.keys(this._chartComponentApis).length;console.log(`Destroying ${r} charts`),Object.entries(this._chartComponentApis).forEach(([t,n])=>{n.onCleanUp()}),this._dispose(),WL(),this._container.classList.remove("chartspire-ui"),this._container.removeAttribute("data-theme"),this._container.innerHTML="",this._container=null,this._chartApi=null,this._chartComponentApis={}}syncAllTickersToActiveChart(){dv().syncAllToActiveTicker(Ea())}syncAllIntervalsToActiveChart(){pv().syncAllToActiveInterval(Ea())}}Hg.forEach(e=>{E2(e)});Sk.forEach(e=>{w8(e)});const R$=()=>{const e=b1.useRef(null),r=b1.useRef(null);return b1.useEffect(()=>{if(e.current){const t={container:e.current,locale:"en-US",ticker:{exchange:"binance",market:"Crypto",name:"Bitcoin",shortName:"BTCUSDT",ticker:"BTCUSDT",priceCurrency:"usd",type:Ct.CRYPTO},interval:{multiplier:1,timespan:"week",text:"W"},watchlistEnabled:!0,watchListUseExternalStorage:!1,defaultDataFeed:new wg,cryptoDataFeed:new wg,layoutUseExternalStorage:!1,layoutLimit:10,paperTradingEnabled:!0,paperTradingUseExternalStorage:!1,paperTradingPriceTrackingInterval:3e4,paperTradingMaxTrades:100,multiChartLimit:16,themeUseExternalStorage:!1,orderBookEnabled:!0};r.current=new O$(t)}return()=>{r.current&&(console.warn("chartRef.current.destroy() called in ChartSpireReact.tsx useEffect cleanup function"),r.current.destroy(),r.current=null)}},[]),Es.jsx("div",{id:"container",ref:e})},m2={statusBar:{backgroundColor:"#ff6b6b",color:"white",padding:"8px 16px",textAlign:"center",fontWeight:"bold",fontSize:"14px",position:"absolute",top:0,left:0,right:0,zIndex:1000020,width:"100%",boxSizing:"border-box"},closeButton:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"18px",padding:"2px 6px"}};function N$(){const[e,r]=b1.useState(!0);return Es.jsxs(Es.Fragment,{children:[e&&Es.jsxs("div",{style:m2.statusBar,children:[" Alpha v1.0.0-alpha13: Data from Binance API. This is a pre-release version for testing purposes only.",Es.jsx("button",{style:m2.closeButton,onClick:()=>r(!1),title:"Hide status bar",children:""})]}),Es.jsx(R$,{})]})}c6.createRoot(document.getElementById("root")).render(Es.jsx(b1.StrictMode,{children:Es.jsx(N$,{})}));
