(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Df={exports:{}},e1={},Ff={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function z3(){if(Nv)return Yt;Nv=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),v=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function k(H,ie,xe){this.props=H,this.context=ie,this.refs=_,this.updater=xe||C}k.prototype.isReactComponent={},k.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},k.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function S(){}S.prototype=k.prototype;function T(H,ie,xe){this.props=H,this.context=ie,this.refs=_,this.updater=xe||C}var I=T.prototype=new S;I.constructor=T,b(I,k.prototype),I.isPureReactComponent=!0;var P=Array.isArray,L=Object.prototype.hasOwnProperty,z={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function V(H,ie,xe){var Le,Pe={},be=null,He=null;if(ie!=null)for(Le in ie.ref!==void 0&&(He=ie.ref),ie.key!==void 0&&(be=""+ie.key),ie)L.call(ie,Le)&&!R.hasOwnProperty(Le)&&(Pe[Le]=ie[Le]);var Ae=arguments.length-2;if(Ae===1)Pe.children=xe;else if(1<Ae){for(var Ne=Array(Ae),ve=0;ve<Ae;ve++)Ne[ve]=arguments[ve+2];Pe.children=Ne}if(H&&H.defaultProps)for(Le in Ae=H.defaultProps,Ae)Pe[Le]===void 0&&(Pe[Le]=Ae[Le]);return{$$typeof:e,type:H,key:be,ref:He,props:Pe,_owner:z.current}}function $(H,ie){return{$$typeof:e,type:H.type,key:ie,ref:H.ref,props:H.props,_owner:H._owner}}function W(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function te(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(xe){return ie[xe]})}var ue=/\/+/g;function Y(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?te(""+H.key):ie.toString(36)}function Z(H,ie,xe,Le,Pe){var be=typeof H;(be==="undefined"||be==="boolean")&&(H=null);var He=!1;if(H===null)He=!0;else switch(be){case"string":case"number":He=!0;break;case"object":switch(H.$$typeof){case e:case r:He=!0}}if(He)return He=H,Pe=Pe(He),H=Le===""?"."+Y(He,0):Le,P(Pe)?(xe="",H!=null&&(xe=H.replace(ue,"$&/")+"/"),Z(Pe,ie,xe,"",function(ve){return ve})):Pe!=null&&(W(Pe)&&(Pe=$(Pe,xe+(!Pe.key||He&&He.key===Pe.key?"":(""+Pe.key).replace(ue,"$&/")+"/")+H)),ie.push(Pe)),1;if(He=0,Le=Le===""?".":Le+":",P(H))for(var Ae=0;Ae<H.length;Ae++){be=H[Ae];var Ne=Le+Y(be,Ae);He+=Z(be,ie,xe,Ne,Pe)}else if(Ne=m(H),typeof Ne=="function")for(H=Ne.call(H),Ae=0;!(be=H.next()).done;)be=be.value,Ne=Le+Y(be,Ae++),He+=Z(be,ie,xe,Ne,Pe);else if(be==="object")throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return He}function q(H,ie,xe){if(H==null)return H;var Le=[],Pe=0;return Z(H,Le,"","",function(be){return ie.call(xe,be,Pe++)}),Le}function G(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(xe){(H._status===0||H._status===-1)&&(H._status=1,H._result=xe)},function(xe){(H._status===0||H._status===-1)&&(H._status=2,H._result=xe)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var K={current:null},X={transition:null},J={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:X,ReactCurrentOwner:z};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Yt.Children={map:q,forEach:function(H,ie,xe){q(H,function(){ie.apply(this,arguments)},xe)},count:function(H){var ie=0;return q(H,function(){ie++}),ie},toArray:function(H){return q(H,function(ie){return ie})||[]},only:function(H){if(!W(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Yt.Component=k,Yt.Fragment=t,Yt.Profiler=i,Yt.PureComponent=T,Yt.StrictMode=n,Yt.Suspense=d,Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Yt.act=ee,Yt.cloneElement=function(H,ie,xe){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Le=b({},H.props),Pe=H.key,be=H.ref,He=H._owner;if(ie!=null){if(ie.ref!==void 0&&(be=ie.ref,He=z.current),ie.key!==void 0&&(Pe=""+ie.key),H.type&&H.type.defaultProps)var Ae=H.type.defaultProps;for(Ne in ie)L.call(ie,Ne)&&!R.hasOwnProperty(Ne)&&(Le[Ne]=ie[Ne]===void 0&&Ae!==void 0?Ae[Ne]:ie[Ne])}var Ne=arguments.length-2;if(Ne===1)Le.children=xe;else if(1<Ne){Ae=Array(Ne);for(var ve=0;ve<Ne;ve++)Ae[ve]=arguments[ve+2];Le.children=Ae}return{$$typeof:e,type:H.type,key:Pe,ref:be,props:Le,_owner:He}},Yt.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},Yt.createElement=V,Yt.createFactory=function(H){var ie=V.bind(null,H);return ie.type=H,ie},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(H){return{$$typeof:u,render:H}},Yt.isValidElement=W,Yt.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:G}},Yt.memo=function(H,ie){return{$$typeof:h,type:H,compare:ie===void 0?null:ie}},Yt.startTransition=function(H){var ie=X.transition;X.transition={};try{H()}finally{X.transition=ie}},Yt.unstable_act=ee,Yt.useCallback=function(H,ie){return K.current.useCallback(H,ie)},Yt.useContext=function(H){return K.current.useContext(H)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(H){return K.current.useDeferredValue(H)},Yt.useEffect=function(H,ie){return K.current.useEffect(H,ie)},Yt.useId=function(){return K.current.useId()},Yt.useImperativeHandle=function(H,ie,xe){return K.current.useImperativeHandle(H,ie,xe)},Yt.useInsertionEffect=function(H,ie){return K.current.useInsertionEffect(H,ie)},Yt.useLayoutEffect=function(H,ie){return K.current.useLayoutEffect(H,ie)},Yt.useMemo=function(H,ie){return K.current.useMemo(H,ie)},Yt.useReducer=function(H,ie,xe){return K.current.useReducer(H,ie,xe)},Yt.useRef=function(H){return K.current.useRef(H)},Yt.useState=function(H){return K.current.useState(H)},Yt.useSyncExternalStore=function(H,ie,xe){return K.current.useSyncExternalStore(H,ie,xe)},Yt.useTransition=function(){return K.current.useTransition()},Yt.version="18.3.1",Yt}var zv;function Tg(){return zv||(zv=1,Ff.exports=z3()),Ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function B3(){if(Bv)return e1;Bv=1;var e=Tg(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,d,h){var f,v={},m=null,C=null;h!==void 0&&(m=""+h),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(C=d.ref);for(f in d)n.call(d,f)&&!o.hasOwnProperty(f)&&(v[f]=d[f]);if(u&&u.defaultProps)for(f in d=u.defaultProps,d)v[f]===void 0&&(v[f]=d[f]);return{$$typeof:r,type:u,key:m,ref:C,props:v,_owner:i.current}}return e1.Fragment=t,e1.jsx=s,e1.jsxs=s,e1}var Vv;function V3(){return Vv||(Vv=1,Df.exports=B3()),Df.exports}var Ss=V3(),d1=Tg(),zh={},Rf={exports:{}},Fi={},Of={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function $3(){return $v||($v=1,function(e){function r(X,J){var ee=X.length;X.push(J);e:for(;0<ee;){var H=ee-1>>>1,ie=X[H];if(0<i(ie,J))X[H]=J,X[ee]=ie,ee=H;else break e}}function t(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var J=X[0],ee=X.pop();if(ee!==J){X[0]=ee;e:for(var H=0,ie=X.length,xe=ie>>>1;H<xe;){var Le=2*(H+1)-1,Pe=X[Le],be=Le+1,He=X[be];if(0>i(Pe,ee))be<ie&&0>i(He,Pe)?(X[H]=He,X[be]=ee,H=be):(X[H]=Pe,X[Le]=ee,H=Le);else if(be<ie&&0>i(He,ee))X[H]=He,X[be]=ee,H=be;else break e}}return J}function i(X,J){var ee=X.sortIndex-J.sortIndex;return ee!==0?ee:X.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var d=[],h=[],f=1,v=null,m=3,C=!1,b=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(X){for(var J=t(h);J!==null;){if(J.callback===null)n(h);else if(J.startTime<=X)n(h),J.sortIndex=J.expirationTime,r(d,J);else break;J=t(h)}}function P(X){if(_=!1,I(X),!b)if(t(d)!==null)b=!0,G(L);else{var J=t(h);J!==null&&K(P,J.startTime-X)}}function L(X,J){b=!1,_&&(_=!1,S(V),V=-1),C=!0;var ee=m;try{for(I(J),v=t(d);v!==null&&(!(v.expirationTime>J)||X&&!te());){var H=v.callback;if(typeof H=="function"){v.callback=null,m=v.priorityLevel;var ie=H(v.expirationTime<=J);J=e.unstable_now(),typeof ie=="function"?v.callback=ie:v===t(d)&&n(d),I(J)}else n(d);v=t(d)}if(v!==null)var xe=!0;else{var Le=t(h);Le!==null&&K(P,Le.startTime-J),xe=!1}return xe}finally{v=null,m=ee,C=!1}}var z=!1,R=null,V=-1,$=5,W=-1;function te(){return!(e.unstable_now()-W<$)}function ue(){if(R!==null){var X=e.unstable_now();W=X;var J=!0;try{J=R(!0,X)}finally{J?Y():(z=!1,R=null)}}else z=!1}var Y;if(typeof T=="function")Y=function(){T(ue)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,q=Z.port2;Z.port1.onmessage=ue,Y=function(){q.postMessage(null)}}else Y=function(){k(ue,0)};function G(X){R=X,z||(z=!0,Y())}function K(X,J){V=k(function(){X(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){b||C||(b=!0,G(L))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(d)},e.unstable_next=function(X){switch(m){case 1:case 2:case 3:var J=3;break;default:J=m}var ee=m;m=J;try{return X()}finally{m=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,J){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ee=m;m=X;try{return J()}finally{m=ee}},e.unstable_scheduleCallback=function(X,J,ee){var H=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?H+ee:H):ee=H,X){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ee+ie,X={id:f++,callback:J,priorityLevel:X,startTime:ee,expirationTime:ie,sortIndex:-1},ee>H?(X.sortIndex=ee,r(h,X),t(d)===null&&X===t(h)&&(_?(S(V),V=-1):_=!0,K(P,ee-H))):(X.sortIndex=ie,r(d,X),b||C||(b=!0,G(L))),X},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(X){var J=m;return function(){var ee=m;m=J;try{return X.apply(this,arguments)}finally{m=ee}}}}(Nf)),Nf}var Wv;function W3(){return Wv||(Wv=1,Of.exports=$3()),Of.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function U3(){if(Uv)return Fi;Uv=1;var e=Tg(),r=W3();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,g=1;g<arguments.length;g++)l+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(a,l){s(a,l),s(a+"Capture",l)}function s(a,l){for(i[a]=l,a=0;a<l.length;a++)n.add(l[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},v={};function m(a){return d.call(v,a)?!0:d.call(f,a)?!1:h.test(a)?v[a]=!0:(f[a]=!0,!1)}function C(a,l,g,y){if(g!==null&&g.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:g!==null?!g.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function b(a,l,g,y){if(l===null||typeof l>"u"||C(a,l,g,y))return!0;if(y)return!1;if(g!==null)switch(g.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(a,l,g,y,w,M,F){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=w,this.mustUseProperty=g,this.propertyName=a,this.type=l,this.sanitizeURL=M,this.removeEmptyString=F}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){k[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];k[l]=new _(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){k[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){k[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){k[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){k[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){k[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){k[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){k[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(S,T);k[l]=new _(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(S,T);k[l]=new _(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(S,T);k[l]=new _(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){k[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){k[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function I(a,l,g,y){var w=k.hasOwnProperty(l)?k[l]:null;(w!==null?w.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(b(l,g,w,y)&&(g=null),y||w===null?m(l)&&(g===null?a.removeAttribute(l):a.setAttribute(l,""+g)):w.mustUseProperty?a[w.propertyName]=g===null?w.type===3?!1:"":g:(l=w.attributeName,y=w.attributeNamespace,g===null?a.removeAttribute(l):(w=w.type,g=w===3||w===4&&g===!0?"":""+g,y?a.setAttributeNS(y,l,g):a.setAttribute(l,g))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),z=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),te=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),X=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=X&&a[X]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Object.assign,H;function ie(a){if(H===void 0)try{throw Error()}catch(g){var l=g.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+a}var xe=!1;function Le(a,l){if(!a||xe)return"";xe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ge){var y=ge}Reflect.construct(a,[],l)}else{try{l.call()}catch(ge){y=ge}a.call(l.prototype)}else{try{throw Error()}catch(ge){y=ge}a()}}catch(ge){if(ge&&y&&typeof ge.stack=="string"){for(var w=ge.stack.split(`
`),M=y.stack.split(`
`),F=w.length-1,j=M.length-1;1<=F&&0<=j&&w[F]!==M[j];)j--;for(;1<=F&&0<=j;F--,j--)if(w[F]!==M[j]){if(F!==1||j!==1)do if(F--,j--,0>j||w[F]!==M[j]){var ne=`
`+w[F].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=F&&0<=j);break}}}finally{xe=!1,Error.prepareStackTrace=g}return(a=a?a.displayName||a.name:"")?ie(a):""}function Pe(a){switch(a.tag){case 5:return ie(a.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return a=Le(a.type,!1),a;case 11:return a=Le(a.type.render,!1),a;case 1:return a=Le(a.type,!0),a;default:return""}}function be(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case R:return"Fragment";case z:return"Portal";case $:return"Profiler";case V:return"StrictMode";case Y:return"Suspense";case Z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case te:return(a.displayName||"Context")+".Consumer";case W:return(a._context.displayName||"Context")+".Provider";case ue:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case q:return l=a.displayName||null,l!==null?l:be(a.type)||"Memo";case G:l=a._payload,a=a._init;try{return be(a(l))}catch{}}return null}function He(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(l);case 8:return l===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ae(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ne(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ve(a){var l=Ne(a)?"checked":"value",g=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),y=""+a[l];if(!a.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var w=g.get,M=g.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return w.call(this)},set:function(F){y=""+F,M.call(this,F)}}),Object.defineProperty(a,l,{enumerable:g.enumerable}),{getValue:function(){return y},setValue:function(F){y=""+F},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Te(a){a._valueTracker||(a._valueTracker=ve(a))}function Oe(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var g=l.getValue(),y="";return a&&(y=Ne(a)?a.checked?"true":"false":a.value),a=y,a!==g?(l.setValue(a),!0):!1}function Ze(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Me(a,l){var g=l.checked;return ee({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??a._wrapperState.initialChecked})}function nt(a,l){var g=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;g=Ae(l.value!=null?l.value:g),a._wrapperState={initialChecked:y,initialValue:g,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function lt(a,l){l=l.checked,l!=null&&I(a,"checked",l,!1)}function Be(a,l){lt(a,l);var g=Ae(l.value),y=l.type;if(g!=null)y==="number"?(g===0&&a.value===""||a.value!=g)&&(a.value=""+g):a.value!==""+g&&(a.value=""+g);else if(y==="submit"||y==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Bt(a,l.type,g):l.hasOwnProperty("defaultValue")&&Bt(a,l.type,Ae(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function yt(a,l,g){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,g||l===a.value||(a.value=l),a.defaultValue=l}g=a.name,g!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,g!==""&&(a.name=g)}function Bt(a,l,g){(l!=="number"||Ze(a.ownerDocument)!==a)&&(g==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+g&&(a.defaultValue=""+g))}var Ot=Array.isArray;function st(a,l,g,y){if(a=a.options,l){l={};for(var w=0;w<g.length;w++)l["$"+g[w]]=!0;for(g=0;g<a.length;g++)w=l.hasOwnProperty("$"+a[g].value),a[g].selected!==w&&(a[g].selected=w),w&&y&&(a[g].defaultSelected=!0)}else{for(g=""+Ae(g),l=null,w=0;w<a.length;w++){if(a[w].value===g){a[w].selected=!0,y&&(a[w].defaultSelected=!0);return}l!==null||a[w].disabled||(l=a[w])}l!==null&&(l.selected=!0)}}function lr(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return ee({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Wr(a,l){var g=l.value;if(g==null){if(g=l.children,l=l.defaultValue,g!=null){if(l!=null)throw Error(t(92));if(Ot(g)){if(1<g.length)throw Error(t(93));g=g[0]}l=g}l==null&&(l=""),g=l}a._wrapperState={initialValue:Ae(g)}}function Ur(a,l){var g=Ae(l.value),y=Ae(l.defaultValue);g!=null&&(g=""+g,g!==a.value&&(a.value=g),l.defaultValue==null&&a.defaultValue!==g&&(a.defaultValue=g)),y!=null&&(a.defaultValue=""+y)}function ar(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Tt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Tt(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Kt,zr=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,g,y,w){MSApp.execUnsafeLocalFunction(function(){return a(l,g,y,w)})}:a}(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Kt=Kt||document.createElement("div"),Kt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Kt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function or(a,l){if(l){var g=a.firstChild;if(g&&g===a.lastChild&&g.nodeType===3){g.nodeValue=l;return}}a.textContent=l}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mt=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(a){Mt.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),Tr[l]=Tr[a]})});function Ve(a,l,g){return l==null||typeof l=="boolean"||l===""?"":g||typeof l!="number"||l===0||Tr.hasOwnProperty(a)&&Tr[a]?(""+l).trim():l+"px"}function bt(a,l){a=a.style;for(var g in l)if(l.hasOwnProperty(g)){var y=g.indexOf("--")===0,w=Ve(g,l[g],y);g==="float"&&(g="cssFloat"),y?a.setProperty(g,w):a[g]=w}}var xt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(a,l){if(l){if(xt[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Ct(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=null;function Ht(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ur=null,At=null,ft=null;function Ir(a){if(a=In(a)){if(typeof ur!="function")throw Error(t(280));var l=a.stateNode;l&&(l=du(l),ur(a.stateNode,a.type,l))}}function vr(a){At?ft?ft.push(a):ft=[a]:At=a}function Lr(){if(At){var a=At,l=ft;if(ft=At=null,Ir(a),l)for(a=0;a<l.length;a++)Ir(l[a])}}function fn(a,l){return a(l)}function Dt(){}var Pr=!1;function Et(a,l,g){if(Pr)return a(l,g);Pr=!0;try{return fn(a,l,g)}finally{Pr=!1,(At!==null||ft!==null)&&(Dt(),Lr())}}function Ar(a,l){var g=a.stateNode;if(g===null)return null;var y=du(g);if(y===null)return null;g=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(g&&typeof g!="function")throw Error(t(231,l,typeof g));return g}var xr=!1;if(u)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){xr=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{xr=!1}function Jr(a,l,g,y,w,M,F,j,ne){var ge=Array.prototype.slice.call(arguments,3);try{l.apply(g,ge)}catch(Se){this.onError(Se)}}var Hr=!1,en=null,gn=!1,Mn=null,Ni={onError:function(a){Hr=!0,en=a}};function na(a,l,g,y,w,M,F,j,ne){Hr=!1,en=null,Jr.apply(Ni,arguments)}function so(a,l,g,y,w,M,F,j,ne){if(na.apply(this,arguments),Hr){if(Hr){var ge=en;Hr=!1,en=null}else throw Error(t(198));gn||(gn=!0,Mn=ge)}}function zi(a){var l=a,g=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(g=l.return),a=l.return;while(a)}return l.tag===3?g:null}function co(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Xo(a){if(zi(a)!==a)throw Error(t(188))}function uo(a){var l=a.alternate;if(!l){if(l=zi(a),l===null)throw Error(t(188));return l!==a?null:a}for(var g=a,y=l;;){var w=g.return;if(w===null)break;var M=w.alternate;if(M===null){if(y=w.return,y!==null){g=y;continue}break}if(w.child===M.child){for(M=w.child;M;){if(M===g)return Xo(w),a;if(M===y)return Xo(w),l;M=M.sibling}throw Error(t(188))}if(g.return!==y.return)g=w,y=M;else{for(var F=!1,j=w.child;j;){if(j===g){F=!0,g=w,y=M;break}if(j===y){F=!0,y=w,g=M;break}j=j.sibling}if(!F){for(j=M.child;j;){if(j===g){F=!0,g=M,y=w;break}if(j===y){F=!0,y=M,g=w;break}j=j.sibling}if(!F)throw Error(t(189))}}if(g.alternate!==y)throw Error(t(190))}if(g.tag!==3)throw Error(t(188));return g.stateNode.current===g?a:l}function jo(a){return a=uo(a),a!==null?Go(a):null}function Go(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=Go(a);if(l!==null)return l;a=a.sibling}return null}var Ds=r.unstable_scheduleCallback,Fs=r.unstable_cancelCallback,Ko=r.unstable_shouldYield,Nc=r.unstable_requestPaint,mr=r.unstable_now,zc=r.unstable_getCurrentPriorityLevel,Vl=r.unstable_ImmediatePriority,Bc=r.unstable_UserBlockingPriority,ho=r.unstable_NormalPriority,Rs=r.unstable_LowPriority,ze=r.unstable_IdlePriority,Qo=null,ci=null;function Vc(a){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(Qo,a,void 0,(a.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:zs,Os=Math.log,Ns=Math.LN2;function zs(a){return a>>>=0,a===0?32:31-(Os(a)/Ns|0)|0}var Da=64,Zo=4194304;function Fa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ia(a,l){var g=a.pendingLanes;if(g===0)return 0;var y=0,w=a.suspendedLanes,M=a.pingedLanes,F=g&268435455;if(F!==0){var j=F&~w;j!==0?y=Fa(j):(M&=F,M!==0&&(y=Fa(M)))}else F=g&~w,F!==0?y=Fa(F):M!==0&&(y=Fa(M));if(y===0)return 0;if(l!==0&&l!==y&&(l&w)===0&&(w=y&-y,M=l&-l,w>=M||w===16&&(M&4194240)!==0))return l;if((y&4)!==0&&(y|=g&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=y;0<l;)g=31-Kn(l),w=1<<g,y|=a[g],l&=~w;return y}function Bs(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(a,l){for(var g=a.suspendedLanes,y=a.pingedLanes,w=a.expirationTimes,M=a.pendingLanes;0<M;){var F=31-Kn(M),j=1<<F,ne=w[F];ne===-1?((j&g)===0||(j&y)!==0)&&(w[F]=Bs(j,l)):ne<=l&&(a.expiredLanes|=j),M&=~j}}function qo(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function $l(){var a=Da;return Da<<=1,(Da&4194240)===0&&(Da=64),a}function po(a){for(var l=[],g=0;31>g;g++)l.push(a);return l}function fo(a,l,g){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-Kn(l),a[l]=g}function Vs(a,l){var g=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var y=a.eventTimes;for(a=a.expirationTimes;0<g;){var w=31-Kn(g),M=1<<w;l[w]=0,y[w]=-1,a[w]=-1,g&=~M}}function go(a,l){var g=a.entangledLanes|=l;for(a=a.entanglements;g;){var y=31-Kn(g),w=1<<y;w&l|a[y]&l&&(a[y]|=l),g&=~w}}var Qt=0;function aa(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Wl,Jo,$s,Ul,Hl,el=!1,vo=[],Bi=null,Vi=null,$i=null,Ra=new Map,mo=new Map,Wi=[],Wc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ws(a,l){switch(a){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":Ra.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(l.pointerId)}}function oa(a,l,g,y,w,M){return a===null||a.nativeEvent!==M?(a={blockedOn:l,domEventName:g,eventSystemFlags:y,nativeEvent:M,targetContainers:[w]},l!==null&&(l=In(l),l!==null&&Jo(l)),a):(a.eventSystemFlags|=y,l=a.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),a)}function Uc(a,l,g,y,w){switch(l){case"focusin":return Bi=oa(Bi,a,l,g,y,w),!0;case"dragenter":return Vi=oa(Vi,a,l,g,y,w),!0;case"mouseover":return $i=oa($i,a,l,g,y,w),!0;case"pointerover":var M=w.pointerId;return Ra.set(M,oa(Ra.get(M)||null,a,l,g,y,w)),!0;case"gotpointercapture":return M=w.pointerId,mo.set(M,oa(mo.get(M)||null,a,l,g,y,w)),!0}return!1}function Us(a){var l=ua(a.target);if(l!==null){var g=zi(l);if(g!==null){if(l=g.tag,l===13){if(l=co(g),l!==null){a.blockedOn=l,Hl(a.priority,function(){$s(g)});return}}else if(l===3&&g.stateNode.current.memoizedState.isDehydrated){a.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tl(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var g=Xc(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(g===null){g=a.nativeEvent;var y=new g.constructor(g.type,g);Wt=y,g.target.dispatchEvent(y),Wt=null}else return l=In(g),l!==null&&Jo(l),a.blockedOn=g,!1;l.shift()}return!0}function Hs(a,l,g){tl(a)&&g.delete(l)}function zp(){el=!1,Bi!==null&&tl(Bi)&&(Bi=null),Vi!==null&&tl(Vi)&&(Vi=null),$i!==null&&tl($i)&&($i=null),Ra.forEach(Hs),mo.forEach(Hs)}function dr(a,l){a.blockedOn===l&&(a.blockedOn=null,el||(el=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zp)))}function sr(a){function l(w){return dr(w,a)}if(0<vo.length){dr(vo[0],a);for(var g=1;g<vo.length;g++){var y=vo[g];y.blockedOn===a&&(y.blockedOn=null)}}for(Bi!==null&&dr(Bi,a),Vi!==null&&dr(Vi,a),$i!==null&&dr($i,a),Ra.forEach(l),mo.forEach(l),g=0;g<Wi.length;g++)y=Wi[g],y.blockedOn===a&&(y.blockedOn=null);for(;0<Wi.length&&(g=Wi[0],g.blockedOn===null);)Us(g),g.blockedOn===null&&Wi.shift()}var Yl=P.ReactCurrentBatchConfig,Hc=!0;function Bp(a,l,g,y){var w=Qt,M=Yl.transition;Yl.transition=null;try{Qt=1,V0(a,l,g,y)}finally{Qt=w,Yl.transition=M}}function Vp(a,l,g,y){var w=Qt,M=Yl.transition;Yl.transition=null;try{Qt=4,V0(a,l,g,y)}finally{Qt=w,Yl.transition=M}}function V0(a,l,g,y){if(Hc){var w=Xc(a,l,g,y);if(w===null)nd(a,l,y,Yc,g),Ws(a,y);else if(Uc(w,a,l,g,y))y.stopPropagation();else if(Ws(a,y),l&4&&-1<Wc.indexOf(a)){for(;w!==null;){var M=In(w);if(M!==null&&Wl(M),M=Xc(a,l,g,y),M===null&&nd(a,l,y,Yc,g),M===w)break;w=M}w!==null&&y.stopPropagation()}else nd(a,l,y,null,g)}}var Yc=null;function Xc(a,l,g,y){if(Yc=null,a=Ht(y),a=ua(a),a!==null)if(l=zi(a),l===null)a=null;else if(g=l.tag,g===13){if(a=co(l),a!==null)return a;a=null}else if(g===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Yc=a,null}function M1(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zc()){case Vl:return 1;case Bc:return 4;case ho:case Rs:return 16;case ze:return 536870912;default:return 16}default:return 16}}var Dr=null,Ys=null,la=null;function $0(){if(la)return la;var a,l=Ys,g=l.length,y,w="value"in Dr?Dr.value:Dr.textContent,M=w.length;for(a=0;a<g&&l[a]===w[a];a++);var F=g-a;for(y=1;y<=F&&l[g-y]===w[M-y];y++);return la=w.slice(a,1<y?1-y:void 0)}function Xl(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Nn(){return!0}function W0(){return!1}function Qn(a){function l(g,y,w,M,F){this._reactName=g,this._targetInst=w,this.type=y,this.nativeEvent=M,this.target=F,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(g=a[j],this[j]=g?g(M):M[j]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Nn:W0,this.isPropagationStopped=W0,this}return ee(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),l}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=Qn(rl),jl=ee({},rl,{view:0,detail:0}),E1=Qn(jl),zn,U0,En,Gc=ee({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G0,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==En&&(En&&a.type==="mousemove"?(zn=a.screenX-En.screenX,U0=a.screenY-En.screenY):U0=zn=0,En=a),zn)},movementY:function(a){return"movementY"in a?a.movementY:U0}}),H0=Qn(Gc),yo=ee({},Gc,{dataTransfer:0}),Kc=Qn(yo),Y0=ee({},jl,{relatedTarget:0}),Cr=Qn(Y0),xo=ee({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),X0=Qn(xo),$p=ee({},rl,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),j0=Qn($p),Wp=ee({},rl,{data:0}),T1=Qn(Wp),Up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Qc[a])?!!l[a]:!1}function G0(){return Gl}var L1=ee({},jl,{key:function(a){if(a.key){var l=Up[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Xl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?I1[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G0,charCode:function(a){return a.type==="keypress"?Xl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Xl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),P1=Qn(L1),K0=ee({},Gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=Qn(K0),A1=ee({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G0}),Hp=Qn(A1),Q0=ee({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=Qn(Q0),Yp=ee({},Gc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),D1=Qn(Yp),ui=[9,13,27,32],Xs=u&&"CompositionEvent"in window,Oa=null;u&&"documentMode"in document&&(Oa=document.documentMode);var F1=u&&"TextEvent"in window&&!Oa,q0=u&&(!Xs||Oa&&8<Oa&&11>=Oa),R1=" ",O1=!1;function N1(a,l){switch(a){case"keyup":return ui.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Kl=!1;function Ql(a,l){switch(a){case"compositionend":return z1(l);case"keypress":return l.which!==32?null:(O1=!0,R1);case"textInput":return a=l.data,a===R1&&O1?null:a;default:return null}}function Xp(a,l){if(Kl)return a==="compositionend"||!Xs&&N1(a,l)?(a=$0(),la=Ys=Dr=null,Kl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return q0&&l.locale!=="ko"?null:l.data;default:return null}}var jp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!jp[a.type]:l==="textarea"}function J0(a,l,g,y){vr(y),l=lu(l,"onChange"),0<l.length&&(g=new jc("onChange","change",null,g,y),a.push({event:g,listeners:l}))}var xi=null,Co=null;function Gp(a){Y1(a,0)}function Jc(a){var l=It(a);if(Oe(l))return a}function Kp(a,l){if(a==="change")return l}var nl=!1;if(u){var di;if(u){var eu="oninput"in document;if(!eu){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),eu=typeof B1.oninput=="function"}di=eu}else di=!1;nl=di&&(!document.documentMode||9<document.documentMode)}function V1(){xi&&(xi.detachEvent("onpropertychange",$1),Co=xi=null)}function $1(a){if(a.propertyName==="value"&&Jc(Co)){var l=[];J0(l,Co,a,Ht(a)),Et(Gp,l)}}function Qp(a,l,g){a==="focusin"?(V1(),xi=l,Co=g,xi.attachEvent("onpropertychange",$1)):a==="focusout"&&V1()}function Zp(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Jc(Co)}function Zl(a,l){if(a==="click")return Jc(l)}function se(a,l){if(a==="input"||a==="change")return Jc(l)}function ye(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var fe=typeof Object.is=="function"?Object.is:ye;function Ye(a,l){if(fe(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var g=Object.keys(a),y=Object.keys(l);if(g.length!==y.length)return!1;for(y=0;y<g.length;y++){var w=g[y];if(!d.call(l,w)||!fe(a[w],l[w]))return!1}return!0}function _t(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function rr(a,l){var g=_t(a);a=0;for(var y;g;){if(g.nodeType===3){if(y=a+g.textContent.length,a<=l&&y>=l)return{node:g,offset:l-a};a=y}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=_t(g)}}function Gr(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Gr(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function fr(){for(var a=window,l=Ze();l instanceof a.HTMLIFrameElement;){try{var g=typeof l.contentWindow.location.href=="string"}catch{g=!1}if(g)a=l.contentWindow;else break;l=Ze(a.document)}return l}function js(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function qp(a){var l=fr(),g=a.focusedElem,y=a.selectionRange;if(l!==g&&g&&g.ownerDocument&&Gr(g.ownerDocument.documentElement,g)){if(y!==null&&js(g)){if(l=y.start,a=y.end,a===void 0&&(a=l),"selectionStart"in g)g.selectionStart=l,g.selectionEnd=Math.min(a,g.value.length);else if(a=(l=g.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var w=g.textContent.length,M=Math.min(y.start,w);y=y.end===void 0?M:Math.min(y.end,w),!a.extend&&M>y&&(w=y,y=M,M=w),w=rr(g,M);var F=rr(g,y);w&&F&&(a.rangeCount!==1||a.anchorNode!==w.node||a.anchorOffset!==w.offset||a.focusNode!==F.node||a.focusOffset!==F.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),a.removeAllRanges(),M>y?(a.addRange(l),a.extend(F.node,F.offset)):(l.setEnd(F.node,F.offset),a.addRange(l)))}}for(l=[],a=g;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<l.length;g++)a=l[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ci=u&&"documentMode"in document&&11>=document.documentMode,Na=null,ed=null,sa=null,ql=!1;function Gs(a,l,g){var y=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ql||Na==null||Na!==Ze(y)||(y=Na,"selectionStart"in y&&js(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),sa&&Ye(sa,y)||(sa=y,y=lu(ed,"onSelect"),0<y.length&&(l=new jc("onSelect","select",null,l,g),a.push({event:l,listeners:y}),l.target=Na)))}function nr(a,l){var g={};return g[a.toLowerCase()]=l.toLowerCase(),g["Webkit"+a]="webkit"+l,g["Moz"+a]="moz"+l,g}var Jl={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionend:nr("Transition","TransitionEnd")},tu={},Ks={};u&&(Ks=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function ru(a){if(tu[a])return tu[a];if(!Jl[a])return a;var l=Jl[a],g;for(g in l)if(l.hasOwnProperty(g)&&g in Ks)return tu[a]=l[g];return a}var W1=ru("animationend"),U1=ru("animationiteration"),Qs=ru("animationstart"),za=ru("transitionend"),Zs=new Map,td="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ui(a,l){Zs.set(a,l),o(l,[a])}for(var nu=0;nu<td.length;nu++){var iu=td[nu],au=iu.toLowerCase(),H1=iu[0].toUpperCase()+iu.slice(1);Ui(au,"on"+H1)}Ui(W1,"onAnimationEnd"),Ui(U1,"onAnimationIteration"),Ui(Qs,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(za,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),il=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function qs(a,l,g){var y=a.type||"unknown-event";a.currentTarget=g,so(y,l,void 0,a),a.currentTarget=null}function Y1(a,l){l=(l&4)!==0;for(var g=0;g<a.length;g++){var y=a[g],w=y.event;y=y.listeners;e:{var M=void 0;if(l)for(var F=y.length-1;0<=F;F--){var j=y[F],ne=j.instance,ge=j.currentTarget;if(j=j.listener,ne!==M&&w.isPropagationStopped())break e;qs(w,j,ge),M=ne}else for(F=0;F<y.length;F++){if(j=y[F],ne=j.instance,ge=j.currentTarget,j=j.listener,ne!==M&&w.isPropagationStopped())break e;qs(w,j,ge),M=ne}}}if(gn)throw a=Mn,gn=!1,Mn=null,a}function Sr(a,l){var g=l[uu];g===void 0&&(g=l[uu]=new Set);var y=a+"__bubble";g.has(y)||(ou(l,a,2,!1),g.add(y))}function rd(a,l,g){var y=0;l&&(y|=4),ou(g,a,y,l)}var al="_reactListening"+Math.random().toString(36).slice(2);function bo(a){if(!a[al]){a[al]=!0,n.forEach(function(g){g!=="selectionchange"&&(il.has(g)||rd(g,!1,a),rd(g,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[al]||(l[al]=!0,rd("selectionchange",!1,l))}}function ou(a,l,g,y){switch(M1(l)){case 1:var w=Bp;break;case 4:w=Vp;break;default:w=V0}g=w.bind(null,l,g,a),w=void 0,!xr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),y?w!==void 0?a.addEventListener(l,g,{capture:!0,passive:w}):a.addEventListener(l,g,!0):w!==void 0?a.addEventListener(l,g,{passive:w}):a.addEventListener(l,g,!1)}function nd(a,l,g,y,w){var M=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var F=y.tag;if(F===3||F===4){var j=y.stateNode.containerInfo;if(j===w||j.nodeType===8&&j.parentNode===w)break;if(F===4)for(F=y.return;F!==null;){var ne=F.tag;if((ne===3||ne===4)&&(ne=F.stateNode.containerInfo,ne===w||ne.nodeType===8&&ne.parentNode===w))return;F=F.return}for(;j!==null;){if(F=ua(j),F===null)return;if(ne=F.tag,ne===5||ne===6){y=M=F;continue e}j=j.parentNode}}y=y.return}Et(function(){var ge=M,Se=Ht(g),Ie=[];e:{var ke=Zs.get(a);if(ke!==void 0){var Xe=jc,qe=a;switch(a){case"keypress":if(Xl(g)===0)break e;case"keydown":case"keyup":Xe=P1;break;case"focusin":qe="focus",Xe=Cr;break;case"focusout":qe="blur",Xe=Cr;break;case"beforeblur":case"afterblur":Xe=Cr;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Hp;break;case W1:case U1:case Qs:Xe=X0;break;case za:Xe=Z0;break;case"scroll":Xe=E1;break;case"wheel":Xe=D1;break;case"copy":case"cut":case"paste":Xe=j0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Zc}var et=(l&4)!==0,Xr=!et&&a==="scroll",de=et?ke!==null?ke+"Capture":null:ke;et=[];for(var le=ge,he;le!==null;){he=le;var De=he.stateNode;if(he.tag===5&&De!==null&&(he=De,de!==null&&(De=Ar(le,de),De!=null&&et.push(es(le,De,he)))),Xr)break;le=le.return}0<et.length&&(ke=new Xe(ke,qe,null,g,Se),Ie.push({event:ke,listeners:et}))}}if((l&7)===0){e:{if(ke=a==="mouseover"||a==="pointerover",Xe=a==="mouseout"||a==="pointerout",ke&&g!==Wt&&(qe=g.relatedTarget||g.fromElement)&&(ua(qe)||qe[hi]))break e;if((Xe||ke)&&(ke=Se.window===Se?Se:(ke=Se.ownerDocument)?ke.defaultView||ke.parentWindow:window,Xe?(qe=g.relatedTarget||g.toElement,Xe=ge,qe=qe?ua(qe):null,qe!==null&&(Xr=zi(qe),qe!==Xr||qe.tag!==5&&qe.tag!==6)&&(qe=null)):(Xe=null,qe=ge),Xe!==qe)){if(et=H0,De="onMouseLeave",de="onMouseEnter",le="mouse",(a==="pointerout"||a==="pointerover")&&(et=Zc,De="onPointerLeave",de="onPointerEnter",le="pointer"),Xr=Xe==null?ke:It(Xe),he=qe==null?ke:It(qe),ke=new et(De,le+"leave",Xe,g,Se),ke.target=Xr,ke.relatedTarget=he,De=null,ua(Se)===ge&&(et=new et(de,le+"enter",qe,g,Se),et.target=he,et.relatedTarget=Xr,De=et),Xr=De,Xe&&qe)t:{for(et=Xe,de=qe,le=0,he=et;he;he=ts(he))le++;for(he=0,De=de;De;De=ts(De))he++;for(;0<le-he;)et=ts(et),le--;for(;0<he-le;)de=ts(de),he--;for(;le--;){if(et===de||de!==null&&et===de.alternate)break t;et=ts(et),de=ts(de)}et=null}else et=null;Xe!==null&&Kr(Ie,ke,Xe,et,!1),qe!==null&&Xr!==null&&Kr(Ie,Xr,qe,et,!0)}}e:{if(ke=ge?It(ge):window,Xe=ke.nodeName&&ke.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&ke.type==="file")var rt=Kp;else if(qc(ke))if(nl)rt=se;else{rt=Zp;var ct=Qp}else(Xe=ke.nodeName)&&Xe.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(rt=Zl);if(rt&&(rt=rt(a,ge))){J0(Ie,rt,g,Se);break e}ct&&ct(a,ke,ge),a==="focusout"&&(ct=ke._wrapperState)&&ct.controlled&&ke.type==="number"&&Bt(ke,"number",ke.value)}switch(ct=ge?It(ge):window,a){case"focusin":(qc(ct)||ct.contentEditable==="true")&&(Na=ct,ed=ge,sa=null);break;case"focusout":sa=ed=Na=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,Gs(Ie,g,Se);break;case"selectionchange":if(Ci)break;case"keydown":case"keyup":Gs(Ie,g,Se)}var ot;if(Xs)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Kl?N1(a,g)&&(gt="onCompositionEnd"):a==="keydown"&&g.keyCode===229&&(gt="onCompositionStart");gt&&(q0&&g.locale!=="ko"&&(Kl||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Kl&&(ot=$0()):(Dr=Se,Ys="value"in Dr?Dr.value:Dr.textContent,Kl=!0)),ct=lu(ge,gt),0<ct.length&&(gt=new T1(gt,a,null,g,Se),Ie.push({event:gt,listeners:ct}),ot?gt.data=ot:(ot=z1(g),ot!==null&&(gt.data=ot)))),(ot=F1?Ql(a,g):Xp(a,g))&&(ge=lu(ge,"onBeforeInput"),0<ge.length&&(Se=new T1("onBeforeInput","beforeinput",null,g,Se),Ie.push({event:Se,listeners:ge}),Se.data=ot))}Y1(Ie,l)})}function es(a,l,g){return{instance:a,listener:l,currentTarget:g}}function lu(a,l){for(var g=l+"Capture",y=[];a!==null;){var w=a,M=w.stateNode;w.tag===5&&M!==null&&(w=M,M=Ar(a,g),M!=null&&y.unshift(es(a,M,w)),M=Ar(a,l),M!=null&&y.push(es(a,M,w))),a=a.return}return y}function ts(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Kr(a,l,g,y,w){for(var M=l._reactName,F=[];g!==null&&g!==y;){var j=g,ne=j.alternate,ge=j.stateNode;if(ne!==null&&ne===y)break;j.tag===5&&ge!==null&&(j=ge,w?(ne=Ar(g,M),ne!=null&&F.unshift(es(g,ne,j))):w||(ne=Ar(g,M),ne!=null&&F.push(es(g,ne,j)))),g=g.return}F.length!==0&&a.push({event:l,listeners:F})}var Tn=/\r\n?/g,Jp=/\u0000|\uFFFD/g;function X1(a){return(typeof a=="string"?a:""+a).replace(Tn,`
`).replace(Jp,"")}function Js(a,l,g){if(l=X1(l),X1(a)!==l&&g)throw Error(t(425))}function su(){}var ec=null,ol=null;function tc(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,rc=typeof clearTimeout=="function"?clearTimeout:void 0,rs=typeof Promise=="function"?Promise:void 0,cu=typeof queueMicrotask=="function"?queueMicrotask:typeof rs<"u"?function(a){return rs.resolve(null).then(a).catch(ns)}:wo;function ns(a){setTimeout(function(){throw a})}function id(a,l){var g=l,y=0;do{var w=g.nextSibling;if(a.removeChild(g),w&&w.nodeType===8)if(g=w.data,g==="/$"){if(y===0){a.removeChild(w),sr(l);return}y--}else g!=="$"&&g!=="$?"&&g!=="$!"||y++;g=w}while(g);sr(l)}function _o(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function j1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="$"||g==="$!"||g==="$?"){if(l===0)return a;l--}else g==="/$"&&l++}a=a.previousSibling}return null}var is=Math.random().toString(36).slice(2),ca="__reactFiber$"+is,ko="__reactProps$"+is,hi="__reactContainer$"+is,uu="__reactEvents$"+is,O="__reactListeners$"+is,as="__reactHandles$"+is;function ua(a){var l=a[ca];if(l)return l;for(var g=a.parentNode;g;){if(l=g[hi]||g[ca]){if(g=l.alternate,l.child!==null||g!==null&&g.child!==null)for(a=j1(a);a!==null;){if(g=a[ca])return g;a=j1(a)}return l}a=g,g=a.parentNode}return null}function In(a){return a=a[ca]||a[hi],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function It(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function du(a){return a[ko]||null}var ad=[],os=-1;function Zn(a){return{current:a}}function Mr(a){0>os||(a.current=ad[os],ad[os]=null,os--)}function br(a,l){os++,ad[os]=a.current,a.current=l}var So={},Ln=Zn(So),qn=Zn(!1),Bn=So;function ls(a,l){var g=a.type.contextTypes;if(!g)return So;var y=a.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var w={},M;for(M in g)w[M]=l[M];return y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=w),w}function Jn(a){return a=a.childContextTypes,a!=null}function hu(){Mr(qn),Mr(Ln)}function G1(a,l,g){if(Ln.current!==So)throw Error(t(168));br(Ln,l),br(qn,g)}function K1(a,l,g){var y=a.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return g;y=y.getChildContext();for(var w in y)if(!(w in l))throw Error(t(108,He(a)||"Unknown",w));return ee({},g,y)}function bi(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||So,Bn=Ln.current,br(Ln,a),br(qn,qn.current),!0}function Q1(a,l,g){var y=a.stateNode;if(!y)throw Error(t(169));g?(a=K1(a,l,Bn),y.__reactInternalMemoizedMergedChildContext=a,Mr(qn),Mr(Ln),br(Ln,a)):Mr(qn),br(qn,g)}var Va=null,pu=!1,od=!1;function Z1(a){Va===null?Va=[a]:Va.push(a)}function ll(a){pu=!0,Z1(a)}function Mo(){if(!od&&Va!==null){od=!0;var a=0,l=Qt;try{var g=Va;for(Qt=1;a<g.length;a++){var y=g[a];do y=y(!0);while(y!==null)}Va=null,pu=!1}catch(w){throw Va!==null&&(Va=Va.slice(a+1)),Ds(Vl,Mo),w}finally{Qt=l,od=!1}}return null}var ss=[],Pn=0,fu=null,gu=0,wi=[],_i=0,sl=null,da=1,ha="";function cl(a,l){ss[Pn++]=gu,ss[Pn++]=fu,fu=a,gu=l}function q1(a,l,g){wi[_i++]=da,wi[_i++]=ha,wi[_i++]=sl,sl=a;var y=da;a=ha;var w=32-Kn(y)-1;y&=~(1<<w),g+=1;var M=32-Kn(l)+w;if(30<M){var F=w-w%5;M=(y&(1<<F)-1).toString(32),y>>=F,w-=F,da=1<<32-Kn(l)+w|g<<w|y,ha=M+a}else da=1<<M|g<<w|y,ha=a}function nc(a){a.return!==null&&(cl(a,1),q1(a,1,0))}function ul(a){for(;a===fu;)fu=ss[--Pn],ss[Pn]=null,gu=ss[--Pn],ss[Pn]=null;for(;a===sl;)sl=wi[--_i],wi[_i]=null,ha=wi[--_i],wi[_i]=null,da=wi[--_i],wi[_i]=null}var An=null,pi=null,Er=!1,Hi=null;function pa(a,l){var g=Li(5,null,null,0);g.elementType="DELETED",g.stateNode=l,g.return=a,l=a.deletions,l===null?(a.deletions=[g],a.flags|=16):l.push(g)}function vu(a,l){switch(a.tag){case 5:var g=a.type;return l=l.nodeType!==1||g.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,An=a,pi=_o(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,An=a,pi=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(g=sl!==null?{id:da,overflow:ha}:null,a.memoizedState={dehydrated:l,treeContext:g,retryLane:1073741824},g=Li(18,null,null,0),g.stateNode=l,g.return=a,a.child=g,An=a,pi=null,!0):!1;default:return!1}}function $a(a){return(a.mode&1)!==0&&(a.flags&128)===0}function ei(a){if(Er){var l=pi;if(l){var g=l;if(!vu(a,l)){if($a(a))throw Error(t(418));l=_o(g.nextSibling);var y=An;l&&vu(a,l)?pa(y,g):(a.flags=a.flags&-4097|2,Er=!1,An=a)}}else{if($a(a))throw Error(t(418));a.flags=a.flags&-4097|2,Er=!1,An=a}}}function J1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;An=a}function ic(a){if(a!==An)return!1;if(!Er)return J1(a),Er=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!tc(a.type,a.memoizedProps)),l&&(l=pi)){if($a(a))throw ld(),Error(t(418));for(;l;)pa(a,l),l=_o(l.nextSibling)}if(J1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var g=a.data;if(g==="/$"){if(l===0){pi=_o(a.nextSibling);break e}l--}else g!=="$"&&g!=="$!"&&g!=="$?"||l++}a=a.nextSibling}pi=null}}else pi=An?_o(a.stateNode.nextSibling):null;return!0}function ld(){for(var a=pi;a;)a=_o(a.nextSibling)}function fa(){pi=An=null,Er=!1}function ga(a){Hi===null?Hi=[a]:Hi.push(a)}var eh=P.ReactCurrentBatchConfig;function ac(a,l,g){if(a=g.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(t(309));var y=g.stateNode}if(!y)throw Error(t(147,a));var w=y,M=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===M?l.ref:(l=function(F){var j=w.refs;F===null?delete j[M]:j[M]=F},l._stringRef=M,l)}if(typeof a!="string")throw Error(t(284));if(!g._owner)throw Error(t(290,a))}return a}function dl(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function th(a){var l=a._init;return l(a._payload)}function sd(a){function l(de,le){if(a){var he=de.deletions;he===null?(de.deletions=[le],de.flags|=16):he.push(le)}}function g(de,le){if(!a)return null;for(;le!==null;)l(de,le),le=le.sibling;return null}function y(de,le){for(de=new Map;le!==null;)le.key!==null?de.set(le.key,le):de.set(le.index,le),le=le.sibling;return de}function w(de,le){return de=Zi(de,le),de.index=0,de.sibling=null,de}function M(de,le,he){return de.index=he,a?(he=de.alternate,he!==null?(he=he.index,he<le?(de.flags|=2,le):he):(de.flags|=2,le)):(de.flags|=1048576,le)}function F(de){return a&&de.alternate===null&&(de.flags|=2),de}function j(de,le,he,De){return le===null||le.tag!==6?(le=Gd(he,de.mode,De),le.return=de,le):(le=w(le,he),le.return=de,le)}function ne(de,le,he,De){var rt=he.type;return rt===R?Se(de,le,he.props.children,De,he.key):le!==null&&(le.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===G&&th(rt)===le.type)?(De=w(le,he.props),De.ref=ac(de,le,he),De.return=de,De):(De=Zu(he.type,he.key,he.props,null,de.mode,De),De.ref=ac(de,le,he),De.return=de,De)}function ge(de,le,he,De){return le===null||le.tag!==4||le.stateNode.containerInfo!==he.containerInfo||le.stateNode.implementation!==he.implementation?(le=Kd(he,de.mode,De),le.return=de,le):(le=w(le,he.children||[]),le.return=de,le)}function Se(de,le,he,De,rt){return le===null||le.tag!==7?(le=wl(he,de.mode,De,rt),le.return=de,le):(le=w(le,he),le.return=de,le)}function Ie(de,le,he){if(typeof le=="string"&&le!==""||typeof le=="number")return le=Gd(""+le,de.mode,he),le.return=de,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case L:return he=Zu(le.type,le.key,le.props,null,de.mode,he),he.ref=ac(de,null,le),he.return=de,he;case z:return le=Kd(le,de.mode,he),le.return=de,le;case G:var De=le._init;return Ie(de,De(le._payload),he)}if(Ot(le)||J(le))return le=wl(le,de.mode,he,null),le.return=de,le;dl(de,le)}return null}function ke(de,le,he,De){var rt=le!==null?le.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return rt!==null?null:j(de,le,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case L:return he.key===rt?ne(de,le,he,De):null;case z:return he.key===rt?ge(de,le,he,De):null;case G:return rt=he._init,ke(de,le,rt(he._payload),De)}if(Ot(he)||J(he))return rt!==null?null:Se(de,le,he,De,null);dl(de,he)}return null}function Xe(de,le,he,De,rt){if(typeof De=="string"&&De!==""||typeof De=="number")return de=de.get(he)||null,j(le,de,""+De,rt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case L:return de=de.get(De.key===null?he:De.key)||null,ne(le,de,De,rt);case z:return de=de.get(De.key===null?he:De.key)||null,ge(le,de,De,rt);case G:var ct=De._init;return Xe(de,le,he,ct(De._payload),rt)}if(Ot(De)||J(De))return de=de.get(he)||null,Se(le,de,De,rt,null);dl(le,De)}return null}function qe(de,le,he,De){for(var rt=null,ct=null,ot=le,gt=le=0,sn=null;ot!==null&&gt<he.length;gt++){ot.index>gt?(sn=ot,ot=null):sn=ot.sibling;var ir=ke(de,ot,he[gt],De);if(ir===null){ot===null&&(ot=sn);break}a&&ot&&ir.alternate===null&&l(de,ot),le=M(ir,le,gt),ct===null?rt=ir:ct.sibling=ir,ct=ir,ot=sn}if(gt===he.length)return g(de,ot),Er&&cl(de,gt),rt;if(ot===null){for(;gt<he.length;gt++)ot=Ie(de,he[gt],De),ot!==null&&(le=M(ot,le,gt),ct===null?rt=ot:ct.sibling=ot,ct=ot);return Er&&cl(de,gt),rt}for(ot=y(de,ot);gt<he.length;gt++)sn=Xe(ot,de,gt,he[gt],De),sn!==null&&(a&&sn.alternate!==null&&ot.delete(sn.key===null?gt:sn.key),le=M(sn,le,gt),ct===null?rt=sn:ct.sibling=sn,ct=sn);return a&&ot.forEach(function(zo){return l(de,zo)}),Er&&cl(de,gt),rt}function et(de,le,he,De){var rt=J(he);if(typeof rt!="function")throw Error(t(150));if(he=rt.call(he),he==null)throw Error(t(151));for(var ct=rt=null,ot=le,gt=le=0,sn=null,ir=he.next();ot!==null&&!ir.done;gt++,ir=he.next()){ot.index>gt?(sn=ot,ot=null):sn=ot.sibling;var zo=ke(de,ot,ir.value,De);if(zo===null){ot===null&&(ot=sn);break}a&&ot&&zo.alternate===null&&l(de,ot),le=M(zo,le,gt),ct===null?rt=zo:ct.sibling=zo,ct=zo,ot=sn}if(ir.done)return g(de,ot),Er&&cl(de,gt),rt;if(ot===null){for(;!ir.done;gt++,ir=he.next())ir=Ie(de,ir.value,De),ir!==null&&(le=M(ir,le,gt),ct===null?rt=ir:ct.sibling=ir,ct=ir);return Er&&cl(de,gt),rt}for(ot=y(de,ot);!ir.done;gt++,ir=he.next())ir=Xe(ot,de,gt,ir.value,De),ir!==null&&(a&&ir.alternate!==null&&ot.delete(ir.key===null?gt:ir.key),le=M(ir,le,gt),ct===null?rt=ir:ct.sibling=ir,ct=ir);return a&&ot.forEach(function(bf){return l(de,bf)}),Er&&cl(de,gt),rt}function Xr(de,le,he,De){if(typeof he=="object"&&he!==null&&he.type===R&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case L:e:{for(var rt=he.key,ct=le;ct!==null;){if(ct.key===rt){if(rt=he.type,rt===R){if(ct.tag===7){g(de,ct.sibling),le=w(ct,he.props.children),le.return=de,de=le;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===G&&th(rt)===ct.type){g(de,ct.sibling),le=w(ct,he.props),le.ref=ac(de,ct,he),le.return=de,de=le;break e}g(de,ct);break}else l(de,ct);ct=ct.sibling}he.type===R?(le=wl(he.props.children,de.mode,De,he.key),le.return=de,de=le):(De=Zu(he.type,he.key,he.props,null,de.mode,De),De.ref=ac(de,le,he),De.return=de,de=De)}return F(de);case z:e:{for(ct=he.key;le!==null;){if(le.key===ct)if(le.tag===4&&le.stateNode.containerInfo===he.containerInfo&&le.stateNode.implementation===he.implementation){g(de,le.sibling),le=w(le,he.children||[]),le.return=de,de=le;break e}else{g(de,le);break}else l(de,le);le=le.sibling}le=Kd(he,de.mode,De),le.return=de,de=le}return F(de);case G:return ct=he._init,Xr(de,le,ct(he._payload),De)}if(Ot(he))return qe(de,le,he,De);if(J(he))return et(de,le,he,De);dl(de,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,le!==null&&le.tag===6?(g(de,le.sibling),le=w(le,he),le.return=de,de=le):(g(de,le),le=Gd(he,de.mode,De),le.return=de,de=le),F(de)):g(de,le)}return Xr}var Br=sd(!0),mu=sd(!1),oc=Zn(null),fi=null,Eo=null,cs=null;function Wa(){cs=Eo=fi=null}function yu(a){var l=oc.current;Mr(oc),a._currentValue=l}function vn(a,l,g){for(;a!==null;){var y=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),a===g)break;a=a.return}}function To(a,l){fi=a,cs=Eo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&($n=!0),a.firstContext=null)}function ki(a){var l=a._currentValue;if(cs!==a)if(a={context:a,memoizedValue:l,next:null},Eo===null){if(fi===null)throw Error(t(308));Eo=a,fi.dependencies={lanes:0,firstContext:a}}else Eo=Eo.next=a;return l}var hl=null;function cd(a){hl===null?hl=[a]:hl.push(a)}function xu(a,l,g,y){var w=l.interleaved;return w===null?(g.next=g,cd(l)):(g.next=w.next,w.next=g),l.interleaved=g,Ua(a,y)}function Ua(a,l){a.lanes|=l;var g=a.alternate;for(g!==null&&(g.lanes|=l),g=a,a=a.return;a!==null;)a.childLanes|=l,g=a.alternate,g!==null&&(g.childLanes|=l),g=a,a=a.return;return g.tag===3?g.stateNode:null}var Si=!1;function Cu(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rh(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ha(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Mi(a,l,g){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(qt&2)!==0){var w=y.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),y.pending=l,Ua(a,g)}return w=y.interleaved,w===null?(l.next=l,cd(y)):(l.next=w.next,w.next=l),y.interleaved=l,Ua(a,g)}function bu(a,l,g){if(l=l.updateQueue,l!==null&&(l=l.shared,(g&4194240)!==0)){var y=l.lanes;y&=a.pendingLanes,g|=y,l.lanes=g,go(a,g)}}function nh(a,l){var g=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,g===y)){var w=null,M=null;if(g=g.firstBaseUpdate,g!==null){do{var F={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};M===null?w=M=F:M=M.next=F,g=g.next}while(g!==null);M===null?w=M=l:M=M.next=l}else w=M=l;g={baseState:y.baseState,firstBaseUpdate:w,lastBaseUpdate:M,shared:y.shared,effects:y.effects},a.updateQueue=g;return}a=g.lastBaseUpdate,a===null?g.firstBaseUpdate=l:a.next=l,g.lastBaseUpdate=l}function us(a,l,g,y){var w=a.updateQueue;Si=!1;var M=w.firstBaseUpdate,F=w.lastBaseUpdate,j=w.shared.pending;if(j!==null){w.shared.pending=null;var ne=j,ge=ne.next;ne.next=null,F===null?M=ge:F.next=ge,F=ne;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,j=Se.lastBaseUpdate,j!==F&&(j===null?Se.firstBaseUpdate=ge:j.next=ge,Se.lastBaseUpdate=ne))}if(M!==null){var Ie=w.baseState;F=0,Se=ge=ne=null,j=M;do{var ke=j.lane,Xe=j.eventTime;if((y&ke)===ke){Se!==null&&(Se=Se.next={eventTime:Xe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var qe=a,et=j;switch(ke=l,Xe=g,et.tag){case 1:if(qe=et.payload,typeof qe=="function"){Ie=qe.call(Xe,Ie,ke);break e}Ie=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=et.payload,ke=typeof qe=="function"?qe.call(Xe,Ie,ke):qe,ke==null)break e;Ie=ee({},Ie,ke);break e;case 2:Si=!0}}j.callback!==null&&j.lane!==0&&(a.flags|=64,ke=w.effects,ke===null?w.effects=[j]:ke.push(j))}else Xe={eventTime:Xe,lane:ke,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Se===null?(ge=Se=Xe,ne=Ie):Se=Se.next=Xe,F|=ke;if(j=j.next,j===null){if(j=w.shared.pending,j===null)break;ke=j,j=ke.next,ke.next=null,w.lastBaseUpdate=ke,w.shared.pending=null}}while(!0);if(Se===null&&(ne=Ie),w.baseState=ne,w.firstBaseUpdate=ge,w.lastBaseUpdate=Se,l=w.shared.interleaved,l!==null){w=l;do F|=w.lane,w=w.next;while(w!==l)}else M===null&&(w.shared.lanes=0);Do|=F,a.lanes=F,a.memoizedState=Ie}}function ud(a,l,g){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var y=a[l],w=y.callback;if(w!==null){if(y.callback=null,y=g,typeof w!="function")throw Error(t(191,w));w.call(y)}}}var lc={},va=Zn(lc),sc=Zn(lc),ds=Zn(lc);function Ya(a){if(a===lc)throw Error(t(174));return a}function dd(a,l){switch(br(ds,l),br(sc,a),br(va,lc),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ut(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Ut(l,a)}Mr(va),br(va,l)}function Io(){Mr(va),Mr(sc),Mr(ds)}function hd(a){Ya(ds.current);var l=Ya(va.current),g=Ut(l,a.type);l!==g&&(br(sc,a),br(va,g))}function wu(a){sc.current===a&&(Mr(va),Mr(sc))}var Fr=Zn(0);function pl(a){for(var l=a;l!==null;){if(l.tag===13){var g=l.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var pd=[];function _u(){for(var a=0;a<pd.length;a++)pd[a]._workInProgressVersionPrimary=null;pd.length=0}var cc=P.ReactCurrentDispatcher,fd=P.ReactCurrentBatchConfig,Lo=0,Or=null,Yr=null,tn=null,hs=!1,uc=!1,fl=0,Nt=0;function Dn(){throw Error(t(321))}function gd(a,l){if(l===null)return!1;for(var g=0;g<l.length&&g<a.length;g++)if(!fe(a[g],l[g]))return!1;return!0}function gl(a,l,g,y,w,M){if(Lo=M,Or=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,cc.current=a===null||a.memoizedState===null?tf:Lu,a=g(y,w),uc){M=0;do{if(uc=!1,fl=0,25<=M)throw Error(t(301));M+=1,tn=Yr=null,l.updateQueue=null,cc.current=vs,a=g(y,w)}while(uc)}if(cc.current=Iu,l=Yr!==null&&Yr.next!==null,Lo=0,tn=Yr=Or=null,hs=!1,l)throw Error(t(300));return a}function ku(){var a=fl!==0;return fl=0,a}function ma(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Or.memoizedState=tn=a:tn=tn.next=a,tn}function Ei(){if(Yr===null){var a=Or.alternate;a=a!==null?a.memoizedState:null}else a=Yr.next;var l=tn===null?Or.memoizedState:tn.next;if(l!==null)tn=l,Yr=a;else{if(a===null)throw Error(t(310));Yr=a,a={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},tn===null?Or.memoizedState=tn=a:tn=tn.next=a}return tn}function Fn(a,l){return typeof l=="function"?l(a):l}function vd(a){var l=Ei(),g=l.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var y=Yr,w=y.baseQueue,M=g.pending;if(M!==null){if(w!==null){var F=w.next;w.next=M.next,M.next=F}y.baseQueue=w=M,g.pending=null}if(w!==null){M=w.next,y=y.baseState;var j=F=null,ne=null,ge=M;do{var Se=ge.lane;if((Lo&Se)===Se)ne!==null&&(ne=ne.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),y=ge.hasEagerState?ge.eagerState:a(y,ge.action);else{var Ie={lane:Se,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};ne===null?(j=ne=Ie,F=y):ne=ne.next=Ie,Or.lanes|=Se,Do|=Se}ge=ge.next}while(ge!==null&&ge!==M);ne===null?F=y:ne.next=j,fe(y,l.memoizedState)||($n=!0),l.memoizedState=y,l.baseState=F,l.baseQueue=ne,g.lastRenderedState=y}if(a=g.interleaved,a!==null){w=a;do M=w.lane,Or.lanes|=M,Do|=M,w=w.next;while(w!==a)}else w===null&&(g.lanes=0);return[l.memoizedState,g.dispatch]}function ps(a){var l=Ei(),g=l.queue;if(g===null)throw Error(t(311));g.lastRenderedReducer=a;var y=g.dispatch,w=g.pending,M=l.memoizedState;if(w!==null){g.pending=null;var F=w=w.next;do M=a(M,F.action),F=F.next;while(F!==w);fe(M,l.memoizedState)||($n=!0),l.memoizedState=M,l.baseQueue===null&&(l.baseState=M),g.lastRenderedState=M}return[M,y]}function Su(){}function md(a,l){var g=Or,y=Ei(),w=l(),M=!fe(y.memoizedState,w);if(M&&(y.memoizedState=w,$n=!0),y=y.queue,ya(Xa.bind(null,g,y,a),[a]),y.getSnapshot!==l||M||tn!==null&&tn.memoizedState.tag&1){if(g.flags|=2048,fs(9,ti.bind(null,g,y,w,l),void 0,null),ln===null)throw Error(t(349));(Lo&30)!==0||yd(g,l,w)}return w}function yd(a,l,g){a.flags|=16384,a={getSnapshot:l,value:g},l=Or.updateQueue,l===null?(l={lastEffect:null,stores:null},Or.updateQueue=l,l.stores=[a]):(g=l.stores,g===null?l.stores=[a]:g.push(a))}function ti(a,l,g,y){l.value=g,l.getSnapshot=y,Mu(l)&&xd(a)}function Xa(a,l,g){return g(function(){Mu(l)&&xd(a)})}function Mu(a){var l=a.getSnapshot;a=a.value;try{var g=l();return!fe(a,g)}catch{return!0}}function xd(a){var l=Ua(a,1);l!==null&&Qi(l,a,1,-1)}function dc(a){var l=ma();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:a},l.queue=a,a=a.dispatch=ch.bind(null,Or,a),[l.memoizedState,a]}function fs(a,l,g,y){return a={tag:a,create:l,destroy:g,deps:y,next:null},l=Or.updateQueue,l===null?(l={lastEffect:null,stores:null},Or.updateQueue=l,l.lastEffect=a.next=a):(g=l.lastEffect,g===null?l.lastEffect=a.next=a:(y=g.next,g.next=a,a.next=y,l.lastEffect=a)),a}function Eu(){return Ei().memoizedState}function hc(a,l,g,y){var w=ma();Or.flags|=a,w.memoizedState=fs(1|l,g,void 0,y===void 0?null:y)}function gs(a,l,g,y){var w=Ei();y=y===void 0?null:y;var M=void 0;if(Yr!==null){var F=Yr.memoizedState;if(M=F.destroy,y!==null&&gd(y,F.deps)){w.memoizedState=fs(l,g,M,y);return}}Or.flags|=a,w.memoizedState=fs(1|l,g,M,y)}function Tu(a,l){return hc(8390656,8,a,l)}function ya(a,l){return gs(2048,8,a,l)}function ih(a,l){return gs(4,2,a,l)}function ja(a,l){return gs(4,4,a,l)}function Cd(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function bd(a,l,g){return g=g!=null?g.concat([a]):null,gs(4,4,Cd.bind(null,l,a),g)}function pc(){}function ah(a,l){var g=Ei();l=l===void 0?null:l;var y=g.memoizedState;return y!==null&&l!==null&&gd(l,y[1])?y[0]:(g.memoizedState=[a,l],a)}function oh(a,l){var g=Ei();l=l===void 0?null:l;var y=g.memoizedState;return y!==null&&l!==null&&gd(l,y[1])?y[0]:(a=a(),g.memoizedState=[a,l],a)}function lh(a,l,g){return(Lo&21)===0?(a.baseState&&(a.baseState=!1,$n=!0),a.memoizedState=g):(fe(g,l)||(g=$l(),Or.lanes|=g,Do|=g,a.baseState=!0),l)}function sh(a,l){var g=Qt;Qt=g!==0&&4>g?g:4,a(!0);var y=fd.transition;fd.transition={};try{a(!1),l()}finally{Qt=g,fd.transition=y}}function wd(){return Ei().memoizedState}function ef(a,l,g){var y=Oo(a);if(g={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null},_d(a))Vn(l,g);else if(g=xu(a,l,g,y),g!==null){var w=Hn();Qi(g,a,y,w),Yi(g,l,y)}}function ch(a,l,g){var y=Oo(a),w={lane:y,action:g,hasEagerState:!1,eagerState:null,next:null};if(_d(a))Vn(l,w);else{var M=a.alternate;if(a.lanes===0&&(M===null||M.lanes===0)&&(M=l.lastRenderedReducer,M!==null))try{var F=l.lastRenderedState,j=M(F,g);if(w.hasEagerState=!0,w.eagerState=j,fe(j,F)){var ne=l.interleaved;ne===null?(w.next=w,cd(l)):(w.next=ne.next,ne.next=w),l.interleaved=w;return}}catch{}finally{}g=xu(a,l,w,y),g!==null&&(w=Hn(),Qi(g,a,y,w),Yi(g,l,y))}}function _d(a){var l=a.alternate;return a===Or||l!==null&&l===Or}function Vn(a,l){uc=hs=!0;var g=a.pending;g===null?l.next=l:(l.next=g.next,g.next=l),a.pending=l}function Yi(a,l,g){if((g&4194240)!==0){var y=l.lanes;y&=a.pendingLanes,g|=y,l.lanes=g,go(a,g)}}var Iu={readContext:ki,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useInsertionEffect:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useSyncExternalStore:Dn,useId:Dn,unstable_isNewReconciler:!1},tf={readContext:ki,useCallback:function(a,l){return ma().memoizedState=[a,l===void 0?null:l],a},useContext:ki,useEffect:Tu,useImperativeHandle:function(a,l,g){return g=g!=null?g.concat([a]):null,hc(4194308,4,Cd.bind(null,l,a),g)},useLayoutEffect:function(a,l){return hc(4194308,4,a,l)},useInsertionEffect:function(a,l){return hc(4,2,a,l)},useMemo:function(a,l){var g=ma();return l=l===void 0?null:l,a=a(),g.memoizedState=[a,l],a},useReducer:function(a,l,g){var y=ma();return l=g!==void 0?g(l):l,y.memoizedState=y.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},y.queue=a,a=a.dispatch=ef.bind(null,Or,a),[y.memoizedState,a]},useRef:function(a){var l=ma();return a={current:a},l.memoizedState=a},useState:dc,useDebugValue:pc,useDeferredValue:function(a){return ma().memoizedState=a},useTransition:function(){var a=dc(!1),l=a[0];return a=sh.bind(null,a[1]),ma().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,g){var y=Or,w=ma();if(Er){if(g===void 0)throw Error(t(407));g=g()}else{if(g=l(),ln===null)throw Error(t(349));(Lo&30)!==0||yd(y,l,g)}w.memoizedState=g;var M={value:g,getSnapshot:l};return w.queue=M,Tu(Xa.bind(null,y,M,a),[a]),y.flags|=2048,fs(9,ti.bind(null,y,M,g,l),void 0,null),g},useId:function(){var a=ma(),l=ln.identifierPrefix;if(Er){var g=ha,y=da;g=(y&~(1<<32-Kn(y)-1)).toString(32)+g,l=":"+l+"R"+g,g=fl++,0<g&&(l+="H"+g.toString(32)),l+=":"}else g=Nt++,l=":"+l+"r"+g.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},Lu={readContext:ki,useCallback:ah,useContext:ki,useEffect:ya,useImperativeHandle:bd,useInsertionEffect:ih,useLayoutEffect:ja,useMemo:oh,useReducer:vd,useRef:Eu,useState:function(){return vd(Fn)},useDebugValue:pc,useDeferredValue:function(a){var l=Ei();return lh(l,Yr.memoizedState,a)},useTransition:function(){var a=vd(Fn)[0],l=Ei().memoizedState;return[a,l]},useMutableSource:Su,useSyncExternalStore:md,useId:wd,unstable_isNewReconciler:!1},vs={readContext:ki,useCallback:ah,useContext:ki,useEffect:ya,useImperativeHandle:bd,useInsertionEffect:ih,useLayoutEffect:ja,useMemo:oh,useReducer:ps,useRef:Eu,useState:function(){return ps(Fn)},useDebugValue:pc,useDeferredValue:function(a){var l=Ei();return Yr===null?l.memoizedState=a:lh(l,Yr.memoizedState,a)},useTransition:function(){var a=ps(Fn)[0],l=Ei().memoizedState;return[a,l]},useMutableSource:Su,useSyncExternalStore:md,useId:wd,unstable_isNewReconciler:!1};function Ti(a,l){if(a&&a.defaultProps){l=ee({},l),a=a.defaultProps;for(var g in a)l[g]===void 0&&(l[g]=a[g]);return l}return l}function Pu(a,l,g,y){l=a.memoizedState,g=g(y,l),g=g==null?l:ee({},l,g),a.memoizedState=g,a.lanes===0&&(a.updateQueue.baseState=g)}var Au={isMounted:function(a){return(a=a._reactInternals)?zi(a)===a:!1},enqueueSetState:function(a,l,g){a=a._reactInternals;var y=Hn(),w=Oo(a),M=Ha(y,w);M.payload=l,g!=null&&(M.callback=g),l=Mi(a,M,w),l!==null&&(Qi(l,a,w,y),bu(l,a,w))},enqueueReplaceState:function(a,l,g){a=a._reactInternals;var y=Hn(),w=Oo(a),M=Ha(y,w);M.tag=1,M.payload=l,g!=null&&(M.callback=g),l=Mi(a,M,w),l!==null&&(Qi(l,a,w,y),bu(l,a,w))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var g=Hn(),y=Oo(a),w=Ha(g,y);w.tag=2,l!=null&&(w.callback=l),l=Mi(a,w,y),l!==null&&(Qi(l,a,y,g),bu(l,a,y))}};function kd(a,l,g,y,w,M,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,M,F):l.prototype&&l.prototype.isPureReactComponent?!Ye(g,y)||!Ye(w,M):!0}function vl(a,l,g){var y=!1,w=So,M=l.contextType;return typeof M=="object"&&M!==null?M=ki(M):(w=Jn(l)?Bn:Ln.current,y=l.contextTypes,M=(y=y!=null)?ls(a,w):So),l=new l(g,M),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Au,a.stateNode=l,l._reactInternals=a,y&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=w,a.__reactInternalMemoizedMaskedChildContext=M),l}function ms(a,l,g,y){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(g,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(g,y),l.state!==a&&Au.enqueueReplaceState(l,l.state,null)}function Sd(a,l,g,y){var w=a.stateNode;w.props=g,w.state=a.memoizedState,w.refs={},Cu(a);var M=l.contextType;typeof M=="object"&&M!==null?w.context=ki(M):(M=Jn(l)?Bn:Ln.current,w.context=ls(a,M)),w.state=a.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(Pu(a,l,M,g),w.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&Au.enqueueReplaceState(w,w.state,null),us(a,g,w,y),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308)}function ml(a,l){try{var g="",y=l;do g+=Pe(y),y=y.return;while(y);var w=g}catch(M){w=`
Error generating stack: `+M.message+`
`+M.stack}return{value:a,source:l,stack:w,digest:null}}function Du(a,l,g){return{value:a,source:null,stack:g??null,digest:l??null}}function ys(a,l){try{console.error(l.value)}catch(g){setTimeout(function(){throw g})}}var uh=typeof WeakMap=="function"?WeakMap:Map;function fc(a,l,g){g=Ha(-1,g),g.tag=3,g.payload={element:null};var y=l.value;return g.callback=function(){Hu||(Hu=!0,$d=y),ys(a,l)},g}function Fu(a,l,g){g=Ha(-1,g),g.tag=3;var y=a.type.getDerivedStateFromError;if(typeof y=="function"){var w=l.value;g.payload=function(){return y(w)},g.callback=function(){ys(a,l)}}var M=a.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(g.callback=function(){ys(a,l),typeof y!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var F=l.stack;this.componentDidCatch(l.value,{componentStack:F!==null?F:""})}),g}function gc(a,l,g){var y=a.pingCache;if(y===null){y=a.pingCache=new uh;var w=new Set;y.set(l,w)}else w=y.get(l),w===void 0&&(w=new Set,y.set(l,w));w.has(g)||(w.add(g),a=uf.bind(null,a,l,g),l.then(a,a))}function dh(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function Md(a,l,g,y,w){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(l=Ha(-1,1),l.tag=2,Mi(g,l,1))),g.lanes|=1),a):(a.flags|=65536,a.lanes=w,a)}var Ru=P.ReactCurrentOwner,$n=!1;function mn(a,l,g,y){l.child=a===null?mu(l,null,g,y):Br(l,a.child,g,y)}function hh(a,l,g,y,w){g=g.render;var M=l.ref;return To(l,w),y=gl(a,l,g,y,M,w),g=ku(),a!==null&&!$n?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~w,Xi(a,l,w)):(Er&&g&&nc(l),l.flags|=1,mn(a,l,y,w),l.child)}function Ed(a,l,g,y,w){if(a===null){var M=g.type;return typeof M=="function"&&!Qu(M)&&M.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(l.tag=15,l.type=M,xa(a,l,M,y,w)):(a=Zu(g.type,null,y,l,l.mode,w),a.ref=l.ref,a.return=l,l.child=a)}if(M=a.child,(a.lanes&w)===0){var F=M.memoizedProps;if(g=g.compare,g=g!==null?g:Ye,g(F,y)&&a.ref===l.ref)return Xi(a,l,w)}return l.flags|=1,a=Zi(M,y),a.ref=l.ref,a.return=l,l.child=a}function xa(a,l,g,y,w){if(a!==null){var M=a.memoizedProps;if(Ye(M,y)&&a.ref===l.ref)if($n=!1,l.pendingProps=y=M,(a.lanes&w)!==0)(a.flags&131072)!==0&&($n=!0);else return l.lanes=a.lanes,Xi(a,l,w)}return Ld(a,l,g,y,w)}function Td(a,l,g){var y=l.pendingProps,w=y.children,M=a!==null?a.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},br(ws,vi),vi|=g;else{if((g&1073741824)===0)return a=M!==null?M.baseLanes|g:g,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,br(ws,vi),vi|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=M!==null?M.baseLanes:g,br(ws,vi),vi|=y}else M!==null?(y=M.baseLanes|g,l.memoizedState=null):y=g,br(ws,vi),vi|=y;return mn(a,l,w,g),l.child}function Id(a,l){var g=l.ref;(a===null&&g!==null||a!==null&&a.ref!==g)&&(l.flags|=512,l.flags|=2097152)}function Ld(a,l,g,y,w){var M=Jn(g)?Bn:Ln.current;return M=ls(l,M),To(l,w),g=gl(a,l,g,y,M,w),y=ku(),a!==null&&!$n?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~w,Xi(a,l,w)):(Er&&y&&nc(l),l.flags|=1,mn(a,l,g,w),l.child)}function Pd(a,l,g,y,w){if(Jn(g)){var M=!0;bi(l)}else M=!1;if(To(l,w),l.stateNode===null)Nu(a,l),vl(l,g,y),Sd(l,g,y,w),y=!0;else if(a===null){var F=l.stateNode,j=l.memoizedProps;F.props=j;var ne=F.context,ge=g.contextType;typeof ge=="object"&&ge!==null?ge=ki(ge):(ge=Jn(g)?Bn:Ln.current,ge=ls(l,ge));var Se=g.getDerivedStateFromProps,Ie=typeof Se=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ie||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(j!==y||ne!==ge)&&ms(l,F,y,ge),Si=!1;var ke=l.memoizedState;F.state=ke,us(l,y,F,w),ne=l.memoizedState,j!==y||ke!==ne||qn.current||Si?(typeof Se=="function"&&(Pu(l,g,Se,y),ne=l.memoizedState),(j=Si||kd(l,g,j,y,ke,ne,ge))?(Ie||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=ne),F.props=y,F.state=ne,F.context=ge,y=j):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{F=l.stateNode,rh(a,l),j=l.memoizedProps,ge=l.type===l.elementType?j:Ti(l.type,j),F.props=ge,Ie=l.pendingProps,ke=F.context,ne=g.contextType,typeof ne=="object"&&ne!==null?ne=ki(ne):(ne=Jn(g)?Bn:Ln.current,ne=ls(l,ne));var Xe=g.getDerivedStateFromProps;(Se=typeof Xe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(j!==Ie||ke!==ne)&&ms(l,F,y,ne),Si=!1,ke=l.memoizedState,F.state=ke,us(l,y,F,w);var qe=l.memoizedState;j!==Ie||ke!==qe||qn.current||Si?(typeof Xe=="function"&&(Pu(l,g,Xe,y),qe=l.memoizedState),(ge=Si||kd(l,g,ge,y,ke,qe,ne)||!1)?(Se||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(y,qe,ne),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(y,qe,ne)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||j===a.memoizedProps&&ke===a.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&ke===a.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=qe),F.props=y,F.state=qe,F.context=ne,y=ge):(typeof F.componentDidUpdate!="function"||j===a.memoizedProps&&ke===a.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&ke===a.memoizedState||(l.flags|=1024),y=!1)}return Ad(a,l,g,y,M,w)}function Ad(a,l,g,y,w,M){Id(a,l);var F=(l.flags&128)!==0;if(!y&&!F)return w&&Q1(l,g,!1),Xi(a,l,M);y=l.stateNode,Ru.current=l;var j=F&&typeof g.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,a!==null&&F?(l.child=Br(l,a.child,null,M),l.child=Br(l,null,j,M)):mn(a,l,j,M),l.memoizedState=y.state,w&&Q1(l,g,!0),l.child}function ph(a){var l=a.stateNode;l.pendingContext?G1(a,l.pendingContext,l.pendingContext!==l.context):l.context&&G1(a,l.context,!1),dd(a,l.containerInfo)}function Ca(a,l,g,y,w){return fa(),ga(w),l.flags|=256,mn(a,l,g,y),l.child}var vc={dehydrated:null,treeContext:null,retryLane:0};function mc(a){return{baseLanes:a,cachePool:null,transitions:null}}function Ou(a,l,g){var y=l.pendingProps,w=Fr.current,M=!1,F=(l.flags&128)!==0,j;if((j=F)||(j=a!==null&&a.memoizedState===null?!1:(w&2)!==0),j?(M=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(w|=1),br(Fr,w&1),a===null)return ei(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(F=y.children,a=y.fallback,M?(y=l.mode,M=l.child,F={mode:"hidden",children:F},(y&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=F):M=qu(F,y,0,null),a=wl(a,y,g,null),M.return=l,a.return=l,M.sibling=a,l.child=M,l.child.memoizedState=mc(g),l.memoizedState=vc,a):xs(l,F));if(w=a.memoizedState,w!==null&&(j=w.dehydrated,j!==null))return dt(a,l,F,y,j,w,g);if(M){M=y.fallback,F=l.mode,w=a.child,j=w.sibling;var ne={mode:"hidden",children:y.children};return(F&1)===0&&l.child!==w?(y=l.child,y.childLanes=0,y.pendingProps=ne,l.deletions=null):(y=Zi(w,ne),y.subtreeFlags=w.subtreeFlags&14680064),j!==null?M=Zi(j,M):(M=wl(M,F,g,null),M.flags|=2),M.return=l,y.return=l,y.sibling=M,l.child=y,y=M,M=l.child,F=a.child.memoizedState,F=F===null?mc(g):{baseLanes:F.baseLanes|g,cachePool:null,transitions:F.transitions},M.memoizedState=F,M.childLanes=a.childLanes&~g,l.memoizedState=vc,y}return M=a.child,a=M.sibling,y=Zi(M,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=g),y.return=l,y.sibling=null,a!==null&&(g=l.deletions,g===null?(l.deletions=[a],l.flags|=16):g.push(a)),l.child=y,l.memoizedState=null,y}function xs(a,l){return l=qu({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Ga(a,l,g,y){return y!==null&&ga(y),Br(l,a.child,null,g),a=xs(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function dt(a,l,g,y,w,M,F){if(g)return l.flags&256?(l.flags&=-257,y=Du(Error(t(422))),Ga(a,l,F,y)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(M=y.fallback,w=l.mode,y=qu({mode:"visible",children:y.children},w,0,null),M=wl(M,w,F,null),M.flags|=2,y.return=l,M.return=l,y.sibling=M,l.child=y,(l.mode&1)!==0&&Br(l,a.child,null,F),l.child.memoizedState=mc(F),l.memoizedState=vc,M);if((l.mode&1)===0)return Ga(a,l,F,null);if(w.data==="$!"){if(y=w.nextSibling&&w.nextSibling.dataset,y)var j=y.dgst;return y=j,M=Error(t(419)),y=Du(M,y,void 0),Ga(a,l,F,y)}if(j=(F&a.childLanes)!==0,$n||j){if(y=ln,y!==null){switch(F&-F){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(y.suspendedLanes|F))!==0?0:w,w!==0&&w!==M.retryLane&&(M.retryLane=w,Ua(a,w),Qi(y,a,w,-1))}return jd(),y=Du(Error(t(421))),Ga(a,l,F,y)}return w.data==="$?"?(l.flags|=128,l.child=a.child,l=df.bind(null,a),w._reactRetry=l,null):(a=M.treeContext,pi=_o(w.nextSibling),An=l,Er=!0,Hi=null,a!==null&&(wi[_i++]=da,wi[_i++]=ha,wi[_i++]=sl,da=a.id,ha=a.overflow,sl=l),l=xs(l,y.children),l.flags|=4096,l)}function yc(a,l,g){a.lanes|=l;var y=a.alternate;y!==null&&(y.lanes|=l),vn(a.return,l,g)}function xc(a,l,g,y,w){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:g,tailMode:w}:(M.isBackwards=l,M.rendering=null,M.renderingStartTime=0,M.last=y,M.tail=g,M.tailMode=w)}function Po(a,l,g){var y=l.pendingProps,w=y.revealOrder,M=y.tail;if(mn(a,l,y.children,g),y=Fr.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yc(a,g,l);else if(a.tag===19)yc(a,g,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}if(br(Fr,y),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(g=l.child,w=null;g!==null;)a=g.alternate,a!==null&&pl(a)===null&&(w=g),g=g.sibling;g=w,g===null?(w=l.child,l.child=null):(w=g.sibling,g.sibling=null),xc(l,!1,w,g,M);break;case"backwards":for(g=null,w=l.child,l.child=null;w!==null;){if(a=w.alternate,a!==null&&pl(a)===null){l.child=w;break}a=w.sibling,w.sibling=g,g=w,w=a}xc(l,!0,g,null,M);break;case"together":xc(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Nu(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function Xi(a,l,g){if(a!==null&&(l.dependencies=a.dependencies),Do|=l.lanes,(g&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,g=Zi(a,a.pendingProps),l.child=g,g.return=l;a.sibling!==null;)a=a.sibling,g=g.sibling=Zi(a,a.pendingProps),g.return=l;g.sibling=null}return l.child}function fh(a,l,g){switch(l.tag){case 3:ph(l),fa();break;case 5:hd(l);break;case 1:Jn(l.type)&&bi(l);break;case 4:dd(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,w=l.memoizedProps.value;br(oc,y._currentValue),y._currentValue=w;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(br(Fr,Fr.current&1),l.flags|=128,null):(g&l.child.childLanes)!==0?Ou(a,l,g):(br(Fr,Fr.current&1),a=Xi(a,l,g),a!==null?a.sibling:null);br(Fr,Fr.current&1);break;case 19:if(y=(g&l.childLanes)!==0,(a.flags&128)!==0){if(y)return Po(a,l,g);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),br(Fr,Fr.current),y)break;return null;case 22:case 23:return l.lanes=0,Td(a,l,g)}return Xi(a,l,g)}var yn,Dd,gh,Fd;yn=function(a,l){for(var g=l.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break;for(;g.sibling===null;){if(g.return===null||g.return===l)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Dd=function(){},gh=function(a,l,g,y){var w=a.memoizedProps;if(w!==y){a=l.stateNode,Ya(va.current);var M=null;switch(g){case"input":w=Me(a,w),y=Me(a,y),M=[];break;case"select":w=ee({},w,{value:void 0}),y=ee({},y,{value:void 0}),M=[];break;case"textarea":w=lr(a,w),y=lr(a,y),M=[];break;default:typeof w.onClick!="function"&&typeof y.onClick=="function"&&(a.onclick=su)}wt(g,y);var F;g=null;for(ge in w)if(!y.hasOwnProperty(ge)&&w.hasOwnProperty(ge)&&w[ge]!=null)if(ge==="style"){var j=w[ge];for(F in j)j.hasOwnProperty(F)&&(g||(g={}),g[F]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(i.hasOwnProperty(ge)?M||(M=[]):(M=M||[]).push(ge,null));for(ge in y){var ne=y[ge];if(j=w!=null?w[ge]:void 0,y.hasOwnProperty(ge)&&ne!==j&&(ne!=null||j!=null))if(ge==="style")if(j){for(F in j)!j.hasOwnProperty(F)||ne&&ne.hasOwnProperty(F)||(g||(g={}),g[F]="");for(F in ne)ne.hasOwnProperty(F)&&j[F]!==ne[F]&&(g||(g={}),g[F]=ne[F])}else g||(M||(M=[]),M.push(ge,g)),g=ne;else ge==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,j=j?j.__html:void 0,ne!=null&&j!==ne&&(M=M||[]).push(ge,ne)):ge==="children"?typeof ne!="string"&&typeof ne!="number"||(M=M||[]).push(ge,""+ne):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(i.hasOwnProperty(ge)?(ne!=null&&ge==="onScroll"&&Sr("scroll",a),M||j===ne||(M=[])):(M=M||[]).push(ge,ne))}g&&(M=M||[]).push("style",g);var ge=M;(l.updateQueue=ge)&&(l.flags|=4)}},Fd=function(a,l,g,y){g!==y&&(l.flags|=4)};function Cc(a,l){if(!Er)switch(a.tailMode){case"hidden":l=a.tail;for(var g=null;l!==null;)l.alternate!==null&&(g=l),l=l.sibling;g===null?a.tail=null:g.sibling=null;break;case"collapsed":g=a.tail;for(var y=null;g!==null;)g.alternate!==null&&(y=g),g=g.sibling;y===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function xn(a){var l=a.alternate!==null&&a.alternate.child===a.child,g=0,y=0;if(l)for(var w=a.child;w!==null;)g|=w.lanes|w.childLanes,y|=w.subtreeFlags&14680064,y|=w.flags&14680064,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)g|=w.lanes|w.childLanes,y|=w.subtreeFlags,y|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=y,a.childLanes=g,l}function rf(a,l,g){var y=l.pendingProps;switch(ul(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(l),null;case 1:return Jn(l.type)&&hu(),xn(l),null;case 3:return y=l.stateNode,Io(),Mr(qn),Mr(Ln),_u(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(a===null||a.child===null)&&(ic(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Hi!==null&&(Hd(Hi),Hi=null))),Dd(a,l),xn(l),null;case 5:wu(l);var w=Ya(ds.current);if(g=l.type,a!==null&&l.stateNode!=null)gh(a,l,g,y,w),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(t(166));return xn(l),null}if(a=Ya(va.current),ic(l)){y=l.stateNode,g=l.type;var M=l.memoizedProps;switch(y[ca]=l,y[ko]=M,a=(l.mode&1)!==0,g){case"dialog":Sr("cancel",y),Sr("close",y);break;case"iframe":case"object":case"embed":Sr("load",y);break;case"video":case"audio":for(w=0;w<Ba.length;w++)Sr(Ba[w],y);break;case"source":Sr("error",y);break;case"img":case"image":case"link":Sr("error",y),Sr("load",y);break;case"details":Sr("toggle",y);break;case"input":nt(y,M),Sr("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!M.multiple},Sr("invalid",y);break;case"textarea":Wr(y,M),Sr("invalid",y)}wt(g,M),w=null;for(var F in M)if(M.hasOwnProperty(F)){var j=M[F];F==="children"?typeof j=="string"?y.textContent!==j&&(M.suppressHydrationWarning!==!0&&Js(y.textContent,j,a),w=["children",j]):typeof j=="number"&&y.textContent!==""+j&&(M.suppressHydrationWarning!==!0&&Js(y.textContent,j,a),w=["children",""+j]):i.hasOwnProperty(F)&&j!=null&&F==="onScroll"&&Sr("scroll",y)}switch(g){case"input":Te(y),yt(y,M,!0);break;case"textarea":Te(y),ar(y);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(y.onclick=su)}y=w,l.updateQueue=y,y!==null&&(l.flags|=4)}else{F=w.nodeType===9?w:w.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Tt(g)),a==="http://www.w3.org/1999/xhtml"?g==="script"?(a=F.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof y.is=="string"?a=F.createElement(g,{is:y.is}):(a=F.createElement(g),g==="select"&&(F=a,y.multiple?F.multiple=!0:y.size&&(F.size=y.size))):a=F.createElementNS(a,g),a[ca]=l,a[ko]=y,yn(a,l,!1,!1),l.stateNode=a;e:{switch(F=Ct(g,y),g){case"dialog":Sr("cancel",a),Sr("close",a),w=y;break;case"iframe":case"object":case"embed":Sr("load",a),w=y;break;case"video":case"audio":for(w=0;w<Ba.length;w++)Sr(Ba[w],a);w=y;break;case"source":Sr("error",a),w=y;break;case"img":case"image":case"link":Sr("error",a),Sr("load",a),w=y;break;case"details":Sr("toggle",a),w=y;break;case"input":nt(a,y),w=Me(a,y),Sr("invalid",a);break;case"option":w=y;break;case"select":a._wrapperState={wasMultiple:!!y.multiple},w=ee({},y,{value:void 0}),Sr("invalid",a);break;case"textarea":Wr(a,y),w=lr(a,y),Sr("invalid",a);break;default:w=y}wt(g,w),j=w;for(M in j)if(j.hasOwnProperty(M)){var ne=j[M];M==="style"?bt(a,ne):M==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&zr(a,ne)):M==="children"?typeof ne=="string"?(g!=="textarea"||ne!=="")&&or(a,ne):typeof ne=="number"&&or(a,""+ne):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ne!=null&&M==="onScroll"&&Sr("scroll",a):ne!=null&&I(a,M,ne,F))}switch(g){case"input":Te(a),yt(a,y,!1);break;case"textarea":Te(a),ar(a);break;case"option":y.value!=null&&a.setAttribute("value",""+Ae(y.value));break;case"select":a.multiple=!!y.multiple,M=y.value,M!=null?st(a,!!y.multiple,M,!1):y.defaultValue!=null&&st(a,!!y.multiple,y.defaultValue,!0);break;default:typeof w.onClick=="function"&&(a.onclick=su)}switch(g){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return xn(l),null;case 6:if(a&&l.stateNode!=null)Fd(a,l,a.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(t(166));if(g=Ya(ds.current),Ya(va.current),ic(l)){if(y=l.stateNode,g=l.memoizedProps,y[ca]=l,(M=y.nodeValue!==g)&&(a=An,a!==null))switch(a.tag){case 3:Js(y.nodeValue,g,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Js(y.nodeValue,g,(a.mode&1)!==0)}M&&(l.flags|=4)}else y=(g.nodeType===9?g:g.ownerDocument).createTextNode(y),y[ca]=l,l.stateNode=y}return xn(l),null;case 13:if(Mr(Fr),y=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Er&&pi!==null&&(l.mode&1)!==0&&(l.flags&128)===0)ld(),fa(),l.flags|=98560,M=!1;else if(M=ic(l),y!==null&&y.dehydrated!==null){if(a===null){if(!M)throw Error(t(318));if(M=l.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(t(317));M[ca]=l}else fa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;xn(l),M=!1}else Hi!==null&&(Hd(Hi),Hi=null),M=!0;if(!M)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=g,l):(y=y!==null,y!==(a!==null&&a.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(Fr.current&1)!==0?rn===0&&(rn=3):jd())),l.updateQueue!==null&&(l.flags|=4),xn(l),null);case 4:return Io(),Dd(a,l),a===null&&bo(l.stateNode.containerInfo),xn(l),null;case 10:return yu(l.type._context),xn(l),null;case 17:return Jn(l.type)&&hu(),xn(l),null;case 19:if(Mr(Fr),M=l.memoizedState,M===null)return xn(l),null;if(y=(l.flags&128)!==0,F=M.rendering,F===null)if(y)Cc(M,!1);else{if(rn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(F=pl(a),F!==null){for(l.flags|=128,Cc(M,!1),y=F.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=g,g=l.child;g!==null;)M=g,a=y,M.flags&=14680066,F=M.alternate,F===null?(M.childLanes=0,M.lanes=a,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=F.childLanes,M.lanes=F.lanes,M.child=F.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=F.memoizedProps,M.memoizedState=F.memoizedState,M.updateQueue=F.updateQueue,M.type=F.type,a=F.dependencies,M.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),g=g.sibling;return br(Fr,Fr.current&1|2),l.child}a=a.sibling}M.tail!==null&&mr()>yl&&(l.flags|=128,y=!0,Cc(M,!1),l.lanes=4194304)}else{if(!y)if(a=pl(F),a!==null){if(l.flags|=128,y=!0,g=a.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),Cc(M,!0),M.tail===null&&M.tailMode==="hidden"&&!F.alternate&&!Er)return xn(l),null}else 2*mr()-M.renderingStartTime>yl&&g!==1073741824&&(l.flags|=128,y=!0,Cc(M,!1),l.lanes=4194304);M.isBackwards?(F.sibling=l.child,l.child=F):(g=M.last,g!==null?g.sibling=F:l.child=F,M.last=F)}return M.tail!==null?(l=M.tail,M.rendering=l,M.tail=l.sibling,M.renderingStartTime=mr(),l.sibling=null,g=Fr.current,br(Fr,y?g&1|2:g&1),l):(xn(l),null);case 22:case 23:return Xd(),y=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(vi&1073741824)!==0&&(xn(l),l.subtreeFlags&6&&(l.flags|=8192)):xn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function nf(a,l){switch(ul(l),l.tag){case 1:return Jn(l.type)&&hu(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Io(),Mr(qn),Mr(Ln),_u(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return wu(l),null;case 13:if(Mr(Fr),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));fa()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Mr(Fr),null;case 4:return Io(),null;case 10:return yu(l.type._context),null;case 22:case 23:return Xd(),null;case 24:return null;default:return null}}var zu=!1,Rr=!1,Wn=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Cs(a,l){var g=a.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(y){Nr(a,l,y)}else g.current=null}function bc(a,l,g){try{g()}catch(y){Nr(a,l,y)}}var vh=!1;function af(a,l){if(ec=Hc,a=fr(),js(a)){if("selectionStart"in a)var g={start:a.selectionStart,end:a.selectionEnd};else e:{g=(g=a.ownerDocument)&&g.defaultView||window;var y=g.getSelection&&g.getSelection();if(y&&y.rangeCount!==0){g=y.anchorNode;var w=y.anchorOffset,M=y.focusNode;y=y.focusOffset;try{g.nodeType,M.nodeType}catch{g=null;break e}var F=0,j=-1,ne=-1,ge=0,Se=0,Ie=a,ke=null;t:for(;;){for(var Xe;Ie!==g||w!==0&&Ie.nodeType!==3||(j=F+w),Ie!==M||y!==0&&Ie.nodeType!==3||(ne=F+y),Ie.nodeType===3&&(F+=Ie.nodeValue.length),(Xe=Ie.firstChild)!==null;)ke=Ie,Ie=Xe;for(;;){if(Ie===a)break t;if(ke===g&&++ge===w&&(j=F),ke===M&&++Se===y&&(ne=F),(Xe=Ie.nextSibling)!==null)break;Ie=ke,ke=Ie.parentNode}Ie=Xe}g=j===-1||ne===-1?null:{start:j,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(ol={focusedElem:a,selectionRange:g},Hc=!1,Qe=l;Qe!==null;)if(l=Qe,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Qe=a;else for(;Qe!==null;){l=Qe;try{var qe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var et=qe.memoizedProps,Xr=qe.memoizedState,de=l.stateNode,le=de.getSnapshotBeforeUpdate(l.elementType===l.type?et:Ti(l.type,et),Xr);de.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var he=l.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(De){Nr(l,l.return,De)}if(a=l.sibling,a!==null){a.return=l.return,Qe=a;break}Qe=l.return}return qe=vh,vh=!1,qe}function Ka(a,l,g){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var w=y=y.next;do{if((w.tag&a)===a){var M=w.destroy;w.destroy=void 0,M!==void 0&&bc(l,g,M)}w=w.next}while(w!==y)}}function wc(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&a)===a){var y=g.create;g.destroy=y()}g=g.next}while(g!==l)}}function Bu(a){var l=a.ref;if(l!==null){var g=a.stateNode;switch(a.tag){case 5:a=g;break;default:a=g}typeof l=="function"?l(a):l.current=a}}function mh(a){var l=a.alternate;l!==null&&(a.alternate=null,mh(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[ca],delete l[ko],delete l[uu],delete l[O],delete l[as])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function yh(a){return a.tag===5||a.tag===3||a.tag===4}function xh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||yh(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Rd(a,l,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?g.nodeType===8?g.parentNode.insertBefore(a,l):g.insertBefore(a,l):(g.nodeType===8?(l=g.parentNode,l.insertBefore(a,g)):(l=g,l.appendChild(a)),g=g._reactRootContainer,g!=null||l.onclick!==null||(l.onclick=su));else if(y!==4&&(a=a.child,a!==null))for(Rd(a,l,g),a=a.sibling;a!==null;)Rd(a,l,g),a=a.sibling}function Vu(a,l,g){var y=a.tag;if(y===5||y===6)a=a.stateNode,l?g.insertBefore(a,l):g.appendChild(a);else if(y!==4&&(a=a.child,a!==null))for(Vu(a,l,g),a=a.sibling;a!==null;)Vu(a,l,g),a=a.sibling}var on=null,ji=!1;function ba(a,l,g){for(g=g.child;g!==null;)Od(a,l,g),g=g.sibling}function Od(a,l,g){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(Qo,g)}catch{}switch(g.tag){case 5:Rr||Cs(g,l);case 6:var y=on,w=ji;on=null,ba(a,l,g),on=y,ji=w,on!==null&&(ji?(a=on,g=g.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)):on.removeChild(g.stateNode));break;case 18:on!==null&&(ji?(a=on,g=g.stateNode,a.nodeType===8?id(a.parentNode,g):a.nodeType===1&&id(a,g),sr(a)):id(on,g.stateNode));break;case 4:y=on,w=ji,on=g.stateNode.containerInfo,ji=!0,ba(a,l,g),on=y,ji=w;break;case 0:case 11:case 14:case 15:if(!Rr&&(y=g.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){w=y=y.next;do{var M=w,F=M.destroy;M=M.tag,F!==void 0&&((M&2)!==0||(M&4)!==0)&&bc(g,l,F),w=w.next}while(w!==y)}ba(a,l,g);break;case 1:if(!Rr&&(Cs(g,l),y=g.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=g.memoizedProps,y.state=g.memoizedState,y.componentWillUnmount()}catch(j){Nr(g,l,j)}ba(a,l,g);break;case 21:ba(a,l,g);break;case 22:g.mode&1?(Rr=(y=Rr)||g.memoizedState!==null,ba(a,l,g),Rr=y):ba(a,l,g);break;default:ba(a,l,g)}}function bs(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var g=a.stateNode;g===null&&(g=a.stateNode=new Wn),l.forEach(function(y){var w=hf.bind(null,a,y);g.has(y)||(g.add(y),y.then(w,w))})}}function gi(a,l){var g=l.deletions;if(g!==null)for(var y=0;y<g.length;y++){var w=g[y];try{var M=a,F=l,j=F;e:for(;j!==null;){switch(j.tag){case 5:on=j.stateNode,ji=!1;break e;case 3:on=j.stateNode.containerInfo,ji=!0;break e;case 4:on=j.stateNode.containerInfo,ji=!0;break e}j=j.return}if(on===null)throw Error(t(160));Od(M,F,w),on=null,ji=!1;var ne=w.alternate;ne!==null&&(ne.return=null),w.return=null}catch(ge){Nr(w,l,ge)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Nd(l,a),l=l.sibling}function Nd(a,l){var g=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(gi(l,a),Gi(a),y&4){try{Ka(3,a,a.return),wc(3,a)}catch(et){Nr(a,a.return,et)}try{Ka(5,a,a.return)}catch(et){Nr(a,a.return,et)}}break;case 1:gi(l,a),Gi(a),y&512&&g!==null&&Cs(g,g.return);break;case 5:if(gi(l,a),Gi(a),y&512&&g!==null&&Cs(g,g.return),a.flags&32){var w=a.stateNode;try{or(w,"")}catch(et){Nr(a,a.return,et)}}if(y&4&&(w=a.stateNode,w!=null)){var M=a.memoizedProps,F=g!==null?g.memoizedProps:M,j=a.type,ne=a.updateQueue;if(a.updateQueue=null,ne!==null)try{j==="input"&&M.type==="radio"&&M.name!=null&&lt(w,M),Ct(j,F);var ge=Ct(j,M);for(F=0;F<ne.length;F+=2){var Se=ne[F],Ie=ne[F+1];Se==="style"?bt(w,Ie):Se==="dangerouslySetInnerHTML"?zr(w,Ie):Se==="children"?or(w,Ie):I(w,Se,Ie,ge)}switch(j){case"input":Be(w,M);break;case"textarea":Ur(w,M);break;case"select":var ke=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!M.multiple;var Xe=M.value;Xe!=null?st(w,!!M.multiple,Xe,!1):ke!==!!M.multiple&&(M.defaultValue!=null?st(w,!!M.multiple,M.defaultValue,!0):st(w,!!M.multiple,M.multiple?[]:"",!1))}w[ko]=M}catch(et){Nr(a,a.return,et)}}break;case 6:if(gi(l,a),Gi(a),y&4){if(a.stateNode===null)throw Error(t(162));w=a.stateNode,M=a.memoizedProps;try{w.nodeValue=M}catch(et){Nr(a,a.return,et)}}break;case 3:if(gi(l,a),Gi(a),y&4&&g!==null&&g.memoizedState.isDehydrated)try{sr(l.containerInfo)}catch(et){Nr(a,a.return,et)}break;case 4:gi(l,a),Gi(a);break;case 13:gi(l,a),Gi(a),w=a.child,w.flags&8192&&(M=w.memoizedState!==null,w.stateNode.isHidden=M,!M||w.alternate!==null&&w.alternate.memoizedState!==null||(Vd=mr())),y&4&&bs(a);break;case 22:if(Se=g!==null&&g.memoizedState!==null,a.mode&1?(Rr=(ge=Rr)||Se,gi(l,a),Rr=ge):gi(l,a),Gi(a),y&8192){if(ge=a.memoizedState!==null,(a.stateNode.isHidden=ge)&&!Se&&(a.mode&1)!==0)for(Qe=a,Se=a.child;Se!==null;){for(Ie=Qe=Se;Qe!==null;){switch(ke=Qe,Xe=ke.child,ke.tag){case 0:case 11:case 14:case 15:Ka(4,ke,ke.return);break;case 1:Cs(ke,ke.return);var qe=ke.stateNode;if(typeof qe.componentWillUnmount=="function"){y=ke,g=ke.return;try{l=y,qe.props=l.memoizedProps,qe.state=l.memoizedState,qe.componentWillUnmount()}catch(et){Nr(y,g,et)}}break;case 5:Cs(ke,ke.return);break;case 22:if(ke.memoizedState!==null){Ao(Ie);continue}}Xe!==null?(Xe.return=ke,Qe=Xe):Ao(Ie)}Se=Se.sibling}e:for(Se=null,Ie=a;;){if(Ie.tag===5){if(Se===null){Se=Ie;try{w=Ie.stateNode,ge?(M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(j=Ie.stateNode,ne=Ie.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,j.style.display=Ve("display",F))}catch(et){Nr(a,a.return,et)}}}else if(Ie.tag===6){if(Se===null)try{Ie.stateNode.nodeValue=ge?"":Ie.memoizedProps}catch(et){Nr(a,a.return,et)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===a)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===a)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===a)break e;Se===Ie&&(Se=null),Ie=Ie.return}Se===Ie&&(Se=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:gi(l,a),Gi(a),y&4&&bs(a);break;case 21:break;default:gi(l,a),Gi(a)}}function Gi(a){var l=a.flags;if(l&2){try{e:{for(var g=a.return;g!==null;){if(yh(g)){var y=g;break e}g=g.return}throw Error(t(160))}switch(y.tag){case 5:var w=y.stateNode;y.flags&32&&(or(w,""),y.flags&=-33);var M=xh(a);Vu(a,M,w);break;case 3:case 4:var F=y.stateNode.containerInfo,j=xh(a);Rd(a,j,F);break;default:throw Error(t(161))}}catch(ne){Nr(a,a.return,ne)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function $u(a,l,g){Qe=a,zd(a)}function zd(a,l,g){for(var y=(a.mode&1)!==0;Qe!==null;){var w=Qe,M=w.child;if(w.tag===22&&y){var F=w.memoizedState!==null||zu;if(!F){var j=w.alternate,ne=j!==null&&j.memoizedState!==null||Rr;j=zu;var ge=Rr;if(zu=F,(Rr=ne)&&!ge)for(Qe=w;Qe!==null;)F=Qe,ne=F.child,F.tag===22&&F.memoizedState!==null?Ch(w):ne!==null?(ne.return=F,Qe=ne):Ch(w);for(;M!==null;)Qe=M,zd(M),M=M.sibling;Qe=w,zu=j,Rr=ge}Ki(a)}else(w.subtreeFlags&8772)!==0&&M!==null?(M.return=w,Qe=M):Ki(a)}}function Ki(a){for(;Qe!==null;){var l=Qe;if((l.flags&8772)!==0){var g=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Rr||wc(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Rr)if(g===null)y.componentDidMount();else{var w=l.elementType===l.type?g.memoizedProps:Ti(l.type,g.memoizedProps);y.componentDidUpdate(w,g.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var M=l.updateQueue;M!==null&&ud(l,M,y);break;case 3:var F=l.updateQueue;if(F!==null){if(g=null,l.child!==null)switch(l.child.tag){case 5:g=l.child.stateNode;break;case 1:g=l.child.stateNode}ud(l,F,g)}break;case 5:var j=l.stateNode;if(g===null&&l.flags&4){g=j;var ne=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&g.focus();break;case"img":ne.src&&(g.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ge=l.alternate;if(ge!==null){var Se=ge.memoizedState;if(Se!==null){var Ie=Se.dehydrated;Ie!==null&&sr(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Rr||l.flags&512&&Bu(l)}catch(ke){Nr(l,l.return,ke)}}if(l===a){Qe=null;break}if(g=l.sibling,g!==null){g.return=l.return,Qe=g;break}Qe=l.return}}function Ao(a){for(;Qe!==null;){var l=Qe;if(l===a){Qe=null;break}var g=l.sibling;if(g!==null){g.return=l.return,Qe=g;break}Qe=l.return}}function Ch(a){for(;Qe!==null;){var l=Qe;try{switch(l.tag){case 0:case 11:case 15:var g=l.return;try{wc(4,l)}catch(ne){Nr(l,g,ne)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var w=l.return;try{y.componentDidMount()}catch(ne){Nr(l,w,ne)}}var M=l.return;try{Bu(l)}catch(ne){Nr(l,M,ne)}break;case 5:var F=l.return;try{Bu(l)}catch(ne){Nr(l,F,ne)}}}catch(ne){Nr(l,l.return,ne)}if(l===a){Qe=null;break}var j=l.sibling;if(j!==null){j.return=l.return,Qe=j;break}Qe=l.return}}var bh=Math.ceil,Wu=P.ReactCurrentDispatcher,Bd=P.ReactCurrentOwner,Ii=P.ReactCurrentBatchConfig,qt=0,ln=null,Qr=null,Cn=0,vi=0,ws=Zn(0),rn=0,_c=null,Do=0,kc=0,Uu=0,Sc=null,ri=null,Vd=0,yl=1/0,Qa=null,Hu=!1,$d=null,Fo=null,Yu=!1,Ro=null,Un=0,Mc=0,Wd=null,Xu=-1,Ec=0;function Hn(){return(qt&6)!==0?mr():Xu!==-1?Xu:Xu=mr()}function Oo(a){return(a.mode&1)===0?1:(qt&2)!==0&&Cn!==0?Cn&-Cn:eh.transition!==null?(Ec===0&&(Ec=$l()),Ec):(a=Qt,a!==0||(a=window.event,a=a===void 0?16:M1(a.type)),a)}function Qi(a,l,g,y){if(50<Mc)throw Mc=0,Wd=null,Error(t(185));fo(a,g,y),((qt&2)===0||a!==ln)&&(a===ln&&((qt&2)===0&&(kc|=g),rn===4&&No(a,Cn)),ni(a,y),g===1&&qt===0&&(l.mode&1)===0&&(yl=mr()+500,pu&&Mo()))}function ni(a,l){var g=a.callbackNode;$c(a,l);var y=ia(a,a===ln?Cn:0);if(y===0)g!==null&&Fs(g),a.callbackNode=null,a.callbackPriority=0;else if(l=y&-y,a.callbackPriority!==l){if(g!=null&&Fs(g),l===1)a.tag===0?ll(wh.bind(null,a)):Z1(wh.bind(null,a)),cu(function(){(qt&6)===0&&Mo()}),g=null;else{switch(aa(y)){case 1:g=Vl;break;case 4:g=Bc;break;case 16:g=ho;break;case 536870912:g=ze;break;default:g=ho}g=Ih(g,ju.bind(null,a))}a.callbackPriority=l,a.callbackNode=g}}function ju(a,l){if(Xu=-1,Ec=0,(qt&6)!==0)throw Error(t(327));var g=a.callbackNode;if(_s()&&a.callbackNode!==g)return null;var y=ia(a,a===ln?Cn:0);if(y===0)return null;if((y&30)!==0||(y&a.expiredLanes)!==0||l)l=Gu(a,y);else{l=y;var w=qt;qt|=2;var M=kh();(ln!==a||Cn!==l)&&(Qa=null,yl=mr()+500,Cl(a,l));do try{sf();break}catch(j){_h(a,j)}while(!0);Wa(),Wu.current=M,qt=w,Qr!==null?l=0:(ln=null,Cn=0,l=rn)}if(l!==0){if(l===2&&(w=qo(a),w!==0&&(y=w,l=Ud(a,w))),l===1)throw g=_c,Cl(a,0),No(a,y),ni(a,mr()),g;if(l===6)No(a,y);else{if(w=a.current.alternate,(y&30)===0&&!of(w)&&(l=Gu(a,y),l===2&&(M=qo(a),M!==0&&(y=M,l=Ud(a,M))),l===1))throw g=_c,Cl(a,0),No(a,y),ni(a,mr()),g;switch(a.finishedWork=w,a.finishedLanes=y,l){case 0:case 1:throw Error(t(345));case 2:bl(a,ri,Qa);break;case 3:if(No(a,y),(y&130023424)===y&&(l=Vd+500-mr(),10<l)){if(ia(a,0)!==0)break;if(w=a.suspendedLanes,(w&y)!==y){Hn(),a.pingedLanes|=a.suspendedLanes&w;break}a.timeoutHandle=wo(bl.bind(null,a,ri,Qa),l);break}bl(a,ri,Qa);break;case 4:if(No(a,y),(y&4194240)===y)break;for(l=a.eventTimes,w=-1;0<y;){var F=31-Kn(y);M=1<<F,F=l[F],F>w&&(w=F),y&=~M}if(y=w,y=mr()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*bh(y/1960))-y,10<y){a.timeoutHandle=wo(bl.bind(null,a,ri,Qa),y);break}bl(a,ri,Qa);break;case 5:bl(a,ri,Qa);break;default:throw Error(t(329))}}}return ni(a,mr()),a.callbackNode===g?ju.bind(null,a):null}function Ud(a,l){var g=Sc;return a.current.memoizedState.isDehydrated&&(Cl(a,l).flags|=256),a=Gu(a,l),a!==2&&(l=ri,ri=g,l!==null&&Hd(l)),a}function Hd(a){ri===null?ri=a:ri.push.apply(ri,a)}function of(a){for(var l=a;;){if(l.flags&16384){var g=l.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var y=0;y<g.length;y++){var w=g[y],M=w.getSnapshot;w=w.value;try{if(!fe(M(),w))return!1}catch{return!1}}}if(g=l.child,l.subtreeFlags&16384&&g!==null)g.return=l,l=g;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function No(a,l){for(l&=~Uu,l&=~kc,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var g=31-Kn(l),y=1<<g;a[g]=-1,l&=~y}}function wh(a){if((qt&6)!==0)throw Error(t(327));_s();var l=ia(a,0);if((l&1)===0)return ni(a,mr()),null;var g=Gu(a,l);if(a.tag!==0&&g===2){var y=qo(a);y!==0&&(l=y,g=Ud(a,y))}if(g===1)throw g=_c,Cl(a,0),No(a,l),ni(a,mr()),g;if(g===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,bl(a,ri,Qa),ni(a,mr()),null}function Yd(a,l){var g=qt;qt|=1;try{return a(l)}finally{qt=g,qt===0&&(yl=mr()+500,pu&&Mo())}}function xl(a){Ro!==null&&Ro.tag===0&&(qt&6)===0&&_s();var l=qt;qt|=1;var g=Ii.transition,y=Qt;try{if(Ii.transition=null,Qt=1,a)return a()}finally{Qt=y,Ii.transition=g,qt=l,(qt&6)===0&&Mo()}}function Xd(){vi=ws.current,Mr(ws)}function Cl(a,l){a.finishedWork=null,a.finishedLanes=0;var g=a.timeoutHandle;if(g!==-1&&(a.timeoutHandle=-1,rc(g)),Qr!==null)for(g=Qr.return;g!==null;){var y=g;switch(ul(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&hu();break;case 3:Io(),Mr(qn),Mr(Ln),_u();break;case 5:wu(y);break;case 4:Io();break;case 13:Mr(Fr);break;case 19:Mr(Fr);break;case 10:yu(y.type._context);break;case 22:case 23:Xd()}g=g.return}if(ln=a,Qr=a=Zi(a.current,null),Cn=vi=l,rn=0,_c=null,Uu=kc=Do=0,ri=Sc=null,hl!==null){for(l=0;l<hl.length;l++)if(g=hl[l],y=g.interleaved,y!==null){g.interleaved=null;var w=y.next,M=g.pending;if(M!==null){var F=M.next;M.next=w,y.next=F}g.pending=y}hl=null}return a}function _h(a,l){do{var g=Qr;try{if(Wa(),cc.current=Iu,hs){for(var y=Or.memoizedState;y!==null;){var w=y.queue;w!==null&&(w.pending=null),y=y.next}hs=!1}if(Lo=0,tn=Yr=Or=null,uc=!1,fl=0,Bd.current=null,g===null||g.return===null){rn=1,_c=l,Qr=null;break}e:{var M=a,F=g.return,j=g,ne=l;if(l=Cn,j.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ge=ne,Se=j,Ie=Se.tag;if((Se.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var ke=Se.alternate;ke?(Se.updateQueue=ke.updateQueue,Se.memoizedState=ke.memoizedState,Se.lanes=ke.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Xe=dh(F);if(Xe!==null){Xe.flags&=-257,Md(Xe,F,j,M,l),Xe.mode&1&&gc(M,ge,l),l=Xe,ne=ge;var qe=l.updateQueue;if(qe===null){var et=new Set;et.add(ne),l.updateQueue=et}else qe.add(ne);break e}else{if((l&1)===0){gc(M,ge,l),jd();break e}ne=Error(t(426))}}else if(Er&&j.mode&1){var Xr=dh(F);if(Xr!==null){(Xr.flags&65536)===0&&(Xr.flags|=256),Md(Xr,F,j,M,l),ga(ml(ne,j));break e}}M=ne=ml(ne,j),rn!==4&&(rn=2),Sc===null?Sc=[M]:Sc.push(M),M=F;do{switch(M.tag){case 3:M.flags|=65536,l&=-l,M.lanes|=l;var de=fc(M,ne,l);nh(M,de);break e;case 1:j=ne;var le=M.type,he=M.stateNode;if((M.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Fo===null||!Fo.has(he)))){M.flags|=65536,l&=-l,M.lanes|=l;var De=Fu(M,j,l);nh(M,De);break e}}M=M.return}while(M!==null)}Mh(g)}catch(rt){l=rt,Qr===g&&g!==null&&(Qr=g=g.return);continue}break}while(!0)}function kh(){var a=Wu.current;return Wu.current=Iu,a===null?Iu:a}function jd(){(rn===0||rn===3||rn===2)&&(rn=4),ln===null||(Do&268435455)===0&&(kc&268435455)===0||No(ln,Cn)}function Gu(a,l){var g=qt;qt|=2;var y=kh();(ln!==a||Cn!==l)&&(Qa=null,Cl(a,l));do try{lf();break}catch(w){_h(a,w)}while(!0);if(Wa(),qt=g,Wu.current=y,Qr!==null)throw Error(t(261));return ln=null,Cn=0,rn}function lf(){for(;Qr!==null;)Sh(Qr)}function sf(){for(;Qr!==null&&!Ko();)Sh(Qr)}function Sh(a){var l=Th(a.alternate,a,vi);a.memoizedProps=a.pendingProps,l===null?Mh(a):Qr=l,Bd.current=null}function Mh(a){var l=a;do{var g=l.alternate;if(a=l.return,(l.flags&32768)===0){if(g=rf(g,l,vi),g!==null){Qr=g;return}}else{if(g=nf(g,l),g!==null){g.flags&=32767,Qr=g;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{rn=6,Qr=null;return}}if(l=l.sibling,l!==null){Qr=l;return}Qr=l=a}while(l!==null);rn===0&&(rn=5)}function bl(a,l,g){var y=Qt,w=Ii.transition;try{Ii.transition=null,Qt=1,cf(a,l,g,y)}finally{Ii.transition=w,Qt=y}return null}function cf(a,l,g,y){do _s();while(Ro!==null);if((qt&6)!==0)throw Error(t(327));g=a.finishedWork;var w=a.finishedLanes;if(g===null)return null;if(a.finishedWork=null,a.finishedLanes=0,g===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var M=g.lanes|g.childLanes;if(Vs(a,M),a===ln&&(Qr=ln=null,Cn=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Yu||(Yu=!0,Ih(ho,function(){return _s(),null})),M=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||M){M=Ii.transition,Ii.transition=null;var F=Qt;Qt=1;var j=qt;qt|=4,Bd.current=null,af(a,g),Nd(g,a),qp(ol),Hc=!!ec,ol=ec=null,a.current=g,$u(g),Nc(),qt=j,Qt=F,Ii.transition=M}else a.current=g;if(Yu&&(Yu=!1,Ro=a,Un=w),M=a.pendingLanes,M===0&&(Fo=null),Vc(g.stateNode),ni(a,mr()),l!==null)for(y=a.onRecoverableError,g=0;g<l.length;g++)w=l[g],y(w.value,{componentStack:w.stack,digest:w.digest});if(Hu)throw Hu=!1,a=$d,$d=null,a;return(Un&1)!==0&&a.tag!==0&&_s(),M=a.pendingLanes,(M&1)!==0?a===Wd?Mc++:(Mc=0,Wd=a):Mc=0,Mo(),null}function _s(){if(Ro!==null){var a=aa(Un),l=Ii.transition,g=Qt;try{if(Ii.transition=null,Qt=16>a?16:a,Ro===null)var y=!1;else{if(a=Ro,Ro=null,Un=0,(qt&6)!==0)throw Error(t(331));var w=qt;for(qt|=4,Qe=a.current;Qe!==null;){var M=Qe,F=M.child;if((Qe.flags&16)!==0){var j=M.deletions;if(j!==null){for(var ne=0;ne<j.length;ne++){var ge=j[ne];for(Qe=ge;Qe!==null;){var Se=Qe;switch(Se.tag){case 0:case 11:case 15:Ka(8,Se,M)}var Ie=Se.child;if(Ie!==null)Ie.return=Se,Qe=Ie;else for(;Qe!==null;){Se=Qe;var ke=Se.sibling,Xe=Se.return;if(mh(Se),Se===ge){Qe=null;break}if(ke!==null){ke.return=Xe,Qe=ke;break}Qe=Xe}}}var qe=M.alternate;if(qe!==null){var et=qe.child;if(et!==null){qe.child=null;do{var Xr=et.sibling;et.sibling=null,et=Xr}while(et!==null)}}Qe=M}}if((M.subtreeFlags&2064)!==0&&F!==null)F.return=M,Qe=F;else e:for(;Qe!==null;){if(M=Qe,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Ka(9,M,M.return)}var de=M.sibling;if(de!==null){de.return=M.return,Qe=de;break e}Qe=M.return}}var le=a.current;for(Qe=le;Qe!==null;){F=Qe;var he=F.child;if((F.subtreeFlags&2064)!==0&&he!==null)he.return=F,Qe=he;else e:for(F=le;Qe!==null;){if(j=Qe,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:wc(9,j)}}catch(rt){Nr(j,j.return,rt)}if(j===F){Qe=null;break e}var De=j.sibling;if(De!==null){De.return=j.return,Qe=De;break e}Qe=j.return}}if(qt=w,Mo(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(Qo,a)}catch{}y=!0}return y}finally{Qt=g,Ii.transition=l}}return!1}function Ku(a,l,g){l=ml(g,l),l=fc(a,l,1),a=Mi(a,l,1),l=Hn(),a!==null&&(fo(a,1,l),ni(a,l))}function Nr(a,l,g){if(a.tag===3)Ku(a,a,g);else for(;l!==null;){if(l.tag===3){Ku(l,a,g);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Fo===null||!Fo.has(y))){a=ml(g,a),a=Fu(l,a,1),l=Mi(l,a,1),a=Hn(),l!==null&&(fo(l,1,a),ni(l,a));break}}l=l.return}}function uf(a,l,g){var y=a.pingCache;y!==null&&y.delete(l),l=Hn(),a.pingedLanes|=a.suspendedLanes&g,ln===a&&(Cn&g)===g&&(rn===4||rn===3&&(Cn&130023424)===Cn&&500>mr()-Vd?Cl(a,0):Uu|=g),ni(a,l)}function Eh(a,l){l===0&&((a.mode&1)===0?l=1:(l=Zo,Zo<<=1,(Zo&130023424)===0&&(Zo=4194304)));var g=Hn();a=Ua(a,l),a!==null&&(fo(a,l,g),ni(a,g))}function df(a){var l=a.memoizedState,g=0;l!==null&&(g=l.retryLane),Eh(a,g)}function hf(a,l){var g=0;switch(a.tag){case 13:var y=a.stateNode,w=a.memoizedState;w!==null&&(g=w.retryLane);break;case 19:y=a.stateNode;break;default:throw Error(t(314))}y!==null&&y.delete(l),Eh(a,g)}var Th;Th=function(a,l,g){if(a!==null)if(a.memoizedProps!==l.pendingProps||qn.current)$n=!0;else{if((a.lanes&g)===0&&(l.flags&128)===0)return $n=!1,fh(a,l,g);$n=(a.flags&131072)!==0}else $n=!1,Er&&(l.flags&1048576)!==0&&q1(l,gu,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;Nu(a,l),a=l.pendingProps;var w=ls(l,Ln.current);To(l,g),w=gl(null,l,y,a,w,g);var M=ku();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Jn(y)?(M=!0,bi(l)):M=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Cu(l),w.updater=Au,l.stateNode=w,w._reactInternals=l,Sd(l,y,a,g),l=Ad(null,l,y,!0,M,g)):(l.tag=0,Er&&M&&nc(l),mn(null,l,w,g),l=l.child),l;case 16:y=l.elementType;e:{switch(Nu(a,l),a=l.pendingProps,w=y._init,y=w(y._payload),l.type=y,w=l.tag=ff(y),a=Ti(y,a),w){case 0:l=Ld(null,l,y,a,g);break e;case 1:l=Pd(null,l,y,a,g);break e;case 11:l=hh(null,l,y,a,g);break e;case 14:l=Ed(null,l,y,Ti(y.type,a),g);break e}throw Error(t(306,y,""))}return l;case 0:return y=l.type,w=l.pendingProps,w=l.elementType===y?w:Ti(y,w),Ld(a,l,y,w,g);case 1:return y=l.type,w=l.pendingProps,w=l.elementType===y?w:Ti(y,w),Pd(a,l,y,w,g);case 3:e:{if(ph(l),a===null)throw Error(t(387));y=l.pendingProps,M=l.memoizedState,w=M.element,rh(a,l),us(l,y,null,g);var F=l.memoizedState;if(y=F.element,M.isDehydrated)if(M={element:y,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},l.updateQueue.baseState=M,l.memoizedState=M,l.flags&256){w=ml(Error(t(423)),l),l=Ca(a,l,y,g,w);break e}else if(y!==w){w=ml(Error(t(424)),l),l=Ca(a,l,y,g,w);break e}else for(pi=_o(l.stateNode.containerInfo.firstChild),An=l,Er=!0,Hi=null,g=mu(l,null,y,g),l.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(fa(),y===w){l=Xi(a,l,g);break e}mn(a,l,y,g)}l=l.child}return l;case 5:return hd(l),a===null&&ei(l),y=l.type,w=l.pendingProps,M=a!==null?a.memoizedProps:null,F=w.children,tc(y,w)?F=null:M!==null&&tc(y,M)&&(l.flags|=32),Id(a,l),mn(a,l,F,g),l.child;case 6:return a===null&&ei(l),null;case 13:return Ou(a,l,g);case 4:return dd(l,l.stateNode.containerInfo),y=l.pendingProps,a===null?l.child=Br(l,null,y,g):mn(a,l,y,g),l.child;case 11:return y=l.type,w=l.pendingProps,w=l.elementType===y?w:Ti(y,w),hh(a,l,y,w,g);case 7:return mn(a,l,l.pendingProps,g),l.child;case 8:return mn(a,l,l.pendingProps.children,g),l.child;case 12:return mn(a,l,l.pendingProps.children,g),l.child;case 10:e:{if(y=l.type._context,w=l.pendingProps,M=l.memoizedProps,F=w.value,br(oc,y._currentValue),y._currentValue=F,M!==null)if(fe(M.value,F)){if(M.children===w.children&&!qn.current){l=Xi(a,l,g);break e}}else for(M=l.child,M!==null&&(M.return=l);M!==null;){var j=M.dependencies;if(j!==null){F=M.child;for(var ne=j.firstContext;ne!==null;){if(ne.context===y){if(M.tag===1){ne=Ha(-1,g&-g),ne.tag=2;var ge=M.updateQueue;if(ge!==null){ge=ge.shared;var Se=ge.pending;Se===null?ne.next=ne:(ne.next=Se.next,Se.next=ne),ge.pending=ne}}M.lanes|=g,ne=M.alternate,ne!==null&&(ne.lanes|=g),vn(M.return,g,l),j.lanes|=g;break}ne=ne.next}}else if(M.tag===10)F=M.type===l.type?null:M.child;else if(M.tag===18){if(F=M.return,F===null)throw Error(t(341));F.lanes|=g,j=F.alternate,j!==null&&(j.lanes|=g),vn(F,g,l),F=M.sibling}else F=M.child;if(F!==null)F.return=M;else for(F=M;F!==null;){if(F===l){F=null;break}if(M=F.sibling,M!==null){M.return=F.return,F=M;break}F=F.return}M=F}mn(a,l,w.children,g),l=l.child}return l;case 9:return w=l.type,y=l.pendingProps.children,To(l,g),w=ki(w),y=y(w),l.flags|=1,mn(a,l,y,g),l.child;case 14:return y=l.type,w=Ti(y,l.pendingProps),w=Ti(y.type,w),Ed(a,l,y,w,g);case 15:return xa(a,l,l.type,l.pendingProps,g);case 17:return y=l.type,w=l.pendingProps,w=l.elementType===y?w:Ti(y,w),Nu(a,l),l.tag=1,Jn(y)?(a=!0,bi(l)):a=!1,To(l,g),vl(l,y,w),Sd(l,y,w,g),Ad(null,l,y,!0,a,g);case 19:return Po(a,l,g);case 22:return Td(a,l,g)}throw Error(t(156,l.tag))};function Ih(a,l){return Ds(a,l)}function pf(a,l,g,y){this.tag=a,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(a,l,g,y){return new pf(a,l,g,y)}function Qu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ff(a){if(typeof a=="function")return Qu(a)?1:0;if(a!=null){if(a=a.$$typeof,a===ue)return 11;if(a===q)return 14}return 2}function Zi(a,l){var g=a.alternate;return g===null?(g=Li(a.tag,l,a.key,a.mode),g.elementType=a.elementType,g.type=a.type,g.stateNode=a.stateNode,g.alternate=a,a.alternate=g):(g.pendingProps=l,g.type=a.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=a.flags&14680064,g.childLanes=a.childLanes,g.lanes=a.lanes,g.child=a.child,g.memoizedProps=a.memoizedProps,g.memoizedState=a.memoizedState,g.updateQueue=a.updateQueue,l=a.dependencies,g.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},g.sibling=a.sibling,g.index=a.index,g.ref=a.ref,g}function Zu(a,l,g,y,w,M){var F=2;if(y=a,typeof a=="function")Qu(a)&&(F=1);else if(typeof a=="string")F=5;else e:switch(a){case R:return wl(g.children,w,M,l);case V:F=8,w|=8;break;case $:return a=Li(12,g,l,w|2),a.elementType=$,a.lanes=M,a;case Y:return a=Li(13,g,l,w),a.elementType=Y,a.lanes=M,a;case Z:return a=Li(19,g,l,w),a.elementType=Z,a.lanes=M,a;case K:return qu(g,w,M,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case W:F=10;break e;case te:F=9;break e;case ue:F=11;break e;case q:F=14;break e;case G:F=16,y=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=Li(F,g,l,w),l.elementType=a,l.type=y,l.lanes=M,l}function wl(a,l,g,y){return a=Li(7,a,y,l),a.lanes=g,a}function qu(a,l,g,y){return a=Li(22,a,y,l),a.elementType=K,a.lanes=g,a.stateNode={isHidden:!1},a}function Gd(a,l,g){return a=Li(6,a,null,l),a.lanes=g,a}function Kd(a,l,g){return l=Li(4,a.children!==null?a.children:[],a.key,l),l.lanes=g,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function gf(a,l,g,y,w){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=po(0),this.expirationTimes=po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.identifierPrefix=y,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Qd(a,l,g,y,w,M,F,j,ne){return a=new gf(a,l,g,j,ne),l===1?(l=1,M===!0&&(l|=8)):l=0,M=Li(3,null,null,l),a.current=M,M.stateNode=a,M.memoizedState={element:y,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cu(M),a}function vf(a,l,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:y==null?null:""+y,children:a,containerInfo:l,implementation:g}}function Lh(a){if(!a)return So;a=a._reactInternals;e:{if(zi(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Jn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var g=a.type;if(Jn(g))return K1(a,g,l)}return l}function Ph(a,l,g,y,w,M,F,j,ne){return a=Qd(g,y,!0,a,w,M,F,j,ne),a.context=Lh(null),g=a.current,y=Hn(),w=Oo(g),M=Ha(y,w),M.callback=l??null,Mi(g,M,w),a.current.lanes=w,fo(a,w,y),ni(a,y),a}function Ju(a,l,g,y){var w=l.current,M=Hn(),F=Oo(w);return g=Lh(g),l.context===null?l.context=g:l.pendingContext=g,l=Ha(M,F),l.payload={element:a},y=y===void 0?null:y,y!==null&&(l.callback=y),a=Mi(w,l,F),a!==null&&(Qi(a,w,F,M),bu(a,w,F)),F}function e0(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Ah(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var g=a.retryLane;a.retryLane=g!==0&&g<l?g:l}}function Zd(a,l){Ah(a,l),(a=a.alternate)&&Ah(a,l)}function mf(){return null}var Dh=typeof reportError=="function"?reportError:function(a){console.error(a)};function t0(a){this._internalRoot=a}Tc.prototype.render=t0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));Ju(a,l,null,null)},Tc.prototype.unmount=t0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;xl(function(){Ju(null,a,null,null)}),l[hi]=null}};function Tc(a){this._internalRoot=a}Tc.prototype.unstable_scheduleHydration=function(a){if(a){var l=Ul();a={blockedOn:null,target:a,priority:l};for(var g=0;g<Wi.length&&l!==0&&l<Wi[g].priority;g++);Wi.splice(g,0,a),g===0&&Us(a)}};function qd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r0(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Fh(){}function yf(a,l,g,y,w){if(w){if(typeof y=="function"){var M=y;y=function(){var ge=e0(F);M.call(ge)}}var F=Ph(l,y,a,0,null,!1,!1,"",Fh);return a._reactRootContainer=F,a[hi]=F.current,bo(a.nodeType===8?a.parentNode:a),xl(),F}for(;w=a.lastChild;)a.removeChild(w);if(typeof y=="function"){var j=y;y=function(){var ge=e0(ne);j.call(ge)}}var ne=Qd(a,0,!1,null,null,!1,!1,"",Fh);return a._reactRootContainer=ne,a[hi]=ne.current,bo(a.nodeType===8?a.parentNode:a),xl(function(){Ju(l,ne,g,y)}),ne}function _l(a,l,g,y,w){var M=g._reactRootContainer;if(M){var F=M;if(typeof w=="function"){var j=w;w=function(){var ne=e0(F);j.call(ne)}}Ju(l,F,a,w)}else F=yf(g,l,a,w,y);return e0(F)}Wl=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var g=Fa(l.pendingLanes);g!==0&&(go(l,g|1),ni(l,mr()),(qt&6)===0&&(yl=mr()+500,Mo()))}break;case 13:xl(function(){var y=Ua(a,1);if(y!==null){var w=Hn();Qi(y,a,1,w)}}),Zd(a,1)}},Jo=function(a){if(a.tag===13){var l=Ua(a,134217728);if(l!==null){var g=Hn();Qi(l,a,134217728,g)}Zd(a,134217728)}},$s=function(a){if(a.tag===13){var l=Oo(a),g=Ua(a,l);if(g!==null){var y=Hn();Qi(g,a,l,y)}Zd(a,l)}},Ul=function(){return Qt},Hl=function(a,l){var g=Qt;try{return Qt=a,l()}finally{Qt=g}},ur=function(a,l,g){switch(l){case"input":if(Be(a,g),l=g.name,g.type==="radio"&&l!=null){for(g=a;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<g.length;l++){var y=g[l];if(y!==a&&y.form===a.form){var w=du(y);if(!w)throw Error(t(90));Oe(y),Be(y,w)}}}break;case"textarea":Ur(a,g);break;case"select":l=g.value,l!=null&&st(a,!!g.multiple,l,!1)}},fn=Yd,Dt=xl;var xf={usingClientEntryPoint:!1,Events:[In,It,du,vr,Lr,Yd]},Ic={findFiberByHostInstance:ua,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cf={bundleType:Ic.bundleType,version:Ic.version,rendererPackageName:Ic.rendererPackageName,rendererConfig:Ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=jo(a),a===null?null:a.stateNode},findFiberByHostInstance:Ic.findFiberByHostInstance||mf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n0.isDisabled&&n0.supportsFiber)try{Qo=n0.inject(Cf),ci=n0}catch{}}return Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xf,Fi.createPortal=function(a,l){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qd(l))throw Error(t(200));return vf(a,l,null,g)},Fi.createRoot=function(a,l){if(!qd(a))throw Error(t(299));var g=!1,y="",w=Dh;return l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=Qd(a,1,!1,null,null,g,!1,y,w),a[hi]=l.current,bo(a.nodeType===8?a.parentNode:a),new t0(l)},Fi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=jo(l),a=a===null?null:a.stateNode,a},Fi.flushSync=function(a){return xl(a)},Fi.hydrate=function(a,l,g){if(!r0(l))throw Error(t(200));return _l(null,a,l,!0,g)},Fi.hydrateRoot=function(a,l,g){if(!qd(a))throw Error(t(405));var y=g!=null&&g.hydratedSources||null,w=!1,M="",F=Dh;if(g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onRecoverableError!==void 0&&(F=g.onRecoverableError)),l=Ph(l,null,a,1,g??null,w,!1,M,F),a[hi]=l.current,bo(a),y)for(a=0;a<y.length;a++)g=y[a],w=g._getVersion,w=w(g._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[g,w]:l.mutableSourceEagerHydrationData.push(g,w);return new Tc(l)},Fi.render=function(a,l,g){if(!r0(l))throw Error(t(200));return _l(null,a,l,!1,g)},Fi.unmountComponentAtNode=function(a){if(!r0(a))throw Error(t(40));return a._reactRootContainer?(xl(function(){_l(null,null,a,!1,function(){a._reactRootContainer=null,a[hi]=null})}),!0):!1},Fi.unstable_batchedUpdates=Yd,Fi.unstable_renderSubtreeIntoContainer=function(a,l,g,y){if(!r0(g))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return _l(a,l,g,!1,y)},Fi.version="18.3.1-next-f1338f8080-20240426",Fi}var Hv;function H3(){if(Hv)return Rf.exports;Hv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Rf.exports=U3(),Rf.exports}var Yv;function Y3(){if(Yv)return zh;Yv=1;var e=H3();return zh.createRoot=e.createRoot,zh.hydrateRoot=e.hydrateRoot,zh}var X3=Y3(),j3=Object.defineProperty,G3=(e,r,t)=>r in e?j3(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Re=(e,r,t)=>(G3(e,typeof r!="symbol"?r+"":r,t),t);/**
     * @license
     * KLineChart v10.0.0-alpha8
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */var sg=function(e,r){return sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},sg(e,r)};function Ft(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");sg(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Ke=function(){return Ke=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ke.apply(this,arguments)};function lp(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function sm(e,r,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function u(f){try{h(n.next(f))}catch(v){s(v)}}function d(f){try{h(n.throw(f))}catch(v){s(v)}}function h(f){f.done?o(f.value):i(f.value).then(u,d)}h((n=n.apply(e,[])).next())})}function cm(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(f){return d([h,f])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(t=0)),t;)try{if(n=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=r.call(e,t)}catch(f){h=[6,f],i=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function oo(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function k1(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],s;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return o}function Mp(e,r,t){if(arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function pn(e,r){if(!(!ro(e)&&!ro(r))){for(var t in r)if(Object.prototype.hasOwnProperty.call(r,t)){var n=e[t],i=r[t];ro(i)&&ro(n)?pn(n,i):me(r[t])&&(e[t]=S0(r[t]))}}}function S0(e){if(!ro(e))return e;var r=null;$o(e)?r=[]:r={};for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t];ro(n)?r[t]=S0(n):r[t]=n}return r}function $o(e){return Object.prototype.toString.call(e)==="[object Array]"}function si(e){return typeof e=="function"}function ro(e){return typeof e=="object"&&me(e)}function ut(e){return typeof e=="number"&&Number.isFinite(e)}function me(e){return e!=null}function v1(e){return typeof e=="boolean"}function cr(e){return typeof e=="string"}function M0(e){return e==="transparent"||e==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(e)||/^[hH][Ss][Ll][Aa]\(([\s]*(3603[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(e)}function Ms(e,r){var t=e.replace(/^#/,""),n=parseInt(t,16),i=n>>16&255,o=n>>8&255,s=n&255;return"rgba(".concat(i,", ").concat(o,", ").concat(s,", ").concat(r??1,")")}var ht={RED:"#F92855",GREEN:"#2DC08E",WHITE:"#FFFFFF",GREY:"#76808F",BLUE:"#1677FF"};function K3(){return{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]}}}function Q3(){var e={show:!0,color:ht.GREY,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"};return{type:"candle_solid",bar:{compareRule:"current_open",upColor:ht.GREEN,downColor:ht.RED,noChangeColor:ht.GREY,upBorderColor:ht.GREEN,downBorderColor:ht.RED,noChangeBorderColor:ht.GREY,upWickColor:ht.GREEN,downWickColor:ht.RED,noChangeWickColor:ht.GREY},area:{lineSize:2,lineColor:ht.BLUE,smooth:!1,value:"close",backgroundColor:[{offset:0,color:Ms(ht.BLUE,.01)},{offset:1,color:Ms(ht.BLUE,.2)}],point:{show:!0,color:ht.BLUE,radius:4,rippleColor:Ms(ht.BLUE,.3),rippleRadius:8,animation:!0,animationDuration:1e3}},priceMark:{show:!0,high:Ke({},e),low:Ke({},e),last:{show:!0,compareRule:"current_open",upColor:ht.GREEN,downColor:ht.RED,noChangeColor:ht.GREY,line:{show:!0,style:"dashed",dashedValue:[4,4],size:1},text:{show:!0,style:"fill",size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:"solid",borderSize:0,borderDashedValue:[2,2],color:ht.WHITE,family:"Helvetica Neue",weight:"normal",borderRadius:2},extendTexts:[]}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",rect:{position:"fixed",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,offsetLeft:4,offsetTop:4,offsetRight:4,offsetBottom:4,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},title:{show:!0,size:14,family:"Helvetica Neue",weight:"normal",color:ht.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,template:"{ticker}  {period}"},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:ht.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a",template:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}]},features:[]},renko:{brick:{size:10}}}}function Z3(){var e=Ms(ht.GREEN,.7),r=Ms(ht.RED,.7);return{ohlc:{compareRule:"current_open",upColor:e,downColor:r,noChangeColor:ht.GREY},bars:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:e,downColor:r,noChangeColor:ht.GREY}],lines:["#FF9600","#935EBD",ht.BLUE,"#E11D74","#01C5C4"].map(function(t){return{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:t}}),circles:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:e,downColor:r,noChangeColor:ht.GREY}],lastValueMark:{show:!1,text:{show:!1,style:"fill",color:ht.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",title:{show:!0,showName:!0,showParams:!0,size:12,family:"Helvetica Neue",weight:"normal",color:ht.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:ht.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a"},features:[]}}}function Xv(){return{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:ht.GREY,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}}}function q3(){return{show:!0,horizontal:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:ht.GREY},text:{show:!0,style:"fill",color:ht.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:ht.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ht.GREY},features:[]},vertical:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:ht.GREY},text:{show:!0,style:"fill",color:ht.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:ht.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ht.GREY}}}}function J3(){var e=Ms(ht.BLUE,.35),r=Ms(ht.BLUE,.25);function t(){return{style:"fill",color:ht.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:ht.BLUE,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:ht.BLUE}}return{point:{color:ht.BLUE,borderColor:e,borderSize:1,radius:5,activeColor:ht.BLUE,activeBorderColor:e,activeBorderSize:3,activeRadius:5},line:{style:"solid",smooth:!1,color:ht.BLUE,size:1,dashedValue:[2,2]},rect:{style:"fill",color:r,borderColor:ht.BLUE,borderSize:1,borderRadius:0,borderStyle:"solid",borderDashedValue:[2,2]},polygon:{style:"fill",color:ht.BLUE,borderColor:ht.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},circle:{style:"fill",color:r,borderColor:ht.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},arc:{style:"solid",color:ht.BLUE,size:1,dashedValue:[2,2]},text:t()}}function e6(){return{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:Ms(ht.BLUE,.08)}}function um(){return{grid:K3(),candle:Q3(),indicator:Z3(),xAxis:Xv(),yAxis:Xv(),separator:e6(),crosshair:q3(),overlay:J3()}}var t6=/\\(\\)?/g,r6=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function _n(e,r,t){if(me(e)){var n=[];r.replace(r6,function(u){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var f=u;return me(d[1])?f=d[2].replace(t6,"$1"):me(d[0])&&(f=d[0].trim()),n.push(f),""});for(var i=e,o=0,s=n.length;me(i)&&o<s;)i=i==null?void 0:i[n[o++]];return me(i)?i:t??"--"}return t??"--"}function n6(e,r){var t={};return e.formatToParts(new Date(r)).forEach(function(n){var i=n.type,o=n.value;switch(i){case"year":{t.YYYY=o;break}case"month":{t.MM=o;break}case"day":{t.DD=o;break}case"hour":{t.HH=o==="24"?"00":o;break}case"minute":{t.mm=o;break}case"second":{t.ss=o;break}}}),t}function dm(e,r,t){var n=n6(e,r);return t.replace(/YYYY|MM|DD|HH|mm|ss/g,function(i){return n[i]})}function jn(e,r){var t=+e;return ut(t)?t.toFixed(r??2):"".concat(e)}function hm(e){var r=+e;if(ut(r)){if(r>1e9)return"".concat(+(r/1e9).toFixed(3),"B");if(r>1e6)return"".concat(+(r/1e6).toFixed(3),"M");if(r>1e3)return"".concat(+(r/1e3).toFixed(3),"K")}return"".concat(e)}function pm(e,r){var t="".concat(e);if(r.length===0)return t;if(t.includes(".")){var n=t.split(".");return"".concat(n[0].replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(r)}),".").concat(n[1])}return t.replace(/(\d)(?=(\d{3})+$)/g,function(i){return"".concat(i).concat(r)})}function fm(e,r){var t="".concat(e),n=new RegExp("\\.0{"+r+",}[1-9][0-9]*$");if(n.test(t)){var i=t.split("."),o=i.length-1,s=i[o],u=/0*/.exec(s);if(me(u)){var d=u[0].length;return i[o]=s.replace(/0*/,"0{".concat(d,"}")),i.join(".")}}return t}function jv(e,r){return e.replace(/\{(\w+)\}/g,function(t,n){var i=r[n];return me(i)?i:"{".concat(n,"}")})}var t1=null;function Es(e){var r,t;return(t=(r=e.ownerDocument.defaultView)===null||r===void 0?void 0:r.devicePixelRatio)!==null&&t!==void 0?t:1}function Rc(e,r,t){return"".concat(r??"normal"," ").concat(e??12,"px ").concat(t??"Helvetica Neue")}function no(e,r,t,n){if(!me(t1)){var i=document.createElement("canvas"),o=Es(i);t1=i.getContext("2d"),t1.scale(o,o)}return t1.font=Rc(r,t,n),Math.round(t1.measureText(e).width)}function sp(e){var r={width:0,height:0,left:0,right:0,top:0,bottom:0};return me(e)&&pn(r,e),r}var b0=-1;function cp(e){return si(window.requestAnimationFrame)?window.requestAnimationFrame(e):window.setTimeout(e,20)}function Gv(e){si(window.cancelAnimationFrame)?window.cancelAnimationFrame(e):window.clearTimeout(e)}function Kv(e){if(si(window.requestIdleCallback))return window.requestIdleCallback(e);var r=performance.now();return window.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-r))}})},1)}function i6(e){si(window.cancelIdleCallback)?window.cancelIdleCallback(e):window.clearTimeout(e)}var cg=function(){function e(r){this._options={duration:500,iterationCount:1},this._currentIterationCount=0,this._running=!1,this._time=0,pn(this._options,r)}return e.prototype._loop=function(){var r=this;this._running=!0;var t=function(){var n;if(r._running){var i=new Date().getTime()-r._time;i<r._options.duration?((n=r._doFrameCallback)===null||n===void 0||n.call(r,i),cp(t)):(r.stop(),r._currentIterationCount++,r._currentIterationCount<r._options.iterationCount&&r.start())}};cp(t)},e.prototype.doFrame=function(r){return this._doFrameCallback=r,this},e.prototype.setDuration=function(r){return this._options.duration=r,this},e.prototype.setIterationCount=function(r){return this._options.iterationCount=r,this},e.prototype.start=function(){this._running||(this._time=new Date().getTime(),this._loop())},e.prototype.stop=function(){var r;this._running&&((r=this._doFrameCallback)===null||r===void 0||r.call(this,this._options.duration)),this._running=!1},e}(),zf=1,Qv=new Date().getTime();function qh(e){var r=new Date().getTime();return r===Qv?++zf:zf=1,Qv=r,"".concat(e??"").concat(r,"_").concat(zf)}function Nl(e,r){var t,n=document.createElement(e),i=r??{};for(var o in i)n.style[o]=(t=i[o])!==null&&t!==void 0?t:"";return n}function ug(e,r,t){var n=0,i=0;for(i=e.length-1;n!==i;){var o=Math.floor((i+n)/2),s=i-n,u=e[o][r];if(t===e[n][r])return n;if(t===e[i][r])return i;if(t===u)return o;if(t>u?n=o:i=o,s<=2)break}return n}function a6(e){var r=Math.floor(Tl(e)),t=Dc(r),n=e/t,i=0;return n<1.5?i=1:n<2.5?i=2:n<3.5?i=3:n<4.5?i=4:n<5.5?i=5:n<6.5?i=6:i=8,e=i*t,+e.toFixed(Math.abs(r))}function Zv(e,r){r=Math.max(0,r??0);var t=Math.pow(10,r);return Math.round(e*t)/t}function o6(e){var r=e.toString(),t=r.indexOf("e");if(t>0){var n=+r.slice(t+1);return n<0?-n:0}var i=r.indexOf(".");return i<0?0:r.length-1-i}function gm(e,r,t){for(var n,i,o=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],s=e.length,u=0;u<s;){var d=e[u];o[0]=Math.max((n=d[r])!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER,o[0]),o[1]=Math.min((i=d[t])!==null&&i!==void 0?i:Number.MAX_SAFE_INTEGER,o[1]),++u}return o}function Tl(e){return e===0?0:Math.log10(e)}function Dc(e){return Math.pow(10,e)}function qv(){return{from:0,to:0,realFrom:0,realTo:0}}function Jv(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.join("_")}var l6=function(){function e(r){this._requestIdleCallbackId=b0,this._tasks=r??[],this._operateTasks()}return e.prototype._operateTasks=function(r){var t=this;this._requestIdleCallbackId!==b0&&(i6(this._requestIdleCallbackId),this._requestIdleCallbackId=b0),r==null||r(),this._requestIdleCallbackId=Kv(function(n){t._runTasks(n)})},e.prototype._runTasks=function(r){for(var t=this;r.timeRemaining()>0&&this._tasks.length>0;){var n=this._tasks.shift();n==null||n.handler()}this._tasks.length>0&&(this._requestIdleCallbackId=Kv(function(i){t._runTasks(i)}))},e.prototype.addTask=function(r){var t=this;return this._operateTasks(function(){var n=t._tasks.findIndex(function(i){return i.id===r.id});n>-1?t._tasks[n]=r:t._tasks.push(r)}),this},e.prototype.removeTask=function(r){var t=this;return me(r)&&this._operateTasks(function(){if(me(r)){var n=t._tasks.findIndex(function(i){return i.id===r});n>-1&&t._tasks.splice(n,1)}else t._tasks=[]}),this},e}(),s6=function(){function e(){this._callbacks=[]}return e.prototype.subscribe=function(r){var t=this._callbacks.indexOf(r);t<0&&this._callbacks.push(r)},e.prototype.unsubscribe=function(r){if(si(r)){var t=this._callbacks.indexOf(r);t>-1&&this._callbacks.splice(t,1)}else this._callbacks=[]},e.prototype.execute=function(r){this._callbacks.forEach(function(t){t(r)})},e.prototype.isEmpty=function(){return this._callbacks.length===0},e}();function Ig(e,r,t,n){var i=e.result,o=e.figures,s=e.styles,u=_n(s,"circles",t.circles),d=u.length,h=_n(s,"bars",t.bars),f=h.length,v=_n(s,"lines",t.lines),m=v.length,C=0,b=0,_=0,k,S=0;o.forEach(function(T){var I,P,L,z;switch(T.type){case"circle":{S=C;var R=u[C%d];k=Ke(Ke({},R),{color:R.noChangeColor}),C++;break}case"bar":{S=b;var V=h[b%f];k=Ke(Ke({},V),{color:V.noChangeColor}),b++;break}case"line":{S=_,k=v[_%m],_++;break}}if(me(T.type)){var $=(I=T.styles)===null||I===void 0?void 0:I.call(T,{data:{prev:i[(P=r.prev)!==null&&P!==void 0?P:""],current:i[(L=r.current)!==null&&L!==void 0?L:""],next:i[(z=r.next)!==null&&z!==void 0?z:""]},indicator:e,defaultStyles:t});n(T,Ke(Ke({},k),$),S)}})}var vm=function(){function e(r){this.precision=4,this.calcParams=[],this.shouldOhlc=!1,this.shouldFormatBigNumber=!1,this.visible=!0,this.zLevel=0,this.series="normal",this.figures=[],this.minValue=null,this.maxValue=null,this.styles=null,this.shouldUpdate=function(t,n){var i=JSON.stringify(t.calcParams)!==JSON.stringify(n.calcParams)||t.figures!==n.figures||t.calc!==n.calc,o=i||t.shortName!==n.shortName||t.series!==n.series||t.minValue!==n.minValue||t.maxValue!==n.maxValue||t.precision!==n.precision||t.shouldOhlc!==n.shouldOhlc||t.shouldFormatBigNumber!==n.shouldFormatBigNumber||t.visible!==n.visible||t.zLevel!==n.zLevel||t.extendData!==n.extendData||t.regenerateFigures!==n.regenerateFigures||t.createTooltipDataSource!==n.createTooltipDataSource||t.draw!==n.draw;return{calc:i,draw:o}},this.calc=function(){return{}},this.regenerateFigures=null,this.createTooltipDataSource=null,this.draw=null,this.onDataStateChange=null,this.result={},this._lockSeriesPrecision=!1,this.override(r),this._lockSeriesPrecision=!1}return e.prototype.override=function(r){var t,n,i=this,o=i.result,s=lp(i,["result"]);this._prevIndicator=Ke(Ke({},S0(s)),{result:o});var u=r.id,d=r.name,h=r.shortName,f=r.precision,v=r.styles,m=r.figures,C=r.calcParams,b=lp(r,["id","name","shortName","precision","styles","figures","calcParams"]);!cr(this.id)&&cr(u)&&(this.id=u),cr(this.name)||(this.name=d??""),this.shortName=(t=h??this.shortName)!==null&&t!==void 0?t:this.name,ut(f)&&(this.precision=f,this._lockSeriesPrecision=!0),me(v)&&((n=this.styles)!==null&&n!==void 0||(this.styles={}),pn(this.styles,v)),pn(this,b),me(C)&&(this.calcParams=C,si(this.regenerateFigures)&&(this.figures=this.regenerateFigures(this.calcParams))),this.figures=m??this.figures},e.prototype.setSeriesPrecision=function(r){this._lockSeriesPrecision||(this.precision=r)},e.prototype.shouldUpdateImp=function(){var r=this._prevIndicator.zLevel!==this.zLevel,t=this.shouldUpdate(this._prevIndicator,this);return v1(t)?{calc:t,draw:t,sort:r}:Ke(Ke({},t),{sort:r})},e.prototype.calcImp=function(r){return sm(this,void 0,void 0,function(){var t;return cm(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.calc(r,this)];case 1:return t=n.sent(),this.result=t,[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}})})},e.extend=function(r){var t=function(n){Ft(i,n);function i(){return n.call(this,r)||this}return i}(e);return t},e}(),c6={name:"AVP",shortName:"AVP",series:"price",precision:2,styles:{lines:[{color:"#A020F0",size:1}]},figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(e){var r=0,t=0;return e.reduce(function(n,i){var o,s,u={},d=(o=i.turnover)!==null&&o!==void 0?o:0,h=(s=i.volume)!==null&&s!==void 0?s:0;return r+=d,t+=h,t!==0&&(u.avp=r/t),n[i.timestamp]=u,n},{})}},u6={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(e){var r,t,n=e.data,i=e.indicator,o=e.defaultStyles,s=n.prev,u=n.current,d=(r=s==null?void 0:s.ao)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(t=u==null?void 0:u.ao)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,f="";h>d?f=_n(i.styles,"bars[0].upColor",o.bars[0].upColor):f=_n(i.styles,"bars[0].downColor",o.bars[0].downColor);var v=h>d?"stroke":"fill";return{color:f,style:v,borderColor:f}}}],calc:function(e,r){var t=r.calcParams,n=Math.max(t[0],t[1]),i=0,o=0,s=0,u=0;return e.reduce(function(d,h,f){var v={},m=(h.low+h.high)/2;if(i+=m,o+=m,f>=t[0]-1){s=i/t[0];var C=e[f-(t[0]-1)];i-=(C.low+C.high)/2}if(f>=t[1]-1){u=o/t[1];var C=e[f-(t[1]-1)];o-=(C.low+C.high)/2}return f>=n-1&&(v.ao=s-u),d[h.timestamp]=v,d},{})}},d6={name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"bias".concat(t+1),title:"BIAS".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[];return e.reduce(function(o,s,u){var d={},h=s.close;return t.forEach(function(f,v){var m;if(i[v]=((m=i[v])!==null&&m!==void 0?m:0)+h,u>=f-1){var C=i[v]/t[v];d[n[v].key]=(h-C)/C*100,i[v]-=e[u-(f-1)].close}}),o[s.timestamp]=d,o},{})}};function h6(e,r){var t=e.length,n=0;return e.forEach(function(i){var o=i.close-r;n+=o*o}),n=Math.abs(n),Math.sqrt(n/t)}var p6={name:"BOLL",shortName:"BOLL",series:"price",calcParams:[20,2],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=t[0]-1,i=0;return e.reduce(function(o,s,u){var d=s.close,h={};if(i+=d,u>=n){h.mid=i/t[0];var f=h6(e.slice(u-n,u+1),h.mid);h.up=h.mid+t[1]*f,h.dn=h.mid-t[1]*f,i-=e[u-n].close}return o[s.timestamp]=h,o},{})}},f6={name:"BRAR",shortName:"BRAR",calcParams:[26],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0;return e.reduce(function(u,d,h){var f,v,m={},C=d.high,b=d.low,_=d.open,k=((f=e[h-1])!==null&&f!==void 0?f:d).close;if(o+=C-_,s+=_-b,n+=C-k,i+=k-b,h>=t[0]-1){s!==0?m.ar=o/s*100:m.ar=0,i!==0?m.br=n/i*100:m.br=0;var S=e[h-(t[0]-1)],T=S.high,I=S.low,P=S.open,L=((v=e[h-t[0]])!==null&&v!==void 0?v:e[h-(t[0]-1)]).close;n-=T-L,i-=L-I,o-=T-P,s-=P-I}return u[d.timestamp]=m,u},{})}},g6={name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.max.apply(Math,Mp([],k1(t),!1)),i=[],o=[];return e.reduce(function(s,u,d){var h={},f=u.close;if(t.forEach(function(m,C){var b;i[C]=((b=i[C])!==null&&b!==void 0?b:0)+f,d>=m-1&&(o[C]=i[C]/m,i[C]-=e[d-(m-1)].close)}),d>=n-1){var v=0;o.forEach(function(m){v+=m}),h.bbi=v/4}return s[u.timestamp]=h,s},{})}},v6={name:"CCI",shortName:"CCI",calcParams:[20],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=t[0]-1,i=0,o=[];return e.reduce(function(s,u,d){var h={},f=(u.high+u.low+u.close)/3;if(i+=f,o.push(f),d>=n){var v=i/t[0],m=o.slice(d-n,d+1),C=0;m.forEach(function(k){C+=Math.abs(k-v)});var b=C/t[0];h.cci=b!==0?(f-v)/b/.015:0;var _=(e[d-n].high+e[d-n].low+e[d-n].close)/3;i-=_}return s[u.timestamp]=h,s},{})}},m6={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#FFFF00",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.ceil(t[1]/2.5+1),i=Math.ceil(t[2]/2.5+1),o=Math.ceil(t[3]/2.5+1),s=Math.ceil(t[4]/2.5+1),u=0,d=[],h=0,f=[],v=0,m=[],C=0,b=[],_=[],k={};return e.forEach(function(S,T){var I,P,L,z,R,V={},$=(I=e[T-1])!==null&&I!==void 0?I:S,W=($.high+$.close+$.low+$.open)/4,te=Math.max(0,S.high-W),ue=Math.max(0,W-S.low);T>=t[0]-1&&(ue!==0?V.cr=te/ue*100:V.cr=0,u+=V.cr,h+=V.cr,v+=V.cr,C+=V.cr,T>=t[0]+t[1]-2&&(d.push(u/t[1]),T>=t[0]+t[1]+n-3&&(V.ma1=d[d.length-1-n]),u-=(P=_[T-(t[1]-1)].cr)!==null&&P!==void 0?P:0),T>=t[0]+t[2]-2&&(f.push(h/t[2]),T>=t[0]+t[2]+i-3&&(V.ma2=f[f.length-1-i]),h-=(L=_[T-(t[2]-1)].cr)!==null&&L!==void 0?L:0),T>=t[0]+t[3]-2&&(m.push(v/t[3]),T>=t[0]+t[3]+o-3&&(V.ma3=m[m.length-1-o]),v-=(z=_[T-(t[3]-1)].cr)!==null&&z!==void 0?z:0),T>=t[0]+t[4]-2&&(b.push(C/t[4]),T>=t[0]+t[4]+s-3&&(V.ma4=b[b.length-1-s]),C-=(R=_[T-(t[4]-1)].cr)!==null&&R!==void 0?R:0)),_.push(V),k[S.timestamp]=V}),k}},y6={name:"DMA",shortName:"DMA",calcParams:[10,50,10],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=Math.max(t[0],t[1]),i=0,o=0,s=0,u=[],d={};return e.forEach(function(h,f){var v,m={},C=h.close;i+=C,o+=C;var b=0,_=0;if(f>=t[0]-1&&(b=i/t[0],i-=e[f-(t[0]-1)].close),f>=t[1]-1&&(_=o/t[1],o-=e[f-(t[1]-1)].close),f>=n-1){var k=b-_;m.dma=k,s+=k,f>=n+t[2]-2&&(m.ama=s/t[2],s-=(v=u[f-(t[2]-1)].dma)!==null&&v!==void 0?v:0)}u.push(m),d[h.timestamp]=m}),d}},x6={name:"DMI",shortName:"DMI",calcParams:[14,6],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=0,f=0,v=[],m={};return e.forEach(function(C,b){var _,k,S={},T=(_=e[b-1])!==null&&_!==void 0?_:C,I=T.close,P=C.high,L=C.low,z=P-L,R=Math.abs(P-I),V=Math.abs(I-L),$=P-T.high,W=T.low-L,te=Math.max(Math.max(z,R),V),ue=$>0&&$>W?$:0,Y=W>0&&W>$?W:0;if(n+=te,i+=ue,o+=Y,b>=t[0]-1){b>t[0]-1?(s=s-s/t[0]+te,u=u-u/t[0]+ue,d=d-d/t[0]+Y):(s=n,u=i,d=o);var Z=0,q=0;s!==0&&(Z=u*100/s,q=d*100/s),S.pdi=Z,S.mdi=q;var G=0;q+Z!==0&&(G=Math.abs(q-Z)/(q+Z)*100),h+=G,b>=t[0]*2-2&&(b>t[0]*2-2?f=(f*(t[0]-1)+G)/t[0]:f=h/t[0],S.adx=f,b>=t[0]*2+t[1]-3&&(S.adxr=(((k=v[b-(t[1]-1)].adx)!==null&&k!==void 0?k:0)+f)/2))}v.push(S),m[C.timestamp]=S}),m}},C6={name:"EMV",shortName:"EMV",calcParams:[14,9],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=[];return e.reduce(function(o,s,u){var d,h={};if(u>0){var f=e[u-1],v=s.high,m=s.low,C=(d=s.volume)!==null&&d!==void 0?d:0,b=(v+m)/2-(f.high+f.low)/2;if(C===0||v-m===0)h.emv=0;else{var _=C/1e8/(v-m);h.emv=b/_}n+=h.emv,i.push(h.emv),u>=t[0]&&(h.maEmv=n/t[0],n-=i[u-t[0]])}return o[s.timestamp]=h,o},{})}},b6={name:"EMA",shortName:"EMA",series:"price",calcParams:[6,12,20],styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"ema".concat(t+1),title:"EMA".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=0,o=[];return e.reduce(function(s,u,d){var h={},f=u.close;return i+=f,t.forEach(function(v,m){d>=v-1&&(d>v-1?o[m]=(2*f+(v-1)*o[m])/(v+1):o[m]=i/v,h[n[m].key]=o[m])}),s[u.timestamp]=h,s},{})}},w6={name:"MTM",shortName:"MTM",calcParams:[12,6],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=[],o={};return e.forEach(function(s,u){var d,h={};if(u>=t[0]){var f=s.close,v=e[u-t[0]].close;h.mtm=f-v,n+=h.mtm,u>=t[0]+t[1]-1&&(h.maMtm=n/t[1],n-=(d=i[u-(t[1]-1)].mtm)!==null&&d!==void 0?d:0)}i.push(h),o[s.timestamp]=h}),o}},_6={name:"MA",shortName:"MA",series:"price",calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"ma".concat(t+1),title:"MA".concat(r,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[];return e.reduce(function(o,s,u){var d={},h=s.close;return t.forEach(function(f,v){var m;i[v]=((m=i[v])!==null&&m!==void 0?m:0)+h,u>=f-1&&(d[n[v].key]=i[v]/f,i[v]-=e[u-(f-1)].close)}),o[s.timestamp]=d,o},{})}},k6={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(e){var r,t,n=e.data,i=e.indicator,o=e.defaultStyles,s=n.prev,u=n.current,d=(r=s==null?void 0:s.macd)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(t=u==null?void 0:u.macd)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,f="";h>0?f=_n(i.styles,"bars[0].upColor",o.bars[0].upColor):h<0?f=_n(i.styles,"bars[0].downColor",o.bars[0].downColor):f=_n(i.styles,"bars[0].noChangeColor",o.bars[0].noChangeColor);var v=d<h?"stroke":"fill";return{style:v,color:f,borderColor:f}}}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=Math.max(t[0],t[1]);return e.reduce(function(f,v,m){var C={},b=v.close;return n+=b,m>=t[0]-1&&(m>t[0]-1?i=(2*b+(t[0]-1)*i)/(t[0]+1):i=n/t[0]),m>=t[1]-1&&(m>t[1]-1?o=(2*b+(t[1]-1)*o)/(t[1]+1):o=n/t[1]),m>=h-1&&(s=i-o,C.dif=s,u+=s,m>=h+t[2]-2&&(m>h+t[2]-2?d=(s*2+d*(t[2]-1))/(t[2]+1):d=u/t[2],C.macd=(s-d)*2,C.dea=d)),f[v.timestamp]=C,f},{})}},S6={name:"OBV",shortName:"OBV",calcParams:[30],styles:{lines:[{color:"#A020F0",size:1},{color:"#007FFF",size:1}]},figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=[],s={};return e.forEach(function(u,d){var h,f,v,m,C=(h=e[d-1])!==null&&h!==void 0?h:u;u.close<C.close?i-=(f=u.volume)!==null&&f!==void 0?f:0:u.close>C.close&&(i+=(v=u.volume)!==null&&v!==void 0?v:0);var b={obv:i};n+=i,d>=t[0]-1&&(b.maObv=n/t[0],n-=(m=o[d-(t[0]-1)].obv)!==null&&m!==void 0?m:0),o.push(b),s[u.timestamp]=b}),s}},M6={name:"PVT",shortName:"PVT",styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(e){var r=0;return e.reduce(function(t,n,i){var o,s,u={},d=n.close,h=(o=n.volume)!==null&&o!==void 0?o:1,f=((s=e[i-1])!==null&&s!==void 0?s:n).close,v=0,m=f*h;return m!==0&&(v=(d-f)/m),r+=v,u.pvt=r,t[n.timestamp]=u,t},{})}},E6={name:"PSY",shortName:"PSY",calcParams:[12,6],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=[],s=[],u={};return e.forEach(function(d,h){var f,v,m={},C=((f=e[h-1])!==null&&f!==void 0?f:d).close,b=d.close-C>0?1:0;o.push(b),n+=b,h>=t[0]-1&&(m.psy=n/t[0]*100,i+=m.psy,h>=t[0]+t[1]-2&&(m.maPsy=i/t[1],i-=(v=s[h-(t[1]-1)].psy)!==null&&v!==void 0?v:0),n-=o[h-(t[0]-1)]),s.push(m),u[d.timestamp]=m}),u}},T6={name:"ROC",shortName:"ROC",calcParams:[12,6],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=[],i={},o=0;return e.forEach(function(s,u){var d,h,f={};if(u>=t[0]-1){var v=s.close,m=((d=e[u-t[0]])!==null&&d!==void 0?d:e[u-(t[0]-1)]).close;m!==0?f.roc=(v-m)/m*100:f.roc=0,o+=f.roc,u>=t[0]-1+t[1]-1&&(f.maRoc=o/t[1],o-=(h=n[u-(t[1]-1)].roc)!==null&&h!==void 0?h:0)}n.push(f),i[s.timestamp]=f}),i}},I6={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){var n=t+1;return{key:"rsi".concat(n),title:"RSI".concat(n,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[],o=[];return e.reduce(function(s,u,d){var h,f={},v=((h=e[d-1])!==null&&h!==void 0?h:u).close,m=u.close-v;return t.forEach(function(C,b){var _,k,S;if(m>0?i[b]=((_=i[b])!==null&&_!==void 0?_:0)+m:o[b]=((k=o[b])!==null&&k!==void 0?k:0)+Math.abs(m),d>=C-1){o[b]!==0?f[n[b].key]=100-100/(1+i[b]/o[b]):f[n[b].key]=0;var T=e[d-(C-1)],I=(S=e[d-C])!==null&&S!==void 0?S:T,P=T.close-I.close;P>0?i[b]-=P:o[b]-=Math.abs(P)}}),s[u.timestamp]=f,s},{})}},L6={name:"SMA",shortName:"SMA",series:"price",calcParams:[12,2],precision:2,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(e,r){var t=r.calcParams,n=0,i=0;return e.reduce(function(o,s,u){var d={},h=s.close;return n+=h,u>=t[0]-1&&(u>t[0]-1?i=(h*t[1]+i*(t[0]-t[1]+1))/(t[0]+1):i=n/t[0],d.sma=i),o[s.timestamp]=d,o},{})}},P6={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=[],i={};return e.forEach(function(o,s){var u,d,h,f,v={},m=o.close;if(s>=t[0]-1){var C=gm(e.slice(s-(t[0]-1),s+1),"high","low"),b=C[0],_=C[1],k=b-_,S=(m-_)/(k===0?1:k)*100;v.k=((t[1]-1)*((d=(u=n[s-1])===null||u===void 0?void 0:u.k)!==null&&d!==void 0?d:50)+S)/t[1],v.d=((t[2]-1)*((f=(h=n[s-1])===null||h===void 0?void 0:h.d)!==null&&f!==void 0?f:50)+v.k)/t[2],v.j=3*v.k-2*v.d}n.push(v),i[o.timestamp]=v}),i}},A6={name:"SAR",shortName:"SAR",series:"price",calcParams:[2,2,20],precision:2,shouldOhlc:!0,styles:{circles:[{upColor:"#FF7F50",downColor:"#A020F0",noChangeColor:"#A8A8A8"}]},figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(e){var r,t,n,i=e.data,o=e.indicator,s=e.defaultStyles,u=i.current,d=(r=u==null?void 0:u.sar)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER,h=(((t=u==null?void 0:u.high)!==null&&t!==void 0?t:0)+((n=u==null?void 0:u.low)!==null&&n!==void 0?n:0))/2,f=d<h?_n(o.styles,"circles[0].upColor",s.circles[0].upColor):_n(o.styles,"circles[0].downColor",s.circles[0].downColor);return{color:f}}}],calc:function(e,r){var t=r.calcParams,n=t[0]/100,i=t[1]/100,o=t[2]/100,s=n,u=-100,d=!1,h=0;return e.reduce(function(f,v,m){var C=h,b=v.high,_=v.low;if(d){(u===-100||u<b)&&(u=b,s=Math.min(s+i,o)),h=C+s*(u-C);var k=Math.min(e[Math.max(1,m)-1].low,_);h>v.low?(h=u,s=n,u=-100,d=!d):h>k&&(h=k)}else{(u===-100||u>_)&&(u=_,s=Math.min(s+i,o)),h=C+s*(u-C);var S=Math.max(e[Math.max(1,m)-1].high,b);h<v.high?(h=u,s=0,u=-100,d=!d):h<S&&(h=S)}return f[v.timestamp]={high:b,low:_,sar:h},f},{})}},D6={name:"TRIX",shortName:"TRIX",calcParams:[12,9],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=0,d=0,h=0,f=[],v={};return e.forEach(function(m,C){var b,_={},k=m.close;if(n+=k,C>=t[0]-1&&(C>t[0]-1?i=(2*k+(t[0]-1)*i)/(t[0]+1):i=n/t[0],u+=i,C>=t[0]*2-2&&(C>t[0]*2-2?o=(2*i+(t[0]-1)*o)/(t[0]+1):o=u/t[0],d+=o,C>=t[0]*3-3))){var S=0,T=0;C>t[0]*3-3?(S=(2*o+(t[0]-1)*s)/(t[0]+1),T=(S-s)/s*100):S=d/t[0],s=S,_.trix=T,h+=T,C>=t[0]*3+t[1]-4&&(_.maTrix=h/t[1],h-=(b=f[C-(t[1]-1)].trix)!==null&&b!==void 0?b:0)}f.push(_),v[m.timestamp]=_}),v}};function e2(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(e){var r=e.data,t=e.indicator,n=e.defaultStyles,i=r.current,o=_n(t.styles,"bars[0].noChangeColor",n.bars[0].noChangeColor);return me(i)&&(i.close>i.open?o=_n(t.styles,"bars[0].upColor",n.bars[0].upColor):i.close<i.open&&(o=_n(t.styles,"bars[0].downColor",n.bars[0].downColor))),{color:o}}}}var F6={name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},e2()],regenerateFigures:function(e){var r=e.map(function(t,n){return{key:"ma".concat(n+1),title:"MA".concat(t,": "),type:"line"}});return r.push(e2()),r},calc:function(e,r){var t=r.calcParams,n=r.figures,i=[];return e.reduce(function(o,s,u){var d,h=(d=s.volume)!==null&&d!==void 0?d:0,f={volume:h,open:s.open,close:s.close};return t.forEach(function(v,m){var C,b;i[m]=((C=i[m])!==null&&C!==void 0?C:0)+h,u>=v-1&&(f[n[m].key]=i[m]/v,i[m]-=(b=e[u-(v-1)].volume)!==null&&b!==void 0?b:0)}),o[s.timestamp]=f,o},{})}},R6={name:"VR",shortName:"VR",calcParams:[26,6],styles:{lines:[{color:"#FF6E6E",size:2},{color:"#FFD700",size:4}]},figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(e,r){var t=r.calcParams,n=0,i=0,o=0,s=0,u=[],d={};return e.forEach(function(h,f){var v,m,C,b,_,k={},S=h.close,T=((v=e[f-1])!==null&&v!==void 0?v:h).close,I=(m=h.volume)!==null&&m!==void 0?m:0;if(S>T?n+=I:S<T?i+=I:o+=I,f>=t[0]-1){var P=o/2;i+P===0?k.vr=0:k.vr=(n+P)/(i+P)*100,s+=k.vr,f>=t[0]+t[1]-2&&(k.maVr=s/t[1],s-=(C=u[f-(t[1]-1)].vr)!==null&&C!==void 0?C:0);var L=e[f-(t[0]-1)],z=(b=e[f-t[0]])!==null&&b!==void 0?b:L,R=L.close,V=(_=L.volume)!==null&&_!==void 0?_:0;R>z.close?n-=V:R<z.close?i-=V:o-=V}u.push(k),d[h.timestamp]=k}),d}},O6={name:"WR",shortName:"WR",calcParams:[6,10,14],styles:{lines:[{color:"#A020F0",size:1},{color:"#FFD700",size:1},{color:"#FF6E6E",size:1}]},figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(e){return e.map(function(r,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}})},calc:function(e,r){var t=r.calcParams,n=r.figures;return e.reduce(function(i,o,s){var u={},d=o.close;return t.forEach(function(h,f){var v=h-1;if(s>=v){var m=gm(e.slice(s-v,s+1),"high","low"),C=m[0],b=m[1],_=C-b;u[n[f].key]=_===0?0:(d-C)/_*100}}),i[o.timestamp]=u,i},{})}},Lg={},N6=[c6,u6,d6,p6,f6,g6,v6,m6,y6,x6,C6,b6,w6,_6,k6,S6,M6,E6,T6,I6,L6,P6,A6,D6,F6,R6,O6];N6.forEach(function(e){Lg[e.name]=vm.extend(e)});function mm(e){Lg[e.name]=vm.extend(e)}function ym(e){var r;return(r=Lg[e])!==null&&r!==void 0?r:null}function Ja(e,r){var t,n=(t=r==null?void 0:r.ignoreEvent)!==null&&t!==void 0?t:!1;return v1(n)?!n:!n.includes(e)}var t2=1,r1=-1,z6="overlay_",o0="overlay_figure_",xm=function(){function e(r){this.groupId="",this.totalStep=1,this.currentStep=t2,this.lock=!1,this.visible=!0,this.zLevel=0,this.needDefaultPointFigure=!1,this.needDefaultXAxisFigure=!1,this.needDefaultYAxisFigure=!1,this.mode="normal",this.modeSensitivity=8,this.points=[],this.styles=null,this.createPointFigures=null,this.createXAxisFigures=null,this.createYAxisFigures=null,this.performEventPressedMove=null,this.performEventMoveForDrawing=null,this.onDrawStart=null,this.onDrawing=null,this.onDrawEnd=null,this.onClick=null,this.onDoubleClick=null,this.onRightClick=null,this.onPressedMoveStart=null,this.onPressedMoving=null,this.onPressedMoveEnd=null,this.onMouseMove=null,this.onMouseEnter=null,this.onMouseLeave=null,this.onRemoved=null,this.onSelected=null,this.onDeselected=null,this._prevZLevel=0,this._prevPressedPoint=null,this._prevPressedPoints=[],this.override(r)}return e.prototype.override=function(r){var t,n;this._prevOverlay=S0(this);var i=r.id,o=r.name;r.currentStep;var s=r.points,u=r.styles,d=lp(r,["id","name","currentStep","points","styles"]);if(pn(this,d),cr(this.name)||(this.name=o??""),!cr(this.id)&&cr(i)&&(this.id=i),me(u)&&((t=this.styles)!==null&&t!==void 0||(this.styles={}),pn(this.styles,u)),$o(s)&&s.length>0){var h=0;if(this.points=Mp([],k1(s),!1),s.length>=this.totalStep-1?(this.currentStep=r1,h=this.totalStep-1):(this.currentStep=s.length+1,h=s.length),si(this.performEventMoveForDrawing))for(var f=0;f<h;f++)this.performEventMoveForDrawing({currentStep:f+2,mode:this.mode,points:this.points,performPointIndex:f,performPoint:this.points[f]});this.currentStep===r1&&((n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}))}},e.prototype.getPrevZLevel=function(){return this._prevZLevel},e.prototype.setPrevZLevel=function(r){this._prevZLevel=r},e.prototype.shouldUpdate=function(){var r=this._prevOverlay.zLevel!==this.zLevel,t=r||JSON.stringify(this._prevOverlay.points)!==JSON.stringify(this.points)||this._prevOverlay.visible!==this.visible||this._prevOverlay.extendData!==this.extendData||this._prevOverlay.styles!==this.styles;return{sort:r,draw:t}},e.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=r1:this.currentStep++},e.prototype.forceComplete=function(){this.currentStep=r1},e.prototype.isDrawing=function(){return this.currentStep!==r1},e.prototype.isStart=function(){return this.currentStep===t2},e.prototype.eventMoveForDrawing=function(r){var t,n=this.currentStep-1,i={};ut(r.timestamp)&&(i.timestamp=r.timestamp),ut(r.dataIndex)&&(i.dataIndex=r.dataIndex),ut(r.value)&&(i.value=r.value),this.points[n]=i,(t=this.performEventMoveForDrawing)===null||t===void 0||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:n,performPoint:i})},e.prototype.eventPressedPointMove=function(r,t){var n;this.points[t].timestamp=r.timestamp,ut(r.value)&&(this.points[t].value=r.value),(n=this.performEventPressedMove)===null||n===void 0||n.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},e.prototype.startPressedMove=function(r){this._prevPressedPoint=Ke({},r),this._prevPressedPoints=S0(this.points)},e.prototype.eventPressedOtherMove=function(r,t){if(this._prevPressedPoint!==null){var n=null;ut(r.dataIndex)&&ut(this._prevPressedPoint.dataIndex)&&(n=r.dataIndex-this._prevPressedPoint.dataIndex);var i=null;ut(r.value)&&ut(this._prevPressedPoint.value)&&(i=r.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(o){var s;ut(o.timestamp)&&(o.dataIndex=t.timestampToDataIndex(o.timestamp));var u=Ke({},o);return ut(n)&&ut(o.dataIndex)&&(u.dataIndex=o.dataIndex+n,u.timestamp=(s=t.dataIndexToTimestamp(u.dataIndex))!==null&&s!==void 0?s:void 0),ut(i)&&ut(o.value)&&(u.value=o.value+i),u})}},e.extend=function(r){var t=function(n){Ft(i,n);function i(){return n.call(this,r)||this}return i}(e);return t},e}(),B6={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r,t,n,i=e.chart,o=e.coordinates,s=e.bounding,u=e.overlay,d=e.yAxis,h=u.points;if(o.length>0){var f=0;if(!((r=d==null?void 0:d.isInCandle())!==null&&r!==void 0)||r)f=(n=(t=i.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&n!==void 0?n:2;else{var v=i.getIndicators({paneId:u.paneId});v.forEach(function(I){f=Math.max(f,I.precision)})}var m=[],C=[],b=0,_=s.width;if(o.length>1&&ut(h[0].value)&&ut(h[1].value)){var k=[1,.786,.618,.5,.382,.236,0],S=o[0].y-o[1].y,T=h[0].value-h[1].value;k.forEach(function(I){var P,L=o[1].y+S*I,z=i.getDecimalFold().format(i.getThousandsSeparator().format((((P=h[1].value)!==null&&P!==void 0?P:0)+T*I).toFixed(f)));m.push({coordinates:[{x:b,y:L},{x:_,y:L}]}),C.push({x:b,y:L,text:"".concat(z," (").concat((I*100).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:m},{type:"text",isCheckEvent:!1,attrs:C}]}return[]}},V6={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding,n={x:0,y:r[0].y};return me(r[1])&&r[0].x<r[1].x&&(n.x=t.width),[{type:"line",attrs:{coordinates:[r[0],n]}}]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].value=t.value,r[1].value=t.value},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].value=n.value)}},$6={name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=[];return r.length===2&&t.push({coordinates:r}),[{type:"line",attrs:t}]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].value=t.value,r[1].value=t.value},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].value=n.value)}},W6={name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:t.width,y:r[0].y}]}}]}},Pg=function(){function e(){this._children=[],this._callbacks=new Map}return e.prototype.registerEvent=function(r,t){return this._callbacks.set(r,t),this},e.prototype.onEvent=function(r,t){var n=this._callbacks.get(r);return me(n)&&this.checkEventOn(t)?n(t):!1},e.prototype.dispatchEventToChildren=function(r,t){var n=this._children.length-1;if(n>-1){for(var i=n;i>-1;i--)if(this._children[i].dispatchEvent(r,t))return!0}return!1},e.prototype.dispatchEvent=function(r,t){return this.dispatchEventToChildren(r,t)?!0:this.onEvent(r,t)},e.prototype.addChild=function(r){return this._children.push(r),this},e.prototype.clear=function(){this._children=[]},e}(),On=2,U6=function(e){Ft(r,e);function r(t){var n=e.call(this)||this;return n.attrs=t.attrs,n.styles=t.styles,n}return r.prototype.checkEventOn=function(t){return this.checkEventOnImp(t,this.attrs,this.styles)},r.prototype.setAttrs=function(t){return this.attrs=t,this},r.prototype.setStyles=function(t){return this.styles=t,this},r.prototype.draw=function(t){this.drawImp(t,this.attrs,this.styles)},r.extend=function(t){var n=function(i){Ft(o,i);function o(){return i!==null&&i.apply(this,arguments)||this}return o.prototype.checkEventOnImp=function(s,u,d){return t.checkEventOn(s,u,d)},o.prototype.drawImp=function(s,u,d){t.draw(s,u,d)},o}(r);return n},r}(Pg);function Cm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.coordinates;if(d.length>1)for(var h=1;h<d.length;h++){var f=d[h-1],v=d[h];if(f.x===v.x){if(Math.abs(f.y-e.y)+Math.abs(v.y-e.y)-Math.abs(f.y-v.y)<On+On&&Math.abs(e.x-f.x)<On)return!0}else{var m=Ep(f,v),C=Ag(m,e),b=Math.abs(C-e.y);if(Math.abs(f.x-e.x)+Math.abs(v.x-e.x)-Math.abs(f.x-v.x)<On+On&&b*b/(m[0]*m[0]+1)<On*On)return!0}}}}catch(_){t={error:_}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function Ag(e,r){return e!==null?r.x*e[0]+e[1]:r.y}function m1(e,r,t){var n=Ep(e,r);return Ag(n,t)}function Ep(e,r){var t=e.x-r.x;if(t!==0){var n=(e.y-r.y)/t,i=e.y-n*e.x;return[n,i]}return null}function bm(e,r,t){var n=r.length,i=ut(t)?t>0&&t<1?t:0:t?.5:0;if(i>0&&n>2){for(var o=r[0].x,s=r[0].y,u=1;u<n-1;u++){var d=r[u-1],h=r[u],f=r[u+1],v=h.x-d.x,m=h.y-d.y,C=f.x-h.x,b=f.y-h.y,_=f.x-d.x,k=f.y-d.y,S=Math.sqrt(v*v+m*m),T=Math.sqrt(C*C+b*b),I=T/(T+S),P=h.x+_*i*I,L=h.y+k*i*I;P=Math.min(P,Math.max(f.x,h.x)),L=Math.min(L,Math.max(f.y,h.y)),P=Math.max(P,Math.min(f.x,h.x)),L=Math.max(L,Math.min(f.y,h.y)),_=P-h.x,k=L-h.y;var z=h.x-_*S/T,R=h.y-k*S/T;z=Math.min(z,Math.max(d.x,h.x)),R=Math.min(R,Math.max(d.y,h.y)),z=Math.max(z,Math.min(d.x,h.x)),R=Math.max(R,Math.min(d.y,h.y)),_=h.x-z,k=h.y-R,P=h.x+_*T/S,L=h.y+k*T/S,e.bezierCurveTo(o,s,z,R,h.x,h.y),o=P,s=L}var V=r[n-1];e.bezierCurveTo(o,s,V.x,V.y,V.x,V.y)}else for(var u=1;u<n;u++)e.lineTo(r[u].x,r[u].y)}function H6(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?"solid":i,s=t.smooth,u=s===void 0?!1:s,d=t.size,h=d===void 0?1:d,f=t.color,v=f===void 0?"currentColor":f,m=t.dashedValue,C=m===void 0?[2,2]:m;e.lineWidth=h,e.strokeStyle=v,o==="dashed"?e.setLineDash(C):e.setLineDash([]);var b=h%2===1?.5:0;n.forEach(function(_){var k=_.coordinates;k.length>1&&(k.length===2&&(k[0].x===k[1].x||k[0].y===k[1].y)?(e.beginPath(),k[0].x===k[1].x?(e.moveTo(k[0].x+b,k[0].y),e.lineTo(k[1].x+b,k[1].y)):(e.moveTo(k[0].x,k[0].y+b),e.lineTo(k[1].x,k[1].y+b)),e.stroke(),e.closePath()):(e.save(),h%2===1&&e.translate(.5,.5),e.beginPath(),e.moveTo(k[0].x,k[0].y),bm(e,k,u),e.stroke(),e.closePath(),e.restore()))})}var Y6={name:"line",checkEventOn:Cm,draw:function(e,r,t){H6(e,r,t)}};function wm(e,r,t){var n=t??0,i=[];if(e.length>1)if(e[0].x===e[1].x){var o=0,s=r.height;if(i.push({coordinates:[{x:e[0].x,y:o},{x:e[0].x,y:s}]}),e.length>2){i.push({coordinates:[{x:e[2].x,y:o},{x:e[2].x,y:s}]});for(var u=e[0].x-e[2].x,d=0;d<n;d++){var h=u*(d+1);i.push({coordinates:[{x:e[0].x+h,y:o},{x:e[0].x+h,y:s}]})}}}else{var f=0,v=r.width,m=Ep(e[0],e[1]),C=m[0],b=m[1];if(i.push({coordinates:[{x:f,y:f*C+b},{x:v,y:v*C+b}]}),e.length>2){var _=e[2].y-C*e[2].x;i.push({coordinates:[{x:f,y:f*C+_},{x:v,y:v*C+_}]});for(var u=b-_,d=0;d<n;d++){var k=b+u*(d+1);i.push({coordinates:[{x:f,y:f*C+k},{x:v,y:v*C+k}]})}}}return i}var X6={name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:wm(r,t)}]}},j6={name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:wm(r,t,1)}]}},G6={name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r,t,n,i=e.chart,o=e.coordinates,s=e.bounding,u=e.overlay,d=e.yAxis,h=0;if(!((r=d==null?void 0:d.isInCandle())!==null&&r!==void 0)||r)h=(n=(t=i.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&n!==void 0?n:2;else{var f=i.getIndicators({paneId:u.paneId});f.forEach(function(C){h=Math.max(h,C.precision)})}var v=u.points[0].value,m=v===void 0?0:v;return[{type:"line",attrs:{coordinates:[o[0],{x:s.width,y:o[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:o[0].x,y:o[0].y,text:i.getDecimalFold().format(i.getThousandsSeparator().format(m.toFixed(h))),baseline:"bottom"}}]}};function K6(e,r){if(e.length>1){var t={x:0,y:0};return e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?t={x:e[0].x,y:r.height}:t={x:e[0].x,y:0}:e[0].x>e[1].x?t={x:0,y:m1(e[0],e[1],{x:0,y:e[0].y})}:t={x:r.width,y:m1(e[0],e[1],{x:r.width,y:e[0].y})},{coordinates:[e[0],t]}}return[]}var Q6={name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:K6(r,t)}]}},Z6={name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates;return r.length===2?[{type:"line",attrs:{coordinates:r}}]:[]}},q6={name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return r.length===2?r[0].x===r[1].x?[{type:"line",attrs:{coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:m1(r[0],r[1],{x:0,y:r[0].y})},{x:t.width,y:m1(r[0],r[1],{x:t.width,y:r[0].y})}]}}]:[]}},J6={name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;if(r.length===2){var n={x:r[0].x,y:0};return r[0].y<r[1].y&&(n.y=t.height),[{type:"line",attrs:{coordinates:[r[0],n]}}]}return[]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].timestamp=t.timestamp,r[0].dataIndex=t.dataIndex,r[1].timestamp=t.timestamp,r[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},e8={name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates;return r.length===2?[{type:"line",attrs:{coordinates:r}}]:[]},performEventPressedMove:function(e){var r=e.points,t=e.performPoint;r[0].timestamp=t.timestamp,r[0].dataIndex=t.dataIndex,r[1].timestamp=t.timestamp,r[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(e){var r=e.currentStep,t=e.points,n=e.performPoint;r===2&&(t[0].timestamp=n.timestamp,t[0].dataIndex=n.dataIndex)}},t8={name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(e){var r=e.coordinates,t=e.bounding;return[{type:"line",attrs:{coordinates:[{x:r[0].x,y:0},{x:r[0].x,y:t.height}]}}]}},r8={name:"simpleAnnotation",totalStep:2,styles:{line:{style:"dashed"}},createPointFigures:function(e){var r,t=e.overlay,n=e.coordinates,i="";me(t.extendData)&&(si(t.extendData)?i=t.extendData(t):i=(r=t.extendData)!==null&&r!==void 0?r:"");var o=n[0].x,s=n[0].y-6,u=s-50,d=u-5;return[{type:"line",attrs:{coordinates:[{x:o,y:s},{x:o,y:u}]},ignoreEvent:!1},{type:"polygon",attrs:{coordinates:[{x:o,y:u},{x:o-4,y:d},{x:o+4,y:d}]},ignoreEvent:!1},{type:"text",attrs:{x:o,y:d,text:i,align:"center",baseline:"bottom"},ignoreEvent:!1}]}},n8={name:"simpleTag",totalStep:2,styles:{line:{style:"dashed"}},createPointFigures:function(e){var r=e.bounding,t=e.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:r.width,y:t[0].y}]},ignoreEvent:!1}},createYAxisFigures:function(e){var r,t,n,i,o=e.chart,s=e.overlay,u=e.coordinates,d=e.bounding,h=e.yAxis,f=(r=h==null?void 0:h.isFromZero())!==null&&r!==void 0?r:!1,v="left",m=0;f?(v="left",m=0):(v="right",m=d.width);var C="";return me(s.extendData)&&(si(s.extendData)?C=s.extendData(s):C=(t=s.extendData)!==null&&t!==void 0?t:""),!me(C)&&ut(s.points[0].value)&&(C=jn(s.points[0].value,(i=(n=o.getSymbol())===null||n===void 0?void 0:n.pricePrecision)!==null&&i!==void 0?i:2)),{type:"text",attrs:{x:m,y:u[0].y,text:C,align:v,baseline:"middle"}}}},Dg={},i8=[B6,V6,$6,W6,X6,j6,G6,Q6,Z6,q6,J6,e8,t8,r8,n8];i8.forEach(function(e){Dg[e.name]=xm.extend(e)});function a8(e){Dg[e.name]=xm.extend(e)}function o8(e){var r;return(r=Dg[e])!==null&&r!==void 0?r:null}var l8={grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},title:{color:"#76808F"},legend:{color:"#76808F"}}},indicator:{tooltip:{title:{color:"#76808F"},legend:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},s8={grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},title:{color:"#929AA5"},legend:{color:"#929AA5"}}},indicator:{tooltip:{title:{color:"#929AA5"},legend:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}},c8={light:l8,dark:s8};function u8(e){var r;return(r=c8[e])!==null&&r!==void 0?r:null}var Jh=30,_m=100,$t={CANDLE:"candle_pane",INDICATOR:"indicator_pane_",X_AXIS:"x_axis_pane"},r2={MIN:1,MAX:50},d8=10,h8=80,p8=.2,dg=10,f8=function(){function e(r,t){var n=this;this._styles=um(),this._formatter={formatDate:function(v){var m=v.dateTimeFormat,C=v.timestamp,b=v.template;return dm(m,C,b)},formatBigNumber:hm,formatExtendText:function(v){return""}},this._innerFormatter={formatDate:function(v,m,C){return n._formatter.formatDate({dateTimeFormat:n._dateTimeFormat,timestamp:v,template:m,type:C})},formatBigNumber:function(v){return n._formatter.formatBigNumber(v)},formatExtendText:function(v){return n._formatter.formatExtendText(v)}},this._locale="en-US",this._thousandsSeparator={sign:",",format:function(v){return pm(v,n._thousandsSeparator.sign)}},this._decimalFold={threshold:3,format:function(v){return fm(v,n._decimalFold.threshold)}},this._symbol=null,this._period=null,this._dataList=[],this._dataLoader=null,this._loading=!1,this._dataLoadMore={forward:!1,backward:!1},this._zoomEnabled=!0,this._scrollEnabled=!0,this._totalBarSpace=0,this._barSpace=d8,this._offsetRightDistance=h8,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole="bar_count",this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange=qv(),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._crosshair={},this._actions=new Map,this._indicators=new Map,this._taskScheduler=new l6,this._overlays=new Map,this._progressOverlayInfo=null,this._lastPriceMarkExtendTextUpdateTimers=[],this._pressedOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._hoverOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._clickOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._chart=r,this._calcOptimalBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace;var i=t??{},o=i.styles,s=i.locale,u=i.timezone,d=i.formatter,h=i.thousandsSeparator,f=i.decimalFold;me(o)&&this.setStyles(o),cr(s)&&this.setLocale(s),this.setTimezone(u??""),me(d)&&this.setFormatter(d),me(h)&&this.setThousandsSeparator(h),me(f)&&this.setDecimalFold(f)}return e.prototype.setStyles=function(r){var t=this,n,i,o,s,u,d,h=null;if(cr(r)?h=u8(r):h=r,pn(this._styles,h),$o((o=(i=(n=h==null?void 0:h.candle)===null||n===void 0?void 0:n.tooltip)===null||i===void 0?void 0:i.legend)===null||o===void 0?void 0:o.template)&&(this._styles.candle.tooltip.legend.template=h.candle.tooltip.legend.template),me((d=(u=(s=h==null?void 0:h.candle)===null||s===void 0?void 0:s.priceMark)===null||u===void 0?void 0:u.last)===null||d===void 0?void 0:d.extendTexts)){this._clearLastPriceMarkExtendTextUpdateTimer();var f=[];this._styles.candle.priceMark.last.extendTexts.forEach(function(v){var m=v.updateInterval;if(v.show&&m>0&&!f.includes(m)){f.push(m);var C=setInterval(function(){t._chart.updatePane(0,$t.CANDLE)},m);t._lastPriceMarkExtendTextUpdateTimers.push(C)}})}},e.prototype.getStyles=function(){return this._styles},e.prototype.setFormatter=function(r){pn(this._formatter,r)},e.prototype.getFormatter=function(){return this._formatter},e.prototype.getInnerFormatter=function(){return this._innerFormatter},e.prototype.setLocale=function(r){this._locale=r},e.prototype.getLocale=function(){return this._locale},e.prototype.setTimezone=function(r){if(!me(this._dateTimeFormat)||this.getTimezone()!==r){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};r.length>0&&(t.timeZone=r);var n=null;try{n=new Intl.DateTimeFormat("en",t)}catch{}n!==null&&(this._dateTimeFormat=n)}},e.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},e.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},e.prototype.setThousandsSeparator=function(r){pn(this._thousandsSeparator,r)},e.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},e.prototype.setDecimalFold=function(r){pn(this._decimalFold,r)},e.prototype.getDecimalFold=function(){return this._decimalFold},e.prototype.setSymbol=function(r){this._processDataUnsubscribe(),this._symbol=r,this._synchronizeIndicatorSeriesPrecision(),this.resetData()},e.prototype.getSymbol=function(){return this._symbol},e.prototype.setPeriod=function(r){this._processDataUnsubscribe(),this._period=r,this.resetData()},e.prototype.getPeriod=function(){return this._period},e.prototype.getDataList=function(){return this._dataList},e.prototype.getVisibleRangeDataList=function(){return this._visibleRangeDataList},e.prototype.getVisibleRangeHighLowPrice=function(){return this._visibleRangeHighLowPrice},e.prototype._addData=function(r,t,n){var i=this,o,s,u=!1,d=!1,h=0;if($o(r)){var f={backward:!1,forward:!1};switch(v1(n)?(f.backward=n,f.forward=n):(f.backward=(o=n==null?void 0:n.backward)!==null&&o!==void 0?o:!1,f.forward=(s=n==null?void 0:n.forward)!==null&&s!==void 0?s:!1),h=r.length,t){case"init":{this._clearData(),this._dataList=r,this._dataLoadMore.backward=f.backward,this._dataLoadMore.forward=f.forward,this.setOffsetRightDistance(this._offsetRightDistance),d=!0;break}case"backward":{this._dataList=this._dataList.concat(r),this._dataLoadMore.backward=f.backward,this._lastBarRightSideDiffBarCount-=h,d=h>0;break}case"forward":{this._dataList=r.concat(this._dataList),this._dataLoadMore.forward=f.forward,d=h>0;break}}u=!0}else{var v=this._dataList.length,m=r.timestamp,C=_n(this._dataList[v-1],"timestamp",0);if(m>C){this._dataList.push(r);var b=this.getLastBarRightSideDiffBarCount();b<0&&this.setLastBarRightSideDiffBarCount(--b),h=1,u=!0,d=!0}else m===C&&(this._dataList[v-1]=r,u=!0,d=!0)}if(u&&d){this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0});var _=this.getIndicatorsByFilter({});_.forEach(function(k){i._addIndicatorCalcTask(k,t)}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:t!=="init"})}},e.prototype.setDataLoader=function(r){this._dataLoader=r,this.resetData()},e.prototype._calcOptimalBarSpace=function(){var r=4,t=1-p8*Math.atan(Math.max(r,this._barSpace)-r)/(Math.PI*.5),n=Math.min(Math.floor(this._barSpace*t),Math.floor(this._barSpace));n%2===0&&n+2>=this._barSpace&&--n,this._gapBarSpace=Math.max(1,n)},e.prototype._adjustVisibleRange=function(){var r,t,n=this._dataList.length,i=this._totalBarSpace/this._barSpace,o=0,s=0;this._scrollLimitRole==="distance"?(o=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,s=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(o=this._minVisibleBarCount.left,s=this._minVisibleBarCount.right),o=Math.max(0,o),s=Math.max(0,s);var u=i-Math.min(o,n);this._lastBarRightSideDiffBarCount>u&&(this._lastBarRightSideDiffBarCount=u);var d=-n+Math.min(s,n);this._lastBarRightSideDiffBarCount<d&&(this._lastBarRightSideDiffBarCount=d);var h=Math.round(this._lastBarRightSideDiffBarCount+n+.5),f=h;h>n&&(h=n);var v=Math.round(h-i)-1;v<0&&(v=0);var m=this._lastBarRightSideDiffBarCount>0?Math.round(n+this._lastBarRightSideDiffBarCount-i)-1:v;this._visibleRange={from:v,to:h,realFrom:m,realTo:f},this.executeAction("onVisibleRangeChange",this._visibleRange),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}];for(var C=m;C<f;C++){var b=this._dataList[C],_=this.dataIndexToCoordinate(C);this._visibleRangeDataList.push({dataIndex:C,x:_,data:{prev:(r=this._dataList[C-1])!==null&&r!==void 0?r:b,current:b,next:(t=this._dataList[C+1])!==null&&t!==void 0?t:b}}),me(b)&&(this._visibleRangeHighLowPrice[0].price<b.high&&(this._visibleRangeHighLowPrice[0].price=b.high,this._visibleRangeHighLowPrice[0].x=_),this._visibleRangeHighLowPrice[1].price>b.low&&(this._visibleRangeHighLowPrice[1].price=b.low,this._visibleRangeHighLowPrice[1].x=_))}v===0?this._dataLoadMore.forward&&this._processDataLoad("forward"):h===n&&this._dataLoadMore.backward&&this._processDataLoad("backward")},e.prototype._processDataLoad=function(r){var t=this,n,i,o,s;if(!this._loading&&me(this._dataLoader)&&me(this._symbol)&&me(this._period)){this._loading=!0;var u={type:r,symbol:this._symbol,period:this._period,timestamp:null,callback:function(d,h){var f,v;t._loading=!1,t._addData(d,r,h),r==="init"&&((v=(f=t._dataLoader)===null||f===void 0?void 0:f.subscribeBar)===null||v===void 0||v.call(f,{symbol:t._symbol,period:t._period,callback:function(m){t._addData(m,"update")}}))}};switch(r){case"backward":{u.timestamp=(i=(n=this._dataList[this._dataList.length-1])===null||n===void 0?void 0:n.timestamp)!==null&&i!==void 0?i:null;break}case"forward":{u.timestamp=(s=(o=this._dataList[0])===null||o===void 0?void 0:o.timestamp)!==null&&s!==void 0?s:null;break}}this._dataLoader.getBars(u)}},e.prototype._processDataUnsubscribe=function(){var r,t;me(this._dataLoader)&&me(this._symbol)&&me(this._period)&&((t=(r=this._dataLoader).unsubscribeBar)===null||t===void 0||t.call(r,{symbol:this._symbol,period:this._period}))},e.prototype.resetData=function(){this._loading=!1,this._processDataLoad("init")},e.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:Math.floor(this._gapBarSpace/2)}},e.prototype.setBarSpace=function(r,t){r<r2.MIN||r>r2.MAX||this._barSpace===r||(this._barSpace=r,this._calcOptimalBarSpace(),t==null||t(),this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0}))},e.prototype.setTotalBarSpace=function(r){this._totalBarSpace!==r&&(this._totalBarSpace=r,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}))},e.prototype.setOffsetRightDistance=function(r,t){return this._offsetRightDistance=this._scrollLimitRole==="distance"?Math.min(this._maxOffsetDistance.right,r):r,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,(t??!1)&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0})),this},e.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},e.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},e.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},e.prototype.setLastBarRightSideDiffBarCount=function(r){this._lastBarRightSideDiffBarCount=r},e.prototype.setMaxOffsetLeftDistance=function(r){this._scrollLimitRole="distance",this._maxOffsetDistance.left=r},e.prototype.setMaxOffsetRightDistance=function(r){this._scrollLimitRole="distance",this._maxOffsetDistance.right=r},e.prototype.setLeftMinVisibleBarCount=function(r){this._scrollLimitRole="bar_count",this._minVisibleBarCount.left=r},e.prototype.setRightMinVisibleBarCount=function(r){this._scrollLimitRole="bar_count",this._minVisibleBarCount.right=r},e.prototype.getVisibleRange=function(){return this._visibleRange},e.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},e.prototype.scroll=function(r){if(this._scrollEnabled){var t=r/this._barSpace,n=this._lastBarRightSideDiffBarCount*this._barSpace;this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-t,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0});var i=Math.round(n-this._lastBarRightSideDiffBarCount*this._barSpace);i!==0&&this.executeAction("onScroll",{distance:i})}},e.prototype.getDataByDataIndex=function(r){var t;return(t=this._dataList[r])!==null&&t!==void 0?t:null},e.prototype.coordinateToFloatIndex=function(r){var t=this._dataList.length,n=(this._totalBarSpace-r)/this._barSpace,i=t+this._lastBarRightSideDiffBarCount-n;return Math.round(i*1e6)/1e6},e.prototype.dataIndexToTimestamp=function(r){var t=this._dataList.length;if(t===0)return null;var n=this.getDataByDataIndex(r);if(me(n))return n.timestamp;if(me(this._period)){var i=t-1,o=null,s=0;if(r>i?(o=this._dataList[i].timestamp,s=r-i):r<0&&(o=this._dataList[0].timestamp,s=r),ut(o)){var u=this._period,d=u.type,h=u.span;switch(d){case"second":return o+h*1e3*s;case"minute":return o+h*60*1e3*s;case"hour":return o+h*60*60*1e3*s;case"day":return o+h*24*60*60*1e3*s;case"week":return o+h*7*24*60*60*1e3*s;case"month":{var f=new Date(o),v=f.getDate();f.setDate(1),f.setMonth(f.getMonth()+h*s);var m=new Date(f.getFullYear(),f.getMonth()+1,0).getDate();return f.setDate(Math.min(v,m)),f.getTime()}case"year":{var f=new Date(o);return f.setFullYear(f.getFullYear()+h*s),f.getTime()}}}}return null},e.prototype.timestampToDataIndex=function(r){var t=this._dataList.length;if(t===0)return 0;if(me(this._period)){var n=null,i=0,o=t-1,s=this._dataList[o].timestamp;r>s&&(n=s,i=o);var u=this._dataList[0].timestamp;if(r<u&&(n=u,i=0),ut(n)){var d=this._period,h=d.type,f=d.span;switch(h){case"second":return i+Math.floor((r-n)/(f*1e3));case"minute":return i+Math.floor((r-n)/(f*60*1e3));case"hour":return i+Math.floor((r-n)/(f*60*60*1e3));case"day":return i+Math.floor((r-n)/(f*24*60*60*1e3));case"week":return i+Math.floor((r-n)/(f*7*24*60*60*1e3));case"month":{var v=new Date(n),m=new Date(r),C=v.getFullYear(),b=m.getFullYear(),_=v.getMonth(),k=m.getMonth();return i+Math.floor(((b-C)*12+(k-_))/f)}case"year":{var C=new Date(n).getFullYear(),b=new Date(r).getFullYear();return i+Math.floor((b-C)/f)}}}}return ug(this._dataList,"timestamp",r)},e.prototype.dataIndexToCoordinate=function(r){var t=this._dataList.length,n=t+this._lastBarRightSideDiffBarCount-r;return Math.floor(this._totalBarSpace-(n-.5)*this._barSpace+.5)},e.prototype.coordinateToDataIndex=function(r){return Math.ceil(this.coordinateToFloatIndex(r))-1},e.prototype.zoom=function(r,t){var n=this,i;if(this._zoomEnabled){var o=t??null;ut(o==null?void 0:o.x)||(o={x:(i=this._crosshair.x)!==null&&i!==void 0?i:this._totalBarSpace/2});var s=o.x,u=this.coordinateToFloatIndex(s),d=this._barSpace,h=this._barSpace+r*(this._barSpace/dg);this.setBarSpace(h,function(){n._lastBarRightSideDiffBarCount+=u-n.coordinateToFloatIndex(s)});var f=this._barSpace/d;f!==1&&this.executeAction("onZoom",{scale:f})}},e.prototype.setZoomEnabled=function(r){this._zoomEnabled=r},e.prototype.isZoomEnabled=function(){return this._zoomEnabled},e.prototype.setScrollEnabled=function(r){this._scrollEnabled=r},e.prototype.isScrollEnabled=function(){return this._scrollEnabled},e.prototype.setCrosshair=function(r,t){var n,i=t??{},o=i.notInvalidate,s=i.notExecuteAction,u=i.forceInvalidate,d=r??{},h=0,f=0;ut(d.x)?(h=this.coordinateToDataIndex(d.x),h<0?f=0:h>this._dataList.length-1?f=this._dataList.length-1:f=h):(h=this._dataList.length-1,f=h);var v=this._dataList[f],m=this.dataIndexToCoordinate(h),C={x:this._crosshair.x,y:this._crosshair.y,paneId:this._crosshair.paneId};this._crosshair=Ke(Ke({},d),{realX:m,kLineData:v,realDataIndex:h,dataIndex:f,timestamp:(n=this.dataIndexToTimestamp(h))!==null&&n!==void 0?n:void 0}),(C.x!==d.x||C.y!==d.y||C.paneId!==d.paneId||(u??!1))&&(me(v)&&!(s??!1)&&this.hasAction("onCrosshairChange")&&cr(this._crosshair.paneId)&&this.executeAction("onCrosshairChange",r),(o??!1)||this._chart.updatePane(1))},e.prototype.getCrosshair=function(){return this._crosshair},e.prototype.executeAction=function(r,t){var n;(n=this._actions.get(r))===null||n===void 0||n.execute(t)},e.prototype.subscribeAction=function(r,t){var n;this._actions.has(r)||this._actions.set(r,new s6),(n=this._actions.get(r))===null||n===void 0||n.subscribe(t)},e.prototype.unsubscribeAction=function(r,t){var n=this._actions.get(r);me(n)&&(n.unsubscribe(t),n.isEmpty()&&this._actions.delete(r))},e.prototype.hasAction=function(r){var t=this._actions.get(r);return me(t)&&!t.isEmpty()},e.prototype._sortIndicators=function(r){var t;cr(r)?(t=this._indicators.get(r))===null||t===void 0||t.sort(function(n,i){return n.zLevel-i.zLevel}):this._indicators.forEach(function(n){n.sort(function(i,o){return i.zLevel-o.zLevel})})},e.prototype._addIndicatorCalcTask=function(r,t){var n=this;this._taskScheduler.addTask({id:Jv(r.id),handler:function(){var i;(i=r.onDataStateChange)===null||i===void 0||i.call(r,{state:"loading",type:t,indicator:r}),r.calcImp(n._dataList).then(function(o){var s;o&&(n._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:t!=="init"}),(s=r.onDataStateChange)===null||s===void 0||s.call(r,{state:"ready",type:t,indicator:r}))}).catch(function(){var o;(o=r.onDataStateChange)===null||o===void 0||o.call(r,{state:"error",type:t,indicator:r})})}})},e.prototype.addIndicator=function(r,t,n){var i=r.name,o=this.getIndicatorsByFilter(r);if(o.length>0)return!1;var s=this.getIndicatorsByPaneId(t),u=ym(i),d=new u;return this._synchronizeIndicatorSeriesPrecision(d),d.paneId=t,d.override(r),n||(this.removeIndicator({paneId:t}),s=[]),s.push(d),this._indicators.set(t,s),this._sortIndicators(t),this._addIndicatorCalcTask(d,"init"),!0},e.prototype.getIndicatorsByPaneId=function(r){var t;return(t=this._indicators.get(r))!==null&&t!==void 0?t:[]},e.prototype.getIndicatorsByFilter=function(r){var t=r.paneId,n=r.name,i=r.id,o=function(u){return me(i)?u.id===i:!me(n)||u.name===n},s=[];return me(t)?s=s.concat(this.getIndicatorsByPaneId(t).filter(o)):this._indicators.forEach(function(u){s=s.concat(u.filter(o))}),s},e.prototype.removeIndicator=function(r){var t=this,n=!1,i=this.getIndicatorsByFilter(r);return i.forEach(function(o){var s=t.getIndicatorsByPaneId(o.paneId),u=s.findIndex(function(d){return d.id===o.id});u>-1&&(t._taskScheduler.removeTask(Jv(o.id)),s.splice(u,1),n=!0),s.length===0&&t._indicators.delete(o.paneId)}),n},e.prototype.hasIndicators=function(r){return this._indicators.has(r)},e.prototype._synchronizeIndicatorSeriesPrecision=function(r){if(me(this._symbol)){var t=this._symbol,n=t.pricePrecision,i=n===void 0?2:n,o=t.volumePrecision,s=o===void 0?0:o,u=function(d){switch(d.series){case"price":{d.setSeriesPrecision(i);break}case"volume":{d.setSeriesPrecision(s);break}}};me(r)?u(r):this._indicators.forEach(function(d){d.forEach(function(h){u(h)})})}},e.prototype.overrideIndicator=function(r){var t=this,n=!1,i=!1,o=this.getIndicatorsByFilter(r);return o.forEach(function(s){s.override(r);var u=s.shouldUpdateImp(),d=u.calc,h=u.draw,f=u.sort;f&&(i=!0),d?t._addIndicatorCalcTask(s,"update"):h&&(n=!0)}),i&&this._sortIndicators(),n?(this._chart.layout({update:!0}),!0):!1},e.prototype.getOverlaysByFilter=function(r){var t,n=r.id,i=r.groupId,o=r.paneId,s=r.name,u=function(f){return me(n)?f.id===n:me(i)?f.groupId===i&&(!me(s)||f.name===s):!me(s)||f.name===s},d=[];me(o)?d=d.concat(this.getOverlaysByPaneId(o).filter(u)):this._overlays.forEach(function(f){d=d.concat(f.filter(u))});var h=(t=this._progressOverlayInfo)===null||t===void 0?void 0:t.overlay;return me(h)&&u(h)&&d.push(h),d},e.prototype.getOverlaysByPaneId=function(r){var t;if(!cr(r)){var n=[];return this._overlays.forEach(function(i){n=n.concat(i)}),n}return(t=this._overlays.get(r))!==null&&t!==void 0?t:[]},e.prototype._sortOverlays=function(r){var t;cr(r)?(t=this._overlays.get(r))===null||t===void 0||t.sort(function(n,i){return n.zLevel-i.zLevel}):this._overlays.forEach(function(n){n.sort(function(i,o){return i.zLevel-o.zLevel})})},e.prototype.addOverlays=function(r,t){var n=this,i=[],o=r.map(function(s,u){var d,h,f,v,m,C,b,_;if(me(s.id)){var k=null;try{for(var S=oo(n._overlays),T=S.next();!T.done;T=S.next()){var I=T.value,P=I[1],L=P.find(function(W){return W.id===s.id});if(me(L)){k=L;break}}}catch(W){d={error:W}}finally{try{T&&!T.done&&(h=S.return)&&h.call(S)}finally{if(d)throw d.error}}if(me(k))return s.id}var z=o8(s.name);if(me(z)){var R=(f=s.id)!==null&&f!==void 0?f:qh(z6),L=new z,V=(v=s.paneId)!==null&&v!==void 0?v:$t.CANDLE;s.id=R,(m=s.groupId)!==null&&m!==void 0||(s.groupId=R);var $=n.getOverlaysByPaneId(V).length;return(C=s.zLevel)!==null&&C!==void 0||(s.zLevel=$),L.override(s),i.includes(V)||i.push(V),L.isDrawing()?n._progressOverlayInfo={paneId:V,overlay:L,appointPaneFlag:t[u]}:(n._overlays.has(V)||n._overlays.set(V,[]),(b=n._overlays.get(V))===null||b===void 0||b.push(L)),L.isStart()&&((_=L.onDrawStart)===null||_===void 0||_.call(L,{overlay:L,chart:n._chart})),R}return null});return i.length>0&&(this._sortOverlays(),i.forEach(function(s){n._chart.updatePane(1,s)}),this._chart.updatePane(1,$t.X_AXIS)),o},e.prototype.getProgressOverlayInfo=function(){return this._progressOverlayInfo},e.prototype.progressOverlayComplete=function(){var r;if(this._progressOverlayInfo!==null){var t=this._progressOverlayInfo,n=t.overlay,i=t.paneId;n.isDrawing()||(this._overlays.has(i)||this._overlays.set(i,[]),(r=this._overlays.get(i))===null||r===void 0||r.push(n),this._sortOverlays(i),this._progressOverlayInfo=null)}},e.prototype.updateProgressOverlayInfo=function(r,t){this._progressOverlayInfo!==null&&(v1(t)&&t&&(this._progressOverlayInfo.appointPaneFlag=t),this._progressOverlayInfo.paneId=r,this._progressOverlayInfo.overlay.override({paneId:r}))},e.prototype.overrideOverlay=function(r){var t=this,n=!1,i=[],o=this.getOverlaysByFilter(r);return o.forEach(function(s){s.override(r);var u=s.shouldUpdate(),d=u.sort,h=u.draw;d&&(n=!0),(d||h)&&(i.includes(s.paneId)||i.push(s.paneId))}),n&&this._sortOverlays(),i.length>0?(i.forEach(function(s){t._chart.updatePane(1,s)}),this._chart.updatePane(1,$t.X_AXIS),!0):!1},e.prototype.removeOverlay=function(r){var t=this,n=[],i=this.getOverlaysByFilter(r);return i.forEach(function(o){var s,u=o.paneId,d=t.getOverlaysByPaneId(o.paneId);if((s=o.onRemoved)===null||s===void 0||s.call(o,{overlay:o,chart:t._chart}),n.includes(u)||n.push(u),o.isDrawing())t._progressOverlayInfo=null;else{var h=d.findIndex(function(f){return f.id===o.id});h>-1&&d.splice(h,1)}d.length===0&&t._overlays.delete(u)}),n.length>0?(n.forEach(function(o){t._chart.updatePane(1,o)}),this._chart.updatePane(1,$t.X_AXIS),!0):!1},e.prototype.setPressedOverlayInfo=function(r){this._pressedOverlayInfo=r},e.prototype.getPressedOverlayInfo=function(){return this._pressedOverlayInfo},e.prototype.setHoverOverlayInfo=function(r,t,n){var i=this._hoverOverlayInfo,o=i.overlay,s=i.figureType,u=i.figureIndex,d=i.figure,h=r.overlay;if(((o==null?void 0:o.id)!==(h==null?void 0:h.id)||s!==r.figureType||u!==r.figureIndex)&&(this._hoverOverlayInfo=r,(o==null?void 0:o.id)!==(h==null?void 0:h.id))){var f=!1,v=!1;o!==null&&(o.override({zLevel:o.getPrevZLevel()}),v=!0,n(o,d)&&(f=!0)),h!==null&&(h.setPrevZLevel(h.zLevel),h.override({zLevel:Number.MAX_SAFE_INTEGER}),v=!0,t(h,r.figure)&&(f=!0)),v&&this._sortOverlays(),f||this._chart.updatePane(1)}},e.prototype.getHoverOverlayInfo=function(){return this._hoverOverlayInfo},e.prototype.setClickOverlayInfo=function(r,t,n){var i=this._clickOverlayInfo,o=i.paneId,s=i.overlay,u=i.figureType,d=i.figure,h=i.figureIndex,f=r.overlay;((s==null?void 0:s.id)!==(f==null?void 0:f.id)||u!==r.figureType||h!==r.figureIndex)&&(this._clickOverlayInfo=r,(s==null?void 0:s.id)!==(f==null?void 0:f.id)&&(me(s)&&n(s,d),me(f)&&t(f,r.figure),this._chart.updatePane(1,r.paneId),o!==r.paneId&&this._chart.updatePane(1,o),this._chart.updatePane(1,$t.X_AXIS)))},e.prototype.getClickOverlayInfo=function(){return this._clickOverlayInfo},e.prototype.isOverlayEmpty=function(){return this._overlays.size===0&&this._progressOverlayInfo===null},e.prototype.isOverlayDrawing=function(){var r,t;return(t=(r=this._progressOverlayInfo)===null||r===void 0?void 0:r.overlay.isDrawing())!==null&&t!==void 0?t:!1},e.prototype._clearLastPriceMarkExtendTextUpdateTimer=function(){this._lastPriceMarkExtendTextUpdateTimers.forEach(function(r){clearInterval(r)}),this._lastPriceMarkExtendTextUpdateTimers=[]},e.prototype._clearData=function(){this._dataLoadMore.backward=!1,this._dataLoadMore.forward=!1,this._loading=!1,this._dataList=[],this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._visibleRange=qv(),this._crosshair={}},e.prototype.getChart=function(){return this._chart},e.prototype.destroy=function(){this._clearData(),this._clearLastPriceMarkExtendTextUpdateTimer(),this._taskScheduler.removeTask(),this._overlays.clear(),this._indicators.clear(),this._actions.clear()},e}(),Xt={MAIN:"main",X_AXIS:"xAxis",Y_AXIS:"yAxis",SEPARATOR:"separator"},h1=7;function g8(){return sm(this,void 0,void 0,function(){return cm(this,function(e){switch(e.label){case 0:return[4,new Promise(function(r){var t=new ResizeObserver(function(n){r(n.every(function(i){return"devicePixelContentBoxSize"in i})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})];case 1:return[2,e.sent()]}})})}var n2=function(){function e(r,t){var n=this;this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._nextPixelWidth=0,this._nextPixelHeight=0,this._requestAnimationId=b0,this._mediaQueryListener=function(){var i=Es(n._element);n._nextPixelWidth=Math.round(n._element.clientWidth*i),n._nextPixelHeight=Math.round(n._element.clientHeight*i),n._resetPixelRatio()},this._listener=t,this._element=Nl("canvas",r),this._ctx=this._element.getContext("2d"),g8().then(function(i){n._supportedDevicePixelContentBox=i,i?(n._resizeObserver=new ResizeObserver(function(o){var s=o.find(function(d){return d.target===n._element}),u=s==null?void 0:s.devicePixelContentBoxSize[0];me(u)&&(n._nextPixelWidth=u.inlineSize,n._nextPixelHeight=u.blockSize,(n._pixelWidth!==n._nextPixelWidth||n._pixelHeight!==n._nextPixelHeight)&&n._resetPixelRatio())}),n._resizeObserver.observe(n._element,{box:"device-pixel-content-box"})):(n._mediaQueryList=window.matchMedia("(resolution: ".concat(Es(n._element),"dppx)")),n._mediaQueryList.addListener(n._mediaQueryListener))}).catch(function(i){return!1})}return e.prototype._resetPixelRatio=function(){var r=this;this._executeListener(function(){var t=r._element.clientWidth,n=r._element.clientHeight;r._width=t,r._height=n,r._pixelWidth=r._nextPixelWidth,r._pixelHeight=r._nextPixelHeight,r._element.width=r._nextPixelWidth,r._element.height=r._nextPixelHeight;var i=r._nextPixelWidth/t,o=r._nextPixelHeight/n;r._ctx.scale(i,o)})},e.prototype._executeListener=function(r){var t=this;this._requestAnimationId===b0&&(this._requestAnimationId=cp(function(){t._ctx.clearRect(0,0,t._width,t._height),r==null||r(),t._listener(),t._requestAnimationId=b0}))},e.prototype.update=function(r,t){if(this._width!==r||this._height!==t){if(this._element.style.width="".concat(r,"px"),this._element.style.height="".concat(t,"px"),!this._supportedDevicePixelContentBox){var n=Es(this._element);this._nextPixelWidth=Math.round(r*n),this._nextPixelHeight=Math.round(t*n),this._resetPixelRatio()}}else this._executeListener()},e.prototype.getElement=function(){return this._element},e.prototype.getContext=function(){return this._ctx},e.prototype.destroy=function(){me(this._resizeObserver)&&this._resizeObserver.unobserve(this._element),me(this._mediaQueryList)&&this._mediaQueryList.removeListener(this._mediaQueryListener)},e}(),km=function(e){Ft(r,e);function r(t,n){var i=e.call(this)||this;return i._bounding=sp(),i._cursor="crosshair",i._forceCursor=null,i._pane=n,i._rootContainer=t,i._container=i.createContainer(),t.appendChild(i._container),i}return r.prototype.setBounding=function(t){return pn(this._bounding,t),this},r.prototype.getContainer=function(){return this._container},r.prototype.getBounding=function(){return this._bounding},r.prototype.getPane=function(){return this._pane},r.prototype.checkEventOn=function(t){return!0},r.prototype.setCursor=function(t){cr(this._forceCursor)||t!==this._cursor&&(this._cursor=t,this._container.style.cursor=this._cursor)},r.prototype.setForceCursor=function(t){var n;t!==this._forceCursor&&(this._forceCursor=t,this._container.style.cursor=(n=this._forceCursor)!==null&&n!==void 0?n:this._cursor)},r.prototype.getForceCursor=function(){return this._forceCursor},r.prototype.update=function(t){this.updateImp(this._container,this._bounding,t??3)},r.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},r}(Pg),Fg=function(e){Ft(r,e);function r(t,n){var i=e.call(this,t,n)||this;i._mainCanvas=new n2({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){i.updateMain(i._mainCanvas.getContext())}),i._overlayCanvas=new n2({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){i.updateOverlay(i._overlayCanvas.getContext())});var o=i.getContainer();return o.appendChild(i._mainCanvas.getElement()),o.appendChild(i._overlayCanvas.getElement()),i}return r.prototype.createContainer=function(){return Nl("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},r.prototype.updateImp=function(t,n,i){var o=n.width,s=n.height,u=n.left;t.style.left="".concat(u,"px");var d=i,h=t.clientWidth,f=t.clientHeight;switch((o!==h||s!==f)&&(t.style.width="".concat(o,"px"),t.style.height="".concat(s,"px"),d=3),d){case 0:{this._mainCanvas.update(o,s);break}case 1:{this._overlayCanvas.update(o,s);break}case 3:case 4:{this._mainCanvas.update(o,s),this._overlayCanvas.update(o,s);break}}},r.prototype.destroy=function(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=Nl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),u=s.getContext("2d"),d=Es(s);return s.width=i*d,s.height=o*d,u.scale(d,d),u.drawImage(this._mainCanvas.getElement(),0,0,i,o),t&&u.drawImage(this._overlayCanvas.getElement(),0,0,i,o),s},r}(km);function Sm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.x,h=u.y,f=u.r,v=e.x-d,m=e.y-h;if(!(v*v+m*m>f*f))return!0}}catch(C){t={error:C}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function v8(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?"fill":i,s=t.color,u=s===void 0?"currentColor":s,d=t.borderSize,h=d===void 0?1:d,f=t.borderColor,v=f===void 0?"currentColor":f,m=t.borderStyle,C=m===void 0?"solid":m,b=t.borderDashedValue,_=b===void 0?[2,2]:b,k=(o==="fill"||t.style==="stroke_fill")&&(!cr(u)||!M0(u));k&&(e.fillStyle=u,n.forEach(function(S){var T=S.x,I=S.y,P=S.r;e.beginPath(),e.arc(T,I,P,0,Math.PI*2),e.closePath(),e.fill()})),(o==="stroke"||t.style==="stroke_fill")&&h>0&&!M0(v)&&(e.strokeStyle=v,e.lineWidth=h,C==="dashed"?e.setLineDash(_):e.setLineDash([]),n.forEach(function(S){var T=S.x,I=S.y,P=S.r;(!k||P>h)&&(e.beginPath(),e.arc(T,I,P,0,Math.PI*2),e.closePath(),e.stroke())}))}var m8={name:"circle",checkEventOn:Sm,draw:function(e,r,t){v8(e,r,t)}};function Mm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){for(var u=s.value,d=!1,h=u.coordinates,f=0,v=h.length-1;f<h.length;v=f++)h[f].y>e.y!=h[v].y>e.y&&e.x<(h[v].x-h[f].x)*(e.y-h[f].y)/(h[v].y-h[f].y)+h[f].x&&(d=!d);if(d)return!0}}catch(m){t={error:m}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function y8(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?"fill":i,s=t.color,u=s===void 0?"currentColor":s,d=t.borderSize,h=d===void 0?1:d,f=t.borderColor,v=f===void 0?"currentColor":f,m=t.borderStyle,C=m===void 0?"solid":m,b=t.borderDashedValue,_=b===void 0?[2,2]:b;(o==="fill"||t.style==="stroke_fill")&&(!cr(u)||!M0(u))&&(e.fillStyle=u,n.forEach(function(k){var S=k.coordinates;e.beginPath(),e.moveTo(S[0].x,S[0].y);for(var T=1;T<S.length;T++)e.lineTo(S[T].x,S[T].y);e.closePath(),e.fill()})),(o==="stroke"||t.style==="stroke_fill")&&h>0&&!M0(v)&&(e.strokeStyle=v,e.lineWidth=h,C==="dashed"?e.setLineDash(_):e.setLineDash([]),n.forEach(function(k){var S=k.coordinates;e.beginPath(),e.moveTo(S[0].x,S[0].y);for(var T=1;T<S.length;T++)e.lineTo(S[T].x,S[T].y);e.closePath(),e.stroke()}))}var x8={name:"polygon",checkEventOn:Mm,draw:function(e,r,t){y8(e,r,t)}};function Rg(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){var u=s.value,d=u.x,h=u.width;h<On*2&&(d-=On,h=On*2);var f=u.y,v=u.height;if(v<On*2&&(f-=On,v=On*2),e.x>=d&&e.x<=d+h&&e.y>=f&&e.y<=f+v)return!0}}catch(m){t={error:m}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function Em(e,r,t){var n,i=[];i=i.concat(r);var o=t.style,s=o===void 0?"fill":o,u=t.color,d=u===void 0?"transparent":u,h=t.borderSize,f=h===void 0?1:h,v=t.borderColor,m=v===void 0?"transparent":v,C=t.borderStyle,b=C===void 0?"solid":C,_=t.borderRadius,k=_===void 0?0:_,S=t.borderDashedValue,T=S===void 0?[2,2]:S,I=(n=e.roundRect)!==null&&n!==void 0?n:e.rect,P=(s==="fill"||t.style==="stroke_fill")&&(!cr(d)||!M0(d));if(P&&(e.fillStyle=d,i.forEach(function(R){var V=R.x,$=R.y,W=R.width,te=R.height;e.beginPath(),I.call(e,V,$,W,te,k),e.closePath(),e.fill()})),(s==="stroke"||t.style==="stroke_fill")&&f>0&&!M0(m)){e.strokeStyle=m,e.fillStyle=m,e.lineWidth=f,b==="dashed"?e.setLineDash(T):e.setLineDash([]);var L=f%2===1?.5:0,z=Math.round(L*2);i.forEach(function(R){var V=R.x,$=R.y,W=R.width,te=R.height;W>f*2&&te>f*2?(e.beginPath(),I.call(e,V+L,$+L,W-z,te-z,k),e.closePath(),e.stroke()):P||e.fillRect(V,$,W,te)})}}var C8={name:"rect",checkEventOn:Rg,draw:function(e,r,t){Em(e,r,t)}};function Tm(e,r){var t=r.size,n=t===void 0?12:t,i=r.paddingLeft,o=i===void 0?0:i,s=r.paddingTop,u=s===void 0?0:s,d=r.paddingRight,h=d===void 0?0:d,f=r.paddingBottom,v=f===void 0?0:f,m=r.weight,C=m===void 0?"normal":m,b=r.family,_=e.x,k=e.y,S=e.text,T=e.align,I=T===void 0?"left":T,P=e.baseline,L=P===void 0?"top":P,z=e.width,R=e.height,V=z??o+no(S,n,C,b)+h,$=R??u+n+v,W=0;switch(I){case"left":case"start":{W=_;break}case"right":case"end":{W=_-V;break}default:{W=_-V/2;break}}var te=0;switch(L){case"top":case"hanging":{te=k;break}case"bottom":case"ideographic":case"alphabetic":{te=k-$;break}default:{te=k-$/2;break}}return{x:W,y:te,width:V,height:$}}function Im(e,r,t){var n,i,o=[];o=o.concat(r);try{for(var s=oo(o),u=s.next();!u.done;u=s.next()){var d=u.value,h=Tm(d,t),f=h.x,v=h.y,m=h.width,C=h.height;if(e.x>=f&&e.x<=f+m&&e.y>=v&&e.y<=v+C)return!0}}catch(b){n={error:b}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1}function b8(e,r,t){var n=[];n=n.concat(r);var i=t.color,o=i===void 0?"currentColor":i,s=t.size,u=s===void 0?12:s,d=t.family,h=t.weight,f=t.paddingLeft,v=f===void 0?0:f,m=t.paddingTop,C=m===void 0?0:m,b=t.paddingRight,_=b===void 0?0:b,k=n.map(function(S){return Tm(S,t)});Em(e,k,Ke(Ke({},t),{color:t.backgroundColor})),e.textAlign="left",e.textBaseline="top",e.font=Rc(u,h,d),e.fillStyle=o,n.forEach(function(S,T){var I=k[T];e.fillText(S.text,I.x+v,I.y+C,I.width-v-_)})}var w8={name:"text",checkEventOn:Im,draw:function(e,r,t){b8(e,r,t)}};function _8(e,r){var t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)}function Lm(e,r){var t,n,i=[];i=i.concat(r);try{for(var o=oo(i),s=o.next();!s.done;s=o.next()){var u=s.value;if(Math.abs(_8(e,u)-u.r)<On){var d=u.r,h=u.startAngle,f=u.endAngle,v=d*Math.cos(h)+u.x,m=d*Math.sin(h)+u.y,C=d*Math.cos(f)+u.x,b=d*Math.sin(f)+u.y;if(e.x<=Math.max(v,C)+On&&e.x>=Math.min(v,C)-On&&e.y<=Math.max(m,b)+On&&e.y>=Math.min(m,b)-On)return!0}}}catch(_){t={error:_}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return!1}function k8(e,r,t){var n=[];n=n.concat(r);var i=t.style,o=i===void 0?"solid":i,s=t.size,u=s===void 0?1:s,d=t.color,h=d===void 0?"currentColor":d,f=t.dashedValue,v=f===void 0?[2,2]:f;e.lineWidth=u,e.strokeStyle=h,o==="dashed"?e.setLineDash(v):e.setLineDash([]),n.forEach(function(m){var C=m.x,b=m.y,_=m.r,k=m.startAngle,S=m.endAngle;e.beginPath(),e.arc(C,b,_,k,S),e.stroke(),e.closePath()})}var S8={name:"arc",checkEventOn:Lm,draw:function(e,r,t){k8(e,r,t)}};function i2(e,r,t,n,i,o,s){var u=k1(n,7),d=u[0],h=u[1],f=u[2],v=u[3],m=u[4],C=u[5],b=u[6],_=s?r+C:C+i,k=s?t+b:b+o,S=M8(r,t,d,h,f,v,m,_,k);S.forEach(function(T){e.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5])})}function M8(e,r,t,n,i,o,s,u,d){for(var h=E8(e,r,t,n,i,o,s,u,d),f=h.cx,v=h.cy,m=h.startAngle,C=h.deltaAngle,b=[],_=Math.ceil(Math.abs(C)/(Math.PI/2)),k=0;k<_;k++){var S=m+k*C/_,T=m+(k+1)*C/_,I=T8(f,v,t,n,i,S,T);b.push(I)}return b}function E8(e,r,t,n,i,o,s,u,d){var h=i*Math.PI/180,f=(e-u)/2,v=(r-d)/2,m=Math.cos(h)*f+Math.sin(h)*v,C=-Math.sin(h)*f+Math.cos(h)*v,b=Math.pow(m,2)/Math.pow(t,2)+Math.pow(C,2)/Math.pow(n,2);b>1&&(t*=Math.sqrt(b),n*=Math.sqrt(b));var _=o===s?-1:1,k=Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(C,2)-Math.pow(n,2)*Math.pow(m,2),S=Math.pow(t,2)*Math.pow(C,2)+Math.pow(n,2)*Math.pow(m,2),T=_*Math.sqrt(Math.abs(k/S))*(t*C/n),I=_*Math.sqrt(Math.abs(k/S))*(-n*m/t),P=Math.cos(h)*T-Math.sin(h)*I+(e+u)/2,L=Math.sin(h)*T+Math.cos(h)*I+(r+d)/2,z=Math.atan2((C-I)/n,(m-T)/t),R=Math.atan2((-C-I)/n,(-m-T)/t)-z;return R<0&&s===1?R+=2*Math.PI:R>0&&s===0&&(R-=2*Math.PI),{cx:P,cy:L,startAngle:z,deltaAngle:R}}function T8(e,r,t,n,i,o,s){var u=Math.sin(s-o)*(Math.sqrt(4+3*Math.pow(Math.tan((s-o)/2),2))-1)/3,d=Math.cos(i),h=Math.sin(i),f=e+t*Math.cos(o)*d-n*Math.sin(o)*h,v=r+t*Math.cos(o)*h+n*Math.sin(o)*d,m=e+t*Math.cos(s)*d-n*Math.sin(s)*h,C=r+t*Math.cos(s)*h+n*Math.sin(s)*d,b=f+u*(-t*Math.sin(o)*d-n*Math.cos(o)*h),_=v+u*(-t*Math.sin(o)*h+n*Math.cos(o)*d),k=m-u*(-t*Math.sin(s)*d-n*Math.cos(s)*h),S=C-u*(-t*Math.sin(s)*h+n*Math.cos(s)*d);return[b,_,k,S,m,C]}function I8(e,r,t){var n=[];n=n.concat(r);var i=t.lineWidth,o=i===void 0?1:i,s=t.color,u=s===void 0?"currentColor":s;e.lineWidth=o,e.strokeStyle=u,e.setLineDash([]),n.forEach(function(d){var h=d.x,f=d.y,v=d.path,m=v.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi);if(me(m)){var C=h,b=f;e.beginPath(),m.forEach(function(_){var k=0,S=0,T=0,I=0,P=_[0],L=_.slice(1).trim().split(/[\s,]+/).map(Number);switch(P){case"M":k=L[0]+C,S=L[1]+b,e.moveTo(k,S),T=k,I=S;break;case"m":k+=L[0],S+=L[1],e.moveTo(k,S),T=k,I=S;break;case"L":k=L[0]+C,S=L[1]+b,e.lineTo(k,S);break;case"l":k+=L[0],S+=L[1],e.lineTo(k,S);break;case"H":k=L[0]+C,e.lineTo(k,S);break;case"h":k+=L[0],e.lineTo(k,S);break;case"V":S=L[0]+b,e.lineTo(k,S);break;case"v":S+=L[0],e.lineTo(k,S);break;case"C":e.bezierCurveTo(L[0]+C,L[1]+b,L[2]+C,L[3]+b,L[4]+C,L[5]+b),k=L[4]+C,S=L[5]+b;break;case"c":e.bezierCurveTo(k+L[0],S+L[1],k+L[2],S+L[3],k+L[4],S+L[5]),k+=L[4],S+=L[5];break;case"S":e.bezierCurveTo(k,S,L[0]+C,L[1]+b,L[2]+C,L[3]+b),k=L[2]+C,S=L[3]+b;break;case"s":e.bezierCurveTo(k,S,k+L[0],S+L[1],k+L[2],S+L[3]),k+=L[2],S+=L[3];break;case"Q":e.quadraticCurveTo(L[0]+C,L[1]+b,L[2]+C,L[3]+b),k=L[2]+C,S=L[3]+b;break;case"q":e.quadraticCurveTo(k+L[0],S+L[1],k+L[2],S+L[3]),k+=L[2],S+=L[3];break;case"T":e.quadraticCurveTo(k,S,L[0]+C,L[1]+b),k=L[0]+C,S=L[1]+b;break;case"t":e.quadraticCurveTo(k,S,k+L[0],S+L[1]),k+=L[0],S+=L[1];break;case"A":i2(e,k,S,L,C,b,!1),k=L[5]+C,S=L[6]+b;break;case"a":i2(e,k,S,L,C,b,!0),k+=L[5],S+=L[6];break;case"Z":case"z":e.closePath(),k=T,S=I;break}}),t.style==="fill"?e.fill():e.stroke()}})}var L8={name:"path",checkEventOn:Rg,draw:function(e,r,t){I8(e,r,t)}},Og={},P8=[m8,Y6,x8,C8,w8,S8,L8];P8.forEach(function(e){Og[e.name]=U6.extend(e)});function A8(e){var r;return(r=Og[e])!==null&&r!==void 0?r:null}function E0(e){var r;return(r=Og[e])!==null&&r!==void 0?r:null}var Aa=function(e){Ft(r,e);function r(t){var n=e.call(this)||this;return n._widget=t,n}return r.prototype.getWidget=function(){return this._widget},r.prototype.createFigure=function(t,n){var i=A8(t.name);if(i!==null){var o=new i(t);if(me(n)){for(var s in n)n.hasOwnProperty(s)&&o.registerEvent(s,n[s]);this.addChild(o)}return o}return null},r.prototype.draw=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.clear(),this.drawImp(t,n)},r.prototype.checkEventOn=function(t){return!0},r}(Pg),D8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i,o=this.getWidget(),s=this.getWidget().getPane(),u=s.getChart(),d=o.getBounding(),h=u.getStyles().grid,f=h.show;if(f){t.save(),t.globalCompositeOperation="destination-over";var v=h.horizontal,m=v.show;if(m){var C=s.getAxisComponent(),b=C.getTicks().map(function(T){return{coordinates:[{x:0,y:T.coord},{x:d.width,y:T.coord}]}});(n=this.createFigure({name:"line",attrs:b,styles:v}))===null||n===void 0||n.draw(t)}var _=h.vertical,k=_.show;if(k){var S=u.getXAxisPane().getAxisComponent(),b=S.getTicks().map(function(I){return{coordinates:[{x:I.coord,y:0},{x:I.coord,y:d.height}]}});(i=this.createFigure({name:"line",attrs:b,styles:_}))===null||i===void 0||i.draw(t)}t.restore()}},r}(Aa),Pm=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.eachChildren=function(t){for(var n=this.getWidget().getPane(),i=n.getChart().getChartStore(),o=i.getVisibleRangeDataList(),s=i.getBarSpace(),u=o.length,d=0;d<u;)t(o[d],s,d),++d},r}(Aa),a2=1e-6,Am=function(e){Ft(r,e);function r(){var t=e.apply(this,Mp([],k1(arguments),!1))||this;return t._heikinAshiCache=new Map,t._boundCandleBarClickEvent=function(n){return function(){return t.getWidget().getPane().getChart().getChartStore().executeAction("onCandleBarClick",n),!1}},t}return r.prototype.drawImp=function(t){var n=this,i=this.getWidget().getPane(),o=i.getId()===$t.CANDLE,s=i.getChart().getChartStore(),u=this.getCandleBarOptions();if(u!==null){var d=u.type,h=u.styles,f=0,v=0;if(u.type==="ohlc"){var m=s.getBarSpace().gapBar;f=Math.min(Math.max(Math.round(m*.2),1),8),f>2&&f%2===1&&f--,v=Math.floor(f/2)}u.type!=="heikin_ashi"&&this._heikinAshiCache.clear();var C=i.getAxisComponent();this.eachChildren(function(b,_){var k,S=b.x,T=b.data,I=T.current,P=T.prev;if(me(I)){var L=I.open,z=I.high,R=I.low,V=I.close,$=h.compareRule==="current_open"?L:(k=P==null?void 0:P.close)!==null&&k!==void 0?k:V,W=[];V>$?(W[0]=h.upColor,W[1]=h.upBorderColor,W[2]=h.upWickColor):V<$?(W[0]=h.downColor,W[1]=h.downBorderColor,W[2]=h.downWickColor):(W[0]=h.noChangeColor,W[1]=h.noChangeBorderColor,W[2]=h.noChangeWickColor);var te=C.convertToPixel(L),ue=C.convertToPixel(V),Y=[te,ue,C.convertToPixel(z),C.convertToPixel(R)];Y.sort(function(K,X){return K-X});var Z=_.gapBar%2===0?1:0,q=[];switch(d){case"candle_solid":{q=n._createSolidBar(S,Y,_,W,Z);break}case"candle_stroke":{q=n._createStrokeBar(S,Y,_,W,Z);break}case"candle_up_stroke":{V>L?q=n._createStrokeBar(S,Y,_,W,Z):q=n._createSolidBar(S,Y,_,W,Z);break}case"candle_down_stroke":{L>V?q=n._createStrokeBar(S,Y,_,W,Z):q=n._createSolidBar(S,Y,_,W,Z);break}case"ohlc":{q=[{name:"rect",attrs:[{x:S-v,y:Y[0],width:f,height:Y[3]-Y[0]},{x:S-_.halfGapBar,y:te+f>Y[3]?Y[3]-f:te,width:_.halfGapBar-v,height:f},{x:S+v,y:ue+f>Y[3]?Y[3]-f:ue,width:_.halfGapBar-v,height:f}],styles:{color:W[0]}}];break}case"heikin_ashi":{var G=n._calculateHeikinAshi(b);W=n._getHeikinAshiColors(G.haValues.open,G.haValues.close,L,V,h),q=n._createSolidBar(S,G.priceY,_,W,Z);break}}q.forEach(function(K){var X,J=null;o&&(J={mouseClickEvent:n._boundCandleBarClickEvent(b)}),(X=n.createFigure(K,J??void 0))===null||X===void 0||X.draw(t)})}})}},r.prototype.getCandleBarOptions=function(){var t=this.getWidget().getPane().getChart().getStyles().candle;return{type:t.type,styles:t.bar}},r.prototype._createSolidBar=function(t,n,i,o,s){return[{name:"rect",attrs:{x:t,y:n[0],width:1,height:n[3]-n[0]},styles:{color:o[2]}},{name:"rect",attrs:{x:t-i.halfGapBar,y:n[1],width:i.gapBar+s,height:Math.max(1,n[2]-n[1])},styles:{style:"stroke_fill",color:o[0],borderColor:o[1]}}]},r.prototype._createStrokeBar=function(t,n,i,o,s){return[{name:"rect",attrs:[{x:t,y:n[0],width:1,height:n[1]-n[0]},{x:t,y:n[2],width:1,height:n[3]-n[2]}],styles:{color:o[2]}},{name:"rect",attrs:{x:t-i.halfGapBar,y:n[1],width:i.gapBar+s,height:Math.max(1,n[2]-n[1])},styles:{style:"stroke",borderColor:o[1]}}]},r.prototype._calculateHeikinAshi=function(t){var n=t.data,i=t.dataIndex,o=n.current,s=o.open,u=o.high,d=o.low,h=o.close,f=this._heikinAshiCache.get(i);if(f!==void 0){var v=this.getWidget().getPane().getAxisComponent(),m=[v.convertToPixel(f.open),v.convertToPixel(f.close),v.convertToPixel(f.high),v.convertToPixel(f.low)];return m.sort(function(z,R){return z-R}),{priceY:m,haValues:f}}var C=(s+u+d+h)/4,b=0;if(i>0){var _=this._getHeikinAshiValues(i-1);if(_!==null)b=(_.open+_.close)/2;else{var k=this.getPreviousData(i);k!==null?b=(k.open+k.close)/2:b=s}}else b=(s+h)/2;var S=Math.max(u,b,C),T=Math.min(d,b,C),I={open:b,high:S,low:T,close:C};this._heikinAshiCache.set(i,I);var P=this.getWidget().getPane().getAxisComponent(),L=[P.convertToPixel(b),P.convertToPixel(C),P.convertToPixel(S),P.convertToPixel(T)];return L.sort(function(z,R){return z-R}),{priceY:L,haValues:I}},r.prototype._getHeikinAshiValues=function(t){var n=this._heikinAshiCache.get(t);if(n!==void 0)return n;var i=this.getWidget().getPane().getChart().getChartStore().getDataList();if(t<0||t>=i.length)return null;var o=i[t],s=null;t>0&&(s=this._getHeikinAshiValues(t-1));var u=o.open,d=o.high,h=o.low,f=o.close,v=(u+d+h+f)/4,m=0;s!==null?m=(s.open+s.close)/2:m=(u+f)/2;var C=Math.max(d,m,v),b=Math.min(h,m,v),_={open:m,high:C,low:b,close:v};return this._heikinAshiCache.set(t,_),_},r.prototype.getPreviousData=function(t){var n=this.getWidget().getPane(),i=n.getChart().getChartStore(),o=i.getDataList();return t<=0||t>=o.length?null:t>0&&t<o.length?o[t-1]:null},r.prototype._getHeikinAshiColors=function(t,n,i,o,s){var u=[],d=n-t;return d>a2?(u[0]=s.upColor,u[1]=s.upBorderColor,u[2]=s.upWickColor):d<-a2?(u[0]=s.downColor,u[1]=s.downBorderColor,u[2]=s.downWickColor):o>i?(u[0]=s.upColor,u[1]=s.upBorderColor,u[2]=s.upWickColor):o<i?(u[0]=s.downColor,u[1]=s.downBorderColor,u[2]=s.downWickColor):(u[0]=s.noChangeColor,u[1]=s.noChangeBorderColor,u[2]=s.noChangeWickColor),u},r}(Pm),F8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getCandleBarOptions=function(){var t,n,i=this.getWidget().getPane(),o=i.getAxisComponent();if(!o.isInCandle()){var s=i.getChart().getChartStore(),u=s.getIndicatorsByPaneId(i.getId());try{for(var d=oo(u),h=d.next();!h.done;h=d.next()){var f=h.value;if(f.shouldOhlc&&f.visible){var v=f.styles,m=s.getStyles().indicator,C=_n(v,"ohlc.compareRule",m.ohlc.compareRule),b=_n(v,"ohlc.upColor",m.ohlc.upColor),_=_n(v,"ohlc.downColor",m.ohlc.downColor),k=_n(v,"ohlc.noChangeColor",m.ohlc.noChangeColor);return{type:"ohlc",styles:{compareRule:C,upColor:b,downColor:_,noChangeColor:k,upBorderColor:b,downBorderColor:_,noChangeBorderColor:k,upWickColor:b,downWickColor:_,noChangeWickColor:k}}}}}catch(S){t={error:S}}finally{try{h&&!h.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}return null},r.prototype.drawImp=function(t){var n=this;e.prototype.drawImp.call(this,t);var i=this.getWidget(),o=i.getPane(),s=o.getChart(),u=i.getBounding(),d=s.getXAxisPane().getAxisComponent(),h=o.getAxisComponent(),f=s.getChartStore(),v=f.getIndicatorsByPaneId(o.getId()),m=f.getStyles().indicator;t.save(),v.forEach(function(C){if(C.visible){C.zLevel<0?t.globalCompositeOperation="destination-over":t.globalCompositeOperation="source-over";var b=!1;if(C.draw!==null&&(t.save(),b=C.draw({ctx:t,chart:s,indicator:C,bounding:u,xAxis:d,yAxis:h}),t.restore()),!b){var _=C.result,k=[];n.eachChildren(function(S,T){var I,P,L,z,R,V,$,W,te,ue,Y,Z,q,G,K,X=T.halfGapBar,J=S.dataIndex,ee=S.x,H=S.data,ie=d.convertToPixel(J-1),xe=d.convertToPixel(J+1),Le=(L=_[(P=(I=H.prev)===null||I===void 0?void 0:I.timestamp)!==null&&P!==void 0?P:""])!==null&&L!==void 0?L:{},Pe=(V=_[(R=(z=H.current)===null||z===void 0?void 0:z.timestamp)!==null&&R!==void 0?R:""])!==null&&V!==void 0?V:{},be=(te=_[(W=($=H.next)===null||$===void 0?void 0:$.timestamp)!==null&&W!==void 0?W:""])!==null&&te!==void 0?te:{},He={x:ie},Ae={x:ee},Ne={x:xe};C.figures.forEach(function(ve){var Te=ve.key,Oe=Le[Te];ut(Oe)&&(He[Te]=h.convertToPixel(Oe));var Ze=Pe[Te];ut(Ze)&&(Ae[Te]=h.convertToPixel(Ze));var Me=be[Te];ut(Me)&&(Ne[Te]=h.convertToPixel(Me))}),Ig(C,{prev:(Y=(ue=H.prev)===null||ue===void 0?void 0:ue.timestamp)!==null&&Y!==void 0?Y:null,current:(q=(Z=H.current)===null||Z===void 0?void 0:Z.timestamp)!==null&&q!==void 0?q:null,next:(K=(G=H.next)===null||G===void 0?void 0:G.timestamp)!==null&&K!==void 0?K:null},m,function(ve,Te,Oe){var Ze,Me,nt;if(me(Pe[ve.key])){var lt=Ae[ve.key],Be=(Ze=ve.attrs)===null||Ze===void 0?void 0:Ze.call(ve,{data:{prev:Le,current:Pe,next:be},coordinate:{prev:He,current:Ae,next:Ne},bounding:u,barSpace:T,xAxis:d,yAxis:h});if(!me(Be))switch(ve.type){case"circle":{Be={x:ee,y:lt,r:Math.max(1,X)};break}case"rect":case"bar":{var yt=(Me=ve.baseValue)!==null&&Me!==void 0?Me:h.getRange().from,Bt=h.convertToPixel(yt),Ot=Math.abs(Bt-lt);yt!==Pe[ve.key]&&(Ot=Math.max(1,Ot));var st=0;lt>Bt?st=Bt:st=lt,Be={x:ee-X,y:st,width:Math.max(1,X*2),height:Ot};break}case"line":{me(k[Oe])||(k[Oe]=[]),ut(Ae[ve.key])&&ut(Ne[ve.key])&&k[Oe].push({coordinates:[{x:Ae.x,y:Ae[ve.key]},{x:Ne.x,y:Ne[ve.key]}],styles:Te});break}}var lr=ve.type;me(Be)&&lr!=="line"&&((nt=n.createFigure({name:lr==="bar"?"rect":lr,attrs:Be,styles:Te}))===null||nt===void 0||nt.draw(t))}})}),k.forEach(function(S){var T,I,P,L;if(S.length>1){for(var z=[{coordinates:[S[0].coordinates[0],S[0].coordinates[1]],styles:S[0].styles}],R=1;R<S.length;R++){var V=z[z.length-1],$=S[R],W=V.coordinates[V.coordinates.length-1];W.x===$.coordinates[0].x&&W.y===$.coordinates[0].y&&V.styles.style===$.styles.style&&V.styles.color===$.styles.color&&V.styles.size===$.styles.size&&V.styles.smooth===$.styles.smooth&&((T=V.styles.dashedValue)===null||T===void 0?void 0:T[0])===((I=$.styles.dashedValue)===null||I===void 0?void 0:I[0])&&((P=V.styles.dashedValue)===null||P===void 0?void 0:P[1])===((L=$.styles.dashedValue)===null||L===void 0?void 0:L[1])?V.coordinates.push($.coordinates[1]):z.push({coordinates:[$.coordinates[0],$.coordinates[1]],styles:$.styles})}z.forEach(function(te){var ue,Y=te.coordinates,Z=te.styles;(ue=n.createFigure({name:"line",attrs:{coordinates:Y},styles:Z}))===null||ue===void 0||ue.draw(t)})}})}}}),t.restore()},r}(Am),R8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane(),o=n.getBounding(),s=n.getPane().getChart().getChartStore(),u=s.getCrosshair(),d=s.getStyles().crosshair;if(cr(u.paneId)&&d.show){if(u.paneId===i.getId()){var h=u.y;this._drawLine(t,[{x:0,y:h},{x:o.width,y:h}],d.horizontal)}var f=u.realX;this._drawLine(t,[{x:f,y:0},{x:f,y:o.height}],d.vertical)}},r.prototype._drawLine=function(t,n,i){var o;if(i.show){var s=i.line;s.show&&((o=this.createFigure({name:"line",attrs:{coordinates:n},styles:s}))===null||o===void 0||o.draw(t))}},r}(Aa),Dm=function(e){Ft(r,e);function r(t){var n=e.call(this,t)||this;return n._activeFeatureInfo=null,n._featureClickEvent=function(i,o){return function(){var s=n.getWidget().getPane();return s.getChart().getChartStore().executeAction(i,o),!0}},n._featureMouseMoveEvent=function(i){return function(){return n._activeFeatureInfo=i,!0}},n.registerEvent("mouseMoveEvent",function(i){return n._activeFeatureInfo=null,!1}),n}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane(),o=i.getChart().getChartStore(),s=o.getCrosshair();if(me(s.kLineData)){var u=n.getBounding(),d=o.getStyles().indicator.tooltip,h=d.offsetLeft,f=d.offsetTop,v=d.offsetRight;this.drawIndicatorTooltip(t,h,f,u.width-v)}},r.prototype.drawIndicatorTooltip=function(t,n,i,o){var s=this,u=this.getWidget().getPane(),d=u.getChart().getChartStore(),h=d.getStyles().indicator,f=h.tooltip;if(this.isDrawTooltip(d.getCrosshair(),f)){var v=d.getIndicatorsByPaneId(u.getId()),m=f.title,C=f.legend;v.forEach(function(b){var _=0,k={x:n,y:i},S=s.getIndicatorTooltipData(b),T=S.name,I=S.calcParamsText,P=S.legends,L=S.features,z=T.length>0,R=P.length>0;if(z||R){var V=s.classifyTooltipFeatures(L);if(_=s.drawStandardTooltipFeatures(t,V[0],k,b,n,_,o),z){var $=T;I.length>0&&($="".concat($).concat(I));var W=m.color;_=s.drawStandardTooltipLegends(t,[{title:{text:"",color:W},value:{text:$,color:W}}],k,n,_,o,m)}_=s.drawStandardTooltipFeatures(t,V[1],k,b,n,_,o),R&&(_=s.drawStandardTooltipLegends(t,P,k,n,_,o,C)),_=s.drawStandardTooltipFeatures(t,V[2],k,b,n,_,o),i=k.y+_}})}return i},r.prototype.drawStandardTooltipFeatures=function(t,n,i,o,s,u,d){var h=this;if(n.length>0){var f=0,v=0;n.forEach(function(b){var _=b.marginLeft,k=_===void 0?0:_,S=b.marginTop,T=S===void 0?0:S,I=b.marginRight,P=I===void 0?0:I,L=b.marginBottom,z=L===void 0?0:L,R=b.paddingLeft,V=R===void 0?0:R,$=b.paddingTop,W=$===void 0?0:$,te=b.paddingRight,ue=te===void 0?0:te,Y=b.paddingBottom,Z=Y===void 0?0:Y,q=b.size,G=q===void 0?0:q,K=b.type,X=b.content,J=0;if(K==="icon_font"){var ee=X;t.font=Rc(G,"normal",ee.family),J=t.measureText(ee.code).width}else J=G;f+=k+V+J+ue+P,v=Math.max(v,T+W+G+Z+z)}),i.x+f>d?(i.x=s,i.y+=u,u=v):u=Math.max(u,v);var m=this.getWidget().getPane(),C=m.getId();n.forEach(function(b){var _,k,S,T,I,P=b.marginLeft,L=P===void 0?0:P,z=b.marginTop,R=z===void 0?0:z,V=b.marginRight,$=V===void 0?0:V,W=b.paddingLeft,te=W===void 0?0:W,ue=b.paddingTop,Y=ue===void 0?0:ue,Z=b.paddingRight,q=Z===void 0?0:Z,G=b.paddingBottom,K=G===void 0?0:G,X=b.backgroundColor,J=b.activeBackgroundColor,ee=b.borderRadius,H=b.size,ie=H===void 0?0:H,xe=b.color,Le=b.activeColor,Pe=b.type,be=b.content,He=xe,Ae=X;((_=h._activeFeatureInfo)===null||_===void 0?void 0:_.paneId)===C&&((k=h._activeFeatureInfo.indicator)===null||k===void 0?void 0:k.id)===(o==null?void 0:o.id)&&h._activeFeatureInfo.feature.id===b.id&&(He=Le??xe,Ae=J??X);var Ne="onCandleTooltipFeatureClick",ve={paneId:C,feature:b};me(o)&&(Ne="onIndicatorTooltipFeatureClick",ve.indicator=o);var Te={mouseClickEvent:h._featureClickEvent(Ne,ve),mouseMoveEvent:h._featureMouseMoveEvent(ve)},Oe=0;if(Pe==="icon_font"){var Ze=be;(S=h.createFigure({name:"text",attrs:{text:Ze.code,x:i.x+L,y:i.y+R},styles:{paddingLeft:te,paddingTop:Y,paddingRight:q,paddingBottom:K,borderRadius:ee,size:ie,family:Ze.family,color:He,backgroundColor:Ae}},Te))===null||S===void 0||S.draw(t),Oe=t.measureText(Ze.code).width}else{(T=h.createFigure({name:"rect",attrs:{x:i.x+L,y:i.y+R,width:ie,height:ie},styles:{paddingLeft:te,paddingTop:Y,paddingRight:q,paddingBottom:K,color:Ae}},Te))===null||T===void 0||T.draw(t);var Me=be;(I=h.createFigure({name:"path",attrs:{path:Me.path,x:i.x+L+te,y:i.y+R+Y,width:ie,height:ie},styles:{style:Me.style,lineWidth:Me.lineWidth,color:He}}))===null||I===void 0||I.draw(t),Oe=ie}i.x+=L+te+Oe+q+$})}return u},r.prototype.drawStandardTooltipLegends=function(t,n,i,o,s,u,d){var h=this;if(n.length>0){var f=d.marginLeft,v=d.marginTop,m=d.marginRight,C=d.marginBottom,b=d.size,_=d.family,k=d.weight;t.font=Rc(b,k,_),n.forEach(function(S){var T,I,P=S.title,L=S.value,z=t.measureText(P.text).width,R=t.measureText(L.text).width,V=z+R,$=v+b+C;i.x+f+V+m>u?(i.x=o,i.y+=s,s=$):s=Math.max(s,$),P.text.length>0&&((T=h.createFigure({name:"text",attrs:{x:i.x+f,y:i.y+v,text:P.text},styles:{color:P.color,size:b,family:_,weight:k}}))===null||T===void 0||T.draw(t)),(I=h.createFigure({name:"text",attrs:{x:i.x+f+z,y:i.y+v,text:L.text},styles:{color:L.color,size:b,family:_,weight:k}}))===null||I===void 0||I.draw(t),i.x+=f+V+m})}return s},r.prototype.isDrawTooltip=function(t,n){var i=n.showRule;return i==="always"||i==="follow_cross"&&cr(t.paneId)},r.prototype.getIndicatorTooltipData=function(t){var n,i,o,s=this.getWidget().getPane().getChart().getChartStore(),u=s.getStyles().indicator,d=u.tooltip,h=d.title,f="",v="";if(h.show&&(h.showName&&(f=t.shortName),h.showParams)){var m=t.calcParams;m.length>0&&(v="(".concat(m.join(","),")"))}var C={name:f,calcParamsText:v,legends:[],features:d.features},b=s.getCrosshair().dataIndex,_=t.result,k=s.getInnerFormatter(),S=s.getDecimalFold(),T=s.getThousandsSeparator(),I=[];if(t.visible){var P=s.getDataList(),L=(n=P[b])!==null&&n!==void 0?n:{},z=(i=P[b-1])!==null&&i!==void 0?i:{},R=_[L.timestamp];!me(R)&&b===P.length-1&&(R=_[z.timestamp]);var V=d.legend.defaultValue;Ig(t,{prev:z.timestamp,current:L.timestamp,next:(o=P[b])===null||o===void 0?void 0:o.timestamp},u,function(J,ee){if(cr(J.title)){var H=ee.color,ie=R==null?void 0:R[J.key];ut(ie)&&(ie=jn(ie,t.precision),t.shouldFormatBigNumber&&(ie=k.formatBigNumber(ie)),ie=S.format(T.format(ie))),I.push({title:{text:J.title,color:H},value:{text:ie??V,color:H}})}}),C.legends=I}if(si(t.createTooltipDataSource)){var $=this.getWidget(),W=$.getPane(),te=W.getChart(),ue=t.createTooltipDataSource({chart:te,indicator:t,crosshair:s.getCrosshair(),bounding:$.getBounding(),xAxis:W.getChart().getXAxisPane().getAxisComponent(),yAxis:W.getAxisComponent()}),Y=ue.name,Z=ue.calcParamsText,q=ue.legends,G=ue.features;if(h.show&&(cr(Y)&&h.showName&&(C.name=Y),cr(Z)&&h.showParams&&(C.calcParamsText=Z)),me(G)&&(C.features=G),me(q)&&t.visible){var K=[],X=u.tooltip.legend.color;q.forEach(function(J){var ee={text:"",color:X};ro(J.title)?ee=J.title:ee.text=J.title;var H={text:"",color:X};ro(J.value)?H=J.value:H.text=J.value,ut(Number(H.text))&&(H.text=S.format(T.format(H.text))),K.push({title:ee,value:H})}),C.legends=K}}return C},r.prototype.classifyTooltipFeatures=function(t){var n=[],i=[],o=[];return t.forEach(function(s){switch(s.position){case"left":{n.push(s);break}case"middle":{i.push(s);break}case"right":{o.push(s);break}}}),[n,i,o]},r}(Aa),Fm=function(e){Ft(r,e);function r(t){var n=e.call(this,t)||this;return n._initEvent(),n}return r.prototype._initEvent=function(){var t=this,n=this.getWidget(),i=n.getPane(),o=i.getId(),s=i.getChart(),u=s.getChartStore();this.registerEvent("mouseMoveEvent",function(d){var h,f=u.getProgressOverlayInfo();if(f!==null){var v=f.overlay,m=f.paneId;v.isStart()&&(u.updateProgressOverlayInfo(o),m=o);var C=v.points.length-1;return v.isDrawing()&&m===o&&(v.eventMoveForDrawing(t._coordinateToPoint(v,d)),(h=v.onDrawing)===null||h===void 0||h.call(v,Ke({chart:s,overlay:v},d))),t._figureMouseMoveEvent(v,"point",C,{key:"".concat(o0,"point_").concat(C),type:"circle",attrs:{}})(d)}return u.setHoverOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null},function(b,_){return t._processOverlayMouseEnterEvent(b,_,d)},function(b,_){return t._processOverlayMouseLeaveEvent(b,_,d)}),n.setForceCursor(null),!1}).registerEvent("mouseClickEvent",function(d){var h,f,v=u.getProgressOverlayInfo();if(v!==null){var m=v.overlay,C=v.paneId;m.isStart()&&(u.updateProgressOverlayInfo(o,!0),C=o);var b=m.points.length-1;return m.isDrawing()&&C===o&&(m.eventMoveForDrawing(t._coordinateToPoint(m,d)),(h=m.onDrawing)===null||h===void 0||h.call(m,Ke({chart:s,overlay:m},d)),m.nextStep(),m.isDrawing()||(u.progressOverlayComplete(),(f=m.onDrawEnd)===null||f===void 0||f.call(m,Ke({chart:s,overlay:m},d)))),t._figureMouseClickEvent(m,"point",b,{key:"".concat(o0,"point_").concat(b),type:"circle",attrs:{}})(d)}return u.setClickOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null},function(_,k){return t._processOverlaySelectedEvent(_,k,d)},function(_,k){return t._processOverlayDeselectedEvent(_,k,d)}),!1}).registerEvent("mouseDoubleClickEvent",function(d){var h,f=u.getProgressOverlayInfo();if(f!==null){var v=f.overlay,m=f.paneId;v.isDrawing()&&m===o&&(v.forceComplete(),v.isDrawing()||(u.progressOverlayComplete(),(h=v.onDrawEnd)===null||h===void 0||h.call(v,Ke({chart:s,overlay:v},d))));var C=v.points.length-1;return t._figureMouseClickEvent(v,"point",C,{key:"".concat(o0,"point_").concat(C),type:"circle",attrs:{}})(d)}return!1}).registerEvent("mouseRightClickEvent",function(d){var h=u.getProgressOverlayInfo();if(h!==null){var f=h.overlay;if(f.isDrawing()){var v=f.points.length-1;return t._figureMouseRightClickEvent(f,"point",v,{key:"".concat(o0,"point_").concat(v),type:"circle",attrs:{}})(d)}}return!1}).registerEvent("mouseUpEvent",function(d){var h,f=u.getPressedOverlayInfo(),v=f.overlay,m=f.figure;return v!==null&&Ja("onPressedMoveEnd",m)&&((h=v.onPressedMoveEnd)===null||h===void 0||h.call(v,Ke({chart:s,overlay:v,figure:m??void 0},d))),u.setPressedOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null}),!1}).registerEvent("pressedMouseMoveEvent",function(d){var h,f=u.getPressedOverlayInfo(),v=f.overlay,m=f.figureType,C=f.figureIndex,b=f.figure;if(v!==null&&Ja("onPressedMoving",b)){if(!v.lock){var _=t._coordinateToPoint(v,d);m==="point"?v.eventPressedPointMove(_,C):v.eventPressedOtherMove(_,t.getWidget().getPane().getChart().getChartStore());var k=!1;(h=v.onPressedMoving)===null||h===void 0||h.call(v,Ke(Ke({chart:s,overlay:v,figure:b??void 0},d),{preventDefault:function(){k=!0}})),k?t.getWidget().setForceCursor(null):t.getWidget().setForceCursor("pointer")}return!0}return t.getWidget().setForceCursor(null),!1})},r.prototype._createFigureEvents=function(t,n,i,o){return t.isDrawing()?null:{mouseMoveEvent:this._figureMouseMoveEvent(t,n,i,o),mouseDownEvent:this._figureMouseDownEvent(t,n,i,o),mouseClickEvent:this._figureMouseClickEvent(t,n,i,o),mouseRightClickEvent:this._figureMouseRightClickEvent(t,n,i,o),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(t,n,i,o)}},r.prototype._processOverlayMouseEnterEvent=function(t,n,i){return si(t.onMouseEnter)&&Ja("onMouseEnter",n)?(t.onMouseEnter(Ke({chart:this.getWidget().getPane().getChart(),overlay:t,figure:n??void 0},i)),!0):!1},r.prototype._processOverlayMouseLeaveEvent=function(t,n,i){return si(t.onMouseLeave)&&Ja("onMouseLeave",n)?(t.onMouseLeave(Ke({chart:this.getWidget().getPane().getChart(),overlay:t,figure:n??void 0},i)),!0):!1},r.prototype._processOverlaySelectedEvent=function(t,n,i){var o;return Ja("onSelected",n)?((o=t.onSelected)===null||o===void 0||o.call(t,Ke({chart:this.getWidget().getPane().getChart(),overlay:t,figure:n??void 0},i)),!0):!1},r.prototype._processOverlayDeselectedEvent=function(t,n,i){var o;return Ja("onDeselected",n)?((o=t.onDeselected)===null||o===void 0||o.call(t,Ke({chart:this.getWidget().getPane().getChart(),overlay:t,figure:n??void 0},i)),!0):!1},r.prototype._figureMouseMoveEvent=function(t,n,i,o){var s=this;return function(u){var d,h=s.getWidget().getPane(),f=!t.isDrawing()&&Ja("onMouseMove",o);if(f){var v=!1;(d=t.onMouseMove)===null||d===void 0||d.call(t,Ke(Ke({chart:h.getChart(),overlay:t,figure:o},u),{preventDefault:function(){v=!0}})),v?s.getWidget().setForceCursor(null):s.getWidget().setForceCursor("pointer")}return h.getChart().getChartStore().setHoverOverlayInfo({paneId:h.getId(),overlay:t,figureType:n,figure:o,figureIndex:i},function(m,C){return s._processOverlayMouseEnterEvent(m,C,u)},function(m,C){return s._processOverlayMouseLeaveEvent(m,C,u)}),f}},r.prototype._figureMouseDownEvent=function(t,n,i,o){var s=this;return function(u){var d,h=s.getWidget().getPane(),f=h.getId();return t.startPressedMove(s._coordinateToPoint(t,u)),Ja("onPressedMoveStart",o)?((d=t.onPressedMoveStart)===null||d===void 0||d.call(t,Ke({chart:h.getChart(),overlay:t,figure:o},u)),h.getChart().getChartStore().setPressedOverlayInfo({paneId:f,overlay:t,figureType:n,figureIndex:i,figure:o}),!t.isDrawing()):!1}},r.prototype._figureMouseClickEvent=function(t,n,i,o){var s=this;return function(u){var d,h=s.getWidget().getPane(),f=h.getId(),v=!t.isDrawing()&&Ja("onClick",o);return v&&((d=t.onClick)===null||d===void 0||d.call(t,Ke({chart:s.getWidget().getPane().getChart(),overlay:t,figure:o},u))),h.getChart().getChartStore().setClickOverlayInfo({paneId:f,overlay:t,figureType:n,figureIndex:i,figure:o},function(m,C){return s._processOverlaySelectedEvent(m,C,u)},function(m,C){return s._processOverlayDeselectedEvent(m,C,u)}),v}},r.prototype._figureMouseDoubleClickEvent=function(t,n,i,o){var s=this;return function(u){var d;return Ja("onDoubleClick",o)?((d=t.onDoubleClick)===null||d===void 0||d.call(t,Ke(Ke({},u),{chart:s.getWidget().getPane().getChart(),figure:o,overlay:t})),!t.isDrawing()):!1}},r.prototype._figureMouseRightClickEvent=function(t,n,i,o){var s=this;return function(u){var d;if(Ja("onRightClick",o)){var h=!1;return(d=t.onRightClick)===null||d===void 0||d.call(t,Ke(Ke({chart:s.getWidget().getPane().getChart(),overlay:t,figure:o},u),{preventDefault:function(){h=!0}})),h||s.getWidget().getPane().getChart().getChartStore().removeOverlay(t),!t.isDrawing()}return!1}},r.prototype._coordinateToPoint=function(t,n){var i,o={},s=this.getWidget().getPane(),u=s.getChart(),d=s.getId(),h=u.getChartStore();if(this.coordinateToPointTimestampDataIndexFlag()){var f=u.getXAxisPane().getAxisComponent(),v=f.convertFromPixel(n.x),m=(i=h.dataIndexToTimestamp(v))!==null&&i!==void 0?i:void 0;o.timestamp=m,o.dataIndex=v}if(this.coordinateToPointValueFlag()){var C=s.getAxisComponent(),b=C.convertFromPixel(n.y);if(t.mode!=="normal"&&d===$t.CANDLE&&ut(o.dataIndex)){var _=h.getDataByDataIndex(o.dataIndex);if(_!==null){var k=t.modeSensitivity;if(b>_.high)if(t.mode==="weak_magnet"){var S=C.convertToPixel(_.high),T=C.convertFromPixel(S-k);b<T&&(b=_.high)}else b=_.high;else if(b<_.low)if(t.mode==="weak_magnet"){var I=C.convertToPixel(_.low),T=C.convertFromPixel(I-k);b>T&&(b=_.low)}else b=_.low;else{var P=Math.max(_.open,_.close),L=Math.min(_.open,_.close);b>P?b-P<_.high-b?b=P:b=_.high:b<L?b-_.low<L-b?b=_.low:b=L:P-b<b-L?b=P:b=L}}}o.value=b}return o},r.prototype.coordinateToPointValueFlag=function(){return!0},r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},r.prototype.dispatchEvent=function(t,n){return this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()?this.onEvent(t,n):e.prototype.dispatchEvent.call(this,t,n)},r.prototype.drawImp=function(t){var n=this,i=this.getCompleteOverlays();i.forEach(function(s){s.visible&&n._drawOverlay(t,s)});var o=this.getProgressOverlay();me(o)&&o.visible&&this._drawOverlay(t,o)},r.prototype._drawOverlay=function(t,n){var i=n.points,o=this.getWidget().getPane(),s=o.getChart(),u=s.getChartStore(),d=o.getAxisComponent(),h=s.getXAxisPane().getAxisComponent(),f=i.map(function(m){var C,b=null;ut(m.timestamp)&&(b=u.timestampToDataIndex(m.timestamp));var _={x:0,y:0};return ut(b)&&(_.x=h.convertToPixel(b)),ut(m.value)&&(_.y=(C=d==null?void 0:d.convertToPixel(m.value))!==null&&C!==void 0?C:0),_});if(f.length>0){var v=[].concat(this.getFigures(n,f));this.drawFigures(t,n,v)}this.drawDefaultFigures(t,n,f)},r.prototype.drawFigures=function(t,n,i){var o=this,s=this.getWidget().getPane().getChart().getStyles().overlay;i.forEach(function(u,d){var h=u.type,f=u.styles,v=u.attrs,m=[].concat(v);m.forEach(function(C){var b,_,k=o._createFigureEvents(n,"other",d,u),S=Ke(Ke(Ke({},s[h]),(b=n.styles)===null||b===void 0?void 0:b[h]),f);(_=o.createFigure({name:h,attrs:C,styles:S},k??void 0))===null||_===void 0||_.draw(t)})})},r.prototype.getCompleteOverlays=function(){var t=this.getWidget().getPane();return t.getChart().getChartStore().getOverlaysByPaneId(t.getId())},r.prototype.getProgressOverlay=function(){var t=this.getWidget().getPane(),n=t.getChart().getChartStore().getProgressOverlayInfo();return me(n)&&n.paneId===t.getId()?n.overlay:null},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),f=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createPointFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:f,yAxis:h}))!==null&&o!==void 0?o:[]},r.prototype.drawDefaultFigures=function(t,n,i){var o=this,s,u;if(n.needDefaultPointFigure){var d=this.getWidget().getPane().getChart().getChartStore(),h=d.getHoverOverlayInfo(),f=d.getClickOverlayInfo();if(((s=h.overlay)===null||s===void 0?void 0:s.id)===n.id&&h.figureType!=="none"||((u=f.overlay)===null||u===void 0?void 0:u.id)===n.id&&f.figureType!=="none"){var v=d.getStyles().overlay,m=n.styles,C=Ke(Ke({},v.point),m==null?void 0:m.point);i.forEach(function(b,_){var k,S,T,I,P,L=b.x,z=b.y,R=C.radius,V=C.color,$=C.borderColor,W=C.borderSize;((k=h.overlay)===null||k===void 0?void 0:k.id)===n.id&&h.figureType==="point"&&((S=h.figure)===null||S===void 0?void 0:S.key)==="".concat(o0,"point_").concat(_)&&(R=C.activeRadius,V=C.activeColor,$=C.activeBorderColor,W=C.activeBorderSize),(I=o.createFigure({name:"circle",attrs:{x:L,y:z,r:R+W},styles:{color:$}},(T=o._createFigureEvents(n,"point",_,{key:"".concat(o0,"point_").concat(_),type:"circle",attrs:{x:L,y:z,r:R+W},styles:{color:$}}))!==null&&T!==void 0?T:void 0))===null||I===void 0||I.draw(t),(P=o.createFigure({name:"circle",attrs:{x:L,y:z,r:R},styles:{color:V}}))===null||P===void 0||P.draw(t)})}}},r}(Aa),Rm=function(e){Ft(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._gridView=new D8(i),i._indicatorView=new F8(i),i._crosshairLineView=new R8(i),i._tooltipView=i.createTooltipView(),i._overlayView=new Fm(i),i.addChild(i._tooltipView),i.addChild(i._overlayView),i}return r.prototype.getName=function(){return Xt.MAIN},r.prototype.updateMain=function(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t))},r.prototype.createTooltipView=function(){return new Dm(this)},r.prototype.updateMainContent=function(t){},r.prototype.updateOverlayContent=function(t){},r.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t),this.updateOverlayContent(t)),this._tooltipView.draw(t)},r}(Fg),O8=function(e){Ft(r,e);function r(){var t=e.apply(this,Mp([],k1(arguments),!1))||this;return t._ripplePoint=t.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),t._animationFrameTime=0,t._animation=new cg({iterationCount:1/0}).doFrame(function(n){t._animationFrameTime=n;var i=t.getWidget().getPane();i.getChart().updatePane(0,i.getId())}),t}return r.prototype.drawImp=function(t){var n,i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=d.getDataList(),f=h.length-1,v=s.getBounding(),m=u.getAxisComponent(),C=d.getStyles().candle.area,b=[],_=Number.MAX_SAFE_INTEGER,k=Number.MIN_SAFE_INTEGER,S=null;if(this.eachChildren(function(R){var V=R.x,$=R.data.current,W=$==null?void 0:$[C.value];if(ut(W)){var te=m.convertToPixel(W);k===Number.MIN_SAFE_INTEGER&&(k=V),b.push({x:V,y:te}),_=Math.min(_,te),R.dataIndex===f&&(S={x:V,y:te})}}),b.length>0){(n=this.createFigure({name:"line",attrs:{coordinates:b},styles:{color:C.lineColor,size:C.lineSize,smooth:C.smooth}}))===null||n===void 0||n.draw(t);var T=C.backgroundColor,I="";if($o(T)){var P=t.createLinearGradient(0,v.height,0,_);try{T.forEach(function(R){var V=R.offset,$=R.color;P.addColorStop(V,$)})}catch{}I=P}else I=T;t.fillStyle=I,t.beginPath(),t.moveTo(k,v.height),t.lineTo(b[0].x,b[0].y),bm(t,b,C.smooth),t.lineTo(b[b.length-1].x,v.height),t.closePath(),t.fill()}var L=C.point;if(L.show&&me(S)){(i=this.createFigure({name:"circle",attrs:{x:S.x,y:S.y,r:L.radius},styles:{style:"fill",color:L.color}}))===null||i===void 0||i.draw(t);var z=L.rippleRadius;L.animation&&(z=L.radius+this._animationFrameTime/L.animationDuration*(L.rippleRadius-L.radius),this._animation.setDuration(L.animationDuration).start()),(o=this._ripplePoint)===null||o===void 0||o.setAttrs({x:S.x,y:S.y,r:z}).setStyles({style:"fill",color:L.rippleColor}).draw(t)}else this.stopAnimation()},r.prototype.stopAnimation=function(){this._animation.stop()},r}(Pm),N8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i,o=this.getWidget(),s=o.getPane(),u=s.getChart().getChartStore(),d=u.getStyles().candle.priceMark,h=d.high,f=d.low;if(d.show&&(h.show||f.show)){var v=u.getVisibleRangeHighLowPrice(),m=(i=(n=u.getSymbol())===null||n===void 0?void 0:n.pricePrecision)!==null&&i!==void 0?i:2,C=s.getAxisComponent(),b=v[0],_=b.price,k=b.x,S=v[1],T=S.price,I=S.x,P=C.convertToPixel(_),L=C.convertToPixel(T),z=u.getDecimalFold(),R=u.getThousandsSeparator();h.show&&_!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,z.format(R.format(jn(_,m))),{x:k,y:P},P<L?[-2,-5]:[2,5],h),f.show&&T!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,z.format(R.format(jn(T,m))),{x:I,y:L},P<L?[2,5]:[-2,-5],f)}},r.prototype._drawMark=function(t,n,i,o,s){var u,d,h,f=i.x,v=i.y+o[0];(u=this.createFigure({name:"line",attrs:{coordinates:[{x:f-2,y:v+o[0]},{x:f,y:v},{x:f+2,y:v+o[0]}]},styles:{color:s.color}}))===null||u===void 0||u.draw(t);var m=0,C=0,b="left",_=this.getWidget().getBounding().width;f>_/2?(m=f-5,C=m-s.textOffset,b="right"):(m=f+5,b="left",C=m+s.textOffset);var k=v+o[1];(d=this.createFigure({name:"line",attrs:{coordinates:[{x:f,y:v},{x:f,y:k},{x:m,y:k}]},styles:{color:s.color}}))===null||d===void 0||d.draw(t),(h=this.createFigure({name:"text",attrs:{x:C,y:k,text:n,align:b,baseline:"middle"},styles:{color:s.color,size:s.textSize,family:s.textFamily,weight:s.textWeight}}))===null||h===void 0||h.draw(t)},r}(Aa),z8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i,o,s=this.getWidget(),u=s.getPane(),d=s.getBounding(),h=u.getChart().getChartStore(),f=h.getStyles().candle.priceMark,v=f.last,m=v.line;if(f.show&&v.show&&m.show){var C=u.getAxisComponent(),b=h.getDataList(),_=b[b.length-1];if(me(_)){var k=_.close,S=_.open,T=v.compareRule==="current_open"?S:(i=(n=b[b.length-2])===null||n===void 0?void 0:n.close)!==null&&i!==void 0?i:k,I=C.convertToNicePixel(k),P="";k>T?P=v.upColor:k<T?P=v.downColor:P=v.noChangeColor,(o=this.createFigure({name:"line",attrs:{coordinates:[{x:0,y:I},{x:d.width,y:I}]},styles:{style:m.style,color:P,size:m.size,dashedValue:m.dashedValue}}))===null||o===void 0||o.draw(t)}}},r}(Aa),B8={second:"HH:mm:ss",minute:"HH:mm",hour:"MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},Om={second:"HH:mm:ss",minute:"YYYY-MM-DD HH:mm",hour:"YYYY-MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},V8={time:"",open:"",high:"",low:"",close:"",volume:"",turnover:"",change:"",second:"",minute:"",hour:"",day:"",week:"",month:"",year:""},$8={time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: ",second:"S",minute:"",hour:"H",day:"D",week:"W",month:"M",year:"Y"},W8={"zh-CN":V8,"en-US":$8};function o2(e,r){var t;return(t=W8[r][e])!==null&&t!==void 0?t:e}var U8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this.getWidget(),i=n.getPane().getChart().getChartStore(),o=i.getCrosshair();if(me(o.kLineData)){var s=n.getBounding(),u=i.getStyles(),d=u.candle,h=u.indicator;if(d.tooltip.showType==="rect"&&h.tooltip.showType==="rect"){var f=this.isDrawTooltip(o,d.tooltip),v=this.isDrawTooltip(o,h.tooltip);this._drawRectTooltip(t,f,v,d.tooltip.offsetTop)}else if(d.tooltip.showType==="standard"&&h.tooltip.showType==="standard"){var m=d.tooltip,C=m.offsetLeft,b=m.offsetTop,_=m.offsetRight,k=s.width-_,S=this._drawCandleStandardTooltip(t,C,b,k);this.drawIndicatorTooltip(t,C,S,k)}else if(d.tooltip.showType==="rect"&&h.tooltip.showType==="standard"){var T=d.tooltip,C=T.offsetLeft,b=T.offsetTop,_=T.offsetRight,k=s.width-_,I=this.drawIndicatorTooltip(t,C,b,k),f=this.isDrawTooltip(o,d.tooltip);this._drawRectTooltip(t,f,!1,I)}else{var P=d.tooltip,C=P.offsetLeft,b=P.offsetTop,_=P.offsetRight,k=s.width-_,L=this._drawCandleStandardTooltip(t,C,b,k),v=this.isDrawTooltip(o,h.tooltip);this._drawRectTooltip(t,!1,v,L)}}},r.prototype._drawCandleStandardTooltip=function(t,n,i,o){var s,u=this.getWidget().getPane().getChart().getChartStore(),d=u.getStyles().candle,h=d.tooltip,f=h.legend,v=0,m={x:n,y:i},C=u.getCrosshair();if(this.isDrawTooltip(C,h)){var b=h.title;if(b.show){var _=(s=u.getPeriod())!==null&&s!==void 0?s:{},k=_.type,S=k===void 0?"":k,T=_.span,I=T===void 0?"":T,P=jv(b.template,Ke(Ke({},u.getSymbol()),{period:"".concat(I).concat(o2(S,u.getLocale()))})),L=b.color,z=this.drawStandardTooltipLegends(t,[{title:{text:"",color:L},value:{text:P,color:L}}],{x:n,y:i},n,0,o,b);m.y=m.y+z}var R=this._getCandleTooltipLegends(),V=this.classifyTooltipFeatures(h.features);v=this.drawStandardTooltipFeatures(t,V[0],m,null,n,v,o),v=this.drawStandardTooltipFeatures(t,V[1],m,null,n,v,o),R.length>0&&(v=this.drawStandardTooltipLegends(t,R,m,n,v,o,f)),v=this.drawStandardTooltipFeatures(t,V[2],m,null,n,v,o)}return m.y+v},r.prototype._drawRectTooltip=function(t,n,i,o){var s=this,u,d,h=this.getWidget(),f=h.getPane(),v=f.getChart().getChartStore(),m=v.getStyles(),C=m.candle,b=m.indicator,_=C.tooltip,k=b.tooltip;if(n||i){var S=this._getCandleTooltipLegends(),T=_.offsetLeft,I=_.offsetTop,P=_.offsetRight,L=_.offsetBottom,z=_.legend,R=z.marginLeft,V=z.marginRight,$=z.marginTop,W=z.marginBottom,te=z.size,ue=z.weight,Y=z.family,Z=_.rect,q=Z.position,G=Z.paddingLeft,K=Z.paddingRight,X=Z.paddingTop,J=Z.paddingBottom,ee=Z.offsetLeft,H=Z.offsetRight,ie=Z.offsetTop,xe=Z.offsetBottom,Le=Z.borderSize,Pe=Z.borderRadius,be=Z.borderColor,He=Z.color,Ae=0,Ne=0,ve=0;n&&(t.font=Rc(te,ue,Y),S.forEach(function(xt){var wt=xt.title,Ct=xt.value,Wt="".concat(wt.text).concat(Ct.text),Ht=t.measureText(Wt).width+R+V;Ae=Math.max(Ae,Ht)}),ve+=(W+$+te)*S.length);var Te=k.legend,Oe=Te.marginLeft,Ze=Te.marginRight,Me=Te.marginTop,nt=Te.marginBottom,lt=Te.size,Be=Te.weight,yt=Te.family,Bt=[];if(i){var Ot=v.getIndicatorsByPaneId(f.getId());t.font=Rc(lt,Be,yt),Ot.forEach(function(xt){var wt=s.getIndicatorTooltipData(xt).legends;Bt.push(wt),wt.forEach(function(Ct){var Wt=Ct.title,Ht=Ct.value,ur="".concat(Wt.text).concat(Ht.text),At=t.measureText(ur).width+Oe+Ze;Ae=Math.max(Ae,At),ve+=Me+nt+lt})})}if(Ne+=Ae,Ne!==0&&ve!==0){var st=v.getCrosshair(),lr=h.getBounding(),Wr=f.getYAxisWidget().getBounding();Ne+=Le*2+G+K,ve+=Le*2+X+J;var Ur=lr.width/2,ar=q==="pointer"&&st.paneId===$t.CANDLE,Tt=((u=st.realX)!==null&&u!==void 0?u:0)>Ur,Ut=0;if(ar){var Kt=st.realX;Tt?Ut=Kt-H-Ne:Ut=Kt+ee}else{var zr=this.getWidget().getPane().getAxisComponent();Tt?(Ut=ee+T,zr.inside&&zr.position==="left"&&(Ut+=Wr.width)):(Ut=lr.width-H-Ne-P,zr.inside&&zr.position==="right"&&(Ut-=Wr.width))}var or=o+ie;if(ar){var Tr=st.y;or=Tr-ve/2,or+ve>lr.height-xe-L&&(or=lr.height-xe-ve-L),or<o+ie&&(or=o+ie+I)}(d=this.createFigure({name:"rect",attrs:{x:Ut,y:or,width:Ne,height:ve},styles:{style:"stroke_fill",color:He,borderColor:be,borderSize:Le,borderRadius:Pe}}))===null||d===void 0||d.draw(t);var Mt=Ut+Le+G+R,Ve=or+Le+X;if(n&&S.forEach(function(xt){var wt,Ct;Ve+=$;var Wt=xt.title;(wt=s.createFigure({name:"text",attrs:{x:Mt,y:Ve,text:Wt.text},styles:{color:Wt.color,size:te,family:Y,weight:ue}}))===null||wt===void 0||wt.draw(t);var Ht=xt.value;(Ct=s.createFigure({name:"text",attrs:{x:Ut+Ne-Le-V-K,y:Ve,text:Ht.text,align:"right"},styles:{color:Ht.color,size:te,family:Y,weight:ue}}))===null||Ct===void 0||Ct.draw(t),Ve+=te+W}),i){var bt=Ut+Le+G+Oe;Bt.forEach(function(xt){xt.forEach(function(wt){var Ct,Wt;Ve+=Me;var Ht=wt.title,ur=wt.value;(Ct=s.createFigure({name:"text",attrs:{x:bt,y:Ve,text:Ht.text},styles:{color:Ht.color,size:lt,family:yt,weight:Be}}))===null||Ct===void 0||Ct.draw(t),(Wt=s.createFigure({name:"text",attrs:{x:Ut+Ne-Le-Ze-K,y:Ve,text:ur.text,align:"right"},styles:{color:ur.color,size:lt,family:yt,weight:Be}}))===null||Wt===void 0||Wt.draw(t),Ve+=lt+nt})})}}}},r.prototype._getCandleTooltipLegends=function(){var t,n,i,o,s,u,d,h,f=this.getWidget().getPane().getChart().getChartStore(),v=f.getStyles().candle,m=f.getDataList(),C=f.getInnerFormatter(),b=f.getDecimalFold(),_=f.getThousandsSeparator(),k=f.getLocale(),S=(t=f.getSymbol())!==null&&t!==void 0?t:{},T=S.pricePrecision,I=T===void 0?2:T,P=S.volumePrecision,L=P===void 0?0:P,z=f.getPeriod(),R=(n=f.getCrosshair().dataIndex)!==null&&n!==void 0?n:0,V=v.tooltip,$=V.legend,W=$.color,te=$.defaultValue,ue=$.template,Y=(i=m[R-1])!==null&&i!==void 0?i:null,Z=m[R],q=(o=Y==null?void 0:Y.close)!==null&&o!==void 0?o:Z.close,G=Z.close-q,K=Ke(Ke({},Z),{time:C.formatDate(Z.timestamp,Om[(s=z==null?void 0:z.type)!==null&&s!==void 0?s:"day"],"tooltip"),open:b.format(_.format(jn(Z.open,I))),high:b.format(_.format(jn(Z.high,I))),low:b.format(_.format(jn(Z.low,I))),close:b.format(_.format(jn(Z.close,I))),volume:b.format(_.format(C.formatBigNumber(jn((u=Z.volume)!==null&&u!==void 0?u:te,L)))),turnover:b.format(_.format(jn((d=Z.turnover)!==null&&d!==void 0?d:te,I))),change:q===0?te:"".concat(_.format(jn(G/q*100)),"%")}),X=si(ue)?ue({prev:Y,current:Z,next:(h=m[R+1])!==null&&h!==void 0?h:null},v):ue;return X.map(function(J){var ee=J.title,H=J.value,ie={text:"",color:W};ro(ee)?ie=Ke({},ee):ie.text=ee,ie.text=o2(ie.text,k);var xe={text:te,color:W};return ro(H)?xe=Ke({},H):xe.text=H,me(/{change}/.exec(xe.text))&&(xe.color=G===0?v.priceMark.last.noChangeColor:G>0?v.priceMark.last.upColor:v.priceMark.last.downColor),xe.text=jv(xe.text,K),{title:ie,value:xe}})},r}(Dm),H8=function(e){Ft(r,e);function r(t){var n=e.call(this,t)||this;return n._activeFeatureInfo=null,n._featureClickEvent=function(i){return function(){var o=n.getWidget().getPane();return o.getChart().getChartStore().executeAction("onCrosshairFeatureClick",i),!0}},n._featureMouseMoveEvent=function(i){return function(){return n._activeFeatureInfo=i,n.getWidget().setForceCursor("pointer"),!0}},n.registerEvent("mouseMoveEvent",function(i){return n._activeFeatureInfo=null,n.getWidget().setForceCursor(null),!1}),n}return r.prototype.drawImp=function(t){var n=this,i,o,s=this.getWidget(),u=s.getPane(),d=s.getPane().getChart().getChartStore(),h=d.getCrosshair(),f=this.getWidget(),v=f.getPane().getAxisComponent();if(cr(h.paneId)&&h.paneId===u.getId()&&v.isInCandle()){var m=d.getStyles().crosshair,C=m.horizontal.features;if(m.show&&m.horizontal.show&&C.length>0){var b=v.position==="right",_=f.getBounding(),k=0,S=m.horizontal.text;if(v.inside&&S.show){var T=v.convertFromPixel(h.y),I=v.getRange(),P=v.displayValueToText(v.realValueToDisplayValue(v.valueToRealValue(T,{range:I}),{range:I}),(o=(i=d.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&o!==void 0?o:2);P=d.getDecimalFold().format(d.getThousandsSeparator().format(P)),k=S.paddingLeft+no(P,S.size,S.weight,S.family)+S.paddingRight}var L=k;b&&(L=_.width-k);var z=h.y;C.forEach(function(R){var V,$,W,te,ue=R.marginLeft,Y=ue===void 0?0:ue,Z=R.marginTop,q=Z===void 0?0:Z,G=R.marginRight,K=G===void 0?0:G,X=R.paddingLeft,J=X===void 0?0:X,ee=R.paddingTop,H=ee===void 0?0:ee,ie=R.paddingRight,xe=ie===void 0?0:ie,Le=R.paddingBottom,Pe=Le===void 0?0:Le,be=R.color,He=R.activeColor,Ae=R.backgroundColor,Ne=R.activeBackgroundColor,ve=R.borderRadius,Te=R.size,Oe=Te===void 0?0:Te,Ze=R.type,Me=R.content,nt=Oe;if(Ze==="icon_font"){var lt=Me;nt=J+no(lt.code,Oe,"normal",lt.family)+xe}b?L-=nt+K:L+=Y;var Be=be,yt=Ae;((V=n._activeFeatureInfo)===null||V===void 0?void 0:V.feature.id)===R.id&&(Be=He??be,yt=Ne??Ae);var Bt={mouseClickEvent:n._featureClickEvent({crosshair:h,feature:R}),mouseMoveEvent:n._featureMouseMoveEvent({crosshair:h,feature:R})};if(Ze==="icon_font"){var lt=Me;($=n.createFigure({name:"text",attrs:{text:lt.code,x:L,y:z+q,baseline:"middle"},styles:{paddingLeft:J,paddingTop:H,paddingRight:xe,paddingBottom:Pe,borderRadius:ve,size:Oe,family:lt.family,color:Be,backgroundColor:yt}},Bt))===null||$===void 0||$.draw(t)}else{(W=n.createFigure({name:"rect",attrs:{x:L,y:z+q-Oe/2,width:Oe,height:Oe},styles:{paddingLeft:J,paddingTop:H,paddingRight:xe,paddingBottom:Pe,color:yt}},Bt))===null||W===void 0||W.draw(t);var Ot=Me;(te=n.createFigure({name:"path",attrs:{path:Ot.path,x:L,y:z+q+H-Oe/2,width:Oe,height:Oe},styles:{style:Ot.style,lineWidth:Ot.lineWidth,color:Be}}))===null||te===void 0||te.draw(t)}b?L-=Y:L+=nt+K})}}},r}(Aa),Y8=function(e){Ft(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._candleBarView=new Am(i),i._candleAreaView=new O8(i),i._candleHighLowPriceView=new N8(i),i._candleLastPriceLineView=new z8(i),i._crosshairFeatureView=new H8(i),i.addChild(i._candleBarView),i.addChild(i._crosshairFeatureView),i}return r.prototype.updateMainContent=function(t){var n=this.getPane().getChart().getStyles().candle;n.type!=="area"?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleAreaView.stopAnimation()):this._candleAreaView.draw(t),this._candleLastPriceLineView.draw(t)},r.prototype.updateOverlayContent=function(t){this._crosshairFeatureView.draw(t)},r.prototype.createTooltipView=function(){return new U8(this)},r}(Rm),Nm=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t,n){var i=this,o,s,u=this.getWidget(),d=u.getPane(),h=u.getBounding(),f=d.getAxisComponent(),v=this.getAxisStyles(d.getChart().getStyles());if(v.show&&(v.axisLine.show&&((o=this.createFigure({name:"line",attrs:this.createAxisLine(h,v),styles:v.axisLine}))===null||o===void 0||o.draw(t)),!n[0])){var m=f.getTicks();if(v.tickLine.show){var C=this.createTickLines(m,h,v);C.forEach(function(_){var k;(k=i.createFigure({name:"line",attrs:_,styles:v.tickLine}))===null||k===void 0||k.draw(t)})}if(v.tickText.show){var b=this.createTickTexts(m,h,v);(s=this.createFigure({name:"text",attrs:b,styles:v.tickText}))===null||s===void 0||s.draw(t)}}},r}(Aa),X8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAxisStyles=function(t){return t.yAxis},r.prototype.createAxisLine=function(t,n){var i=this.getWidget().getPane().getAxisComponent(),o=n.axisLine.size,s=0;return i.isFromZero()?s=0:s=t.width-o,{coordinates:[{x:s,y:0},{x:s,y:t.height}]}},r.prototype.createTickLines=function(t,n,i){var o=this.getWidget().getPane().getAxisComponent(),s=i.axisLine,u=i.tickLine,d=0,h=0;return o.isFromZero()?(d=0,s.show&&(d+=s.size),h=d+u.length):(d=n.width,s.show&&(d-=s.size),h=d-u.length),t.map(function(f){return{coordinates:[{x:d,y:f.coord},{x:h,y:f.coord}]}})},r.prototype.createTickTexts=function(t,n,i){var o=this.getWidget().getPane().getAxisComponent(),s=i.axisLine,u=i.tickLine,d=i.tickText,h=0;o.isFromZero()?(h=d.marginStart,s.show&&(h+=s.size),u.show&&(h+=u.length)):(h=n.width-d.marginEnd,s.show&&(h-=s.size),u.show&&(h-=u.length));var f=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(function(v){return{x:h,y:v.coord,text:v.text,align:f,baseline:"middle"}})},r}(Nm),j8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this,i,o,s,u,d=this.getWidget(),h=d.getPane(),f=d.getBounding(),v=h.getChart().getChartStore(),m=v.getStyles().candle.priceMark,C=m.last,b=C.text;if(m.show&&C.show&&b.show){var _=(o=(i=v.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&o!==void 0?o:2,k=h.getAxisComponent(),S=v.getDataList(),T=S[S.length-1];if(me(T)){var I=T.close,P=T.open,L=C.compareRule==="current_open"?P:(u=(s=S[S.length-2])===null||s===void 0?void 0:s.close)!==null&&u!==void 0?u:I,z=k.convertToNicePixel(I),R="";I>L?R=C.upColor:I<L?R=C.downColor:R=C.noChangeColor;var V=0,$="left";k.isFromZero()?(V=0,$="left"):(V=f.width,$="right");var W=[],te=k.getRange(),ue=k.displayValueToText(k.realValueToDisplayValue(k.valueToRealValue(I,{range:te}),{range:te}),_);ue=v.getDecimalFold().format(v.getThousandsSeparator().format(ue));var Y=b.paddingLeft,Z=b.paddingRight,q=b.paddingTop,G=b.paddingBottom,K=b.size,X=b.family,J=b.weight,ee=Y+no(ue,K,J,X)+Z,H=q+K+G;W.push({name:"text",attrs:{x:V,y:z,width:ee,height:H,text:ue,align:$,baseline:"middle"},styles:Ke(Ke({},b),{backgroundColor:R})});var ie=v.getInnerFormatter().formatExtendText,xe=K/2,Le=z-xe-q,Pe=z+xe+G;C.extendTexts.forEach(function(be,He){var Ae=ie({type:"last_price",data:T,index:He});if(Ae.length>0&&be.show){var Ne=be.size/2,ve=0;be.position==="above_price"?(Le-=be.paddingBottom+Ne,ve=Le,Le-=Ne+be.paddingTop):(Pe+=be.paddingTop+Ne,ve=Pe,Pe+=Ne+be.paddingBottom),ee=Math.max(ee,be.paddingLeft+no(Ae,be.size,be.weight,be.family)+be.paddingRight),W.push({name:"text",attrs:{x:V,y:ve,width:ee,height:be.paddingTop+be.size+be.paddingBottom,text:Ae,align:$,baseline:"middle"},styles:Ke(Ke({},be),{backgroundColor:R})})}}),W.forEach(function(be){var He;be.attrs.width=ee,(He=n.createFigure(be))===null||He===void 0||He.draw(t)})}}},r}(Aa),G8=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n=this,i,o,s=this.getWidget(),u=s.getPane(),d=s.getBounding(),h=u.getChart().getChartStore(),f=h.getStyles().indicator,v=f.lastValueMark,m=v.text;if(v.show){var C=u.getAxisComponent(),b=C.getRange(),_=h.getDataList(),k=(i=_[_.length-1])!==null&&i!==void 0?i:{},S=(o=_[_.length-2])!==null&&o!==void 0?o:{},T=h.getIndicatorsByPaneId(u.getId()),I=h.getInnerFormatter(),P=h.getDecimalFold(),L=h.getThousandsSeparator();T.forEach(function(z){var R,V,$=z.result,W=(V=(R=$[k.timestamp])!==null&&R!==void 0?R:$[S.timestamp])!==null&&V!==void 0?V:{};if(me(W)&&z.visible){var te=z.precision;Ig(z,{prev:S.timestamp,current:k.timestamp,next:null},f,function(ue,Y){var Z,q=W[ue.key];if(ut(q)){var G=C.convertToNicePixel(q),K=C.displayValueToText(C.realValueToDisplayValue(C.valueToRealValue(q,{range:b}),{range:b}),te);z.shouldFormatBigNumber&&(K=I.formatBigNumber(K)),K=P.format(L.format(K));var X=0,J="left";C.isFromZero()?(X=0,J="left"):(X=d.width,J="right"),(Z=n.createFigure({name:"text",attrs:{x:X,y:G,text:K,align:J,baseline:"middle"},styles:Ke(Ke({},m),{backgroundColor:Y.color})}))===null||Z===void 0||Z.draw(t)}})}})}},r}(Aa),zm=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},r.prototype.drawDefaultFigures=function(t,n,i){this.drawFigures(t,n,this.getDefaultFigures(n,i))},r.prototype.getDefaultFigures=function(t,n){var i,o=this.getWidget(),s=o.getPane(),u=s.getChart().getChartStore(),d=u.getClickOverlayInfo(),h=[];if(t.needDefaultYAxisFigure&&t.id===((i=d.overlay)===null||i===void 0?void 0:i.id)&&d.paneId===s.getId()){var f=s.getAxisComponent(),v=o.getBounding(),m=Number.MAX_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER,b=f.isFromZero(),_="left",k=0;b?(_="left",k=0):(_="right",k=v.width);var S=u.getDecimalFold(),T=u.getThousandsSeparator();n.forEach(function(I,P){var L,z,R=t.points[P];if(ut(R.value)){m=Math.min(m,I.y),C=Math.max(C,I.y);var V=S.format(T.format(jn(R.value,(z=(L=u.getSymbol())===null||L===void 0?void 0:L.pricePrecision)!==null&&z!==void 0?z:2)));h.push({type:"text",attrs:{x:k,y:I.y,text:V,align:_,baseline:"middle"},ignoreEvent:!0})}}),n.length>1&&h.unshift({type:"rect",attrs:{x:0,y:m,width:v.width,height:C-m},ignoreEvent:!0})}return h},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),f=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createYAxisFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:f,yAxis:h}))!==null&&o!==void 0?o:[]},r}(Fm),Bm=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.drawImp=function(t){var n,i=this.getWidget(),o=i.getPane(),s=i.getPane().getChart().getChartStore(),u=s.getCrosshair();if(cr(u.paneId)&&this.compare(u,o.getId())){var d=s.getStyles().crosshair;if(d.show){var h=this.getDirectionStyles(d),f=h.text;if(h.show&&f.show){var v=i.getBounding(),m=o.getAxisComponent(),C=this.getText(u,s,m);t.font=Rc(f.size,f.weight,f.family),(n=this.createFigure({name:"text",attrs:this.getTextAttrs(C,t.measureText(C).width,u,v,m,f),styles:f}))===null||n===void 0||n.draw(t)}}}},r.prototype.compare=function(t,n){return t.paneId===n},r.prototype.getDirectionStyles=function(t){return t.horizontal},r.prototype.getText=function(t,n,i){var o,s,u=i,d=i.convertFromPixel(t.y),h=0,f=!1;if(u.isInCandle())h=(s=(o=n.getSymbol())===null||o===void 0?void 0:o.pricePrecision)!==null&&s!==void 0?s:2;else{var v=n.getIndicatorsByPaneId(t.paneId);v.forEach(function(b){h=Math.max(b.precision,h),f||(f=b.shouldFormatBigNumber)})}var m=u.getRange(),C=u.displayValueToText(u.realValueToDisplayValue(u.valueToRealValue(d,{range:m}),{range:m}),h);return f&&(C=n.getInnerFormatter().formatBigNumber(C)),n.getDecimalFold().format(n.getThousandsSeparator().format(C))},r.prototype.getTextAttrs=function(t,n,i,o,s,u){var d=s,h=0,f="left";return d.isFromZero()?(h=0,f="left"):(h=o.width,f="right"),{x:h,y:i.y,text:t,align:f,baseline:"middle"}},r}(Aa),K8=function(e){Ft(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._yAxisView=new X8(i),i._candleLastPriceLabelView=new j8(i),i._indicatorLastValueView=new G8(i),i._overlayYAxisView=new zm(i),i._crosshairHorizontalLabelView=new Bm(i),i.setCursor("ns-resize"),i.addChild(i._overlayYAxisView),i}return r.prototype.getName=function(){return Xt.Y_AXIS},r.prototype.updateMain=function(t){var n=this.getPane().getOptions().state==="minimize";this._yAxisView.draw(t,n),n||(this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t))},r.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t))},r}(Fg);function l2(){return{from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0}}var Vm=function(){function e(r){this.scrollZoomEnabled=!0,this._range=l2(),this._prevRange=l2(),this._ticks=[],this._autoCalcTickFlag=!0,this._parent=r}return e.prototype.getParent=function(){return this._parent},e.prototype.buildTicks=function(r){return this._autoCalcTickFlag&&(this._range=this.createRangeImp()),this._prevRange.from!==this._range.from||this._prevRange.to!==this._range.to||r?(this._prevRange=this._range,this._ticks=this.createTicksImp(),!0):!1},e.prototype.getTicks=function(){return this._ticks},e.prototype.setRange=function(r){this._autoCalcTickFlag=!1,this._range=r},e.prototype.getRange=function(){return this._range},e.prototype.setAutoCalcTickFlag=function(r){this._autoCalcTickFlag=r},e.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},e}(),Bh=8,ep=function(e){Ft(r,e);function r(t,n){var i=e.call(this,t)||this;return i.reverse=!1,i.inside=!1,i.position="right",i.gap={top:.2,bottom:.1},i.createRange=function(o){return o.defaultRange},i.minSpan=function(o){return Dc(-o)},i.valueToRealValue=function(o){return o},i.realValueToDisplayValue=function(o){return o},i.displayValueToRealValue=function(o){return o},i.realValueToValue=function(o){return o},i.displayValueToText=function(o,s){return jn(o,s)},i.override(n),i}return r.prototype.override=function(t){var n=t.name,i=t.gap,o=lp(t,["name","gap"]);cr(this.name)||(this.name=n),pn(this.gap,i),pn(this,o)},r.prototype.createRangeImp=function(){var t,n,i=this.getParent(),o=i.getChart(),s=o.getChartStore(),u=i.getId(),d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER,f=!1,v=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER,C=Number.MAX_SAFE_INTEGER,b=s.getIndicatorsByPaneId(u);b.forEach(function(He){f||(f=He.shouldOhlc),C=Math.min(C,He.precision),ut(He.minValue)&&(v=Math.min(v,He.minValue)),ut(He.maxValue)&&(m=Math.max(m,He.maxValue))});var _=4,k=this.isInCandle();if(k){var S=(n=(t=s.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&n!==void 0?n:2;C!==Number.MAX_SAFE_INTEGER?_=Math.min(C,S):_=S}else C!==Number.MAX_SAFE_INTEGER&&(_=C);var T=s.getVisibleRangeDataList(),I=o.getStyles().candle,P=I.type==="area",L=I.area.value,z=k&&!P||!k&&f;T.forEach(function(He){var Ae=He.data.current;if(me(Ae)){if(z&&(d=Math.min(d,Ae.low),h=Math.max(h,Ae.high)),k&&P){var Ne=Ae[L];ut(Ne)&&(d=Math.min(d,Ne),h=Math.max(h,Ne))}b.forEach(function(ve){var Te,Oe=ve.result,Ze=ve.figures,Me=(Te=Oe[Ae.timestamp])!==null&&Te!==void 0?Te:{};Ze.forEach(function(nt){var lt=Me[nt.key];ut(lt)&&(d=Math.min(d,lt),h=Math.max(h,lt))})})}}),d!==Number.MAX_SAFE_INTEGER&&h!==Number.MIN_SAFE_INTEGER?(d=Math.min(v,d),h=Math.max(m,h)):(d=0,h=10);var R=h-d,V={from:d,to:h,range:R,realFrom:d,realTo:h,realRange:R,displayFrom:d,displayTo:h,displayRange:R},$=this.createRange({chart:o,paneId:u,defaultRange:V}),W=$.realFrom,te=$.realTo,ue=$.realRange,Y=this.minSpan(_);if(W===te||ue<Y){var Z=v===W,q=m===te,G=Bh/2;W=Z?W:q?W-Bh*Y:W-G*Y,te=q?te:Z?te+Bh*Y:te+G*Y}var K=this.getBounding().height,X=this.gap,J=X.top,ee=X.bottom,H=J;H>=1&&(H=H/K);var ie=ee;ie>=1&&(ie=ie/K),ue=te-W,W=W-ue*ie,te=te+ue*H;var xe=this.realValueToValue(W,{range:$}),Le=this.realValueToValue(te,{range:$}),Pe=this.realValueToDisplayValue(W,{range:$}),be=this.realValueToDisplayValue(te,{range:$});return{from:xe,to:Le,range:Le-xe,realFrom:W,realTo:te,realRange:te-W,displayFrom:Pe,displayTo:be,displayRange:be-Pe}},r.prototype.isInCandle=function(){return this.getParent().getId()===$t.CANDLE},r.prototype.isFromZero=function(){return this.position==="left"&&this.inside||this.position==="right"&&!this.inside},r.prototype.createTicksImp=function(){var t=this,n,i,o,s,u=this.getRange(),d=u.displayFrom,h=u.displayTo,f=u.displayRange,v=[];if(f>=0){var m=a6(f/Bh),C=o6(m),b=Zv(Math.ceil(d/m)*m,C),_=Zv(Math.floor(h/m)*m,C),k=0,S=b;if(m!==0)for(;S<=_;){var T=S.toFixed(C);v[k]={text:T,coord:0,value:T},++k,S+=m}}var I=this.getParent(),P=(i=(n=I.getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,L=I.getChart().getChartStore(),z=[],R=L.getIndicatorsByPaneId(I.getId()),V=L.getStyles(),$=0,W=!1;this.isInCandle()?$=(s=(o=L.getSymbol())===null||o===void 0?void 0:o.pricePrecision)!==null&&s!==void 0?s:2:R.forEach(function(G){$=Math.max($,G.precision),W||(W=G.shouldFormatBigNumber)});var te=L.getInnerFormatter(),ue=L.getThousandsSeparator(),Y=L.getDecimalFold(),Z=V.xAxis.tickText.size,q=NaN;return v.forEach(function(G){var K=G.value,X=t.displayValueToText(+K,$),J=t.convertToPixel(t.realValueToValue(t.displayValueToRealValue(+K,{range:u}),{range:u}));W&&(X=te.formatBigNumber(K)),X=Y.format(ue.format(X));var ee=ut(q);J>Z&&J<P-Z&&(ee&&Math.abs(q-J)>Z*2||!ee)&&(z.push({text:X,coord:J,value:K}),q=J)}),si(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:z}):z},r.prototype.getAutoSize=function(){var t,n,i=this.getParent(),o=i.getChart(),s=o.getChartStore(),u=s.getStyles(),d=u.yAxis,h=d.size;if(h!=="auto")return h;var f=0;if(d.show&&(d.axisLine.show&&(f+=d.axisLine.size),d.tickLine.show&&(f+=d.tickLine.length),d.tickText.show)){var v=0;this.getTicks().forEach(function(J){v=Math.max(v,no(J.text,d.tickText.size,d.tickText.weight,d.tickText.family))}),f+=d.tickText.marginStart+d.tickText.marginEnd+v}var m=u.candle.priceMark,C=m.show&&m.last.show&&m.last.text.show,b=0,_=u.crosshair,k=_.show&&_.horizontal.show&&_.horizontal.text.show,S=0;if(C||k){var T=(n=(t=s.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&n!==void 0?n:2,I=this.getRange().displayTo;if(C){var P=s.getDataList(),L=P[P.length-1];if(me(L)){var z=m.last.text,R=z.paddingLeft,V=z.paddingRight,$=z.size,W=z.family,te=z.weight;b=R+no(jn(L.close,T),$,te,W)+V;var ue=s.getInnerFormatter().formatExtendText;m.last.extendTexts.forEach(function(J,ee){var H=ue({type:"last_price",data:L,index:ee});H.length>0&&J.show&&(b=Math.max(b,J.paddingLeft+no(H,J.size,J.weight,J.family)+J.paddingRight))})}}if(k){var Y=s.getIndicatorsByPaneId(i.getId()),Z=0,q=!1;Y.forEach(function(J){Z=Math.max(J.precision,Z),q||(q=J.shouldFormatBigNumber)});var G=2;if(this.isInCandle()){var K=u.indicator.lastValueMark;K.show&&K.text.show?G=Math.max(Z,T):G=T}else G=Z;var X=jn(I,G);q&&(X=s.getInnerFormatter().formatBigNumber(X)),X=s.getDecimalFold().format(X),S+=_.horizontal.text.paddingLeft+_.horizontal.text.paddingRight+_.horizontal.text.borderSize*2+no(X,_.horizontal.text.size,_.horizontal.text.weight,_.horizontal.text.family)}}return Math.max(f,b,S)},r.prototype.getBounding=function(){return this.getParent().getYAxisWidget().getBounding()},r.prototype.convertFromPixel=function(t){var n=this.getBounding().height,i=this.getRange(),o=i.realFrom,s=i.realRange,u=this.reverse?t/n:1-t/n,d=u*s+o;return this.realValueToValue(d,{range:i})},r.prototype.convertToPixel=function(t){var n,i,o=this.getRange(),s=this.valueToRealValue(t,{range:o}),u=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,d=o.realFrom,h=o.realRange,f=(s-d)/h;return this.reverse?Math.round(f*u):Math.round((1-f)*u)},r.prototype.convertToNicePixel=function(t){var n,i,o=(i=(n=this.getParent().getYAxisWidget())===null||n===void 0?void 0:n.getBounding().height)!==null&&i!==void 0?i:0,s=this.convertToPixel(t);return Math.round(Math.max(o*.05,Math.min(s,o*.98)))},r.extend=function(t){var n=function(i){Ft(o,i);function o(s){return i.call(this,s,t)||this}return o}(r);return n},r}(Vm),Q8={name:"normal"},Z8={name:"percentage",minSpan:function(){return Math.pow(10,-2)},displayValueToText:function(e){return"".concat(jn(e,2),"%")},valueToRealValue:function(e,r){var t=r.range;return(e-t.from)/t.range*t.realRange+t.realFrom},realValueToValue:function(e,r){var t=r.range;return(e-t.realFrom)/t.realRange*t.range+t.from},createRange:function(e){var r=e.chart,t=e.defaultRange,n=r.getDataList(),i=r.getVisibleRange(),o=n[i.from];if(me(o)){var s=t.from,u=t.to,d=t.range,h=(t.from-o.close)/o.close*100,f=(t.to-o.close)/o.close*100,v=f-h;return{from:s,to:u,range:d,realFrom:h,realTo:f,realRange:v,displayFrom:h,displayTo:f,displayRange:v}}return t}},q8={name:"logarithm",minSpan:function(e){return .05*Dc(-e)},valueToRealValue:function(e){return e<0?-Tl(Math.abs(e)):Tl(e)},realValueToDisplayValue:function(e){return e<0?-Dc(Math.abs(e)):Dc(e)},displayValueToRealValue:function(e){return e<0?-Tl(Math.abs(e)):Tl(e)},realValueToValue:function(e){return e<0?-Dc(Math.abs(e)):Dc(e)},createRange:function(e){var r=e.defaultRange,t=r.from,n=r.to,i=r.range,o=t<0?-Tl(Math.abs(t)):Tl(t),s=n<0?-Tl(Math.abs(n)):Tl(n);return{from:t,to:n,range:i,realFrom:o,realTo:s,realRange:s-o,displayFrom:t,displayTo:n,displayRange:i}}},s2={normal:ep.extend(Q8),percentage:ep.extend(Z8),logarithm:ep.extend(q8)};function J8(e){var r;return(r=s2[e])!==null&&r!==void 0?r:s2.normal}var $m=function(){function e(r,t){this._bounding=sp(),this._originalBounding=sp(),this._visible=!0,this._chart=r,this._id=t,this._container=Nl("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"})}return e.prototype.getContainer=function(){return this._container},e.prototype.setVisible=function(r){this._visible!==r&&(this._container.style.display=r?"block":"none",this._visible=r)},e.prototype.getVisible=function(){return this._visible},e.prototype.getId=function(){return this._id},e.prototype.getChart=function(){return this._chart},e.prototype.getBounding=function(){return this._bounding},e.prototype.setOriginalBounding=function(r){pn(this._originalBounding,r)},e.prototype.getOriginalBounding=function(){return this._originalBounding},e.prototype.update=function(r){this._bounding.height!==this._container.clientHeight&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(r??3,this._container,this._bounding)},e}(),Wm=function(e){Ft(r,e);function r(t,n,i){var o=e.call(this,t,n)||this;o._yAxisWidget=null,o._options={id:"",minHeight:Jh,dragEnabled:!0,order:0,height:_m,state:"normal",axis:{name:"normal",scrollZoomEnabled:!0}};var s=o.getContainer();return o._mainWidget=o.createMainWidget(s),o._yAxisWidget=o.createYAxisWidget(s),o.setOptions(i),o}return r.prototype.setOptions=function(t){var n,i,o,s,u,d=this.getId();if(d===$t.CANDLE||d===$t.X_AXIS){var h=(n=t.axis)===null||n===void 0?void 0:n.name;(!me(this._axis)||me(h)&&this._options.axis.name!==h)&&(this._axis=this.createAxisComponent(h??"normal"))}else me(this._axis)||(this._axis=this.createAxisComponent("normal"));this._axis instanceof ep&&this._axis.setAutoCalcTickFlag(!0),pn(this._options,t),this._axis.override(Ke(Ke({},this._options.axis),{name:(o=(i=t.axis)===null||i===void 0?void 0:i.name)!==null&&o!==void 0?o:"normal"}));var f=null,v="default";return this.getId()===$t.X_AXIS?(f=this.getMainWidget().getContainer(),v="ew-resize"):(f=this.getYAxisWidget().getContainer(),v="ns-resize"),!((u=(s=t.axis)===null||s===void 0?void 0:s.scrollZoomEnabled)!==null&&u!==void 0)||u?f.style.cursor=v:f.style.cursor="default",this},r.prototype.getOptions=function(){return this._options},r.prototype.getAxisComponent=function(){return this._axis},r.prototype.setBounding=function(t,n,i,o){var s,u,d,h;pn(this.getBounding(),t);var f={};me(t.height)&&(f.height=t.height),me(t.top)&&(f.top=t.top),this._mainWidget.setBounding(f);var v=me(n);if(v&&this._mainWidget.setBounding(n),me(this._yAxisWidget)){this._yAxisWidget.setBounding(f);var m=this._axis;m.position==="left"?me(i)&&this._yAxisWidget.setBounding(Ke(Ke({},i),{left:0})):me(o)&&(this._yAxisWidget.setBounding(o),v&&this._yAxisWidget.setBounding({left:((s=n.left)!==null&&s!==void 0?s:0)+((u=n.width)!==null&&u!==void 0?u:0)+((d=n.right)!==null&&d!==void 0?d:0)-((h=o.width)!==null&&h!==void 0?h:0)}))}return this},r.prototype.getMainWidget=function(){return this._mainWidget},r.prototype.getYAxisWidget=function(){return this._yAxisWidget},r.prototype.updateImp=function(t){var n;this._mainWidget.update(t),(n=this._yAxisWidget)===null||n===void 0||n.update(t)},r.prototype.destroy=function(){var t;this._mainWidget.destroy(),(t=this._yAxisWidget)===null||t===void 0||t.destroy()},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=Nl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),u=s.getContext("2d"),d=Es(s);s.width=i*d,s.height=o*d,u.scale(d,d);var h=this._mainWidget.getBounding();if(u.drawImage(this._mainWidget.getImage(t),h.left,0,h.width,h.height),this._yAxisWidget!==null){var f=this._yAxisWidget.getBounding();u.drawImage(this._yAxisWidget.getImage(t),f.left,0,f.width,f.height)}return s},r.prototype.createYAxisWidget=function(t){return null},r}($m),Um=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createAxisComponent=function(t){var n=J8(t??"default");return new n(this)},r.prototype.createMainWidget=function(t){return new Rm(t,this)},r.prototype.createYAxisWidget=function(t){return new K8(t,this)},r}(Wm),e7=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createMainWidget=function(t){return new Y8(t,this)},r}(Um),t7=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAxisStyles=function(t){return t.xAxis},r.prototype.createAxisLine=function(t){return{coordinates:[{x:0,y:0},{x:t.width,y:0}]}},r.prototype.createTickLines=function(t,n,i){var o=i.tickLine,s=i.axisLine.size;return t.map(function(u){return{coordinates:[{x:u.coord,y:0},{x:u.coord,y:s+o.length}]}})},r.prototype.createTickTexts=function(t,n,i){var o=i.tickText,s=i.axisLine.size,u=i.tickLine.length;return t.map(function(d){return{x:d.coord,y:s+u+o.marginStart,text:d.text,align:"center",baseline:"top"}})},r}(Nm),r7=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},r.prototype.coordinateToPointValueFlag=function(){return!1},r.prototype.getCompleteOverlays=function(){return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()},r.prototype.getProgressOverlay=function(){var t,n;return(n=(t=this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo())===null||t===void 0?void 0:t.overlay)!==null&&n!==void 0?n:null},r.prototype.getDefaultFigures=function(t,n){var i,o=[],s=this.getWidget(),u=s.getPane(),d=u.getChart().getChartStore(),h=d.getClickOverlayInfo();if(t.needDefaultXAxisFigure&&t.id===((i=h.overlay)===null||i===void 0?void 0:i.id)){var f=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;n.forEach(function(m,C){f=Math.min(f,m.x),v=Math.max(v,m.x);var b=t.points[C];if(ut(b.timestamp)){var _=d.getInnerFormatter().formatDate(b.timestamp,"YYYY-MM-DD HH:mm","crosshair");o.push({type:"text",attrs:{x:m.x,y:0,text:_,align:"center"},ignoreEvent:!0})}}),n.length>1&&o.unshift({type:"rect",attrs:{x:f,y:0,width:v-f,height:s.getBounding().height},ignoreEvent:!0})}return o},r.prototype.getFigures=function(t,n){var i,o,s=this.getWidget(),u=s.getPane(),d=u.getChart(),h=u.getAxisComponent(),f=d.getXAxisPane().getAxisComponent(),v=s.getBounding();return(o=(i=t.createXAxisFigures)===null||i===void 0?void 0:i.call(t,{chart:d,overlay:t,coordinates:n,bounding:v,xAxis:f,yAxis:h}))!==null&&o!==void 0?o:[]},r}(zm),n7=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.compare=function(t){return me(t.timestamp)},r.prototype.getDirectionStyles=function(t){return t.vertical},r.prototype.getText=function(t,n){var i,o,s=t.timestamp;return n.getInnerFormatter().formatDate(s,Om[(o=(i=n.getPeriod())===null||i===void 0?void 0:i.type)!==null&&o!==void 0?o:"day"],"crosshair")},r.prototype.getTextAttrs=function(t,n,i,o,s,u){var d=i.realX,h=0,f="center";return d-n/2-u.paddingLeft<0?(h=0,f="left"):d+n/2+u.paddingRight>o.width?(h=o.width,f="right"):h=d,{x:h,y:0,text:t,align:f,baseline:"top"}},r}(Bm),i7=function(e){Ft(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._xAxisView=new t7(i),i._overlayXAxisView=new r7(i),i._crosshairVerticalLabelView=new n7(i),i.setCursor("ew-resize"),i.addChild(i._overlayXAxisView),i}return r.prototype.getName=function(){return Xt.X_AXIS},r.prototype.updateMain=function(t){this._xAxisView.draw(t)},r.prototype.updateOverlay=function(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)},r}(Fg),a7=function(e){Ft(r,e);function r(t,n){var i=e.call(this,t)||this;return i.override(n),i}return r.prototype.override=function(t){var n=t.name,i=t.scrollZoomEnabled,o=t.createTicks;cr(this.name)||(this.name=n),this.scrollZoomEnabled=i??this.scrollZoomEnabled,this.createTicks=o??this.createTicks},r.prototype.createRangeImp=function(){var t=this.getParent().getChart().getChartStore(),n=t.getVisibleRange(),i=n.realFrom,o=n.realTo,s=i,u=o,d=o-i+1,h={from:s,to:u,range:d,realFrom:s,realTo:u,realRange:d,displayFrom:s,displayTo:u,displayRange:d};return h},r.prototype.createTicksImp=function(){var t,n=this.getRange(),i=n.realFrom,o=n.realTo,s=n.from,u=this.getParent().getChart().getChartStore(),d=u.getInnerFormatter().formatDate,h=u.getPeriod(),f=[],v=u.getBarSpace().bar,m=u.getStyles().xAxis.tickText,C=Math.max(no("YYYY-MM-DD HH:mm:ss",m.size,m.weight,m.family),this.getBounding().width/8),b=Math.ceil(C/v);b%2!==0&&(b+=1);for(var _=Math.max(0,Math.floor(i/b)*b),k=_;k<o;k+=b)if(k>=s){var S=u.dataIndexToTimestamp(k);ut(S)&&f.push({coord:this.convertToPixel(k),value:S,text:d(S,B8[(t=h==null?void 0:h.type)!==null&&t!==void 0?t:"day"],"xAxis")})}return si(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:f}):f},r.prototype.getAutoSize=function(){var t=this.getParent().getChart().getStyles(),n=t.xAxis,i=n.size;if(i!=="auto")return i;var o=t.crosshair,s=0;n.show&&(n.axisLine.show&&(s+=n.axisLine.size),n.tickLine.show&&(s+=n.tickLine.length),n.tickText.show&&(s+=n.tickText.marginStart+n.tickText.marginEnd+n.tickText.size));var u=0;return o.show&&o.vertical.show&&o.vertical.text.show&&(u+=o.vertical.text.paddingTop+o.vertical.text.paddingBottom+o.vertical.text.borderSize*2+o.vertical.text.size),Math.max(s,u)},r.prototype.getBounding=function(){return this.getParent().getMainWidget().getBounding()},r.prototype.convertTimestampFromPixel=function(t){var n=this.getParent().getChart().getChartStore(),i=n.coordinateToDataIndex(t);return n.dataIndexToTimestamp(i)},r.prototype.convertTimestampToPixel=function(t){var n=this.getParent().getChart().getChartStore(),i=n.timestampToDataIndex(t);return n.dataIndexToCoordinate(i)},r.prototype.convertFromPixel=function(t){return this.getParent().getChart().getChartStore().coordinateToDataIndex(t)},r.prototype.convertToPixel=function(t){return this.getParent().getChart().getChartStore().dataIndexToCoordinate(t)},r.extend=function(t){var n=function(i){Ft(o,i);function o(s){return i.call(this,s,t)||this}return o}(r);return n},r}(Vm),o7={name:"normal"},c2={normal:a7.extend(o7)};function l7(e){var r;return(r=c2[e])!==null&&r!==void 0?r:c2.normal}var s7=function(e){Ft(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.createAxisComponent=function(t){var n=l7(t);return new n(this)},r.prototype.createMainWidget=function(t){return new i7(t,this)},r}(Wm);function c7(e,r){var t=0;return function(){var n=Date.now();n-t>r&&(e.apply(this,arguments),t=n)}}var u7=function(e){Ft(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i._dragFlag=!1,i._dragStartY=0,i._topPaneHeight=0,i._bottomPaneHeight=0,i._topPane=null,i._bottomPane=null,i._pressedMouseMoveEvent=c7(i._pressedTouchMouseMoveEvent,20),i.registerEvent("touchStartEvent",i._mouseDownEvent.bind(i)).registerEvent("touchMoveEvent",i._pressedMouseMoveEvent.bind(i)).registerEvent("touchEndEvent",i._mouseUpEvent.bind(i)).registerEvent("mouseDownEvent",i._mouseDownEvent.bind(i)).registerEvent("mouseUpEvent",i._mouseUpEvent.bind(i)).registerEvent("pressedMouseMoveEvent",i._pressedMouseMoveEvent.bind(i)).registerEvent("mouseEnterEvent",i._mouseEnterEvent.bind(i)).registerEvent("mouseLeaveEvent",i._mouseLeaveEvent.bind(i)),i}return r.prototype.getName=function(){return Xt.SEPARATOR},r.prototype._mouseDownEvent=function(t){var n=this;this._dragFlag=!0,this._dragStartY=t.pageY;var i=this.getPane(),o=i.getChart();this._topPane=i.getTopPane(),this._bottomPane=i.getBottomPane();var s=o.getDrawPanes();if(this._topPane.getOptions().state==="minimize")for(var u=s.findIndex(function(v){var m;return v.getId()===((m=n._topPane)===null||m===void 0?void 0:m.getId())}),d=u-1;d>-1;d--){var h=s[d];if(h.getOptions().state!=="minimize"){this._topPane=h;break}}if(this._bottomPane.getOptions().state==="minimize")for(var u=s.findIndex(function(C){var b;return C.getId()===((b=n._bottomPane)===null||b===void 0?void 0:b.getId())}),d=u+1;d<s.length;d++){var f=s[d];if(f.getOptions().state!=="minimize"){this._bottomPane=f;break}}return this._topPaneHeight=this._topPane.getBounding().height,this._bottomPaneHeight=this._bottomPane.getBounding().height,!0},r.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._topPane=null,this._bottomPane=null,this._topPaneHeight=0,this._bottomPaneHeight=0,this._mouseLeaveEvent()},r.prototype._pressedTouchMouseMoveEvent=function(t){var n=t.pageY-this._dragStartY,i=n<0;if(me(this._topPane)&&me(this._bottomPane)){var o=this._bottomPane.getOptions();if(this._topPane.getOptions().state!=="minimize"&&o.state!=="minimize"&&o.dragEnabled){var s=null,u=null,d=0,h=0;i?(s=this._topPane,u=this._bottomPane,d=this._topPaneHeight,h=this._bottomPaneHeight):(s=this._bottomPane,u=this._topPane,d=this._bottomPaneHeight,h=this._topPaneHeight);var f=s.getOptions().minHeight;if(d>f){var v=Math.max(d-Math.abs(n),f),m=d-v;s.setBounding({height:v}),u.setBounding({height:h+m});var C=this.getPane(),b=C.getChart();b.getChartStore().executeAction("onPaneDrag",{paneId:C.getId()}),b.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}}}return!0},r.prototype._mouseEnterEvent=function(){var t=this.getPane(),n=t.getBottomPane();if(n.getOptions().dragEnabled){var i=t.getChart(),o=i.getStyles().separator;return this.getContainer().style.background=o.activeBackgroundColor,!0}return!1},r.prototype._mouseLeaveEvent=function(){return this._dragFlag?!1:(this.getContainer().style.background="transparent",!0)},r.prototype.createContainer=function(){return Nl("div",{width:"100%",height:"".concat(h1,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},r.prototype.updateImp=function(t,n,i){if(i===4||i===2){var o=this.getPane().getChart().getStyles().separator;t.style.top="".concat(-Math.floor((h1-o.size)/2),"px"),t.style.height="".concat(h1,"px")}},r}(km),d7=function(e){Ft(r,e);function r(t,n,i,o){var s=e.call(this,t,n)||this;return s.getContainer().style.overflow="",s._topPane=i,s._bottomPane=o,s._separatorWidget=new u7(s.getContainer(),s),s}return r.prototype.setBounding=function(t){return pn(this.getBounding(),t),this},r.prototype.getTopPane=function(){return this._topPane},r.prototype.setTopPane=function(t){return this._topPane=t,this},r.prototype.getBottomPane=function(){return this._bottomPane},r.prototype.setBottomPane=function(t){return this._bottomPane=t,this},r.prototype.getWidget=function(){return this._separatorWidget},r.prototype.getImage=function(t){var n=this.getBounding(),i=n.width,o=n.height,s=this.getChart().getStyles().separator,u=Nl("canvas",{width:"".concat(i,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),d=u.getContext("2d"),h=Es(u);return u.width=i*h,u.height=o*h,d.scale(h,h),d.fillStyle=s.color,d.fillRect(0,0,i,o),u},r.prototype.updateImp=function(t,n,i){if(t===4||t===2){var o=this.getChart().getStyles().separator;n.style.backgroundColor=o.color,n.style.height="".concat(i.height,"px"),n.style.marginLeft="".concat(i.left,"px"),n.style.width="".concat(i.width,"px"),this._separatorWidget.update(t)}},r}($m);function u2(){return typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("firefox")}function Bf(){return typeof window>"u"?!1:/iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)}var Vh={ResetClick:500,LongTap:500,PreventFiresTouchEvents:500},l0={CancelClick:5,CancelTap:5,DoubleClick:5,DoubleTap:30},n1={Left:0,Middle:1,Right:2},h7=10,p7=function(){function e(r,t,n){var i=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!Bf(),this._onFirefoxOutsideMouseUp=function(o){i._mouseUpHandler(o)},this._onMobileSafariDoubleClick=function(o){if(i._firesTouchEvents(o)){if(++i._tapCount,i._tapTimeoutId!==null&&i._tapCount>1){var s=i._mouseTouchMoveWithDownInfo(i._getCoordinate(o),i._tapCoordinate).manhattanDistance;s<l0.DoubleTap&&!i._cancelTap&&i._processEvent(i._makeCompatEvent(o),i._handler.doubleTapEvent),i._resetTapTimeout()}}else if(++i._clickCount,i._clickTimeoutId!==null&&i._clickCount>1){var s=i._mouseTouchMoveWithDownInfo(i._getCoordinate(o),i._clickCoordinate).manhattanDistance;s<l0.DoubleClick&&!i._cancelClick&&i._processEvent(i._makeCompatEvent(o),i._handler.mouseDoubleClickEvent),i._resetClickTimeout()}},this._target=r,this._handler=t,this._options=n,this._init()}return e.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},e.prototype._mouseEnterHandler=function(r){var t=this,n,i,o;(n=this._unsubscribeMousemove)===null||n===void 0||n.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(o=this._unsubscribeContextMenu)===null||o===void 0||o.call(this);var s=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){t._target.removeEventListener("mousemove",s)},this._target.addEventListener("mousemove",s);var u=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){t._target.removeEventListener("wheel",u)},this._target.addEventListener("wheel",u,{passive:!1});var d=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){t._target.removeEventListener("contextmenu",d)},this._target.addEventListener("contextmenu",d,{passive:!1}),!this._firesTouchEvents(r)&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},e.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},e.prototype._mouseMoveHandler=function(r){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(r)||(this._processEvent(this._makeCompatEvent(r),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},e.prototype._mouseWheelHandler=function(r){if(Math.abs(r.deltaX)>Math.abs(r.deltaY)){if(!me(this._handler.mouseWheelHortEvent)||(this._preventDefault(r),Math.abs(r.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(r),-r.deltaX)}else{if(!me(this._handler.mouseWheelVertEvent))return;var t=-(r.deltaY/100);if(t===0)return;switch(this._preventDefault(r),r.deltaMode){case r.DOM_DELTA_PAGE:{t*=120;break}case r.DOM_DELTA_LINE:{t*=32;break}}if(t!==0){var n=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(r),n)}}},e.prototype._contextMenuHandler=function(r){this._preventDefault(r)},e.prototype._touchMoveHandler=function(r){var t=this._touchWithId(r.changedTouches,this._activeTouchId);if(t!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(r),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var n=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),i=n.xOffset,o=n.yOffset,s=n.manhattanDistance;if(!(!this._touchMoveExceededManhattanDistance&&s<l0.CancelTap)){if(!this._touchMoveExceededManhattanDistance){var u=i*.5,d=o>=u&&!this._options.treatVertDragAsPageScroll(),h=u>o&&!this._options.treatHorzDragAsPageScroll();!d&&!h&&(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(r,t),this._handler.touchMoveEvent)}}},e.prototype._mouseMoveWithDownHandler=function(r){if(r.button===n1.Left){var t=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._mouseMoveStartCoordinate),n=t.manhattanDistance;n>=l0.CancelClick&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(r),this._handler.pressedMouseMoveEvent)}},e.prototype._mouseTouchMoveWithDownInfo=function(r,t){var n=Math.abs(t.x-r.x),i=Math.abs(t.y-r.y),o=n+i;return{xOffset:n,yOffset:i,manhattanDistance:o}},e.prototype._touchEndHandler=function(r){var t=this._touchWithId(r.changedTouches,this._activeTouchId);if(t===null&&r.touches.length===0&&(t=r.changedTouches[0]),t!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(r),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var n=this._makeCompatEvent(r,t);if(this._processEvent(n,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1){var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance;i<l0.DoubleTap&&!this._cancelTap&&this._processEvent(n,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processEvent(n,this._handler.tapEvent),me(this._handler.tapEvent)&&this._preventDefault(r));this._tapCount===0&&this._preventDefault(r),r.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(r))}},e.prototype._mouseUpHandler=function(r){if(r.button===n1.Left){var t=this._makeCompatEvent(r);if(this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),u2()){var n=this._target.ownerDocument.documentElement;n.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp)}if(!this._firesTouchEvents(r))if(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1){var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(r),this._clickCoordinate).manhattanDistance;i<l0.DoubleClick&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent)}},e.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},e.prototype._touchStartHandler=function(r){if(this._activeTouchId===null){var t=r.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(r);var n=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);{var i=this._touchMoveHandler.bind(this),o=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){n.removeEventListener("touchmove",i),n.removeEventListener("touchend",o)},n.addEventListener("touchmove",i,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,r),Vh.LongTap)}this._processEvent(this._makeCompatEvent(r,t),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),Vh.ResetClick),this._tapCoordinate=this._getCoordinate(t))}},e.prototype._mouseDownHandler=function(r){if(r.button===n1.Right){this._preventDefault(r),this._processEvent(this._makeCompatEvent(r),this._handler.mouseRightClickEvent);return}if(r.button===n1.Left){var t=this._target.ownerDocument.documentElement;u2()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(r),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);{var n=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",n),t.removeEventListener("mouseup",i)},t.addEventListener("mousemove",n),t.addEventListener("mouseup",i)}this._mousePressed=!0,!this._firesTouchEvents(r)&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),Vh.ResetClick),this._clickCoordinate=this._getCoordinate(r)))}},e.prototype._init=function(){var r=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));{var t=this._target.ownerDocument,n=function(i){r._handler.mouseDownOutsideEvent!=null&&(i.composed&&r._target.contains(i.composedPath()[0])||i.target!==null&&r._target.contains(i.target)||r._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",n)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",n)},t.addEventListener("mousedown",n),t.addEventListener("touchstart",n,{passive:!0})}Bf()&&(this._unsubscribeMobileSafariEvents=function(){r._target.removeEventListener("dblclick",r._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(i){if(i.button===n1.Middle)return i.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},e.prototype._initPinch=function(){var r=this;!me(this._handler.pinchStartEvent)&&!me(this._handler.pinchEvent)&&!me(this._handler.pinchEndEvent)||(this._target.addEventListener("touchstart",function(t){r._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){if(!(t.touches.length!==2||r._startPinchMiddleCoordinate===null)&&me(r._handler.pinchEvent)){var n=r._getTouchDistance(t.touches[0],t.touches[1]),i=n/r._startPinchDistance;r._handler.pinchEvent(Ke(Ke({},r._startPinchMiddleCoordinate),{pageX:0,pageY:0}),i),r._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",function(t){r._checkPinchState(t.touches)}))},e.prototype._checkPinchState=function(r){r.length===1&&(this._pinchPrevented=!1),r.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(r)},e.prototype._startPinch=function(r){var t=this._target.getBoundingClientRect();this._startPinchMiddleCoordinate={x:(r[0].clientX-t.left+(r[1].clientX-t.left))/2,y:(r[0].clientY-t.top+(r[1].clientY-t.top))/2},this._startPinchDistance=this._getTouchDistance(r[0],r[1]),me(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},e.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,me(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},e.prototype._mouseLeaveHandler=function(r){var t,n,i;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(n=this._unsubscribeMouseWheel)===null||n===void 0||n.call(this),(i=this._unsubscribeContextMenu)===null||i===void 0||i.call(this),!this._firesTouchEvents(r)&&this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(r),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!Bf())},e.prototype._longTapHandler=function(r){var t=this._touchWithId(r.touches,this._activeTouchId);t!==null&&(this._processEvent(this._makeCompatEvent(r,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},e.prototype._firesTouchEvents=function(r){var t;return me((t=r.sourceCapabilities)===null||t===void 0?void 0:t.firesTouchEvents)?r.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(r)<this._lastTouchEventTimeStamp+Vh.PreventFiresTouchEvents},e.prototype._processEvent=function(r,t){t==null||t.call(this._handler,r)},e.prototype._makeCompatEvent=function(r,t){var n=this,i=t??r,o=this._target.getBoundingClientRect();return{x:i.clientX-o.left,y:i.clientY-o.top,pageX:i.pageX,pageY:i.pageY,isTouch:!r.type.startsWith("mouse")&&r.type!=="contextmenu"&&r.type!=="click"&&r.type!=="wheel",preventDefault:function(){r.type!=="touchstart"&&n._preventDefault(r)}}},e.prototype._getTouchDistance=function(r,t){var n=r.clientX-t.clientX,i=r.clientY-t.clientY;return Math.sqrt(n*n+i*i)},e.prototype._preventDefault=function(r){r.cancelable&&r.preventDefault()},e.prototype._getCoordinate=function(r){return{x:r.pageX,y:r.pageY}},e.prototype._eventTimeStamp=function(r){var t;return(t=r.timeStamp)!==null&&t!==void 0?t:performance.now()},e.prototype._touchWithId=function(r,t){for(var n=0;n<r.length;++n)if(r[n].identifier===t)return r[n];return null},e}(),f7=function(){function e(r,t){var n=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(i){if(i.shiftKey)switch(i.code){case"Equal":{n._chart.getChartStore().zoom(.5);break}case"Minus":{n._chart.getChartStore().zoom(-.5);break}case"ArrowLeft":{var o=n._chart.getChartStore();o.startScroll(),o.scroll(-3*o.getBarSpace().bar);break}case"ArrowRight":{var o=n._chart.getChartStore();o.startScroll(),o.scroll(3*o.getBarSpace().bar);break}}},this._container=r,this._chart=t,this._event=new p7(r,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),r.addEventListener("keydown",this._boundKeyBoardDownEvent)}return e.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},e.prototype.pinchEvent=function(r,t){var n=this._findWidgetByEvent(r),i=n.pane,o=n.widget;if((i==null?void 0:i.getId())!==$t.X_AXIS&&(o==null?void 0:o.getName())===Xt.MAIN){var s=this._makeWidgetEvent(r,o),u=(t-this._pinchScale)*5;return this._pinchScale=t,this._chart.getChartStore().zoom(u,{x:s.x,y:s.y}),!0}return!1},e.prototype.mouseWheelHortEvent=function(r,t){var n=this._chart.getChartStore();return n.startScroll(),n.scroll(t),!0},e.prototype.mouseWheelVertEvent=function(r,t){var n=this._findWidgetByEvent(r).widget,i=this._makeWidgetEvent(r,n),o=n==null?void 0:n.getName();return o===Xt.MAIN?(this._chart.getChartStore().zoom(t,{x:i.x,y:i.y}),!0):!1},e.prototype.mouseDownEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(this._mouseDownWidget=i,i!==null){var o=this._makeWidgetEvent(r,i),s=i.getName();switch(s){case Xt.SEPARATOR:return i.dispatchEvent("mouseDownEvent",o);case Xt.MAIN:{var u=n.getAxisComponent();if(!u.getAutoCalcTickFlag()){var d=u.getRange();this._prevYAxisRange=Ke({},d)}return this._startScrollCoordinate={x:o.x,y:o.y},this._chart.getChartStore().startScroll(),i.dispatchEvent("mouseDownEvent",o)}case Xt.X_AXIS:return this._processXAxisScrollStartEvent(i,o);case Xt.Y_AXIS:return this._processYAxisScaleStartEvent(i,o)}}return!1},e.prototype.mouseMoveEvent=function(r){var t,n,i,o=this._findWidgetByEvent(r),s=o.pane,u=o.widget,d=this._makeWidgetEvent(r,u);if((((t=this._mouseMoveTriggerWidgetInfo.pane)===null||t===void 0?void 0:t.getId())!==(s==null?void 0:s.getId())||((n=this._mouseMoveTriggerWidgetInfo.widget)===null||n===void 0?void 0:n.getName())!==(u==null?void 0:u.getName()))&&(u==null||u.dispatchEvent("mouseEnterEvent",d),(i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0||i.dispatchEvent("mouseLeaveEvent",d),this._mouseMoveTriggerWidgetInfo={pane:s,widget:u}),u!==null){var h=u.getName();switch(h){case Xt.MAIN:{var f=u.dispatchEvent("mouseMoveEvent",d),v={x:d.x,y:d.y,paneId:s==null?void 0:s.getId()};return f?(u.getForceCursor()!=="pointer"&&(v=void 0),u.setCursor("pointer")):u.setCursor("crosshair"),this._chart.getChartStore().setCrosshair(v),f}case Xt.SEPARATOR:case Xt.X_AXIS:case Xt.Y_AXIS:{var f=u.dispatchEvent("mouseMoveEvent",d);return this._chart.getChartStore().setCrosshair(),f}}}return!1},e.prototype.pressedMouseMoveEvent=function(r){var t,n;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===Xt.SEPARATOR)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",r);var i=this._findWidgetByEvent(r),o=i.pane,s=i.widget;if(s!==null&&((t=this._mouseDownWidget)===null||t===void 0?void 0:t.getPane().getId())===(o==null?void 0:o.getId())&&((n=this._mouseDownWidget)===null||n===void 0?void 0:n.getName())===s.getName()){var u=this._makeWidgetEvent(r,s),d=s.getName();switch(d){case Xt.MAIN:{var h=void 0,f=s.dispatchEvent("pressedMouseMoveEvent",u);return f||this._processMainScrollingEvent(s,u),(!f||s.getForceCursor()==="pointer")&&(h={x:u.x,y:u.y,paneId:o==null?void 0:o.getId()}),this._chart.getChartStore().setCrosshair(h,{forceInvalidate:!0}),f}case Xt.X_AXIS:return this._processXAxisScrollingEvent(s,u);case Xt.Y_AXIS:return this._processYAxisScalingEvent(s,u)}}return!1},e.prototype.mouseUpEvent=function(r){var t=this._findWidgetByEvent(r).widget,n=!1;if(t!==null){var i=this._makeWidgetEvent(r,t),o=t.getName();switch(o){case Xt.MAIN:case Xt.SEPARATOR:case Xt.X_AXIS:case Xt.Y_AXIS:{n=t.dispatchEvent("mouseUpEvent",i);break}}n&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,n},e.prototype.mouseClickEvent=function(r){var t=this._findWidgetByEvent(r).widget;if(t!==null){var n=this._makeWidgetEvent(r,t);return t.dispatchEvent("mouseClickEvent",n)}return!1},e.prototype.mouseRightClickEvent=function(r){var t=this._findWidgetByEvent(r).widget,n=!1;if(t!==null){var i=this._makeWidgetEvent(r,t),o=t.getName();switch(o){case Xt.MAIN:case Xt.X_AXIS:case Xt.Y_AXIS:{n=t.dispatchEvent("mouseRightClickEvent",i);break}}n&&this._chart.updatePane(1)}return!1},e.prototype.mouseDoubleClickEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(i!==null){var o=i.getName();switch(o){case Xt.MAIN:{var s=this._makeWidgetEvent(r,i);return i.dispatchEvent("mouseDoubleClickEvent",s)}case Xt.Y_AXIS:{var u=n.getAxisComponent();if(!u.getAutoCalcTickFlag())return u.setAutoCalcTickFlag(!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),!0;break}}}return!1},e.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().setCrosshair(),!0},e.prototype.touchStartEvent=function(r){var t,n=this._findWidgetByEvent(r),i=n.pane,o=n.widget;if(o!==null){var s=this._makeWidgetEvent(r,o);(t=s.preventDefault)===null||t===void 0||t.call(s);var u=o.getName();switch(u){case Xt.MAIN:{var d=this._chart.getChartStore();if(o.dispatchEvent("mouseDownEvent",s))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,d.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0;this._flingScrollRequestId!==null&&(Gv(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime();var h=i.getAxisComponent();if(!h.getAutoCalcTickFlag()){var f=h.getRange();this._prevYAxisRange=Ke({},f)}if(this._startScrollCoordinate={x:s.x,y:s.y},d.startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var v=s.x-this._touchCoordinate.x,m=s.y-this._touchCoordinate.y,C=Math.sqrt(v*v+m*m);C<h7?(this._touchCoordinate={x:s.x,y:s.y},d.setCrosshair({x:s.x,y:s.y,paneId:i==null?void 0:i.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,d.setCrosshair())}return!0}case Xt.X_AXIS:return this._processXAxisScrollStartEvent(o,s);case Xt.Y_AXIS:return this._processYAxisScaleStartEvent(o,s)}}return!1},e.prototype.touchMoveEvent=function(r){var t,n=this._findWidgetByEvent(r),i=n.pane,o=n.widget;if(o!==null){var s=this._makeWidgetEvent(r,o);(t=s.preventDefault)===null||t===void 0||t.call(s);var u=o.getName(),d=this._chart.getChartStore();switch(u){case Xt.MAIN:return o.dispatchEvent("pressedMouseMoveEvent",s)?(d.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0):(this._touchCoordinate!==null?d.setCrosshair({x:s.x,y:s.y,paneId:i==null?void 0:i.getId()}):this._processMainScrollingEvent(o,s),!0);case Xt.X_AXIS:return this._processXAxisScrollingEvent(o,s);case Xt.Y_AXIS:return this._processYAxisScalingEvent(o,s)}}return!1},e.prototype.touchEndEvent=function(r){var t=this,n=this._findWidgetByEvent(r).widget;if(n!==null){var i=this._makeWidgetEvent(r,n),o=n.getName();switch(o){case Xt.MAIN:{if(n.dispatchEvent("mouseUpEvent",i),this._startScrollCoordinate!==null){var s=new Date().getTime()-this._flingStartTime,u=i.x-this._startScrollCoordinate.x,d=u/(s>0?s:1)*20;if(s<200&&Math.abs(d)>0){var h=this._chart.getChartStore(),f=function(){t._flingScrollRequestId=cp(function(){h.startScroll(),h.scroll(d),d=d*(1-.025),Math.abs(d)<1?t._flingScrollRequestId!==null&&(Gv(t._flingScrollRequestId),t._flingScrollRequestId=null):f()})};f()}}return!0}case Xt.X_AXIS:case Xt.Y_AXIS:{var v=n.dispatchEvent("mouseUpEvent",i);v&&this._chart.updatePane(1)}}this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0}return!1},e.prototype.tapEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget,o=!1;if(i!==null){var s=this._makeWidgetEvent(r,i),u=i.dispatchEvent("mouseClickEvent",s);if(i.getName()===Xt.MAIN){var d=this._makeWidgetEvent(r,i),h=this._chart.getChartStore();u?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,h.setCrosshair(void 0,{notInvalidate:!0}),o=!0):(!this._touchCancelCrosshair&&!this._touchZoomed&&(this._touchCoordinate={x:d.x,y:d.y},h.setCrosshair({x:d.x,y:d.y,paneId:n==null?void 0:n.getId()},{notInvalidate:!0}),o=!0),this._touchCancelCrosshair=!1)}(o||u)&&this._chart.updatePane(1)}return o},e.prototype.doubleTapEvent=function(r){return this.mouseDoubleClickEvent(r)},e.prototype.longTapEvent=function(r){var t=this._findWidgetByEvent(r),n=t.pane,i=t.widget;if(i!==null&&i.getName()===Xt.MAIN){var o=this._makeWidgetEvent(r,i);return this._touchCoordinate={x:o.x,y:o.y},this._chart.getChartStore().setCrosshair({x:o.x,y:o.y,paneId:n==null?void 0:n.getId()}),!0}return!1},e.prototype._processMainScrollingEvent=function(r,t){if(this._startScrollCoordinate!==null){var n=r.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&!n.getAutoCalcTickFlag()&&n.scrollZoomEnabled){var i=this._prevYAxisRange,o=i.from,s=i.to,u=i.range,d=0;n.reverse?d=this._startScrollCoordinate.y-t.y:d=t.y-this._startScrollCoordinate.y;var h=r.getBounding(),f=d/h.height,v=u*f,m=o+v,C=s+v,b=n.valueToRealValue(m,{range:this._prevYAxisRange}),_=n.valueToRealValue(C,{range:this._prevYAxisRange}),k=n.realValueToDisplayValue(b,{range:this._prevYAxisRange}),S=n.realValueToDisplayValue(_,{range:this._prevYAxisRange});n.setRange({from:m,to:C,range:C-m,realFrom:b,realTo:_,realRange:_-b,displayFrom:k,displayTo:S,displayRange:S-k})}var T=t.x-this._startScrollCoordinate.x;this._chart.getChartStore().scroll(T)}},e.prototype._processXAxisScrollStartEvent=function(r,t){var n=r.dispatchEvent("mouseDownEvent",t);return n&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:t.x,y:t.y},this._xAxisStartScaleDistance=t.pageX,n},e.prototype._processXAxisScrollingEvent=function(r,t){var n,i=r.dispatchEvent("pressedMouseMoveEvent",t);if(i)this._chart.updatePane(1);else{var o=r.getPane().getAxisComponent();if(o.scrollZoomEnabled&&this._xAxisStartScaleDistance!==0){var s=this._xAxisStartScaleDistance/t.pageX;if(Number.isFinite(s)){var u=(s-this._xAxisScale)*10;this._xAxisScale=s,this._chart.getChartStore().zoom(u,(n=this._xAxisStartScaleCoordinate)!==null&&n!==void 0?n:void 0)}}}return i},e.prototype._processYAxisScaleStartEvent=function(r,t){var n=r.dispatchEvent("mouseDownEvent",t);n&&this._chart.updatePane(1);var i=r.getPane().getAxisComponent().getRange();return this._prevYAxisRange=Ke({},i),this._yAxisStartScaleDistance=t.pageY,n},e.prototype._processYAxisScalingEvent=function(r,t){var n=r.dispatchEvent("pressedMouseMoveEvent",t);if(n)this._chart.updatePane(1);else{var i=r.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&i.scrollZoomEnabled&&this._yAxisStartScaleDistance!==0){var o=this._prevYAxisRange,s=o.from,u=o.to,d=o.range,h=t.pageY/this._yAxisStartScaleDistance,f=d*h,v=(f-d)/2,m=s-v,C=u+v,b=i.valueToRealValue(m,{range:this._prevYAxisRange}),_=i.valueToRealValue(C,{range:this._prevYAxisRange}),k=i.realValueToDisplayValue(b,{range:this._prevYAxisRange}),S=i.realValueToDisplayValue(_,{range:this._prevYAxisRange});i.setRange({from:m,to:C,range:f,realFrom:b,realTo:_,realRange:_-b,displayFrom:k,displayTo:S,displayRange:S-k}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}}return n},e.prototype._findWidgetByEvent=function(r){var t,n,i,o,s=r.x,u=r.y,d=this._chart.getSeparatorPanes(),h=this._chart.getStyles().separator.size;try{for(var f=oo(d),v=f.next();!v.done;v=f.next()){var m=v.value,C=m[1],b=C.getBounding(),_=b.top-Math.round((h1-h)/2);if(s>=b.left&&s<=b.left+b.width&&u>=_&&u<=_+h1)return{pane:C,widget:C.getWidget()}}}catch(W){t={error:W}}finally{try{v&&!v.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}var k=this._chart.getDrawPanes(),S=null;try{for(var T=oo(k),I=T.next();!I.done;I=T.next()){var P=I.value,b=P.getBounding();if(s>=b.left&&s<=b.left+b.width&&u>=b.top&&u<=b.top+b.height){S=P;break}}}catch(W){i={error:W}}finally{try{I&&!I.done&&(o=T.return)&&o.call(T)}finally{if(i)throw i.error}}var L=null;if(S!==null){if(!me(L)){var z=S.getMainWidget(),R=z.getBounding();s>=R.left&&s<=R.left+R.width&&u>=R.top&&u<=R.top+R.height&&(L=z)}if(!me(L)){var V=S.getYAxisWidget();if(V!==null){var $=V.getBounding();s>=$.left&&s<=$.left+$.width&&u>=$.top&&u<=$.top+$.height&&(L=V)}}}return{pane:S,widget:L}},e.prototype._makeWidgetEvent=function(r,t){var n,i,o,s=(n=t==null?void 0:t.getBounding())!==null&&n!==void 0?n:null;return Ke(Ke({},r),{x:r.x-((i=s==null?void 0:s.left)!==null&&i!==void 0?i:0),y:r.y-((o=s==null?void 0:s.top)!==null&&o!==void 0?o:0)})},e.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},e}(),g7=function(){function e(r,t){this._chartBounding=sp(),this._drawPanes=[],this._separatorPanes=new Map,this._layoutOptions={sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1},this._layoutPending=!1,this._cacheYAxisWidth={left:0,right:0},this._initContainer(r),this._chartEvent=new f7(this._chartContainer,this),this._chartStore=new f8(this,t),this._initPanes(t),this._layout()}return e.prototype._initContainer=function(r){this._container=r,this._chartContainer=Nl("div",{position:"relative",width:"100%",height:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",overflow:"hidden",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,r.appendChild(this._chartContainer),this._cacheChartBounding()},e.prototype._cacheChartBounding=function(){this._chartBounding.width=Math.floor(this._chartContainer.clientWidth),this._chartBounding.height=Math.floor(this._chartContainer.clientHeight)},e.prototype._initPanes=function(r){var t=this,n,i=(n=r==null?void 0:r.layout)!==null&&n!==void 0?n:[{type:"candle"}],o=function(u){var d,h;if(!me(t._candlePane)){var f=(d=u.options)!==null&&d!==void 0?d:{};pn(f,{id:$t.CANDLE}),t._candlePane=t._createPane(e7,$t.CANDLE,f);var v=(h=u.content)!==null&&h!==void 0?h:[];v.forEach(function(m){t.createIndicator(m,!0,f)})}},s=function(u){if(!me(t._xAxisPane)){var d=t._createPane(s7,$t.X_AXIS,u??{});t._xAxisPane=d}};i.forEach(function(u){var d,h,f;switch(u.type){case"candle":{o(u);break}case"indicator":{var v=(d=u.content)!==null&&d!==void 0?d:[];if(v.length>0){var m=(f=(h=u.options)===null||h===void 0?void 0:h.id)!==null&&f!==void 0?f:null;me(m)&&(m=qh($t.INDICATOR));var C=Ke(Ke({},u.options),{id:m});v.forEach(function(b){t.createIndicator(b,!0,C)})}break}case"xAxis":{s(u.options);break}}}),o({}),s({order:Number.MAX_SAFE_INTEGER})},e.prototype._createPane=function(r,t,n){var i=new r(this,t,n??{});return this._drawPanes.push(i),i},e.prototype._recalculatePaneHeight=function(r,t,n){if(n===0)return!1;var i=this._drawPanes.filter(function(v){var m=v.getId();return v.getOptions().state==="normal"&&m!==r.getId()&&m!==$t.X_AXIS}),o=i.length;if(o===0)return!1;if(r.getId()!==$t.CANDLE&&me(this._candlePane)&&this._candlePane.getOptions().state==="normal"){var s=this._candlePane.getBounding().height;if(s>0){var u=this._candlePane.getOptions().minHeight,d=s+n;d<u&&(d=u,t-=s+n-d),this._candlePane.setBounding({height:d})}}else{var h=n,f=Math.floor(n/o);i.forEach(function(v,m){var C=v.getBounding().height,b=0;m===o-1?b=C+h:b=C+f,b<v.getOptions().minHeight&&(b=v.getOptions().minHeight),v.setBounding({height:b}),h-=b-C}),Math.abs(h)>0&&(t-=h)}return r.setBounding({height:t}),!0},e.prototype.getDrawPaneById=function(r){if(r===$t.CANDLE)return this._candlePane;if(r===$t.X_AXIS)return this._xAxisPane;var t=this._drawPanes.find(function(n){return n.getId()===r});return t??null},e.prototype.getContainer=function(){return this._container},e.prototype.getChartStore=function(){return this._chartStore},e.prototype.getXAxisPane=function(){return this._xAxisPane},e.prototype.getDrawPanes=function(){return this._drawPanes},e.prototype.getSeparatorPanes=function(){return this._separatorPanes},e.prototype.layout=function(r){var t=this,n,i,o,s,u,d,h;(n=r.sort)!==null&&n!==void 0&&n&&(this._layoutOptions.sort=r.sort),(i=r.measureHeight)!==null&&i!==void 0&&i&&(this._layoutOptions.measureHeight=r.measureHeight),(o=r.measureWidth)!==null&&o!==void 0&&o&&(this._layoutOptions.measureWidth=r.measureWidth),(s=r.update)!==null&&s!==void 0&&s&&(this._layoutOptions.update=r.update),(u=r.buildYAxisTick)!==null&&u!==void 0&&u&&(this._layoutOptions.buildYAxisTick=r.buildYAxisTick),(d=r.cacheYAxisWidth)!==null&&d!==void 0&&d&&(this._layoutOptions.cacheYAxisWidth=r.cacheYAxisWidth),(h=r.buildYAxisTick)!==null&&h!==void 0&&h&&(this._layoutOptions.forceBuildYAxisTick=r.forceBuildYAxisTick),this._layoutPending||(this._layoutPending=!0,Promise.resolve().then(function(f){t._layout(),t._layoutPending=!1}).catch(function(f){}))},e.prototype._layout=function(){var r=this,t=this._layoutOptions,n=t.sort,i=t.measureHeight,o=t.measureWidth,s=t.update,u=t.buildYAxisTick,d=t.cacheYAxisWidth,h=t.forceBuildYAxisTick;if(n){for(;me(this._chartContainer.firstChild);)this._chartContainer.removeChild(this._chartContainer.firstChild);this._separatorPanes.clear(),this._drawPanes.sort(function(G,K){return G.getOptions().order-K.getOptions().order});var f=null;this._drawPanes.forEach(function(G){if(G.getId()!==$t.X_AXIS){if(me(f)){var K=new d7(r,"",f,G);r._chartContainer.appendChild(K.getContainer()),r._separatorPanes.set(G,K)}f=G}r._chartContainer.appendChild(G.getContainer())})}if(i){var v=this._chartBounding.height,m=this.getStyles().separator.size,C=this._xAxisPane.getAxisComponent().getAutoSize(),b=v-C;b<0&&(b=0),this._drawPanes.forEach(function(G){var K=G.getId();if(me(r._separatorPanes.get(G))&&(b-=m),K!==$t.X_AXIS&&K!==$t.CANDLE&&G.getVisible()){var X=G.getBounding().height;X>b?(X=b,b=0):b-=X,G.setBounding({height:X})}}),this._candlePane.setBounding({height:Math.max(b,0)}),this._xAxisPane.setBounding({height:C});var _=0;this._drawPanes.forEach(function(G){var K=r._separatorPanes.get(G);me(K)&&(K.setBounding({height:m,top:_}),_+=m),G.setBounding({top:_}),_+=G.getBounding().height})}var k=o;if((u||h)&&this._drawPanes.forEach(function(G){var K=G.getAxisComponent().buildTicks(h);k||(k=K)}),k){var S=this._chartBounding.width,T=this.getStyles(),I=0,P=!0,L=0,z=!0;this._drawPanes.forEach(function(G){if(G.getId()!==$t.X_AXIS){var K=G.getAxisComponent(),X=K.inside,J=K.getAutoSize();K.position==="left"?(I=Math.max(I,J),X&&(P=!1)):(L=Math.max(L,J),X&&(z=!1))}}),d&&(I=Math.max(this._cacheYAxisWidth.left,I),L=Math.max(this._cacheYAxisWidth.right,L)),this._cacheYAxisWidth.left=I,this._cacheYAxisWidth.right=L;var R=S,V=0,$=0;P&&(R-=I,V=I),z&&(R-=L,$=L),this._chartStore.setTotalBarSpace(R);var W={width:S},te={width:R,left:V,right:$},ue={width:I},Y={width:L},Z=T.separator.fill,q={};Z?q=W:q=te,this._drawPanes.forEach(function(G){var K;(K=r._separatorPanes.get(G))===null||K===void 0||K.setBounding(q),G.setBounding(W,te,ue,Y)})}s&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4)),this._layoutOptions={sort:!1,measureHeight:!1,measureWidth:!1,update:!1,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1}},e.prototype.updatePane=function(r,t){var n=this;if(me(t)){var i=this.getDrawPaneById(t);i==null||i.update(r)}else this._drawPanes.forEach(function(o){var s;o.update(r),(s=n._separatorPanes.get(o))===null||s===void 0||s.update(r)})},e.prototype.getDom=function(r,t){var n,i;if(me(r)){var o=this.getDrawPaneById(r);if(me(o)){var s=t??"root";switch(s){case"root":return o.getContainer();case"main":return o.getMainWidget().getContainer();case"yAxis":return(i=(n=o.getYAxisWidget())===null||n===void 0?void 0:n.getContainer())!==null&&i!==void 0?i:null}}}else return this._chartContainer;return null},e.prototype.getSize=function(r,t){var n,i;if(me(r)){var o=this.getDrawPaneById(r);if(me(o)){var s=t??"root";switch(s){case"root":return o.getBounding();case"main":return o.getMainWidget().getBounding();case"yAxis":return(i=(n=o.getYAxisWidget())===null||n===void 0?void 0:n.getBounding())!==null&&i!==void 0?i:null}}}else return this._chartBounding;return null},e.prototype.setSymbol=function(r){this._chartStore.setSymbol(r)},e.prototype.getSymbol=function(){return this._chartStore.getSymbol()},e.prototype.setPeriod=function(r){this._chartStore.setPeriod(r)},e.prototype.getPeriod=function(){return this._chartStore.getPeriod()},e.prototype.setStyles=function(r){var t=this;this._setOptions(function(){t._chartStore.setStyles(r)})},e.prototype.getStyles=function(){return this._chartStore.getStyles()},e.prototype.setFormatter=function(r){var t=this;this._setOptions(function(){t._chartStore.setFormatter(r)})},e.prototype.getFormatter=function(){return this._chartStore.getFormatter()},e.prototype.setLocale=function(r){var t=this;this._setOptions(function(){t._chartStore.setLocale(r)})},e.prototype.getLocale=function(){return this._chartStore.getLocale()},e.prototype.setTimezone=function(r){var t=this;this._setOptions(function(){t._chartStore.setTimezone(r)})},e.prototype.getTimezone=function(){return this._chartStore.getTimezone()},e.prototype.setThousandsSeparator=function(r){var t=this;this._setOptions(function(){t._chartStore.setThousandsSeparator(r)})},e.prototype.getThousandsSeparator=function(){return this._chartStore.getThousandsSeparator()},e.prototype.setDecimalFold=function(r){var t=this;this._setOptions(function(){t._chartStore.setDecimalFold(r)})},e.prototype.getDecimalFold=function(){return this._chartStore.getDecimalFold()},e.prototype._setOptions=function(r){r(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.setOffsetRightDistance=function(r){this._chartStore.setOffsetRightDistance(r,!0)},e.prototype.getOffsetRightDistance=function(){return this._chartStore.getOffsetRightDistance()},e.prototype.setMaxOffsetLeftDistance=function(r){r<0||this._chartStore.setMaxOffsetLeftDistance(r)},e.prototype.setMaxOffsetRightDistance=function(r){r<0||this._chartStore.setMaxOffsetRightDistance(r)},e.prototype.setLeftMinVisibleBarCount=function(r){r<0||this._chartStore.setLeftMinVisibleBarCount(Math.ceil(r))},e.prototype.setRightMinVisibleBarCount=function(r){r<0||this._chartStore.setRightMinVisibleBarCount(Math.ceil(r))},e.prototype.setBarSpace=function(r){this._chartStore.setBarSpace(r)},e.prototype.getBarSpace=function(){return this._chartStore.getBarSpace()},e.prototype.getVisibleRange=function(){return this._chartStore.getVisibleRange()},e.prototype.resetData=function(){this._chartStore.resetData()},e.prototype.getDataList=function(){return this._chartStore.getDataList()},e.prototype.setDataLoader=function(r){this._chartStore.setDataLoader(r)},e.prototype.createIndicator=function(r,t,n){var i,o=cr(r)?{name:r}:r;if(ym(o.name)===null)return null;var s=n??{};cr(s.id)||(s.id=qh($t.INDICATOR)),cr(o.id)||(o.id=qh(o.name));var u=this._chartStore.addIndicator(o,s.id,t??!1);if(u){var d=!1;return me(this.getDrawPaneById(s.id))||(this._createPane(Um,s.id,s),(i=s.height)!==null&&i!==void 0||(s.height=_m),d=!0),this.setPaneOptions(s),this.layout({sort:d,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),o.id}return null},e.prototype.overrideIndicator=function(r){return this._chartStore.overrideIndicator(r)},e.prototype.getIndicators=function(r){return this._chartStore.getIndicatorsByFilter(r??{})},e.prototype.removeIndicator=function(r){var t=this,n=this._chartStore.removeIndicator(r??{});if(n){var i=!1,o=[];this._drawPanes.forEach(function(s){var u=s.getId();u!==$t.CANDLE&&u!==$t.X_AXIS&&o.push(u)}),o.forEach(function(s){if(!t._chartStore.hasIndicators(s)){var u=t._drawPanes.findIndex(function(h){return h.getId()===s}),d=t._drawPanes[u];me(d)&&(i=!0,t._recalculatePaneHeight(d,0,d.getBounding().height),t._drawPanes.splice(u,1),d.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:i,measureHeight:i,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return n},e.prototype.createOverlay=function(r){var t=this,n=[],i=[],o=function(u){!me(u.paneId)||t.getDrawPaneById(u.paneId)===null?(u.paneId=$t.CANDLE,i.push(!1)):i.push(!0),n.push(u)};cr(r)?o({name:r}):$o(r)?r.forEach(function(u){var d=null;cr(u)?d={name:u}:d=u,o(d)}):o(r);var s=this._chartStore.addOverlays(n,i);return $o(r)?s:s[0]},e.prototype.getOverlays=function(r){return this._chartStore.getOverlaysByFilter(r??{})},e.prototype.overrideOverlay=function(r){return this._chartStore.overrideOverlay(r)},e.prototype.removeOverlay=function(r){return this._chartStore.removeOverlay(r??{})},e.prototype.setPaneOptions=function(r){var t,n,i=this,o,s=!1,u=!1,d=me(r.id),h=function(_){var k=_.getId();if(d&&r.id===k||!d){if(k!==$t.X_AXIS){if(ut(r.height)&&r.height>0){var S=Math.max((o=r.minHeight)!==null&&o!==void 0?o:_.getOptions().minHeight,0),T=Math.max(S,r.height);u=!0,s=!0,_.setOriginalBounding({height:T}),f._recalculatePaneHeight(_,T,-T)}if(me(r.state)&&_.getOptions().state!==r.state){s=!0,u=!0;var I=r.state;switch(I){case"maximize":{var P=f._drawPanes.find(function($){var W=$.getId();return $.getOptions().state==="maximize"&&W!==$t.X_AXIS});if(!me(P)){_.getOptions().state==="normal"&&_.setOriginalBounding({height:_.getBounding().height}),_.setOptions({state:I});var L=f._chartBounding.height;_.setBounding({height:L-f._xAxisPane.getBounding().height}),f._drawPanes.forEach(function($){var W;$.getId()!==$t.X_AXIS&&$.getId()!==k&&($.setBounding({height:$.getOriginalBounding().height}),$.setVisible(!1),(W=i._separatorPanes.get($))===null||W===void 0||W.setVisible(!1))})}break}case"minimize":{var T=_.getBounding().height,z=_.getOptions().state,R=T-Jh;z==="maximize"&&(R=_.getOriginalBounding().height-Jh),f._recalculatePaneHeight(_,Jh,R)&&(z==="normal"&&_.setOriginalBounding({height:T}),_.setOptions({state:I})),f._drawPanes.forEach(function(W){var te;W.getId()!==$t.X_AXIS&&(W.setVisible(!0),(te=i._separatorPanes.get(W))===null||te===void 0||te.setVisible(!0))});break}default:{var T=_.getOriginalBounding().height;f._recalculatePaneHeight(_,T,_.getBounding().height-T)&&_.setOptions({state:I}),f._drawPanes.forEach(function(W){var te;W.getId()!==$t.X_AXIS&&(W.setVisible(!0),(te=i._separatorPanes.get(W))===null||te===void 0||te.setVisible(!0))});break}}}}me(r.axis)&&(u=!0);var V=Ke({},r);if(delete V.state,_.setOptions(V),k===r.id)return"break"}},f=this;try{for(var v=oo(this._drawPanes),m=v.next();!m.done;m=v.next()){var C=m.value,b=h(C);if(b==="break")break}}catch(_){t={error:_}}finally{try{m&&!m.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}u&&this.layout({measureHeight:s,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.getPaneOptions=function(r){var t;if(me(r)){var n=this.getDrawPaneById(r);return(t=n==null?void 0:n.getOptions())!==null&&t!==void 0?t:null}return this._drawPanes.map(function(i){return i.getOptions()})},e.prototype.setZoomEnabled=function(r){this._chartStore.setZoomEnabled(r)},e.prototype.isZoomEnabled=function(){return this._chartStore.isZoomEnabled()},e.prototype.setScrollEnabled=function(r){this._chartStore.setScrollEnabled(r)},e.prototype.isScrollEnabled=function(){return this._chartStore.isScrollEnabled()},e.prototype.scrollByDistance=function(r,t){var n=this,i=ut(t)&&t>0?t:0;if(this._chartStore.startScroll(),i>0){var o=new cg({duration:i});o.doFrame(function(s){var u=r*(s/i);n._chartStore.scroll(u)}),o.start()}else this._chartStore.scroll(r)},e.prototype.scrollToRealTime=function(r){var t=this._chartStore.getBarSpace().bar,n=this._chartStore.getLastBarRightSideDiffBarCount()-this._chartStore.getInitialOffsetRightDistance()/t,i=n*t;this.scrollByDistance(i,r)},e.prototype.scrollToDataIndex=function(r,t){var n=(this._chartStore.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-r))*this._chartStore.getBarSpace().bar;this.scrollByDistance(n,t)},e.prototype.scrollToTimestamp=function(r,t){var n=ug(this.getDataList(),"timestamp",r);this.scrollToDataIndex(n,t)},e.prototype.zoomAtCoordinate=function(r,t,n){var i=this,o=ut(n)&&n>0?n:0,s=this._chartStore.getBarSpace().bar,u=s*r,d=u-s;if(o>0){var h=0,f=new cg({duration:o});f.doFrame(function(v){var m=d*(v/o),C=(m-h)/i._chartStore.getBarSpace().bar*dg;i._chartStore.zoom(C,t),h=m}),f.start()}else this._chartStore.zoom(d/s*dg,t)},e.prototype.zoomAtDataIndex=function(r,t,n){var i=this._chartStore.dataIndexToCoordinate(t);this.zoomAtCoordinate(r,{x:i,y:0},n)},e.prototype.zoomAtTimestamp=function(r,t,n){var i=ug(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(r,i,n)},e.prototype.convertToPixel=function(r,t){var n=this,i,o=t??{},s=o.paneId,u=s===void 0?$t.CANDLE:s,d=o.absolute,h=d===void 0?!1:d,f=[];if(u!==$t.X_AXIS){var v=this.getDrawPaneById(u);if(v!==null){var m=v.getBounding(),C=[].concat(r),b=this._xAxisPane.getAxisComponent(),_=v.getAxisComponent();f=C.map(function(k){var S={},T=k.dataIndex;if(ut(k.timestamp)&&(T=n._chartStore.timestampToDataIndex(k.timestamp)),ut(T)&&(S.x=b.convertToPixel(T)),ut(k.value)){var I=_.convertToPixel(k.value);S.y=h?m.top+I:I}return S})}}return $o(r)?f:(i=f[0])!==null&&i!==void 0?i:{}},e.prototype.convertFromPixel=function(r,t){var n=this,i,o=t??{},s=o.paneId,u=s===void 0?$t.CANDLE:s,d=o.absolute,h=d===void 0?!1:d,f=[];if(u!==$t.X_AXIS){var v=this.getDrawPaneById(u);if(v!==null){var m=v.getBounding(),C=[].concat(r),b=this._xAxisPane.getAxisComponent(),_=v.getAxisComponent();f=C.map(function(k){var S,T={};if(ut(k.x)){var I=b.convertFromPixel(k.x);T.dataIndex=I,T.timestamp=(S=n._chartStore.dataIndexToTimestamp(I))!==null&&S!==void 0?S:void 0}if(ut(k.y)){var P=h?k.y-m.top:k.y;T.value=_.convertFromPixel(P)}return T})}}return $o(r)?f:(i=f[0])!==null&&i!==void 0?i:{}},e.prototype.executeAction=function(r,t){var n;switch(r){case"onCrosshairChange":{var i=Ke({},t);(n=i.paneId)!==null&&n!==void 0||(i.paneId=$t.CANDLE),this._chartStore.setCrosshair(i,{notExecuteAction:!0});break}}},e.prototype.subscribeAction=function(r,t){this._chartStore.subscribeAction(r,t)},e.prototype.unsubscribeAction=function(r,t){this._chartStore.unsubscribeAction(r,t)},e.prototype.getConvertPictureUrl=function(r,t,n){var i=this,o=this._chartBounding,s=o.width,u=o.height,d=Nl("canvas",{width:"".concat(s,"px"),height:"".concat(u,"px"),boxSizing:"border-box"}),h=d.getContext("2d"),f=Es(d);d.width=s*f,d.height=u*f,h.scale(f,f),h.fillStyle=n??"#FFFFFF",h.fillRect(0,0,s,u);var v=r??!1;return this._drawPanes.forEach(function(m){var C=i._separatorPanes.get(m);if(me(C)){var b=C.getBounding();h.drawImage(C.getImage(v),b.left,b.top,b.width,b.height)}var _=m.getBounding();h.drawImage(m.getImage(v),0,_.top,s,_.height)}),d.toDataURL("image/".concat(t??"jpeg"))},e.prototype.resize=function(){this._cacheChartBounding(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},e.prototype.destroy=function(){this._chartEvent.destroy(),this._drawPanes.forEach(function(r){r.destroy()}),this._drawPanes=[],this._separatorPanes.clear(),this._chartStore.destroy(),this._container.removeChild(this._chartContainer)},e}(),d2=new Map,v7=1;function m7(e,r){var t=null;if(cr(e)?t=document.getElementById(e):t=e,t===null)return null;var n=d2.get(t.id);if(me(n))return n;var i="k_line_chart_".concat(v7++);return n=new g7(t,r),n.id=i,t.setAttribute("k-line-chart-id",i),d2.set(i,n),n}var wn={clone:S0,merge:pn,isString:cr,isNumber:ut,isValid:me,isObject:ro,isArray:$o,isFunction:si,isBoolean:v1,formatValue:_n,formatPrecision:jn,formatBigNumber:hm,formatDate:dm,formatThousands:pm,formatFoldDecimal:fm,calcTextWidth:no,getLinearSlopeIntercept:Ep,getLinearYFromSlopeIntercept:Ag,getLinearYFromCoordinates:m1,checkCoordinateOnArc:Lm,checkCoordinateOnCircle:Sm,checkCoordinateOnLine:Cm,checkCoordinateOnPolygon:Mm,checkCoordinateOnRect:Rg,checkCoordinateOnText:Im};const y7="",x7="",C7="",b7="",w7="",_7="",k7="",S7="",M7="",E7="",T7="",I7="",L7="",P7="MA()",A7="EMA()",D7="SMA",F7="BOLL()",R7="BBI()",O7="SAR()",N7="VOL()",z7="MACD()",B7="KDJ()",V7="RSI()",$7="BIAS()",W7="BRAR()",U7="CCI()",H7="DMI()",Y7="CR()",X7="PSY()",j7="DMA()",G7="TRIX()",K7="OBV()",Q7="VR()",Z7="WR()",q7="MTM()",J7="EMV()",e4="ROC()",t4="PVT()",r4="AO()",n4="",i4="(UTC-10) ",a4="(UTC-8) ",o4="(UTC-7) ",l4="(UTC-5) ",s4="(UTC-4) ",c4="(UTC-3) ",u4="(UTC+1) ",d4="(UTC+2) ",h4="(UTC+3) ",p4="(UTC+4) ",f4="(UTC+5) ",g4="(UTC+6) ",v4="(UTC+7) ",m4="(UTC+8) ",y4="(UTC+9) ",x4="(UTC+10) ",C4="(UTC+12) ",b4="",w4="",_4="",k4="",S4="",M4="",E4="",T4="",I4="",L4="",P4="",A4="",D4="",F4="",R4="",O4="",N4="",z4="",B4="",V4="",$4="",W4="",U4="",H4="",Y4="",X4="",j4="",G4="",K4="",Q4="",Z4="",q4="",J4="ABCD",ex="XABCD",tx="",rx="",nx="",ix="",ax="1",ox="2",lx="3",sx="4",cx="5",ux="",dx="",hx="",px="",fx="",gx="",vx="",mx="OHLC",yx="",xx="",Cx="",bx="",wx="",_x="",kx="",Sx="",Mx="",Ex="",Tx="",Ix="",Lx="",Px="",Ax={indicator:y7,main_indicator:x7,sub_indicator:C7,favourites:b7,setting:w7,replay:_7,timezone:k7,screenshot:S7,full_screen:M7,exit_full_screen:E7,save:T7,confirm:I7,cancel:L7,ma:P7,ema:A7,sma:D7,boll:F7,bbi:R7,sar:O7,vol:N7,macd:z7,kdj:B7,rsi:V7,bias:$7,brar:W7,cci:U7,dmi:H7,cr:Y7,psy:X7,dma:j7,trix:G7,obv:K7,vr:Q7,wr:Z7,mtm:q7,emv:J7,roc:e4,pvt:t4,ao:r4,utc:n4,honolulu:i4,juneau:a4,los_angeles:o4,chicago:l4,toronto:s4,sao_paulo:c4,london:u4,berlin:d4,bahrain:h4,dubai:p4,ashkhabad:f4,almaty:g4,bangkok:v4,shanghai:m4,tokyo:y4,sydney:x4,norfolk:C4,D:b4,"5D":"5",W:w4,M:_4,"3M":"3","6M":"6",Y:k4,"5Y":"5","Light Theme 1":"1","Light Theme 2":"2","Midnight Theme":"","Dark Theme":"","Dark Gray Theme":"","Blue Theme":"","Red Theme":"","Green Theme":"","Yellow Theme":"","Pink Theme":"",horizontal_straight_line:S4,horizontal_ray_line:M4,horizontal_segment:E4,vertical_straight_line:T4,vertical_ray_line:I4,vertical_segment:L4,straight_line:P4,ray_line:A4,segment:D4,arrow:F4,price_line:R4,price_channel_line:O4,parallel_straight_line:N4,fibonacci_line:z4,fibonacci_segment:B4,fibonacci_circle:V4,fibonacci_spiral:$4,fibonacci_speed_resistance_fan:W4,fibonacci_extension:U4,gann_box:H4,rect:Y4,parallelogram:X4,circle:j4,triangle:G4,three_waves:K4,five_waves:Q4,eight_waves:Z4,any_waves:q4,abcd:J4,xabcd:ex,weak_magnet:tx,strong_magnet:rx,symbol_search:nx,symbol_code:ix,params_1:ax,params_2:ox,params_3:lx,params_4:sx,params_5:cx,period:ux,standard_deviation:dx,candle_type:hx,candle_solid:px,candle_stroke:fx,candle_up_stroke:gx,candle_down_stroke:vx,ohlc:mx,area:yx,heikin_ashi:xx,last_price_show:Cx,high_price_show:bx,low_price_show:wx,indicator_last_value_show:_x,price_axis_type:kx,normal:Sx,percentage:Mx,log:Ex,reverse_coordinate:Tx,grid_show:Ix,restore_default:Lx,volumeBars:Px},Dx="Indicator",Fx="Indicators",Rx="Main Indicator",Ox="Sub Indicator",Nx="Favourites",zx="Setting",Bx="Replay",Vx="Timezone",$x="Screenshot",Wx="Full Screen",Ux="Exit",Hx="Save",Yx="Confirm",Xx="Cancel",jx="MA - Moving Average",Gx="EMA - Exponential Moving Average",Kx="SMA - Simple Moving Average",Qx="BOLL - Bolinger Bands",Zx="BBI - Bull And Bearlndex",qx="SAR - Stop and Reverse",Jx="VOL - Volume (sub)",eC="MACD - Moving Average Convergence / Divergence",tC="KDJ - KDJ Index",rC="RSI - Relative Strength Index",nC="BIAS - Bias Ratio",iC="BRAR - Emotional Index",aC="CCI - Commodity Channel Index",oC="DMI - Directional Movement Index (PDI, MDI, ADX, ADXR)",lC="PDI - Plus Directional Indicator",sC="MDI - Minus Directional Indicator",cC="ADX - Average Directional Index",uC="ADXR - Average Directional Index Rating",dC="CR - Energy Index",hC="PSY - Psychological Line",pC="DMA - Different of Moving Average",fC="TRIX - Triple Exponentially Smoothed Moving Average",gC="OBV - On Balance Volume",vC="VR - Volatility Volume Ratio",mC="WR - Williams %R",yC="MTM - Momentum Index",xC="EMV - Ease of Movement Value",CC="ROC - Price Rate of Change",bC="PVT - Price and Volume Trend",wC="AO - Awesome Oscillator",_C="ADL - Accumulation/Distribution Line",kC="MFI - Money Flow Index",SC="VOL - Volume",MC="WMA - Weighted Moving Average",EC="WEM - Weighted Exponential Moving Average",TC="QS - Qstick",IC="AROON - Aroon",LC="ATR - Average True Range",PC="TR - True Range",AC="WS - Wilder's Smoothing",DC="UTC",FC="(UTC-10) Honolulu",RC="(UTC-8) Juneau",OC="(UTC-7) Los Angeles",NC="(UTC-5) Chicago",zC="(UTC-4) Toronto",BC="(UTC-3) Sao Paulo",VC="(UTC+1) London",$C="(UTC+2) Berlin",WC="(UTC+3) Bahrain",UC="(UTC+4) Dubai",HC="(UTC+5) Ashkhabad",YC="(UTC+6) Almaty",XC="(UTC+7) Bangkok",jC="(UTC+8) Shanghai",GC="(UTC+9) Tokyo",KC="(UTC+10) Sydney",QC="(UTC+12) Norfolk",ZC="D",qC="W",JC="M",eb="Y",tb="Horizontal Line",rb="Horizontal Ray",nb="Horizontal Segment",ib="Vertical Line",ab="Vertical Ray",ob="Vertical Segment",lb="Trend Line",sb="Ray",cb="Segment",ub="Arrow",db="Price Line",hb="Price Channel Line",pb="Parallel Line",fb="Fibonacci Line",gb="Fibonacci Segment",vb="Fibonacci Circle",mb="Fibonacci Spiral",yb="Fibonacci Sector",xb="Fibonacci Extension",Cb="Gann Box",bb="Rect",wb="Parallelogram",_b="Circle",kb="Triangle",Sb="Three Waves",Mb="Five Waves",Eb="Eight Waves",Tb="Any Waves",Ib="ABCD Pattern",Lb="XABCD Pattern",Pb="Weak Magnet",Ab="Strong Magnet",Db="Symbol Search",Fb="Symbol Code",Rb="Parameter 1",Ob="Parameter 2",Nb="Parameter 3",zb="Parameter 4",Bb="Parameter 5",Vb="Period",$b="Standard Deviation",Wb="Charts",Ub="Candle Type",Hb="Candle Solid",Yb="Candle Stroke",Xb="Candle Up Stroke",jb="Candle Down Stroke",Gb="OHLC",Kb="Area",Qb="Heikin Ashi",Zb="Renko",qb="Brick Size",Jb="Show Last Price",ew="Show Highest Price",tw="Show Lowest Price",rw="Show indicator's last value",nw="Normal",iw="Percentage",aw="Log",ow="Restore Defaults",lw="Standard",sw="Show Grids",cw="Show Horizontal Grids",uw="Horizontal Grid Size",dw="Horizontal Grid Color",hw="Show Vertical Grids",pw="Vertical Grid Size",fw="Vertical Grid Color",gw="Fill Stroke",vw="Always",mw="Stroke",yw="Stroke Fill",xw="Ruler",Cw="RR",bw="Enable Crosshair Sync",ww="Enable Time Sync",_w="Enable Ticker Sync",kw="Enable Interval Sync",Sw="Enable Drawing Sync",Mw="Multichart",Ew="Paper Trading",Tw="Balance",Iw="Trade",Lw="Positions",Pw="Orders",Aw="Trades",Dw="Cash",Fw="Market",Rw="Limit",Ow="Buy",Nw="Sell",zw="Quantity",Bw="Price",Vw="Estimated Total",$w="No open positions",Ww="Avg Price",Uw="Current Price",Hw="P&L",Yw="Close Position",Xw="No pending orders",jw="Status",Gw="Cancel Order",Kw="No trades executed",Qw="Your trade history will appear here",Zw="Clear All Trades",qw="Are you sure you want to clear all {count} trades? This action cannot be undone.",Jw="Symbol/Side",e_="Qty",t_="Total",r_="Date/Time",n_="Cash Amount",i_="Operation",a_="Add Cash",o_="Remove Cash",l_="Pending buy orders",s_="Balance after removal",c_="Max safe removal",u_=" Insufficient funds for pending orders!",d_="Add",h_="Remove",p_=" Reset Trading Account",f_=` RESET TRADING ACCOUNT 

This will permanently delete:
 {orders} pending orders
 {positions} open positions
 {trades} trade records
 Reset balance to $10,000

This action cannot be undone!

Are you sure you want to continue?`,g_=` Trading account has been reset successfully!

 Balance: $10,000
 All orders, positions, and trades cleared`,v_="Pending Orders Summary",m_="Pending Buy Orders",y_="Pending Sell Orders",x_="Available Cash",C_="Max Cash Removal",b_={indicator:Dx,indicators:Fx,main_indicator:Rx,sub_indicator:Ox,favourites:Nx,setting:zx,replay:Bx,timezone:Vx,screenshot:$x,full_screen:Wx,exit_full_screen:Ux,save:Hx,confirm:Yx,cancel:Xx,ma:jx,ema:Gx,sma:Kx,boll:Qx,bbi:Zx,sar:qx,vol:Jx,macd:eC,kdj:tC,rsi:rC,bias:nC,brar:iC,cci:aC,dmi:oC,pdi:lC,mdi:sC,adx:cC,adxr:uC,cr:dC,psy:hC,dma:pC,trix:fC,obv:gC,vr:vC,wr:mC,mtm:yC,emv:xC,roc:CC,pvt:bC,ao:wC,adl:_C,"force index":"FI - Force Index",mfi:kC,"volume weighted average price":"VWAP - Volume Weighted Average Price",volumebars:SC,"volume profile fixed range":"Volume Profile - Fixed Range",wma:MC,wema:EC,"chandelier exit":"CE -  Chandelier Exit","keltner channels":"KC - Keltner Channels","ichimoku cloud":"IC - Ichimoku Cloud","chaikin oscillator":"CO - Chaikin Oscillator","percentage price oscillator":"PPO - Percentage Price Oscillator","percentage volume oscillator":"PVO - Percentage Volume Oscillator",qstick:TC,"absolute price oscillator":"APO - Absolute Price Oscillator","balance of power":"BOP - Balance of Power",aroon:IC,"double exponential moving average":"DEMA - Double Exponential Moving Average",atr:LC,tr:PC,"envelope (sma)":"ENV (SMA) - Envelope (SMA)","envelope (ema)":"ENV (EMA) - Envelope (EMA)",ws:AC,"volume price trend":"VPT - Volume Price Trend","negative volume index":"NVI - Negative Volume Index","money flow volume":"MFV - Money Flow Volume","money flow multiplier":"MFM - Money Flow Multiplier","average price":"AVP - Average Price","moving linear regression":"MLR - Moving Linear Regression","moving least square":"MLS - Moving Least Square",utc:DC,honolulu:FC,juneau:RC,los_angeles:OC,chicago:NC,toronto:zC,sao_paulo:BC,london:VC,berlin:$C,bahrain:WC,dubai:UC,ashkhabad:HC,almaty:YC,bangkok:XC,shanghai:jC,tokyo:GC,sydney:KC,norfolk:QC,D:ZC,"5D":"5D",W:qC,M:JC,"3M":"3M","6M":"6M",Y:eb,"5Y":"5Y","Light Theme 1":"Light Theme 1","Light Theme 2":"Light Theme 2","Midnight Theme":"Midnight Theme","Dark Theme":"Dark Theme","Dark Gray Theme":"Dark Gray Theme","Blue Theme":"Blue Theme","Red Theme":"Red Theme","Green Theme":"Green Theme","Yellow Theme":"Yellow Theme","Pink Theme":"Pink Theme",horizontal_straight_line:tb,horizontal_ray_line:rb,horizontal_segment:nb,vertical_straight_line:ib,vertical_ray_line:ab,vertical_segment:ob,straight_line:lb,ray_line:sb,segment:cb,arrow:ub,price_line:db,price_channel_line:hb,parallel_straight_line:pb,fibonacci_line:fb,fibonacci_segment:gb,fibonacci_circle:vb,fibonacci_spiral:mb,fibonacci_speed_resistance_fan:yb,fibonacci_extension:xb,gann_box:Cb,rect:bb,parallelogram:wb,circle:_b,triangle:kb,three_waves:Sb,five_waves:Mb,eight_waves:Eb,any_waves:Tb,abcd:Ib,xabcd:Lb,weak_magnet:Pb,strong_magnet:Ab,symbol_search:Db,symbol_code:Fb,params_1:Rb,params_2:Ob,params_3:Nb,params_4:zb,params_5:Bb,period:Vb,standard_deviation:$b,charts:Wb,candle_type:Ub,candle_solid:Hb,candle_stroke:Yb,candle_up_stroke:Xb,candle_down_stroke:jb,ohlc:Gb,area:Kb,heikin_ashi:Qb,renko:Zb,brick_size:qb,last_price_show:Jb,high_price_show:ew,low_price_show:tw,indicator_last_value_show:rw,normal:nw,percentage:iw,log:aw,restore_default:ow,standard:lw,"candle.bar.upColor":"Candle Up Color","candle.bar.downColor":"Candle Down Color","candle.bar.noChangeColor":"Candle No Change Color","candle.bar.upBorderColor":"Candle Up Border Color","candle.bar.downBorderColor":"Candle Down Border Color","candle.bar.noChangeBorderColor":"Candle No Change Border Color","candle.bar.upWickColor":"Candle Up Wick Color","candle.bar.downWickColor":"Candle Down Wick Color","candle.bar.noChangeWickColor":"Candle No Change Wick Color","candle.priceMark.high.show":"Show High Price Mark","candle.priceMark.high.color":"High Price Mark Color","candle.priceMark.high.textSize":"High Price Mark Text Size","candle.priceMark.high.textFamily":"High Price Mark Text Family","candle.priceMark.high.textWeight":"High Price Mark Text Weight","candle.priceMark.low.show":"Show Low Price Mark","candle.priceMark.low.color":"Low Price Mark Color","candle.priceMark.low.textSize":"Low Price Mark Text Size","candle.priceMark.low.textFamily":"Low Price Mark Text Family","candle.priceMark.low.textWeight":"Low Price Mark Text Weight","candle.priceMark.last.show":"Show Last Price Mark","candle.priceMark.last.upColor":"Last Price Mark Up Color","candle.priceMark.last.downColor":"Last Price Mark Down Color","candle.priceMark.last.noChangeColor":"Last Price Mark No Change Color","candle.priceMark.last.line.show":"Show Last Price Mark Line","candle.priceMark.last.line.style":"Last Price Mark Line Style","candle.priceMark.last.line.size":"Last Price Mark Line Size","candle.priceMark.last.text.show":"Show Last Price Mark Text","candle.priceMark.last.text.style":"Last Price Mark Text Style","candle.priceMark.last.text.size":"Last Price Mark Text Size","candle.priceMark.last.text.color":"Last Price Mark Text Color","candle.tooltip.showRule":"Candle Tooltip","candle.tooltip.showType":"Candle Tooltip Type","candle.tooltip.rect.position":"Candle Tooltip Rect Position","candle.tooltip.rect.color":"Candle Tooltip Rect Color","candle.tooltip.rect.borderColor":"Candle Tooltip Rect Border Color","candle.tooltip.text.size":"Candle Tooltip Text Size","candle.tooltip.text.weight":"Candle Tooltip Text Weight","candle.tooltip.text.color":"Candle Tooltip Text Color","indicator.lastValueMark.show":"Show Last Value Mark","indicator.lastValueMark.text.show":"Show Last Value Mark Text","indicator.lastValueMark.text.style":"Last Value Mark Text Style","indicator.lastValueMark.text.size":"Last Value Mark Text Size","indicator.lastValueMark.text.weight":"Last Value Mark Text Weight","indicator.lastValueMark.text.color":"Last Value Mark Text Color","indicator.lastValueMark.text.borderStyle":"Last Value Mark Text Border Style","indicator.lastValueMark.text.borderColor":"Last Value Mark Text Border Color","indicator.lastValueMark.text.borderSize":"Last Value Mark Text Border Size","indicator.lastValueMark.text.borderDashedValue":"Last Value Mark Text Border Border Dashed Value","indicator.lastValueMark.text.paddingLeft":"Last Value Mark Text Border Padding Left","indicator.lastValueMark.text.paddingTop":"Last Value Mark Text Border Style Padding Top","indicator.lastValueMark.text.paddingRight":"Last Value Mark Text Border Padding Right","indicator.lastValueMark.text.paddingBottom":"Last Value Mark Text Border Padding Bottom","indicator.lastValueMark.text.borderRadius":"Last Value Mark Text Border Border Radius","indicator.tooltip.showRule":"Show Tooltip Rule","indicator.tooltip.showType":"Show Tooltip Type","indicator.tooltip.showName":"Show Tooltip Name","indicator.tooltip.showParams":"Show Tooltip Params","indicator.tooltip.offsetTop":"Tooltip Offset Top","indicator.tooltip.offsetLeft":"Tooltip Offset Left","indicator.tooltip.offsetBottom":"Tooltip Offset Right","indicator.tooltip.offsetRight":"Tooltip Offset Bottom","indicator.tooltip.text.size":"Tooltip Text Size","indicator.tooltip.text.weight":"Tooltip Text Weight","indicator.tooltip.text.color":"Tooltip Text Color","indicator.tooltip.text.marginLeft":"Tooltip Text Margin Left","indicator.tooltip.text.marginTop":"Tooltip Text Margin Top","indicator.tooltip.text.marginRight":"Tooltip Text Margin Right","indicator.tooltip.text.marginBottom":"Tooltip Text Margin Bottom",grid_show:sw,grid_horizontal_show:cw,grid_horizontal_size:uw,grid_horizontal_color:dw,grid_vertical_show:hw,grid_vertical_size:pw,grid_vertical_color:fw,"xAxis.show":"Show X Axis","xAxis.axisLine.show":"Show X Axis Line","xAxis.axisLine.color":"X Axis Line Color","xAxis.axisLine.size":"X Axis Line Size","xAxis.tickText.show":"Show X Axis Tick Text","xAxis.tickText.size":"X Axis Tick Text Size","xAxis.tickText.weight":"X Axis Tick Text Weight","xAxis.tickText.color":"X Axis Tick Text Color","xAxis.tickLine.show":"Show X Axis Tick Line","xAxis.tickLine.size":"X Axis Tick Line Size","xAxis.tickLine.length":"X Axis Tick Line Length","xAxis.tickLine.color":"X Axis Tick Line Color","yAxis.show":"Show Y Axis","yAxis.position":"Y Axis Position","yAxis.type":"Y Axis Type","yAxis.inside":"Y Axis Inside","yAxis.reverse":"Y Axis Reverse","yAxis.axisLine.show":"Show Y Axis Line","yAxis.axisLine.size":"Y Axis Line Size","yAxis.axisLine.color":"Y Axis Line Color","yAxis.tickText.show":"Show Y Axis Tick Text","yAxis.tickText.color":"Y Axis Tick Text Color","yAxis.tickText.size":"Y Axis Tick Text Size","yAxis.tickText.weight":"Y Axis Tick Text Weight","yAxis.tickText.marginStart":"Y Axis Tick Text Margin Start","yAxis.tickText.marginEnd":"Y Axis Tick Text Margin End","yAxis.tickLine.show":"Show Y Axis Tick Line","yAxis.tickLine.color":"Y Axis Tick Line Color","yAxis.tickLine.size":"Y Axis Tick Line Size","yAxis.tickLine.length":"Y Axis Tick Line Length","separator.size":"Sub Indicator Separator Size","separator.fill":"Sub Indicator Separator Fill","separator.activeBackgroundColor":"Sub Indicator Separator Color","crosshair.show":"Show Crosshair","crosshair.horizontal.show":"Show Horizontal Crosshair","crosshair.horizontal.line.show":"Show Horizontal Crosshair Line","crosshair.horizontal.line.style":"Horizontal Crosshair Line Style","crosshair.horizontal.line.size":"Horizontal Crosshair Line Size","crosshair.horizontal.line.color":"Horizontal Crosshair Line Color","crosshair.horizontal.text.show":"Show Horizontal Crosshair Text","crosshair.horizontal.text.style":"Horizontal Crosshair Text Style","crosshair.horizontal.text.size":"Horizontal Crosshair Text Size","crosshair.horizontal.text.weight":"Horizontal Crosshair Text Weight","crosshair.horizontal.text.color":"Horizontal Crosshair Text Color","crosshair.horizontal.text.backgroundColor":"Horizontal Crosshair Text Bg Color","crosshair.vertical.show":"Show Vertical Crosshair","crosshair.vertical.line.show":"Show Vertical Crosshair Line","crosshair.vertical.line.style":"Vertical Crosshair Line Style","crosshair.vertical.line.size":"Vertical Crosshair Line Size","crosshair.vertical.line.color":"Vertical Crosshair Line Color","crosshair.vertical.text.show":"Show Vertical Crosshair Text","crosshair.vertical.text.style":"Vertical Crosshair Text Style","crosshair.vertical.text.size":"Vertical Crosshair Text Size","crosshair.vertical.text.weight":"Vertical Crosshair Text Weight","crosshair.vertical.text.color":"Vertical Crosshair Text Color","crosshair.vertical.text.backgroundColor":"Vertical Crosshair Text Bg Color","overlay.point.color":"Point Color","overlay.point.borderColor":"Point Border Color","overlay.point.borderSize":"Point Border Size","overlay.point.activeColor":"Point Active Color","overlay.point.activeBorderColor":"Point Active Border Color","overlay.point.activeBorderSize":"Point Active Border Size","overlay.point.activeRadius":"Point Active Radius","overlay.line.style":"Line Style","overlay.line.smooth":"Line Smooth","overlay.line.size":"Line Size","overlay.line.color":"Line Color","overlay.rect.style":"Rect Style","overlay.rect.color":"Rect Color","overlay.rect.borderColor":"Rect Border Color","overlay.rect.borderSize":"Rect Border Size","overlay.rect.borderRadius":"Rect Border Radius","overlay.rect.borderStyle":"Rect Border Style","overlay.polygon.style":"Polygon Style","overlay.polygon.color":"Polygon Color","overlay.polygon.borderColor":"Polygon Border Color","overlay.polygon.borderStyle":"Polygon Border Style","overlay.polygon.borderSize":"Polygon Border Size","overlay.circle.style":"Circle Style","overlay.circle.color":"Circle Color","overlay.circle.borderColor":"Circle Border Color","overlay.circle.borderStyle":"Circle Border Style","overlay.circle.borderSize":"Circle Border Size","overlay.arc.style":"Arc Style","overlay.arc.size":"Arc Size","overlay.arc.color":"Arc Color","overlay.text.style":"Text Style","overlay.text.size":"Text Size","overlay.text.family":"Text Family","overlay.text.weight":"Text Weight","overlay.text.color":"Text Color","overlay.text.backgroundColor":"Text Background Color","overlay.text.borderColor":"Text Border Color","overlay.text.borderSize":"Text Border Size","overlay.text.borderStyle":"Text Border Style","overlay.text.borderDashedValue":"Text Border Dashed Value","overlay.text.borderRadius":"Text Border Radius","overlay.text.paddingLeft":"Text Padding Left","overlay.text.paddingRight":"Text Padding Right","overlay.text.paddingTop":"Text Padding Top","overlay.text.paddingBottom":"Text Padding Bottom",fill_stroke:gw,always:vw,stroke:mw,stroke_fill:yw,ruler:xw,rr:Cw,enable_crosshair_sync:bw,enable_time_sync:ww,enable_ticker_sync:_w,enable_interval_sync:kw,enable_drawing_sync:Sw,multichart:Mw,paper_trading:Ew,balance:Tw,trade:Iw,positions:Lw,orders:Pw,trades:Aw,cash:Dw,market:Fw,limit:Rw,buy:Ow,sell:Nw,quantity:zw,price:Bw,estimated_total:Vw,no_open_positions:$w,avg_price:Ww,current_price:Uw,pnl:Hw,close_position:Yw,no_pending_orders:Xw,status:jw,cancel_order:Gw,no_trades_executed:Kw,your_trade_history_will_appear_here:Qw,clear_all_trades:Zw,are_you_sure_clear_trades:qw,symbol_side:Jw,qty:e_,total:t_,date_time:r_,cash_amount:n_,operation:i_,add_cash:a_,remove_cash:o_,pending_buy_orders:l_,balance_after_removal:s_,max_safe_removal:c_,insufficient_funds_warning:u_,add:d_,remove:h_,reset_trading_account:p_,reset_account_confirmation:f_,reset_account_success:g_,pending_orders_summary:v_,pending_buy_orders_summary:m_,pending_sell_orders_summary:y_,available_cash:x_,max_cash_removal:C_},w_={"zh-CN":Ax,"en-US":b_},A=(e,r)=>{var t;return((t=w_[r])==null?void 0:t[e])??e};function p1(e,r,t){const n=(e.x-r.x)*Math.cos(t)-(e.y-r.y)*Math.sin(t)+r.x,i=(e.x-r.x)*Math.sin(t)+(e.y-r.y)*Math.cos(t)+r.y;return{x:n,y:i}}function hg(e,r){if(e.length>1){let t;return e[0].x===e[1].x&&e[0].y!==e[1].y?e[0].y<e[1].y?t={x:e[0].x,y:r.height}:t={x:e[0].x,y:0}:e[0].x>e[1].x?t={x:0,y:wn.getLinearYFromCoordinates(e[0],e[1],{x:0,y:e[0].y})}:t={x:r.width,y:wn.getLinearYFromCoordinates(e[0],e[1],{x:r.width,y:e[0].y})},{coordinates:[e[0],t]}}return[]}function Hm(e,r){const t=Math.abs(e.x-r.x),n=Math.abs(e.y-r.y);return Math.sqrt(t*t+n*n)}const __={name:"arrow",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{if(e.length>1){const r=e[1].x>e[0].x?0:1,t=wn.getLinearSlopeIntercept(e[0],e[1]);let n;t!=null?n=Math.atan(t[0])+Math.PI*r:e[1].y>e[0].y?n=Math.PI/2:n=Math.PI/2*3;const i=p1({x:e[1].x-8,y:e[1].y+4},e[1],n),o=p1({x:e[1].x-8,y:e[1].y-4},e[1],n);return[{type:"line",attrs:{coordinates:e}},{type:"line",ignoreEvent:!0,attrs:{coordinates:[i,e[1],o]}}]}return[]}},k_={name:"circle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{circle:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length>1){const r=Hm(e[0],e[1]);return{type:"circle",attrs:{...e[0],r},styles:{style:"stroke_fill"}}}return[]}},S_={name:"rect",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>e.length>1?[{type:"polygon",attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{style:"stroke_fill"}}]:[]},M_={name:"parallelogram",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length===2)return[{type:"line",ignoreEvent:!0,attrs:{coordinates:e}}];if(e.length===3){const r={x:e[0].x+(e[2].x-e[1].x),y:e[2].y};return[{type:"polygon",attrs:{coordinates:[e[0],e[1],e[2],r]},styles:{style:"stroke_fill"}}]}return[]},performEventPressedMove:({points:e,performPointIndex:r,performPoint:t})=>{r<2&&(e[0].price=t.price,e[1].price=t.price)},performEventMoveForDrawing:({currentStep:e,points:r,performPoint:t})=>{e===2&&(r[0].price=t.price)}},E_={name:"triangle",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>[{type:"polygon",attrs:{coordinates:e},styles:{style:"stroke_fill"}}]},T_={name:"fibonacciCircle",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{if(e.length>1){const r=Math.abs(e[0].x-e[1].x),t=Math.abs(e[0].y-e[1].y),n=Math.sqrt(r*r+t*t),i=[.236,.382,.5,.618,.786,1],o=[],s=[];return i.forEach(u=>{const d=n*u;o.push({...e[0],r:d}),s.push({x:e[0].x,y:e[0].y+d+6,text:`${(u*100).toFixed(1)}%`})}),[{type:"circle",attrs:o,styles:{style:"stroke"}},{type:"text",ignoreEvent:!0,attrs:s}]}return[]}},I_={name:"fibonacciSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:e,coordinates:r,overlay:t})=>{const n=[],i=[];if(r.length>1){const o=r[1].x>r[0].x?r[0].x:r[1].x,s=[1,.786,.618,.5,.382,.236,0],u=r[0].y-r[1].y,d=t.points,h=d[0].value-d[1].value;s.forEach(f=>{const v=r[1].y+u*f,m=(d[1].value+h*f).toFixed(e.getPrecision().price);n.push({coordinates:[{x:r[0].x,y:v},{x:r[1].x,y:v}]}),i.push({x:o,y:v,text:`${m} (${(f*100).toFixed(1)}%)`,baseline:"bottom"})})}return[{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},L_={name:"fibonacciSpiral",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e,bounding:r})=>{if(e.length>1){const t=Hm(e[0],e[1])/Math.sqrt(24),n=e[1].x>e[0].x?0:1,i=wn.getLinearSlopeIntercept(e[0],e[1]);let o;i!=null?o=Math.atan(i[0])+Math.PI*n:e[1].y>e[0].y?o=Math.PI/2:o=Math.PI/2*3;const s=p1({x:e[0].x-t,y:e[0].y},e[0],o),u=p1({x:e[0].x-t,y:e[0].y-t},e[0],o),d=[{...s,r:t,startAngle:o,endAngle:o+Math.PI/2},{...u,r:t*2,startAngle:o+Math.PI/2,endAngle:o+Math.PI}];let h=e[0].x-t,f=e[0].y-t;for(let v=2;v<9;v++){const m=d[v-2].r+d[v-1].r;let C=0;switch(v%4){case 0:{C=o,h-=d[v-2].r;break}case 1:{C=o+Math.PI/2,f-=d[v-2].r;break}case 2:{C=o+Math.PI,h+=d[v-2].r;break}case 3:{C=o+Math.PI/2*3,f+=d[v-2].r;break}}const b=C+Math.PI/2,_=p1({x:h,y:f},e[0],o);d.push({..._,r:m,startAngle:C,endAngle:b})}return[{type:"arc",attrs:d},{type:"line",attrs:hg(e,r)}]}return[]}},P_={name:"fibonacciSpeedResistanceFan",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e,bounding:r})=>{const t=[];let n=[];const i=[];if(e.length>1){const o=e[1].x>e[0].x?-38:4,s=e[1].y>e[0].y?-2:20,u=e[1].x-e[0].x,d=e[1].y-e[0].y;[1,.75,.618,.5,.382,.25,0].forEach(h=>{const f=e[1].x-u*h,v=e[1].y-d*h;t.push({coordinates:[{x:f,y:e[0].y},{x:f,y:e[1].y}]}),t.push({coordinates:[{x:e[0].x,y:v},{x:e[1].x,y:v}]}),n=n.concat(hg([e[0],{x:f,y:e[1].y}],r)),n=n.concat(hg([e[0],{x:e[1].x,y:v}],r)),i.unshift({x:e[0].x+o,y:v+10,text:`${h.toFixed(3)}`}),i.unshift({x:f-18,y:e[0].y+s,text:`${h.toFixed(3)}`})})}return[{type:"line",attrs:t},{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},A_={name:"fibonacciExtension",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({chart:e,coordinates:r,overlay:t})=>{const n=[],i=[];if(r.length>2){const o=t.points,s=o[1].value-o[0].value,u=r[1].y-r[0].y,d=[0,.236,.382,.5,.618,.786,1],h=r[2].x>r[1].x?r[1].x:r[2].x;d.forEach(f=>{const v=r[2].y+u*f,m=(o[2].value+s*f).toFixed(e.getPrecision().price);n.push({coordinates:[{x:r[1].x,y:v},{x:r[2].x,y:v}]}),i.push({x:h,y:v,text:`${m} (${(f*100).toFixed(1)}%)`,baseline:"bottom"})})}return[{type:"line",attrs:{coordinates:r},styles:{style:"dashed"}},{type:"line",attrs:n},{type:"text",ignoreEvent:!0,attrs:i}]}},D_={name:"gannBox",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e})=>{if(e.length>1){const r=(e[1].y-e[0].y)/4,t=e[1].x-e[0].x,n=[{coordinates:[e[0],{x:e[1].x,y:e[1].y-r}]},{coordinates:[e[0],{x:e[1].x,y:e[1].y-r*2}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y+r}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y+r*2}]},{coordinates:[{...e[0]},{x:e[0].x+t*.236,y:e[1].y}]},{coordinates:[{...e[0]},{x:e[0].x+t*.5,y:e[1].y}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[0].x+t*.236,y:e[0].y}]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[0].x+t*.5,y:e[0].y}]}],i=[{coordinates:[e[0],e[1]]},{coordinates:[{x:e[0].x,y:e[1].y},{x:e[1].x,y:e[0].y}]}];return[{type:"line",attrs:[{coordinates:[e[0],{x:e[1].x,y:e[0].y}]},{coordinates:[{x:e[1].x,y:e[0].y},e[1]]},{coordinates:[e[1],{x:e[0].x,y:e[1].y}]},{coordinates:[{x:e[0].x,y:e[1].y},e[0]]}]},{type:"polygon",ignoreEvent:!0,attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{style:"fill"}},{type:"line",attrs:n,styles:{style:"dashed"}},{type:"line",attrs:i}]}return[]}},F_={name:"threeWaves",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},R_={name:"fiveWaves",totalStep:7,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},O_={name:"eightWaves",totalStep:10,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},N_={name:"anyWaves",totalStep:Number.MAX_SAFE_INTEGER,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{const r=e.map((t,n)=>({...t,text:`(${n})`,baseline:"bottom"}));return[{type:"line",attrs:{coordinates:e}},{type:"text",ignoreEvent:!0,attrs:r}]}},z_={name:"abcd",totalStep:5,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:({coordinates:e})=>{let r=[],t=[];const n=["A","B","C","D"],i=e.map((o,s)=>({...o,baseline:"bottom",text:`(${n[s]})`}));return e.length>2&&(r=[e[0],e[2]],e.length>3&&(t=[e[1],e[3]])),[{type:"line",attrs:{coordinates:e}},{type:"line",attrs:[{coordinates:r},{coordinates:t}],styles:{style:"dashed"}},{type:"text",ignoreEvent:!0,attrs:i}]}},B_={name:"xabcd",totalStep:6,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{polygon:{color:"rgba(22, 119, 255, 0.15)"}},createPointFigures:({coordinates:e,overlay:r})=>{const t=[],n=[],i=["X","A","B","C","D"],o=e.map((s,u)=>({...s,baseline:"bottom",text:`(${i[u]})`}));return e.length>2&&(t.push({coordinates:[e[0],e[2]]}),n.push({coordinates:[e[0],e[1],e[2]]}),e.length>3&&(t.push({coordinates:[e[1],e[3]]}),e.length>4&&(t.push({coordinates:[e[2],e[4]]}),n.push({coordinates:[e[2],e[3],e[4]]})))),[{type:"line",attrs:{coordinates:e}},{type:"line",attrs:t,styles:{style:"dashed"}},{type:"polygon",ignoreEvent:!0,attrs:n},{type:"text",ignoreEvent:!0,attrs:o}]}},V_={name:"ruler",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,styles:{backgroundColor:"rgba(22, 119, 255, 0.25)",tipBackgroundColor:"#1677FF",lineColor:"#1677FF"},extendData:e=>{if(e.length<2)return[];const[r,t]=e,n=t.dataIndex-r.dataIndex,i=t.value-r.value,o=i/r.value*100,s=t.timestamp-r.timestamp,u=Math.floor(s/(24*60*60*1e3)),d=Math.floor(s%(24*60*60*1e3)/(60*60*1e3)),h=Math.floor(s%(60*60*1e3)/(60*1e3));let f="";return u>0?(f=`${u} day${u>1?"s":""}`,d>0&&(f+=`, ${d} hour${d>1?"s":""}`)):d>0?(f=`${d} hour${d>1?"s":""}`,h>0&&(f+=`, ${h} minute${h>1?"s":""}`)):f=`${h} minute${h>1?"s":""}`,[`${i.toFixed(2)} (${o.toFixed(2)}%)`,`Bars: ${n}, d: ${f}`]},createPointFigures:({coordinates:e,overlay:r,bounding:t})=>{var n,i,o,s;if(e.length>1){const u=e[0].x<e[1].x,d=e[0].y<e[1].y,h={x:Math.round((e[0].x+e[1].x)/2),y:Math.round((e[0].y+e[1].y)/2)},f=(n=r.styles)==null?void 0:n.backgroundColor,v=(i=r.styles)==null?void 0:i.tipBackgroundColor,m=(o=r.styles)==null?void 0:o.lineColor,C=((s=r.extendData)==null?void 0:s.call(r,r.points))??[],b=[{type:"polygon",attrs:{coordinates:[e[0],{x:e[1].x,y:e[0].y},e[1],{x:e[0].x,y:e[1].y}]},styles:{color:f}},{type:"line",attrs:{coordinates:[{x:e[0].x,y:h.y},{x:e[1].x,y:h.y}]},styles:{color:m}},{type:"line",attrs:{coordinates:[{x:h.x,y:e[0].y},{x:h.x,y:e[1].y}]},styles:{color:m}}];u?b.push({type:"line",attrs:{coordinates:[{x:e[1].x-6,y:h.y-4},{x:e[1].x,y:h.y},{x:e[1].x-6,y:h.y+4}]}}):b.push({type:"line",attrs:{coordinates:[{x:e[1].x+6,y:h.y-4},{x:e[1].x,y:h.y},{x:e[1].x+6,y:h.y+4}]}}),d?b.push({type:"line",attrs:{coordinates:[{x:h.x-4,y:e[1].y-6},{x:h.x,y:e[1].y},{x:h.x+4,y:e[1].y-6}]},styles:{color:m}}):b.push({type:"line",attrs:{coordinates:[{x:h.x-4,y:e[1].y+6},{x:h.x,y:e[1].y},{x:h.x+4,y:e[1].y+6}]},styles:{color:m}});const _=C.length;if(_>0){let k,S=0;const T=_*12+(_-1)*4+8*2;C.forEach(P=>{S=Math.max(wn.calcTextWidth(P),S)}),S+=12*2,d?e[1].y+8+T>t.height?k=t.height-T:k=e[1].y+8:e[1].y-8-T<0?k=0:k=e[1].y-8-T,b.push({type:"rect",attrs:{x:h.x-S/2,y:k,width:S,height:T},styles:{borderRadius:4,color:v}});let I=k+8;C.forEach(P=>{b.push({type:"text",attrs:{x:h.x,y:I,text:P,align:"center"},styles:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,backgroundColor:"none"}}),I+=16})}return b}return[]}};var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var up={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */up.exports;(function(e,r){(function(){var t,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,f="__lodash_placeholder__",v=1,m=2,C=4,b=1,_=2,k=1,S=2,T=4,I=8,P=16,L=32,z=64,R=128,V=256,$=512,W=30,te="...",ue=800,Y=16,Z=1,q=2,G=3,K=1/0,X=9007199254740991,J=17976931348623157e292,ee=NaN,H=4294967295,ie=H-1,xe=H>>>1,Le=[["ary",R],["bind",k],["bindKey",S],["curry",I],["curryRight",P],["flip",$],["partial",L],["partialRight",z],["rearg",V]],Pe="[object Arguments]",be="[object Array]",He="[object AsyncFunction]",Ae="[object Boolean]",Ne="[object Date]",ve="[object DOMException]",Te="[object Error]",Oe="[object Function]",Ze="[object GeneratorFunction]",Me="[object Map]",nt="[object Number]",lt="[object Null]",Be="[object Object]",yt="[object Promise]",Bt="[object Proxy]",Ot="[object RegExp]",st="[object Set]",lr="[object String]",Wr="[object Symbol]",Ur="[object Undefined]",ar="[object WeakMap]",Tt="[object WeakSet]",Ut="[object ArrayBuffer]",Kt="[object DataView]",zr="[object Float32Array]",or="[object Float64Array]",Tr="[object Int8Array]",Mt="[object Int16Array]",Ve="[object Int32Array]",bt="[object Uint8Array]",xt="[object Uint8ClampedArray]",wt="[object Uint16Array]",Ct="[object Uint32Array]",Wt=/\b__p \+= '';/g,Ht=/\b(__p \+=) '' \+/g,ur=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,ft=/[&<>"']/g,Ir=RegExp(At.source),vr=RegExp(ft.source),Lr=/<%-([\s\S]+?)%>/g,fn=/<%([\s\S]+?)%>/g,Dt=/<%=([\s\S]+?)%>/g,Pr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/,Ar=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xr=/[\\^$.*+?()[\]{}|]/g,pr=RegExp(xr.source),Jr=/^\s+/,Hr=/\s/,en=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gn=/\{\n\/\* \[wrapped with (.+)\] \*/,Mn=/,? & /,Ni=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,na=/[()=,{}\[\]\/\s]/,so=/\\(\\)?/g,zi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,co=/\w*$/,Xo=/^[-+]0x[0-9a-f]+$/i,uo=/^0b[01]+$/i,jo=/^\[object .+?Constructor\]$/,Go=/^0o[0-7]+$/i,Ds=/^(?:0|[1-9]\d*)$/,Fs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ko=/($^)/,Nc=/['\n\r\u2028\u2029\\]/g,mr="\\ud800-\\udfff",zc="\\u0300-\\u036f",Vl="\\ufe20-\\ufe2f",Bc="\\u20d0-\\u20ff",ho=zc+Vl+Bc,Rs="\\u2700-\\u27bf",ze="a-z\\xdf-\\xf6\\xf8-\\xff",Qo="\\xac\\xb1\\xd7\\xf7",ci="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vc="\\u2000-\\u206f",Kn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Os="A-Z\\xc0-\\xd6\\xd8-\\xde",Ns="\\ufe0e\\ufe0f",zs=Qo+ci+Vc+Kn,Da="[']",Zo="["+mr+"]",Fa="["+zs+"]",ia="["+ho+"]",Bs="\\d+",$c="["+Rs+"]",qo="["+ze+"]",$l="[^"+mr+zs+Bs+Rs+ze+Os+"]",po="\\ud83c[\\udffb-\\udfff]",fo="(?:"+ia+"|"+po+")",Vs="[^"+mr+"]",go="(?:\\ud83c[\\udde6-\\uddff]){2}",Qt="[\\ud800-\\udbff][\\udc00-\\udfff]",aa="["+Os+"]",Wl="\\u200d",Jo="(?:"+qo+"|"+$l+")",$s="(?:"+aa+"|"+$l+")",Ul="(?:"+Da+"(?:d|ll|m|re|s|t|ve))?",Hl="(?:"+Da+"(?:D|LL|M|RE|S|T|VE))?",el=fo+"?",vo="["+Ns+"]?",Bi="(?:"+Wl+"(?:"+[Vs,go,Qt].join("|")+")"+vo+el+")*",Vi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$i="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ra=vo+el+Bi,mo="(?:"+[$c,go,Qt].join("|")+")"+Ra,Wi="(?:"+[Vs+ia+"?",ia,go,Qt,Zo].join("|")+")",Wc=RegExp(Da,"g"),Ws=RegExp(ia,"g"),oa=RegExp(po+"(?="+po+")|"+Wi+Ra,"g"),Uc=RegExp([aa+"?"+qo+"+"+Ul+"(?="+[Fa,aa,"$"].join("|")+")",$s+"+"+Hl+"(?="+[Fa,aa+Jo,"$"].join("|")+")",aa+"?"+Jo+"+"+Ul,aa+"+"+Hl,$i,Vi,Bs,mo].join("|"),"g"),Us=RegExp("["+Wl+mr+ho+Ns+"]"),tl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zp=-1,dr={};dr[zr]=dr[or]=dr[Tr]=dr[Mt]=dr[Ve]=dr[bt]=dr[xt]=dr[wt]=dr[Ct]=!0,dr[Pe]=dr[be]=dr[Ut]=dr[Ae]=dr[Kt]=dr[Ne]=dr[Te]=dr[Oe]=dr[Me]=dr[nt]=dr[Be]=dr[Ot]=dr[st]=dr[lr]=dr[ar]=!1;var sr={};sr[Pe]=sr[be]=sr[Ut]=sr[Kt]=sr[Ae]=sr[Ne]=sr[zr]=sr[or]=sr[Tr]=sr[Mt]=sr[Ve]=sr[Me]=sr[nt]=sr[Be]=sr[Ot]=sr[st]=sr[lr]=sr[Wr]=sr[bt]=sr[xt]=sr[wt]=sr[Ct]=!0,sr[Te]=sr[Oe]=sr[ar]=!1;var Yl={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Hc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},V0=parseFloat,Yc=parseInt,Xc=typeof Al=="object"&&Al&&Al.Object===Object&&Al,M1=typeof self=="object"&&self&&self.Object===Object&&self,Dr=Xc||M1||Function("return this")(),Ys=r&&!r.nodeType&&r,la=Ys&&!0&&e&&!e.nodeType&&e,$0=la&&la.exports===Ys,Xl=$0&&Xc.process,Nn=function(){try{var se=la&&la.require&&la.require("util").types;return se||Xl&&Xl.binding&&Xl.binding("util")}catch{}}(),W0=Nn&&Nn.isArrayBuffer,Qn=Nn&&Nn.isDate,rl=Nn&&Nn.isMap,jc=Nn&&Nn.isRegExp,jl=Nn&&Nn.isSet,E1=Nn&&Nn.isTypedArray;function zn(se,ye,fe){switch(fe.length){case 0:return se.call(ye);case 1:return se.call(ye,fe[0]);case 2:return se.call(ye,fe[0],fe[1]);case 3:return se.call(ye,fe[0],fe[1],fe[2])}return se.apply(ye,fe)}function U0(se,ye,fe,Ye){for(var _t=-1,rr=se==null?0:se.length;++_t<rr;){var Gr=se[_t];ye(Ye,Gr,fe(Gr),se)}return Ye}function En(se,ye){for(var fe=-1,Ye=se==null?0:se.length;++fe<Ye&&ye(se[fe],fe,se)!==!1;);return se}function Gc(se,ye){for(var fe=se==null?0:se.length;fe--&&ye(se[fe],fe,se)!==!1;);return se}function H0(se,ye){for(var fe=-1,Ye=se==null?0:se.length;++fe<Ye;)if(!ye(se[fe],fe,se))return!1;return!0}function yo(se,ye){for(var fe=-1,Ye=se==null?0:se.length,_t=0,rr=[];++fe<Ye;){var Gr=se[fe];ye(Gr,fe,se)&&(rr[_t++]=Gr)}return rr}function Kc(se,ye){var fe=se==null?0:se.length;return!!fe&&Gl(se,ye,0)>-1}function Y0(se,ye,fe){for(var Ye=-1,_t=se==null?0:se.length;++Ye<_t;)if(fe(ye,se[Ye]))return!0;return!1}function Cr(se,ye){for(var fe=-1,Ye=se==null?0:se.length,_t=Array(Ye);++fe<Ye;)_t[fe]=ye(se[fe],fe,se);return _t}function xo(se,ye){for(var fe=-1,Ye=ye.length,_t=se.length;++fe<Ye;)se[_t+fe]=ye[fe];return se}function X0(se,ye,fe,Ye){var _t=-1,rr=se==null?0:se.length;for(Ye&&rr&&(fe=se[++_t]);++_t<rr;)fe=ye(fe,se[_t],_t,se);return fe}function $p(se,ye,fe,Ye){var _t=se==null?0:se.length;for(Ye&&_t&&(fe=se[--_t]);_t--;)fe=ye(fe,se[_t],_t,se);return fe}function j0(se,ye){for(var fe=-1,Ye=se==null?0:se.length;++fe<Ye;)if(ye(se[fe],fe,se))return!0;return!1}var Wp=K0("length");function T1(se){return se.split("")}function Up(se){return se.match(Ni)||[]}function I1(se,ye,fe){var Ye;return fe(se,function(_t,rr,Gr){if(ye(_t,rr,Gr))return Ye=rr,!1}),Ye}function Qc(se,ye,fe,Ye){for(var _t=se.length,rr=fe+(Ye?1:-1);Ye?rr--:++rr<_t;)if(ye(se[rr],rr,se))return rr;return-1}function Gl(se,ye,fe){return ye===ye?Jc(se,ye,fe):Qc(se,L1,fe)}function G0(se,ye,fe,Ye){for(var _t=fe-1,rr=se.length;++_t<rr;)if(Ye(se[_t],ye))return _t;return-1}function L1(se){return se!==se}function P1(se,ye){var fe=se==null?0:se.length;return fe?Q0(se,ye)/fe:ee}function K0(se){return function(ye){return ye==null?t:ye[se]}}function Zc(se){return function(ye){return se==null?t:se[ye]}}function A1(se,ye,fe,Ye,_t){return _t(se,function(rr,Gr,fr){fe=Ye?(Ye=!1,rr):ye(fe,rr,Gr,fr)}),fe}function Hp(se,ye){var fe=se.length;for(se.sort(ye);fe--;)se[fe]=se[fe].value;return se}function Q0(se,ye){for(var fe,Ye=-1,_t=se.length;++Ye<_t;){var rr=ye(se[Ye]);rr!==t&&(fe=fe===t?rr:fe+rr)}return fe}function Z0(se,ye){for(var fe=-1,Ye=Array(se);++fe<se;)Ye[fe]=ye(fe);return Ye}function Yp(se,ye){return Cr(ye,function(fe){return[fe,se[fe]]})}function D1(se){return se&&se.slice(0,eu(se)+1).replace(Jr,"")}function ui(se){return function(ye){return se(ye)}}function Xs(se,ye){return Cr(ye,function(fe){return se[fe]})}function Oa(se,ye){return se.has(ye)}function F1(se,ye){for(var fe=-1,Ye=se.length;++fe<Ye&&Gl(ye,se[fe],0)>-1;);return fe}function q0(se,ye){for(var fe=se.length;fe--&&Gl(ye,se[fe],0)>-1;);return fe}function R1(se,ye){for(var fe=se.length,Ye=0;fe--;)se[fe]===ye&&++Ye;return Ye}var O1=Zc(Yl),N1=Zc(Hc);function z1(se){return"\\"+Vp[se]}function Kl(se,ye){return se==null?t:se[ye]}function Ql(se){return Us.test(se)}function Xp(se){return tl.test(se)}function jp(se){for(var ye,fe=[];!(ye=se.next()).done;)fe.push(ye.value);return fe}function qc(se){var ye=-1,fe=Array(se.size);return se.forEach(function(Ye,_t){fe[++ye]=[_t,Ye]}),fe}function J0(se,ye){return function(fe){return se(ye(fe))}}function xi(se,ye){for(var fe=-1,Ye=se.length,_t=0,rr=[];++fe<Ye;){var Gr=se[fe];(Gr===ye||Gr===f)&&(se[fe]=f,rr[_t++]=fe)}return rr}function Co(se){var ye=-1,fe=Array(se.size);return se.forEach(function(Ye){fe[++ye]=Ye}),fe}function Gp(se){var ye=-1,fe=Array(se.size);return se.forEach(function(Ye){fe[++ye]=[Ye,Ye]}),fe}function Jc(se,ye,fe){for(var Ye=fe-1,_t=se.length;++Ye<_t;)if(se[Ye]===ye)return Ye;return-1}function Kp(se,ye,fe){for(var Ye=fe+1;Ye--;)if(se[Ye]===ye)return Ye;return Ye}function nl(se){return Ql(se)?V1(se):Wp(se)}function di(se){return Ql(se)?$1(se):T1(se)}function eu(se){for(var ye=se.length;ye--&&Hr.test(se.charAt(ye)););return ye}var B1=Zc(Bp);function V1(se){for(var ye=oa.lastIndex=0;oa.test(se);)++ye;return ye}function $1(se){return se.match(oa)||[]}function Qp(se){return se.match(Uc)||[]}var Zp=function se(ye){ye=ye==null?Dr:Zl.defaults(Dr.Object(),ye,Zl.pick(Dr,Hs));var fe=ye.Array,Ye=ye.Date,_t=ye.Error,rr=ye.Function,Gr=ye.Math,fr=ye.Object,js=ye.RegExp,qp=ye.String,Ci=ye.TypeError,Na=fe.prototype,ed=rr.prototype,sa=fr.prototype,ql=ye["__core-js_shared__"],Gs=ed.toString,nr=sa.hasOwnProperty,Jl=0,tu=function(){var c=/[^.]+$/.exec(ql&&ql.keys&&ql.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Ks=sa.toString,ru=Gs.call(fr),W1=Dr._,U1=js("^"+Gs.call(nr).replace(xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qs=$0?ye.Buffer:t,za=ye.Symbol,Zs=ye.Uint8Array,td=Qs?Qs.allocUnsafe:t,Ui=J0(fr.getPrototypeOf,fr),nu=fr.create,iu=sa.propertyIsEnumerable,au=Na.splice,H1=za?za.isConcatSpreadable:t,Ba=za?za.iterator:t,il=za?za.toStringTag:t,qs=function(){try{var c=Po(fr,"defineProperty");return c({},"",{}),c}catch{}}(),Y1=ye.clearTimeout!==Dr.clearTimeout&&ye.clearTimeout,Sr=Ye&&Ye.now!==Dr.Date.now&&Ye.now,rd=ye.setTimeout!==Dr.setTimeout&&ye.setTimeout,al=Gr.ceil,bo=Gr.floor,ou=fr.getOwnPropertySymbols,nd=Qs?Qs.isBuffer:t,es=ye.isFinite,lu=Na.join,ts=J0(fr.keys,fr),Kr=Gr.max,Tn=Gr.min,Jp=Ye.now,X1=ye.parseInt,Js=Gr.random,su=Na.reverse,ec=Po(ye,"DataView"),ol=Po(ye,"Map"),tc=Po(ye,"Promise"),wo=Po(ye,"Set"),rc=Po(ye,"WeakMap"),rs=Po(fr,"create"),cu=rc&&new rc,ns={},id=Ao(ec),_o=Ao(ol),j1=Ao(tc),is=Ao(wo),ca=Ao(rc),ko=za?za.prototype:t,hi=ko?ko.valueOf:t,uu=ko?ko.toString:t;function O(c){if(Zr(c)&&!Lt(c)&&!(c instanceof It)){if(c instanceof In)return c;if(nr.call(c,"__wrapped__"))return bh(c)}return new In(c)}var as=function(){function c(){}return function(p){if(!jr(p))return{};if(nu)return nu(p);c.prototype=p;var x=new c;return c.prototype=t,x}}();function ua(){}function In(c,p){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}O.templateSettings={escape:Lr,evaluate:fn,interpolate:Dt,variable:"",imports:{_:O}},O.prototype=ua.prototype,O.prototype.constructor=O,In.prototype=as(ua.prototype),In.prototype.constructor=In;function It(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function du(){var c=new It(this.__wrapped__);return c.__actions__=Vn(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=Vn(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=Vn(this.__views__),c}function ad(){if(this.__filtered__){var c=new It(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function os(){var c=this.__wrapped__.value(),p=this.__dir__,x=Lt(c),E=p<0,D=x?c.length:0,B=Dd(0,D,this.__views__),Q=B.start,ae=B.end,ce=ae-Q,Ce=E?ae:Q-1,we=this.__iteratees__,Ee=we.length,We=0,it=Tn(ce,this.__takeCount__);if(!x||!E&&D==ce&&it==ce)return fs(c,this.__actions__);var vt=[];e:for(;ce--&&We<it;){Ce+=p;for(var Vt=-1,mt=c[Ce];++Vt<Ee;){var Gt=we[Vt],Jt=Gt.iteratee,Ji=Gt.type,mi=Jt(mt);if(Ji==q)mt=mi;else if(!mi){if(Ji==Z)continue e;break e}}vt[We++]=mt}return vt}It.prototype=as(ua.prototype),It.prototype.constructor=It;function Zn(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var E=c[p];this.set(E[0],E[1])}}function Mr(){this.__data__=rs?rs(null):{},this.size=0}function br(c){var p=this.has(c)&&delete this.__data__[c];return this.size-=p?1:0,p}function So(c){var p=this.__data__;if(rs){var x=p[c];return x===d?t:x}return nr.call(p,c)?p[c]:t}function Ln(c){var p=this.__data__;return rs?p[c]!==t:nr.call(p,c)}function qn(c,p){var x=this.__data__;return this.size+=this.has(c)?0:1,x[c]=rs&&p===t?d:p,this}Zn.prototype.clear=Mr,Zn.prototype.delete=br,Zn.prototype.get=So,Zn.prototype.has=Ln,Zn.prototype.set=qn;function Bn(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var E=c[p];this.set(E[0],E[1])}}function ls(){this.__data__=[],this.size=0}function Jn(c){var p=this.__data__,x=An(p,c);if(x<0)return!1;var E=p.length-1;return x==E?p.pop():au.call(p,x,1),--this.size,!0}function hu(c){var p=this.__data__,x=An(p,c);return x<0?t:p[x][1]}function G1(c){return An(this.__data__,c)>-1}function K1(c,p){var x=this.__data__,E=An(x,c);return E<0?(++this.size,x.push([c,p])):x[E][1]=p,this}Bn.prototype.clear=ls,Bn.prototype.delete=Jn,Bn.prototype.get=hu,Bn.prototype.has=G1,Bn.prototype.set=K1;function bi(c){var p=-1,x=c==null?0:c.length;for(this.clear();++p<x;){var E=c[p];this.set(E[0],E[1])}}function Q1(){this.size=0,this.__data__={hash:new Zn,map:new(ol||Bn),string:new Zn}}function Va(c){var p=yc(this,c).delete(c);return this.size-=p?1:0,p}function pu(c){return yc(this,c).get(c)}function od(c){return yc(this,c).has(c)}function Z1(c,p){var x=yc(this,c),E=x.size;return x.set(c,p),this.size+=x.size==E?0:1,this}bi.prototype.clear=Q1,bi.prototype.delete=Va,bi.prototype.get=pu,bi.prototype.has=od,bi.prototype.set=Z1;function ll(c){var p=-1,x=c==null?0:c.length;for(this.__data__=new bi;++p<x;)this.add(c[p])}function Mo(c){return this.__data__.set(c,d),this}function ss(c){return this.__data__.has(c)}ll.prototype.add=ll.prototype.push=Mo,ll.prototype.has=ss;function Pn(c){var p=this.__data__=new Bn(c);this.size=p.size}function fu(){this.__data__=new Bn,this.size=0}function gu(c){var p=this.__data__,x=p.delete(c);return this.size=p.size,x}function wi(c){return this.__data__.get(c)}function _i(c){return this.__data__.has(c)}function sl(c,p){var x=this.__data__;if(x instanceof Bn){var E=x.__data__;if(!ol||E.length<i-1)return E.push([c,p]),this.size=++x.size,this;x=this.__data__=new bi(E)}return x.set(c,p),this.size=x.size,this}Pn.prototype.clear=fu,Pn.prototype.delete=gu,Pn.prototype.get=wi,Pn.prototype.has=_i,Pn.prototype.set=sl;function da(c,p){var x=Lt(c),E=!x&&Lc(c),D=!x&&!E&&ks(c),B=!x&&!E&&!D&&i0(c),Q=x||E||D||B,ae=Q?Z0(c.length,qp):[],ce=ae.length;for(var Ce in c)(p||nr.call(c,Ce))&&!(Q&&(Ce=="length"||D&&(Ce=="offset"||Ce=="parent")||B&&(Ce=="buffer"||Ce=="byteLength"||Ce=="byteOffset")||Rr(Ce,ce)))&&ae.push(Ce);return ae}function ha(c){var p=c.length;return p?c[hs(0,p-1)]:t}function cl(c,p){return $u(Vn(c),$a(p,0,c.length))}function q1(c){return $u(Vn(c))}function nc(c,p,x){(x!==t&&!Za(c[p],x)||x===t&&!(p in c))&&pa(c,p,x)}function ul(c,p,x){var E=c[p];(!(nr.call(c,p)&&Za(E,x))||x===t&&!(p in c))&&pa(c,p,x)}function An(c,p){for(var x=c.length;x--;)if(Za(c[x][0],p))return x;return-1}function pi(c,p,x,E){return ga(c,function(D,B,Q){p(E,D,x(D),Q)}),E}function Er(c,p){return c&&Yi(p,Rn(p),c)}function Hi(c,p){return c&&Yi(p,Ai(p),c)}function pa(c,p,x){p=="__proto__"&&qs?qs(c,p,{configurable:!0,enumerable:!0,value:x,writable:!0}):c[p]=x}function vu(c,p){for(var x=-1,E=p.length,D=fe(E),B=c==null;++x<E;)D[x]=B?t:kf(c,p[x]);return D}function $a(c,p,x){return c===c&&(x!==t&&(c=c<=x?c:x),p!==t&&(c=c>=p?c:p)),c}function ei(c,p,x,E,D,B){var Q,ae=p&v,ce=p&m,Ce=p&C;if(x&&(Q=D?x(c,E,D,B):x(c)),Q!==t)return Q;if(!jr(c))return c;var we=Lt(c);if(we){if(Q=Cc(c),!ae)return Vn(c,Q)}else{var Ee=yn(c),We=Ee==Oe||Ee==Ze;if(ks(c))return bd(c,ae);if(Ee==Be||Ee==Pe||We&&!D){if(Q=ce||We?{}:xn(c),!ae)return ce?tf(c,Hi(Q,c)):Iu(c,Er(Q,c))}else{if(!sr[Ee])return D?c:{};Q=rf(c,Ee,ae)}}B||(B=new Pn);var it=B.get(c);if(it)return it;B.set(c,Q),wv(c)?c.forEach(function(mt){Q.add(ei(mt,p,x,mt,c,B))}):Cv(c)&&c.forEach(function(mt,Gt){Q.set(Gt,ei(mt,p,x,Gt,c,B))});var vt=Ce?ce?mc:vc:ce?Ai:Rn,Vt=we?t:vt(c);return En(Vt||c,function(mt,Gt){Vt&&(Gt=mt,mt=c[Gt]),ul(Q,Gt,ei(mt,p,x,Gt,c,B))}),Q}function J1(c){var p=Rn(c);return function(x){return ic(x,c,p)}}function ic(c,p,x){var E=x.length;if(c==null)return!E;for(c=fr(c);E--;){var D=x[E],B=p[D],Q=c[D];if(Q===t&&!(D in c)||!B(Q))return!1}return!0}function ld(c,p,x){if(typeof c!="function")throw new Ci(s);return bs(function(){c.apply(t,x)},p)}function fa(c,p,x,E){var D=-1,B=Kc,Q=!0,ae=c.length,ce=[],Ce=p.length;if(!ae)return ce;x&&(p=Cr(p,ui(x))),E?(B=Y0,Q=!1):p.length>=i&&(B=Oa,Q=!1,p=new ll(p));e:for(;++D<ae;){var we=c[D],Ee=x==null?we:x(we);if(we=E||we!==0?we:0,Q&&Ee===Ee){for(var We=Ce;We--;)if(p[We]===Ee)continue e;ce.push(we)}else B(p,Ee,E)||ce.push(we)}return ce}var ga=Ti(fi),eh=Ti(Eo,!0);function ac(c,p){var x=!0;return ga(c,function(E,D,B){return x=!!p(E,D,B),x}),x}function dl(c,p,x){for(var E=-1,D=c.length;++E<D;){var B=c[E],Q=p(B);if(Q!=null&&(ae===t?Q===Q&&!qi(Q):x(Q,ae)))var ae=Q,ce=B}return ce}function th(c,p,x,E){var D=c.length;for(x=zt(x),x<0&&(x=-x>D?0:D+x),E=E===t||E>D?D:zt(E),E<0&&(E+=D),E=x>E?0:kv(E);x<E;)c[x++]=p;return c}function sd(c,p){var x=[];return ga(c,function(E,D,B){p(E,D,B)&&x.push(E)}),x}function Br(c,p,x,E,D){var B=-1,Q=c.length;for(x||(x=zu),D||(D=[]);++B<Q;){var ae=c[B];p>0&&x(ae)?p>1?Br(ae,p-1,x,E,D):xo(D,ae):E||(D[D.length]=ae)}return D}var mu=Pu(),oc=Pu(!0);function fi(c,p){return c&&mu(c,p,Rn)}function Eo(c,p){return c&&oc(c,p,Rn)}function cs(c,p){return yo(p,function(x){return kl(c[x])})}function Wa(c,p){p=ya(p,c);for(var x=0,E=p.length;c!=null&&x<E;)c=c[Ki(p[x++])];return x&&x==E?c:t}function yu(c,p,x){var E=p(c);return Lt(c)?E:xo(E,x(c))}function vn(c){return c==null?c===t?Ur:lt:il&&il in fr(c)?Nu(c):Rd(c)}function To(c,p){return c>p}function ki(c,p){return c!=null&&nr.call(c,p)}function hl(c,p){return c!=null&&p in fr(c)}function cd(c,p,x){return c>=Tn(p,x)&&c<Kr(p,x)}function xu(c,p,x){for(var E=x?Y0:Kc,D=c[0].length,B=c.length,Q=B,ae=fe(B),ce=1/0,Ce=[];Q--;){var we=c[Q];Q&&p&&(we=Cr(we,ui(p))),ce=Tn(we.length,ce),ae[Q]=!x&&(p||D>=120&&we.length>=120)?new ll(Q&&we):t}we=c[0];var Ee=-1,We=ae[0];e:for(;++Ee<D&&Ce.length<ce;){var it=we[Ee],vt=p?p(it):it;if(it=x||it!==0?it:0,!(We?Oa(We,vt):E(Ce,vt,x))){for(Q=B;--Q;){var Vt=ae[Q];if(!(Vt?Oa(Vt,vt):E(c[Q],vt,x)))continue e}We&&We.push(vt),Ce.push(it)}}return Ce}function Ua(c,p,x,E){return fi(c,function(D,B,Q){p(E,x(D),B,Q)}),E}function Si(c,p,x){p=ya(p,c),c=on(c,p);var E=c==null?c:c[Ki(Un(p))];return E==null?t:zn(E,c,x)}function Cu(c){return Zr(c)&&vn(c)==Pe}function rh(c){return Zr(c)&&vn(c)==Ut}function Ha(c){return Zr(c)&&vn(c)==Ne}function Mi(c,p,x,E,D){return c===p?!0:c==null||p==null||!Zr(c)&&!Zr(p)?c!==c&&p!==p:bu(c,p,x,E,Mi,D)}function bu(c,p,x,E,D,B){var Q=Lt(c),ae=Lt(p),ce=Q?be:yn(c),Ce=ae?be:yn(p);ce=ce==Pe?Be:ce,Ce=Ce==Pe?Be:Ce;var we=ce==Be,Ee=Ce==Be,We=ce==Ce;if(We&&ks(c)){if(!ks(p))return!1;Q=!0,we=!1}if(We&&!we)return B||(B=new Pn),Q||i0(c)?Pd(c,p,x,E,D,B):Ad(c,p,ce,x,E,D,B);if(!(x&b)){var it=we&&nr.call(c,"__wrapped__"),vt=Ee&&nr.call(p,"__wrapped__");if(it||vt){var Vt=it?c.value():c,mt=vt?p.value():p;return B||(B=new Pn),D(Vt,mt,x,E,B)}}return We?(B||(B=new Pn),ph(c,p,x,E,D,B)):!1}function nh(c){return Zr(c)&&yn(c)==Me}function us(c,p,x,E){var D=x.length,B=D,Q=!E;if(c==null)return!B;for(c=fr(c);D--;){var ae=x[D];if(Q&&ae[2]?ae[1]!==c[ae[0]]:!(ae[0]in c))return!1}for(;++D<B;){ae=x[D];var ce=ae[0],Ce=c[ce],we=ae[1];if(Q&&ae[2]){if(Ce===t&&!(ce in c))return!1}else{var Ee=new Pn;if(E)var We=E(Ce,we,ce,c,p,Ee);if(!(We===t?Mi(we,Ce,b|_,E,Ee):We))return!1}}return!0}function ud(c){if(!jr(c)||vh(c))return!1;var p=kl(c)?U1:jo;return p.test(Ao(c))}function lc(c){return Zr(c)&&vn(c)==Ot}function va(c){return Zr(c)&&yn(c)==st}function sc(c){return Zr(c)&&Rh(c.length)&&!!dr[vn(c)]}function ds(c){return typeof c=="function"?c:c==null?Di:typeof c=="object"?Lt(c)?Fr(c[0],c[1]):wu(c):Rv(c)}function Ya(c){if(!Ka(c))return ts(c);var p=[];for(var x in fr(c))nr.call(c,x)&&x!="constructor"&&p.push(x);return p}function dd(c){if(!jr(c))return xh(c);var p=Ka(c),x=[];for(var E in c)E=="constructor"&&(p||!nr.call(c,E))||x.push(E);return x}function Io(c,p){return c<p}function hd(c,p){var x=-1,E=Pi(c)?fe(c.length):[];return ga(c,function(D,B,Q){E[++x]=p(D,B,Q)}),E}function wu(c){var p=xc(c);return p.length==1&&p[0][2]?Bu(p[0][0],p[0][1]):function(x){return x===c||us(x,c,p)}}function Fr(c,p){return Qe(c)&&wc(p)?Bu(Ki(c),p):function(x){var E=kf(x,c);return E===t&&E===p?Sf(x,c):Mi(p,E,b|_)}}function pl(c,p,x,E,D){c!==p&&mu(p,function(B,Q){if(D||(D=new Pn),jr(B))pd(c,p,Q,x,pl,E,D);else{var ae=E?E(ba(c,Q),B,Q+"",c,p,D):t;ae===t&&(ae=B),nc(c,Q,ae)}},Ai)}function pd(c,p,x,E,D,B,Q){var ae=ba(c,x),ce=ba(p,x),Ce=Q.get(ce);if(Ce){nc(c,x,Ce);return}var we=B?B(ae,ce,x+"",c,p,Q):t,Ee=we===t;if(Ee){var We=Lt(ce),it=!We&&ks(ce),vt=!We&&!it&&i0(ce);we=ce,We||it||vt?Lt(ae)?we=ae:nn(ae)?we=Vn(ae):it?(Ee=!1,we=bd(ce,!0)):vt?(Ee=!1,we=sh(ce,!0)):we=[]:Jd(ce)||Lc(ce)?(we=ae,Lc(ae)?we=Sv(ae):(!jr(ae)||kl(ae))&&(we=xn(ce))):Ee=!1}Ee&&(Q.set(ce,we),D(we,ce,E,B,Q),Q.delete(ce)),nc(c,x,we)}function _u(c,p){var x=c.length;if(x)return p+=p<0?x:0,Rr(p,x)?c[p]:t}function cc(c,p,x){p.length?p=Cr(p,function(B){return Lt(B)?function(Q){return Wa(Q,B.length===1?B[0]:B)}:B}):p=[Di];var E=-1;p=Cr(p,ui(dt()));var D=hd(c,function(B,Q,ae){var ce=Cr(p,function(Ce){return Ce(B)});return{criteria:ce,index:++E,value:B}});return Hp(D,function(B,Q){return ef(B,Q,x)})}function fd(c,p){return Lo(c,p,function(x,E){return Sf(c,E)})}function Lo(c,p,x){for(var E=-1,D=p.length,B={};++E<D;){var Q=p[E],ae=Wa(c,Q);x(ae,Q)&&gl(B,ya(Q,c),ae)}return B}function Or(c){return function(p){return Wa(p,c)}}function Yr(c,p,x,E){var D=E?G0:Gl,B=-1,Q=p.length,ae=c;for(c===p&&(p=Vn(p)),x&&(ae=Cr(c,ui(x)));++B<Q;)for(var ce=0,Ce=p[B],we=x?x(Ce):Ce;(ce=D(ae,we,ce,E))>-1;)ae!==c&&au.call(ae,ce,1),au.call(c,ce,1);return c}function tn(c,p){for(var x=c?p.length:0,E=x-1;x--;){var D=p[x];if(x==E||D!==B){var B=D;Rr(D)?au.call(c,D,1):Mu(c,D)}}return c}function hs(c,p){return c+bo(Js()*(p-c+1))}function uc(c,p,x,E){for(var D=-1,B=Kr(al((p-c)/(x||1)),0),Q=fe(B);B--;)Q[E?B:++D]=c,c+=x;return Q}function fl(c,p){var x="";if(!c||p<1||p>X)return x;do p%2&&(x+=c),p=bo(p/2),p&&(c+=c);while(p);return x}function Nt(c,p){return gi(Vu(c,p,Di),c+"")}function Dn(c){return ha(a0(c))}function gd(c,p){var x=a0(c);return $u(x,$a(p,0,x.length))}function gl(c,p,x,E){if(!jr(c))return c;p=ya(p,c);for(var D=-1,B=p.length,Q=B-1,ae=c;ae!=null&&++D<B;){var ce=Ki(p[D]),Ce=x;if(ce==="__proto__"||ce==="constructor"||ce==="prototype")return c;if(D!=Q){var we=ae[ce];Ce=E?E(we,ce,ae):t,Ce===t&&(Ce=jr(we)?we:Rr(p[D+1])?[]:{})}ul(ae,ce,Ce),ae=ae[ce]}return c}var ku=cu?function(c,p){return cu.set(c,p),c}:Di,ma=qs?function(c,p){return qs(c,"toString",{configurable:!0,enumerable:!1,value:Ef(p),writable:!0})}:Di;function Ei(c){return $u(a0(c))}function Fn(c,p,x){var E=-1,D=c.length;p<0&&(p=-p>D?0:D+p),x=x>D?D:x,x<0&&(x+=D),D=p>x?0:x-p>>>0,p>>>=0;for(var B=fe(D);++E<D;)B[E]=c[E+p];return B}function vd(c,p){var x;return ga(c,function(E,D,B){return x=p(E,D,B),!x}),!!x}function ps(c,p,x){var E=0,D=c==null?E:c.length;if(typeof p=="number"&&p===p&&D<=xe){for(;E<D;){var B=E+D>>>1,Q=c[B];Q!==null&&!qi(Q)&&(x?Q<=p:Q<p)?E=B+1:D=B}return D}return Su(c,p,Di,x)}function Su(c,p,x,E){var D=0,B=c==null?0:c.length;if(B===0)return 0;p=x(p);for(var Q=p!==p,ae=p===null,ce=qi(p),Ce=p===t;D<B;){var we=bo((D+B)/2),Ee=x(c[we]),We=Ee!==t,it=Ee===null,vt=Ee===Ee,Vt=qi(Ee);if(Q)var mt=E||vt;else Ce?mt=vt&&(E||We):ae?mt=vt&&We&&(E||!it):ce?mt=vt&&We&&!it&&(E||!Vt):it||Vt?mt=!1:mt=E?Ee<=p:Ee<p;mt?D=we+1:B=we}return Tn(B,ie)}function md(c,p){for(var x=-1,E=c.length,D=0,B=[];++x<E;){var Q=c[x],ae=p?p(Q):Q;if(!x||!Za(ae,ce)){var ce=ae;B[D++]=Q===0?0:Q}}return B}function yd(c){return typeof c=="number"?c:qi(c)?ee:+c}function ti(c){if(typeof c=="string")return c;if(Lt(c))return Cr(c,ti)+"";if(qi(c))return uu?uu.call(c):"";var p=c+"";return p=="0"&&1/c==-K?"-0":p}function Xa(c,p,x){var E=-1,D=Kc,B=c.length,Q=!0,ae=[],ce=ae;if(x)Q=!1,D=Y0;else if(B>=i){var Ce=p?null:hh(c);if(Ce)return Co(Ce);Q=!1,D=Oa,ce=new ll}else ce=p?[]:ae;e:for(;++E<B;){var we=c[E],Ee=p?p(we):we;if(we=x||we!==0?we:0,Q&&Ee===Ee){for(var We=ce.length;We--;)if(ce[We]===Ee)continue e;p&&ce.push(Ee),ae.push(we)}else D(ce,Ee,x)||(ce!==ae&&ce.push(Ee),ae.push(we))}return ae}function Mu(c,p){return p=ya(p,c),c=on(c,p),c==null||delete c[Ki(Un(p))]}function xd(c,p,x,E){return gl(c,p,x(Wa(c,p)),E)}function dc(c,p,x,E){for(var D=c.length,B=E?D:-1;(E?B--:++B<D)&&p(c[B],B,c););return x?Fn(c,E?0:B,E?B+1:D):Fn(c,E?B+1:0,E?D:B)}function fs(c,p){var x=c;return x instanceof It&&(x=x.value()),X0(p,function(E,D){return D.func.apply(D.thisArg,xo([E],D.args))},x)}function Eu(c,p,x){var E=c.length;if(E<2)return E?Xa(c[0]):[];for(var D=-1,B=fe(E);++D<E;)for(var Q=c[D],ae=-1;++ae<E;)ae!=D&&(B[D]=fa(B[D]||Q,c[ae],p,x));return Xa(Br(B,1),p,x)}function hc(c,p,x){for(var E=-1,D=c.length,B=p.length,Q={};++E<D;){var ae=E<B?p[E]:t;x(Q,c[E],ae)}return Q}function gs(c){return nn(c)?c:[]}function Tu(c){return typeof c=="function"?c:Di}function ya(c,p){return Lt(c)?c:Qe(c,p)?[c]:zd(gr(c))}var ih=Nt;function ja(c,p,x){var E=c.length;return x=x===t?E:x,!p&&x>=E?c:Fn(c,p,x)}var Cd=Y1||function(c){return Dr.clearTimeout(c)};function bd(c,p){if(p)return c.slice();var x=c.length,E=td?td(x):new c.constructor(x);return c.copy(E),E}function pc(c){var p=new c.constructor(c.byteLength);return new Zs(p).set(new Zs(c)),p}function ah(c,p){var x=p?pc(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.byteLength)}function oh(c){var p=new c.constructor(c.source,co.exec(c));return p.lastIndex=c.lastIndex,p}function lh(c){return hi?fr(hi.call(c)):{}}function sh(c,p){var x=p?pc(c.buffer):c.buffer;return new c.constructor(x,c.byteOffset,c.length)}function wd(c,p){if(c!==p){var x=c!==t,E=c===null,D=c===c,B=qi(c),Q=p!==t,ae=p===null,ce=p===p,Ce=qi(p);if(!ae&&!Ce&&!B&&c>p||B&&Q&&ce&&!ae&&!Ce||E&&Q&&ce||!x&&ce||!D)return 1;if(!E&&!B&&!Ce&&c<p||Ce&&x&&D&&!E&&!B||ae&&x&&D||!Q&&D||!ce)return-1}return 0}function ef(c,p,x){for(var E=-1,D=c.criteria,B=p.criteria,Q=D.length,ae=x.length;++E<Q;){var ce=wd(D[E],B[E]);if(ce){if(E>=ae)return ce;var Ce=x[E];return ce*(Ce=="desc"?-1:1)}}return c.index-p.index}function ch(c,p,x,E){for(var D=-1,B=c.length,Q=x.length,ae=-1,ce=p.length,Ce=Kr(B-Q,0),we=fe(ce+Ce),Ee=!E;++ae<ce;)we[ae]=p[ae];for(;++D<Q;)(Ee||D<B)&&(we[x[D]]=c[D]);for(;Ce--;)we[ae++]=c[D++];return we}function _d(c,p,x,E){for(var D=-1,B=c.length,Q=-1,ae=x.length,ce=-1,Ce=p.length,we=Kr(B-ae,0),Ee=fe(we+Ce),We=!E;++D<we;)Ee[D]=c[D];for(var it=D;++ce<Ce;)Ee[it+ce]=p[ce];for(;++Q<ae;)(We||D<B)&&(Ee[it+x[Q]]=c[D++]);return Ee}function Vn(c,p){var x=-1,E=c.length;for(p||(p=fe(E));++x<E;)p[x]=c[x];return p}function Yi(c,p,x,E){var D=!x;x||(x={});for(var B=-1,Q=p.length;++B<Q;){var ae=p[B],ce=E?E(x[ae],c[ae],ae,x,c):t;ce===t&&(ce=c[ae]),D?pa(x,ae,ce):ul(x,ae,ce)}return x}function Iu(c,p){return Yi(c,Xi(c),p)}function tf(c,p){return Yi(c,fh(c),p)}function Lu(c,p){return function(x,E){var D=Lt(x)?U0:pi,B=p?p():{};return D(x,c,dt(E,2),B)}}function vs(c){return Nt(function(p,x){var E=-1,D=x.length,B=D>1?x[D-1]:t,Q=D>2?x[2]:t;for(B=c.length>3&&typeof B=="function"?(D--,B):t,Q&&Wn(x[0],x[1],Q)&&(B=D<3?t:B,D=1),p=fr(p);++E<D;){var ae=x[E];ae&&c(p,ae,E,B)}return p})}function Ti(c,p){return function(x,E){if(x==null)return x;if(!Pi(x))return c(x,E);for(var D=x.length,B=p?D:-1,Q=fr(x);(p?B--:++B<D)&&E(Q[B],B,Q)!==!1;);return x}}function Pu(c){return function(p,x,E){for(var D=-1,B=fr(p),Q=E(p),ae=Q.length;ae--;){var ce=Q[c?ae:++D];if(x(B[ce],ce,B)===!1)break}return p}}function Au(c,p,x){var E=p&k,D=ms(c);function B(){var Q=this&&this!==Dr&&this instanceof B?D:c;return Q.apply(E?x:this,arguments)}return B}function kd(c){return function(p){p=gr(p);var x=Ql(p)?di(p):t,E=x?x[0]:p.charAt(0),D=x?ja(x,1).join(""):p.slice(1);return E[c]()+D}}function vl(c){return function(p){return X0(Dv(Av(p).replace(Wc,"")),c,"")}}function ms(c){return function(){var p=arguments;switch(p.length){case 0:return new c;case 1:return new c(p[0]);case 2:return new c(p[0],p[1]);case 3:return new c(p[0],p[1],p[2]);case 4:return new c(p[0],p[1],p[2],p[3]);case 5:return new c(p[0],p[1],p[2],p[3],p[4]);case 6:return new c(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new c(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var x=as(c.prototype),E=c.apply(x,p);return jr(E)?E:x}}function Sd(c,p,x){var E=ms(c);function D(){for(var B=arguments.length,Q=fe(B),ae=B,ce=Ga(D);ae--;)Q[ae]=arguments[ae];var Ce=B<3&&Q[0]!==ce&&Q[B-1]!==ce?[]:xi(Q,ce);if(B-=Ce.length,B<x)return $n(c,p,ys,D.placeholder,t,Q,Ce,t,t,x-B);var we=this&&this!==Dr&&this instanceof D?E:c;return zn(we,this,Q)}return D}function ml(c){return function(p,x,E){var D=fr(p);if(!Pi(p)){var B=dt(x,3);p=Rn(p),x=function(ae){return B(D[ae],ae,D)}}var Q=c(p,x,E);return Q>-1?D[B?p[Q]:Q]:t}}function Du(c){return Ca(function(p){var x=p.length,E=x,D=In.prototype.thru;for(c&&p.reverse();E--;){var B=p[E];if(typeof B!="function")throw new Ci(s);if(D&&!Q&&xs(B)=="wrapper")var Q=new In([],!0)}for(E=Q?E:x;++E<x;){B=p[E];var ae=xs(B),ce=ae=="wrapper"?Ou(B):t;ce&&bc(ce[0])&&ce[1]==(R|I|L|V)&&!ce[4].length&&ce[9]==1?Q=Q[xs(ce[0])].apply(Q,ce[3]):Q=B.length==1&&bc(B)?Q[ae]():Q.thru(B)}return function(){var Ce=arguments,we=Ce[0];if(Q&&Ce.length==1&&Lt(we))return Q.plant(we).value();for(var Ee=0,We=x?p[Ee].apply(this,Ce):we;++Ee<x;)We=p[Ee].call(this,We);return We}})}function ys(c,p,x,E,D,B,Q,ae,ce,Ce){var we=p&R,Ee=p&k,We=p&S,it=p&(I|P),vt=p&$,Vt=We?t:ms(c);function mt(){for(var Gt=arguments.length,Jt=fe(Gt),Ji=Gt;Ji--;)Jt[Ji]=arguments[Ji];if(it)var mi=Ga(mt),ea=R1(Jt,mi);if(E&&(Jt=ch(Jt,E,D,it)),B&&(Jt=_d(Jt,B,Q,it)),Gt-=ea,it&&Gt<Ce){var an=xi(Jt,mi);return $n(c,p,ys,mt.placeholder,x,Jt,an,ae,ce,Ce-Gt)}var qa=Ee?x:this,Ml=We?qa[c]:c;return Gt=Jt.length,ae?Jt=ji(Jt,ae):vt&&Gt>1&&Jt.reverse(),we&&ce<Gt&&(Jt.length=ce),this&&this!==Dr&&this instanceof mt&&(Ml=Vt||ms(Ml)),Ml.apply(qa,Jt)}return mt}function uh(c,p){return function(x,E){return Ua(x,c,p(E),{})}}function fc(c,p){return function(x,E){var D;if(x===t&&E===t)return p;if(x!==t&&(D=x),E!==t){if(D===t)return E;typeof x=="string"||typeof E=="string"?(x=ti(x),E=ti(E)):(x=yd(x),E=yd(E)),D=c(x,E)}return D}}function Fu(c){return Ca(function(p){return p=Cr(p,ui(dt())),Nt(function(x){var E=this;return c(p,function(D){return zn(D,E,x)})})})}function gc(c,p){p=p===t?" ":ti(p);var x=p.length;if(x<2)return x?fl(p,c):p;var E=fl(p,al(c/nl(p)));return Ql(p)?ja(di(E),0,c).join(""):E.slice(0,c)}function dh(c,p,x,E){var D=p&k,B=ms(c);function Q(){for(var ae=-1,ce=arguments.length,Ce=-1,we=E.length,Ee=fe(we+ce),We=this&&this!==Dr&&this instanceof Q?B:c;++Ce<we;)Ee[Ce]=E[Ce];for(;ce--;)Ee[Ce++]=arguments[++ae];return zn(We,D?x:this,Ee)}return Q}function Md(c){return function(p,x,E){return E&&typeof E!="number"&&Wn(p,x,E)&&(x=E=t),p=Sl(p),x===t?(x=p,p=0):x=Sl(x),E=E===t?p<x?1:-1:Sl(E),uc(p,x,E,c)}}function Ru(c){return function(p,x){return typeof p=="string"&&typeof x=="string"||(p=wa(p),x=wa(x)),c(p,x)}}function $n(c,p,x,E,D,B,Q,ae,ce,Ce){var we=p&I,Ee=we?Q:t,We=we?t:Q,it=we?B:t,vt=we?t:B;p|=we?L:z,p&=~(we?z:L),p&T||(p&=-4);var Vt=[c,p,D,it,Ee,vt,We,ae,ce,Ce],mt=x.apply(t,Vt);return bc(c)&&Od(mt,Vt),mt.placeholder=E,Nd(mt,c,p)}function mn(c){var p=Gr[c];return function(x,E){if(x=wa(x),E=E==null?0:Tn(zt(E),292),E&&es(x)){var D=(gr(x)+"e").split("e"),B=p(D[0]+"e"+(+D[1]+E));return D=(gr(B)+"e").split("e"),+(D[0]+"e"+(+D[1]-E))}return p(x)}}var hh=wo&&1/Co(new wo([,-0]))[1]==K?function(c){return new wo(c)}:Lf;function Ed(c){return function(p){var x=yn(p);return x==Me?qc(p):x==st?Gp(p):Yp(p,c(p))}}function xa(c,p,x,E,D,B,Q,ae){var ce=p&S;if(!ce&&typeof c!="function")throw new Ci(s);var Ce=E?E.length:0;if(Ce||(p&=-97,E=D=t),Q=Q===t?Q:Kr(zt(Q),0),ae=ae===t?ae:zt(ae),Ce-=D?D.length:0,p&z){var we=E,Ee=D;E=D=t}var We=ce?t:Ou(c),it=[c,p,x,E,D,we,Ee,B,Q,ae];if(We&&yh(it,We),c=it[0],p=it[1],x=it[2],E=it[3],D=it[4],ae=it[9]=it[9]===t?ce?0:c.length:Kr(it[9]-Ce,0),!ae&&p&(I|P)&&(p&=-25),!p||p==k)var vt=Au(c,p,x);else p==I||p==P?vt=Sd(c,p,ae):(p==L||p==(k|L))&&!D.length?vt=dh(c,p,x,E):vt=ys.apply(t,it);var Vt=We?ku:Od;return Nd(Vt(vt,it),c,p)}function Td(c,p,x,E){return c===t||Za(c,sa[x])&&!nr.call(E,x)?p:c}function Id(c,p,x,E,D,B){return jr(c)&&jr(p)&&(B.set(p,c),pl(c,p,t,Id,B),B.delete(p)),c}function Ld(c){return Jd(c)?t:c}function Pd(c,p,x,E,D,B){var Q=x&b,ae=c.length,ce=p.length;if(ae!=ce&&!(Q&&ce>ae))return!1;var Ce=B.get(c),we=B.get(p);if(Ce&&we)return Ce==p&&we==c;var Ee=-1,We=!0,it=x&_?new ll:t;for(B.set(c,p),B.set(p,c);++Ee<ae;){var vt=c[Ee],Vt=p[Ee];if(E)var mt=Q?E(Vt,vt,Ee,p,c,B):E(vt,Vt,Ee,c,p,B);if(mt!==t){if(mt)continue;We=!1;break}if(it){if(!j0(p,function(Gt,Jt){if(!Oa(it,Jt)&&(vt===Gt||D(vt,Gt,x,E,B)))return it.push(Jt)})){We=!1;break}}else if(!(vt===Vt||D(vt,Vt,x,E,B))){We=!1;break}}return B.delete(c),B.delete(p),We}function Ad(c,p,x,E,D,B,Q){switch(x){case Kt:if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case Ut:return!(c.byteLength!=p.byteLength||!B(new Zs(c),new Zs(p)));case Ae:case Ne:case nt:return Za(+c,+p);case Te:return c.name==p.name&&c.message==p.message;case Ot:case lr:return c==p+"";case Me:var ae=qc;case st:var ce=E&b;if(ae||(ae=Co),c.size!=p.size&&!ce)return!1;var Ce=Q.get(c);if(Ce)return Ce==p;E|=_,Q.set(c,p);var we=Pd(ae(c),ae(p),E,D,B,Q);return Q.delete(c),we;case Wr:if(hi)return hi.call(c)==hi.call(p)}return!1}function ph(c,p,x,E,D,B){var Q=x&b,ae=vc(c),ce=ae.length,Ce=vc(p),we=Ce.length;if(ce!=we&&!Q)return!1;for(var Ee=ce;Ee--;){var We=ae[Ee];if(!(Q?We in p:nr.call(p,We)))return!1}var it=B.get(c),vt=B.get(p);if(it&&vt)return it==p&&vt==c;var Vt=!0;B.set(c,p),B.set(p,c);for(var mt=Q;++Ee<ce;){We=ae[Ee];var Gt=c[We],Jt=p[We];if(E)var Ji=Q?E(Jt,Gt,We,p,c,B):E(Gt,Jt,We,c,p,B);if(!(Ji===t?Gt===Jt||D(Gt,Jt,x,E,B):Ji)){Vt=!1;break}mt||(mt=We=="constructor")}if(Vt&&!mt){var mi=c.constructor,ea=p.constructor;mi!=ea&&"constructor"in c&&"constructor"in p&&!(typeof mi=="function"&&mi instanceof mi&&typeof ea=="function"&&ea instanceof ea)&&(Vt=!1)}return B.delete(c),B.delete(p),Vt}function Ca(c){return gi(Vu(c,t,Uu),c+"")}function vc(c){return yu(c,Rn,Xi)}function mc(c){return yu(c,Ai,fh)}var Ou=cu?function(c){return cu.get(c)}:Lf;function xs(c){for(var p=c.name+"",x=ns[p],E=nr.call(ns,p)?x.length:0;E--;){var D=x[E],B=D.func;if(B==null||B==c)return D.name}return p}function Ga(c){var p=nr.call(O,"placeholder")?O:c;return p.placeholder}function dt(){var c=O.iteratee||Tf;return c=c===Tf?ds:c,arguments.length?c(arguments[0],arguments[1]):c}function yc(c,p){var x=c.__data__;return Cs(p)?x[typeof p=="string"?"string":"hash"]:x.map}function xc(c){for(var p=Rn(c),x=p.length;x--;){var E=p[x],D=c[E];p[x]=[E,D,wc(D)]}return p}function Po(c,p){var x=Kl(c,p);return ud(x)?x:t}function Nu(c){var p=nr.call(c,il),x=c[il];try{c[il]=t;var E=!0}catch{}var D=Ks.call(c);return E&&(p?c[il]=x:delete c[il]),D}var Xi=ou?function(c){return c==null?[]:(c=fr(c),yo(ou(c),function(p){return iu.call(c,p)}))}:Pf,fh=ou?function(c){for(var p=[];c;)xo(p,Xi(c)),c=Ui(c);return p}:Pf,yn=vn;(ec&&yn(new ec(new ArrayBuffer(1)))!=Kt||ol&&yn(new ol)!=Me||tc&&yn(tc.resolve())!=yt||wo&&yn(new wo)!=st||rc&&yn(new rc)!=ar)&&(yn=function(c){var p=vn(c),x=p==Be?c.constructor:t,E=x?Ao(x):"";if(E)switch(E){case id:return Kt;case _o:return Me;case j1:return yt;case is:return st;case ca:return ar}return p});function Dd(c,p,x){for(var E=-1,D=x.length;++E<D;){var B=x[E],Q=B.size;switch(B.type){case"drop":c+=Q;break;case"dropRight":p-=Q;break;case"take":p=Tn(p,c+Q);break;case"takeRight":c=Kr(c,p-Q);break}}return{start:c,end:p}}function gh(c){var p=c.match(gn);return p?p[1].split(Mn):[]}function Fd(c,p,x){p=ya(p,c);for(var E=-1,D=p.length,B=!1;++E<D;){var Q=Ki(p[E]);if(!(B=c!=null&&x(c,Q)))break;c=c[Q]}return B||++E!=D?B:(D=c==null?0:c.length,!!D&&Rh(D)&&Rr(Q,D)&&(Lt(c)||Lc(c)))}function Cc(c){var p=c.length,x=new c.constructor(p);return p&&typeof c[0]=="string"&&nr.call(c,"index")&&(x.index=c.index,x.input=c.input),x}function xn(c){return typeof c.constructor=="function"&&!Ka(c)?as(Ui(c)):{}}function rf(c,p,x){var E=c.constructor;switch(p){case Ut:return pc(c);case Ae:case Ne:return new E(+c);case Kt:return ah(c,x);case zr:case or:case Tr:case Mt:case Ve:case bt:case xt:case wt:case Ct:return sh(c,x);case Me:return new E;case nt:case lr:return new E(c);case Ot:return oh(c);case st:return new E;case Wr:return lh(c)}}function nf(c,p){var x=p.length;if(!x)return c;var E=x-1;return p[E]=(x>1?"& ":"")+p[E],p=p.join(x>2?", ":" "),c.replace(en,`{
/* [wrapped with `+p+`] */
`)}function zu(c){return Lt(c)||Lc(c)||!!(H1&&c&&c[H1])}function Rr(c,p){var x=typeof c;return p=p??X,!!p&&(x=="number"||x!="symbol"&&Ds.test(c))&&c>-1&&c%1==0&&c<p}function Wn(c,p,x){if(!jr(x))return!1;var E=typeof p;return(E=="number"?Pi(x)&&Rr(p,x.length):E=="string"&&p in x)?Za(x[p],c):!1}function Qe(c,p){if(Lt(c))return!1;var x=typeof c;return x=="number"||x=="symbol"||x=="boolean"||c==null||qi(c)?!0:Et.test(c)||!Pr.test(c)||p!=null&&c in fr(p)}function Cs(c){var p=typeof c;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null}function bc(c){var p=xs(c),x=O[p];if(typeof x!="function"||!(p in It.prototype))return!1;if(c===x)return!0;var E=Ou(x);return!!E&&c===E[0]}function vh(c){return!!tu&&tu in c}var af=ql?kl:Af;function Ka(c){var p=c&&c.constructor,x=typeof p=="function"&&p.prototype||sa;return c===x}function wc(c){return c===c&&!jr(c)}function Bu(c,p){return function(x){return x==null?!1:x[c]===p&&(p!==t||c in fr(x))}}function mh(c){var p=he(c,function(E){return x.size===h&&x.clear(),E}),x=p.cache;return p}function yh(c,p){var x=c[1],E=p[1],D=x|E,B=D<(k|S|R),Q=E==R&&x==I||E==R&&x==V&&c[7].length<=p[8]||E==(R|V)&&p[7].length<=p[8]&&x==I;if(!(B||Q))return c;E&k&&(c[2]=p[2],D|=x&k?0:T);var ae=p[3];if(ae){var ce=c[3];c[3]=ce?ch(ce,ae,p[4]):ae,c[4]=ce?xi(c[3],f):p[4]}return ae=p[5],ae&&(ce=c[5],c[5]=ce?_d(ce,ae,p[6]):ae,c[6]=ce?xi(c[5],f):p[6]),ae=p[7],ae&&(c[7]=ae),E&R&&(c[8]=c[8]==null?p[8]:Tn(c[8],p[8])),c[9]==null&&(c[9]=p[9]),c[0]=p[0],c[1]=D,c}function xh(c){var p=[];if(c!=null)for(var x in fr(c))p.push(x);return p}function Rd(c){return Ks.call(c)}function Vu(c,p,x){return p=Kr(p===t?c.length-1:p,0),function(){for(var E=arguments,D=-1,B=Kr(E.length-p,0),Q=fe(B);++D<B;)Q[D]=E[p+D];D=-1;for(var ae=fe(p+1);++D<p;)ae[D]=E[D];return ae[p]=x(Q),zn(c,this,ae)}}function on(c,p){return p.length<2?c:Wa(c,Fn(p,0,-1))}function ji(c,p){for(var x=c.length,E=Tn(p.length,x),D=Vn(c);E--;){var B=p[E];c[E]=Rr(B,x)?D[B]:t}return c}function ba(c,p){if(!(p==="constructor"&&typeof c[p]=="function")&&p!="__proto__")return c[p]}var Od=Gi(ku),bs=rd||function(c,p){return Dr.setTimeout(c,p)},gi=Gi(ma);function Nd(c,p,x){var E=p+"";return gi(c,nf(E,Ch(gh(E),x)))}function Gi(c){var p=0,x=0;return function(){var E=Jp(),D=Y-(E-x);if(x=E,D>0){if(++p>=ue)return arguments[0]}else p=0;return c.apply(t,arguments)}}function $u(c,p){var x=-1,E=c.length,D=E-1;for(p=p===t?E:p;++x<p;){var B=hs(x,D),Q=c[B];c[B]=c[x],c[x]=Q}return c.length=p,c}var zd=mh(function(c){var p=[];return c.charCodeAt(0)===46&&p.push(""),c.replace(Ar,function(x,E,D,B){p.push(D?B.replace(so,"$1"):E||x)}),p});function Ki(c){if(typeof c=="string"||qi(c))return c;var p=c+"";return p=="0"&&1/c==-K?"-0":p}function Ao(c){if(c!=null){try{return Gs.call(c)}catch{}try{return c+""}catch{}}return""}function Ch(c,p){return En(Le,function(x){var E="_."+x[0];p&x[1]&&!Kc(c,E)&&c.push(E)}),c.sort()}function bh(c){if(c instanceof It)return c.clone();var p=new In(c.__wrapped__,c.__chain__);return p.__actions__=Vn(c.__actions__),p.__index__=c.__index__,p.__values__=c.__values__,p}function Wu(c,p,x){(x?Wn(c,p,x):p===t)?p=1:p=Kr(zt(p),0);var E=c==null?0:c.length;if(!E||p<1)return[];for(var D=0,B=0,Q=fe(al(E/p));D<E;)Q[B++]=Fn(c,D,D+=p);return Q}function Bd(c){for(var p=-1,x=c==null?0:c.length,E=0,D=[];++p<x;){var B=c[p];B&&(D[E++]=B)}return D}function Ii(){var c=arguments.length;if(!c)return[];for(var p=fe(c-1),x=arguments[0],E=c;E--;)p[E-1]=arguments[E];return xo(Lt(x)?Vn(x):[x],Br(p,1))}var qt=Nt(function(c,p){return nn(c)?fa(c,Br(p,1,nn,!0)):[]}),ln=Nt(function(c,p){var x=Un(p);return nn(x)&&(x=t),nn(c)?fa(c,Br(p,1,nn,!0),dt(x,2)):[]}),Qr=Nt(function(c,p){var x=Un(p);return nn(x)&&(x=t),nn(c)?fa(c,Br(p,1,nn,!0),t,x):[]});function Cn(c,p,x){var E=c==null?0:c.length;return E?(p=x||p===t?1:zt(p),Fn(c,p<0?0:p,E)):[]}function vi(c,p,x){var E=c==null?0:c.length;return E?(p=x||p===t?1:zt(p),p=E-p,Fn(c,0,p<0?0:p)):[]}function ws(c,p){return c&&c.length?dc(c,dt(p,3),!0,!0):[]}function rn(c,p){return c&&c.length?dc(c,dt(p,3),!0):[]}function _c(c,p,x,E){var D=c==null?0:c.length;return D?(x&&typeof x!="number"&&Wn(c,p,x)&&(x=0,E=D),th(c,p,x,E)):[]}function Do(c,p,x){var E=c==null?0:c.length;if(!E)return-1;var D=x==null?0:zt(x);return D<0&&(D=Kr(E+D,0)),Qc(c,dt(p,3),D)}function kc(c,p,x){var E=c==null?0:c.length;if(!E)return-1;var D=E-1;return x!==t&&(D=zt(x),D=x<0?Kr(E+D,0):Tn(D,E-1)),Qc(c,dt(p,3),D,!0)}function Uu(c){var p=c==null?0:c.length;return p?Br(c,1):[]}function Sc(c){var p=c==null?0:c.length;return p?Br(c,K):[]}function ri(c,p){var x=c==null?0:c.length;return x?(p=p===t?1:zt(p),Br(c,p)):[]}function Vd(c){for(var p=-1,x=c==null?0:c.length,E={};++p<x;){var D=c[p];E[D[0]]=D[1]}return E}function yl(c){return c&&c.length?c[0]:t}function Qa(c,p,x){var E=c==null?0:c.length;if(!E)return-1;var D=x==null?0:zt(x);return D<0&&(D=Kr(E+D,0)),Gl(c,p,D)}function Hu(c){var p=c==null?0:c.length;return p?Fn(c,0,-1):[]}var $d=Nt(function(c){var p=Cr(c,gs);return p.length&&p[0]===c[0]?xu(p):[]}),Fo=Nt(function(c){var p=Un(c),x=Cr(c,gs);return p===Un(x)?p=t:x.pop(),x.length&&x[0]===c[0]?xu(x,dt(p,2)):[]}),Yu=Nt(function(c){var p=Un(c),x=Cr(c,gs);return p=typeof p=="function"?p:t,p&&x.pop(),x.length&&x[0]===c[0]?xu(x,t,p):[]});function Ro(c,p){return c==null?"":lu.call(c,p)}function Un(c){var p=c==null?0:c.length;return p?c[p-1]:t}function Mc(c,p,x){var E=c==null?0:c.length;if(!E)return-1;var D=E;return x!==t&&(D=zt(x),D=D<0?Kr(E+D,0):Tn(D,E-1)),p===p?Kp(c,p,D):Qc(c,L1,D,!0)}function Wd(c,p){return c&&c.length?_u(c,zt(p)):t}var Xu=Nt(Ec);function Ec(c,p){return c&&c.length&&p&&p.length?Yr(c,p):c}function Hn(c,p,x){return c&&c.length&&p&&p.length?Yr(c,p,dt(x,2)):c}function Oo(c,p,x){return c&&c.length&&p&&p.length?Yr(c,p,t,x):c}var Qi=Ca(function(c,p){var x=c==null?0:c.length,E=vu(c,p);return tn(c,Cr(p,function(D){return Rr(D,x)?+D:D}).sort(wd)),E});function ni(c,p){var x=[];if(!(c&&c.length))return x;var E=-1,D=[],B=c.length;for(p=dt(p,3);++E<B;){var Q=c[E];p(Q,E,c)&&(x.push(Q),D.push(E))}return tn(c,D),x}function ju(c){return c==null?c:su.call(c)}function Ud(c,p,x){var E=c==null?0:c.length;return E?(x&&typeof x!="number"&&Wn(c,p,x)?(p=0,x=E):(p=p==null?0:zt(p),x=x===t?E:zt(x)),Fn(c,p,x)):[]}function Hd(c,p){return ps(c,p)}function of(c,p,x){return Su(c,p,dt(x,2))}function No(c,p){var x=c==null?0:c.length;if(x){var E=ps(c,p);if(E<x&&Za(c[E],p))return E}return-1}function wh(c,p){return ps(c,p,!0)}function Yd(c,p,x){return Su(c,p,dt(x,2),!0)}function xl(c,p){var x=c==null?0:c.length;if(x){var E=ps(c,p,!0)-1;if(Za(c[E],p))return E}return-1}function Xd(c){return c&&c.length?md(c):[]}function Cl(c,p){return c&&c.length?md(c,dt(p,2)):[]}function _h(c){var p=c==null?0:c.length;return p?Fn(c,1,p):[]}function kh(c,p,x){return c&&c.length?(p=x||p===t?1:zt(p),Fn(c,0,p<0?0:p)):[]}function jd(c,p,x){var E=c==null?0:c.length;return E?(p=x||p===t?1:zt(p),p=E-p,Fn(c,p<0?0:p,E)):[]}function Gu(c,p){return c&&c.length?dc(c,dt(p,3),!1,!0):[]}function lf(c,p){return c&&c.length?dc(c,dt(p,3)):[]}var sf=Nt(function(c){return Xa(Br(c,1,nn,!0))}),Sh=Nt(function(c){var p=Un(c);return nn(p)&&(p=t),Xa(Br(c,1,nn,!0),dt(p,2))}),Mh=Nt(function(c){var p=Un(c);return p=typeof p=="function"?p:t,Xa(Br(c,1,nn,!0),t,p)});function bl(c){return c&&c.length?Xa(c):[]}function cf(c,p){return c&&c.length?Xa(c,dt(p,2)):[]}function _s(c,p){return p=typeof p=="function"?p:t,c&&c.length?Xa(c,t,p):[]}function Ku(c){if(!(c&&c.length))return[];var p=0;return c=yo(c,function(x){if(nn(x))return p=Kr(x.length,p),!0}),Z0(p,function(x){return Cr(c,K0(x))})}function Nr(c,p){if(!(c&&c.length))return[];var x=Ku(c);return p==null?x:Cr(x,function(E){return zn(p,t,E)})}var uf=Nt(function(c,p){return nn(c)?fa(c,p):[]}),Eh=Nt(function(c){return Eu(yo(c,nn))}),df=Nt(function(c){var p=Un(c);return nn(p)&&(p=t),Eu(yo(c,nn),dt(p,2))}),hf=Nt(function(c){var p=Un(c);return p=typeof p=="function"?p:t,Eu(yo(c,nn),t,p)}),Th=Nt(Ku);function Ih(c,p){return hc(c||[],p||[],ul)}function pf(c,p){return hc(c||[],p||[],gl)}var Li=Nt(function(c){var p=c.length,x=p>1?c[p-1]:t;return x=typeof x=="function"?(c.pop(),x):t,Nr(c,x)});function Qu(c){var p=O(c);return p.__chain__=!0,p}function ff(c,p){return p(c),c}function Zi(c,p){return p(c)}var Zu=Ca(function(c){var p=c.length,x=p?c[0]:0,E=this.__wrapped__,D=function(B){return vu(B,c)};return p>1||this.__actions__.length||!(E instanceof It)||!Rr(x)?this.thru(D):(E=E.slice(x,+x+(p?1:0)),E.__actions__.push({func:Zi,args:[D],thisArg:t}),new In(E,this.__chain__).thru(function(B){return p&&!B.length&&B.push(t),B}))});function wl(){return Qu(this)}function qu(){return new In(this.value(),this.__chain__)}function Gd(){this.__values__===t&&(this.__values__=_v(this.value()));var c=this.__index__>=this.__values__.length,p=c?t:this.__values__[this.__index__++];return{done:c,value:p}}function Kd(){return this}function gf(c){for(var p,x=this;x instanceof ua;){var E=bh(x);E.__index__=0,E.__values__=t,p?D.__wrapped__=E:p=E;var D=E;x=x.__wrapped__}return D.__wrapped__=c,p}function Qd(){var c=this.__wrapped__;if(c instanceof It){var p=c;return this.__actions__.length&&(p=new It(this)),p=p.reverse(),p.__actions__.push({func:Zi,args:[ju],thisArg:t}),new In(p,this.__chain__)}return this.thru(ju)}function vf(){return fs(this.__wrapped__,this.__actions__)}var Lh=Lu(function(c,p,x){nr.call(c,x)?++c[x]:pa(c,x,1)});function Ph(c,p,x){var E=Lt(c)?H0:ac;return x&&Wn(c,p,x)&&(p=t),E(c,dt(p,3))}function Ju(c,p){var x=Lt(c)?yo:sd;return x(c,dt(p,3))}var e0=ml(Do),Ah=ml(kc);function Zd(c,p){return Br(_l(c,p),1)}function mf(c,p){return Br(_l(c,p),K)}function Dh(c,p,x){return x=x===t?1:zt(x),Br(_l(c,p),x)}function t0(c,p){var x=Lt(c)?En:ga;return x(c,dt(p,3))}function Tc(c,p){var x=Lt(c)?Gc:eh;return x(c,dt(p,3))}var qd=Lu(function(c,p,x){nr.call(c,x)?c[x].push(p):pa(c,x,[p])});function r0(c,p,x,E){c=Pi(c)?c:a0(c),x=x&&!E?zt(x):0;var D=c.length;return x<0&&(x=Kr(D+x,0)),Oh(c)?x<=D&&c.indexOf(p,x)>-1:!!D&&Gl(c,p,x)>-1}var Fh=Nt(function(c,p,x){var E=-1,D=typeof p=="function",B=Pi(c)?fe(c.length):[];return ga(c,function(Q){B[++E]=D?zn(p,Q,x):Si(Q,p,x)}),B}),yf=Lu(function(c,p,x){pa(c,x,p)});function _l(c,p){var x=Lt(c)?Cr:hd;return x(c,dt(p,3))}function xf(c,p,x,E){return c==null?[]:(Lt(p)||(p=p==null?[]:[p]),x=E?t:x,Lt(x)||(x=x==null?[]:[x]),cc(c,p,x))}var Ic=Lu(function(c,p,x){c[x?0:1].push(p)},function(){return[[],[]]});function Cf(c,p,x){var E=Lt(c)?X0:A1,D=arguments.length<3;return E(c,dt(p,4),x,D,ga)}function n0(c,p,x){var E=Lt(c)?$p:A1,D=arguments.length<3;return E(c,dt(p,4),x,D,eh)}function a(c,p){var x=Lt(c)?yo:sd;return x(c,De(dt(p,3)))}function l(c){var p=Lt(c)?ha:Dn;return p(c)}function g(c,p,x){(x?Wn(c,p,x):p===t)?p=1:p=zt(p);var E=Lt(c)?cl:gd;return E(c,p)}function y(c){var p=Lt(c)?q1:Ei;return p(c)}function w(c){if(c==null)return 0;if(Pi(c))return Oh(c)?nl(c):c.length;var p=yn(c);return p==Me||p==st?c.size:Ya(c).length}function M(c,p,x){var E=Lt(c)?j0:vd;return x&&Wn(c,p,x)&&(p=t),E(c,dt(p,3))}var F=Nt(function(c,p){if(c==null)return[];var x=p.length;return x>1&&Wn(c,p[0],p[1])?p=[]:x>2&&Wn(p[0],p[1],p[2])&&(p=[p[0]]),cc(c,Br(p,1),[])}),j=Sr||function(){return Dr.Date.now()};function ne(c,p){if(typeof p!="function")throw new Ci(s);return c=zt(c),function(){if(--c<1)return p.apply(this,arguments)}}function ge(c,p,x){return p=x?t:p,p=c&&p==null?c.length:p,xa(c,R,t,t,t,t,p)}function Se(c,p){var x;if(typeof p!="function")throw new Ci(s);return c=zt(c),function(){return--c>0&&(x=p.apply(this,arguments)),c<=1&&(p=t),x}}var Ie=Nt(function(c,p,x){var E=k;if(x.length){var D=xi(x,Ga(Ie));E|=L}return xa(c,E,p,x,D)}),ke=Nt(function(c,p,x){var E=k|S;if(x.length){var D=xi(x,Ga(ke));E|=L}return xa(p,E,c,x,D)});function Xe(c,p,x){p=x?t:p;var E=xa(c,I,t,t,t,t,t,p);return E.placeholder=Xe.placeholder,E}function qe(c,p,x){p=x?t:p;var E=xa(c,P,t,t,t,t,t,p);return E.placeholder=qe.placeholder,E}function et(c,p,x){var E,D,B,Q,ae,ce,Ce=0,we=!1,Ee=!1,We=!0;if(typeof c!="function")throw new Ci(s);p=wa(p)||0,jr(x)&&(we=!!x.leading,Ee="maxWait"in x,B=Ee?Kr(wa(x.maxWait)||0,p):B,We="trailing"in x?!!x.trailing:We);function it(an){var qa=E,Ml=D;return E=D=t,Ce=an,Q=c.apply(Ml,qa),Q}function vt(an){return Ce=an,ae=bs(Gt,p),we?it(an):Q}function Vt(an){var qa=an-ce,Ml=an-Ce,Ov=p-qa;return Ee?Tn(Ov,B-Ml):Ov}function mt(an){var qa=an-ce,Ml=an-Ce;return ce===t||qa>=p||qa<0||Ee&&Ml>=B}function Gt(){var an=j();if(mt(an))return Jt(an);ae=bs(Gt,Vt(an))}function Jt(an){return ae=t,We&&E?it(an):(E=D=t,Q)}function Ji(){ae!==t&&Cd(ae),Ce=0,E=ce=D=ae=t}function mi(){return ae===t?Q:Jt(j())}function ea(){var an=j(),qa=mt(an);if(E=arguments,D=this,ce=an,qa){if(ae===t)return vt(ce);if(Ee)return Cd(ae),ae=bs(Gt,p),it(ce)}return ae===t&&(ae=bs(Gt,p)),Q}return ea.cancel=Ji,ea.flush=mi,ea}var Xr=Nt(function(c,p){return ld(c,1,p)}),de=Nt(function(c,p,x){return ld(c,wa(p)||0,x)});function le(c){return xa(c,$)}function he(c,p){if(typeof c!="function"||p!=null&&typeof p!="function")throw new Ci(s);var x=function(){var E=arguments,D=p?p.apply(this,E):E[0],B=x.cache;if(B.has(D))return B.get(D);var Q=c.apply(this,E);return x.cache=B.set(D,Q)||B,Q};return x.cache=new(he.Cache||bi),x}he.Cache=bi;function De(c){if(typeof c!="function")throw new Ci(s);return function(){var p=arguments;switch(p.length){case 0:return!c.call(this);case 1:return!c.call(this,p[0]);case 2:return!c.call(this,p[0],p[1]);case 3:return!c.call(this,p[0],p[1],p[2])}return!c.apply(this,p)}}function rt(c){return Se(2,c)}var ct=ih(function(c,p){p=p.length==1&&Lt(p[0])?Cr(p[0],ui(dt())):Cr(Br(p,1),ui(dt()));var x=p.length;return Nt(function(E){for(var D=-1,B=Tn(E.length,x);++D<B;)E[D]=p[D].call(this,E[D]);return zn(c,this,E)})}),ot=Nt(function(c,p){var x=xi(p,Ga(ot));return xa(c,L,t,p,x)}),gt=Nt(function(c,p){var x=xi(p,Ga(gt));return xa(c,z,t,p,x)}),sn=Ca(function(c,p){return xa(c,V,t,t,t,p)});function ir(c,p){if(typeof c!="function")throw new Ci(s);return p=p===t?p:zt(p),Nt(c,p)}function zo(c,p){if(typeof c!="function")throw new Ci(s);return p=p==null?0:Kr(zt(p),0),Nt(function(x){var E=x[p],D=ja(x,0,p);return E&&xo(D,E),zn(c,this,D)})}function bf(c,p,x){var E=!0,D=!0;if(typeof c!="function")throw new Ci(s);return jr(x)&&(E="leading"in x?!!x.leading:E,D="trailing"in x?!!x.trailing:D),et(c,p,{leading:E,maxWait:p,trailing:D})}function gy(c){return ge(c,1)}function vy(c,p){return ot(Tu(p),c)}function my(){if(!arguments.length)return[];var c=arguments[0];return Lt(c)?c:[c]}function yy(c){return ei(c,C)}function xy(c,p){return p=typeof p=="function"?p:t,ei(c,C,p)}function Cy(c){return ei(c,v|C)}function by(c,p){return p=typeof p=="function"?p:t,ei(c,v|C,p)}function wy(c,p){return p==null||ic(c,p,Rn(p))}function Za(c,p){return c===p||c!==c&&p!==p}var _y=Ru(To),ky=Ru(function(c,p){return c>=p}),Lc=Cu(function(){return arguments}())?Cu:function(c){return Zr(c)&&nr.call(c,"callee")&&!iu.call(c,"callee")},Lt=fe.isArray,Sy=W0?ui(W0):rh;function Pi(c){return c!=null&&Rh(c.length)&&!kl(c)}function nn(c){return Zr(c)&&Pi(c)}function My(c){return c===!0||c===!1||Zr(c)&&vn(c)==Ae}var ks=nd||Af,Ey=Qn?ui(Qn):Ha;function Ty(c){return Zr(c)&&c.nodeType===1&&!Jd(c)}function Iy(c){if(c==null)return!0;if(Pi(c)&&(Lt(c)||typeof c=="string"||typeof c.splice=="function"||ks(c)||i0(c)||Lc(c)))return!c.length;var p=yn(c);if(p==Me||p==st)return!c.size;if(Ka(c))return!Ya(c).length;for(var x in c)if(nr.call(c,x))return!1;return!0}function Ly(c,p){return Mi(c,p)}function Py(c,p,x){x=typeof x=="function"?x:t;var E=x?x(c,p):t;return E===t?Mi(c,p,t,x):!!E}function wf(c){if(!Zr(c))return!1;var p=vn(c);return p==Te||p==ve||typeof c.message=="string"&&typeof c.name=="string"&&!Jd(c)}function Ay(c){return typeof c=="number"&&es(c)}function kl(c){if(!jr(c))return!1;var p=vn(c);return p==Oe||p==Ze||p==He||p==Bt}function xv(c){return typeof c=="number"&&c==zt(c)}function Rh(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=X}function jr(c){var p=typeof c;return c!=null&&(p=="object"||p=="function")}function Zr(c){return c!=null&&typeof c=="object"}var Cv=rl?ui(rl):nh;function Dy(c,p){return c===p||us(c,p,xc(p))}function Fy(c,p,x){return x=typeof x=="function"?x:t,us(c,p,xc(p),x)}function Ry(c){return bv(c)&&c!=+c}function Oy(c){if(af(c))throw new _t(o);return ud(c)}function Ny(c){return c===null}function zy(c){return c==null}function bv(c){return typeof c=="number"||Zr(c)&&vn(c)==nt}function Jd(c){if(!Zr(c)||vn(c)!=Be)return!1;var p=Ui(c);if(p===null)return!0;var x=nr.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&Gs.call(x)==ru}var _f=jc?ui(jc):lc;function By(c){return xv(c)&&c>=-X&&c<=X}var wv=jl?ui(jl):va;function Oh(c){return typeof c=="string"||!Lt(c)&&Zr(c)&&vn(c)==lr}function qi(c){return typeof c=="symbol"||Zr(c)&&vn(c)==Wr}var i0=E1?ui(E1):sc;function Vy(c){return c===t}function $y(c){return Zr(c)&&yn(c)==ar}function Wy(c){return Zr(c)&&vn(c)==Tt}var Uy=Ru(Io),Hy=Ru(function(c,p){return c<=p});function _v(c){if(!c)return[];if(Pi(c))return Oh(c)?di(c):Vn(c);if(Ba&&c[Ba])return jp(c[Ba]());var p=yn(c),x=p==Me?qc:p==st?Co:a0;return x(c)}function Sl(c){if(!c)return c===0?c:0;if(c=wa(c),c===K||c===-K){var p=c<0?-1:1;return p*J}return c===c?c:0}function zt(c){var p=Sl(c),x=p%1;return p===p?x?p-x:p:0}function kv(c){return c?$a(zt(c),0,H):0}function wa(c){if(typeof c=="number")return c;if(qi(c))return ee;if(jr(c)){var p=typeof c.valueOf=="function"?c.valueOf():c;c=jr(p)?p+"":p}if(typeof c!="string")return c===0?c:+c;c=D1(c);var x=uo.test(c);return x||Go.test(c)?Yc(c.slice(2),x?2:8):Xo.test(c)?ee:+c}function Sv(c){return Yi(c,Ai(c))}function Yy(c){return c?$a(zt(c),-X,X):c===0?c:0}function gr(c){return c==null?"":ti(c)}var Xy=vs(function(c,p){if(Ka(p)||Pi(p)){Yi(p,Rn(p),c);return}for(var x in p)nr.call(p,x)&&ul(c,x,p[x])}),Mv=vs(function(c,p){Yi(p,Ai(p),c)}),Nh=vs(function(c,p,x,E){Yi(p,Ai(p),c,E)}),jy=vs(function(c,p,x,E){Yi(p,Rn(p),c,E)}),Gy=Ca(vu);function Ky(c,p){var x=as(c);return p==null?x:Er(x,p)}var Qy=Nt(function(c,p){c=fr(c);var x=-1,E=p.length,D=E>2?p[2]:t;for(D&&Wn(p[0],p[1],D)&&(E=1);++x<E;)for(var B=p[x],Q=Ai(B),ae=-1,ce=Q.length;++ae<ce;){var Ce=Q[ae],we=c[Ce];(we===t||Za(we,sa[Ce])&&!nr.call(c,Ce))&&(c[Ce]=B[Ce])}return c}),Zy=Nt(function(c){return c.push(t,Id),zn(Ev,t,c)});function qy(c,p){return I1(c,dt(p,3),fi)}function Jy(c,p){return I1(c,dt(p,3),Eo)}function e9(c,p){return c==null?c:mu(c,dt(p,3),Ai)}function t9(c,p){return c==null?c:oc(c,dt(p,3),Ai)}function r9(c,p){return c&&fi(c,dt(p,3))}function n9(c,p){return c&&Eo(c,dt(p,3))}function i9(c){return c==null?[]:cs(c,Rn(c))}function a9(c){return c==null?[]:cs(c,Ai(c))}function kf(c,p,x){var E=c==null?t:Wa(c,p);return E===t?x:E}function o9(c,p){return c!=null&&Fd(c,p,ki)}function Sf(c,p){return c!=null&&Fd(c,p,hl)}var l9=uh(function(c,p,x){p!=null&&typeof p.toString!="function"&&(p=Ks.call(p)),c[p]=x},Ef(Di)),s9=uh(function(c,p,x){p!=null&&typeof p.toString!="function"&&(p=Ks.call(p)),nr.call(c,p)?c[p].push(x):c[p]=[x]},dt),c9=Nt(Si);function Rn(c){return Pi(c)?da(c):Ya(c)}function Ai(c){return Pi(c)?da(c,!0):dd(c)}function u9(c,p){var x={};return p=dt(p,3),fi(c,function(E,D,B){pa(x,p(E,D,B),E)}),x}function d9(c,p){var x={};return p=dt(p,3),fi(c,function(E,D,B){pa(x,D,p(E,D,B))}),x}var h9=vs(function(c,p,x){pl(c,p,x)}),Ev=vs(function(c,p,x,E){pl(c,p,x,E)}),p9=Ca(function(c,p){var x={};if(c==null)return x;var E=!1;p=Cr(p,function(B){return B=ya(B,c),E||(E=B.length>1),B}),Yi(c,mc(c),x),E&&(x=ei(x,v|m|C,Ld));for(var D=p.length;D--;)Mu(x,p[D]);return x});function f9(c,p){return Tv(c,De(dt(p)))}var g9=Ca(function(c,p){return c==null?{}:fd(c,p)});function Tv(c,p){if(c==null)return{};var x=Cr(mc(c),function(E){return[E]});return p=dt(p),Lo(c,x,function(E,D){return p(E,D[0])})}function v9(c,p,x){p=ya(p,c);var E=-1,D=p.length;for(D||(D=1,c=t);++E<D;){var B=c==null?t:c[Ki(p[E])];B===t&&(E=D,B=x),c=kl(B)?B.call(c):B}return c}function m9(c,p,x){return c==null?c:gl(c,p,x)}function y9(c,p,x,E){return E=typeof E=="function"?E:t,c==null?c:gl(c,p,x,E)}var Iv=Ed(Rn),Lv=Ed(Ai);function x9(c,p,x){var E=Lt(c),D=E||ks(c)||i0(c);if(p=dt(p,4),x==null){var B=c&&c.constructor;D?x=E?new B:[]:jr(c)?x=kl(B)?as(Ui(c)):{}:x={}}return(D?En:fi)(c,function(Q,ae,ce){return p(x,Q,ae,ce)}),x}function C9(c,p){return c==null?!0:Mu(c,p)}function b9(c,p,x){return c==null?c:xd(c,p,Tu(x))}function w9(c,p,x,E){return E=typeof E=="function"?E:t,c==null?c:xd(c,p,Tu(x),E)}function a0(c){return c==null?[]:Xs(c,Rn(c))}function _9(c){return c==null?[]:Xs(c,Ai(c))}function k9(c,p,x){return x===t&&(x=p,p=t),x!==t&&(x=wa(x),x=x===x?x:0),p!==t&&(p=wa(p),p=p===p?p:0),$a(wa(c),p,x)}function S9(c,p,x){return p=Sl(p),x===t?(x=p,p=0):x=Sl(x),c=wa(c),cd(c,p,x)}function M9(c,p,x){if(x&&typeof x!="boolean"&&Wn(c,p,x)&&(p=x=t),x===t&&(typeof p=="boolean"?(x=p,p=t):typeof c=="boolean"&&(x=c,c=t)),c===t&&p===t?(c=0,p=1):(c=Sl(c),p===t?(p=c,c=0):p=Sl(p)),c>p){var E=c;c=p,p=E}if(x||c%1||p%1){var D=Js();return Tn(c+D*(p-c+V0("1e-"+((D+"").length-1))),p)}return hs(c,p)}var E9=vl(function(c,p,x){return p=p.toLowerCase(),c+(x?Pv(p):p)});function Pv(c){return Mf(gr(c).toLowerCase())}function Av(c){return c=gr(c),c&&c.replace(Fs,O1).replace(Ws,"")}function T9(c,p,x){c=gr(c),p=ti(p);var E=c.length;x=x===t?E:$a(zt(x),0,E);var D=x;return x-=p.length,x>=0&&c.slice(x,D)==p}function I9(c){return c=gr(c),c&&vr.test(c)?c.replace(ft,N1):c}function L9(c){return c=gr(c),c&&pr.test(c)?c.replace(xr,"\\$&"):c}var P9=vl(function(c,p,x){return c+(x?"-":"")+p.toLowerCase()}),A9=vl(function(c,p,x){return c+(x?" ":"")+p.toLowerCase()}),D9=kd("toLowerCase");function F9(c,p,x){c=gr(c),p=zt(p);var E=p?nl(c):0;if(!p||E>=p)return c;var D=(p-E)/2;return gc(bo(D),x)+c+gc(al(D),x)}function R9(c,p,x){c=gr(c),p=zt(p);var E=p?nl(c):0;return p&&E<p?c+gc(p-E,x):c}function O9(c,p,x){c=gr(c),p=zt(p);var E=p?nl(c):0;return p&&E<p?gc(p-E,x)+c:c}function N9(c,p,x){return x||p==null?p=0:p&&(p=+p),X1(gr(c).replace(Jr,""),p||0)}function z9(c,p,x){return(x?Wn(c,p,x):p===t)?p=1:p=zt(p),fl(gr(c),p)}function B9(){var c=arguments,p=gr(c[0]);return c.length<3?p:p.replace(c[1],c[2])}var V9=vl(function(c,p,x){return c+(x?"_":"")+p.toLowerCase()});function $9(c,p,x){return x&&typeof x!="number"&&Wn(c,p,x)&&(p=x=t),x=x===t?H:x>>>0,x?(c=gr(c),c&&(typeof p=="string"||p!=null&&!_f(p))&&(p=ti(p),!p&&Ql(c))?ja(di(c),0,x):c.split(p,x)):[]}var W9=vl(function(c,p,x){return c+(x?" ":"")+Mf(p)});function U9(c,p,x){return c=gr(c),x=x==null?0:$a(zt(x),0,c.length),p=ti(p),c.slice(x,x+p.length)==p}function H9(c,p,x){var E=O.templateSettings;x&&Wn(c,p,x)&&(p=t),c=gr(c),p=Nh({},p,E,Td);var D=Nh({},p.imports,E.imports,Td),B=Rn(D),Q=Xs(D,B),ae,ce,Ce=0,we=p.interpolate||Ko,Ee="__p += '",We=js((p.escape||Ko).source+"|"+we.source+"|"+(we===Dt?zi:Ko).source+"|"+(p.evaluate||Ko).source+"|$","g"),it="//# sourceURL="+(nr.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zp+"]")+`
`;c.replace(We,function(mt,Gt,Jt,Ji,mi,ea){return Jt||(Jt=Ji),Ee+=c.slice(Ce,ea).replace(Nc,z1),Gt&&(ae=!0,Ee+=`' +
__e(`+Gt+`) +
'`),mi&&(ce=!0,Ee+=`';
`+mi+`;
__p += '`),Jt&&(Ee+=`' +
((__t = (`+Jt+`)) == null ? '' : __t) +
'`),Ce=ea+mt.length,mt}),Ee+=`';
`;var vt=nr.call(p,"variable")&&p.variable;if(!vt)Ee=`with (obj) {
`+Ee+`
}
`;else if(na.test(vt))throw new _t(u);Ee=(ce?Ee.replace(Wt,""):Ee).replace(Ht,"$1").replace(ur,"$1;"),Ee="function("+(vt||"obj")+`) {
`+(vt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(ce?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ee+`return __p
}`;var Vt=Fv(function(){return rr(B,it+"return "+Ee).apply(t,Q)});if(Vt.source=Ee,wf(Vt))throw Vt;return Vt}function Y9(c){return gr(c).toLowerCase()}function X9(c){return gr(c).toUpperCase()}function j9(c,p,x){if(c=gr(c),c&&(x||p===t))return D1(c);if(!c||!(p=ti(p)))return c;var E=di(c),D=di(p),B=F1(E,D),Q=q0(E,D)+1;return ja(E,B,Q).join("")}function G9(c,p,x){if(c=gr(c),c&&(x||p===t))return c.slice(0,eu(c)+1);if(!c||!(p=ti(p)))return c;var E=di(c),D=q0(E,di(p))+1;return ja(E,0,D).join("")}function K9(c,p,x){if(c=gr(c),c&&(x||p===t))return c.replace(Jr,"");if(!c||!(p=ti(p)))return c;var E=di(c),D=F1(E,di(p));return ja(E,D).join("")}function Q9(c,p){var x=W,E=te;if(jr(p)){var D="separator"in p?p.separator:D;x="length"in p?zt(p.length):x,E="omission"in p?ti(p.omission):E}c=gr(c);var B=c.length;if(Ql(c)){var Q=di(c);B=Q.length}if(x>=B)return c;var ae=x-nl(E);if(ae<1)return E;var ce=Q?ja(Q,0,ae).join(""):c.slice(0,ae);if(D===t)return ce+E;if(Q&&(ae+=ce.length-ae),_f(D)){if(c.slice(ae).search(D)){var Ce,we=ce;for(D.global||(D=js(D.source,gr(co.exec(D))+"g")),D.lastIndex=0;Ce=D.exec(we);)var Ee=Ce.index;ce=ce.slice(0,Ee===t?ae:Ee)}}else if(c.indexOf(ti(D),ae)!=ae){var We=ce.lastIndexOf(D);We>-1&&(ce=ce.slice(0,We))}return ce+E}function Z9(c){return c=gr(c),c&&Ir.test(c)?c.replace(At,B1):c}var q9=vl(function(c,p,x){return c+(x?" ":"")+p.toUpperCase()}),Mf=kd("toUpperCase");function Dv(c,p,x){return c=gr(c),p=x?t:p,p===t?Xp(c)?Qp(c):Up(c):c.match(p)||[]}var Fv=Nt(function(c,p){try{return zn(c,t,p)}catch(x){return wf(x)?x:new _t(x)}}),J9=Ca(function(c,p){return En(p,function(x){x=Ki(x),pa(c,x,Ie(c[x],c))}),c});function e3(c){var p=c==null?0:c.length,x=dt();return c=p?Cr(c,function(E){if(typeof E[1]!="function")throw new Ci(s);return[x(E[0]),E[1]]}):[],Nt(function(E){for(var D=-1;++D<p;){var B=c[D];if(zn(B[0],this,E))return zn(B[1],this,E)}})}function t3(c){return J1(ei(c,v))}function Ef(c){return function(){return c}}function r3(c,p){return c==null||c!==c?p:c}var n3=Du(),i3=Du(!0);function Di(c){return c}function Tf(c){return ds(typeof c=="function"?c:ei(c,v))}function a3(c){return wu(ei(c,v))}function o3(c,p){return Fr(c,ei(p,v))}var l3=Nt(function(c,p){return function(x){return Si(x,c,p)}}),s3=Nt(function(c,p){return function(x){return Si(c,x,p)}});function If(c,p,x){var E=Rn(p),D=cs(p,E);x==null&&!(jr(p)&&(D.length||!E.length))&&(x=p,p=c,c=this,D=cs(p,Rn(p)));var B=!(jr(x)&&"chain"in x)||!!x.chain,Q=kl(c);return En(D,function(ae){var ce=p[ae];c[ae]=ce,Q&&(c.prototype[ae]=function(){var Ce=this.__chain__;if(B||Ce){var we=c(this.__wrapped__),Ee=we.__actions__=Vn(this.__actions__);return Ee.push({func:ce,args:arguments,thisArg:c}),we.__chain__=Ce,we}return ce.apply(c,xo([this.value()],arguments))})}),c}function c3(){return Dr._===this&&(Dr._=W1),this}function Lf(){}function u3(c){return c=zt(c),Nt(function(p){return _u(p,c)})}var d3=Fu(Cr),h3=Fu(H0),p3=Fu(j0);function Rv(c){return Qe(c)?K0(Ki(c)):Or(c)}function f3(c){return function(p){return c==null?t:Wa(c,p)}}var g3=Md(),v3=Md(!0);function Pf(){return[]}function Af(){return!1}function m3(){return{}}function y3(){return""}function x3(){return!0}function C3(c,p){if(c=zt(c),c<1||c>X)return[];var x=H,E=Tn(c,H);p=dt(p),c-=H;for(var D=Z0(E,p);++x<c;)p(x);return D}function b3(c){return Lt(c)?Cr(c,Ki):qi(c)?[c]:Vn(zd(gr(c)))}function w3(c){var p=++Jl;return gr(c)+p}var _3=fc(function(c,p){return c+p},0),k3=mn("ceil"),S3=fc(function(c,p){return c/p},1),M3=mn("floor");function E3(c){return c&&c.length?dl(c,Di,To):t}function T3(c,p){return c&&c.length?dl(c,dt(p,2),To):t}function I3(c){return P1(c,Di)}function L3(c,p){return P1(c,dt(p,2))}function P3(c){return c&&c.length?dl(c,Di,Io):t}function A3(c,p){return c&&c.length?dl(c,dt(p,2),Io):t}var D3=fc(function(c,p){return c*p},1),F3=mn("round"),R3=fc(function(c,p){return c-p},0);function O3(c){return c&&c.length?Q0(c,Di):0}function N3(c,p){return c&&c.length?Q0(c,dt(p,2)):0}return O.after=ne,O.ary=ge,O.assign=Xy,O.assignIn=Mv,O.assignInWith=Nh,O.assignWith=jy,O.at=Gy,O.before=Se,O.bind=Ie,O.bindAll=J9,O.bindKey=ke,O.castArray=my,O.chain=Qu,O.chunk=Wu,O.compact=Bd,O.concat=Ii,O.cond=e3,O.conforms=t3,O.constant=Ef,O.countBy=Lh,O.create=Ky,O.curry=Xe,O.curryRight=qe,O.debounce=et,O.defaults=Qy,O.defaultsDeep=Zy,O.defer=Xr,O.delay=de,O.difference=qt,O.differenceBy=ln,O.differenceWith=Qr,O.drop=Cn,O.dropRight=vi,O.dropRightWhile=ws,O.dropWhile=rn,O.fill=_c,O.filter=Ju,O.flatMap=Zd,O.flatMapDeep=mf,O.flatMapDepth=Dh,O.flatten=Uu,O.flattenDeep=Sc,O.flattenDepth=ri,O.flip=le,O.flow=n3,O.flowRight=i3,O.fromPairs=Vd,O.functions=i9,O.functionsIn=a9,O.groupBy=qd,O.initial=Hu,O.intersection=$d,O.intersectionBy=Fo,O.intersectionWith=Yu,O.invert=l9,O.invertBy=s9,O.invokeMap=Fh,O.iteratee=Tf,O.keyBy=yf,O.keys=Rn,O.keysIn=Ai,O.map=_l,O.mapKeys=u9,O.mapValues=d9,O.matches=a3,O.matchesProperty=o3,O.memoize=he,O.merge=h9,O.mergeWith=Ev,O.method=l3,O.methodOf=s3,O.mixin=If,O.negate=De,O.nthArg=u3,O.omit=p9,O.omitBy=f9,O.once=rt,O.orderBy=xf,O.over=d3,O.overArgs=ct,O.overEvery=h3,O.overSome=p3,O.partial=ot,O.partialRight=gt,O.partition=Ic,O.pick=g9,O.pickBy=Tv,O.property=Rv,O.propertyOf=f3,O.pull=Xu,O.pullAll=Ec,O.pullAllBy=Hn,O.pullAllWith=Oo,O.pullAt=Qi,O.range=g3,O.rangeRight=v3,O.rearg=sn,O.reject=a,O.remove=ni,O.rest=ir,O.reverse=ju,O.sampleSize=g,O.set=m9,O.setWith=y9,O.shuffle=y,O.slice=Ud,O.sortBy=F,O.sortedUniq=Xd,O.sortedUniqBy=Cl,O.split=$9,O.spread=zo,O.tail=_h,O.take=kh,O.takeRight=jd,O.takeRightWhile=Gu,O.takeWhile=lf,O.tap=ff,O.throttle=bf,O.thru=Zi,O.toArray=_v,O.toPairs=Iv,O.toPairsIn=Lv,O.toPath=b3,O.toPlainObject=Sv,O.transform=x9,O.unary=gy,O.union=sf,O.unionBy=Sh,O.unionWith=Mh,O.uniq=bl,O.uniqBy=cf,O.uniqWith=_s,O.unset=C9,O.unzip=Ku,O.unzipWith=Nr,O.update=b9,O.updateWith=w9,O.values=a0,O.valuesIn=_9,O.without=uf,O.words=Dv,O.wrap=vy,O.xor=Eh,O.xorBy=df,O.xorWith=hf,O.zip=Th,O.zipObject=Ih,O.zipObjectDeep=pf,O.zipWith=Li,O.entries=Iv,O.entriesIn=Lv,O.extend=Mv,O.extendWith=Nh,If(O,O),O.add=_3,O.attempt=Fv,O.camelCase=E9,O.capitalize=Pv,O.ceil=k3,O.clamp=k9,O.clone=yy,O.cloneDeep=Cy,O.cloneDeepWith=by,O.cloneWith=xy,O.conformsTo=wy,O.deburr=Av,O.defaultTo=r3,O.divide=S3,O.endsWith=T9,O.eq=Za,O.escape=I9,O.escapeRegExp=L9,O.every=Ph,O.find=e0,O.findIndex=Do,O.findKey=qy,O.findLast=Ah,O.findLastIndex=kc,O.findLastKey=Jy,O.floor=M3,O.forEach=t0,O.forEachRight=Tc,O.forIn=e9,O.forInRight=t9,O.forOwn=r9,O.forOwnRight=n9,O.get=kf,O.gt=_y,O.gte=ky,O.has=o9,O.hasIn=Sf,O.head=yl,O.identity=Di,O.includes=r0,O.indexOf=Qa,O.inRange=S9,O.invoke=c9,O.isArguments=Lc,O.isArray=Lt,O.isArrayBuffer=Sy,O.isArrayLike=Pi,O.isArrayLikeObject=nn,O.isBoolean=My,O.isBuffer=ks,O.isDate=Ey,O.isElement=Ty,O.isEmpty=Iy,O.isEqual=Ly,O.isEqualWith=Py,O.isError=wf,O.isFinite=Ay,O.isFunction=kl,O.isInteger=xv,O.isLength=Rh,O.isMap=Cv,O.isMatch=Dy,O.isMatchWith=Fy,O.isNaN=Ry,O.isNative=Oy,O.isNil=zy,O.isNull=Ny,O.isNumber=bv,O.isObject=jr,O.isObjectLike=Zr,O.isPlainObject=Jd,O.isRegExp=_f,O.isSafeInteger=By,O.isSet=wv,O.isString=Oh,O.isSymbol=qi,O.isTypedArray=i0,O.isUndefined=Vy,O.isWeakMap=$y,O.isWeakSet=Wy,O.join=Ro,O.kebabCase=P9,O.last=Un,O.lastIndexOf=Mc,O.lowerCase=A9,O.lowerFirst=D9,O.lt=Uy,O.lte=Hy,O.max=E3,O.maxBy=T3,O.mean=I3,O.meanBy=L3,O.min=P3,O.minBy=A3,O.stubArray=Pf,O.stubFalse=Af,O.stubObject=m3,O.stubString=y3,O.stubTrue=x3,O.multiply=D3,O.nth=Wd,O.noConflict=c3,O.noop=Lf,O.now=j,O.pad=F9,O.padEnd=R9,O.padStart=O9,O.parseInt=N9,O.random=M9,O.reduce=Cf,O.reduceRight=n0,O.repeat=z9,O.replace=B9,O.result=v9,O.round=F3,O.runInContext=se,O.sample=l,O.size=w,O.snakeCase=V9,O.some=M,O.sortedIndex=Hd,O.sortedIndexBy=of,O.sortedIndexOf=No,O.sortedLastIndex=wh,O.sortedLastIndexBy=Yd,O.sortedLastIndexOf=xl,O.startCase=W9,O.startsWith=U9,O.subtract=R3,O.sum=O3,O.sumBy=N3,O.template=H9,O.times=C3,O.toFinite=Sl,O.toInteger=zt,O.toLength=kv,O.toLower=Y9,O.toNumber=wa,O.toSafeInteger=Yy,O.toString=gr,O.toUpper=X9,O.trim=j9,O.trimEnd=G9,O.trimStart=K9,O.truncate=Q9,O.unescape=Z9,O.uniqueId=w3,O.upperCase=q9,O.upperFirst=Mf,O.each=t0,O.eachRight=Tc,O.first=yl,If(O,function(){var c={};return fi(O,function(p,x){nr.call(O.prototype,x)||(c[x]=p)}),c}(),{chain:!1}),O.VERSION=n,En(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){O[c].placeholder=O}),En(["drop","take"],function(c,p){It.prototype[c]=function(x){x=x===t?1:Kr(zt(x),0);var E=this.__filtered__&&!p?new It(this):this.clone();return E.__filtered__?E.__takeCount__=Tn(x,E.__takeCount__):E.__views__.push({size:Tn(x,H),type:c+(E.__dir__<0?"Right":"")}),E},It.prototype[c+"Right"]=function(x){return this.reverse()[c](x).reverse()}}),En(["filter","map","takeWhile"],function(c,p){var x=p+1,E=x==Z||x==G;It.prototype[c]=function(D){var B=this.clone();return B.__iteratees__.push({iteratee:dt(D,3),type:x}),B.__filtered__=B.__filtered__||E,B}}),En(["head","last"],function(c,p){var x="take"+(p?"Right":"");It.prototype[c]=function(){return this[x](1).value()[0]}}),En(["initial","tail"],function(c,p){var x="drop"+(p?"":"Right");It.prototype[c]=function(){return this.__filtered__?new It(this):this[x](1)}}),It.prototype.compact=function(){return this.filter(Di)},It.prototype.find=function(c){return this.filter(c).head()},It.prototype.findLast=function(c){return this.reverse().find(c)},It.prototype.invokeMap=Nt(function(c,p){return typeof c=="function"?new It(this):this.map(function(x){return Si(x,c,p)})}),It.prototype.reject=function(c){return this.filter(De(dt(c)))},It.prototype.slice=function(c,p){c=zt(c);var x=this;return x.__filtered__&&(c>0||p<0)?new It(x):(c<0?x=x.takeRight(-c):c&&(x=x.drop(c)),p!==t&&(p=zt(p),x=p<0?x.dropRight(-p):x.take(p-c)),x)},It.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},It.prototype.toArray=function(){return this.take(H)},fi(It.prototype,function(c,p){var x=/^(?:filter|find|map|reject)|While$/.test(p),E=/^(?:head|last)$/.test(p),D=O[E?"take"+(p=="last"?"Right":""):p],B=E||/^find/.test(p);D&&(O.prototype[p]=function(){var Q=this.__wrapped__,ae=E?[1]:arguments,ce=Q instanceof It,Ce=ae[0],we=ce||Lt(Q),Ee=function(Gt){var Jt=D.apply(O,xo([Gt],ae));return E&&We?Jt[0]:Jt};we&&x&&typeof Ce=="function"&&Ce.length!=1&&(ce=we=!1);var We=this.__chain__,it=!!this.__actions__.length,vt=B&&!We,Vt=ce&&!it;if(!B&&we){Q=Vt?Q:new It(this);var mt=c.apply(Q,ae);return mt.__actions__.push({func:Zi,args:[Ee],thisArg:t}),new In(mt,We)}return vt&&Vt?c.apply(this,ae):(mt=this.thru(Ee),vt?E?mt.value()[0]:mt.value():mt)})}),En(["pop","push","shift","sort","splice","unshift"],function(c){var p=Na[c],x=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",E=/^(?:pop|shift)$/.test(c);O.prototype[c]=function(){var D=arguments;if(E&&!this.__chain__){var B=this.value();return p.apply(Lt(B)?B:[],D)}return this[x](function(Q){return p.apply(Lt(Q)?Q:[],D)})}}),fi(It.prototype,function(c,p){var x=O[p];if(x){var E=x.name+"";nr.call(ns,E)||(ns[E]=[]),ns[E].push({name:p,func:x})}}),ns[ys(t,S).name]=[{name:"wrapper",func:t}],It.prototype.clone=du,It.prototype.reverse=ad,It.prototype.value=os,O.prototype.at=Zu,O.prototype.chain=wl,O.prototype.commit=qu,O.prototype.next=Gd,O.prototype.plant=gf,O.prototype.reverse=Qd,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=vf,O.prototype.first=O.prototype.head,Ba&&(O.prototype[Ba]=Kd),O},Zl=Zp();la?((la.exports=Zl)._=Zl,Ys._=Zl):Dr._=Zl}).call(Al)})(up,up.exports);var at=up.exports;function Ym(e,r,t){const n=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],i=e.length;let o=0;for(;o<i;){const s=e[o];n[0]=Math.max(s[r]??Number.MIN_SAFE_INTEGER,n[0]),n[1]=Math.min(s[t]??Number.MAX_SAFE_INTEGER,n[1]),++o}return n}const W_=/\\(\\)?/g,U_=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function qr(e,r,t){if(wr(e)){const n=[];r.replace(U_,(u,...d)=>{let h=u;return wr(d[1])?h=d[2].replace(W_,"$1"):wr(d[0])&&(h=d[0].trim()),n.push(h),""});let i=e,o=0;const s=n.length;for(;wr(i)&&o<s;)i=i==null?void 0:i[n[o++]];return wr(i)?i:t??"--"}return t??"--"}function wr(e){return e!=null}function h2(e,r,t,n){const i=new Path2D;if(r.length>1){i.moveTo(r[0],n);for(let o=0;o<r.length;o++)i.lineTo(r[o],t[o]);i.lineTo(r[r.length-1],n)}return i}function Ts(e,r,t,n,i){if(r.length===0)return;const o=e.canvas;e.save(),e.fillStyle=i,e.clip(h2(e,r,t,o.height)),e.fill(h2(e,r,n,0)),e.restore()}function ta(e,r){const t=[],n=2/(r+1);let i=0;for(let o=0;o<r;o++)i+=e[o];i/=r,t[r-1]=i;for(let o=r;o<e.length;o++){const s=(e[o]-t[o-1])*n+t[o-1];t[o]=s}for(let o=0;o<r-1;o++)t[o]=t[r-1];return t}function Xm(e,r){const t=[];for(let n=0;n<e.length;n++){if(n<r-1){t[n]=0;continue}let i=0;for(let o=0;o<r;o++)i+=e[n-o];t[n]=i/r}return t}function Is(e){if(e.startsWith("rgb(")){const o=e.match(/\d+/g);if(o&&o.length===3)return{r:parseInt(o[0]),g:parseInt(o[1]),b:parseInt(o[2])}}let r=e.replace(/^#/,"");if(!/^[0-9A-Fa-f]{6}$/.test(r))return{r:233,g:30,b:99};const t=parseInt(r.substring(0,2),16),n=parseInt(r.substring(2,4),16),i=parseInt(r.substring(4,6),16);return{r:t,g:n,b:i}}function H_(){return{target:{color:"#279d8233"},loss:{color:"#f2385a33"},midLine:{color:"#76808F80",size:1},targetText:{backgroundColor:"#279d82"},lossText:{backgroundColor:"#f2385a"}}}function Bo(e,r,t){if(t==="top"){if(!at.isNumber(e.value)||!at.isNumber(r.value))return;e.value<r.value&&(e.value=r.value)}else if(t==="bottom"){if(!at.isNumber(e.value)||!at.isNumber(r.value))return;e.value>r.value&&(e.value=r.value)}else t==="vertical"?(e.timestamp=r.timestamp,e.dataIndex=r.dataIndex):e.value=r.value}function p2(e,r){return{x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),width:Math.abs(e.x-r.x),height:Math.abs(e.y-r.y)}}function Y_(e){return({coordinates:r,overlay:t,yAxis:n,xAxis:i})=>{var o,s,u,d,h;if(!wr(n)||!wr(i))return[];if(r.length<2)return[];const f=[];return f.push({type:"rect",attrs:p2(r[0],r[1]),styles:e?(o=t.styles)==null?void 0:o.target:(s=t.styles)==null?void 0:s.loss}),f.push({type:"line",attrs:{coordinates:[{x:r[0].x,y:r[1].y},r[1]]},styles:(u=t.styles)==null?void 0:u.midLine}),wr(r[2])&&f.push({type:"rect",attrs:p2(r[1],r[2]),styles:e?(d=t.styles)==null?void 0:d.loss:(h=t.styles)==null?void 0:h.target}),f}}function X_(e){return({chart:r,coordinates:t,overlay:n,yAxis:i,xAxis:o})=>{var s,u,d,h,f,v;if(!wr(i)||!wr(o))return[];if(t.length<3)return[];if(n.currentStep!==-1)return[];const m=n.extendData;if(!m.hovered&&!m.selected)return[];const C=r.getLocale(),b=n.points;if(!at.isNumber(b[0].value)||!at.isNumber(b[1].value)||!at.isNumber(b[2].value)||!at.isNumber(b[0].timestamp)||!at.isNumber(b[1].timestamp)||!at.isNumber(b[2].timestamp))return[];let _=0;i.isInCandle()?_=((s=r.getSymbol())==null?void 0:s.pricePrecision)??2:r.getIndicators({paneId:n.paneId}).forEach(W=>{_=Math.max(_,W.precision)});const k=[],S=(o.convertTimestampToPixel(b[0].timestamp)+o.convertTimestampToPixel(b[1].timestamp))/2,T=r.getDecimalFold().format(r.getThousandsSeparator().format((b[0].value-b[1].value).toFixed(_))),I=100*(b[0].value/b[1].value-1),P=A(e?"target":"loss",C);k.push({type:"text",attrs:{x:S,y:t[0].y,text:`${P}${T} (${I.toFixed(2)}%)`,baseline:"bottom",align:"center"},styles:e?(u=n.styles)==null?void 0:u.targetText:(d=n.styles)==null?void 0:d.lossText});const L=r.getDecimalFold().format(r.getThousandsSeparator().format((b[1].value-b[2].value).toFixed(_))),z=-100*(b[2].value/b[1].value-1),R=A(e?"loss":"target",C);k.push({type:"text",attrs:{x:S,y:t[2].y,text:`${R}${L} (${z.toFixed(2)}%)`,baseline:"top",align:"center"},styles:e?(h=n.styles)==null?void 0:h.lossText:(f=n.styles)==null?void 0:f.targetText});const V=e?I/z:z/I;if(!at.isNumber(V)||V<=0)return k;const $=A("riskReward",C);return k.push({type:"text",attrs:{x:S,y:t[1].y,text:`${$}${V.toFixed(2)}`,baseline:"middle",align:"center"},styles:(v=n.styles)==null?void 0:v.targetText}),k}}function jm(e){return r=>{const t=Y_(e)(r),n=X_(e)(r);return[...t,...n]}}const Gm={styles:H_(),totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,extendData:{hovered:!1,selected:!1},onMouseEnter:({overlay:e})=>{const r=e.extendData;return r.hovered=!0,!0},onMouseLeave:({overlay:e})=>{const r=e.extendData;return r.hovered=!1,!0},onSelected:({overlay:e})=>{const r=e.extendData;return r.selected=!0,!0},onDeselected:({overlay:e})=>{const r=e.extendData;return r.selected=!1,!0},performEventPressedMove:({points:e,performPoint:r,performPointIndex:t})=>{t===0?(Bo(r,e[1],"top"),Bo(e[2],r,"vertical")):t===1?(Bo(r,e[0],"bottom"),Bo(r,e[2],"top")):t===2&&(Bo(r,e[1],"bottom"),Bo(e[0],r,"vertical"))},performEventMoveForDrawing:({points:e,performPoint:r,currentStep:t})=>{t===2?Bo(r,e[0],"bottom"):t===3&&(Bo(r,e[1],"bottom"),e[1].timestamp===r.timestamp?Bo(r,e[0],"vertical"):Bo(e[0],r,"vertical"))}},j_={name:"longPosition",createPointFigures:jm(!0),...Gm},G_={name:"shortPosition",createPointFigures:jm(!1),...Gm},K_=[__,k_,S_,E_,M_,T_,I_,L_,P_,A_,D_,F_,R_,O_,N_,z_,B_,V_,j_,G_],Km={isMainIndicator:!0,isSubIndicator:!1,name:"volumeBars",shortName:"Volume",zLevel:-1,figures:[],styles:{bars:[{upColor:"rgba(0, 252, 0, 0.8)",downColor:"rgba(252, 0, 0, 0.8)",noChangeColor:"rgba(128, 128, 128, 0.8)"}],custom:[{opacity:.3}]},calc:e=>e.map(r=>({volume:r.volume,close:r.close,open:r.open})),draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i})=>{const{realFrom:o,realTo:s}=r.getVisibleRange(),{gapBar:u,halfGapBar:d}=r.getBarSpace(),{result:h}=t;let f=0;for(let C=o;C<s;C++){const b=h[C];b&&(f=Math.max(f,b.volume))}const v=n.height*.4,m=E0("rect");for(let C=o;C<s;C++){const b=h[C];if(b){const _=Math.round(b.volume/f*v),k=Q_(b.open<b.close?t.styles.bars[0].upColor:b.open>b.close?t.styles.bars[0].downColor:t.styles.bars[0].noChangeColor,t.styles.custom[0].opacity);new m({name:"rect",attrs:{x:i.convertToPixel(C)-d,y:n.height-_,width:u,height:_},styles:{color:k}}).draw(e)}}return!0}};function Q_(e,r){return e.replace(/rgba\((\d+), (\d+), (\d+), (.+)\)/,`rgba($1, $2, $3, ${r})`)}const Qm={isMainIndicator:!0,isSubIndicator:!1,name:"Volume Profile Fixed Range",shortName:"Vol Profile",zLevel:-1,figures:[],calcParams:[{name:"Value Area Percentage",type:"number",value:.7,min:0,max:1}],styles:{lines:[{color:"#87CEFA",size:1,style:"dashed"},{color:"#ff0000",size:3},{color:"#87CEFA",size:1,style:"dashed"}],bars:[{upColor:"rgb(255,127,80)",downColor:"rgba(0, 128, 0, 0.8)"}]},calc:(e,r)=>e,createTooltipDataSource:({chart:e,indicator:r,crosshair:t})=>{var n,i,o;const s=r.result[t.dataIndex];return console.log(t.realX),s?{legends:[{title:"POC",value:{text:s.pocPrice.toFixed(2),color:"blue"}},{title:"Value Area Low",value:{text:s.valueAreaLowPrice.toFixed(2),color:"green"}},{title:"Value Area High",value:{text:s.valueAreaHighPrice.toFixed(2),color:((o=(i=(n=r==null?void 0:r.styles)==null?void 0:n.lines)==null?void 0:i[0])==null?void 0:o.color)??"white"}}]}:{}},draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s,u,d,h,f,v,m,C,b,_,k,S,T,I,P,L,z,R,V,$,W,te,ue,Y,Z,q,G,K,X,J,ee,H,ie,xe;const{realFrom:Le,realTo:Pe}=r.getVisibleRange(),{gapBar:be,halfGapBar:He}=r.getBarSpace(),Ae=Object.values(t.result).slice(Le,Pe);let Ne=Math.max(40,Math.min(200,Math.floor(Ae.length/5)*2));n.height/Ne<be+2&&(Ne=Math.floor(n.height/(be+1)));const ve=new Array(Ne).fill(0),Te=Math.min(...Ae.map(Tt=>Tt.low)),Oe=(Math.max(...Ae.map(Tt=>Tt.high))-Te)/Ne,Ze=E0("line"),Me=E0("rect");Ae.forEach(Tt=>{if(Tt.volume===void 0)return;const Ut=Math.max(0,Math.min(Ne-1,Math.floor((Tt.low-Te)/Oe))),Kt=Math.max(0,Math.min(Ne-1,Math.floor((Tt.high-Te)/Oe))),zr=Tt.high-Tt.low;for(let or=Ut;or<=Kt;or++){const Tr=Te+or*Oe,Mt=Tr+Oe,Ve=Math.max(Tt.low,Tr),bt=Math.min(Tt.high,Mt)-Ve;if(bt>0){const xt=bt/zr;ve[or]+=Tt.volume*xt}}});const nt=ve.indexOf(Math.max(...ve)),lt=Te+(nt+.5)*Oe,Be=ve.reduce((Tt,Ut)=>Tt+Ut,0),yt=typeof((s=t.calcParams)==null?void 0:s[0])=="object"&&t.calcParams[0]!==null&&"value"in t.calcParams[0]?Number(t.calcParams[0].value):.7,Bt=Be*yt;let Ot=0,st=0,lr=ve.length-1;for(let Tt=nt;Tt>=0;Tt--)if(Ot+=ve[Tt],Ot>Bt/2){st=Tt;break}Ot=0;for(let Tt=nt;Tt<ve.length;Tt++)if(Ot+=ve[Tt],Ot>Bt/2){lr=Tt;break}const Wr=Te+st*Oe,Ur=Te+(lr+1)*Oe,ar={volumeProfile:ve,pocPrice:lt,valueAreaLowPrice:Wr,valueAreaHighPrice:Ur};if(ar.volumeProfile=ve,ar.pocPrice=lt,ar.valueAreaHighPrice=Ur,ar.valueAreaLowPrice=Wr,ar.volumeProfile[0]!==void 0){new Ze({name:"line",styles:{style:(h=(d=(u=t==null?void 0:t.styles)==null?void 0:u.lines)==null?void 0:d[1])==null?void 0:h.style,color:(m=(v=(f=t==null?void 0:t.styles)==null?void 0:f.lines)==null?void 0:v[1])==null?void 0:m.color,size:(_=(b=(C=t==null?void 0:t.styles)==null?void 0:C.lines)==null?void 0:b[1])==null?void 0:_.size},attrs:{coordinates:[{x:i.convertToPixel(Le),y:o.convertToPixel(ar.pocPrice)},{x:i.convertToPixel(Pe),y:o.convertToPixel(ar.pocPrice)}]}}).draw(e),new Ze({name:"line",styles:{style:(T=(S=(k=t==null?void 0:t.styles)==null?void 0:k.lines)==null?void 0:S[0])==null?void 0:T.style,color:(L=(P=(I=t==null?void 0:t.styles)==null?void 0:I.lines)==null?void 0:P[0])==null?void 0:L.color,size:(V=(R=(z=t==null?void 0:t.styles)==null?void 0:z.lines)==null?void 0:R[0])==null?void 0:V.size},attrs:{coordinates:[{x:i.convertToPixel(Le),y:o.convertToPixel(ar.valueAreaLowPrice)},{x:i.convertToPixel(Pe),y:o.convertToPixel(ar.valueAreaLowPrice)}]}}).draw(e),new Ze({name:"line",styles:{style:(te=(W=($=t==null?void 0:t.styles)==null?void 0:$.lines)==null?void 0:W[2])==null?void 0:te.style,color:(Z=(Y=(ue=t==null?void 0:t.styles)==null?void 0:ue.lines)==null?void 0:Y[2])==null?void 0:Z.color,size:(K=(G=(q=t==null?void 0:t.styles)==null?void 0:q.lines)==null?void 0:G[2])==null?void 0:K.size},attrs:{coordinates:[{x:i.convertToPixel(Le),y:o.convertToPixel(ar.valueAreaHighPrice)},{x:i.convertToPixel(Pe),y:o.convertToPixel(ar.valueAreaHighPrice)}]}}).draw(e);let Tt=0;const Ut=n.height*.4;for(let Kt=0;Kt<ar.volumeProfile.length;Kt++)Tt=Math.max(Tt,ar.volumeProfile[Kt]);for(let Kt=0;Kt<ve.length;Kt++){const zr=Math.round(ve[Kt]/Tt*Ut),or=o.convertToPixel(Te+Kt*Oe),Tr=Kt>=st&&Kt<=lr?((ee=(J=(X=t==null?void 0:t.styles)==null?void 0:X.bars)==null?void 0:J[0])==null?void 0:ee.upColor)??"rgb(255,127,80)":((xe=(ie=(H=t==null?void 0:t.styles)==null?void 0:H.bars)==null?void 0:ie[0])==null?void 0:xe.downColor)??"rgba(0, 128, 0, 0.8)";new Me({name:"rect",attrs:{x:n.width-zr,y:or-He,width:zr,height:Math.min(17,be)},styles:{color:Tr}}).draw(e)}}return!0}},Z_={isMainIndicator:!1,isSubIndicator:!0,name:"WR",shortName:"WR",calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:10},{name:"period3",type:"number",value:14}],styles:{lines:[{color:"#A020F0",size:1},{color:"#FFD700",size:1},{color:"#FF6E6E",size:1}]},figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`wr${t+1}`,title:`WR${t+1}: `,type:"line"})),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t;return e.reduce((o,s,u)=>{const d={},h=s.close;return i.forEach((f,v)=>{const m=f.value-1;if(u>=m){const C=Ym(e.slice(u-m,u+1),"high","low"),b=C[0],_=C[1],k=b-_,S=n[v].key;d[S]=k===0?0:(h-b)/k*100}}),Object.keys(d).length>0&&(o[s.timestamp]=d),o},{})}},q_={isMainIndicator:!1,isSubIndicator:!0,name:"TRIX",shortName:"TRIX",calcParams:[{name:"period",type:"number",value:12},{name:"maPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0;const f={};return e.reduce((v,m,C)=>{var b;const _=m.close;if(n+=_,C>=t[0].value-1&&(C>t[0].value-1?i=(2*_+(t[0].value-1)*i)/(t[0].value+1):i=n/t[0].value,u+=i,C>=t[0].value*2-2&&(C>t[0].value*2-2?o=(2*i+(t[0].value-1)*o)/(t[0].value+1):o=u/t[0].value,d+=o,C>=t[0].value*3-3))){let k=0,S=0;C>t[0].value*3-3?(k=(2*o+(t[0].value-1)*s)/(t[0].value+1),S=(k-s)/s*100):k=d/t[0].value,s=k,f[m.timestamp]=S,h+=S;const T={trix:S};if(C>=t[0].value*3+t[1].value-4){T.maTrix=h/t[1].value;const I=(b=e[C-(t[1].value-1)])==null?void 0:b.timestamp;h-=f[I]??0}v[m.timestamp]=T}return v},{})}};function f2(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&n&&(n.close>n.open?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.close<n.open&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}}const J_={isMainIndicator:!1,isSubIndicator:!0,name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},f2()],regenerateFigures:e=>{const r=e.map((t,n)=>({key:`ma${n+1}`,title:`MA${t}: `,type:"line"}));return r.push(f2()),r},calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[];return e.reduce((s,u,d)=>{const h=u.volume??0,f={volume:h,open:u.open,close:u.close};return i.forEach((v,m)=>{if(o[m]=(o[m]??0)+h,d>=v-1){const C=n[m].key;f[C]=o[m]/v,o[m]-=e[d-(v-1)].volume??0}}),s[u.timestamp]=f,s},{})}},ek={isMainIndicator:!1,isSubIndicator:!0,name:"VR",shortName:"VR",calcParams:[{name:"params_1",type:"number",value:26},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#FF6E6E",size:2},{color:"#FFD700",size:4}]},figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;return e.reduce((u,d,h)=>{var f;const v={},m=d.close,C=(e[h-1]??d).close,b=d.volume??0;if(m>C?n+=b:m<C?i+=b:o+=b,h>=t[0].value-1){const _=o/2;i+_===0?v.vr=0:v.vr=(n+_)/(i+_)*100,s+=v.vr,h>=t[0].value+t[1].value-2&&(v.maVr=s/t[1].value,s-=((f=u[e[h-(t[1].value-1)].timestamp])==null?void 0:f.vr)??0);const k=e[h-(t[0].value-1)],S=e[h-t[0].value]??k,T=k.close,I=k.volume??0;T>S.close?n-=I:T<S.close?i-=I:o-=I,u[d.timestamp]=v}return u},{})}},tk={isMainIndicator:!1,isSubIndicator:!0,name:"KDJ",shortName:"KDJ",calcParams:[{name:"period",type:"number",value:9},{name:"dPeriod",type:"number",value:3},{name:"jPeriod",type:"number",value:3}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n={};return e.reduce((i,o,s)=>{var u;const d=o.close;if(s>=t[0].value-1){const h=Ym(e.slice(s-(t[0].value-1),s+1),"high","low"),f=h[0],v=h[1],m=f-v,C=(d-v)/(m===0?1:m)*100,b=(u=e[s-1])==null?void 0:u.timestamp,_=b?n[b]:void 0,k=((t[1].value-1)*((_==null?void 0:_.k)??50)+C)/t[1].value,S=((t[2].value-1)*((_==null?void 0:_.d)??50)+k)/t[2].value,T=3*k-2*S,I={k,d:S,j:T};n[o.timestamp]=I,i[o.timestamp]=I}return i},{})}},rk={isMainIndicator:!0,isSubIndicator:!1,name:"SAR",shortName:"SAR",series:"price",calcParams:[{name:"startAf",type:"number",value:2},{name:"step",type:"number",value:2},{name:"maxAf",type:"number",value:20}],precision:2,shouldOhlc:!0,styles:{circles:[{upColor:"#FF7F50",downColor:"#A020F0",noChangeColor:"#A8A8A8"}]},figures:[{key:"sar",title:"SAR: ",type:"circle",styles:({data:e,indicator:r,defaultStyles:t})=>{const{current:n}=e,i=(n==null?void 0:n.sar)??Number.MIN_SAFE_INTEGER,o=(((n==null?void 0:n.high)??0)+((n==null?void 0:n.low)??0))/2;return{color:i<o?qr(r.styles,"circles[0].upColor",t.circles[0].upColor):qr(r.styles,"circles[0].downColor",t.circles[0].downColor)}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value/100,i=t[1].value/100,o=t[2].value/100;let s=n,u=-100,d=!1,h=0;return e.reduce((f,v,m)=>{const C=h,b=v.high,_=v.low;if(d){(u===-100||u<b)&&(u=b,s=Math.min(s+i,o)),h=C+s*(u-C);const k=Math.min(e[Math.max(1,m)-1].low,_);h>v.low?(h=u,s=n,u=-100,d=!d):h>k&&(h=k)}else{(u===-100||u>_)&&(u=_,s=Math.min(s+i,o)),h=C+s*(u-C);const k=Math.max(e[Math.max(1,m)-1].high,b);h<v.high?(h=u,s=0,u=-100,d=!d):h<k&&(h=k)}return f[v.timestamp]={high:b,low:_,sar:h},f},{})}},nk={isMainIndicator:!1,isSubIndicator:!0,name:"ROC",shortName:"ROC",calcParams:[{name:"period",type:"number",value:12},{name:"maPeriod",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0;const i={};return e.reduce((o,s,u)=>{var d;if(u>=t[0].value-1){const h=s.close,f=(e[u-t[0].value]??e[u-(t[0].value-1)]).close;let v=0;f!==0&&(v=(h-f)/f*100),i[s.timestamp]=v,n+=v;const m={roc:v};if(u>=t[0].value-1+t[1].value-1){m.maRoc=n/t[1].value;const C=(d=e[u-(t[1].value-1)])==null?void 0:d.timestamp;n-=i[C]??0}o[s.timestamp]=m}return o},{})}},ik={isMainIndicator:!1,isSubIndicator:!0,name:"RSI",shortName:"RSI",calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:12},{name:"period3",type:"number",value:24}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>{const n=t+1;return{key:`rsi${n}`,title:`RSI${n}: `,type:"line"}}),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[],s=[];return e.reduce((u,d,h)=>{const f={},v=(e[h-1]??d).close,m=d.close-v;return i.forEach((C,b)=>{if(m>0?o[b]=(o[b]??0)+m:s[b]=(s[b]??0)+Math.abs(m),h>=C.value-1){const _=n[b].key;s[b]!==0?f[_]=100-100/(1+o[b]/s[b]):f[_]=0;const k=e[h-(C.value-1)],S=e[h-C.value]??k,T=k.close-S.close;T>0?o[b]-=T:s[b]-=Math.abs(T)}}),Object.keys(f).length>0&&(u[d.timestamp]=f),u},{})}},ak={isMainIndicator:!0,isSubIndicator:!1,name:"SMA",shortName:"SMA",series:"price",calcParams:[{name:"period1",type:"number",value:12},{name:"period2",type:"number",value:2}],precision:2,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;return e.reduce((o,s,u)=>{const d=s.close;return n+=d,u>=t[0].value-1&&(u>t[0].value-1?i=(d*t[1].value+i*(t[0].value-t[1].value+1))/(t[0].value+1):i=n/t[0].value,o[s.timestamp]={sma:i}),o},{})}},ok={isMainIndicator:!1,isSubIndicator:!0,name:"PVT",shortName:"PVT",precision:2,styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:e=>{let r=0;return e.reduce((t,n,i)=>{const o=n.close,s=n.volume??0;if(!o||o<=0)return t;if(i===0)return r=0,t[n.timestamp]={pvt:0},t;const u=e[i-1].close;if(!u||u<=0)return t;const d=(o-u)/u*s;return r+=d,t[n.timestamp]={pvt:Number(r.toFixed(2))},t},{})}},lk={isMainIndicator:!1,isSubIndicator:!0,name:"PSY",shortName:"PSY",calcParams:[{name:"params_1",type:"number",value:12},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;const o=[],s=[];return e.reduce((u,d,h)=>{const f={},v=(e[h-1]??d).close,m=d.close-v>0?1:0;return o.push(m),n+=m,h>=t[0].value-1&&(f.psy=n/t[0].value*100,i+=f.psy,h>=t[0].value+t[1].value-2&&(f.maPsy=i/t[1].value,i-=s[h-(t[1].value-1)].psy??0),n-=o[h-(t[0].value-1)]),s.push(f),u[d.timestamp]=f,u},{})}},sk={isMainIndicator:!0,isSubIndicator:!1,name:"MA",shortName:"MA",series:"price",calcParams:[{name:"ma1",type:"number",value:5},{name:"ma2",type:"number",value:10},{name:"ma3",type:"number",value:30},{name:"ma4",type:"number",value:60}],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`ma${t+1}`,title:`MA${r.value}: `,type:"line"})),calc:(e,r)=>{const t=r.calcParams,n=[];return e.reduce((i,o,s)=>{const u={},d=o.close;return t.forEach((h,f)=>{if(n[f]=(n[f]??0)+d,s>=h.value-1){const v=r.figures[f].key;u[v]=n[f]/h.value,n[f]-=e[s-(h.value-1)].close}}),Object.keys(u).length>0&&(i[o.timestamp]=u),i},{})}},ck={isMainIndicator:!1,isSubIndicator:!0,name:"MTM",shortName:"MTM",calcParams:[{name:"params_1",type:"number",value:12},{name:"params_2",type:"number",value:6}],styles:{lines:[{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0;const i={};return e.reduce((o,s,u)=>{var d;if(u>=t[0].value){const h=s.close,f=e[u-t[0].value].close,v=h-f;i[s.timestamp]=v,n+=v;const m={mtm:v};if(u>=t[0].value+t[1].value-1){m.maMtm=n/t[1].value;const C=(d=e[u-(t[1].value-1)])==null?void 0:d.timestamp;n-=i[C]??0}o[s.timestamp]=m}return o},{})}},uk={isMainIndicator:!1,isSubIndicator:!0,name:"DMI",shortName:"DMI",calcParams:[{name:"period",type:"number",value:14},{name:"adxrPeriod",type:"number",value:6}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,f=0;const v={};return e.reduce((m,C,b)=>{var _;const k=e[b-1]??C,S=k.close,T=C.high,I=C.low,P=T-I,L=Math.abs(T-S),z=Math.abs(S-I),R=T-k.high,V=k.low-I,$=Math.max(Math.max(P,L),z),W=R>0&&R>V?R:0,te=V>0&&V>R?V:0;if(n+=$,i+=W,o+=te,b>=t[0].value-1){b>t[0].value-1?(s=s-s/t[0].value+$,u=u-u/t[0].value+W,d=d-d/t[0].value+te):(s=n,u=i,d=o);let ue=0,Y=0;s!==0&&(ue=u*100/s,Y=d*100/s);let Z=0;if(Y+ue!==0&&(Z=Math.abs(Y-ue)/(Y+ue)*100),h+=Z,b>=t[0].value*2-2){b>t[0].value*2-2?f=(f*(t[0].value-1)+Z)/t[0].value:f=h/t[0].value,v[C.timestamp]=f;const q={pdi:ue,mdi:Y,adx:f};if(b>=t[0].value*2+t[1].value-3){const G=(_=e[b-(t[1].value-1)])==null?void 0:_.timestamp,K=v[G]??0;q.adxr=(K+f)/2}m[C.timestamp]=q}else m[C.timestamp]={pdi:ue,mdi:Y}}return m},{})}},dk={isMainIndicator:!1,isSubIndicator:!0,name:"EMV",shortName:"EMV",calcParams:[{name:"params_1",type:"number",value:14},{name:"params_2",type:"number",value:9}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0;const i=[],o={};return e.reduce((s,u,d)=>{if(d>0){const h=e[d-1],f=u.high,v=u.low,m=u.volume??0,C=(f+v)/2-(h.high+h.low)/2;let b;if(m===0||f-v===0)b=0;else{const k=m/1e8/(f-v);b=C/k}o[u.timestamp]=b,n+=b,i.push(b);const _={emv:b};d>=t[0].value&&(_.maEmv=n/t[0].value,n-=i[d-t[0].value]),s[u.timestamp]=_}return s},{})}},hk={isMainIndicator:!0,isSubIndicator:!1,name:"EMA",shortName:"EMA",series:"price",calcParams:[{name:"period1",type:"number",value:6},{name:"period2",type:"number",value:12},{name:"period3",type:"number",value:20}],styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`ema${t+1}`,title:`EMA${r.value}: `,type:"line"})),calc:(e,r)=>{const t=r.calcParams;let n=0;const i=[];return e.reduce((o,s,u)=>{const d={},h=s.close;return n+=h,t.forEach((f,v)=>{if(u>=f.value-1){u>f.value-1?i[v]=(2*h+(f.value-1)*i[v])/(f.value+1):i[v]=n/f.value;const m=r.figures[v].key;d[m]=i[v]}}),Object.keys(d).length>0&&(o[s.timestamp]=d),o},{})}},pk={isMainIndicator:!1,isSubIndicator:!0,name:"CR",shortName:"CR",calcParams:[{name:"cr",type:"number",value:26},{name:"ma1",type:"number",value:10},{name:"ma2",type:"number",value:20},{name:"ma3",type:"number",value:40},{name:"ma4",type:"number",value:60}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#FFFF00",size:1},{color:"#007FFF",size:1},{color:"#ff0000",size:1}]},figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=Math.ceil(t[1].value/2.5+1),i=Math.ceil(t[2].value/2.5+1),o=Math.ceil(t[3].value/2.5+1),s=Math.ceil(t[4].value/2.5+1);let u=0;const d=[];let h=0;const f=[];let v=0;const m=[];let C=0;const b=[],_={};return e.reduce((k,S,T)=>{var I,P,L,z;const R=e[T-1]??S,V=(R.high+R.close+R.low+R.open)/4,$=Math.max(0,S.high-V),W=Math.max(0,V-S.low);if(T>=t[0].value-1){let te;W!==0?te=$/W*100:te=0,_[S.timestamp]=te,u+=te,h+=te,v+=te,C+=te;const ue={cr:te};if(T>=t[0].value+t[1].value-2){d.push(u/t[1].value),T>=t[0].value+t[1].value+n-3&&(ue.ma1=d[d.length-1-n]);const Y=(I=e[T-(t[1].value-1)])==null?void 0:I.timestamp;u-=_[Y]??0}if(T>=t[0].value+t[2].value-2){f.push(h/t[2].value),T>=t[0].value+t[2].value+i-3&&(ue.ma2=f[f.length-1-i]);const Y=(P=e[T-(t[2].value-1)])==null?void 0:P.timestamp;h-=_[Y]??0}if(T>=t[0].value+t[3].value-2){m.push(v/t[3].value),T>=t[0].value+t[3].value+o-3&&(ue.ma3=m[m.length-1-o]);const Y=(L=e[T-(t[3].value-1)])==null?void 0:L.timestamp;v-=_[Y]??0}if(T>=t[0].value+t[4].value-2){b.push(C/t[4].value),T>=t[0].value+t[4].value+s-3&&(ue.ma4=b[b.length-1-s]);const Y=(z=e[T-(t[4].value-1)])==null?void 0:z.timestamp;C-=_[Y]??0}k[S.timestamp]=ue}return k},{})}},fk={isMainIndicator:!1,isSubIndicator:!0,name:"DMA",shortName:"DMA",calcParams:[{name:"params_1",type:"number",value:10},{name:"params_2",type:"number",value:50},{name:"params_3",type:"number",value:10}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=Math.max(t[0].value,t[1].value);let i=0,o=0,s=0;const u={};return e.reduce((d,h,f)=>{var v;const m=h.close;i+=m,o+=m;let C=0,b=0;if(f>=t[0].value-1&&(C=i/t[0].value,i-=e[f-(t[0].value-1)].close),f>=t[1].value-1&&(b=o/t[1].value,o-=e[f-(t[1].value-1)].close),f>=n-1){const _=C-b;u[h.timestamp]=_,s+=_;const k={dma:_};if(f>=n+t[2].value-2){k.ama=s/t[2].value;const S=(v=e[f-(t[2].value-1)])==null?void 0:v.timestamp;s-=u[S]??0}d[h.timestamp]=k}return d},{})}},gk={isMainIndicator:!0,isSubIndicator:!1,name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[{name:"period1",type:"number",value:3},{name:"period2",type:"number",value:6},{name:"period3",type:"number",value:12},{name:"period4",type:"number",value:24}],shouldOhlc:!0,styles:{lines:[{color:"#A020F0"}]},figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams.map(s=>s.value),n=Math.max(...t),i=[],o=[];return e.reduce((s,u,d)=>{const h=u.close;if(t.forEach((f,v)=>{i[v]=(i[v]??0)+h,d>=f-1&&(o[v]=i[v]/f,i[v]-=e[d-(f-1)].close)}),d>=n-1){let f=0;o.forEach(m=>{f+=m});const v={bbi:f/4};s[u.timestamp]=v}return s},{})}},vk={isMainIndicator:!1,isSubIndicator:!0,name:"CCI",shortName:"CCI",calcParams:[{name:"period",type:"number",value:20}],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value-1;let i=0;const o=[];return e.reduce((s,u,d)=>{const h={},f=(u.high+u.low+u.close)/3;if(i+=f,o.push(f),d>=n){const v=i/t[0].value,m=o.slice(d-n,d+1);let C=0;m.forEach(k=>{C+=Math.abs(k-v)});const b=C/t[0].value;h.cci=b!==0?(f-v)/b/.015:0;const _=(e[d-n].high+e[d-n].low+e[d-n].close)/3;i-=_,s[u.timestamp]=h}return s},{})}},mk={isMainIndicator:!1,isSubIndicator:!0,name:"BIAS",shortName:"BIAS",calcParams:[{name:"bias1",type:"number",value:6},{name:"bias2",type:"number",value:12},{name:"bias3",type:"number",value:24}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#ff0000",size:1}]},figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:e=>e.map((r,t)=>({key:`bias${t+1}`,title:`BIAS${r.value}: `,type:"line"})),calc:(e,r)=>{const{calcParams:t,figures:n}=r,i=t,o=[];return e.reduce((s,u,d)=>{const h={},f=u.close;return i.forEach((v,m)=>{if(o[m]=(o[m]??0)+f,d>=v.value-1){const C=o[m]/v.value,b=n[m].key;h[b]=(f-C)/C*100,o[m]-=e[d-(v.value-1)].close}}),Object.keys(h).length>0&&(s[u.timestamp]=h),s},{})}};function yk(e,r){const t=e.length;let n=0;return e.forEach(i=>{const o=i.close-r;n+=o*o}),n=Math.abs(n),Math.sqrt(n/t)}const xk={isMainIndicator:!0,isSubIndicator:!1,name:"BOLL",shortName:"BOLL",series:"price",calcParams:[{name:"period",type:"number",value:20},{name:"standard_deviation",type:"number",value:2}],precision:2,shouldOhlc:!0,styles:{lines:[{color:"#FF6E6E",size:1},{color:"#FFD700",size:1},{color:"#00CD00",size:1}]},figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value-1;let i=0;return e.reduce((o,s,u)=>{const d=s.close,h={};if(i+=d,u>=n){h.mid=i/t[0].value;const f=yk(e.slice(u-n,u+1),h.mid);h.up=h.mid+t[1].value*f,h.dn=h.mid-t[1].value*f,i-=e[u-n].close,o[s.timestamp]=h}return o},{})}},Ck={isMainIndicator:!1,isSubIndicator:!0,name:"BRAR",shortName:"BRAR",calcParams:[{name:"brar",type:"number",value:26}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1}]},figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0].value;let n=0,i=0,o=0,s=0;return e.reduce((u,d,h)=>{const f={},v=d.high,m=d.low,C=d.open,b=(e[h-1]??d).close;if(o+=v-C,s+=C-m,n+=v-b,i+=b-m,h>=t-1){s!==0?f.ar=o/s*100:f.ar=0,i!==0?f.br=n/i*100:f.br=0;const _=e[h-(t-1)],k=_.high,S=_.low,T=_.open,I=(e[h-t]??e[h-(t-1)]).close;n-=k-I,i-=I-S,o-=k-T,s-=T-S}return u[d.timestamp]=f,u},{})}},bk={isMainIndicator:!0,isSubIndicator:!1,name:"Average Price",shortName:"AVP",series:"price",precision:2,styles:{lines:[{color:"#A020F0",size:1}]},figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:e=>e.reduce((r,t)=>{const n={};if((t.volume??0)!==0){const i=(t.high+t.low+t.close)/3;n.avp=i,r[t.timestamp]=n}return r},{})},wk={isMainIndicator:!1,isSubIndicator:!0,name:"AO",shortName:"AO",calcParams:[{name:"shortPeriod",type:"number",value:5},{name:"longPeriod",type:"number",value:34}],styles:{bars:[{upColor:"rgba(0, 252, 0, 0.8)",downColor:"rgba(252, 0, 0, 0.8)"}]},figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const{prev:n,current:i}=e,o=(n==null?void 0:n.ao)??Number.MIN_SAFE_INTEGER,s=(i==null?void 0:i.ao)??Number.MIN_SAFE_INTEGER;let u="";s>o?r.styles&&(u=qr(r.styles,"bars[0].upColor",r.styles.bars[0].upColor)):r.styles&&(u=qr(r.styles,"bars[0].downColor",r.styles.bars[0].downColor));const d=s>o?"stroke":"fill";return{color:u,style:d,borderColor:u}}}],calc:(e,r)=>{const t=r.calcParams,n=Math.max(t[0].value,t[1].value);let i=0,o=0,s=0,u=0;return e.reduce((d,h,f)=>{const v={},m=(h.low+h.high)/2;if(i+=m,o+=m,f>=t[0].value-1){s=i/t[0].value;const C=e[f-(t[0].value-1)];i-=(C.low+C.high)/2}if(f>=t[1].value-1){u=o/t[1].value;const C=e[f-(t[1].value-1)];o-=(C.low+C.high)/2}return f>=n-1&&(v.ao=s-u,d[h.timestamp]=v),d},{})}},_k={isMainIndicator:!0,isSubIndicator:!1,name:"WEMA",shortName:"WEMA",zLevel:0,series:"price",calcParams:[{name:"period",type:"number",value:14}],precision:2,figures:[{key:"WEMA",title:"WEMA: ",type:"line"}],styles:{lines:[{style:"solid",color:"yellow",size:1}]},shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams[0].value,n=1/t;let i=0,o=0;return e.reduce((s,u,d)=>{const h=u.close;return d<t?(o+=h,d===t-1&&(i=o/t,s[u.timestamp]={wema:i})):(i=(h-i)*n+i,s[u.timestamp]={wema:i}),s},{})},draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s;const{realFrom:u,realTo:d}=r.getVisibleRange(),{result:h}=t,f=E0("line");for(let v=u;v<d;v++){const m=h[v];m&&new f({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(v),y:o.convertToPixel(m.wema)},{x:i.convertToPixel(v+1),y:o.convertToPixel((s=h[v+1])==null?void 0:s.wema)}]}}).draw(e)}return!0}},kk={name:"Volume Weighted Average Price",shortName:"VWAP",series:"price",calcParams:[{name:"anchorPeriod",type:"select",value:"Monthly",options:[{value:"None",label:"None"},{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarter",label:"Quarter"},{value:"Year",label:"Year"}]},{name:"source",type:"select",value:"HLC3",options:[{value:"Close",label:"Close"},{value:"HLC3",label:"HLC3"},{value:"HLC2",label:"HLC2"},{value:"Weighted",label:"Weighted"},{value:"Median",label:"Median"},{value:"Open",label:"Open"},{value:"High",label:"High"},{value:"OHLC4",label:"OHLC4"},{value:"HLCC4",label:"HLCC4"}]},{name:"offset",type:"number",value:0,min:-100,max:100},{name:"bandsMode",type:"select",value:"Standard Deviation",options:[{value:"Standard Deviation",label:"Standard Deviation"},{value:"Percentage",label:"Percentage"},{value:"Fixed",label:"Fixed"}]},{name:"bandsMultiplier",type:"select",value:"2",options:[{value:"0.5",label:"0.5"},{value:"1",label:"1.0"},{value:"1.5",label:"1.5"},{value:"2",label:"2.0"},{value:"2.5",label:"2.5"},{value:"3",label:"3.0"}]},{name:"showBands",type:"boolean",value:!0},{name:"showShading",type:"boolean",value:!0}],precision:2,isMainIndicator:!0,isSubIndicator:!1,styles:{lines:[{style:"solid",color:"#FF7F50",size:1},{style:"dashed",color:"#4CAF50",size:1},{style:"dashed",color:"#F44336",size:1}]},figures:[{key:"vwap",title:"VWAP: ",type:"line"},{key:"upperBand",title:"Upper: ",type:"line"},{key:"lowerBand",title:"Lower: ",type:"line"}],calc:(e,r)=>{var t,n,i,o,s;const u=[],d=r.calcParams,h=((t=d.find(I=>I.name==="anchorPeriod"))==null?void 0:t.value)??"None",f=((n=d.find(I=>I.name==="source"))==null?void 0:n.value)??"Close",v=((i=d.find(I=>I.name==="offset"))==null?void 0:i.value)??0,m=((o=d.find(I=>I.name==="bandsMode"))==null?void 0:o.value)??"Standard Deviation",C=Number(((s=d.find(I=>I.name==="bandsMultiplier"))==null?void 0:s.value)??"2"),b=[],_=[];let k=0,S=0;const T=14;for(let I=0;I<e.length;I++){const P=e[I];if(P.close===void 0||P.volume===void 0){u[I]={vwap:0};continue}let L;switch(f){case"Open":L=P.open;break;case"High":L=P.high;break;case"Close":L=P.close;break;case"HLC3":L=(P.high+P.low+P.close)/3;break;case"HLC2":L=(P.high+P.low)/2;break;case"OHLC4":L=(P.open+P.high+P.low+P.close)/4;break;case"HLCC4":L=(P.high+P.low+P.close+P.close)/4;break;case"Volume":L=P.volume;break;default:L=P.close}if(h!=="None"){const V=P.timestamp;let $=!1;switch(h){case"Daily":$=Math.floor(V/(24*60*60*1e3))!==Math.floor(S/(24*60*60*1e3));break;case"Weekly":$=Math.floor(V/(7*24*60*60*1e3))!==Math.floor(S/(7*24*60*60*1e3));break;case"Monthly":const W=new Date(V),te=new Date(S);$=W.getMonth()!==te.getMonth()||W.getFullYear()!==te.getFullYear();break;case"Quarter":const ue=new Date(V),Y=new Date(S),Z=Math.floor(ue.getMonth()/3),q=Math.floor(Y.getMonth()/3);$=Z!==q||ue.getFullYear()!==Y.getFullYear();break;case"Year":const G=new Date(V),K=new Date(S);$=G.getFullYear()!==K.getFullYear();break}$&&(k=I,S=V)}const z=L*P.volume;b[I]=z,_[I]=P.volume;const R=h!=="None"?I-k+1:T;if(I>=(h!=="None"?k:T-1)){let V=0,$=0,W=0;for(let q=0;q<R;q++)V+=b[I-q],$+=_[I-q];const te=$!==0?Number((V/$).toFixed(2)):0;u[I]={vwap:te};for(let q=0;q<R;q++){const G=e[I-q];if(G.volume===void 0)continue;let K;switch(f){case"Open":K=G.open;break;case"High":K=G.high;break;case"Close":K=G.close;break;case"HLC3":K=(G.high+G.low+G.close)/3;break;case"HLC2":K=(G.high+G.low)/2;break;case"OHLC4":K=(G.open+G.high+G.low+G.close)/4;break;case"HLCC4":K=(G.high+G.low+G.close+G.close)/4;break;default:K=G.close}const X=K-te;W+=X*X*G.volume,$+=G.volume}const ue=Math.sqrt(W/$);let Y=te,Z=te;switch(m){case"Standard Deviation":Y=te+ue*C,Z=te-ue*C;break;case"Percentage":const q=C/100;Y=te*(1+q),Z=te*(1-q);break;case"Fixed":Y=te+C,Z=te-C;break}if(v!==0){const q=I+v;if(q>=0&&q<u.length&&(u[q]={vwap:te,upperBand:Y,lowerBand:Z},v>0))for(let G=I+1;G<q;G++)G<u.length&&(u[G]={vwap:te,upperBand:Y,lowerBand:Z})}else u[I]={vwap:te,upperBand:Y,lowerBand:Z}}else u[I]={vwap:0}}return u},shouldOhlc:!0,draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s,u,d,h,f;const{realFrom:v,realTo:m}=r.getVisibleRange(),{result:C}=t,b=E0("line"),_=t.calcParams,k=((s=_.find(T=>T.name==="showBands"))==null?void 0:s.value)??!0,S=((u=_.find(T=>T.name==="showShading"))==null?void 0:u.value)??!1;for(let T=v;T<m;T++){const I=C[T];I&&I.vwap!==0&&new b({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(T),y:o.convertToPixel(I.vwap)},{x:i.convertToPixel(T+1),y:o.convertToPixel((d=C[T+1])==null?void 0:d.vwap)}]}}).draw(e)}if(k){const T=[],I=[],P=[];for(let L=v;L<=m;L++){const z=C[L];z&&z.upperBand!==void 0&&z.lowerBand!==void 0&&(T.push(i.convertToPixel(L)),I.push(o.convertToPixel(z.upperBand)),P.push(o.convertToPixel(z.lowerBand)))}if(S&&T.length>0){const L=[];for(let V=v;V<=m;V++){const $=C[V];$&&$.vwap!==0&&L.push(o.convertToPixel($.vwap))}const z=Is(t.styles.lines[1].color??"#4CAF50");Ts(e,T,I,L,`rgba(${z.r}, ${z.g}, ${z.b}, 0.1)`);const R=Is(t.styles.lines[2].color??"#F44336");Ts(e,T,L,P,`rgba(${R.r}, ${R.g}, ${R.b}, 0.1)`)}for(let L=v;L<m;L++){const z=C[L];z&&z.vwap!==0&&z.upperBand!==void 0&&z.lowerBand!==void 0&&(new b({name:"line",styles:{style:t.styles.lines[1].style,color:t.styles.lines[1].color,size:t.styles.lines[1].size},attrs:{coordinates:[{x:i.convertToPixel(L),y:o.convertToPixel(z.upperBand)},{x:i.convertToPixel(L+1),y:o.convertToPixel(((h=C[L+1])==null?void 0:h.upperBand)??z.upperBand)}]}}).draw(e),new b({name:"line",styles:{style:t.styles.lines[2].style,color:t.styles.lines[2].color,size:t.styles.lines[2].size},attrs:{coordinates:[{x:i.convertToPixel(L),y:o.convertToPixel(z.lowerBand)},{x:i.convertToPixel(L+1),y:o.convertToPixel(((f=C[L+1])==null?void 0:f.lowerBand)??z.lowerBand)}]}}).draw(e))}}return!0}},Sk={isMainIndicator:!1,isSubIndicator:!0,name:"ADL",shortName:"ADL",calcParams:[],styles:{lines:[{color:"#FF7F50",size:1}]},figures:[{key:"adl",title:"ADL: ",type:"line"}],calc:(e,r)=>{let t=0;return e.reduce((n,i,o)=>{const{high:s=0,low:u=0,close:d=0,volume:h=0}=i;if(!s||!u||!d||!h)return n[i.timestamp]={adl:t},n;let f=0;s!==u&&(f=(d-u-(s-d))/(s-u),f=Math.max(-1,Math.min(1,f)));const v=f*h;return t+=v,n[i.timestamp]={adl:Math.round(t)},n},{})}},Mk={isMainIndicator:!1,isSubIndicator:!0,name:"Force Index",shortName:"FI",calcParams:[{name:"period",type:"number",value:13}],styles:{lines:[{color:"#5D69B1",size:1}]},figures:[{key:"fi",title:"FI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0];let n=0,i=2/(t.value+1);return e.reduce((o,s,u)=>{const{close:d=0,volume:h=0}=s,f=u>0?e[u-1].close:d,v=(d-f)*h;return u===0?n=v:n=(v-n)*i+n,o[s.timestamp]={fi:Math.round(n)},o},{})}},Ek={isMainIndicator:!1,isSubIndicator:!0,name:"MFI",shortName:"MFI",calcParams:[{name:"period",type:"number",value:14}],precision:2,styles:{lines:[{style:"solid",color:"#FF7F50",size:1}]},figures:[{key:"mfi",title:"MFI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0].value,n=[];let i;return e.reduce((o,s,u)=>{const{high:d=0,low:h=0,close:f=0,volume:v=0}=s;if(!d||!h||!f||!v)return o;const m=(d+h+f)/3,C=m*v;if(i===void 0)return i=m,o;let b=0,_=0;if(m>i?b=C:m<i&&(_=C),n.push({positive:b,negative:_}),n.length>t&&n.shift(),n.length===t){const k=n.reduce((I,P)=>I+P.positive,0),S=n.reduce((I,P)=>I+P.negative,0);let T=50;S===0&&k>0?T=100:k===0&&S>0?T=0:S>0&&(T=100-100/(1+k/S)),o[s.timestamp]={mfi:Number(T.toFixed(r.precision))}}return i=m,o},{})}},Tk={isMainIndicator:!1,isSubIndicator:!0,name:"OBV",shortName:"OBV",calcParams:[{name:"period",type:"number",value:30}],styles:{lines:[{color:"#A020F0",size:1},{color:"#007FFF",size:1}]},figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0;return e.reduce((o,s,u)=>{var d;const h=e[u-1]??s;s.close<h.close?i-=s.volume??0:s.close>h.close&&(i+=s.volume??0);const f={obv:i};return n+=i,u>=t[0].value-1&&(f.maObv=n/t[0].value,n-=((d=o[e[u-(t[0].value-1)].timestamp])==null?void 0:d.obv)??0),o[s.timestamp]=f,o},{})}},Ik={isMainIndicator:!0,isSubIndicator:!1,name:"Chandelier Exit",shortName:"CE",series:"price",calcParams:[{name:"period",type:"number",value:22},{name:"multiplier",type:"number",value:3}],precision:2,shouldOhlc:!0,styles:{lines:[{style:"solid",color:"#26A69A",size:1},{style:"solid",color:"#EF5350",size:1}]},figures:[{key:"exitLong",title:"Long Exit: ",type:"line"},{key:"exitShort",title:"Short Exit: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value;let o=-1/0,s=1/0,u=0,d=e[0].close;return e.reduce((h,f,v)=>{const m=f,{high:C,low:b,close:_}=m,k=Math.max(C-b,Math.abs(C-d),Math.abs(b-d));if(u+=k,o=Math.max(o,C),s=Math.min(s,b),v>=n-1){const S=u/n,T=o-S*i,I=s+S*i;h[f.timestamp]={exitLong:T,exitShort:I};const P=v-(n-1),L=e[P],z=Math.max(L.high-L.low,Math.abs(L.high-(P>0?e[P-1].close:L.close)),Math.abs(L.low-(P>0?e[P-1].close:L.close)));u-=z,o=C,s=b;for(let R=0;R<n;R++){const V=e[v-R];o=Math.max(o,V.high),s=Math.min(s,V.low)}}return d=_,h},{})}},Lk={isMainIndicator:!0,isSubIndicator:!1,name:"Keltner Channels",shortName:"KC",series:"price",calcParams:[{name:"maPeriod",type:"number",value:20},{name:"atrPeriod",type:"number",value:10},{name:"multiplier",type:"number",value:1},{name:"useSMA",type:"boolean",value:!1}],precision:2,shouldOhlc:!0,styles:{lines:[{style:"solid",color:"#FF0000",size:1},{style:"solid",color:"#4DB6AC",size:1},{style:"solid",color:"#4DB6AC",size:1}]},figures:[{key:"middle",title:"Middle: ",type:"line"},{key:"upper",title:"Upper: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=t[3].value,u=[];let d=0,h=0;const f=2/(n+1);let v=0,m=e[0].close;return e.reduce((C,b,_)=>{const k=b,{high:S,low:T,close:I}=k,P=Math.max(S-T,Math.abs(S-m),Math.abs(T-m));if(v+=P,d+=I,s?(u.push(I),u.length>n&&(d-=u[u.length-n-1])):_===0?h=I:h=(I-h)*f+h,_>=Math.max(n-1,i-1)){const L=s?d/Math.min(u.length,n):h,z=v/i;if(C[b.timestamp]={middle:L,upper:L+o*z,lower:L-o*z},_>=i){const R=_-i,V=e[R],$=Math.max(V.high-V.low,Math.abs(V.high-(R>0?e[R-1].close:V.close)),Math.abs(V.low-(R>0?e[R-1].close:V.close)));v-=$}}return m=I,C},{})}},Pk={isMainIndicator:!0,isSubIndicator:!1,name:"WMA",shortName:"WMA",series:"price",calcParams:[{name:"period",type:"number",value:12}],precision:2,styles:{lines:[{color:"#B464EB"}]},figures:[{key:"wma",title:"WMA: ",type:"line"}],shouldOhlc:!0,calc:(e,r)=>{const t=r.calcParams[0].value,n=t*(t+1)/2;return e.reduce((i,o,s)=>{if(s>=t-1){let u=0;for(let d=0;d<t;d++)u+=e[s-d].close*(t-d);i[o.timestamp]={wma:u/n}}return i},{})}},Ak={isMainIndicator:!0,isSubIndicator:!1,name:"Ichimoku Cloud",shortName:"IC",calcParams:[{name:"conversionPeriod",type:"number",value:9},{name:"basePeriod",type:"number",value:26},{name:"spanPeriod",type:"number",value:52},{name:"displacement",type:"number",value:26},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#FF7F50",size:1},{color:"#A020F0",size:1},{color:"#32CD32",size:1},{color:"#FF4500",size:1},{color:"#1E90FF",size:1}]},figures:[{key:"conversion",title:"Conversion: ",type:"line"},{key:"base",title:"Base: ",type:"line"},{key:"spanA",title:"Span A: ",type:"line"},{key:"spanB",title:"Span B: ",type:"line"},{key:"laggingSpan",title:"Chikou: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=t[3].value,u=(f,v,m)=>{let C=-1/0,b=1/0;for(let _=Math.max(0,v-m+1);_<=v;_++)C=Math.max(C,f[_].high),b=Math.min(b,f[_].low);return{high:C,low:b}},d=[],h=[];return e.reduce((f,v,m)=>{const C={};if(m>=n-1){const{high:S,low:T}=u(e,m,n);C.conversion=(S+T)/2,d[m]=C.conversion}if(m>=i-1){const{high:S,low:T}=u(e,m,i);C.base=(S+T)/2,h[m]=C.base}const b=m-s;b>=0&&b>=Math.max(n,i)-1&&d[b]&&h[b]&&(C.spanA=(d[b]+h[b])/2);const _=m-s;if(_>=0&&_>=o-1){const{high:S,low:T}=u(e,_,o);C.spanB=(S+T)/2}const k=m+s;return k<e.length&&(C.laggingSpan=e[k].close),Object.keys(C).length>0&&(f[v.timestamp]=C),f},{})},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,f,v;const m=r.result;if(!m)return!1;const{from:C,to:b}=i.getVisibleRange(),_=i.getDataList(),k=[],S=[],T=[];for(let I=C;I<b;I++)if(I<_.length){const P=_[I],L=m[P.timestamp];L!=null&&(k.push(t.convertToPixel(I)),L.spanA!=null&&S.push(n.convertToPixel(L.spanA)),L.spanB!=null&&T.push(n.convertToPixel(L.spanB)))}if((((o=r.calcParams.find(I=>I.name==="showShading"))==null?void 0:o.value)??!0)&&k.length>0&&S.length>0&&T.length>0){const I=Is(((d=(u=(s=r.styles)==null?void 0:s.lines)==null?void 0:u[2])==null?void 0:d.color)??"#32CD32");Ts(e,k,S,T,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`);const P=Is(((v=(f=(h=r.styles)==null?void 0:h.lines)==null?void 0:f[3])==null?void 0:v.color)??"#FF4500");Ts(e,k,T,S,`rgba(${P.r}, ${P.g}, ${P.b}, 0.1)`)}return!1}},Dk={isMainIndicator:!1,isSubIndicator:!0,name:"ATR",shortName:"ATR",series:"volume",calcParams:[{name:"period",type:"number",value:14}],precision:2,shouldOhlc:!1,styles:{lines:[{style:"solid",color:"#FF7F50",size:1}]},figures:[{key:"atr",title:"ATR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=e[0].close,i=0;const o=2/(t[0].value+1);let s=[];return e.reduce((u,d,h)=>{const{high:f,low:v,close:m}=d,C=Math.max(f-v,Math.abs(f-n),Math.abs(v-n));return s.push(C),h>=t[0].value-1&&(h===t[0].value-1?i=s.reduce((b,_)=>b+_,0)/t[0].value:i=(C-i)*o+i,u[d.timestamp]={atr:i}),n=m,u},{})}},Fk={isMainIndicator:!1,isSubIndicator:!0,name:"ADXR",shortName:"ADXR",series:"volume",calcParams:[{name:"period",type:"number",value:14},{name:"adxrPeriod",type:"number",value:6}],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"adxr",title:"ADXR: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,f=0;const v={};return e.reduce((m,C,b)=>{var _;const k=e[b-1]??C,S=k.close,T=C.high,I=C.low,P=T-I,L=Math.abs(T-S),z=Math.abs(S-I),R=T-k.high,V=k.low-I,$=Math.max(Math.max(P,L),z),W=R>0&&R>V?R:0,te=V>0&&V>R?V:0;if(n+=$,i+=W,o+=te,b>=t[0].value-1){b>t[0].value-1?(s=s-s/t[0].value+$,u=u-u/t[0].value+W,d=d-d/t[0].value+te):(s=n,u=i,d=o);let ue=0,Y=0;s!==0&&(ue=u*100/s,Y=d*100/s);let Z=0;if(Y+ue!==0&&(Z=Math.abs(Y-ue)/(Y+ue)*100),h+=Z,b>=t[0].value*2-2&&(b>t[0].value*2-2?f=(f*(t[0].value-1)+Z)/t[0].value:f=h/t[0].value,v[C.timestamp]=f,b>=t[0].value*2+t[1].value-3)){const q=(_=e[b-(t[1].value-1)])==null?void 0:_.timestamp,G=((v[q]??0)+f)/2;m[C.timestamp]={adxr:G}}}return m},{})}},Rk={isMainIndicator:!1,isSubIndicator:!0,name:"PDI",shortName:"PDI",series:"volume",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#00ff00",size:1}]},figures:[{key:"pdi",title:"PDI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;return e.reduce((u,d,h)=>{const f=e[h-1]??d,v=f.close,m=d.high,C=d.low,b=m-C,_=Math.abs(m-v),k=Math.abs(v-C),S=m-f.high,T=f.low-C,I=Math.max(Math.max(b,_),k),P=S>0&&S>T?S:0;if(n+=I,i+=P,h>=t[0].value-1&&(h>t[0].value-1?(o=o-o/t[0].value+I,s=s-s/t[0].value+P):(o=n,s=i),o!==0)){const L=s*100/o;u[d.timestamp]={pdi:L}}return u},{})}},Ok={isMainIndicator:!1,isSubIndicator:!0,name:"MDI",shortName:"MDI",series:"volume",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"mdi",title:"MDI: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0;return e.reduce((u,d,h)=>{const f=e[h-1]??d,v=f.close,m=d.high,C=d.low,b=m-C,_=Math.abs(m-v),k=Math.abs(v-C),S=m-f.high,T=f.low-C,I=Math.max(Math.max(b,_),k),P=T>0&&T>S?T:0;if(n+=I,i+=P,h>=t[0].value-1&&(h>t[0].value-1?(o=o-o/t[0].value+I,s=s-s/t[0].value+P):(o=n,s=i),o!==0)){const L=s*100/o;u[d.timestamp]={mdi:L}}return u},{})}},Nk={isMainIndicator:!1,isSubIndicator:!0,name:"ADX",shortName:"ADX",series:"volume",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#007FFF",size:1}]},figures:[{key:"adx",title:"ADX: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0,h=0,f=0;return e.reduce((v,m,C)=>{const b=e[C-1]??m,_=b.close,k=m.high,S=m.low,T=k-S,I=Math.abs(k-_),P=Math.abs(_-S),L=k-b.high,z=b.low-S,R=Math.max(Math.max(T,I),P),V=L>0&&L>z?L:0,$=z>0&&z>L?z:0;if(n+=R,i+=V,o+=$,C>=t[0].value-1){C>t[0].value-1?(s=s-s/t[0].value+R,u=u-u/t[0].value+V,d=d-d/t[0].value+$):(s=n,u=i,d=o);let W=0,te=0;s!==0&&(W=u*100/s,te=d*100/s);let ue=0;te+W!==0&&(ue=Math.abs(te-W)/(te+W)*100),h+=ue,C>=t[0].value*2-2&&(C>t[0].value*2-2?f=(f*(t[0].value-1)+ue)/t[0].value:f=h/t[0].value,v[m.timestamp]={adx:f})}return v},{})}},zk={isMainIndicator:!1,isSubIndicator:!0,name:"TR",shortName:"TR",series:"volume",calcParams:[],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"tr",title:"TR: ",type:"line"}],calc:e=>{let r;return e.reduce((t,n)=>{const i=n.high,o=n.low,s=n.close;let u;return r===void 0?(r=s,u=i-o):(u=Math.max(i-o,Math.abs(i-r),Math.abs(o-r)),r=s),t[n.timestamp]={tr:u},t},{})}},Bk={isMainIndicator:!0,isSubIndicator:!1,name:"WS",shortName:"WS",series:"volume",calcParams:[14],styles:{lines:[{color:"#ff0000",size:1}]},figures:[{key:"ws",title:"WS: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0];let n=0,i=1,o=0;return e.reduce((s,u)=>{const d=u.close;let h;return i<t?(i++,n+=d,h=n/i):i===t?(i++,n+=d,o=n/t,h=o):(o=(o*(t-1)+d)/t,h=o),s[u.timestamp]={ws:h},s},{})}},Vk={isMainIndicator:!1,isSubIndicator:!0,name:"Chaikin Oscillator",shortName:"CO",series:"volume",calcParams:[{name:"shortPeriod",type:"number",value:3},{name:"longPeriod",type:"number",value:10}],styles:{lines:[{color:"#FF9800",size:1}]},figures:[{key:"co",title:"CO: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value;let o=0;const s=[];e.forEach(h=>{const f=h.high,v=h.low,m=h.close,C=h.volume??0;let b=0;f!==v&&(b=(m-v-(f-m))/(f-v));const _=b*C;o+=_,s.push(o)});const u=ta(s,n),d=ta(s,i);return e.reduce((h,f,v)=>(v>=i-1&&(h[f.timestamp]={co:u[v]-d[v]}),h),{})}},$k={isMainIndicator:!1,isSubIndicator:!0,name:"Percentage Price Oscillator",shortName:"PPO",series:"volume",calcParams:[{name:"fastPeriod",type:"number",value:12},{name:"slowPeriod",type:"number",value:26},{name:"signalPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF9800",size:1},{color:"#4CAF50",size:1}],bars:[{upColor:"#2196F3",downColor:"#FF5252"}]},figures:[{key:"ppo",title:"PPO: ",type:"line"},{key:"signal",title:"Signal: ",type:"line"},{key:"histogram",title:"Histogram: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&(n.histogram&&n.histogram>0?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.histogram&&n.histogram<0&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=e.map(v=>v.close),u=ta(s,n),d=ta(s,i),h=[];e.forEach((v,m)=>{if(m>=i-1){const C=(u[m]-d[m])/d[m]*100;h.push(C)}});const f=ta(h,o);return e.reduce((v,m,C)=>{if(C>=i-1){const b=(u[C]-d[C])/d[C]*100,_={ppo:b};C>=i+o-1&&(_.signal=f[C-(i-1)],_.histogram=b-_.signal),v[m.timestamp]=_}return v},{})}},Wk={isMainIndicator:!1,isSubIndicator:!0,name:"Percentage Volume Oscillator",shortName:"PVO",series:"volume",calcParams:[{name:"shortPeriod",type:"number",value:12},{name:"longPeriod",type:"number",value:26},{name:"signalPeriod",type:"number",value:9}],styles:{lines:[{color:"#FF9800",size:1},{color:"#4CAF50",size:1}],bars:[{upColor:"#2196F3",downColor:"#FF5252"}]},figures:[{key:"pvo",title:"PVO: ",type:"line"},{key:"signal",title:"Signal: ",type:"line"},{key:"histogram",title:"Histogram: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&(n.histogram&&n.histogram>0?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.histogram&&n.histogram<0&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=t[2].value,s=[],u=e.map(m=>m.volume),d=ta(u,n),h=ta(u,i),f=[];e.forEach((m,C)=>{if(C>=i-1){const b=(d[C]-h[C])/h[C]*100;f.push(b),s[C]={pvo:b}}else s[C]={}});const v=ta(f,o);return e.forEach((m,C)=>{C>=i+o-1&&(s[C].signal=v[C-(i-1)],s[C].pvo!==void 0&&(s[C].histogram=s[C].pvo-s[C].signal))}),s}},Uk={isMainIndicator:!1,isSubIndicator:!0,name:"Qstick",shortName:"QS",series:"price",calcParams:[{name:"period",type:"number",value:20}],styles:{lines:[{color:"#2196F3",size:1}],bars:[{upColor:"#4CAF50",downColor:"#FF5252"}]},figures:[{key:"qstick",title:"Qstick: ",type:"line"},{key:"qstick",title:"Qstick: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&(n.qstick&&n.qstick>0?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.qstick&&n.qstick<0&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams[0].value,n=e.map(o=>o.close-o.open),i=Xm(n,t);return e.reduce((o,s,u)=>(u>=t-1&&(o[s.timestamp]={qstick:i[u-(t-1)]}),o),{})}},Hk={isMainIndicator:!1,isSubIndicator:!0,name:"Absolute Price Oscillator",shortName:"APO",series:"price",calcParams:[{name:"fastPeriod",type:"number",value:14},{name:"slowPeriod",type:"number",value:30}],styles:{lines:[{color:"#2196F3",size:1}],bars:[{upColor:"#4CAF50",downColor:"#FF5252"}]},figures:[{key:"apo",title:"APO: ",type:"line"},{key:"apo",title:"APO: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const n=e.current;let i=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor);return wr(n)&&(n.apo&&n.apo>0?i=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):n.apo&&n.apo<0&&(i=qr(r.styles,"bars[0].downColor",t.bars[0].downColor))),{color:i}}}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=e.map(d=>d.close),s=ta(o,n),u=ta(o,i);return e.reduce((d,h,f)=>{if(f>=i-1){const v={apo:s[f]-u[f]};d[h.timestamp]=v}return d},{})}},Yk={isMainIndicator:!1,isSubIndicator:!0,name:"Aroon",shortName:"AROON",series:"price",calcParams:[{name:"Length",type:"number",value:14}],styles:{lines:[{color:"#4CAF50",size:1},{color:"#FF5252",size:1}]},figures:[{key:"up",title:"Aroon Up: ",type:"line"},{key:"down",title:"Aroon Down: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams[0].value;return e.reduce((n,i,o)=>{if(o>=t-1){const s=e.slice(o-t+1,o+1),u=Math.max(...s.map(C=>C.high)),d=Math.min(...s.map(C=>C.low));let h=0,f=0;for(let C=t-1;C>=0;C--)if(s[C].high===u){h=C;break}for(let C=t-1;C>=0;C--)if(s[C].low===d){f=C;break}const v=Math.round((t-f)/t*100),m=Math.round((t-h)/t*100);n[i.timestamp]={up:v,down:m}}return n},{})}},Xk={isMainIndicator:!1,isSubIndicator:!0,name:"Balance of Power",shortName:"BOP",series:"price",calcParams:[],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"value",title:"BOP: ",type:"line"}],calc:(e,r)=>e.reduce((t,n)=>{if(wr(n.open)&&wr(n.high)&&wr(n.low)&&wr(n.close)){const i=n.high-n.low;if(i!==0){const o=(n.close-n.open)/i;t[n.timestamp]={value:o}}else t[n.timestamp]={value:0}}return t},{})},jk={isMainIndicator:!0,isSubIndicator:!1,name:"Double Exponential Moving Average",shortName:"DEMA",series:"price",calcParams:[{name:"ema1Period",type:"number",value:10},{name:"ema2Period",type:"number",value:16}],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"value",title:"DEMA: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=e.map(d=>d.close),s=ta(o,n),u=ta(s,i);return e.reduce((d,h,f)=>{if(f>=n+i-2){const v=2*s[f]-u[f];d[h.timestamp]={value:v}}return d},{})}},Gk={isMainIndicator:!0,isSubIndicator:!1,name:"Envelope (SMA)",shortName:"ENV",series:"price",calcParams:[{name:"period",type:"number",value:20},{name:"percentage",type:"number",value:10},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#FF5252",size:1},{color:"#2196F3",size:1},{color:"#4CAF50",size:1}]},figures:[{key:"upper",title:"Upper: ",type:"line"},{key:"middle",title:"Middle: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{const t=r.calcParams,n=t[0].value,i=t[1].value,o=e.map(u=>u.close),s=Xm(o,n);return e.reduce((u,d,h)=>{if(h>=n-1){const f=s[h],v=s[h],m=s[h],C=f*(1+i/100),b=m*(1-i/100);u[d.timestamp]={upper:C,middle:v,lower:b}}return u},{})},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,f;const v=r.result;if(!v)return!1;const{from:m,to:C}=i.getVisibleRange(),b=[],_=[],k=[],S=[];for(let T=m;T<C;T++){const I=v[T];I!=null&&(b.push(t.convertToPixel(T)),I.upper!=null&&_.push(n.convertToPixel(I.upper)),I.middle!=null&&k.push(n.convertToPixel(I.middle)),I.lower!=null&&S.push(n.convertToPixel(I.lower)))}if(r.calcParams[2].value){const T=Is(((u=(s=(o=r.styles)==null?void 0:o.lines)==null?void 0:s[0])==null?void 0:u.color)??"#E91E63");Ts(e,b,_,k,`rgba(${T.r}, ${T.g}, ${T.b}, 0.1)`);const I=Is(((f=(h=(d=r.styles)==null?void 0:d.lines)==null?void 0:h[2])==null?void 0:f.color)??"#673AB7");Ts(e,b,k,S,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`)}return!1}},Kk={isMainIndicator:!0,isSubIndicator:!1,name:"Envelope (EMA)",shortName:"ENV-EMA",series:"price",calcParams:[{name:"period",type:"number",value:20,min:1,max:100},{name:"percentage",type:"number",value:20,min:0,max:100},{name:"showShading",type:"boolean",value:!0}],styles:{lines:[{color:"#E91E63",size:1},{color:"#9C27B0",size:1},{color:"#673AB7",size:1}]},figures:[{key:"upper",title:"Upper: ",type:"line"},{key:"middle",title:"Middle: ",type:"line"},{key:"lower",title:"Lower: ",type:"line"}],calc:(e,r)=>{var t,n;const i=r.calcParams,o=((t=i.find(h=>h.name==="period"))==null?void 0:t.value)??20,s=((n=i.find(h=>h.name==="percentage"))==null?void 0:n.value)??20,u=e.map(h=>h.close),d=ta(u,o);return e.reduce((h,f,v)=>{if(v>=o-1){const m=d[v],C=d[v],b=d[v],_=m*(1+s/100),k=b*(1-s/100);h[f.timestamp]={upper:_,middle:C,lower:k}}return h},{})},draw:({ctx:e,indicator:r,xAxis:t,yAxis:n,chart:i})=>{var o,s,u,d,h,f,v;const m=r.result;if(!m)return!1;const{from:C,to:b}=i.getVisibleRange(),_=[],k=[],S=[],T=[];for(let I=C;I<b;I++){const P=m[I];P!=null&&(_.push(t.convertToPixel(I)),P.upper!=null&&k.push(n.convertToPixel(P.upper)),P.middle!=null&&S.push(n.convertToPixel(P.middle)),P.lower!=null&&T.push(n.convertToPixel(P.lower)))}if(((o=r.calcParams.find(I=>I.name==="showShading"))==null?void 0:o.value)??!0){const I=Is(((d=(u=(s=r.styles)==null?void 0:s.lines)==null?void 0:u[0])==null?void 0:d.color)??"#E91E63");Ts(e,_,k,S,`rgba(${I.r}, ${I.g}, ${I.b}, 0.1)`);const P=Is(((v=(f=(h=r.styles)==null?void 0:h.lines)==null?void 0:f[2])==null?void 0:v.color)??"#673AB7");Ts(e,_,S,T,`rgba(${P.r}, ${P.g}, ${P.b}, 0.1)`)}return!1}},Qk={name:"Volume Price Trend",shortName:"VPT",series:"volume",calcParams:[],precision:2,isMainIndicator:!1,isSubIndicator:!0,styles:{lines:[{style:"solid",color:"#FF7F50",size:1}]},figures:[{key:"vpt",title:"VPT: ",type:"line"}],calc:(e,r)=>{let t=0;return e.reduce((n,i,o)=>{if(i.close===void 0||i.volume===void 0)return n[i.timestamp]={vpt:0},n;if(o===0)return n[i.timestamp]={vpt:0},n;const s=e[o-1].close,u=e[o-1].volume;if(s===void 0||s===0||u===void 0)return n[i.timestamp]={vpt:t},n;const d=(i.close-s)/s,h=t+u*d;return t=h,n[i.timestamp]={vpt:h},n},{})},shouldOhlc:!0,draw:({ctx:e,chart:r,indicator:t,bounding:n,xAxis:i,yAxis:o})=>{var s;const{realFrom:u,realTo:d}=r.getVisibleRange(),{result:h}=t,f=E0("line");for(let v=u;v<d;v++){const m=h[v];m&&m.vpt!==0&&new f({name:"line",styles:{style:t.styles.lines[0].style,color:t.styles.lines[0].color,size:t.styles.lines[0].size},attrs:{coordinates:[{x:i.convertToPixel(v),y:o.convertToPixel(m.vpt)},{x:i.convertToPixel(v+1),y:o.convertToPixel((s=h[v+1])==null?void 0:s.vpt)}]}}).draw(e)}return!0}},Zk={name:"Negative Volume Index",shortName:"NVI",series:"price",calcParams:[{name:"Length",type:"number",value:5,min:1,max:1e4}],precision:2,isMainIndicator:!1,isSubIndicator:!0,styles:{lines:[{style:"solid",color:"#2196F3",size:1}]},figures:[{key:"nvi",title:"NVI: ",type:"line"}],calc:(e,r)=>{var t;const n=((t=r.calcParams.find(o=>o.name==="Length"))==null?void 0:t.value)??1e3;let i=n;return e.reduce((o,s,u)=>{if(s.close===void 0||s.volume===void 0)return o[s.timestamp]={nvi:0},o;if(u===0)return o[s.timestamp]={nvi:n},o;const d=e[u-1].close,h=e[u-1].volume;if(d===void 0||d===0||h===void 0)return o[s.timestamp]={nvi:i},o;const f=(s.close-d)/d;let v=i;return s.volume<=h&&(v=i+f*i),i=v,o[s.timestamp]={nvi:v},o},{})}},qk={isMainIndicator:!1,isSubIndicator:!0,name:"Money Flow Volume",shortName:"MFV",series:"volume",calcParams:[],styles:{lines:[{color:"#2196F3",size:1}]},figures:[{key:"mfv",title:"MFV: ",type:"line"}],calc:(e,r)=>{const t=[];return e.forEach((n,i)=>{if(!wr(n.high)||!wr(n.low)||!wr(n.close)||!wr(n.volume)){t[i]={};return}const o=n.high-n.low;if(o===0){t[i]={mfv:0};return}const s=(n.close-n.low-(n.high-n.close))/o*n.volume;t[i]={mfv:s}}),t}},Jk={isMainIndicator:!1,isSubIndicator:!0,name:"Money Flow Multiplier",shortName:"MFM",series:"price",calcParams:[],styles:{lines:[{color:"#FF9800",size:1}]},figures:[{key:"mfm",title:"MFM: ",type:"line"}],calc:(e,r)=>e.reduce((t,n,i)=>{if(!wr(n.high)||!wr(n.low)||!wr(n.close))return t;const o=n.high-n.low;if(o===0)return t[n.timestamp]={mfm:0},t;const s=(n.close-n.low-(n.high-n.close))/o;return t[n.timestamp]={mfm:s},t},{})},eS={isMainIndicator:!0,isSubIndicator:!1,name:"Moving Linear Regression",shortName:"MLR",series:"price",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#2196F3",size:1.5}]},figures:[{key:"value",title:"MLR: ",type:"line"}],calc:(e,r)=>{const{calcParams:t}=r,n=t[0].value;return e.length<n?{}:e.reduce((i,o,s)=>{if(s<n-1)return i;const u=e.slice(s-(n-1),s+1);if(!u.every(S=>wr(S.close)))return i;const d=Array.from({length:n},(S,T)=>T+1),h=u.map(S=>S.close),f=d.reduce((S,T)=>S+T,0)/n,v=h.reduce((S,T)=>S+T,0)/n;let m=0,C=0;for(let S=0;S<n;S++){const T=d[S]-f;m+=T*(h[S]-v),C+=T*T}const b=C!==0?m/C:0,_=v-b*f,k=b*n+_;return i[o.timestamp]={value:k},i},{})}},tS={isMainIndicator:!1,isSubIndicator:!0,name:"Moving Least Square",shortName:"MLS",series:"price",calcParams:[{name:"period",type:"number",value:14}],styles:{lines:[{color:"#FF9800",size:1.5},{color:"#4CAF50",size:1},{color:"#F44336",size:1}]},figures:[{key:"line",title:"MLS: ",type:"line"},{key:"slope",title:"Slope: ",type:"line"},{key:"intercept",title:"Intercept: ",type:"line"}],calc:(e,r)=>{const{calcParams:t}=r,n=t[0].value;return e.length<n?{}:e.reduce((i,o,s)=>{if(s<n-1)return i;const u=e.slice(s-(n-1),s+1);if(!u.every(T=>wr(T.close)))return i;const d=Array.from({length:n},(T,I)=>I+1),h=u.map(T=>T.close);let f=0,v=0,m=0,C=0;for(let T=0;T<n;T++)f+=d[T],v+=h[T],m+=d[T]*h[T],C+=d[T]*d[T];const b=n*C-f*f,_=b!==0?(n*m-f*v)/b:0,k=(v-_*f)/n,S=_*n+k;return i[o.timestamp]={slope:_,intercept:k,line:S},i},{})}},rS={isMainIndicator:!1,isSubIndicator:!0,name:"MACD",shortName:"MACD",calcParams:[{name:"fastPeriod",type:"number",value:12},{name:"slowPeriod",type:"number",value:26},{name:"signalPeriod",type:"number",value:9}],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:({data:e,indicator:r,defaultStyles:t})=>{const{prev:n,current:i}=e,o=(n==null?void 0:n.macd)??Number.MIN_SAFE_INTEGER,s=(i==null?void 0:i.macd)??Number.MIN_SAFE_INTEGER;let u="";return s>0?u=qr(r.styles,"bars[0].upColor",t.bars[0].upColor):s<0?u=qr(r.styles,"bars[0].downColor",t.bars[0].downColor):u=qr(r.styles,"bars[0].noChangeColor",t.bars[0].noChangeColor),{style:o<s?"stroke":"fill",color:u,borderColor:u}}}],calc:(e,r)=>{const t=r.calcParams;let n=0,i=0,o=0,s=0,u=0,d=0;const h=Math.max(t[0].value,t[1].value);return e.reduce((f,v,m)=>{const C=v.close;if(n+=C,m>=t[0].value-1&&(m>t[0].value-1?i=(2*C+(t[0].value-1)*i)/(t[0].value+1):i=n/t[0].value),m>=t[1].value-1&&(m>t[1].value-1?o=(2*C+(t[1].value-1)*o)/(t[1].value+1):o=n/t[1].value),m>=h-1){s=i-o,u+=s;const b={dif:s};m>=h+t[2].value-2&&(m>h+t[2].value-2?d=(s*2+d*(t[2].value-1))/(t[2].value+1):d=u/t[2].value,b.macd=(s-d)*2,b.dea=d),f[v.timestamp]=b}return f},{})}},Ng=[Z_,q_,J_,ek,tk,rk,nk,ik,ak,ok,lk,sk,ck,uk,dk,hk,pk,fk,gk,vk,mk,xk,Ck,bk,wk,Km,Qm,_k,kk,Sk,Mk,Ek,Tk,Ik,Lk,Pk,Ak,Dk,Nk,Fk,Rk,Ok,zk,Bk,Vk,$k,Wk,Uk,Hk,Yk,Xk,jk,Gk,Kk,Qk,Zk,qk,Jk,eS,tS,rS],nS=[Km,Qm],dp=[],y1=[],iS=[...Ng];iS.forEach(e=>{e.isMainIndicator?lS(e.name):e.isSubIndicator?sS(e.name):console.warn("Unknown indicator type during initialization: ",e.name),mm(e)});function aS(e){const r=[];return dp.forEach(t=>{e.forEach(n=>{t===n&&r.push(n)})}),r}function oS(e){const r=[];return y1.forEach(t=>{e.forEach(n=>{t===n&&r.push(n)})}),r}function lS(e){dp.includes(e)||dp.push(e)}function sS(e){y1.includes(e)||y1.push(e)}function g2(){return[...Ng]}var kt=(e=>(e.STOCKS="Stocks",e.CRYPTO="Crypto",e.FOREX="Forex",e.FUTURES="Futures",e.ALL="All",e))(kt||{});const Ue={ONE_MIN:"1m",THREE_MIN:"3m",FIVE_MIN:"5m",FIFTEEN_MIN:"15m",THIRTY_MIN:"30m",ONE_HOUR:"1H",TWO_HOUR:"2H",FOUR_HOUR:"4H",SIX_HOUR:"6H",EIGHT_HOUR:"8H",TWELVE_HOUR:"12h",ONE_DAY:"D",THREE_DAY:"3D",FIVE_DAY:"5D",ONE_WEEK:"W",ONE_MONTH:"M",THREE_MONTH:"3M",SIX_MONTH:"6M",ONE_YEAR:"Y",FIVE_YEAR:"5Y",DEFAULT:"default"},dn={MINUTE:"minute",HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"};var L0=(e=>(e.RENKO="renko",e))(L0||{});const cS={[kt.STOCKS]:{[Ue.ONE_MIN]:"1min",[Ue.FIVE_MIN]:"5min",[Ue.FIFTEEN_MIN]:"15min",[Ue.THIRTY_MIN]:"30min",[Ue.ONE_HOUR]:"1h",[Ue.TWO_HOUR]:"2h",[Ue.ONE_DAY]:"1day",[Ue.ONE_WEEK]:"1week",[Ue.ONE_MONTH]:"1month",[Ue.DEFAULT]:"15min"},[kt.CRYPTO]:{[Ue.ONE_MIN]:"1m",[Ue.THREE_MIN]:"3m",[Ue.FIVE_MIN]:"5m",[Ue.FIFTEEN_MIN]:"15m",[Ue.THIRTY_MIN]:"30m",[Ue.ONE_HOUR]:"1h",[Ue.TWO_HOUR]:"2h",[Ue.FOUR_HOUR]:"4h",[Ue.SIX_HOUR]:"6h",[Ue.EIGHT_HOUR]:"8h",[Ue.TWELVE_HOUR]:"12h",[Ue.ONE_DAY]:"1d",[Ue.THREE_DAY]:"3d",[Ue.ONE_WEEK]:"1w",[Ue.ONE_MONTH]:"1M",[Ue.DEFAULT]:"15m"}};function $h(e,r){const t=cS[e];return t[r.text]||t.default}const f0=class bn{static setStockDataFeed(r){bn.stockDataFeed=r}static setCryptoDataFeed(r){bn.cryptoDataFeed=r}static setForexDataFeed(r){bn.forexDataFeed=r}static setFuturesDataFeed(r){bn.futuresDataFeed=r}static getStockDataFeed(){return bn.stockDataFeed}static getCryptoDataFeed(){return bn.cryptoDataFeed}static getForexDataFeed(){return bn.forexDataFeed}static getFuturesDataFeed(){return bn.futuresDataFeed}static hasStockDataFeed(){return bn.stockDataFeed!==null}static hasCryptoDataFeed(){return bn.cryptoDataFeed!==null}static hasForexDataFeed(){return bn.forexDataFeed!==null}static hasFuturesDataFeed(){return bn.futuresDataFeed!==null}static getDefaultDataFeed(){return bn.defaultDataFeed}static setDefaultDataFeed(r){bn.defaultDataFeed=r}static getAllDataFeeds(){return[bn.stockDataFeed??null,bn.cryptoDataFeed??null,bn.forexDataFeed??null,bn.futuresDataFeed??null]}};Re(f0,"defaultDataFeed"),Re(f0,"stockDataFeed",null),Re(f0,"cryptoDataFeed",null),Re(f0,"forexDataFeed",null),Re(f0,"futuresDataFeed",null);let Vr=f0;function Zm(e){const r=[{name:kt.CRYPTO,class:pg}];(e!=null?r.filter(t=>t.name.toLowerCase()!==e.toLowerCase()):r).forEach(t=>{t.class.checkAndCloseIfNoSubscriptions()})}const g0=class je{async searchTickers(r,t){try{if(t!==void 0&&t!==kt.CRYPTO)return[];(r===void 0||r==="")&&(r="BTCUSDT");const n=`https://api.binance.com/api/v3/exchangeInfo?symbol=${r.toUpperCase()}`,i=await fetch(n);if(!i.ok)throw new Error(`Network response was not ok: ${i.statusText}`);const o=await i.json();if(!o.symbols||!Array.isArray(o.symbols))throw new Error("Invalid response format: 'symbols' not found or not an array.");return console.log(o.symbols),(o.symbols!=null?o.symbols:[]).map(s=>({ticker:s.symbol,exchange:"binance",logo:"binance-logo.svg",type:kt.CRYPTO}))}catch(n){return console.error("Failed to fetch data from Binance API:",n),[]}}async getHistoricalTimeSeries(r,t,n,i,o){console.warn("Fetching historical time series for crypto");const s=1e3,u=$h(kt.CRYPTO,t);let d=[],h=s,f,v=Math.ceil(s/1e3);try{for(;h>0&&v>0;){const m=Math.min(1e3,h),C=await uS(r.ticker,u,m,f).catch(b=>(console.error("Failed to fetch candle data:",b),[]));if(!C||C.length===0){console.warn("No data returned, stopping further requests");break}if(d=[...C,...d],h-=C.length,v--,f=C[0][0],d.length>=s)break}return d.length<s&&console.warn(`Requested ${s} data points, but only fetched ${d.length}`),d.slice(0,s).map(m=>({timestamp:m[0],open:parseFloat(m[1]),high:parseFloat(m[2]),low:parseFloat(m[3]),close:parseFloat(m[4]),volume:parseFloat(m[5])}))}catch(m){return console.error("An error occurred during data fetching:",m),[]}}async subscribeTicker(r,t,n,i){var o;if((r==null?void 0:r.ticker)==null){console.warn("Invalid symbol: Symbol must have a valid ticker.");return}if(t==null){console.warn("Invalid period: Period cannot be null or undefined.");return}if(i==null){console.warn("Invalid uuid: UUID cannot be null or undefined.");return}try{Zm(kt.CRYPTO),((o=je._ws)==null?void 0:o.readyState)!==WebSocket.OPEN?await this.createWebSocket(r,t,i):(console.log("WebSocket is already connected, proceeding to subscribe"),await this.subscribe(r,t,i)),this.addListener(r,t,n,i)}catch(s){console.error("Failed to subscribe to ticker: ",s)}}subscribeAllTickers(r,t,n,i=500,o){const s=async u=>{await new Promise(d=>setTimeout(d,u))};r.length!==0&&this.subscribeTicker(r[0],t,n,o).then(async()=>{console.log(`Subscribed to ticker: ${r[0].ticker}`),console.log("Applying initial delay of 3 seconds"),await s(3e3);for(let u=1;u<r.length;u++)setTimeout(()=>{this.subscribeTicker(r[u],t,n,o).then(()=>{console.log(`Subscribed to ticker: ${r[u].ticker}`)})},(u-1)*i)})}unsubscribeTicker(r,t,n){!this.validateTickerPeriodUuid(r,t,n)||n==null||this.removeListener(r.ticker,t,n)&&this.unSubscribeToSymbol(r.ticker,t)}unsubscribeAllTickers(r,t,n,i){console.log("Unsubscribing all tickers"),r.forEach((o,s)=>{!this.validateTickerPeriodUuid(o,t,i)||i==null||setTimeout(()=>{console.log("Subscribed Symbols Before",je._subscribedSymbolListenersMap.size),this.removeListener(o.ticker,t,i)&&this.unSubscribeToSymbol(o.ticker,t),je.checkAndCloseIfNoSubscriptions()},s*n)})}closeWebsocket(){je.closeWebsocket()}static closeWebsocket(){var r;console.warn("Closing websocket connection"),(r=je._ws)==null||r.close(),je._ws=void 0,je._subscribedSymbolListenersMap.clear(),je._subscribedSymbolsMap.clear()}async createWebSocket(r,t,n){var i,o;if(!(((i=je._ws)==null?void 0:i.readyState)===WebSocket.OPEN||((o=je._ws)==null?void 0:o.readyState)===WebSocket.CONNECTING)){console.warn("Creating new ws connection"),je._ws=new WebSocket("wss://stream.binance.com:9443/ws");try{await this.waitForWebSocketToOpen(je._ws),console.log("WebSocket connection established"),await this.subscribe(r,t,n)}catch(s){console.warn("Failed to establish Binance websocket connection: ",s)}}}async subscribe(r,t,n){var i,o,s,u;je._ws==null&&await this.createWebSocket(r,t,n);const d=`${r.ticker.toLowerCase()}_${t.text}`;if(je._subscribedSymbolsMap.set(d,(je._subscribedSymbolsMap.get(d)??0)+1),console.log("Subscribed ",d," count: ",je._subscribedSymbolsMap.get(d)),je._subscribedSymbolsMap.get(d)>1){console.log("No need to re-subscribe as we are already subscribed for ticker: ",r);return}try{const h=r.ticker.toLowerCase(),f=$h(kt.CRYPTO,t),v=JSON.stringify({method:"SUBSCRIBE",params:[`${h}@kline_${f}`],id:1});((i=je._ws)==null?void 0:i.readyState)===WebSocket.OPEN?(console.log("WebSocket is open, sending subscription message"),(o=je._ws)==null||o.send(v)):((s=je._ws)==null?void 0:s.readyState)===WebSocket.CONNECTING?(console.log("WebSocket is still connecting, waiting for connection to be established"),await this.waitForWebSocketToOpen(je._ws),(u=je._ws)==null||u.send(v)):await this.createWebSocket(r,t,n),console.log(`Subscribed to ${h}@kline_${f}`)}catch(h){console.error("Failed to subscribe to symbol: ",h),je._subscribedSymbolsMap.set(d,(je._subscribedSymbolsMap.get(d)??0)-1)}}unSubscribeToSymbol(r,t){var n;const i=`${r.toLowerCase()}_${t.text}`;if(je._subscribedSymbolsMap.set(i,(je._subscribedSymbolsMap.get(i)??1)-1),console.log("Unsubscribed ",i," count: ",je._subscribedSymbolsMap.get(i)),je._subscribedSymbolsMap.get(i)>=1){console.log("No need to un-subscribe as another chart is using this interval");return}const o=r.toLowerCase(),s=$h(kt.CRYPTO,t),u=JSON.stringify({method:"UNSUBSCRIBE",params:[`${o}@kline_${s}`],id:2});(n=je._ws)==null||n.send(u),je._subscribedSymbolsMap.delete(i),console.log(`Un subscribed to ${o}@kline_${s}`)}static checkAndCloseIfNoSubscriptions(){je._subscribedSymbolListenersMap.size===0&&je._ws!==void 0&&(console.log("Closing Binance websocket connection"),je.closeWebsocket())}addListener(r,t,n,i){const o=`${r.ticker.toLowerCase()}_${t.text}_${i}`,s=u=>{const d=JSON.parse(u.data),h=d==null?void 0:d.k,f=$h(kt.CRYPTO,t);if(h!=null&&h.s.toLowerCase()===r.ticker.toLowerCase()&&h.i===f){const v=d.k;n({timestamp:v.t,open:parseFloat(v.o),high:parseFloat(v.h),low:parseFloat(v.l),close:parseFloat(v.c),volume:parseFloat(v.v),turnover:parseFloat(v.q)},r)}};je._ws.addEventListener("message",s),je._subscribedSymbolListenersMap.set(o,s),console.log("Adding Listener for: ",o," count: ",je._subscribedSymbolListenersMap.size)}removeListener(r,t,n){const i=`${r.toLowerCase()}_${t.text}_${n}`,o=je._subscribedSymbolListenersMap.get(i);return o!=null?(console.log("Removing Listener for: ",i),je._ws.removeEventListener("message",o),je._subscribedSymbolListenersMap.delete(i),!0):!1}async waitForWebSocketToOpen(r){await new Promise((t,n)=>{r.readyState===WebSocket.OPEN?(console.log("WebSocket is open"),t()):(r.onopen=()=>{console.log("WebSocket connection opened"),t()},r.onerror=i=>{n(i),console.error("Binance WebSocket error: ",i)})})}validateTickerPeriodUuid(r,t,n){switch(!0){case(r==null?void 0:r.ticker)==null:return console.warn("Invalid symbol: Symbol must have a valid ticker."),!1;case t==null:return console.warn("Invalid period: Period cannot be null or undefined."),!1;case n==null:console.warn("Invalid uuid: Uuid cannot be null");default:return!0}}clearAllListeners(){je._ws&&(Array.from(je._subscribedSymbolListenersMap.values()).forEach(r=>{var t;console.log("Removing listener: ",r),(t=je._ws)==null||t.removeEventListener("message",r)}),je._subscribedSymbolListenersMap.clear(),je._subscribedSymbolsMap.clear(),console.log("All BinanceDataFeed listeners cleared"))}subscribeOrderBookData(r,t,n){if(!(r!=null&&r.ticker)){console.warn("Invalid ticker for DOM subscription");return}if(!n){console.warn("Invalid uuid for DOM subscription");return}try{this.subscribeToDOMSymbol(r,n),this.addDOMListener(r,t,n)}catch(i){console.error("Failed to subscribe to DOM data:",i)}}unsubscribeOrderBookData(r,t){if(!(r!=null&&r.ticker)||!t){console.warn("Invalid ticker or uuid for DOM unsubscription");return}try{this.removeDOMListener(r.ticker,t)&&this.unsubscribeFromDOMSymbol(r.ticker)}catch(n){console.error("Failed to unsubscribe from DOM data:",n)}}async subscribeToDOMSymbol(r,t){var n,i,o,s,u,d;if(((n=je._ws)==null?void 0:n.readyState)!==WebSocket.OPEN&&((i=je._ws)==null?void 0:i.readyState)!==WebSocket.CONNECTING){console.warn("Creating new ws connection for DOM"),je._ws=new WebSocket("wss://stream.binance.com:9443/ws");try{await this.waitForWebSocketToOpen(je._ws),console.log("WebSocket connection established for DOM")}catch(f){console.warn("Failed to establish Binance websocket connection for DOM: ",f);return}}const h=`${r.ticker.toLowerCase()}_dom`;if(je._domSubscriptionsMap.set(h,(je._domSubscriptionsMap.get(h)??0)+1),console.log("DOM Subscribed ",h," count: ",je._domSubscriptionsMap.get(h)),je._domSubscriptionsMap.get(h)>1){console.log("No need to re-subscribe to DOM as we are already subscribed for ticker: ",r);return}try{const f=r.ticker.toLowerCase(),v=JSON.stringify({method:"SUBSCRIBE",params:[`${f}@depth20@1000ms`],id:Date.now()});((o=je._ws)==null?void 0:o.readyState)===WebSocket.OPEN?(console.log("WebSocket is open, sending DOM subscription message:",v),(s=je._ws)==null||s.send(v)):((u=je._ws)==null?void 0:u.readyState)===WebSocket.CONNECTING&&(console.log("WebSocket is still connecting, waiting for connection to be established for DOM"),await this.waitForWebSocketToOpen(je._ws),(d=je._ws)==null||d.send(v)),console.log(`Subscribed to DOM for ${f}@depth20@1000ms`)}catch(f){console.error("Failed to subscribe to DOM symbol: ",f),je._domSubscriptionsMap.set(h,(je._domSubscriptionsMap.get(h)??0)-1)}}unsubscribeFromDOMSymbol(r){var t;const n=`${r.toLowerCase()}_dom`;if(je._domSubscriptionsMap.set(n,(je._domSubscriptionsMap.get(n)??1)-1),console.log("DOM Unsubscribed ",n," count: ",je._domSubscriptionsMap.get(n)),je._domSubscriptionsMap.get(n)>=1){console.log("No need to un-subscribe from DOM as another component is using this symbol");return}const i=r.toLowerCase(),o=JSON.stringify({method:"UNSUBSCRIBE",params:[`${i}@depth20@1000ms`],id:Date.now()});(t=je._ws)==null||t.send(o),je._domSubscriptionsMap.delete(n),console.log(`Un subscribed from DOM for ${i}@depth20@1000ms`)}addDOMListener(r,t,n){const i=`${r.ticker.toLowerCase()}_dom_${n}`,o=s=>{try{const u=JSON.parse(s.data);if(u.stream&&u.stream.includes(r.ticker.toLowerCase()),u.stream&&u.stream.includes("@depth20@")){const d=u.data,h={bids:d.bids||[],asks:d.asks||[],timestamp:d.lastUpdateId||Date.now()};t(h,r)}else if(u.e==="depthUpdate"&&u.s&&u.s.toLowerCase()===r.ticker.toLowerCase()){const d=u,h={bids:d.b||[],asks:d.a||[],timestamp:d.E};t(h,r)}else if(u.bids&&u.asks&&!u.e){const d={bids:u.bids||[],asks:u.asks||[],timestamp:Date.now()};t(d,r)}}catch(u){console.error("Error parsing DOM data:",u)}};je._ws.addEventListener("message",o),je._domListenersMap.set(i,o),console.log("Adding DOM Listener for: ",i," count: ",je._domListenersMap.size)}removeDOMListener(r,t){const n=`${r.toLowerCase()}_dom_${t}`,i=je._domListenersMap.get(n);return i!=null?(console.log("Removing DOM Listener for: ",n),je._ws.removeEventListener("message",i),je._domListenersMap.delete(n),!0):!1}};Re(g0,"_ws"),Re(g0,"_subscribedSymbolListenersMap",new Map),Re(g0,"_subscribedSymbolsMap",new Map),Re(g0,"_domListenersMap",new Map),Re(g0,"_domSubscriptionsMap",new Map);let pg=g0;async function uS(e,r,t,n){let i=`https://api.binance.com/api/v3/klines?symbol=${e}&interval=${r}&limit=${t}`;return n!=null&&(i+=`&endTime=${n}`),await(await fetch(i)).json()}const dS=(e,r)=>e===r,Ho=Symbol("solid-proxy"),hS=typeof Proxy=="function",fg=Symbol("solid-track"),hp={equals:dS};let qm=i5;const zl=1,pp=2,Jm={owned:null,cleanups:null,context:null,owner:null},Vf={};var hr=null;let $f=null,yr=null,oi=null,Rl=null,Tp=0;function w0(e,r){const t=yr,n=hr,i=e.length===0,o=r===void 0?n:r,s=i?Jm:{owned:null,cleanups:null,context:o?o.context:null,owner:o},u=i?e:()=>e(()=>Je(()=>x1(s)));hr=s,yr=null;try{return Yo(u,!0)}finally{yr=t,hr=n}}function pe(e,r){r=r?Object.assign({},hp,r):hp;const t={value:e,observers:null,observerSlots:null,comparator:r.equals||void 0},n=i=>(typeof i=="function"&&(i=i(t.value)),n5(t,i));return[r5.bind(t),n]}function pS(e,r,t){const n=Ip(e,r,!0,zl);P0(n)}function $e(e,r,t){const n=Ip(e,r,!1,zl);P0(n)}function pt(e,r,t){qm=_S;const n=Ip(e,r,!1,zl);(!t||!t.render)&&(n.user=!0),Rl?Rl.push(n):P0(n)}function _e(e,r,t){t=t?Object.assign({},hp,t):hp;const n=Ip(e,r,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,P0(n),r5.bind(n)}function fS(e){return e&&typeof e=="object"&&"then"in e}function gS(e,r,t){let n,i,o;typeof r=="function"?(n=e,i=r,o={}):(n=!0,i=e,o=r||{});let s=null,u=Vf,d=!1,h="initialValue"in o,f=typeof n=="function"&&_e(n);const v=new Set,[m,C]=(o.storage||pe)(o.initialValue),[b,_]=pe(void 0),[k,S]=pe(void 0,{equals:!1}),[T,I]=pe(h?"ready":"unresolved");function P(V,$,W,te){return s===V&&(s=null,te!==void 0&&(h=!0),(V===u||$===u)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(te,{value:$})),u=Vf,L($,W)),$}function L(V,$){Yo(()=>{$===void 0&&C(()=>V),I($!==void 0?"errored":h?"ready":"unresolved"),_($);for(const W of v.keys())W.decrement();v.clear()},!1)}function z(){const V=CS,$=m(),W=b();if(W!==void 0&&!s)throw W;return yr&&yr.user,$}function R(V=!0){if(V!==!1&&d)return;d=!1;const $=f?f():n;if($==null||$===!1){P(s,Je(m));return}const W=u!==Vf?u:Je(()=>i($,{value:m(),refetching:V}));return fS(W)?(s=W,"value"in W?(W.status==="success"?P(s,W.value,void 0,$):P(s,void 0,vg(W.value),$),W):(d=!0,queueMicrotask(()=>d=!1),Yo(()=>{I(h?"refreshing":"pending"),S()},!1),W.then(te=>P(W,te,void 0,$),te=>P(W,void 0,vg(te),$)))):(P(s,W,void 0,$),W)}return Object.defineProperties(z,{state:{get:()=>T()},error:{get:()=>b()},loading:{get(){const V=T();return V==="pending"||V==="refreshing"}},latest:{get(){if(!h)return z();const V=b();if(V&&!s)throw V;return m()}}}),f?pS(()=>R(!1)):R(!1),[z,{refetch:R,mutate:C}]}function Il(e){return Yo(e,!1)}function Je(e){if(yr===null)return e();const r=yr;yr=null;try{return e()}finally{yr=r}}function Ia(e){pt(()=>Je(e))}function Gn(e){return hr===null||(hr.cleanups===null?hr.cleanups=[e]:hr.cleanups.push(e)),e}function gg(){return yr}function vS(){return hr}function mS(e,r){const t=hr,n=yr;hr=e,yr=null;try{return Yo(r,!0)}catch(i){zg(i)}finally{hr=t,yr=n}}function yS(e){const r=yr,t=hr;return Promise.resolve().then(()=>{yr=r,hr=t;let n;return Yo(e,!1),yr=hr=null,n?n.done:void 0})}function e5(e,r){const t=Symbol("context");return{id:t,Provider:kS(t),defaultValue:e}}function t5(e){let r;return hr&&hr.context&&(r=hr.context[e.id])!==void 0?r:e.defaultValue}function xS(e){const r=_e(e),t=_e(()=>mg(r()));return t.toArray=()=>{const n=t();return Array.isArray(n)?n:n!=null?[n]:[]},t}let CS;function r5(){if(this.sources&&this.state)if(this.state===zl)P0(this);else{const e=oi;oi=null,Yo(()=>gp(this),!1),oi=e}if(yr){const e=this.observers?this.observers.length:0;yr.sources?(yr.sources.push(this),yr.sourceSlots.push(e)):(yr.sources=[this],yr.sourceSlots=[e]),this.observers?(this.observers.push(yr),this.observerSlots.push(yr.sources.length-1)):(this.observers=[yr],this.observerSlots=[yr.sources.length-1])}return this.value}function n5(e,r,t){let n=e.value;return(!e.comparator||!e.comparator(n,r))&&(e.value=r,e.observers&&e.observers.length&&Yo(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=$f&&$f.running;s&&$f.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?oi.push(o):Rl.push(o),o.observers&&a5(o)),s||(o.state=zl)}if(oi.length>1e6)throw oi=[],new Error},!1)),r}function P0(e){if(!e.fn)return;x1(e);const r=Tp;bS(e,e.value,r)}function bS(e,r,t){let n;const i=hr,o=yr;yr=hr=e;try{n=e.fn(r)}catch(s){return e.pure&&(e.state=zl,e.owned&&e.owned.forEach(x1),e.owned=null),e.updatedAt=t+1,zg(s)}finally{yr=o,hr=i}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?n5(e,n):e.value=n,e.updatedAt=t)}function Ip(e,r,t,n=zl,i){const o={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:hr,context:hr?hr.context:null,pure:t};return hr===null||hr!==Jm&&(hr.owned?hr.owned.push(o):hr.owned=[o]),o}function fp(e){if(e.state===0)return;if(e.state===pp)return gp(e);if(e.suspense&&Je(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Tp);)e.state&&r.push(e);for(let t=r.length-1;t>=0;t--)if(e=r[t],e.state===zl)P0(e);else if(e.state===pp){const n=oi;oi=null,Yo(()=>gp(e,r[0]),!1),oi=n}}function Yo(e,r){if(oi)return e();let t=!1;r||(oi=[]),Rl?t=!0:Rl=[],Tp++;try{const n=e();return wS(t),n}catch(n){t||(Rl=null),oi=null,zg(n)}}function wS(e){if(oi&&(i5(oi),oi=null),e)return;const r=Rl;Rl=null,r.length&&Yo(()=>qm(r),!1)}function i5(e){for(let r=0;r<e.length;r++)fp(e[r])}function _S(e){let r,t=0;for(r=0;r<e.length;r++){const n=e[r];n.user?e[t++]=n:fp(n)}for(r=0;r<t;r++)fp(e[r])}function gp(e,r){e.state=0;for(let t=0;t<e.sources.length;t+=1){const n=e.sources[t];if(n.sources){const i=n.state;i===zl?n!==r&&(!n.updatedAt||n.updatedAt<Tp)&&fp(n):i===pp&&gp(n,r)}}}function a5(e){for(let r=0;r<e.observers.length;r+=1){const t=e.observers[r];t.state||(t.state=pp,t.pure?oi.push(t):Rl.push(t),t.observers&&a5(t))}}function x1(e){let r;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){const o=i.pop(),s=t.observerSlots.pop();n<i.length&&(o.sourceSlots[s]=n,i[n]=o,t.observerSlots[n]=s)}}if(e.tOwned){for(r=e.tOwned.length-1;r>=0;r--)x1(e.tOwned[r]);delete e.tOwned}if(e.owned){for(r=e.owned.length-1;r>=0;r--)x1(e.owned[r]);e.owned=null}if(e.cleanups){for(r=e.cleanups.length-1;r>=0;r--)e.cleanups[r]();e.cleanups=null}e.state=0}function vg(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function zg(e,r=hr){throw vg(e)}function mg(e){if(typeof e=="function"&&!e.length)return mg(e());if(Array.isArray(e)){const r=[];for(let t=0;t<e.length;t++){const n=mg(e[t]);Array.isArray(n)?r.push.apply(r,n):r.push(n)}return r}return e}function kS(e,r){return function(t){let n;return $e(()=>n=Je(()=>(hr.context={...hr.context,[e]:t.value},xS(()=>t.children))),void 0),n}}const SS=Symbol("fallback");function v2(e){for(let r=0;r<e.length;r++)e[r]()}function MS(e,r,t={}){let n=[],i=[],o=[],s=0,u=r.length>1?[]:null;return Gn(()=>v2(o)),()=>{let d=e()||[],h=d.length,f,v;return d[fg],Je(()=>{let C,b,_,k,S,T,I,P,L;if(h===0)s!==0&&(v2(o),o=[],n=[],i=[],s=0,u&&(u=[])),t.fallback&&(n=[SS],i[0]=w0(z=>(o[0]=z,t.fallback())),s=1);else if(s===0){for(i=new Array(h),v=0;v<h;v++)n[v]=d[v],i[v]=w0(m);s=h}else{for(_=new Array(h),k=new Array(h),u&&(S=new Array(h)),T=0,I=Math.min(s,h);T<I&&n[T]===d[T];T++);for(I=s-1,P=h-1;I>=T&&P>=T&&n[I]===d[P];I--,P--)_[P]=i[I],k[P]=o[I],u&&(S[P]=u[I]);for(C=new Map,b=new Array(P+1),v=P;v>=T;v--)L=d[v],f=C.get(L),b[v]=f===void 0?-1:f,C.set(L,v);for(f=T;f<=I;f++)L=n[f],v=C.get(L),v!==void 0&&v!==-1?(_[v]=i[f],k[v]=o[f],u&&(S[v]=u[f]),v=b[v],C.set(L,v)):o[f]();for(v=T;v<h;v++)v in _?(i[v]=_[v],o[v]=k[v],u&&(u[v]=S[v],u[v](v))):i[v]=w0(m);i=i.slice(0,s=h),n=d.slice(0)}return i});function m(C){if(o[v]=C,u){const[b,_]=pe(v);return u[v]=_,r(d[v],b)}return r(d[v])}}}function oe(e,r){return Je(()=>e(r||{}))}function Wh(){return!0}const ES={get(e,r,t){return r===Ho?t:e.get(r)},has(e,r){return r===Ho?!0:e.has(r)},set:Wh,deleteProperty:Wh,getOwnPropertyDescriptor(e,r){return{configurable:!0,enumerable:!0,get(){return e.get(r)},set:Wh,deleteProperty:Wh}},ownKeys(e){return e.keys()}};function Wf(e){return(e=typeof e=="function"?e():e)?e:{}}function TS(){for(let e=0,r=this.length;e<r;++e){const t=this[e]();if(t!==void 0)return t}}function Lp(...e){let r=!1;for(let s=0;s<e.length;s++){const u=e[s];r=r||!!u&&Ho in u,e[s]=typeof u=="function"?(r=!0,_e(u)):u}if(hS&&r)return new Proxy({get(s){for(let u=e.length-1;u>=0;u--){const d=Wf(e[u])[s];if(d!==void 0)return d}},has(s){for(let u=e.length-1;u>=0;u--)if(s in Wf(e[u]))return!0;return!1},keys(){const s=[];for(let u=0;u<e.length;u++)s.push(...Object.keys(Wf(e[u])));return[...new Set(s)]}},ES);const t={},n=Object.create(null);for(let s=e.length-1;s>=0;s--){const u=e[s];if(!u)continue;const d=Object.getOwnPropertyNames(u);for(let h=d.length-1;h>=0;h--){const f=d[h];if(f==="__proto__"||f==="constructor")continue;const v=Object.getOwnPropertyDescriptor(u,f);if(!n[f])n[f]=v.get?{enumerable:!0,configurable:!0,get:TS.bind(t[f]=[v.get.bind(u)])}:v.value!==void 0?v:void 0;else{const m=t[f];m&&(v.get?m.push(v.get.bind(u)):v.value!==void 0&&m.push(()=>v.value))}}}const i={},o=Object.keys(n);for(let s=o.length-1;s>=0;s--){const u=o[s],d=n[u];d&&d.get?Object.defineProperty(i,u,d):i[u]=d?d.value:void 0}return i}const IS=e=>`Stale read from <${e}>.`;function li(e){const r="fallback"in e&&{fallback:()=>e.fallback};return _e(MS(()=>e.each,e.children,r||void 0))}function tt(e){const r=e.keyed,t=_e(()=>e.when,void 0,void 0),n=r?t:_e(t,void 0,{equals:(i,o)=>!i==!o});return _e(()=>{const i=n();if(i){const o=e.children;return typeof o=="function"&&o.length>0?Je(()=>o(r?i:()=>{if(!Je(n))throw IS("Show");return t()})):o}return e.fallback},void 0,void 0)}function LS(e,r,t){let n=t.length,i=r.length,o=n,s=0,u=0,d=r[i-1].nextSibling,h=null;for(;s<i||u<o;){if(r[s]===t[u]){s++,u++;continue}for(;r[i-1]===t[o-1];)i--,o--;if(i===s){const f=o<n?u?t[u-1].nextSibling:t[o-u]:d;for(;u<o;)e.insertBefore(t[u++],f)}else if(o===u)for(;s<i;)(!h||!h.has(r[s]))&&r[s].remove(),s++;else if(r[s]===t[o-1]&&t[u]===r[i-1]){const f=r[--i].nextSibling;e.insertBefore(t[u++],r[s++].nextSibling),e.insertBefore(t[--o],f),r[i]=t[o]}else{if(!h){h=new Map;let v=u;for(;v<o;)h.set(t[v],v++)}const f=h.get(r[s]);if(f!=null)if(u<f&&f<o){let v=s,m=1,C;for(;++v<i&&v<o&&!((C=h.get(r[v]))==null||C!==f+m);)m++;if(m>f-u){const b=r[s];for(;u<f;)e.insertBefore(t[u++],b)}else e.replaceChild(t[u++],r[s++])}else s++;else r[s++].remove()}}}const m2="_$DX_DELEGATE";function PS(e,r,t,n={}){let i;return w0(o=>{i=o,r===document?e():N(r,e(),r.firstChild?null:void 0,t)},n.owner),()=>{i(),r.textContent=""}}function re(e,r,t,n){let i;const o=()=>{const u=document.createElement("template");return u.innerHTML=e,u.content.firstChild},s=()=>(i||(i=o())).cloneNode(!0);return s.cloneNode=s,s}function _r(e,r=window.document){const t=r[m2]||(r[m2]=new Set);for(let n=0,i=e.length;n<i;n++){const o=e[n];t.has(o)||(t.add(o),r.addEventListener(o,AS))}}function Ge(e,r,t){t==null?e.removeAttribute(r):e.setAttribute(r,t)}function er(e,r){r==null?e.removeAttribute("class"):e.className=r}function Oi(e,r,t,n){Array.isArray(t)?(e[`$$${r}`]=t[0],e[`$$${r}Data`]=t[1]):e[`$$${r}`]=t}function La(e,r,t){if(!r)return t?Ge(e,"style"):r;const n=e.style;if(typeof r=="string")return n.cssText=r;typeof t=="string"&&(n.cssText=t=void 0),t||(t={}),r||(r={});let i,o;for(o in t)r[o]==null&&n.removeProperty(o),delete t[o];for(o in r)i=r[o],i!==t[o]&&(n.setProperty(o,i),t[o]=i);return t}function ra(e,r,t){return Je(()=>e(r,t))}function N(e,r,t,n){if(t!==void 0&&!n&&(n=[]),typeof r!="function")return vp(e,r,n,t);$e(i=>vp(e,r(),i,t),n)}function AS(e){let r=e.target;const t=`$$${e.type}`,n=e.target,i=e.currentTarget,o=d=>Object.defineProperty(e,"target",{configurable:!0,value:d}),s=()=>{const d=r[t];if(d&&!r.disabled){const h=r[`${t}Data`];if(h!==void 0?d.call(r,h,e):d.call(r,e),e.cancelBubble)return}return r.host&&typeof r.host!="string"&&!r.host._$host&&r.contains(e.target)&&o(r.host),!0},u=()=>{for(;s()&&(r=r._$host||r.parentNode||r.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}}),e.composedPath){const d=e.composedPath();o(d[0]);for(let h=0;h<d.length-2&&(r=d[h],!!s());h++){if(r._$host){r=r._$host,u();break}if(r.parentNode===i)break}}else u();o(n)}function vp(e,r,t,n,i){for(;typeof t=="function";)t=t();if(r===t)return t;const o=typeof r,s=n!==void 0;if(e=s&&t[0]&&t[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(r=r.toString(),r===t))return t;if(s){let u=t[0];u&&u.nodeType===3?u.data!==r&&(u.data=r):u=document.createTextNode(r),t=s0(e,t,n,u)}else t!==""&&typeof t=="string"?t=e.firstChild.data=r:t=e.textContent=r}else if(r==null||o==="boolean")t=s0(e,t,n);else{if(o==="function")return $e(()=>{let u=r();for(;typeof u=="function";)u=u();t=vp(e,u,t,n)}),()=>t;if(Array.isArray(r)){const u=[],d=t&&Array.isArray(t);if(yg(u,r,t,i))return $e(()=>t=vp(e,u,t,n,!0)),()=>t;if(u.length===0){if(t=s0(e,t,n),s)return t}else d?t.length===0?y2(e,u,n):LS(e,t,u):(t&&s0(e),y2(e,u));t=u}else if(r.nodeType){if(Array.isArray(t)){if(s)return t=s0(e,t,n,r);s0(e,t,null,r)}else t==null||t===""||!e.firstChild?e.appendChild(r):e.replaceChild(r,e.firstChild);t=r}}return t}function yg(e,r,t,n){let i=!1;for(let o=0,s=r.length;o<s;o++){let u=r[o],d=t&&t[e.length],h;if(!(u==null||u===!0||u===!1))if((h=typeof u)=="object"&&u.nodeType)e.push(u);else if(Array.isArray(u))i=yg(e,u,d)||i;else if(h==="function")if(n){for(;typeof u=="function";)u=u();i=yg(e,Array.isArray(u)?u:[u],Array.isArray(d)?d:[d])||i}else e.push(u),i=!0;else{const f=String(u);d&&d.nodeType===3&&d.data===f?e.push(d):e.push(document.createTextNode(f))}}return i}function y2(e,r,t=null){for(let n=0,i=r.length;n<i;n++)e.insertBefore(r[n],t)}function s0(e,r,t,n){if(t===void 0)return e.textContent="";const i=n||document.createTextNode("");if(r.length){let o=!1;for(let s=r.length-1;s>=0;s--){const u=r[s];if(i!==u){const d=u.parentNode===e;!o&&!s?d?e.replaceChild(i,u):e.insertBefore(i,t):d&&u.remove()}else o=!0}}else e.insertBefore(i,t);return[i]}const DS="http://www.w3.org/2000/svg";function FS(e,r=!1){return r?document.createElementNS(DS,e):document.createElement(e)}function RS(e){const{useShadow:r}=e,t=document.createTextNode(""),n=()=>e.mount||document.body,i=vS();let o;return pt(()=>{o||(o=mS(i,()=>_e(()=>e.children)));const s=n();if(s instanceof HTMLHeadElement){const[u,d]=pe(!1),h=()=>d(!0);w0(f=>N(s,()=>u()?f():o(),null)),Gn(h)}else{const u=FS(e.isSVG?"g":"div",e.isSVG),d=r&&u.attachShadow?u.attachShadow({mode:"open"}):u;Object.defineProperty(u,"_$host",{get(){return t.parentNode},configurable:!0}),N(d,o),s.appendChild(u),e.ref&&e.ref(u),Gn(()=>s.removeChild(u))}},void 0,{render:!0}),t}function xg(e,r){switch(e){case"Etc/UTC":return A("utc",r);case"Pacific/Honolulu":return A("honolulu",r);case"America/Juneau":return A("juneau",r);case"America/Los_Angeles":return A("los_angeles",r);case"America/Chicago":return A("chicago",r);case"America/Toronto":return A("toronto",r);case"America/Sao_Paulo":return A("sao_paulo",r);case"Europe/London":return A("london",r);case"Europe/Berlin":return A("berlin",r);case"Asia/Bahrain":return A("bahrain",r);case"Asia/Dubai":return A("dubai",r);case"Asia/Ashkhabad":return A("ashkhabad",r);case"Asia/Almaty":return A("almaty",r);case"Asia/Bangkok":return A("bangkok",r);case"Asia/Shanghai":return A("shanghai",r);case"Asia/Tokyo":return A("tokyo",r);case"Australia/Sydney":return A("sydney",r);case"Pacific/Norfolk":return A("norfolk",r)}return e}function OS(e){return[{key:"Etc/UTC",text:A("utc",e)},{key:"Pacific/Honolulu",text:A("honolulu",e)},{key:"America/Juneau",text:A("juneau",e)},{key:"America/Los_Angeles",text:A("los_angeles",e)},{key:"America/Chicago",text:A("chicago",e)},{key:"America/Toronto",text:A("toronto",e)},{key:"America/Sao_Paulo",text:A("sao_paulo",e)},{key:"Europe/London",text:A("london",e)},{key:"Europe/Berlin",text:A("berlin",e)},{key:"Asia/Bahrain",text:A("bahrain",e)},{key:"Asia/Dubai",text:A("dubai",e)},{key:"Asia/Ashkhabad",text:A("ashkhabad",e)},{key:"Asia/Almaty",text:A("almaty",e)},{key:"Asia/Bangkok",text:A("bangkok",e)},{key:"Asia/Shanghai",text:A("shanghai",e)},{key:"Asia/Tokyo",text:A("tokyo",e)},{key:"Australia/Sydney",text:A("sydney",e)},{key:"Pacific/Norfolk",text:A("norfolk",e)}]}let Ri=um();const NS=()=>({...Ri,grid:{...Ri.grid,horizontal:{...Ri.grid.horizontal,color:"rgb(178, 181, 190)"},vertical:{...Ri.grid.vertical,color:"rgb(178, 181, 190)"}}}),zS=()=>({...Ri,grid:{...Ri.grid,horizontal:{...Ri.grid.horizontal,color:"rgb(42, 46, 57)"},vertical:{...Ri.grid.vertical,color:"rgb(42, 46, 57)"}},xAxis:{...Ri.xAxis,axisLine:{...Ri.xAxis.axisLine,color:"rgb(42, 46, 57)"}},yAxis:{...Ri.yAxis,axisLine:{...Ri.yAxis.axisLine,color:"rgb(42, 46, 57)"}}}),Ea=e=>e==="Light Theme 1"||e==="Light Theme 2"?NS():zS(),BS=e=>{Ri=at.merge({},Ri,e)},VS=()=>(console.warn("No getStoreCallback set."),null),$S=()=>(console.warn("No updateStoreCallback set."),null),WS=()=>(console.warn("No deleteStoreCallback set."),null);class US{async getAllLayouts(){try{return console.warn("Retrieving from Store"),op&&!VS()?(console.warn("No callback is set. "),{}):localStorage}catch(r){console.warn("Error getting all layouts: ",r)}return{}}async removeStorage(r){try{if(op){const t=WS();t&&await t(r)}else localStorage.removeItem(r)}catch(t){console.warn("Error removing storage: ",t)}}async addToStore(r,t){try{if(op){const n=$S();n&&await n(r,t)}else localStorage.setItem(r,JSON.stringify(t))}catch(n){console.warn("Error updating storage: ",n)}}getLayoutEntry(r,t){return Object.entries(t).map(([n,i])=>({key:n,value:i})).find(n=>n.key===r)}async getLayoutFromStore(r){try{const t=await this.getAllLayouts();if(t instanceof Storage)return JSON.parse(t.getItem(r));const n=this.getLayoutEntry(r,t);return n?n.value:null}catch(t){console.warn("Error getting layout from store: ",t)}return{indicatorStore:{indicators:[]},stylesStore:{},overlayStore:{overlay:{},tickerInfo:{}}}}}const[x2,HS]=pe(null),[YS,Bg]=pe("default"),[XS,C2]=pe(!1),v0=()=>({indicatorStore:{indicators:[]},stylesStore:$r()==="Light Theme 1"||$r()==="Light Theme 2"?Ea("Light Theme 1"):Ea("Dark Theme"),overlayStore:[]}),o5=class l5{constructor(r){Re(this,"chart"),Re(this,"storageProvider"),Re(this,"stylesStore","stylesStore"),Re(this,"indicatorStore","indicatorStore"),Re(this,"overlayStore","overlayStore"),Re(this,"defaultLayoutStore","default_mainStore"),this.chart=r,this.storageProvider=new US}static getInstance(r){return this.instances.has(r)||this.instances.set(r,new l5(r)),this.instances.get(r)}get getSelectedLayoutName(){return(Je(YS).replace(/\s+/g,"")??"default")+"_mainStore"}getDefaultLayout(){return this.defaultLayoutStore.replace("_mainStore","")}isDefaultLayout(){return this.getSelectedLayoutName===this.defaultLayoutStore}async getNameOfAllLayouts(){try{const r=[],t=await this.storageProvider.getAllLayouts();let n=0;r.push(this.getDefaultLayout()),t instanceof Storage?n=t.length:n=Object.keys(t).length;for(let i=0;i<n;i++)if(t instanceof Storage){const o=t.key(i);o!=null&&o.endsWith("_mainStore")&&r.push(o.replace("_mainStore",""))}else{const o=Object.keys(t)[i];o.endsWith("_mainStore")&&r.push(o.replace("_mainStore",""))}return r}catch(r){console.warn("Error getting the list of all names for layouts: ",r)}return[]}saveIndicators(){if(!(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore))try{const r=this.createIndicatorStoreFromChart();this.addDataToLayout(this.indicatorStore,r)}catch(r){console.warn("Error saving indicators:",r)}}async getIndicators(r){try{if(this.getSelectedLayoutName===this.defaultLayoutStore)return{indicators:[]};if(r){const t=r[this.indicatorStore];if(t)return t}}catch(t){console.warn("Error getting indicators: ",t)}return{indicators:[]}}saveStyles(){if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore)return;const r=this.getStylesFromChart();if(r)try{this.addDataToLayout(this.stylesStore,r)}catch(t){console.warn("Error saving styles:",t)}}async getStyles(r){if(this.getSelectedLayoutName===this.defaultLayoutStore)return null;try{if(r){const t=r[this.stylesStore];if(t)return t}}catch(t){console.warn("Error getting styles:",t)}return null}removeNullValuesAndSpecificFields(r,t){const n={};for(const i in r){const o=r[i];t.includes(i)||o!==null&&(typeof o=="object"&&!Array.isArray(o)?n[i]=this.removeNullValuesAndSpecificFields(o,t):n[i]=o)}return n}async saveOverlay(r){if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore||r===null||x2()===null)return;const t={overlay:this.removeNullValuesAndSpecificFields(r,["visible","lock","zLevel","mode","needDefaultPointFigure","needDefaultXAxisFigure","needDefaultYAxisFigure","modeSensitivity","totalStep","currentStep","groupId","_prevPressedPoints","logo","paneId","createPointFigures","createYAxisFigures","createXAxisFigures","onDrawStart","onDrawing","onDrawEnd","onPressedMoveStart","onPressedMoving","onPressedMoveEnd","onMoveStart","onMoving","onMoveEnd","onRightClick","onClick"]),tickerInfo:this.getActiveChartTicker()};try{const n=await this.getLayoutFromStore()??v0();let i=await this.getOverlays(n);Array.isArray(i)||(i=[]),i==null||i.push(t),this.addDataToLayout(this.overlayStore,i)}catch(n){console.warn("Error saving overlay:",n)}}async overrideOverlay(r){try{if(!this.chart||this.getSelectedLayoutName===this.defaultLayoutStore||r===null)return;const t=await this.getLayoutFromStore()??v0();let n=await this.getOverlays(t);if(!n||n.length===0){console.warn("No overlays found, nothing to override");return}n.forEach(i=>{i.overlay.id===(r==null?void 0:r.id)&&(console.log("Found overlay in store, overriding... ",r==null?void 0:r.id),i.overlay.styles=r.styles,r.extendData&&(i.overlay.extendData=r.extendData))}),this.addDataToLayout(this.overlayStore,n)}catch(t){console.warn("Error overriding overlay: ",t)}}async deleteOverlay(r){if(!(!this.chart||!this.getSelectedLayoutName))try{this.chart.removeOverlay(r);const t=await this.getLayoutFromStore();if(t){console.log("Deleting overlay for ticker: ",this.getActiveChartTicker());const n=t.overlayStore.filter(i=>i.overlay.id!==r.id);await this.addDataToLayout(this.overlayStore,n)}else console.warn("Unable to delete overlay, layout not found")}catch(t){console.warn("Error deleting overlay:",t)}}async getOverlays(r){if(this.getSelectedLayoutName===this.defaultLayoutStore)return[];if(r){const t=r[this.overlayStore];if(t)return t}return[]}async removeAllOverlays(r=!1){var t;if((t=this.chart.getOverlays())==null||t.forEach(n=>{this.chart.removeOverlay(n)}),r){const n=await this.getLayoutFromStore();n&&(at.forEach(n.overlayStore,i=>{var o;i.tickerInfo.ticker===((o=this.getActiveChartTicker())==null?void 0:o.ticker)&&(n.overlayStore=n.overlayStore.filter(s=>s!==i))}),this.addDataToLayout(this.overlayStore,n.overlayStore))}}async updateLayoutName(r){if(this.getSelectedLayoutName!==this.defaultLayoutStore)try{const t=await this.getLayoutFromStore()??v0();if(t){const n=r.replace(/\s+/g,"")+"_mainStore",i={indicatorStore:t[this.indicatorStore],stylesStore:t[this.stylesStore],overlayStore:t[this.overlayStore]};await this.storageProvider.addToStore(n,i),await this.storageProvider.removeStorage(this.getSelectedLayoutName),Bg(r)}}catch(t){console.warn("Error updating store name:",t)}}getActiveChartTicker(){return x2()}async removeStorage(){this.getSelectedLayoutName!==this.getDefaultLayout()&&await this.storageProvider.removeStorage(this.getSelectedLayoutName)}async addDataToLayout(r,t){try{console.warn("Adding data to Store");let n;if(XS()?n=await this.getLayoutFromStore()??v0():n=this.createLayoutFromChart(),n){const i=n instanceof Storage?JSON.parse(n):n;i&&(i[r]=t,await this.storageProvider.addToStore(this.getSelectedLayoutName,i))}}catch(n){console.warn("Error updating storage: ",n)}}async getLayoutFromStore(){return await this.storageProvider.getLayoutFromStore(this.getSelectedLayoutName)}getDefaultLayoutData(){return v0()}createLayoutFromChart(){var r;const t=this.createIndicatorStoreFromChart(),n=this.getStylesFromChart(),i=[];return(r=this.chart.getOverlays())==null||r.forEach(o=>{i.push({overlay:o,tickerInfo:this.getActiveChartTicker()})}),{indicatorStore:t,stylesStore:n,overlayStore:i}}createIndicatorStoreFromChart(){const r=this.chart.getIndicators(),t=r.filter(i=>i.paneId==="candle_pane");r.forEach(i=>{y1.forEach(o=>{o===i.name&&t.push(i)})});const n=[];return at.forEach(t,i=>{n.push(i.name)}),{indicators:n}}getStylesFromChart(){return this.chart.getStyles()}};Re(o5,"instances",new Map);let St=o5;function mp(e,r,t,n,i){const o={name:r,visible:!0,createTooltipDataSource:({indicator:u,crosshair:d})=>{var h,f;const v=u.result,m=((f=(h=d.kLineData)==null?void 0:h.timestamp)==null?void 0:f.toString())??"",C=v[m],b=[];if(C){for(const z in C)if(Object.prototype.hasOwnProperty.call(C,z)&&C[z]!==void 0){let R=e.getStyles().indicator.lines[b.length%e.getStyles().indicator.lines.length].color;const V=u.styles;V&&(V.lines?R=V.lines[b.length%V.lines.length].color:V.circles&&(R=V.circles[b.length%V.circles.length].upColor)),b.push({title:z.toUpperCase()+": ",value:{text:C[z].toFixed(2),color:R}})}}const _=[],k=e.getStyles().indicator.tooltip.features,S=k.find(z=>z.id==="visible"),T=k.find(z=>z.id==="invisible"),I=k.find(z=>z.id==="setting"),P=k.find(z=>z.id==="close"),L=z=>z&&{...z,marginTop:2,marginLeft:4};return u.visible?(S&&_.push(L(S)),I&&_.push(L(I)),P&&_.push(L(P))):(T&&_.push(L(T)),I&&_.push(L(I)),P&&_.push(L(P))),{name:u.name,calcParamsText:"",features:_,legends:b}}},s=(e==null?void 0:e.createIndicator(o,n,i))??null;return t&&St.getInstance(e).saveIndicators(),s}const jS=(e,r,t)=>{let n=r,i=n;switch(e.timespan){case"minute":{n=n-n%(60*1e3),i=n-t*e.multiplier*60*1e3;break}case"hour":{n=n-n%(60*60*1e3),i=n-t*e.multiplier*60*60*1e3;break}case"day":{n=n-n%(60*60*1e3),i=n-t*e.multiplier*24*60*60*1e3;break}case"week":{const o=new Date(n).getDay(),s=o===0?6:o-1;n=n-s*60*60*24;const u=new Date(n);n=new Date(`${u.getFullYear()}-${u.getMonth()+1}-${u.getDate()}`).getTime(),i=t*e.multiplier*7*24*60*60*1e3;break}case"month":{const o=new Date(n),s=o.getFullYear(),u=o.getMonth()+1;n=new Date(`${s}-${u}-01`).getTime(),i=t*e.multiplier*30*24*60*60*1e3;const d=new Date(i);i=new Date(`${d.getFullYear()}-${d.getMonth()+1}-01`).getTime();break}case"year":{const o=new Date(n).getFullYear();n=new Date(`${o}-01-01`).getTime(),i=t*e.multiplier*365*24*60*60*1e3;const s=new Date(i);i=new Date(`${s.getFullYear()}-01-01`).getTime();break}}return[i,n]},GS=e=>{e.getIndicators().forEach(r=>{at.forEach(r,t=>{e.removeIndicator(t)})})};var KS=re("<button>");const s5=e=>(()=>{var r=KS();return Oi(r,"click",e.onClick),N(r,()=>e.children),$e(t=>{var n=e.style,i=`chartspire-ui-button ${e.type??"confirm"} ${e.class??""}`;return t.e=La(r,n,t.e),i!==t.t&&er(r,t.t=i),t},{e:void 0,t:void 0}),r})();_r(["click"]);var QS=re('<svg viewBox="0 0 1024 1024"class=icon><path d="M810.666667 128H213.333333c-46.933333 0-85.333333 38.4-85.333333 85.333333v597.333334c0 46.933333 38.4 85.333333 85.333333 85.333333h597.333334c46.933333 0 85.333333-38.4 85.333333-85.333333V213.333333c0-46.933333-38.4-85.333333-85.333333-85.333333z m-353.706667 567.04a42.496 42.496 0 0 1-60.16 0L243.626667 541.866667c-8.106667-8.106667-12.373333-18.773333-12.373334-29.866667s4.693333-22.186667 12.373334-29.866667a42.496 42.496 0 0 1 60.16 0L426.666667 604.586667l293.546666-293.546667a42.496 42.496 0 1 1 60.16 60.16l-323.413333 323.84z">'),ZS=re('<svg viewBox="0 0 1024 1024"class=icon><path d="M245.333333 128h533.333334A117.333333 117.333333 0 0 1 896 245.333333v533.333334A117.333333 117.333333 0 0 1 778.666667 896H245.333333A117.333333 117.333333 0 0 1 128 778.666667V245.333333A117.333333 117.333333 0 0 1 245.333333 128z m0 64c-29.44 0-53.333333 23.893333-53.333333 53.333333v533.333334c0 29.44 23.893333 53.333333 53.333333 53.333333h533.333334c29.44 0 53.333333-23.893333 53.333333-53.333333V245.333333c0-29.44-23.893333-53.333333-53.333333-53.333333H245.333333z">'),qS=re("<div>"),JS=re("<span class=label>");const eM=()=>QS(),tM=()=>ZS(),rM=e=>{const[r,t]=pe(e.checked??!1);return pt(()=>{"checked"in e&&t(e.checked)}),(()=>{var n=qS();return n.$$click=i=>{const o=!r();e.onChange!=null&&e.onChange(o),t(o)},N(n,(()=>{var i=_e(()=>!!e.label);return()=>i()&&(()=>{var o=JS();return N(o,()=>e.label),o})()})(),null),N(n,(()=>{var i=_e(()=>!!r());return()=>i()?oe(eM,{}):oe(tM,{})})(),null),$e(i=>{var o=e.style,s=`chartspire-ui-checkbox ${r()&&"checked"||""} ${e.class||""}`;return i.e=La(n,o,i.e),s!==i.t&&er(n,i.t=s),i},{e:void 0,t:void 0}),n})()};_r(["click"]);var nM=re("<div class=chartspire-ui-loading><div class=loading-container><div class=spinner><div class=spinner-ring></div><div class=spinner-ring></div><div class=spinner-ring></div></div><div class=loading-text>Loading...");const c5=()=>nM();var iM=re('<div class=chartspire-ui-empty><svg class=icon viewBox="0 0 1024 1024"><path d="M855.6 427.2H168.5c-12.7 0-24.4 6.9-30.6 18L4.4 684.7C1.5 689.9 0 695.8 0 701.8v287.1c0 19.4 15.7 35.1 35.1 35.1H989c19.4 0 35.1-15.7 35.1-35.1V701.8c0-6-1.5-11.8-4.4-17.1L886.2 445.2c-6.2-11.1-17.9-18-30.6-18zM673.4 695.6c-16.5 0-30.8 11.5-34.3 27.7-12.7 58.5-64.8 102.3-127.2 102.3s-114.5-43.8-127.2-102.3c-3.5-16.1-17.8-27.7-34.3-27.7H119c-26.4 0-43.3-28-31.1-51.4l81.7-155.8c6.1-11.6 18-18.8 31.1-18.8h622.4c13 0 25 7.2 31.1 18.8l81.7 155.8c12.2 23.4-4.7 51.4-31.1 51.4H673.4zM819.9 209.5c-1-1.8-2.1-3.7-3.2-5.5-9.8-16.6-31.1-22.2-47.8-12.6L648.5 261c-17 9.8-22.7 31.6-12.6 48.4 0.9 1.4 1.7 2.9 2.5 4.4 9.5 17 31.2 22.8 48 13L807 257.3c16.7-9.7 22.4-31 12.9-47.8zM375.4 261.1L255 191.6c-16.7-9.6-38-4-47.8 12.6-1.1 1.8-2.1 3.6-3.2 5.5-9.5 16.8-3.8 38.1 12.9 47.8L337.3 327c16.9 9.7 38.6 4 48-13.1 0.8-1.5 1.7-2.9 2.5-4.4 10.2-16.8 4.5-38.6-12.4-48.4zM512 239.3h2.5c19.5 0.3 35.5-15.5 35.5-35.1v-139c0-19.3-15.6-34.9-34.8-35.1h-6.4C489.6 30.3 474 46 474 65.2v139c0 19.5 15.9 35.4 35.5 35.1h2.5z">');const aM=()=>iM();var oM=re("<ul>"),lM=re("<li>");const u5=e=>(()=>{var r=oM();return N(r,oe(tt,{get when(){return e.loading},get children(){return oe(c5,{})}}),null),N(r,oe(tt,{get when(){var t;return!e.loading&&!e.children&&!((t=e.dataSource)!=null&&t.length)},get children(){return oe(aM,{})}}),null),N(r,oe(tt,{get when(){return e.children},get children(){return e.children}}),null),N(r,oe(tt,{get when(){return!e.children},get children(){var t;return(t=e.dataSource)==null?void 0:t.map(n=>{var i;return((i=e.renderItem)==null?void 0:i.call(e,n))??lM()})}}),null),$e(t=>{var n=e.style,i=`chartspire-ui-list ${e.class??""}`;return t.e=La(r,n,t.e),i!==t.t&&er(r,t.t=i),t},{e:void 0,t:void 0}),r})();var sM=re('<div class=chartspire-ui-modal><div class=inner><div class=title-container><svg class=close-icon viewBox="0 0 1024 1024"><path d="M934.184927 199.723787 622.457206 511.452531l311.727721 311.703161c14.334473 14.229073 23.069415 33.951253 23.069415 55.743582 0 43.430138-35.178197 78.660524-78.735226 78.660524-21.664416 0-41.361013-8.865925-55.642275-23.069415L511.149121 622.838388 199.420377 934.490384c-14.204513 14.20349-33.901111 23.069415-55.642275 23.069415-43.482327 0-78.737272-35.230386-78.737272-78.660524 0-21.792329 8.864902-41.513486 23.094998-55.743582l311.677579-311.703161L88.135828 199.723787c-14.230096-14.255679-23.094998-33.92567-23.094998-55.642275 0-43.430138 35.254945-78.762855 78.737272-78.762855 21.741163 0 41.437761 8.813736 55.642275 23.069415l311.727721 311.727721L822.876842 88.389096c14.281261-14.255679 33.977859-23.069415 55.642275-23.069415 43.557028 0 78.735226 35.332716 78.735226 78.762855C957.254342 165.798117 948.5194 185.468109 934.184927 199.723787"></path></svg></div><div class=content-container>'),cM=re("<div class=button-container>");const Bl=e=>(()=>{var r=sM(),t=r.firstChild,n=t.firstChild,i=n.firstChild,o=n.nextSibling;return N(n,()=>e.title,i),Oi(i,"click",e.onClose),N(o,()=>e.children),N(t,(()=>{var s=_e(()=>e.buttons!=null&&e.buttons.length>0);return()=>s()&&(()=>{var u=cM();return N(u,()=>e.buttons.map(d=>oe(s5,Lp(d,{get children(){return d.children}})))),$e(d=>(d=e.buttonContainerPadding??"15px 20px 15px")!=null?u.style.setProperty("padding",d):u.style.removeProperty("padding")),u})()})(),null),$e(s=>{var u=`${e.width??400}px`,d=`${e.height??"80%"}`,h={...e.contentHeight!==void 0&&{height:typeof e.contentHeight=="string"?e.contentHeight:`${e.contentHeight}px`},padding:e.padding??"0 26px"};return u!==s.e&&((s.e=u)!=null?t.style.setProperty("width",u):t.style.removeProperty("width")),d!==s.t&&((s.t=d)!=null?t.style.setProperty("height",d):t.style.removeProperty("height")),s.a=La(o,h,s.a),s},{e:void 0,t:void 0,a:void 0}),r})();_r(["click"]);var uM=re("<div tabindex=0><div class=selector-container><span class=value></span><i class=arrow>"),dM=re("<div class=drop-down-container><ul>"),hM=re("<li>");const S1=e=>{const[r,t]=pe(!1),[n,i]=pe(e.value);return(()=>{var o=uM(),s=o.firstChild,u=s.firstChild;return o.addEventListener("blur",d=>{t(!1)}),o.$$click=d=>{t(h=>!h)},N(u,n),N(o,(()=>{var d=_e(()=>e.dataSource!=null&&e.dataSource.length>0);return()=>d()&&(()=>{var h=dM(),f=h.firstChild;return N(f,()=>e.dataSource.map(v=>{const m=v[e.valueKey??"text"]??v;return(()=>{var C=hM();return C.$$click=b=>{var _;b.stopPropagation(),n()!==m&&(i(m),(_=e.onSelected)==null||_.call(e,v)),t(!1)},N(C,m),C})()})),h})()})(),null),$e(d=>{var h=e.style,f=`chartspire-ui-select ${e.class??""} ${r()?"chartspire-ui-select-show":""}`;return d.e=La(o,h,d.e),f!==d.t&&er(o,d.t=f),d},{e:void 0,t:void 0}),o})()};_r(["click"]);var pM=re("<span class=prefix>"),fM=re("<span class=suffix>"),gM=re("<div><input class=value>");const Dl=e=>{const r=Lp({min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER},e);let t;const[n,i]=pe("normal");return(()=>{var o=gM(),s=o.firstChild;return o.$$click=()=>{t==null||t.focus()},N(o,oe(tt,{get when(){return r.prefix},get children(){var u=pM();return N(u,()=>r.prefix),u}}),s),Oi(s,"input",r.onInput),s.addEventListener("change",u=>{var d,h;const f=u.target.value;if("precision"in r){let v;const m=Math.max(0,Math.floor(r.precision));m<=0?v=new RegExp(/^[1-9]\d*$/):v=new RegExp("^\\d+\\.?\\d{0,"+m+"}$"),(f===""||v.test(f)&&+f>=r.min&&+f<=r.max)&&((d=r.onChange)==null||d.call(r,f===""?f:+f))}else(h=r.onChange)==null||h.call(r,f)}),s.addEventListener("blur",()=>{i("normal")}),s.addEventListener("focus",()=>{i("focus")}),ra(u=>{t=u},s),N(o,oe(tt,{get when(){return r.suffix},get children(){var u=fM();return N(u,()=>r.suffix),u}}),null),$e(u=>{var d=r.style,h=`chartspire-ui-input ${r.class??""}`,f=n(),v=r.placeholder??"";return u.e=La(o,d,u.e),h!==u.t&&er(o,u.t=h),f!==u.a&&Ge(o,"data-status",u.a=f),v!==u.o&&Ge(s,"placeholder",u.o=v),u},{e:void 0,t:void 0,a:void 0,o:void 0}),$e(()=>s.value=r.value),o})()};_r(["click","input"]);var vM=re("<div><i class=thumb>");const mM=e=>(()=>{var r=vM();return r.$$click=t=>{e.onChange&&e.onChange()},$e(t=>{var n=e.style,i=`chartspire-ui-switch ${e.open?"turn-on":"turn-off"} ${e.class??""}`;return t.e=La(r,n,t.e),i!==t.t&&er(r,t.t=i),t},{e:void 0,t:void 0}),r})();_r(["click"]);var yM=re('<div class=chartspire-ui-modal-light><div><div class=title-container><div class=title-content><svg class=drag-handle viewBox="0 0 24 24"fill=currentColor><circle cx=8 cy=6 r=2></circle><circle cx=8 cy=12 r=2></circle><circle cx=8 cy=18 r=2></circle><circle cx=16 cy=6 r=2></circle><circle cx=16 cy=12 r=2></circle><circle cx=16 cy=18 r=2></circle></svg><span class=title-text></span></div><svg class=close-icon viewBox="0 0 1024 1024"><path d="M934.184927 199.723787 622.457206 511.452531l311.727721 311.703161c14.334473 14.229073 23.069415 33.951253 23.069415 55.743582 0 43.430138-35.178197 78.660524-78.735226 78.660524-21.664416 0-41.361013-8.865925-55.642275-23.069415L511.149121 622.838388 199.420377 934.490384c-14.204513 14.20349-33.901111 23.069415-55.642275 23.069415-43.482327 0-78.737272-35.230386-78.737272-78.660524 0-21.792329 8.864902-41.513486 23.094998-55.743582l311.677579-311.703161L88.135828 199.723787c-14.230096-14.255679-23.094998-33.92567-23.094998-55.642275 0-43.430138 35.254945-78.762855 78.737272-78.762855 21.741163 0 41.437761 8.813736 55.642275 23.069415l311.727721 311.727721L822.876842 88.389096c14.281261-14.255679 33.977859-23.069415 55.642275-23.069415 43.557028 0 78.735226 35.332716 78.735226 78.762855C957.254342 165.798117 948.5194 185.468109 934.184927 199.723787">'),xM=re("<div class=alert-content><div class=alert-message><p>"),CM=re("<div class=content-container>"),bM=re("<div class=button-container>");const wM=e=>{const[r,t]=pe("chartspire-ui-modal-light"),n="Select starting candle by clicking on candle",[i,o]=pe({x:0,y:0});let s,u,d=null;return pt(()=>{t(e.isPLaying()?"inner -transparent":"inner")}),Ia(()=>{let h=!1,f={x:0,y:0};const v=T=>"touches"in T&&T.touches.length>0?{clientX:T.touches[0].clientX,clientY:T.touches[0].clientY}:{clientX:T.clientX,clientY:T.clientY},m=T=>{if(!s||!u||T.target.closest(".close-icon"))return;h=!0;const I=v(T),P=s.getBoundingClientRect(),L=s.offsetParent,z=L?L.getBoundingClientRect():{left:0,top:0};f={x:I.clientX-(P.left-z.left),y:I.clientY-(P.top-z.top)},document.addEventListener("mousemove",C),document.addEventListener("mouseup",b),document.addEventListener("touchmove",C,{passive:!1}),document.addEventListener("touchend",b),T.preventDefault()},C=T=>{if(!h||!s)return;const I=v(T),P=s.offsetParent,L=P?P.getBoundingClientRect():{left:0,top:0,width:window.innerWidth,height:window.innerHeight},z=I.clientX-L.left-f.x,R=I.clientY-L.top-f.y,V=s.offsetWidth,$=s.offsetHeight,W=L.width-V,te=L.height-$,ue=Math.max(0,Math.min(z,W)),Y=Math.max(0,Math.min(R,te));o({x:ue,y:Y}),"touches"in T&&h&&T.preventDefault()},b=()=>{h=!1,_()},_=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",C),document.removeEventListener("touchend",b)},k=()=>{u&&(u.removeEventListener("mousedown",m),u.removeEventListener("touchstart",m))},S=()=>{h=!1,_(),k()};return d=S,u&&(u.addEventListener("mousedown",m),u.addEventListener("touchstart",m,{passive:!1})),S}),Gn(()=>{d&&(console.log("onCleanup replay modal"),d())}),(()=>{var h=yM(),f=h.firstChild,v=f.firstChild,m=v.firstChild,C=m.firstChild,b=C.nextSibling,_=m.nextSibling,k=s;typeof k=="function"?ra(k,h):s=h;var S=u;return typeof S=="function"?ra(S,v):u=v,N(b,()=>e.title),Oi(_,"click",e.onClose),N(f,(()=>{var T=_e(()=>!!e.showAlert);return()=>T()&&(()=>{var I=xM(),P=I.firstChild,L=P.firstChild;return N(L,()=>e.alertMessage||n),I})()})(),null),N(f,(()=>{var T=_e(()=>!e.showAlert);return()=>T()&&[(()=>{var I=CM();return N(I,()=>e.children),I})(),_e(()=>_e(()=>e.buttons!=null&&e.buttons.length>0)()&&(()=>{var I=bM();return I.style.setProperty("padding","20px 30px 20px"),N(I,()=>e.buttons.map(P=>oe(s5,Lp(P,{get children(){return P.children}})))),I})())]})(),null),$e(T=>{var I={...(i().x!==0||i().y!==0)&&{left:`${i().x}px`,top:`${i().y}px`,transform:"none"}},P=r();return T.e=La(h,I,T.e),P!==T.t&&er(f,T.t=P),T},{e:void 0,t:void 0}),h})()};_r(["click"]);function to(e){if(e==null)return Vr.getDefaultDataFeed();switch(e){case kt.STOCKS:if(Vr.hasStockDataFeed())return Vr.getStockDataFeed();break;case kt.CRYPTO:if(Vr.hasCryptoDataFeed())return Vr.getCryptoDataFeed();break;case kt.FOREX:if(Vr.hasForexDataFeed())return Vr.getForexDataFeed();break;case kt.FUTURES:if(Vr.hasFuturesDataFeed())return Vr.getFuturesDataFeed();break}return Vr.getDefaultDataFeed()}function _M(e){let r=null;if(e.defaultDataFeed?r=e.defaultDataFeed:e.stockDataFeed?r=e.stockDataFeed:e.cryptoDataFeed?r=e.cryptoDataFeed:e.forexDataFeed?r=e.forexDataFeed:e.futuresDataFeed?r=e.futuresDataFeed:r=null,r==null)throw alert("No data feed set, please set `options.defaultDataFeed` or use `options.stockDataFeed`, `options.cryptoDataFeed`, `options.forexDataFeed`, or `options.futuresDataFeed`"),new Error("No data feed set, please set `options.defaultDataFeed` or use `options.stockDataFeed`, `options.cryptoDataFeed`, `options.forexDataFeed`, or `options.futuresDataFeed`");Vr.setDefaultDataFeed(r),Vr.setStockDataFeed(e.stockDataFeed??null),Vr.setCryptoDataFeed(e.cryptoDataFeed??null),Vr.setForexDataFeed(e.forexDataFeed??null),Vr.setFuturesDataFeed(e.futuresDataFeed??null)}var kM=re("<div class=chartspire-ui-filter-tags>"),SM=re('<svg viewBox="0 0 1024 1024"><path d="M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z">'),MM=re("<span>"),EM=re("<img alt=symbol>"),TM=re("<li><div><span>");const d5=e=>{const[r,t]=pe(kt.STOCKS),n=_e(()=>to(r())),i=Object.values(kt).filter(d=>{switch(d){case kt.STOCKS:return e.stockDataFeed!==null;case kt.CRYPTO:return e.cryptoDataFeed!==null;case kt.FOREX:return e.forexDataFeed!==null;case kt.FUTURES:return e.futuresDataFeed!==null;default:return!0}}),[o,s]=pe(""),[u]=gS(()=>[o(),r()],async([d,h])=>await n().searchTickers(d,h));return oe(Bl,{get title(){return A("symbol_search",e.locale)},width:460,get onClose(){return e.onClose},get children(){return[oe(Dl,{class:"chartspire-ui-symbol-search-modal-input",get placeholder(){return A("symbol_code",e.locale)},get suffix(){return SM()},get value(){return o()},onChange:d=>{s(`${d}`)}}),(()=>{var d=kM();return N(d,()=>i.map(h=>(()=>{var f=MM();return f.$$click=()=>{t(h),h===kt.CRYPTO?t(kt.CRYPTO):h===kt.STOCKS?t(kt.STOCKS):h===kt.FOREX?t(kt.FOREX):h===kt.FUTURES?t(kt.FUTURES):(console.warn("Using default datafeed - crypto"),t(kt.CRYPTO))},N(f,h),$e(()=>er(f,`chartspire-ui-tag ${r()===h?"selected":""}`)),f})())),d})(),oe(u5,{class:"chartspire-ui-symbol-search-modal-list",get loading(){return u.loading},get dataSource(){return u()??[]},renderItem:d=>(()=>{var h=TM(),f=h.firstChild,v=f.firstChild;return h.$$click=()=>{e.onTickerSelected(d),e.onClose()},N(f,oe(tt,{get when(){return d.logo},get children(){var m=EM();return $e(()=>Ge(m,"src",d.logo)),m}}),v),N(v,()=>d.shortName??d.ticker,null),N(v,()=>`${d.name!=null?`(${d.name})`:""}`,null),N(h,()=>d.exchange??"",null),$e(()=>Ge(v,"title",d.name??"")),h})()})]}})};_r(["click"]);const Cg=Symbol("store-raw"),_0=Symbol("store-node"),Ll=Symbol("store-has"),h5=Symbol("store-self");function p5(e){let r=e[Ho];if(!r&&(Object.defineProperty(e,Ho,{value:r=new Proxy(e,PM)}),!Array.isArray(e))){const t=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,o=t.length;i<o;i++){const s=t[i];n[s].get&&Object.defineProperty(e,s,{enumerable:n[s].enumerable,get:n[s].get.bind(r)})}}return r}function yp(e){let r;return e!=null&&typeof e=="object"&&(e[Ho]||!(r=Object.getPrototypeOf(e))||r===Object.prototype||Array.isArray(e))}function C1(e,r=new Set){let t,n,i,o;if(t=e!=null&&e[Cg])return t;if(!yp(e)||r.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):r.add(e);for(let s=0,u=e.length;s<u;s++)i=e[s],(n=C1(i,r))!==i&&(e[s]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):r.add(e);const s=Object.keys(e),u=Object.getOwnPropertyDescriptors(e);for(let d=0,h=s.length;d<h;d++)o=s[d],!u[o].get&&(i=e[o],(n=C1(i,r))!==i&&(e[o]=n))}return e}function xp(e,r){let t=e[r];return t||Object.defineProperty(e,r,{value:t=Object.create(null)}),t}function b1(e,r,t){if(e[r])return e[r];const[n,i]=pe(t,{equals:!1,internal:!0});return n.$=i,e[r]=n}function IM(e,r){const t=Reflect.getOwnPropertyDescriptor(e,r);return!t||t.get||!t.configurable||r===Ho||r===_0||(delete t.value,delete t.writable,t.get=()=>e[Ho][r]),t}function f5(e){gg()&&b1(xp(e,_0),h5)()}function LM(e){return f5(e),Reflect.ownKeys(e)}const PM={get(e,r,t){if(r===Cg)return e;if(r===Ho)return t;if(r===fg)return f5(e),t;const n=xp(e,_0),i=n[r];let o=i?i():e[r];if(r===_0||r===Ll||r==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,r);gg()&&(typeof o!="function"||e.hasOwnProperty(r))&&!(s&&s.get)&&(o=b1(n,r,o)())}return yp(o)?p5(o):o},has(e,r){return r===Cg||r===Ho||r===fg||r===_0||r===Ll||r==="__proto__"?!0:(gg()&&b1(xp(e,Ll),r)(),r in e)},set(){return!0},deleteProperty(){return!0},ownKeys:LM,getOwnPropertyDescriptor:IM};function Cp(e,r,t,n=!1){if(!n&&e[r]===t)return;const i=e[r],o=e.length;t===void 0?(delete e[r],e[Ll]&&e[Ll][r]&&i!==void 0&&e[Ll][r].$()):(e[r]=t,e[Ll]&&e[Ll][r]&&i===void 0&&e[Ll][r].$());let s=xp(e,_0),u;if((u=b1(s,r,i))&&u.$(()=>t),Array.isArray(e)&&e.length!==o){for(let d=e.length;d<o;d++)(u=s[d])&&u.$();(u=b1(s,"length",o))&&u.$(e.length)}(u=s[h5])&&u.$()}function g5(e,r){const t=Object.keys(r);for(let n=0;n<t.length;n+=1){const i=t[n];Cp(e,i,r[i])}}function AM(e,r){if(typeof r=="function"&&(r=r(e)),r=C1(r),Array.isArray(r)){if(e===r)return;let t=0,n=r.length;for(;t<n;t++){const i=r[t];e[t]!==i&&Cp(e,t,i)}Cp(e,"length",n)}else g5(e,r)}function a1(e,r,t=[]){let n,i=e;if(r.length>1){n=r.shift();const s=typeof n,u=Array.isArray(e);if(Array.isArray(n)){for(let d=0;d<n.length;d++)a1(e,[n[d]].concat(r),t);return}else if(u&&s==="function"){for(let d=0;d<e.length;d++)n(e[d],d)&&a1(e,[d].concat(r),t);return}else if(u&&s==="object"){const{from:d=0,to:h=e.length-1,by:f=1}=n;for(let v=d;v<=h;v+=f)a1(e,[v].concat(r),t);return}else if(r.length>1){a1(e[n],r,[n].concat(t));return}i=e[n],t=[n].concat(t)}let o=r[0];typeof o=="function"&&(o=o(i,t),o===i)||n===void 0&&o==null||(o=C1(o),n===void 0||yp(i)&&yp(o)&&!Array.isArray(o)?g5(i,o):Cp(e,n,o))}function v5(...[e,r]){const t=C1(e||{}),n=Array.isArray(t),i=p5(t);function o(...s){Il(()=>{n&&s.length===1?AM(t,s[0]):a1(t,s)})}return[i,o]}var DM=re("<div>"),Pp=class{constructor(e){Re(this,"x"),Re(this,"y"),Re(this,"width"),Re(this,"height"),this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},k0=e=>{let r=new Pp(e.getBoundingClientRect());const{transform:t}=getComputedStyle(e);return t&&(r=FM(r,t)),r},FM=(e,r)=>{let t,n;if(r.startsWith("matrix3d(")){const i=r.slice(9,-1).split(/, /);t=+i[12],n=+i[13]}else if(r.startsWith("matrix(")){const i=r.slice(7,-1).split(/, /);t=+i[4],n=+i[5]}else t=0,n=0;return new Pp({...e,x:e.x-t,y:e.y-n})},io=()=>({x:0,y:0}),Vg=(e,r)=>e.x===r.x&&e.y===r.y,Uf=(e,r)=>new Pp({...e,x:e.x+r.x,y:e.y+r.y}),RM=(e,r)=>Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2)),OM=(e,r)=>{const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),i=Math.min(e.right,r.right),o=Math.min(e.bottom,r.bottom),s=i-n,u=o-t;if(n<i&&t<o){const d=e.width*e.height,h=r.width*r.height,f=s*u;return f/(d+h-f)}return 0},Hf=(e,r)=>e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height,NM=(e,r,t)=>{const n=e.transformed.center,i={distance:1/0,droppable:null};for(const o of r){const s=RM(n,o.layout.center);s<i.distance?(i.distance=s,i.droppable=o):s===i.distance&&o.id===t.activeDroppableId&&(i.droppable=o)}return i.droppable},zM=(e,r,t)=>{const n=e.transformed,i={ratio:0,droppable:null};for(const o of r){const s=OM(n,o.layout);s>i.ratio?(i.ratio=s,i.droppable=o):s>0&&s===i.ratio&&o.id===t.activeDroppableId&&(i.droppable=o)}return i.droppable},m5=e5(),BM=e=>{const r=Lp({collisionDetector:zM},e),[t,n]=v5({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return t.active.draggableId!==null?t.draggables[t.active.draggableId]:null},droppableId:null,get droppable(){return t.active.droppableId!==null?t.droppables[t.active.droppableId]:null},sensorId:null,get sensor(){return t.active.sensorId!==null?t.sensors[t.active.sensorId]:null},overlay:null}}),i=(Y,Z,q)=>{Y.substring(0,Y.length-1),Je(()=>t[Y][Z])&&n(Y,Z,"transformers",q.id,q)},o=(Y,Z,q)=>{Y.substring(0,Y.length-1),Je(()=>t[Y][Z])&&Je(()=>t[Y][Z].transformers[q])&&n(Y,Z,"transformers",q,void 0)},s=({id:Y,node:Z,layout:q,data:G})=>{const K=t.draggables[Y],X={id:Y,node:Z,layout:q,data:G,_pendingCleanup:!1};let J;if(!K)Object.defineProperties(X,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(t.active.overlay)return io();const ee=Object.values(t.draggables[Y].transformers);return ee.sort((H,ie)=>H.order-ie.order),ee.reduce((H,ie)=>ie.callback(H),io())}},transformed:{enumerable:!0,configurable:!0,get:()=>Uf(t.draggables[Y].layout,t.draggables[Y].transform)}});else if(t.active.draggableId===Y&&!t.active.overlay){const ee={x:K.layout.x-q.x,y:K.layout.y-q.y},H="addDraggable-existing-offset",ie=K.transformers[H],xe=ie?ie.callback(ee):ee;J={id:H,order:100,callback:Le=>({x:Le.x+xe.x,y:Le.y+xe.y})},te(()=>o("draggables",Y,H))}Il(()=>{n("draggables",Y,X),J&&i("draggables",Y,J)}),t.active.draggable&&P()},u=Y=>{Je(()=>t.draggables[Y])&&(n("draggables",Y,"_pendingCleanup",!0),queueMicrotask(()=>d(Y)))},d=Y=>{var Z;if((Z=t.draggables[Y])!=null&&Z._pendingCleanup){const q=t.active.draggableId===Y;Il(()=>{q&&n("active","draggableId",null),n("draggables",Y,void 0)})}},h=({id:Y,node:Z,layout:q,data:G})=>{const K=t.droppables[Y],X={id:Y,node:Z,layout:q,data:G,_pendingCleanup:!1};K||Object.defineProperties(X,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const J=Object.values(t.droppables[Y].transformers);return J.sort((ee,H)=>ee.order-H.order),J.reduce((ee,H)=>H.callback(ee),io())}},transformed:{enumerable:!0,configurable:!0,get:()=>Uf(t.droppables[Y].layout,t.droppables[Y].transform)}}),n("droppables",Y,X),t.active.draggable&&P()},f=Y=>{Je(()=>t.droppables[Y])&&(n("droppables",Y,"_pendingCleanup",!0),queueMicrotask(()=>v(Y)))},v=Y=>{var Z;if((Z=t.droppables[Y])!=null&&Z._pendingCleanup){const q=t.active.droppableId===Y;Il(()=>{q&&n("active","droppableId",null),n("droppables",Y,void 0)})}},m=({id:Y,activators:Z})=>{n("sensors",Y,{id:Y,activators:Z,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:t.sensors[Y].coordinates.current.x-t.sensors[Y].coordinates.origin.x,y:t.sensors[Y].coordinates.current.y-t.sensors[Y].coordinates.origin.y}}}})},C=Y=>{if(!Je(()=>t.sensors[Y]))return;const Z=t.active.sensorId===Y;Il(()=>{Z&&n("active","sensorId",null),n("sensors",Y,void 0)})},b=({node:Y,layout:Z})=>{const q=t.active.overlay,G={node:Y,layout:Z};q||Object.defineProperties(G,{id:{enumerable:!0,configurable:!0,get:()=>{var K;return(K=t.active.draggable)==null?void 0:K.id}},data:{enumerable:!0,configurable:!0,get:()=>{var K;return(K=t.active.draggable)==null?void 0:K.data}},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(t.active.draggable?t.active.draggable.transformers:{}).filter(([K])=>K!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const K=Object.values(t.active.overlay?t.active.overlay.transformers:[]);return K.sort((X,J)=>X.order-J.order),K.reduce((X,J)=>J.callback(X),io())}},transformed:{enumerable:!0,configurable:!0,get:()=>t.active.overlay?Uf(t.active.overlay.layout,t.active.overlay.transform):new Pp({x:0,y:0,width:0,height:0})}}),n("active","overlay",G)},_=()=>n("active","overlay",null),k=(Y,Z)=>{Il(()=>{n("sensors",Y,"coordinates",{origin:{...Z},current:{...Z}}),n("active","sensorId",Y)})},S=Y=>{const Z=t.active.sensorId;Z&&n("sensors",Z,"coordinates","current",{...Y})},T=()=>n("active","sensorId",null),I=(Y,Z)=>{const q={};for(const K of Object.values(t.sensors))if(K)for(const[X,J]of Object.entries(K.activators))q[X]??(q[X]=[]),q[X].push({sensor:K,activator:J});const G={};for(const K in q){let X=K;Z&&(X=`on${K}`),G[X]=J=>{for(const{activator:ee}of q[K]){if(t.active.sensor)break;ee(J,Y)}}}return G},P=()=>{let Y=!1;const Z=Object.values(t.draggables),q=Object.values(t.droppables),G=t.active.overlay;return Il(()=>{const K=new WeakMap;for(const X of Z)if(X){const J=X.layout;K.has(X.node)||K.set(X.node,k0(X.node));const ee=K.get(X.node);Hf(J,ee)||(n("draggables",X.id,"layout",ee),Y=!0)}for(const X of q)if(X){const J=X.layout;K.has(X.node)||K.set(X.node,k0(X.node));const ee=K.get(X.node);Hf(J,ee)||(n("droppables",X.id,"layout",ee),Y=!0)}if(G){const X=G.layout,J=k0(G.node);Hf(X,J)||(n("active","overlay","layout",J),Y=!0)}}),Y},L=()=>{const Y=t.active.overlay??t.active.draggable;if(Y){const Z=r.collisionDetector(Y,Object.values(t.droppables),{activeDroppableId:t.active.droppableId}),q=Z?Z.id:null;t.active.droppableId!==q&&n("active","droppableId",q)}},z=Y=>{const Z={id:"sensorMove",order:0,callback:q=>t.active.sensor?{x:q.x+t.active.sensor.coordinates.delta.x,y:q.y+t.active.sensor.coordinates.delta.y}:q};P(),Il(()=>{n("active","draggableId",Y),i("draggables",Y,Z)}),L()},R=()=>{const Y=Je(()=>t.active.draggableId);Il(()=>{Y!==null&&o("draggables",Y,"sensorMove"),n("active",["draggableId","droppableId"],null)}),P()},V=Y=>{pt(()=>{const Z=t.active.draggable;Z&&Je(()=>Y({draggable:Z}))})},$=Y=>{pt(()=>{const Z=t.active.draggable;if(Z){const q=Je(()=>t.active.overlay);Object.values(q?q.transform:Z.transform),Je(()=>Y({draggable:Z,overlay:q}))}})},W=Y=>{pt(()=>{const Z=t.active.draggable,q=t.active.droppable;Z&&Je(()=>Y({draggable:Z,droppable:q,overlay:t.active.overlay}))})},te=Y=>{pt(({previousDraggable:Z,previousDroppable:q,previousOverlay:G})=>{const K=t.active.draggable,X=K?t.active.droppable:null,J=K?t.active.overlay:null;return!K&&Z&&Je(()=>Y({draggable:Z,droppable:q,overlay:G})),{previousDraggable:K,previousDroppable:X,previousOverlay:J}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};$(()=>L()),r.onDragStart&&V(r.onDragStart),r.onDragMove&&$(r.onDragMove),r.onDragOver&&W(r.onDragOver),r.onDragEnd&&te(r.onDragEnd);const ue=[t,{addTransformer:i,removeTransformer:o,addDraggable:s,removeDraggable:u,addDroppable:h,removeDroppable:f,addSensor:m,removeSensor:C,setOverlay:b,clearOverlay:_,recomputeLayouts:P,detectCollisions:L,draggableActivators:I,sensorStart:k,sensorMove:S,sensorEnd:T,dragStart:z,dragEnd:R,onDragStart:V,onDragMove:$,onDragOver:W,onDragEnd:te}];return oe(m5.Provider,{value:ue,get children(){return r.children}})},A0=()=>t5(m5)||null,VM=(e="pointer-sensor")=>{const[r,{addSensor:t,removeSensor:n,sensorStart:i,sensorMove:o,sensorEnd:s,dragStart:u,dragEnd:d}]=A0(),h=250,f=10;Ia(()=>{t({id:e,activators:{pointerdown:_}})}),Gn(()=>{n(e)});const v=()=>r.active.sensorId===e,m={x:0,y:0};let C=null,b=null;const _=(L,z)=>{L.button===0&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",I),b=z,m.x=L.clientX,m.y=L.clientY,C=window.setTimeout(S,h))},k=()=>{C&&(clearTimeout(C),C=null),document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",I),document.removeEventListener("selectionchange",P)},S=()=>{r.active.sensor?v()||k():(i(e,m),u(b),P(),document.addEventListener("selectionchange",P))},T=L=>{const z={x:L.clientX,y:L.clientY};if(!r.active.sensor){const R={x:z.x-m.x,y:z.y-m.y};Math.sqrt(R.x**2+R.y**2)>f&&S()}v()&&(L.preventDefault(),o(z))},I=L=>{k(),v()&&(L.preventDefault(),d(),s())},P=()=>{var L;(L=window.getSelection())==null||L.removeAllRanges()}},$M=e=>(VM(),_e(()=>e.children)),Ap=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),WM=(e,r={})=>{const[t,{addDraggable:n,removeDraggable:i,draggableActivators:o}]=A0(),[s,u]=pe(null);Ia(()=>{const f=s();f&&n({id:e,node:f,layout:k0(f),data:r})}),Gn(()=>i(e));const d=()=>t.active.draggableId===e,h=()=>{var f;return((f=t.draggables[e])==null?void 0:f.transform)||io()};return Object.defineProperties((f,v)=>{const m=v?v():{};pt(()=>{const C=s(),b=o(e);if(C)for(const _ in b)C.addEventListener(_,b[_]);Gn(()=>{if(C)for(const _ in b)C.removeEventListener(_,b[_])})}),u(f),m.skipTransform||pt(()=>{const C=h();if(Vg(C,io()))f.style.removeProperty("transform");else{const b=Ap(h());f.style.setProperty("transform",b.transform??null)}})},{ref:{enumerable:!0,value:u},isActiveDraggable:{enumerable:!0,get:d},dragActivators:{enumerable:!0,get:()=>o(e,!0)},transform:{enumerable:!0,get:h}})},UM=(e,r={})=>{const[t,{addDroppable:n,removeDroppable:i}]=A0(),[o,s]=pe(null);Ia(()=>{const h=o();h&&n({id:e,node:h,layout:k0(h),data:r})}),Gn(()=>i(e));const u=()=>t.active.droppableId===e,d=()=>{var h;return((h=t.droppables[e])==null?void 0:h.transform)||io()};return Object.defineProperties((h,f)=>{const v=f?f():{};s(h),v.skipTransform||pt(()=>{const m=d();if(Vg(m,io()))h.style.removeProperty("transform");else{const C=Ap(d());h.style.setProperty("transform",C.transform??null)}})},{ref:{enumerable:!0,value:s},isActiveDroppable:{enumerable:!0,get:u},transform:{enumerable:!0,get:d}})},HM=e=>{const[r,{onDragStart:t,onDragEnd:n,setOverlay:i,clearOverlay:o}]=A0();let s;t(({draggable:d})=>{i({node:d.node,layout:d.layout}),queueMicrotask(()=>{if(s){const h=k0(s),f={x:(d.layout.width-h.width)/2,y:(d.layout.height-h.height)/2};h.x+=f.x,h.y+=f.y,i({node:s,layout:h})}})}),n(()=>queueMicrotask(o));const u=()=>{const d=r.active.overlay,h=r.active.draggable;return!d||!h?{}:{position:"fixed",transition:"transform 0s",top:`${d.layout.top}px`,left:`${d.layout.left}px`,"min-width":`${h.layout.width}px`,"min-height":`${h.layout.height}px`,...Ap(d.transform),...e.style}};return oe(RS,{get mount(){return document.body},get children(){return oe(tt,{get when(){return r.active.draggable},get children(){var d=DM(),h=s;return typeof h=="function"?ra(h,d):s=d,N(d,(()=>{var f=_e(()=>typeof e.children=="function");return()=>f()?e.children(r.active.draggable):e.children})()),$e(f=>{var v=e.class,m=u();return v!==f.e&&er(d,f.e=v),f.t=La(d,m,f.t),f},{e:void 0,t:void 0}),d}})}})},YM=(e,r,t)=>{const n=e.slice();return n.splice(t,0,...n.splice(r,1)),n},y5=e5(),XM=e=>{const[r]=A0(),[t,n]=v5({initialIds:[],sortedIds:[]}),i=s=>s>=0&&s<t.initialIds.length;pt(()=>{n("initialIds",[...e.ids]),n("sortedIds",[...e.ids])}),pt(()=>{r.active.draggableId&&r.active.droppableId?Je(()=>{const s=t.sortedIds.indexOf(r.active.draggableId),u=t.initialIds.indexOf(r.active.droppableId);if(!i(s)||!i(u))n("sortedIds",[...e.ids]);else if(s!==u){const d=YM(t.sortedIds,s,u);n("sortedIds",d)}}):n("sortedIds",[...e.ids])});const o=[t,{}];return oe(y5.Provider,{value:o,get children(){return e.children}})},jM=()=>t5(y5)||null,GM=(e,r)=>t=>{e(t),r(t)},KM=(e,r={})=>{const[t,{addTransformer:n,removeTransformer:i}]=A0(),[o]=jM(),s=WM(e,r),u=UM(e,r),d=GM(s.ref,u.ref),h=()=>o.initialIds.indexOf(e),f=()=>o.sortedIds.indexOf(e),v=_=>{var k;return((k=t.droppables[_])==null?void 0:k.layout)||null},m=()=>{const _=io(),k=h(),S=f();if(S!==k){const T=v(e),I=v(o.initialIds[S]);T&&I&&(_.x=I.x-T.x,_.y=I.y-T.y)}return _},C={id:"sortableOffset",order:100,callback:_=>{const k=m();return{x:_.x+k.x,y:_.y+k.y}}};Ia(()=>n("droppables",e,C)),Gn(()=>i("droppables",e,C.id));const b=()=>{var _,k;return(e===t.active.draggableId&&!t.active.overlay?(_=t.draggables[e])==null?void 0:_.transform:(k=t.droppables[e])==null?void 0:k.transform)||io()};return Object.defineProperties(_=>{s(_,()=>({skipTransform:!0})),u(_,()=>({skipTransform:!0})),pt(()=>{const k=b();if(Vg(k,io()))_.style.removeProperty("transform");else{const S=Ap(b());_.style.setProperty("transform",S.transform??null)}})},{ref:{enumerable:!0,value:d},transform:{enumerable:!0,get:b},isActiveDraggable:{enumerable:!0,get:()=>s.isActiveDraggable},dragActivators:{enumerable:!0,get:()=>s.dragActivators},isActiveDroppable:{enumerable:!0,get:()=>u.isActiveDroppable}})};const QM=async()=>null;class ZM{constructor(r){Re(this,"useExternalStorage"),this.useExternalStorage=r}addToStorage(r){if(!this.useExternalStorage)try{localStorage.setItem("watchlist",JSON.stringify(r))}catch(t){console.error("Error saving watchlist to local storage:",t)}}async fetchWatchlist(){try{if(this.useExternalStorage)return await QM()||(console.error("Failed to fetch watchlist data from external."),null);{const r=localStorage.getItem("watchlist");return r?JSON.parse(r):(console.error("Failed to fetch watchlist data from local storage."),null)}}catch(r){return console.error("Error fetching watchlist data:",r),null}}}var qM=re("<div class=list>"),JM=re("<div class=chartspire-ui-watchlist><div class=header><select class=select></select><span class=button>+"),eE=re("<option>"),tE=re(`<div class=ticker-item><div class=ticker-info><img class=ticker-logo><span class=ticker-name></span></div><span class=ticker-price>$</span><svg version=1.1 id=Capa_1 xmlns=http://www.w3.org/2000/svg viewBox="0 0 408.483 408.483"><g><g><path d="M87.748,388.784c0.461,11.01,9.521,19.699,20.539,19.699h191.911c11.018,0,20.078-8.689,20.539-19.699l13.705-289.316\r
															H74.043L87.748,388.784z M247.655,171.329c0-4.61,3.738-8.349,8.35-8.349h13.355c4.609,0,8.35,3.738,8.35,8.349v165.293\r
															c0,4.611-3.738,8.349-8.35,8.349h-13.355c-4.61,0-8.35-3.736-8.35-8.349V171.329z M189.216,171.329\r
															c0-4.61,3.738-8.349,8.349-8.349h13.355c4.609,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.737,8.349-8.349,8.349h-13.355\r
															c-4.61,0-8.349-3.736-8.349-8.349V171.329L189.216,171.329z M130.775,171.329c0-4.61,3.738-8.349,8.349-8.349h13.356\r
															c4.61,0,8.349,3.738,8.349,8.349v165.293c0,4.611-3.738,8.349-8.349,8.349h-13.356c-4.61,0-8.349-3.736-8.349-8.349V171.329z"></path><path d="M343.567,21.043h-88.535V4.305c0-2.377-1.927-4.305-4.305-4.305h-92.971c-2.377,0-4.304,1.928-4.304,4.305v16.737H64.916\r
															c-7.125,0-12.9,5.776-12.9,12.901V74.47h304.451V33.944C356.467,26.819,350.692,21.043,343.567,21.043z">`),rE=re("<div class=ticker-item>");const Vo={multiplier:1,timespan:"minute",text:"1m"},nE=e=>({ticker:e.ticker,exchange:e.exchange,type:e.type}),iE=e=>{const r=new ZM(e.useExternalWatchListStorage);Ia(()=>{ue("WatchList 1").then(q=>{console.log("Watchlist 1 fetched")})});const[t,n]=pe(!1),[i,o]=pe({"WatchList 1":[],"WatchList 2":[],"WatchList 3":[],"WatchList 4":[],"WatchList 5":[]}),[s,u]=pe("WatchList 1"),[d,h]=pe(s()),[f,v]=pe({}),[m,C]=pe({}),[b,_]=pe(null),k=Math.random().toString(36).slice(2,11);Gn(()=>{$(s())});const S=q=>{if(Y(s())||Z(q))return;const G=nE(q),K=o(X=>({...X,[s()]:[...X[s()],G]}));r.addToStorage(K),L(q)},T=(q,G=!1)=>{const K=G?d():s(),X=o(J=>({...J,[K]:J[K].filter(ee=>ee!==q)}));r.addToStorage(X),z(q)},I=({draggable:q})=>{_(q.id)},P=({draggable:q,droppable:G})=>{if(q&&G){const K=i()[s()],X=K.findIndex(xe=>xe.ticker===q.id),J=K.findIndex(xe=>xe.ticker===G.id),ee=[...K],[H]=ee.splice(X,1);ee.splice(J,0,H);const ie=o(xe=>({...xe,[s()]:ee}));r.addToStorage(ie)}_(null)},L=q=>{const G=to(q.type);G&&(console.log("Subscribing to ticker",q),G.subscribeTicker(q,Vo,K=>{C(X=>{var J;return{...X,[q.ticker]:((J=f()[q.ticker])==null?void 0:J.close)||K.close}}),v(X=>({...X,[q.ticker]:K}))},k))},z=q=>{const G=to(q.type);G&&G.unsubscribeTicker(q,Vo,k)},R=q=>{h(s()),u(q),$(d()),ue(q).then(G=>{console.log(q," Watchlist fetched")})};function V(q,G){const K=[],X=[],J=[],ee=[];i()[q].forEach(ie=>{ie.type===kt.STOCKS?X.push(ie):ie.type===kt.CRYPTO?K.push(ie):ie.type===kt.FOREX?J.push(ie):ie.type===kt.FUTURES&&ee.push(ie)});const H=(ie,xe)=>{C(Le=>{var Pe;return{...Le,[xe.ticker]:((Pe=f()[xe.ticker])==null?void 0:Pe.close)||ie.close}}),v(Le=>({...Le,[xe.ticker]:ie}))};if(K.length>0){const ie=to(kt.CRYPTO);G?ie.subscribeAllTickers(K,Vo,H,300,k):ie.unsubscribeAllTickers(K,Vo,300,k)}if(X.length>0){const ie=to(kt.STOCKS);G?ie.subscribeAllTickers(X,Vo,H,300,k):ie.unsubscribeAllTickers(X,Vo,300,k)}if(J.length>0){const ie=to(kt.FOREX);G?ie.subscribeAllTickers(J,Vo,H,300,k):ie.unsubscribeAllTickers(J,Vo,300,k)}if(ee.length>0){const ie=to(kt.FUTURES);G?ie.subscribeAllTickers(ee,Vo,H,300,k):ie.unsubscribeAllTickers(ee,Vo,300,k)}}function $(q){V(q,!1)}function W(q){V(q,!0)}const te=q=>{var G;const K=(G=f()[q.ticker])==null?void 0:G.close,X=m()[q.ticker];return K>X?"green":K<X?"red":"grey"};async function ue(q){try{const G=await r.fetchWatchlist();if(G){if(o(G),Y(s()))return;Object.keys(G).forEach(K=>{K===q&&W(q)})}}catch(G){console.error("Error fetching watchlist data:",G)}}const Y=q=>i()[q].length>=e.watchListLimit?(console.warn("Watchlist is full"),!0):!1;function Z(q){const G=i()[s()].some(K=>K.ticker===q.ticker&&K.exchange===q.exchange&&K.type===q.type);return G&&console.warn("Ticker is already present in the watch list"),G}return(()=>{var q=JM(),G=q.firstChild,K=G.firstChild,X=K.nextSibling;return K.addEventListener("change",J=>{R(J.currentTarget.value)}),N(K,oe(li,{get each(){return Object.keys(i())},children:J=>(()=>{var ee=eE();return ee.value=J,N(ee,J),ee})()})),X.$$click=()=>n(J=>!J),N(q,oe(tt,{get when(){return t()},get children(){return oe(d5,{get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get locale(){return e.locale},onTickerSelected:J=>{S(J)},onClose:()=>n(!1)})}}),null),N(q,oe(BM,{onDragStart:I,onDragEnd:P,collisionDetector:NM,get children(){return[oe($M,{}),oe(XM,{get ids(){return i()[s()].map(J=>J.ticker)},get children(){var J=qM();return N(J,()=>i()[s()].map(ee=>{const H=KM(ee.ticker);return(()=>{var ie=tE(),xe=ie.firstChild,Le=xe.firstChild,Pe=Le.nextSibling,be=xe.nextSibling;be.firstChild;var He=be.nextSibling;return ie.$$click=()=>{e.setTicker(ee)},ra(H,ie,()=>H),N(Pe,()=>ee.ticker),N(be,()=>{var Ae;return((Ae=f()[ee.ticker])==null?void 0:Ae.close)||"Loading..."},null),He.$$click=Ae=>{Ae.stopPropagation(),T(ee,!1)},$e(Ae=>{var Ne=ee.logo?ee.logo:void 0,ve=te(ee);return Ne!==Ae.e&&Ge(Le,"src",Ae.e=Ne),ve!==Ae.t&&((Ae.t=ve)!=null?be.style.setProperty("color",ve):be.style.removeProperty("color")),Ae},{e:void 0,t:void 0}),ie})()})),J}}),oe(HM,{get children(){return _e(()=>!!b())()?(()=>{var J=rE();return N(J,b),J})():null}})]}}),null),q})()};_r(["click"]);const{min:aE,max:oE}=Math,Fc=(e,r=0,t=1)=>aE(oE(r,e),t),$g=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let r=0;r<=3;r++)r<3?((e[r]<0||e[r]>255)&&(e._clipped=!0),e[r]=Fc(e[r],0,255)):r===3&&(e[r]=Fc(e[r],0,1));return e},x5={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])x5[`[object ${e}]`]=e.toLowerCase();function jt(e){return x5[Object.prototype.toString.call(e)]||"object"}const Rt=(e,r=null)=>e.length>=3?Array.prototype.slice.call(e):jt(e[0])=="object"&&r?r.split("").filter(t=>e[0][t]!==void 0).map(t=>e[0][t]):e[0].slice(0),D0=e=>{if(e.length<2)return null;const r=e.length-1;return jt(e[r])=="string"?e[r].toLowerCase():null},{PI:Dp,min:C5,max:b5}=Math,Ta=e=>Math.round(e*100)/100,bg=e=>Math.round(e*100)/100,Pl=Dp*2,Yf=Dp/3,lE=Dp/180,sE=180/Dp;function w5(e){return[...e.slice(0,3).reverse(),...e.slice(3)]}const Pt={format:{},autodetect:[]};class Fe{constructor(...r){const t=this;if(jt(r[0])==="object"&&r[0].constructor&&r[0].constructor===this.constructor)return r[0];let n=D0(r),i=!1;if(!n){i=!0,Pt.sorted||(Pt.autodetect=Pt.autodetect.sort((o,s)=>s.p-o.p),Pt.sorted=!0);for(let o of Pt.autodetect)if(n=o.test(...r),n)break}if(Pt.format[n]){const o=Pt.format[n].apply(null,i?r:r.slice(0,-1));t._rgb=$g(o)}else throw new Error("unknown format: "+r);t._rgb.length===3&&t._rgb.push(1)}toString(){return jt(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const cE="3.1.2",Zt=(...e)=>new Fe(...e);Zt.version=cE;const T0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},uE=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,dE=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,_5=e=>{if(e.match(uE)){(e.length===4||e.length===7)&&(e=e.substr(1)),e.length===3&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const r=parseInt(e,16),t=r>>16,n=r>>8&255,i=r&255;return[t,n,i,1]}if(e.match(dE)){(e.length===5||e.length===9)&&(e=e.substr(1)),e.length===4&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const r=parseInt(e,16),t=r>>24&255,n=r>>16&255,i=r>>8&255,o=Math.round((r&255)/255*100)/100;return[t,n,i,o]}throw new Error(`unknown hex color: ${e}`)},{round:Uh}=Math,k5=(...e)=>{let[r,t,n,i]=Rt(e,"rgba"),o=D0(e)||"auto";i===void 0&&(i=1),o==="auto"&&(o=i<1?"rgba":"rgb"),r=Uh(r),t=Uh(t),n=Uh(n);let s="000000"+(r<<16|t<<8|n).toString(16);s=s.substr(s.length-6);let u="0"+Uh(i*255).toString(16);switch(u=u.substr(u.length-2),o.toLowerCase()){case"rgba":return`#${s}${u}`;case"argb":return`#${u}${s}`;default:return`#${s}`}};Fe.prototype.name=function(){const e=k5(this._rgb,"rgb");for(let r of Object.keys(T0))if(T0[r]===e)return r.toLowerCase();return e};Pt.format.named=e=>{if(e=e.toLowerCase(),T0[e])return _5(T0[e]);throw new Error("unknown color name: "+e)};Pt.autodetect.push({p:5,test:(e,...r)=>{if(!r.length&&jt(e)==="string"&&T0[e.toLowerCase()])return"named"}});Fe.prototype.alpha=function(e,r=!1){return e!==void 0&&jt(e)==="number"?r?(this._rgb[3]=e,this):new Fe([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]};Fe.prototype.clipped=function(){return this._rgb._clipped||!1};const Uo={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},hE=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Fl(e){const r=hE.get(String(e).toLowerCase());if(!r)throw new Error("unknown Lab illuminant "+e);Uo.labWhitePoint=e,Uo.Xn=r[0],Uo.Zn=r[1]}function w1(){return Uo.labWhitePoint}const Wg=(...e)=>{e=Rt(e,"lab");const[r,t,n]=e,[i,o,s]=pE(r,t,n),[u,d,h]=S5(i,o,s);return[u,d,h,e.length>3?e[3]:1]},pE=(e,r,t)=>{const{kE:n,kK:i,kKE:o,Xn:s,Yn:u,Zn:d}=Uo,h=(e+16)/116,f=.002*r+h,v=h-.005*t,m=f*f*f,C=v*v*v,b=m>n?m:(116*f-16)/i,_=e>o?Math.pow((e+16)/116,3):e/i,k=C>n?C:(116*v-16)/i,S=b*s,T=_*u,I=k*d;return[S,T,I]},Xf=e=>{const r=Math.sign(e);return e=Math.abs(e),(e<=.0031308?e*12.92:1.055*Math.pow(e,1/2.4)-.055)*r},S5=(e,r,t)=>{const{MtxAdaptMa:n,MtxAdaptMaI:i,MtxXYZ2RGB:o,RefWhiteRGB:s,Xn:u,Yn:d,Zn:h}=Uo,f=u*n.m00+d*n.m10+h*n.m20,v=u*n.m01+d*n.m11+h*n.m21,m=u*n.m02+d*n.m12+h*n.m22,C=s.X*n.m00+s.Y*n.m10+s.Z*n.m20,b=s.X*n.m01+s.Y*n.m11+s.Z*n.m21,_=s.X*n.m02+s.Y*n.m12+s.Z*n.m22,k=(e*n.m00+r*n.m10+t*n.m20)*(C/f),S=(e*n.m01+r*n.m11+t*n.m21)*(b/v),T=(e*n.m02+r*n.m12+t*n.m22)*(_/m),I=k*i.m00+S*i.m10+T*i.m20,P=k*i.m01+S*i.m11+T*i.m21,L=k*i.m02+S*i.m12+T*i.m22,z=Xf(I*o.m00+P*o.m10+L*o.m20),R=Xf(I*o.m01+P*o.m11+L*o.m21),V=Xf(I*o.m02+P*o.m12+L*o.m22);return[z*255,R*255,V*255]},Ug=(...e)=>{const[r,t,n,...i]=Rt(e,"rgb"),[o,s,u]=M5(r,t,n),[d,h,f]=fE(o,s,u);return[d,h,f,...i.length>0&&i[0]<1?[i[0]]:[]]};function fE(e,r,t){const{Xn:n,Yn:i,Zn:o,kE:s,kK:u}=Uo,d=e/n,h=r/i,f=t/o,v=d>s?Math.pow(d,1/3):(u*d+16)/116,m=h>s?Math.pow(h,1/3):(u*h+16)/116,C=f>s?Math.pow(f,1/3):(u*f+16)/116;return[116*m-16,500*(v-m),200*(m-C)]}function jf(e){const r=Math.sign(e);return e=Math.abs(e),(e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4))*r}const M5=(e,r,t)=>{e=jf(e/255),r=jf(r/255),t=jf(t/255);const{MtxRGB2XYZ:n,MtxAdaptMa:i,MtxAdaptMaI:o,Xn:s,Yn:u,Zn:d,As:h,Bs:f,Cs:v}=Uo;let m=e*n.m00+r*n.m10+t*n.m20,C=e*n.m01+r*n.m11+t*n.m21,b=e*n.m02+r*n.m12+t*n.m22;const _=s*i.m00+u*i.m10+d*i.m20,k=s*i.m01+u*i.m11+d*i.m21,S=s*i.m02+u*i.m12+d*i.m22;let T=m*i.m00+C*i.m10+b*i.m20,I=m*i.m01+C*i.m11+b*i.m21,P=m*i.m02+C*i.m12+b*i.m22;return T*=_/h,I*=k/f,P*=S/v,m=T*o.m00+I*o.m10+P*o.m20,C=T*o.m01+I*o.m11+P*o.m21,b=T*o.m02+I*o.m12+P*o.m22,[m,C,b]};Fe.prototype.lab=function(){return Ug(this._rgb)};const gE=(...e)=>new Fe(...e,"lab");Object.assign(Zt,{lab:gE,getLabWhitePoint:w1,setLabWhitePoint:Fl});Pt.format.lab=Wg;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Rt(e,"lab"),jt(e)==="array"&&e.length===3)return"lab"}});Fe.prototype.darken=function(e=1){const r=this,t=r.lab();return t[0]-=Uo.Kn*e,new Fe(t,"lab").alpha(r.alpha(),!0)};Fe.prototype.brighten=function(e=1){return this.darken(-e)};Fe.prototype.darker=Fe.prototype.darken;Fe.prototype.brighter=Fe.prototype.brighten;Fe.prototype.get=function(e){const[r,t]=e.split("."),n=this[r]();if(t){const i=r.indexOf(t)-(r.substr(0,2)==="ok"?2:0);if(i>-1)return n[i];throw new Error(`unknown channel ${t} in mode ${r}`)}else return n};const{pow:vE}=Math,mE=1e-7,yE=20;Fe.prototype.luminance=function(e,r="rgb"){if(e!==void 0&&jt(e)==="number"){if(e===0)return new Fe([0,0,0,this._rgb[3]],"rgb");if(e===1)return new Fe([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),n=yE;const i=(s,u)=>{const d=s.interpolate(u,.5,r),h=d.luminance();return Math.abs(e-h)<mE||!n--?d:h>e?i(s,d):i(d,u)},o=(t>e?i(new Fe([0,0,0]),this):i(this,new Fe([255,255,255]))).rgb();return new Fe([...o,this._rgb[3]])}return xE(...this._rgb.slice(0,3))};const xE=(e,r,t)=>(e=Gf(e),r=Gf(r),t=Gf(t),.2126*e+.7152*r+.0722*t),Gf=e=>(e/=255,e<=.03928?e/12.92:vE((e+.055)/1.055,2.4)),ai={},I0=(e,r,t=.5,...n)=>{let i=n[0]||"lrgb";if(!ai[i]&&!n.length&&(i=Object.keys(ai)[0]),!ai[i])throw new Error(`interpolation mode ${i} is not defined`);return jt(e)!=="object"&&(e=new Fe(e)),jt(r)!=="object"&&(r=new Fe(r)),ai[i](e,r,t).alpha(e.alpha()+t*(r.alpha()-e.alpha()))};Fe.prototype.mix=Fe.prototype.interpolate=function(e,r=.5,...t){return I0(this,e,r,...t)};Fe.prototype.premultiply=function(e=!1){const r=this._rgb,t=r[3];return e?(this._rgb=[r[0]*t,r[1]*t,r[2]*t,t],this):new Fe([r[0]*t,r[1]*t,r[2]*t,t],"rgb")};const{sin:CE,cos:bE}=Math,E5=(...e)=>{let[r,t,n]=Rt(e,"lch");return isNaN(n)&&(n=0),n=n*lE,[r,bE(n)*t,CE(n)*t]},Hg=(...e)=>{e=Rt(e,"lch");const[r,t,n]=e,[i,o,s]=E5(r,t,n),[u,d,h]=Wg(i,o,s);return[u,d,h,e.length>3?e[3]:1]},wE=(...e)=>{const r=w5(Rt(e,"hcl"));return Hg(...r)},{sqrt:_E,atan2:kE,round:SE}=Math,T5=(...e)=>{const[r,t,n]=Rt(e,"lab"),i=_E(t*t+n*n);let o=(kE(n,t)*sE+360)%360;return SE(i*1e4)===0&&(o=Number.NaN),[r,i,o]},Yg=(...e)=>{const[r,t,n,...i]=Rt(e,"rgb"),[o,s,u]=Ug(r,t,n),[d,h,f]=T5(o,s,u);return[d,h,f,...i.length>0&&i[0]<1?[i[0]]:[]]};Fe.prototype.lch=function(){return Yg(this._rgb)};Fe.prototype.hcl=function(){return w5(Yg(this._rgb))};const ME=(...e)=>new Fe(...e,"lch"),EE=(...e)=>new Fe(...e,"hcl");Object.assign(Zt,{lch:ME,hcl:EE});Pt.format.lch=Hg;Pt.format.hcl=wE;["lch","hcl"].forEach(e=>Pt.autodetect.push({p:2,test:(...r)=>{if(r=Rt(r,e),jt(r)==="array"&&r.length===3)return e}}));Fe.prototype.saturate=function(e=1){const r=this,t=r.lch();return t[1]+=Uo.Kn*e,t[1]<0&&(t[1]=0),new Fe(t,"lch").alpha(r.alpha(),!0)};Fe.prototype.desaturate=function(e=1){return this.saturate(-e)};Fe.prototype.set=function(e,r,t=!1){const[n,i]=e.split("."),o=this[n]();if(i){const s=n.indexOf(i)-(n.substr(0,2)==="ok"?2:0);if(s>-1){if(jt(r)=="string")switch(r.charAt(0)){case"+":o[s]+=+r;break;case"-":o[s]+=+r;break;case"*":o[s]*=+r.substr(1);break;case"/":o[s]/=+r.substr(1);break;default:o[s]=+r}else if(jt(r)==="number")o[s]=r;else throw new Error("unsupported value for Color.set");const u=new Fe(o,n);return t?(this._rgb=u._rgb,this):u}throw new Error(`unknown channel ${i} in mode ${n}`)}else return o};Fe.prototype.tint=function(e=.5,...r){return I0(this,"white",e,...r)};Fe.prototype.shade=function(e=.5,...r){return I0(this,"black",e,...r)};const TE=(e,r,t)=>{const n=e._rgb,i=r._rgb;return new Fe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"rgb")};ai.rgb=TE;const{sqrt:Kf,pow:c0}=Math,IE=(e,r,t)=>{const[n,i,o]=e._rgb,[s,u,d]=r._rgb;return new Fe(Kf(c0(n,2)*(1-t)+c0(s,2)*t),Kf(c0(i,2)*(1-t)+c0(u,2)*t),Kf(c0(o,2)*(1-t)+c0(d,2)*t),"rgb")};ai.lrgb=IE;const LE=(e,r,t)=>{const n=e.lab(),i=r.lab();return new Fe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"lab")};ai.lab=LE;const F0=(e,r,t,n)=>{let i,o;n==="hsl"?(i=e.hsl(),o=r.hsl()):n==="hsv"?(i=e.hsv(),o=r.hsv()):n==="hcg"?(i=e.hcg(),o=r.hcg()):n==="hsi"?(i=e.hsi(),o=r.hsi()):n==="lch"||n==="hcl"?(n="hcl",i=e.hcl(),o=r.hcl()):n==="oklch"&&(i=e.oklch().reverse(),o=r.oklch().reverse());let s,u,d,h,f,v;(n.substr(0,1)==="h"||n==="oklch")&&([s,d,f]=i,[u,h,v]=o);let m,C,b,_;return!isNaN(s)&&!isNaN(u)?(u>s&&u-s>180?_=u-(s+360):u<s&&s-u>180?_=u+360-s:_=u-s,C=s+t*_):isNaN(s)?isNaN(u)?C=Number.NaN:(C=u,(f==1||f==0)&&n!="hsv"&&(m=h)):(C=s,(v==1||v==0)&&n!="hsv"&&(m=d)),m===void 0&&(m=d+t*(h-d)),b=f+t*(v-f),n==="oklch"?new Fe([b,m,C],n):new Fe([C,m,b],n)},I5=(e,r,t)=>F0(e,r,t,"lch");ai.lch=I5;ai.hcl=I5;const PE=e=>{if(jt(e)=="number"&&e>=0&&e<=16777215){const r=e>>16,t=e>>8&255,n=e&255;return[r,t,n,1]}throw new Error("unknown num color: "+e)},AE=(...e)=>{const[r,t,n]=Rt(e,"rgb");return(r<<16)+(t<<8)+n};Fe.prototype.num=function(){return AE(this._rgb)};const DE=(...e)=>new Fe(...e,"num");Object.assign(Zt,{num:DE});Pt.format.num=PE;Pt.autodetect.push({p:5,test:(...e)=>{if(e.length===1&&jt(e[0])==="number"&&e[0]>=0&&e[0]<=16777215)return"num"}});const FE=(e,r,t)=>{const n=e.num(),i=r.num();return new Fe(n+t*(i-n),"num")};ai.num=FE;const{floor:RE}=Math,OE=(...e)=>{e=Rt(e,"hcg");let[r,t,n]=e,i,o,s;n=n*255;const u=t*255;if(t===0)i=o=s=n;else{r===360&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60;const d=RE(r),h=r-d,f=n*(1-t),v=f+u*(1-h),m=f+u*h,C=f+u;switch(d){case 0:[i,o,s]=[C,m,f];break;case 1:[i,o,s]=[v,C,f];break;case 2:[i,o,s]=[f,C,m];break;case 3:[i,o,s]=[f,v,C];break;case 4:[i,o,s]=[m,f,C];break;case 5:[i,o,s]=[C,f,v];break}}return[i,o,s,e.length>3?e[3]:1]},NE=(...e)=>{const[r,t,n]=Rt(e,"rgb"),i=C5(r,t,n),o=b5(r,t,n),s=o-i,u=s*100/255,d=i/(255-s)*100;let h;return s===0?h=Number.NaN:(r===o&&(h=(t-n)/s),t===o&&(h=2+(n-r)/s),n===o&&(h=4+(r-t)/s),h*=60,h<0&&(h+=360)),[h,u,d]};Fe.prototype.hcg=function(){return NE(this._rgb)};const zE=(...e)=>new Fe(...e,"hcg");Zt.hcg=zE;Pt.format.hcg=OE;Pt.autodetect.push({p:1,test:(...e)=>{if(e=Rt(e,"hcg"),jt(e)==="array"&&e.length===3)return"hcg"}});const BE=(e,r,t)=>F0(e,r,t,"hcg");ai.hcg=BE;const{cos:u0}=Math,VE=(...e)=>{e=Rt(e,"hsi");let[r,t,n]=e,i,o,s;return isNaN(r)&&(r=0),isNaN(t)&&(t=0),r>360&&(r-=360),r<0&&(r+=360),r/=360,r<1/3?(s=(1-t)/3,i=(1+t*u0(Pl*r)/u0(Yf-Pl*r))/3,o=1-(s+i)):r<2/3?(r-=1/3,i=(1-t)/3,o=(1+t*u0(Pl*r)/u0(Yf-Pl*r))/3,s=1-(i+o)):(r-=2/3,o=(1-t)/3,s=(1+t*u0(Pl*r)/u0(Yf-Pl*r))/3,i=1-(o+s)),i=Fc(n*i*3),o=Fc(n*o*3),s=Fc(n*s*3),[i*255,o*255,s*255,e.length>3?e[3]:1]},{min:$E,sqrt:WE,acos:UE}=Math,HE=(...e)=>{let[r,t,n]=Rt(e,"rgb");r/=255,t/=255,n/=255;let i;const o=$E(r,t,n),s=(r+t+n)/3,u=s>0?1-o/s:0;return u===0?i=NaN:(i=(r-t+(r-n))/2,i/=WE((r-t)*(r-t)+(r-n)*(t-n)),i=UE(i),n>t&&(i=Pl-i),i/=Pl),[i*360,u,s]};Fe.prototype.hsi=function(){return HE(this._rgb)};const YE=(...e)=>new Fe(...e,"hsi");Zt.hsi=YE;Pt.format.hsi=VE;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Rt(e,"hsi"),jt(e)==="array"&&e.length===3)return"hsi"}});const XE=(e,r,t)=>F0(e,r,t,"hsi");ai.hsi=XE;const wg=(...e)=>{e=Rt(e,"hsl");const[r,t,n]=e;let i,o,s;if(t===0)i=o=s=n*255;else{const u=[0,0,0],d=[0,0,0],h=n<.5?n*(1+t):n+t-n*t,f=2*n-h,v=r/360;u[0]=v+1/3,u[1]=v,u[2]=v-1/3;for(let m=0;m<3;m++)u[m]<0&&(u[m]+=1),u[m]>1&&(u[m]-=1),6*u[m]<1?d[m]=f+(h-f)*6*u[m]:2*u[m]<1?d[m]=h:3*u[m]<2?d[m]=f+(h-f)*(2/3-u[m])*6:d[m]=f;[i,o,s]=[d[0]*255,d[1]*255,d[2]*255]}return e.length>3?[i,o,s,e[3]]:[i,o,s,1]},L5=(...e)=>{e=Rt(e,"rgba");let[r,t,n]=e;r/=255,t/=255,n/=255;const i=C5(r,t,n),o=b5(r,t,n),s=(o+i)/2;let u,d;return o===i?(u=0,d=Number.NaN):u=s<.5?(o-i)/(o+i):(o-i)/(2-o-i),r==o?d=(t-n)/(o-i):t==o?d=2+(n-r)/(o-i):n==o&&(d=4+(r-t)/(o-i)),d*=60,d<0&&(d+=360),e.length>3&&e[3]!==void 0?[d,u,s,e[3]]:[d,u,s]};Fe.prototype.hsl=function(){return L5(this._rgb)};const jE=(...e)=>new Fe(...e,"hsl");Zt.hsl=jE;Pt.format.hsl=wg;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Rt(e,"hsl"),jt(e)==="array"&&e.length===3)return"hsl"}});const GE=(e,r,t)=>F0(e,r,t,"hsl");ai.hsl=GE;const{floor:KE}=Math,QE=(...e)=>{e=Rt(e,"hsv");let[r,t,n]=e,i,o,s;if(n*=255,t===0)i=o=s=n;else{r===360&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60;const u=KE(r),d=r-u,h=n*(1-t),f=n*(1-t*d),v=n*(1-t*(1-d));switch(u){case 0:[i,o,s]=[n,v,h];break;case 1:[i,o,s]=[f,n,h];break;case 2:[i,o,s]=[h,n,v];break;case 3:[i,o,s]=[h,f,n];break;case 4:[i,o,s]=[v,h,n];break;case 5:[i,o,s]=[n,h,f];break}}return[i,o,s,e.length>3?e[3]:1]},{min:ZE,max:qE}=Math,JE=(...e)=>{e=Rt(e,"rgb");let[r,t,n]=e;const i=ZE(r,t,n),o=qE(r,t,n),s=o-i;let u,d,h;return h=o/255,o===0?(u=Number.NaN,d=0):(d=s/o,r===o&&(u=(t-n)/s),t===o&&(u=2+(n-r)/s),n===o&&(u=4+(r-t)/s),u*=60,u<0&&(u+=360)),[u,d,h]};Fe.prototype.hsv=function(){return JE(this._rgb)};const eT=(...e)=>new Fe(...e,"hsv");Zt.hsv=eT;Pt.format.hsv=QE;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Rt(e,"hsv"),jt(e)==="array"&&e.length===3)return"hsv"}});const tT=(e,r,t)=>F0(e,r,t,"hsv");ai.hsv=tT;function bp(e,r){let t=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(r[0])||(r=r.map(s=>[s]));let n=r[0].length,i=r[0].map((s,u)=>r.map(d=>d[u])),o=e.map(s=>i.map(u=>Array.isArray(s)?s.reduce((d,h,f)=>d+h*(u[f]||0),0):u.reduce((d,h)=>d+h*s,0)));return t===1&&(o=o[0]),n===1?o.map(s=>s[0]):o}const Xg=(...e)=>{e=Rt(e,"lab");const[r,t,n,...i]=e,[o,s,u]=rT([r,t,n]),[d,h,f]=S5(o,s,u);return[d,h,f,...i.length>0&&i[0]<1?[i[0]]:[]]};function rT(e){var r=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],n=bp(t,e);return bp(r,n.map(i=>i**3))}const jg=(...e)=>{const[r,t,n,...i]=Rt(e,"rgb"),o=M5(r,t,n);return[...nT(o),...i.length>0&&i[0]<1?[i[0]]:[]]};function nT(e){const r=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],n=bp(r,e);return bp(t,n.map(i=>Math.cbrt(i)))}Fe.prototype.oklab=function(){return jg(this._rgb)};const iT=(...e)=>new Fe(...e,"oklab");Object.assign(Zt,{oklab:iT});Pt.format.oklab=Xg;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Rt(e,"oklab"),jt(e)==="array"&&e.length===3)return"oklab"}});const aT=(e,r,t)=>{const n=e.oklab(),i=r.oklab();return new Fe(n[0]+t*(i[0]-n[0]),n[1]+t*(i[1]-n[1]),n[2]+t*(i[2]-n[2]),"oklab")};ai.oklab=aT;const oT=(e,r,t)=>F0(e,r,t,"oklch");ai.oklch=oT;const{pow:Qf,sqrt:Zf,PI:qf,cos:b2,sin:w2,atan2:lT}=Math,sT=(e,r="lrgb",t=null)=>{const n=e.length;t||(t=Array.from(new Array(n)).map(()=>1));const i=n/t.reduce(function(v,m){return v+m});if(t.forEach((v,m)=>{t[m]*=i}),e=e.map(v=>new Fe(v)),r==="lrgb")return cT(e,t);const o=e.shift(),s=o.get(r),u=[];let d=0,h=0;for(let v=0;v<s.length;v++)if(s[v]=(s[v]||0)*t[0],u.push(isNaN(s[v])?0:t[0]),r.charAt(v)==="h"&&!isNaN(s[v])){const m=s[v]/180*qf;d+=b2(m)*t[0],h+=w2(m)*t[0]}let f=o.alpha()*t[0];e.forEach((v,m)=>{const C=v.get(r);f+=v.alpha()*t[m+1];for(let b=0;b<s.length;b++)if(!isNaN(C[b]))if(u[b]+=t[m+1],r.charAt(b)==="h"){const _=C[b]/180*qf;d+=b2(_)*t[m+1],h+=w2(_)*t[m+1]}else s[b]+=C[b]*t[m+1]});for(let v=0;v<s.length;v++)if(r.charAt(v)==="h"){let m=lT(h/u[v],d/u[v])/qf*180;for(;m<0;)m+=360;for(;m>=360;)m-=360;s[v]=m}else s[v]=s[v]/u[v];return f/=n,new Fe(s,r).alpha(f>.99999?1:f,!0)},cT=(e,r)=>{const t=e.length,n=[0,0,0,0];for(let i=0;i<e.length;i++){const o=e[i],s=r[i]/t,u=o._rgb;n[0]+=Qf(u[0],2)*s,n[1]+=Qf(u[1],2)*s,n[2]+=Qf(u[2],2)*s,n[3]+=u[3]*s}return n[0]=Zf(n[0]),n[1]=Zf(n[1]),n[2]=Zf(n[2]),n[3]>.9999999&&(n[3]=1),new Fe($g(n))},{pow:uT}=Math;function wp(e){let r="rgb",t=Zt("#ccc"),n=0,i=[0,1],o=[],s=[0,0],u=!1,d=[],h=!1,f=0,v=1,m=!1,C={},b=!0,_=1;const k=function(R){if(R=R||["#fff","#000"],R&&jt(R)==="string"&&Zt.brewer&&Zt.brewer[R.toLowerCase()]&&(R=Zt.brewer[R.toLowerCase()]),jt(R)==="array"){R.length===1&&(R=[R[0],R[0]]),R=R.slice(0);for(let V=0;V<R.length;V++)R[V]=Zt(R[V]);o.length=0;for(let V=0;V<R.length;V++)o.push(V/(R.length-1))}return L(),d=R},S=function(R){if(u!=null){const V=u.length-1;let $=0;for(;$<V&&R>=u[$];)$++;return $-1}return 0};let T=R=>R,I=R=>R;const P=function(R,V){let $,W;if(V==null&&(V=!1),isNaN(R)||R===null)return t;V?W=R:u&&u.length>2?W=S(R)/(u.length-2):v!==f?W=(R-f)/(v-f):W=1,W=I(W),V||(W=T(W)),_!==1&&(W=uT(W,_)),W=s[0]+W*(1-s[0]-s[1]),W=Fc(W,0,1);const te=Math.floor(W*1e4);if(b&&C[te])$=C[te];else{if(jt(d)==="array")for(let ue=0;ue<o.length;ue++){const Y=o[ue];if(W<=Y){$=d[ue];break}if(W>=Y&&ue===o.length-1){$=d[ue];break}if(W>Y&&W<o[ue+1]){W=(W-Y)/(o[ue+1]-Y),$=Zt.interpolate(d[ue],d[ue+1],W,r);break}}else jt(d)==="function"&&($=d(W));b&&(C[te]=$)}return $};var L=()=>C={};k(e);const z=function(R){const V=Zt(P(R));return h&&V[h]?V[h]():V};return z.classes=function(R){if(R!=null){if(jt(R)==="array")u=R,i=[R[0],R[R.length-1]];else{const V=Zt.analyze(i);R===0?u=[V.min,V.max]:u=Zt.limits(V,"e",R)}return z}return u},z.domain=function(R){if(!arguments.length)return i;f=R[0],v=R[R.length-1],o=[];const V=d.length;if(R.length===V&&f!==v)for(let $ of Array.from(R))o.push(($-f)/(v-f));else{for(let $=0;$<V;$++)o.push($/(V-1));if(R.length>2){const $=R.map((te,ue)=>ue/(R.length-1)),W=R.map(te=>(te-f)/(v-f));W.every((te,ue)=>$[ue]===te)||(I=te=>{if(te<=0||te>=1)return te;let ue=0;for(;te>=W[ue+1];)ue++;const Y=(te-W[ue])/(W[ue+1]-W[ue]);return $[ue]+Y*($[ue+1]-$[ue])})}}return i=[f,v],z},z.mode=function(R){return arguments.length?(r=R,L(),z):r},z.range=function(R,V){return k(R),z},z.out=function(R){return h=R,z},z.spread=function(R){return arguments.length?(n=R,z):n},z.correctLightness=function(R){return R==null&&(R=!0),m=R,L(),m?T=function(V){const $=P(0,!0).lab()[0],W=P(1,!0).lab()[0],te=$>W;let ue=P(V,!0).lab()[0];const Y=$+(W-$)*V;let Z=ue-Y,q=0,G=1,K=20;for(;Math.abs(Z)>.01&&K-- >0;)(function(){return te&&(Z*=-1),Z<0?(q=V,V+=(G-V)*.5):(G=V,V+=(q-V)*.5),ue=P(V,!0).lab()[0],Z=ue-Y})();return V}:T=V=>V,z},z.padding=function(R){return R!=null?(jt(R)==="number"&&(R=[R,R]),s=R,z):s},z.colors=function(R,V){arguments.length<2&&(V="hex");let $=[];if(arguments.length===0)$=d.slice(0);else if(R===1)$=[z(.5)];else if(R>1){const W=i[0],te=i[1]-W;$=dT(0,R).map(ue=>z(W+ue/(R-1)*te))}else{e=[];let W=[];if(u&&u.length>2)for(let te=1,ue=u.length,Y=1<=ue;Y?te<ue:te>ue;Y?te++:te--)W.push((u[te-1]+u[te])*.5);else W=i;$=W.map(te=>z(te))}return Zt[V]&&($=$.map(W=>W[V]())),$},z.cache=function(R){return R!=null?(b=R,z):b},z.gamma=function(R){return R!=null?(_=R,z):_},z.nodata=function(R){return R!=null?(t=Zt(R),z):t},z}function dT(e,r,t){let n=[],i=e<r,o=r;for(let s=e;i?s<o:s>o;i?s++:s--)n.push(s);return n}const hT=function(e){let r=[1,1];for(let t=1;t<e;t++){let n=[1];for(let i=1;i<=r.length;i++)n[i]=(r[i]||0)+r[i-1];r=n}return r},pT=function(e){let r,t,n,i;if(e=e.map(o=>new Fe(o)),e.length===2)[t,n]=e.map(o=>o.lab()),r=function(o){const s=[0,1,2].map(u=>t[u]+o*(n[u]-t[u]));return new Fe(s,"lab")};else if(e.length===3)[t,n,i]=e.map(o=>o.lab()),r=function(o){const s=[0,1,2].map(u=>(1-o)*(1-o)*t[u]+2*(1-o)*o*n[u]+o*o*i[u]);return new Fe(s,"lab")};else if(e.length===4){let o;[t,n,i,o]=e.map(s=>s.lab()),r=function(s){const u=[0,1,2].map(d=>(1-s)*(1-s)*(1-s)*t[d]+3*(1-s)*(1-s)*s*n[d]+3*(1-s)*s*s*i[d]+s*s*s*o[d]);return new Fe(u,"lab")}}else if(e.length>=5){let o,s,u;o=e.map(d=>d.lab()),u=e.length-1,s=hT(u),r=function(d){const h=1-d,f=[0,1,2].map(v=>o.reduce((m,C,b)=>m+s[b]*h**(u-b)*d**b*C[v],0));return new Fe(f,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return r},fT=e=>{const r=pT(e);return r.scale=()=>wp(r),r},{round:P5}=Math;Fe.prototype.rgb=function(e=!0){return e===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(P5)};Fe.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map((r,t)=>t<3?e===!1?r:P5(r):r)};const gT=(...e)=>new Fe(...e,"rgb");Object.assign(Zt,{rgb:gT});Pt.format.rgb=(...e)=>{const r=Rt(e,"rgba");return r[3]===void 0&&(r[3]=1),r};Pt.autodetect.push({p:3,test:(...e)=>{if(e=Rt(e,"rgba"),jt(e)==="array"&&(e.length===3||e.length===4&&jt(e[3])=="number"&&e[3]>=0&&e[3]<=1))return"rgb"}});const lo=(e,r,t)=>{if(!lo[t])throw new Error("unknown blend mode "+t);return lo[t](e,r)},Ls=e=>(r,t)=>{const n=Zt(t).rgb(),i=Zt(r).rgb();return Zt.rgb(e(n,i))},Ps=e=>(r,t)=>{const n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n},vT=e=>e,mT=(e,r)=>e*r/255,yT=(e,r)=>e>r?r:e,xT=(e,r)=>e>r?e:r,CT=(e,r)=>255*(1-(1-e/255)*(1-r/255)),bT=(e,r)=>r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255)),wT=(e,r)=>255*(1-(1-r/255)/(e/255)),_T=(e,r)=>e===255?255:(e=255*(r/255)/(1-e/255),e>255?255:e);lo.normal=Ls(Ps(vT));lo.multiply=Ls(Ps(mT));lo.screen=Ls(Ps(CT));lo.overlay=Ls(Ps(bT));lo.darken=Ls(Ps(yT));lo.lighten=Ls(Ps(xT));lo.dodge=Ls(Ps(_T));lo.burn=Ls(Ps(wT));const{pow:kT,sin:ST,cos:MT}=Math;function ET(e=300,r=-1.5,t=1,n=1,i=[0,1]){let o=0,s;jt(i)==="array"?s=i[1]-i[0]:(s=0,i=[i,i]);const u=function(d){const h=Pl*((e+120)/360+r*d),f=kT(i[0]+s*d,n),v=(o!==0?t[0]+d*o:t)*f*(1-f)/2,m=MT(h),C=ST(h),b=f+v*(-.14861*m+1.78277*C),_=f+v*(-.29227*m-.90649*C),k=f+v*(1.97294*m);return Zt($g([b*255,_*255,k*255,1]))};return u.start=function(d){return d==null?e:(e=d,u)},u.rotations=function(d){return d==null?r:(r=d,u)},u.gamma=function(d){return d==null?n:(n=d,u)},u.hue=function(d){return d==null?t:(t=d,jt(t)==="array"?(o=t[1]-t[0],o===0&&(t=t[1])):o=0,u)},u.lightness=function(d){return d==null?i:(jt(d)==="array"?(i=d,s=d[1]-d[0]):(i=[d,d],s=0),u)},u.scale=()=>Zt.scale(u),u.hue(t),u}const TT="0123456789abcdef",{floor:IT,random:LT}=Math,PT=()=>{let e="#";for(let r=0;r<6;r++)e+=TT.charAt(IT(LT()*16));return new Fe(e,"hex")},{log:_2,pow:AT,floor:DT,abs:FT}=Math;function A5(e,r=null){const t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return jt(e)==="object"&&(e=Object.values(e)),e.forEach(n=>{r&&jt(n)==="object"&&(n=n[r]),n!=null&&!isNaN(n)&&(t.values.push(n),t.sum+=n,n<t.min&&(t.min=n),n>t.max&&(t.max=n),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(n,i)=>D5(t,n,i),t}function D5(e,r="equal",t=7){jt(e)=="array"&&(e=A5(e));const{min:n,max:i}=e,o=e.values.sort((u,d)=>u-d);if(t===1)return[n,i];const s=[];if(r.substr(0,1)==="c"&&(s.push(n),s.push(i)),r.substr(0,1)==="e"){s.push(n);for(let u=1;u<t;u++)s.push(n+u/t*(i-n));s.push(i)}else if(r.substr(0,1)==="l"){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const u=Math.LOG10E*_2(n),d=Math.LOG10E*_2(i);s.push(n);for(let h=1;h<t;h++)s.push(AT(10,u+h/t*(d-u)));s.push(i)}else if(r.substr(0,1)==="q"){s.push(n);for(let u=1;u<t;u++){const d=(o.length-1)*u/t,h=DT(d);if(h===d)s.push(o[h]);else{const f=d-h;s.push(o[h]*(1-f)+o[h+1]*f)}}s.push(i)}else if(r.substr(0,1)==="k"){let u;const d=o.length,h=new Array(d),f=new Array(t);let v=!0,m=0,C=null;C=[],C.push(n);for(let k=1;k<t;k++)C.push(n+k/t*(i-n));for(C.push(i);v;){for(let S=0;S<t;S++)f[S]=0;for(let S=0;S<d;S++){const T=o[S];let I=Number.MAX_VALUE,P;for(let L=0;L<t;L++){const z=FT(C[L]-T);z<I&&(I=z,P=L),f[P]++,h[S]=P}}const k=new Array(t);for(let S=0;S<t;S++)k[S]=null;for(let S=0;S<d;S++)u=h[S],k[u]===null?k[u]=o[S]:k[u]+=o[S];for(let S=0;S<t;S++)k[S]*=1/f[S];v=!1;for(let S=0;S<t;S++)if(k[S]!==C[S]){v=!0;break}C=k,m++,m>200&&(v=!1)}const b={};for(let k=0;k<t;k++)b[k]=[];for(let k=0;k<d;k++)u=h[k],b[u].push(o[k]);let _=[];for(let k=0;k<t;k++)_.push(b[k][0]),_.push(b[k][b[k].length-1]);_=_.sort((k,S)=>k-S),s.push(_[0]);for(let k=1;k<_.length;k+=2){const S=_[k];!isNaN(S)&&s.indexOf(S)===-1&&s.push(S)}}return s}const RT=(e,r)=>{e=new Fe(e),r=new Fe(r);const t=e.luminance(),n=r.luminance();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const k2=.027,OT=5e-4,NT=.1,S2=1.14,Hh=.022,M2=1.414,zT=(e,r)=>{e=new Fe(e),r=new Fe(r),e.alpha()<1&&(e=I0(r,e,e.alpha(),"rgb"));const t=E2(...e.rgb()),n=E2(...r.rgb()),i=t>=Hh?t:t+Math.pow(Hh-t,M2),o=n>=Hh?n:n+Math.pow(Hh-n,M2),s=Math.pow(o,.56)-Math.pow(i,.57),u=Math.pow(o,.65)-Math.pow(i,.62),d=Math.abs(o-i)<OT?0:i<o?s*S2:u*S2;return(Math.abs(d)<NT?0:d>0?d-k2:d+k2)*100};function E2(e,r,t){return .2126729*Math.pow(e/255,2.4)+.7151522*Math.pow(r/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:El,pow:cn,min:BT,max:VT,atan2:T2,abs:I2,cos:Yh,sin:L2,exp:$T,PI:P2}=Math;function WT(e,r,t=1,n=1,i=1){var o=function(ie){return 360*ie/(2*P2)},s=function(ie){return 2*P2*ie/360};e=new Fe(e),r=new Fe(r);const[u,d,h]=Array.from(e.lab()),[f,v,m]=Array.from(r.lab()),C=(u+f)/2,b=El(cn(d,2)+cn(h,2)),_=El(cn(v,2)+cn(m,2)),k=(b+_)/2,S=.5*(1-El(cn(k,7)/(cn(k,7)+cn(25,7)))),T=d*(1+S),I=v*(1+S),P=El(cn(T,2)+cn(h,2)),L=El(cn(I,2)+cn(m,2)),z=(P+L)/2,R=o(T2(h,T)),V=o(T2(m,I)),$=R>=0?R:R+360,W=V>=0?V:V+360,te=I2($-W)>180?($+W+360)/2:($+W)/2,ue=1-.17*Yh(s(te-30))+.24*Yh(s(2*te))+.32*Yh(s(3*te+6))-.2*Yh(s(4*te-63));let Y=W-$;Y=I2(Y)<=180?Y:W<=$?Y+360:Y-360,Y=2*El(P*L)*L2(s(Y)/2);const Z=f-u,q=L-P,G=1+.015*cn(C-50,2)/El(20+cn(C-50,2)),K=1+.045*z,X=1+.015*z*ue,J=30*$T(-cn((te-275)/25,2)),ee=-(2*El(cn(z,7)/(cn(z,7)+cn(25,7))))*L2(2*s(J)),H=El(cn(Z/(t*G),2)+cn(q/(n*K),2)+cn(Y/(i*X),2)+ee*(q/(n*K))*(Y/(i*X)));return VT(0,BT(100,H))}function UT(e,r,t="lab"){e=new Fe(e),r=new Fe(r);const n=e.get(t),i=r.get(t);let o=0;for(let s in n){const u=(n[s]||0)-(i[s]||0);o+=u*u}return Math.sqrt(o)}const HT=(...e)=>{try{return new Fe(...e),!0}catch{return!1}},YT={cool(){return wp([Zt.hsl(180,1,.9),Zt.hsl(250,.7,.4)])},hot(){return wp(["#000","#f00","#ff0","#fff"]).mode("rgb")}},_g={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},F5=Object.keys(_g),A2=new Map(F5.map(e=>[e.toLowerCase(),e])),XT=typeof Proxy=="function"?new Proxy(_g,{get(e,r){const t=r.toLowerCase();if(A2.has(t))return e[A2.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(F5)}}):_g,jT=(...e)=>{e=Rt(e,"cmyk");const[r,t,n,i]=e,o=e.length>4?e[4]:1;return i===1?[0,0,0,o]:[r>=1?0:255*(1-r)*(1-i),t>=1?0:255*(1-t)*(1-i),n>=1?0:255*(1-n)*(1-i),o]},{max:D2}=Math,GT=(...e)=>{let[r,t,n]=Rt(e,"rgb");r=r/255,t=t/255,n=n/255;const i=1-D2(r,D2(t,n)),o=i<1?1/(1-i):0,s=(1-r-i)*o,u=(1-t-i)*o,d=(1-n-i)*o;return[s,u,d,i]};Fe.prototype.cmyk=function(){return GT(this._rgb)};const KT=(...e)=>new Fe(...e,"cmyk");Object.assign(Zt,{cmyk:KT});Pt.format.cmyk=jT;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Rt(e,"cmyk"),jt(e)==="array"&&e.length===4)return"cmyk"}});const QT=(...e)=>{const r=Rt(e,"hsla");let t=D0(e)||"lsa";return r[0]=Ta(r[0]||0)+"deg",r[1]=Ta(r[1]*100)+"%",r[2]=Ta(r[2]*100)+"%",t==="hsla"||r.length>3&&r[3]<1?(r[3]="/ "+(r.length>3?r[3]:1),t="hsla"):r.length=3,`${t.substr(0,3)}(${r.join(" ")})`},ZT=(...e)=>{const r=Rt(e,"lab");let t=D0(e)||"lab";return r[0]=Ta(r[0])+"%",r[1]=Ta(r[1]),r[2]=Ta(r[2]),t==="laba"||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`lab(${r.join(" ")})`},qT=(...e)=>{const r=Rt(e,"lch");let t=D0(e)||"lab";return r[0]=Ta(r[0])+"%",r[1]=Ta(r[1]),r[2]=isNaN(r[2])?"none":Ta(r[2])+"deg",t==="lcha"||r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`lch(${r.join(" ")})`},JT=(...e)=>{const r=Rt(e,"lab");return r[0]=Ta(r[0]*100)+"%",r[1]=bg(r[1]),r[2]=bg(r[2]),r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`oklab(${r.join(" ")})`},R5=(...e)=>{const[r,t,n,...i]=Rt(e,"rgb"),[o,s,u]=jg(r,t,n),[d,h,f]=T5(o,s,u);return[d,h,f,...i.length>0&&i[0]<1?[i[0]]:[]]},eI=(...e)=>{const r=Rt(e,"lch");return r[0]=Ta(r[0]*100)+"%",r[1]=bg(r[1]),r[2]=isNaN(r[2])?"none":Ta(r[2])+"deg",r.length>3&&r[3]<1?r[3]="/ "+(r.length>3?r[3]:1):r.length=3,`oklch(${r.join(" ")})`},{round:Jf}=Math,tI=(...e)=>{const r=Rt(e,"rgba");let t=D0(e)||"rgb";if(t.substr(0,3)==="hsl")return QT(L5(r),t);if(t.substr(0,3)==="lab"){const n=w1();Fl("d50");const i=ZT(Ug(r),t);return Fl(n),i}if(t.substr(0,3)==="lch"){const n=w1();Fl("d50");const i=qT(Yg(r),t);return Fl(n),i}return t.substr(0,5)==="oklab"?JT(jg(r)):t.substr(0,5)==="oklch"?eI(R5(r)):(r[0]=Jf(r[0]),r[1]=Jf(r[1]),r[2]=Jf(r[2]),(t==="rgba"||r.length>3&&r[3]<1)&&(r[3]="/ "+(r.length>3?r[3]:1),t="rgba"),`${t.substr(0,3)}(${r.slice(0,t==="rgb"?3:4).join(" ")})`)},O5=(...e)=>{e=Rt(e,"lch");const[r,t,n,...i]=e,[o,s,u]=E5(r,t,n),[d,h,f]=Xg(o,s,u);return[d,h,f,...i.length>0&&i[0]<1?[i[0]]:[]]},Ol=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,ao=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,_p=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Pa=/\s*/.source,R0=/\s+/.source,Gg=/\s*,\s*/.source,Fp=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,O0=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,N5=new RegExp("^rgba?\\("+Pa+[Ol,Ol,Ol].join(R0)+O0+"\\)$"),z5=new RegExp("^rgb\\("+Pa+[Ol,Ol,Ol].join(Gg)+Pa+"\\)$"),B5=new RegExp("^rgba\\("+Pa+[Ol,Ol,Ol,ao].join(Gg)+Pa+"\\)$"),V5=new RegExp("^hsla?\\("+Pa+[Fp,_p,_p].join(R0)+O0+"\\)$"),$5=new RegExp("^hsl?\\("+Pa+[Fp,_p,_p].join(Gg)+Pa+"\\)$"),W5=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,U5=new RegExp("^lab\\("+Pa+[ao,ao,ao].join(R0)+O0+"\\)$"),H5=new RegExp("^lch\\("+Pa+[ao,ao,Fp].join(R0)+O0+"\\)$"),Y5=new RegExp("^oklab\\("+Pa+[ao,ao,ao].join(R0)+O0+"\\)$"),X5=new RegExp("^oklch\\("+Pa+[ao,ao,Fp].join(R0)+O0+"\\)$"),{round:j5}=Math,d0=e=>e.map((r,t)=>t<=2?Fc(j5(r),0,255):r),un=(e,r=0,t=100,n=!1)=>(typeof e=="string"&&e.endsWith("%")&&(e=parseFloat(e.substring(0,e.length-1))/100,n?e=r+(e+1)*.5*(t-r):e=r+e*(t-r)),+e),yi=(e,r)=>e==="none"?r:e,Kg=e=>{if(e=e.toLowerCase().trim(),e==="transparent")return[0,0,0,0];let r;if(Pt.format.named)try{return Pt.format.named(e)}catch{}if((r=e.match(N5))||(r=e.match(z5))){let t=r.slice(1,4);for(let i=0;i<3;i++)t[i]=+un(yi(t[i],0),0,255);t=d0(t);const n=r[4]!==void 0?+un(r[4],0,1):1;return t[3]=n,t}if(r=e.match(B5)){const t=r.slice(1,5);for(let n=0;n<4;n++)t[n]=+un(t[n],0,255);return t}if((r=e.match(V5))||(r=e.match($5))){const t=r.slice(1,4);t[0]=+yi(t[0].replace("deg",""),0),t[1]=+un(yi(t[1],0),0,100)*.01,t[2]=+un(yi(t[2],0),0,100)*.01;const n=d0(wg(t)),i=r[4]!==void 0?+un(r[4],0,1):1;return n[3]=i,n}if(r=e.match(W5)){const t=r.slice(1,4);t[1]*=.01,t[2]*=.01;const n=wg(t);for(let i=0;i<3;i++)n[i]=j5(n[i]);return n[3]=+r[4],n}if(r=e.match(U5)){const t=r.slice(1,4);t[0]=un(yi(t[0],0),0,100),t[1]=un(yi(t[1],0),-125,125,!0),t[2]=un(yi(t[2],0),-125,125,!0);const n=w1();Fl("d50");const i=d0(Wg(t));Fl(n);const o=r[4]!==void 0?+un(r[4],0,1):1;return i[3]=o,i}if(r=e.match(H5)){const t=r.slice(1,4);t[0]=un(t[0],0,100),t[1]=un(yi(t[1],0),0,150,!1),t[2]=+yi(t[2].replace("deg",""),0);const n=w1();Fl("d50");const i=d0(Hg(t));Fl(n);const o=r[4]!==void 0?+un(r[4],0,1):1;return i[3]=o,i}if(r=e.match(Y5)){const t=r.slice(1,4);t[0]=un(yi(t[0],0),0,1),t[1]=un(yi(t[1],0),-.4,.4,!0),t[2]=un(yi(t[2],0),-.4,.4,!0);const n=d0(Xg(t)),i=r[4]!==void 0?+un(r[4],0,1):1;return n[3]=i,n}if(r=e.match(X5)){const t=r.slice(1,4);t[0]=un(yi(t[0],0),0,1),t[1]=un(yi(t[1],0),0,.4,!1),t[2]=+yi(t[2].replace("deg",""),0);const n=d0(O5(t)),i=r[4]!==void 0?+un(r[4],0,1):1;return n[3]=i,n}};Kg.test=e=>N5.test(e)||V5.test(e)||U5.test(e)||H5.test(e)||Y5.test(e)||X5.test(e)||z5.test(e)||B5.test(e)||$5.test(e)||W5.test(e)||e==="transparent";Fe.prototype.css=function(e){return tI(this._rgb,e)};const rI=(...e)=>new Fe(...e,"css");Zt.css=rI;Pt.format.css=Kg;Pt.autodetect.push({p:5,test:(e,...r)=>{if(!r.length&&jt(e)==="string"&&Kg.test(e))return"css"}});Pt.format.gl=(...e)=>{const r=Rt(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r};const nI=(...e)=>new Fe(...e,"gl");Zt.gl=nI;Fe.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};Fe.prototype.hex=function(e){return k5(this._rgb,e)};const iI=(...e)=>new Fe(...e,"hex");Zt.hex=iI;Pt.format.hex=_5;Pt.autodetect.push({p:4,test:(e,...r)=>{if(!r.length&&jt(e)==="string"&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{log:Xh}=Math,G5=e=>{const r=e/100;let t,n,i;return r<66?(t=255,n=r<6?0:-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*Xh(n),i=r<20?0:-254.76935184120902+.8274096064007395*(i=r-10)+115.67994401066147*Xh(i)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*Xh(t),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*Xh(n),i=255),[t,n,i,1]},{round:aI}=Math,oI=(...e)=>{const r=Rt(e,"rgb"),t=r[0],n=r[2];let i=1e3,o=4e4;const s=.4;let u;for(;o-i>s;){u=(o+i)*.5;const d=G5(u);d[2]/d[0]>=n/t?o=u:i=u}return aI(u)};Fe.prototype.temp=Fe.prototype.kelvin=Fe.prototype.temperature=function(){return oI(this._rgb)};const eg=(...e)=>new Fe(...e,"temp");Object.assign(Zt,{temp:eg,kelvin:eg,temperature:eg});Pt.format.temp=Pt.format.kelvin=Pt.format.temperature=G5;Fe.prototype.oklch=function(){return R5(this._rgb)};const lI=(...e)=>new Fe(...e,"oklch");Object.assign(Zt,{oklch:lI});Pt.format.oklch=O5;Pt.autodetect.push({p:2,test:(...e)=>{if(e=Rt(e,"oklch"),jt(e)==="array"&&e.length===3)return"oklch"}});Object.assign(Zt,{analyze:A5,average:sT,bezier:fT,blend:lo,brewer:XT,Color:Fe,colors:T0,contrast:RT,contrastAPCA:zT,cubehelix:ET,deltaE:WT,distance:UT,input:Pt,interpolate:I0,limits:D5,mix:I0,random:PT,scale:wp,scales:YT,valid:HT});var sI=re("<div tabindex=0><div class=selector-container><i class=arrow></i></div><div class=drop-down-container style=left:50%;top:20%><div class=split_line></div><div class=submit><span class=cancel>Cancel</span><span>Ok"),cI=re("<div class=each_line>"),uI=re("<div>");const Qg=e=>{const[r,t]=pe(!1),[n,i]=pe(e.value),[o,s]=pe(e.value),u=[["rgb(255, 255, 255)","rgb(178, 181, 190)","rgb(149, 152, 161)","rgb(120, 123, 134)","rgb(93, 96, 107)","rgb(42, 46, 57)","rgb(0, 0, 0)"],["rgb(242, 54, 69)","rgb(252, 203, 205)","rgb(250, 161, 164)","rgb(247, 124, 128)","rgb(247, 82, 95)","rgb(178, 40, 51)","rgb(128, 25, 34)"],["rgb(255, 152, 0)","rgb(255, 224, 178)","rgb(255, 204, 128)","rgb(255, 183, 77)","rgb(255, 167, 38)","rgb(245, 124, 0)","rgb(230, 81, 0)"],["rgb(255, 235, 59)","rgb(255, 249, 196)","rgb(255, 245, 157)","rgb(255, 241, 118)","rgb(255, 238, 88)","rgb(251, 192, 45)","rgb(245, 127, 23)"],["rgb(76, 175, 80)","rgb(200, 230, 201)","rgb(165, 214, 167)","rgb(129, 199, 132)","rgb(102, 187, 106)","rgb(56, 142, 60)","rgb(27, 94, 32)"],["rgb(8, 153, 129)","rgb(172, 229, 220)","rgb(112, 204, 189)","rgb(66, 189, 168)","rgb(34, 171, 148)","rgb(5, 102, 86)","rgb(0, 51, 42)"],["rgb(0, 188, 212)","rgb(178, 235, 242)","rgb(128, 222, 234)","rgb(77, 208, 225)","rgb(38, 198, 218)","rgb(0, 151, 167)","rgb(0, 96, 100)"],["rgb(41, 98, 255)","rgb(187, 217, 251)","rgb(144, 191, 249)","rgb(91, 156, 246)","rgb(49, 121, 245)","rgb(24, 72, 204)","rgb(12, 50, 153)"],["rgb(103, 58, 183)","rgb(209, 196, 233)","rgb(179, 157, 219)","rgb(149, 117, 205)","rgb(126, 87, 194)","rgb(81, 45, 168)","rgb(49, 27, 146)"],["rgb(156, 39, 176)","rgb(225, 190, 231)","rgb(206, 147, 216)","rgb(186, 104, 200)","rgb(171, 71, 188)","rgb(123, 31, 162)","rgb(74, 20, 140)"],["rgb(233, 30, 99)","rgb(248, 187, 208)","rgb(244, 143, 177)","rgb(240, 98, 146)","rgb(236, 64, 122)","rgb(194, 24, 91)","rgb(136, 14, 79)"],["#00698b","#fb7b50"]],d=()=>{t(!1)},h=()=>{var v;i(e.value),s(e.value),(v=e.onChange)==null||v.call(e,e.value),d()},f=()=>{var v;const m=Zt(n()).alpha(100).css();s(m),(e.reactiveChange??!0)&&((v=e.onChange)==null||v.call(e,o()))};return(()=>{var v=sI(),m=v.firstChild,C=m.nextSibling,b=C.firstChild,_=b.nextSibling,k=_.firstChild,S=k.nextSibling;return m.$$click=T=>{t(!0)},N(C,()=>u.map(T=>(()=>{var I=cI();return N(I,()=>T.map(P=>(()=>{var L=uI();return L.$$click=z=>{z.stopPropagation(),i(P),f()},$e(z=>{var R=`each_color ${P==n()?"selected":""}`,V=`background-color: ${P}`;return R!==z.e&&er(L,z.e=R),z.t=La(L,V,z.t),z},{e:void 0,t:void 0}),L})())),I})()),b),k.$$click=h,S.$$click=()=>{var T;e.reactiveChange===!1&&((T=e.onChange)==null||T.call(e,o())),d()},$e(T=>{var I=`width: 120px; background-color: ${o()}; border-radius: 10px`,P=`chartspire-ui-color ${e.class??""} ${r()?"chartspire-ui-color-palette-show":""}`;return T.e=La(v,I,T.e),P!==T.t&&er(v,T.t=P),T},{e:void 0,t:void 0}),v})()};_r(["click"]);class K5{constructor(r){Re(this,"dataFeeds",new Map),Re(this,"trackedSymbols",new Map),Re(this,"priceCallbacks",new Set),Re(this,"currentPrices",new Map),Re(this,"updateIntervals",new Map),Re(this,"config"),this.config={updateInterval:3e4,enableLogging:!0,...r},this.log(`[PriceTrackingService] Initialized with ${this.config.updateInterval}ms update interval`)}log(r,...t){this.config.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.config.enableLogging&&console.warn(r,...t)}setDataFeed(r,t){this.dataFeeds.set(r,t),this.log(`[PriceTrackingService] Set data feed for ticker type: ${r}`)}setDataFeeds(r){this.dataFeeds=new Map(r),this.log(`[PriceTrackingService] Set ${r.size} data feeds:`,Array.from(r.keys()))}getDataFeedForTicker(r){var t;const n=((t=r.type)==null?void 0:t.toString())||"default";return this.dataFeeds.get(n)||null}trackSymbol(r){if(!this.getDataFeedForTicker(r)){this.logWarn(`[PriceTrackingService] No DataFeed found for ticker type ${r.type}, cannot track symbol:`,r.ticker);return}const t=r.ticker;this.trackedSymbols.has(t)||(this.trackedSymbols.set(t,r),this.startPriceFetching(r),this.log(`[PriceTrackingService] Started tracking price for ${t} using ${r.type} datafeed (${this.config.updateInterval}ms interval)`))}async startPriceFetching(r){const t=r.ticker;await this.fetchPrice(r);const n=setInterval(async()=>{await this.fetchPrice(r)},this.config.updateInterval);this.updateIntervals.set(t,n)}async fetchPrice(r){const t=this.getDataFeedForTicker(r);if(!t){this.logWarn(`[PriceTrackingService] No DataFeed available for ${r.ticker} (${r.type})`);return}const n=r.ticker,i=Date.now(),o=i-60*1e3;try{this.logWarn(`[PriceTrackingService] Fetching price for ${n} using ${r.type} datafeed...`);const s={multiplier:1,timespan:dn.MINUTE,text:Ue.ONE_MIN},u=await t.getHistoricalTimeSeries(r,s,o,i,r.type);if(u&&u.length>0){const d=u[u.length-1],h=d.close;if(h!==void 0){this.currentPrices.set(n,h);const f={symbol:n,price:h,timestamp:d.timestamp??i};this.log(`[PriceTrackingService] Price update for ${n} (${r.type}): $${h.toFixed(2)}`),this.priceCallbacks.forEach(v=>{try{v(f)}catch(m){console.error(`[PriceTrackingService] Error in price update callback for ${n}:`,m)}})}}else this.logWarn(`[PriceTrackingService] No data received for ${n} (${r.type})`)}catch(s){console.error(`[PriceTrackingService] Error fetching price for ${n} (${r.type}):`,s)}}untrackSymbol(r){if(!this.trackedSymbols.get(r))return;const t=this.updateIntervals.get(r);t&&(clearInterval(t),this.updateIntervals.delete(r)),this.trackedSymbols.delete(r),this.currentPrices.delete(r),this.log(`[PriceTrackingService] Stopped tracking price for ${r}`)}getCurrentPrice(r){return this.currentPrices.get(r)??null}getTrackedSymbols(){return Array.from(this.trackedSymbols.keys())}addPriceCallback(r){this.priceCallbacks.add(r)}removePriceCallback(r){this.priceCallbacks.delete(r)}updateTrackedSymbols(r,t){const n=new Set(this.trackedSymbols.keys()),i=new Set(r);for(const o of n)i.has(o)||this.untrackSymbol(o);for(const o of r)if(!n.has(o)){const s=t(o);s&&this.trackSymbol(s)}}cleanup(){for(const[r,t]of this.updateIntervals)clearInterval(t),this.log(`[PriceTrackingService] Cleared interval for ${r}`);this.updateIntervals.clear(),this.trackedSymbols.clear(),this.currentPrices.clear(),this.priceCallbacks.clear(),this.log("[PriceTrackingService] Cleanup completed")}isLoggingEnabled(){return this.config.enableLogging}updateConfig(r){const t=this.config.updateInterval;if(this.config={...this.config,...r},r.updateInterval&&r.updateInterval!==t){this.log(`[PriceTrackingService] Update interval changed from ${t}ms to ${this.config.updateInterval}ms`);const n=Array.from(this.trackedSymbols.values());this.cleanup(),n.forEach(i=>{this.trackSymbol(i)})}}getCurrentConfig(){return{...this.config}}}var hn=(e=>(e.MARKET="MARKET",e.LIMIT="LIMIT",e))(hn||{}),Yn=(e=>(e.PENDING="PENDING",e.FILLED="FILLED",e.CANCELLED="CANCELLED",e))(Yn||{});class Zg{constructor(){Re(this,"storageKey","chartspire-paper-trading")}save(r){try{localStorage.setItem(this.storageKey,JSON.stringify(r))}catch(t){console.error("Error saving paper trading data to local storage:",t)}}load(){try{const r=localStorage.getItem(this.storageKey);return r?JSON.parse(r):null}catch(r){return console.error("Error loading paper trading data from local storage:",r),null}}}class dI{constructor(r,t,n=!0){Re(this,"storageProvider"),Re(this,"tickerInfoCache"),Re(this,"isInitialized",!1),Re(this,"enableLogging"),this.storageProvider=r??new Zg,this.tickerInfoCache=t??new Map,this.enableLogging=n}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}isExternalStorageProvider(r){return"loadAsync"in r}loadData(){const r=this.storageProvider.load();return r?(this.migrateDataIfNeeded(r),r):{orders:[],positions:[],trades:[],balance:1e4}}async initializeAsync(){if(this.isExternalStorageProvider(this.storageProvider)){const r=await this.storageProvider.loadAsync();return r?(this.migrateDataIfNeeded(r),this.log("[DataStorageManager] Loaded data from external storage"),this.isInitialized=!0,r):(this.log("[DataStorageManager] No external data found, using default data"),this.isInitialized=!0,this.getDefaultData())}else return this.isInitialized=!0,this.loadData()}getDefaultData(){return{orders:[],positions:[],trades:[],balance:1e4}}saveData(r){if(!this.isInitialized){this.logWarn("[DataStorageManager] Attempted to save data before initialization completed, skipping...");return}this.log("[DataStorageManager] Saving data:",{ordersCount:r.orders.length,positionsCount:r.positions.length,tradesCount:r.trades.length,balance:r.balance}),this.storageProvider.save(r)}migrateDataIfNeeded(r){r.orders.forEach(i=>{if(!i.tickerType){const o=this.tickerInfoCache.get(i.symbol);o!=null&&o.type?(i.tickerType=o.type.toString(),this.log(`[DataStorageManager] Migration: Set ticker type for order ${i.symbol} from cache: ${i.tickerType}`)):(i.tickerType="Unknown",this.logWarn(`[DataStorageManager] Migration: Could not determine ticker type for order ${i.symbol}, set to 'Unknown'. Price tracking may not work correctly.`))}}),r.positions.forEach(i=>{if(!i.tickerType){const o=this.tickerInfoCache.get(i.symbol);o!=null&&o.type?(i.tickerType=o.type.toString(),this.log(`[DataStorageManager] Migration: Set ticker type for position ${i.symbol} from cache: ${i.tickerType}`)):(i.tickerType="Unknown",this.logWarn(`[DataStorageManager] Migration: Could not determine ticker type for position ${i.symbol}, set to 'Unknown'. Price tracking may not work correctly.`))}});const t=r.orders.length;r.orders=r.orders.filter(i=>i.status===Yn.PENDING);const n=t-r.orders.length;n>0&&this.log(`[DataStorageManager] Migration: Removed ${n} filled/cancelled orders from storage to keep it clean`)}isStorageInitialized(){return this.isInitialized}isUsingExternalStorage(){return this.isExternalStorageProvider(this.storageProvider)}setTickerInfoCache(r){this.tickerInfoCache=r}setLoggingEnabled(r){this.enableLogging=r}}class hI{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}validateOrder(r,t,n){const{symbol:i,side:o,quantity:s,type:u,price:d,currentPrice:h,tickerType:f}=r;if(s<=0)throw new Error("Quantity must be greater than 0");if(u===hn.LIMIT&&d<=0)throw new Error("Limit price must be greater than 0");if(!f||f.trim()==="")throw new Error("Ticker type is required when placing orders");const v=(u===hn.MARKET?h:d)*s;if(o==="buy"&&v>t)throw new Error("Insufficient balance");if(o==="sell"){const m=n.find(b=>b.symbol===i&&b.side==="buy"),C=m?m.quantity:0;if(C<s)throw new Error(`Insufficient shares to sell. You own ${C} ${i} but trying to sell ${s}`)}}createOrder(r){const{symbol:t,side:n,quantity:i,type:o,price:s,currentPrice:u,tickerType:d}=r,h=o===hn.MARKET?u:s;return{id:this.generateId(),symbol:t,side:n,quantity:i,type:o,price:h,status:Yn.PENDING,timestamp:Date.now(),tickerType:d.trim()}}shouldExecuteLimitOrder(r,t){return r.type!==hn.LIMIT?!0:(this.log("[OrderManager] Checking limit order execution:",{orderId:r.id,symbol:r.symbol,side:r.side,limitPrice:r.price,marketPrice:t,shouldExecute:r.side==="buy"?t<=r.price:t>=r.price}),r.side==="buy"&&t>r.price?(this.log(`[OrderManager] Buy limit order NOT executed: market price ${t} > limit price ${r.price}`),!1):r.side==="sell"&&t<r.price?(this.log(`[OrderManager] Sell limit order NOT executed: market price ${t} < limit price ${r.price}`),!1):(this.log(`[OrderManager] Limit order EXECUTING: ${r.side} ${r.symbol} at market price ${t} (limit was ${r.price})`),!0))}fillOrder(r){r.status=Yn.FILLED,r.filledAt=Date.now(),this.log(`[OrderManager] Order ${r.id} filled and will be removed from storage to keep storage clean`)}cancelOrder(r){if(r.status!==Yn.PENDING)throw new Error("Order cannot be cancelled");r.status=Yn.CANCELLED,this.log(`[OrderManager] Order ${r.id} cancelled and will be removed from storage to keep storage clean`)}checkLimitOrdersForExecution(r,t,n){const i=r.filter(o=>o.symbol===t&&o.status===Yn.PENDING&&o.type===hn.LIMIT);return i.length>0&&this.log(`[OrderManager] Checking ${i.length} pending limit orders for ${t} at price $${n.toFixed(2)}`),i.filter(o=>this.shouldExecuteLimitOrder(o,n))}getPendingOrders(r){return r.filter(t=>t.status===Yn.PENDING)}getPendingLimitOrdersForSymbol(r,t){return r.filter(n=>n.symbol===t&&n.status===Yn.PENDING&&n.type===hn.LIMIT)}hasPendingLimitOrders(r){return r.some(t=>t.status===Yn.PENDING&&t.type===hn.LIMIT)}calculatePendingBuyOrdersValue(r){return r.filter(t=>t.status===Yn.PENDING&&t.side==="buy").reduce((t,n)=>t+n.price*n.quantity,0)}getPendingOrdersInfo(r){const t=r.filter(o=>o.status===Yn.PENDING&&o.side==="buy"),n=r.filter(o=>o.status===Yn.PENDING&&o.side==="sell"),i=this.calculatePendingBuyOrdersValue(r);return{pendingBuyOrders:t,pendingSellOrders:n,totalBuyOrdersValue:i}}setLoggingEnabled(r){this.enableLogging=r}}class pI{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}updatePosition(r,t,n){let i=0;if(t.side==="buy"){const o=r.find(s=>s.symbol===t.symbol&&s.side==="buy");if(o){const s=o.quantity+t.quantity,u=o.averagePrice*o.quantity+n*t.quantity;o.quantity=s,o.averagePrice=u/s,o.tickerType=t.tickerType}else{const s={id:this.generateId(),symbol:t.symbol,side:"buy",quantity:t.quantity,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(s)}}else{const o=r.find(s=>s.symbol===t.symbol&&s.side==="buy");if(o)if(t.quantity>=o.quantity){const s=t.quantity-o.quantity,u=(n-o.averagePrice)*o.quantity;i+=u;const d=r.findIndex(h=>h.id===o.id);if(r.splice(d,1),s>0){const h={id:this.generateId(),symbol:t.symbol,side:"sell",quantity:s,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(h)}}else{const s=t.quantity,u=o.quantity-s,d=(n-o.averagePrice)*s;i+=d,o.quantity=u}else{const s=r.find(u=>u.symbol===t.symbol&&u.side==="sell");if(s){const u=s.quantity+t.quantity,d=s.averagePrice*s.quantity+n*t.quantity;s.quantity=u,s.averagePrice=d/u,s.tickerType=t.tickerType}else{const u={id:this.generateId(),symbol:t.symbol,side:"sell",quantity:t.quantity,averagePrice:n,unrealizedPnL:0,realizedPnL:0,timestamp:Date.now(),tickerType:t.tickerType};r.push(u)}}}return{updatedBalance:i}}updatePositionPnL(r,t,n){r.filter(i=>i.symbol===t).forEach(i=>{i.side==="buy"?i.unrealizedPnL=(n-i.averagePrice)*i.quantity:i.unrealizedPnL=(i.averagePrice-n)*i.quantity})}closePosition(r,t,n){const i=r.findIndex(h=>h.id===t);if(i===-1)throw new Error("Position not found");const o=r[i];if(!n||n<=0)throw new Error(`Invalid current price: ${n}. Cannot close position.`);this.log("[PositionManager] Closing position"),this.log("[PositionManager] Position details:",{symbol:o.symbol,side:o.side,quantity:o.quantity,averagePrice:o.averagePrice,currentPrice:n});let s=0;o.side==="buy"?s=(n-o.averagePrice)*o.quantity:s=(o.averagePrice-n)*o.quantity,this.log(`[PositionManager] Calculated realized P&L: $${s.toFixed(2)}`);const u=n*o.quantity;this.log(`[PositionManager] Total proceeds from sale: $${u.toFixed(2)}`),this.log(`[PositionManager] Original investment: $${(o.averagePrice*o.quantity).toFixed(2)}`),this.log(`[PositionManager] Net P&L from this position: $${s.toFixed(2)}`);const d={id:this.generateId(),orderId:`close-${o.id}`,symbol:o.symbol,side:o.side==="buy"?"sell":"buy",quantity:o.quantity,price:n,timestamp:Date.now()};return this.log(`[PositionManager] Closed position ${o.symbol} ${o.side} ${o.quantity} at $${n.toFixed(2)}, realized P&L: $${s.toFixed(2)}`),r.splice(i,1),{balanceChange:u,trade:d}}getPositionsForSymbol(r,t){return r.filter(n=>n.symbol===t)}getSymbolsWithPositions(r){const t=new Set;return r.forEach(n=>t.add(n.symbol)),Array.from(t)}hasOpenPositions(r){return r.length>0}getTotalUnrealizedPnL(r){return r.reduce((t,n)=>t+n.unrealizedPnL,0)}getTotalRealizedPnL(r){return r.reduce((t,n)=>t+n.realizedPnL,0)}setLoggingEnabled(r){this.enableLogging=r}}class fI{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}calculatePendingBuyOrdersValue(r){return r.filter(t=>t.status==="PENDING"&&t.side==="buy").reduce((t,n)=>t+n.price*n.quantity,0)}addCash(r,t){if(t<=0)throw new Error("Amount must be greater than 0");const n=r+t;return this.log(`[BalanceManager] Added $${t.toFixed(2)} to account. New balance: $${n.toFixed(2)}`),n}removeCash(r,t,n){if(t<=0)throw new Error("Amount must be greater than 0");if(t>r)throw new Error(`Insufficient balance. Current balance: $${r.toFixed(2)}, trying to remove: $${t.toFixed(2)}`);const i=this.calculatePendingBuyOrdersValue(n),o=r-t;if(o<i)throw new Error(`Cannot remove $${t.toFixed(2)}. Pending buy orders require $${i.toFixed(2)} but new balance would be $${o.toFixed(2)}. Cancel some orders or remove less cash.`);return this.log(`[BalanceManager] Removed $${t.toFixed(2)} from account. New balance: $${o.toFixed(2)}`),o}setBalance(r,t){if(r<0)throw new Error("Balance cannot be negative");const n=this.calculatePendingBuyOrdersValue(t);if(r<n)throw new Error(`Cannot set balance to $${r.toFixed(2)}. Pending buy orders require $${n.toFixed(2)}. Cancel some orders first.`);return this.log(`[BalanceManager] Set balance to $${r.toFixed(2)}`),r}getPendingOrdersInfo(r,t){const n=t.filter(d=>d.status==="PENDING"&&d.side==="buy"),i=t.filter(d=>d.status==="PENDING"&&d.side==="sell"),o=this.calculatePendingBuyOrdersValue(t),s=r-o,u=Math.max(0,s);return{pendingBuyOrders:n,pendingSellOrders:i,totalBuyOrdersValue:o,availableCashAfterOrders:s,maxCashRemoval:u}}updateBalanceForOrderExecution(r,t,n){return t==="buy"?r-n:r+n}validateBalanceForOrder(r,t,n){return t==="buy"?r>=n:!0}setLoggingEnabled(r){this.enableLogging=r}}class gI{constructor(r=1e3,t=!0){Re(this,"maxTrades"),Re(this,"enableLogging"),this.maxTrades=Math.max(1,r),this.enableLogging=t}log(r,...t){this.enableLogging&&console.log(r,...t)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}createTrade(r,t,n,i,o){return{id:this.generateId(),orderId:r,symbol:t,side:n,quantity:i,price:o,timestamp:Date.now()}}addTrade(r,t){r.push(t),this.limitTrades(r)}limitTrades(r){if(r.length>this.maxTrades){r.sort((n,i)=>n.timestamp-i.timestamp);const t=r.length-this.maxTrades;r.splice(0,t),this.log(`[TradeManager] Limited trades to ${this.maxTrades}, removed ${t} oldest trades`)}}clearAllTrades(r){const t=r.length;return r.length=0,this.log(`[TradeManager] Cleared ${t} trades from history`),t}getTradesForSymbol(r,t){return r.filter(n=>n.symbol===t)}getTradesInDateRange(r,t,n){return r.filter(i=>i.timestamp>=t&&i.timestamp<=n)}getTradesForOrder(r,t){return r.filter(n=>n.orderId===t)}getTotalVolumeForSymbol(r,t){return r.filter(n=>n.symbol===t).reduce((n,i)=>n+i.quantity,0)}getTotalValueForSymbol(r,t){return r.filter(n=>n.symbol===t).reduce((n,i)=>n+i.quantity*i.price,0)}getTradeStatistics(r){const t=r.length,n=r.reduce((d,h)=>d+h.quantity,0),i=r.reduce((d,h)=>d+h.quantity*h.price,0),o=new Set(r.map(d=>d.symbol)).size,s=t>0?n/t:0,u=t>0?i/t:0;return{totalTrades:t,totalVolume:n,totalValue:i,uniqueSymbols:o,averageTradeSize:s,averageTradeValue:u}}getRecentTrades(r,t=10){return r.sort((n,i)=>i.timestamp-n.timestamp).slice(0,t)}setMaxTrades(r){this.maxTrades=Math.max(1,r)}getMaxTrades(){return this.maxTrades}setLoggingEnabled(r){this.enableLogging=r}}class vI{constructor(r,t,n,i,o=!0){Re(this,"data"),Re(this,"dataStorageManager"),Re(this,"orderManager"),Re(this,"positionManager"),Re(this,"balanceManager"),Re(this,"tradeManager"),Re(this,"priceTrackingService"),Re(this,"tickerInfoCache",new Map),Re(this,"isUIVisible",!1),Re(this,"enableLogging"),this.enableLogging=o,this.dataStorageManager=new dI(r??new Zg,this.tickerInfoCache,o),this.orderManager=new hI(o),this.positionManager=new pI(o),this.balanceManager=new fI(o),this.tradeManager=new gI(i,o),this.priceTrackingService=t??new K5(n),this.dataStorageManager.isUsingExternalStorage()?(this.data=this.dataStorageManager.getDefaultData(),this.log("[PaperTradingService] Initialized with default data for external storage (async load will follow)")):(this.data=this.dataStorageManager.loadData(),this.log("[PaperTradingService] Initialized with local storage data")),this.setupPriceTracking()}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}async initializeAsync(){this.dataStorageManager.isUsingExternalStorage()&&(this.data=await this.dataStorageManager.initializeAsync(),this.log("[PaperTradingService] Async initialization completed"),this.updateTrackedSymbols())}saveData(){this.dataStorageManager.saveData(this.data)}setupPriceTracking(){this.priceTrackingService.addPriceCallback(r=>{this.log(`[PaperTradingService] Price update received: ${r.symbol} = $${r.price.toFixed(2)}`),this.checkLimitOrdersForSymbol(r.symbol,r.price),this.updatePositionPnLForSymbol(r.symbol,r.price)}),this.updateTrackedSymbols()}updateTrackedSymbols(){if(!this.isUIVisible)return;const r=new Set;for(const t of this.data.orders)t.status===Yn.PENDING&&t.type===hn.LIMIT&&r.add(t.symbol);for(const t of this.data.positions)r.add(t.symbol);this.priceTrackingService.updateTrackedSymbols(Array.from(r),t=>this.tickerInfoCache.get(t)??null)}createTickerInfo(r,t){return this.tickerInfoCache.get(r)||(t?{ticker:r,type:t,name:r}:null)}checkLimitOrdersForSymbol(r,t){this.orderManager.checkLimitOrdersForExecution(this.data.orders,r,t).forEach(n=>{this.executeOrder(n.id,t)}),this.updateTrackedSymbols()}updatePositionPnLForSymbol(r,t){this.positionManager.updatePositionPnL(this.data.positions,r,t)}setDataFeed(r,t){this.priceTrackingService.setDataFeed(r,t)}setDataFeeds(r){this.priceTrackingService.setDataFeeds(r)}cacheTickerInfo(r){this.tickerInfoCache.set(r.ticker,r)}updatePriceTrackingConfig(r){this.priceTrackingService.updateConfig(r)}setPriceTrackingInterval(r){if(r<1e3)throw new Error("Price tracking interval must be at least 1000ms (1 second)");this.priceTrackingService.updateConfig({updateInterval:r})}getCurrentConfig(){return this.priceTrackingService.getCurrentConfig()}setPriceTrackingLogging(r){this.priceTrackingService.updateConfig({enableLogging:r}),this.enableLogging=r,this.dataStorageManager.setLoggingEnabled(r),this.orderManager.setLoggingEnabled(r),this.positionManager.setLoggingEnabled(r),this.balanceManager.setLoggingEnabled(r),this.tradeManager.setLoggingEnabled(r)}getOrders(){return[...this.data.orders]}getPositions(){return[...this.data.positions]}getTrades(){return[...this.data.trades]}getBalance(){return this.data.balance}placeOrder(r){this.orderManager.validateOrder(r,this.data.balance,this.data.positions);const t=this.orderManager.createOrder(r);return this.data.orders.push(t),t.type===hn.MARKET?this.executeOrder(t.id,r.currentPrice):this.updateTrackedSymbols(),this.saveData(),t}executeOrder(r,t){const n=this.data.orders.find(d=>d.id===r);if(!n||n.status!==Yn.PENDING||!this.orderManager.shouldExecuteLimitOrder(n,t))return;const i=t*n.quantity;this.data.balance=this.balanceManager.updateBalanceForOrderExecution(this.data.balance,n.side,i);const o=this.positionManager.updatePosition(this.data.positions,n,t);this.data.balance+=o.updatedBalance;const s=this.tradeManager.createTrade(n.id,n.symbol,n.side,n.quantity,t);this.tradeManager.addTrade(this.data.trades,s),this.orderManager.fillOrder(n);const u=this.data.orders.findIndex(d=>d.id===r);u!==-1&&(this.data.orders.splice(u,1),this.log(`[PaperTradingService] Removed filled order ${r} from storage`)),this.updateTrackedSymbols(),this.saveData()}cancelOrder(r){const t=this.data.orders.find(i=>i.id===r);if(!t)throw new Error("Order not found");this.orderManager.cancelOrder(t);const n=this.data.orders.findIndex(i=>i.id===r);n!==-1&&(this.data.orders.splice(n,1),this.log(`[PaperTradingService] Removed cancelled order ${r} from storage`)),this.updateTrackedSymbols(),this.saveData()}updatePositionPnL(r,t){this.positionManager.updatePositionPnL(this.data.positions,r,t)}closePosition(r,t){const n=this.data.balance;this.log(`[PaperTradingService] Closing position - Initial balance: $${n.toFixed(2)}`);const i=this.positionManager.closePosition(this.data.positions,r,t);this.data.balance+=i.balanceChange,this.log(`[PaperTradingService] Updated balance: $${this.data.balance.toFixed(2)} (added proceeds: +$${i.balanceChange.toFixed(2)})`),this.tradeManager.addTrade(this.data.trades,i.trade),this.updateTrackedSymbols(),this.saveData(),this.log(`[PaperTradingService] Position close completed. Final balance: $${this.data.balance.toFixed(2)}`)}addCash(r){this.data.balance=this.balanceManager.addCash(this.data.balance,r),this.saveData()}removeCash(r){this.data.balance=this.balanceManager.removeCash(this.data.balance,r,this.data.orders),this.saveData()}setBalance(r){this.data.balance=this.balanceManager.setBalance(r,this.data.orders),this.saveData()}getPendingOrdersInfo(){return this.balanceManager.getPendingOrdersInfo(this.data.balance,this.data.orders)}clearAllTrades(){this.tradeManager.clearAllTrades(this.data.trades),this.saveData()}checkLimitOrders(r,t){this.checkLimitOrdersForSymbol(r,t)}reset(){this.data=this.dataStorageManager.getDefaultData(),this.updateTrackedSymbols(),this.saveData()}startPriceTrackingForPendingOrders(){this.isUIVisible=!0,this.log("[PaperTradingService] UI opened, starting price tracking for pending orders and positions...");const r=new Set;for(const i of this.data.orders)i.status===Yn.PENDING&&i.type===hn.LIMIT&&r.add(i.symbol);for(const i of this.data.positions)r.add(i.symbol);const t=this.data.orders.filter(i=>i.status===Yn.PENDING&&i.type===hn.LIMIT).map(i=>i.symbol),n=this.data.positions.map(i=>i.symbol);this.log(`[PaperTradingService] Found ${t.length} symbols with pending limit orders:`,t),this.log(`[PaperTradingService] Found ${n.length} symbols with open positions:`,n),this.log(`[PaperTradingService] Total ${r.size} unique symbols to track:`,Array.from(r));for(const i of r){let o=this.tickerInfoCache.get(i);if(!o){const s=this.data.orders.find(h=>h.symbol===i),u=this.data.positions.find(h=>h.symbol===i),d=(s==null?void 0:s.tickerType)||(u==null?void 0:u.tickerType);if(d){const h=this.createTickerInfo(i,d);h&&(o=h,this.tickerInfoCache.set(i,o))}}o?(this.log(`[PaperTradingService] Starting tracking for ${i} (type: ${o.type})`),this.priceTrackingService.trackSymbol(o)):this.logWarn(`[PaperTradingService] No ticker info available for ${i} - cannot track price`)}r.size===0&&this.log("[PaperTradingService] No pending orders or positions found, no price tracking needed")}stopPriceTrackingForUI(){this.isUIVisible=!1,this.log("[PaperTradingService] UI closed, stopping all price tracking..."),this.priceTrackingService.cleanup()}hasPendingLimitOrders(){return this.orderManager.hasPendingLimitOrders(this.data.orders)}hasItemsNeedingPriceTracking(){const r=this.orderManager.hasPendingLimitOrders(this.data.orders),t=this.positionManager.hasOpenPositions(this.data.positions);return r||t}isUICurrentlyVisible(){return this.isUIVisible}cleanup(){this.isUIVisible=!1,this.priceTrackingService.cleanup()}}const mI=async()=>null;class yI{constructor(r=!0){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}save(r){this.log("[ExternalStorageProvider] Saving paper trading data via callback"),this.log("[ExternalStorageProvider] Data to save:",r),this.log("[ExternalStorageProvider] Data type:",typeof r),this.log("[ExternalStorageProvider] Data keys:",Object.keys(r||{})),this.logWarn("[ExternalStorageProvider] No save callback registered, data not saved")}load(){return this.log("[ExternalStorageProvider] Load called - use loadAsync() for external storage"),null}async loadAsync(){try{this.log("[ExternalStorageProvider] Loading paper trading data via callback");const r=await mI();return r?(this.log("[ExternalStorageProvider] Paper trading data loaded successfully"),r):(this.log("[ExternalStorageProvider] No paper trading data found"),null)}catch(r){return console.error("[ExternalStorageProvider] Error loading paper trading data:",r),null}}}var xI=re("<div class=form-group><label></label><input type=number min=0 step=0.01>"),CI=re("<div class=trade-form><div class=order-type-selector><button></button><button></button></div><div class=side-selector><button></button><button></button></div><div class=form-group><label></label><input type=number min=1 step=1></div><div class=order-summary><div class=summary-row><span>:</span><span></span></div></div><button> "),F2=re("<div class=empty-state>"),bI=re("<div class=positions-list>"),wI=re("<div class=orders-list>"),_I=re("<div class=empty-state><div class=empty-icon></div><div class=empty-title></div><div class=empty-subtitle>"),kI=re("<div class=trades-header><button class=clear-trades-btn> "),SI=re("<div class=trades-table-header><div class=header-symbol></div><div class=header-details><span class=header-qty></span><span class=header-price></span><span class=header-total></span></div><div class=header-time>"),MI=re("<div class=trades-list>"),EI=re("<div class=cash-warning>"),TI=re('<div class=cash-management><div class=cash-form><div class=form-group><label></label><input type=number min=0 step=100></div><div class=form-group><label></label><select><option value=add></option><option value=remove></option></select></div><button> </button><button class="cash-operation-btn remove"style=margin-top:15px;background:#dc3545;border-color:#dc3545;></button></div><div class=pending-orders-summary><h4>'),II=re("<div class=paper-trading-container><div class=paper-trading-header><h3></h3><div class=balance>: </div></div><div class=current-ticker><div class=ticker-info><span class=symbol></span><span class=price></span></div></div><div class=tab-navigation><button></button><button> (<!>)</button><button> (<!>)</button><button> (<!>)</button><button></button></div><div class=tab-content>"),LI=re("<div class=position-item><div class=position-header><span class=symbol></span><span></span></div><div class=position-details><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div></div><button class=close-position-btn>"),PI=re("<div class=order-item><div class=order-header><span class=symbol></span><span></span><span class=type></span></div><div class=order-details><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div><div class=detail-row><span>:</span><span></span></div></div><button class=cancel-order-btn>"),AI=re('<div class="trade-item compact"><div class=trade-row><div class=trade-symbol><span class=symbol></span><span> </span></div><div class=trade-details><span class=quantity></span><span class=price></span><span class=total></span></div><div class=trade-time><br>'),DI=re("<div><div>: </div><div>: </div><div>: "),FI=re("<div class=error-text>"),RI=re("<div class=summary-details><div class=summary-row><span>:</span><span> (<!>)</span></div><div class=summary-row><span>:</span><span></span></div><div class=summary-row><span>:</span><span></span></div><div class=summary-row><span>:</span><span>");const OI=e=>{const[r,t]=pe([]),[n,i]=pe([]),[o,s]=pe([]),[u,d]=pe(1e4),[h,f]=pe(hn.MARKET),[v,m]=pe("buy"),[C,b]=pe(1),[_,k]=pe(e.currentPrice),[S,T]=pe("trade"),[I,P]=pe(""),[L,z]=pe(0),[R,V]=pe(1e3),[$,W]=pe("add"),te=new K5(e.priceTrackingConfig),ue=e.paperTradingUseExternalStorage?new yI(te.isLoggingEnabled()):new Zg,Y=new vI(ue,te,e.priceTrackingConfig,e.paperTradingMaxTrades),Z=(ve,...Te)=>{te.isLoggingEnabled()&&console.log(ve,...Te)},q=(ve,...Te)=>{te.isLoggingEnabled()&&console.warn(ve,...Te)},G=()=>(L(),Ne(e.ticker.ticker)),K=ve=>{L();const Te=te.getCurrentPrice(ve.symbol);return Te&&Te>0?ve.side==="buy"?(Te-ve.averagePrice)*ve.quantity:(ve.averagePrice-Te)*ve.quantity:ve.unrealizedPnL};te.addPriceCallback(ve=>{z(Te=>Te+1),X()}),Ia(async()=>{Z("[PaperTrading] Component mounted, setting up paper trading..."),e.paperTradingUseExternalStorage&&(Z("[PaperTrading] Using external storage, initializing async..."),await Y.initializeAsync()),e.dataFeeds?(Y.setDataFeeds(e.dataFeeds),Z("[PaperTrading] Set up multiple data feeds:",Array.from(e.dataFeeds.keys()))):e.dataFeed&&e.ticker.type?(Y.setDataFeed(e.ticker.type.toString(),e.dataFeed),Z("[PaperTrading] Set up single data feed for:",e.ticker.type.toString())):q("[PaperTrading] No data feeds available!"),e.ticker.ticker&&(Y.cacheTickerInfo(e.ticker),Z("[PaperTrading] Cached ticker info for:",e.ticker.ticker)),X(),P(e.ticker.ticker),Y.startPriceTrackingForPendingOrders()}),Gn(()=>{Z("[PaperTrading] Component unmounting, stopping price tracking..."),Y.stopPriceTrackingForUI()}),pt(()=>{if(e.ticker.ticker&&e.ticker.ticker!==I()){const ve=G();k(ve||e.currentPrice),P(e.ticker.ticker),Y.cacheTickerInfo(e.ticker)}}),pt(()=>{e.ticker.ticker&&e.currentPrice>0&&(Y.updatePositionPnL(e.ticker.ticker,e.currentPrice),X())});const X=()=>{t(Y.getOrders()),i(Y.getPositions()),s(Y.getTrades()),d(Y.getBalance())},J=()=>{var ve;if(!e.ticker.ticker||C()<=0)return;const Te=G(),Oe=h()===hn.MARKET?Te:_();Z("[PaperTrading] Placing order:",{symbol:e.ticker.ticker,side:v(),quantity:C(),type:h(),price:Oe,currentPrice:Te});try{const Ze=Y.placeOrder({symbol:e.ticker.ticker,side:v(),quantity:C(),type:h(),price:Oe,currentPrice:Te,tickerType:(ve=e.ticker.type)==null?void 0:ve.toString()});Z("[PaperTrading] Order placed successfully:",Ze),X(),b(1),k(G())}catch(Ze){console.error("Error placing order:",Ze),alert(Ze instanceof Error?Ze.message:"Error placing order")}},ee=ve=>{try{const Te=n().find(Be=>Be.id===ve);if(!Te)throw new Error("Position not found");const Oe=u();Z(`[PaperTrading] BEFORE closing position - Balance: $${Oe.toFixed(2)}`),Z("[PaperTrading] Position to close:",Te);const Ze=Ne(Te.symbol);if(Z(`[PaperTrading] Current price for ${Te.symbol}: $${Ze}`),!Ze||Ze<=0)throw new Error(`Cannot close position: No current price available for ${Te.symbol}. Please try again when price data is available.`);let Me=0;Te.side==="buy"?Me=(Ze-Te.averagePrice)*Te.quantity:Me=(Te.averagePrice-Ze)*Te.quantity,Z(`[PaperTrading] Expected P&L: $${Me.toFixed(2)}`),Z(`[PaperTrading] Expected new balance: $${(Oe+Me).toFixed(2)}`),Y.closePosition(ve,Ze),X();const nt=u(),lt=nt-Oe;Z(`[PaperTrading] AFTER closing position - Balance: $${nt.toFixed(2)}`),Z(`[PaperTrading] Actual balance change: $${lt.toFixed(2)}`),Z(`[PaperTrading] Expected vs Actual: Expected $${Me.toFixed(2)}, Got $${lt.toFixed(2)}`)}catch(Te){console.error("Error closing position:",Te),alert(Te instanceof Error?Te.message:"Error closing position")}},H=ve=>{try{Y.cancelOrder(ve),X()}catch(Te){console.error("Error canceling order:",Te)}},ie=()=>{try{Y.addCash(R()),X(),V(1e3)}catch(ve){console.error("Error adding cash:",ve),alert(ve instanceof Error?ve.message:"Error adding cash")}},xe=()=>{try{Y.removeCash(R()),X(),V(1e3)}catch(ve){console.error("Error removing cash:",ve),alert(ve instanceof Error?ve.message:"Error removing cash")}},Le=()=>{try{Y.reset(),X(),Z("[PaperTrading] Account reset successfully")}catch(ve){console.error("Error resetting account:",ve),alert(ve instanceof Error?ve.message:"Error resetting account")}},Pe=()=>Y.getPendingOrdersInfo(),be=ve=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ve),He=(ve,Te=2)=>ve.toFixed(Te),Ae=ve=>ve>0?"#00C851":ve<0?"#FF4444":"#666",Ne=ve=>{L();const Te=te.getCurrentPrice(ve);return Te&&Te>0?(Z(`[PaperTrading] Using API price for ${ve}: $${Te.toFixed(2)}`),Te):ve===e.ticker.ticker?(Z(`[PaperTrading] Using chart price for ${ve}: $${e.currentPrice.toFixed(2)} (API price not available)`),e.currentPrice):(q(`[PaperTrading] No price available for ${ve}`),0)};return(()=>{var ve=II(),Te=ve.firstChild,Oe=Te.firstChild,Ze=Oe.nextSibling,Me=Ze.firstChild,nt=Te.nextSibling,lt=nt.firstChild,Be=lt.firstChild,yt=Be.nextSibling,Bt=nt.nextSibling,Ot=Bt.firstChild,st=Ot.nextSibling,lr=st.firstChild,Wr=lr.nextSibling;Wr.nextSibling;var Ur=st.nextSibling,ar=Ur.firstChild,Tt=ar.nextSibling;Tt.nextSibling;var Ut=Ur.nextSibling,Kt=Ut.firstChild,zr=Kt.nextSibling;zr.nextSibling;var or=Ut.nextSibling,Tr=Bt.nextSibling;return N(Oe,()=>A("paper_trading",e.locale)),N(Ze,()=>A("balance",e.locale),Me),N(Ze,()=>be(u()),null),N(Be,()=>e.ticker.ticker),N(yt,()=>be(G())),Ot.$$click=()=>T("trade"),N(Ot,()=>A("trade",e.locale)),st.$$click=()=>T("positions"),N(st,()=>A("positions",e.locale),lr),N(st,()=>n().length,Wr),Ur.$$click=()=>T("orders"),N(Ur,()=>A("orders",e.locale),ar),N(Ur,()=>r().length,Tt),Ut.$$click=()=>T("trades"),N(Ut,()=>A("trades",e.locale),Kt),N(Ut,()=>o().length,zr),or.$$click=()=>T("cash"),N(or,()=>A("cash",e.locale)),N(Tr,oe(tt,{get when(){return S()==="trade"},get children(){var Mt=CI(),Ve=Mt.firstChild,bt=Ve.firstChild,xt=bt.nextSibling,wt=Ve.nextSibling,Ct=wt.firstChild,Wt=Ct.nextSibling,Ht=wt.nextSibling,ur=Ht.firstChild,At=ur.nextSibling,ft=Ht.nextSibling,Ir=ft.firstChild,vr=Ir.firstChild,Lr=vr.firstChild,fn=vr.nextSibling,Dt=ft.nextSibling,Pr=Dt.firstChild;return bt.$$click=()=>f(hn.MARKET),N(bt,()=>A("market",e.locale)),xt.$$click=()=>{f(hn.LIMIT),k(G())},N(xt,()=>A("limit",e.locale)),Ct.$$click=()=>m("buy"),N(Ct,()=>A("buy",e.locale)),Wt.$$click=()=>m("sell"),N(Wt,()=>A("sell",e.locale)),N(ur,()=>A("quantity",e.locale)),At.$$input=Et=>b(Number(Et.target.value)),N(Mt,oe(tt,{get when(){return h()===hn.LIMIT},get children(){var Et=xI(),Ar=Et.firstChild,xr=Ar.nextSibling;return N(Ar,()=>A("price",e.locale)),xr.$$input=pr=>k(Number(pr.target.value)),$e(()=>xr.value=_()),Et}}),ft),N(vr,()=>A("estimated_total",e.locale),Lr),N(fn,()=>be((h()===hn.MARKET?G():_())*C())),Dt.$$click=J,N(Dt,(()=>{var Et=_e(()=>v()==="buy");return()=>Et()?A("buy",e.locale):A("sell",e.locale)})(),Pr),N(Dt,()=>e.ticker.ticker,null),$e(Et=>{var Ar=`order-type-btn ${h()===hn.MARKET?"active":""}`,xr=`order-type-btn ${h()===hn.LIMIT?"active":""}`,pr=`side-btn buy ${v()==="buy"?"active":""}`,Jr=`side-btn sell ${v()==="sell"?"active":""}`,Hr=`place-order-btn ${v()}`,en=!e.ticker.ticker||C()<=0;return Ar!==Et.e&&er(bt,Et.e=Ar),xr!==Et.t&&er(xt,Et.t=xr),pr!==Et.a&&er(Ct,Et.a=pr),Jr!==Et.o&&er(Wt,Et.o=Jr),Hr!==Et.i&&er(Dt,Et.i=Hr),en!==Et.n&&(Dt.disabled=Et.n=en),Et},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),$e(()=>At.value=C()),Mt}}),null),N(Tr,oe(tt,{get when(){return S()==="positions"},get children(){var Mt=bI();return N(Mt,oe(tt,{get when(){return n().length===0},get children(){var Ve=F2();return N(Ve,()=>A("no_open_positions",e.locale)),Ve}}),null),N(Mt,oe(li,{get each(){return n()},children:Ve=>{const bt=()=>(L(),Ne(Ve.symbol));return(()=>{var xt=LI(),wt=xt.firstChild,Ct=wt.firstChild,Wt=Ct.nextSibling,Ht=wt.nextSibling,ur=Ht.firstChild,At=ur.firstChild,ft=At.firstChild,Ir=At.nextSibling,vr=ur.nextSibling,Lr=vr.firstChild,fn=Lr.firstChild,Dt=Lr.nextSibling,Pr=vr.nextSibling,Et=Pr.firstChild,Ar=Et.firstChild,xr=Et.nextSibling,pr=Pr.nextSibling,Jr=pr.firstChild,Hr=Jr.firstChild,en=Jr.nextSibling,gn=Ht.nextSibling;return N(Ct,()=>Ve.symbol),N(Wt,()=>Ve.side.toUpperCase()),N(At,()=>A("quantity",e.locale),ft),N(Ir,()=>Ve.quantity),N(Lr,()=>A("avg_price",e.locale),fn),N(Dt,()=>be(Ve.averagePrice)),N(Et,()=>A("current_price",e.locale),Ar),N(xr,()=>be(bt())),N(Jr,()=>A("pnl",e.locale),Hr),N(en,()=>be(K(Ve))),gn.$$click=()=>ee(Ve.id),N(gn,()=>A("close_position",e.locale)),$e(Mn=>{var Ni=`side ${Ve.side}`,na=Ae(K(Ve));return Ni!==Mn.e&&er(Wt,Mn.e=Ni),na!==Mn.t&&((Mn.t=na)!=null?en.style.setProperty("color",na):en.style.removeProperty("color")),Mn},{e:void 0,t:void 0}),xt})()}}),null),Mt}}),null),N(Tr,oe(tt,{get when(){return S()==="orders"},get children(){var Mt=wI();return N(Mt,oe(tt,{get when(){return r().length===0},get children(){var Ve=F2();return N(Ve,()=>A("no_pending_orders",e.locale)),Ve}}),null),N(Mt,oe(li,{get each(){return r()},children:Ve=>(()=>{var bt=PI(),xt=bt.firstChild,wt=xt.firstChild,Ct=wt.nextSibling,Wt=Ct.nextSibling,Ht=xt.nextSibling,ur=Ht.firstChild,At=ur.firstChild,ft=At.firstChild,Ir=At.nextSibling,vr=ur.nextSibling,Lr=vr.firstChild,fn=Lr.firstChild,Dt=Lr.nextSibling,Pr=vr.nextSibling,Et=Pr.firstChild,Ar=Et.firstChild,xr=Et.nextSibling,pr=Ht.nextSibling;return N(wt,()=>Ve.symbol),N(Ct,()=>Ve.side.toUpperCase()),N(Wt,()=>Ve.type),N(At,()=>A("quantity",e.locale),ft),N(Ir,()=>Ve.quantity),N(Lr,()=>A("price",e.locale),fn),N(Dt,()=>be(Ve.price)),N(Et,()=>A("status",e.locale),Ar),N(xr,()=>Ve.status),pr.$$click=()=>H(Ve.id),N(pr,()=>A("cancel_order",e.locale)),$e(()=>er(Ct,`side ${Ve.side}`)),bt})()}),null),Mt}}),null),N(Tr,oe(tt,{get when(){return S()==="trades"},get children(){var Mt=MI();return N(Mt,oe(tt,{get when(){return o().length===0},get children(){var Ve=_I(),bt=Ve.firstChild,xt=bt.nextSibling,wt=xt.nextSibling;return N(xt,()=>A("no_trades_executed",e.locale)),N(wt,()=>A("your_trade_history_will_appear_here",e.locale)),Ve}}),null),N(Mt,oe(tt,{get when(){return o().length>0},get children(){return[(()=>{var Ve=kI(),bt=Ve.firstChild;return bt.firstChild,bt.$$click=()=>{const xt=A("are_you_sure_clear_trades",e.locale).replace("{count}",o().length.toString());confirm(xt)&&(Y.clearAllTrades(),X())},N(bt,()=>A("clear_all_trades",e.locale),null),Ve})(),(()=>{var Ve=SI(),bt=Ve.firstChild,xt=bt.nextSibling,wt=xt.firstChild,Ct=wt.nextSibling,Wt=Ct.nextSibling,Ht=xt.nextSibling;return N(bt,()=>A("symbol_side",e.locale)),N(wt,()=>A("qty",e.locale)),N(Ct,()=>A("price",e.locale)),N(Wt,()=>A("total",e.locale)),N(Ht,()=>A("date_time",e.locale)),Ve})()]}}),null),N(Mt,oe(li,{get each(){return o().sort((Ve,bt)=>bt.timestamp-Ve.timestamp)},children:Ve=>(()=>{var bt=AI(),xt=bt.firstChild,wt=xt.firstChild,Ct=wt.firstChild,Wt=Ct.nextSibling,Ht=Wt.firstChild,ur=wt.nextSibling,At=ur.firstChild,ft=At.nextSibling,Ir=ft.nextSibling,vr=ur.nextSibling,Lr=vr.firstChild;return N(Ct,()=>Ve.symbol),N(Wt,()=>Ve.side==="buy"?"":"",Ht),N(Wt,()=>Ve.side.toUpperCase(),null),N(At,()=>He(Ve.quantity,Ve.quantity<1?4:0)),N(ft,()=>be(Ve.price)),N(Ir,()=>be(Ve.price*Ve.quantity)),N(vr,()=>new Date(Ve.timestamp).toLocaleDateString([],{month:"short",day:"numeric"}),Lr),N(vr,()=>new Date(Ve.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),null),$e(()=>er(Wt,`side-badge ${Ve.side}`)),bt})()}),null),Mt}}),null),N(Tr,oe(tt,{get when(){return S()==="cash"},get children(){var Mt=TI(),Ve=Mt.firstChild,bt=Ve.firstChild,xt=bt.firstChild,wt=xt.nextSibling,Ct=bt.nextSibling,Wt=Ct.firstChild,Ht=Wt.nextSibling,ur=Ht.firstChild,At=ur.nextSibling,ft=Ct.nextSibling,Ir=ft.firstChild,vr=ft.nextSibling,Lr=Ve.nextSibling,fn=Lr.firstChild;return N(xt,()=>A("cash_amount",e.locale)),wt.$$input=Dt=>V(Number(Dt.target.value)),N(Wt,()=>A("operation",e.locale)),Ht.addEventListener("change",Dt=>W(Dt.target.value)),N(ur,()=>A("add_cash",e.locale)),N(At,()=>A("remove_cash",e.locale)),N(Ve,oe(tt,{get when(){return $()==="remove"},get children(){var Dt=EI();return N(Dt,()=>{const Pr=Pe();if(Pr.totalBuyOrdersValue>0){const Et=u()-R(),Ar=Et<Pr.totalBuyOrdersValue;return(()=>{var xr=DI(),pr=xr.firstChild,Jr=pr.firstChild,Hr=pr.nextSibling,en=Hr.firstChild,gn=Hr.nextSibling,Mn=gn.firstChild;return er(xr,`warning ${Ar?"error":"info"}`),N(pr,()=>A("pending_buy_orders",e.locale),Jr),N(pr,()=>be(Pr.totalBuyOrdersValue),null),N(Hr,()=>A("balance_after_removal",e.locale),en),N(Hr,()=>be(Et),null),N(gn,()=>A("max_safe_removal",e.locale),Mn),N(gn,()=>be(Pr.maxCashRemoval),null),N(xr,Ar&&(()=>{var Ni=FI();return N(Ni,()=>A("insufficient_funds_warning",e.locale)),Ni})(),null),xr})()}return null}),Dt}}),ft),Oi(ft,"click",$()==="add"?ie:xe),N(ft,(()=>{var Dt=_e(()=>$()==="add");return()=>Dt()?A("add",e.locale):A("remove",e.locale)})(),Ir),N(ft,()=>be(R()),null),vr.$$click=()=>{const Dt=A("reset_account_confirmation",e.locale).replace("{orders}",r().length.toString()).replace("{positions}",n().length.toString()).replace("{trades}",o().length.toString());confirm(Dt)&&(Le(),alert(A("reset_account_success",e.locale)))},N(vr,()=>A("reset_trading_account",e.locale)),N(fn,()=>A("pending_orders_summary",e.locale)),N(Lr,()=>{const Dt=Pe();return(()=>{var Pr=RI(),Et=Pr.firstChild,Ar=Et.firstChild,xr=Ar.firstChild,pr=Ar.nextSibling,Jr=pr.firstChild,Hr=Jr.nextSibling;Hr.nextSibling;var en=Et.nextSibling,gn=en.firstChild,Mn=gn.firstChild,Ni=gn.nextSibling,na=en.nextSibling,so=na.firstChild,zi=so.firstChild,co=so.nextSibling,Xo=na.nextSibling,uo=Xo.firstChild,jo=uo.firstChild,Go=uo.nextSibling;return N(Ar,()=>A("pending_buy_orders_summary",e.locale),xr),N(pr,()=>Dt.pendingBuyOrders.length,Jr),N(pr,()=>be(Dt.totalBuyOrdersValue),Hr),N(gn,()=>A("pending_sell_orders_summary",e.locale),Mn),N(Ni,()=>Dt.pendingSellOrders.length),N(so,()=>A("available_cash",e.locale),zi),N(co,()=>be(Dt.availableCashAfterOrders)),N(uo,()=>A("max_cash_removal",e.locale),jo),N(Go,()=>be(Dt.maxCashRemoval)),Pr})()},null),$e(Dt=>{var Pr=`cash-operation-btn ${$()}`,Et=R()<=0;return Pr!==Dt.e&&er(ft,Dt.e=Pr),Et!==Dt.t&&(ft.disabled=Dt.t=Et),Dt},{e:void 0,t:void 0}),$e(()=>wt.value=R()),$e(()=>Ht.value=$()),Mt}}),null),$e(Mt=>{var Ve=`tab ${S()==="trade"?"active":""}`,bt=`tab ${S()==="positions"?"active":""}`,xt=`tab ${S()==="orders"?"active":""}`,wt=`tab ${S()==="trades"?"active":""}`,Ct=`tab ${S()==="cash"?"active":""}`;return Ve!==Mt.e&&er(Ot,Mt.e=Ve),bt!==Mt.t&&er(st,Mt.t=bt),xt!==Mt.a&&er(Ur,Mt.a=xt),wt!==Mt.o&&er(Ut,Mt.o=wt),Ct!==Mt.i&&er(or,Mt.i=Ct),Mt},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),ve})()};_r(["click","input"]);var NI=re("<div class=orderbook-ticker>"),zI=re("<div class=orderbook-empty><p>Select a ticker to view order book"),BI=re("<div class=orderbook-loading><p>Loading order book..."),VI=re("<div class=orderbook-error><p>"),$I=re("<div class=spread-info><span class=spread-value>"),WI=re("<div class=orderbook-orderbook><div class=orderbook-section-header><span class=orderbook-size-header>Size</span><span class=orderbook-price-header>Price</span><span class=orderbook-amount-header>Amount</span></div><div class=orderbook-asks><div class=orderbook-orders></div></div><div class=orderbook-spread></div><div class=orderbook-bids><div class=orderbook-orders>"),UI=re("<div class=chartspire-ui-orderbook><div class=orderbook-header><h3>Order Book"),HI=re('<div class="orderbook-order orderbook-ask"><div class=orderbook-quantity-bar></div><span class=orderbook-quantity></span><span class="orderbook-price ask-price"></span><span class=orderbook-amount>'),YI=re('<div class="orderbook-order orderbook-bid"><div class=orderbook-quantity-bar></div><span class=orderbook-quantity></span><span class="orderbook-price bid-price"></span><span class=orderbook-amount>');const XI=e=>{const[r,t]=pe(null),[n,i]=pe(!1),[o,s]=pe(null),u=Math.random().toString(36).slice(2,11);let d=null;pt(()=>{d&&(console.log("Orderbook: Unsubscribing from previous ticker:",d),f(d),d=null),e.currentTicker&&(console.log("Orderbook: Subscribing to new ticker:",e.currentTicker),h(e.currentTicker),d=e.currentTicker)}),Gn(()=>{d&&(console.log("Orderbook: Component cleanup - unsubscribing from:",d),f(d),d=null)});const h=k=>{i(!0),s(null),console.log("Orderbook: Attempting to subscribe for ticker:",k);const S=to(k.type);if(S){if(k.type!==kt.CRYPTO){s("Orderbook data is only available for crypto tickers"),i(!1);return}console.log("Orderbook: Subscribing to order book data for ticker",k);const T=I=>{console.log("Orderbook: Received order book data:",I),t(I),i(!1)};S.subscribeOrderBookData(k,T,u)}else{const T="Data feed not available for this ticker type";console.error("orderbook:",T),s(T),i(!1)}},f=k=>{const S=to(k.type);S&&(console.log("Unsubscribing from orderbook data for ticker",k),S.unsubscribeOrderBookData(k,u))},v=k=>{const S=parseFloat(k);return S>=1e3?S.toFixed(2).replace(/\.?0+$/,""):S>=100?S.toFixed(3).replace(/\.?0+$/,""):S>=1?S.toFixed(4).replace(/\.?0+$/,""):S>=.1?S.toFixed(5).replace(/\.?0+$/,""):S>=.01?S.toFixed(6).replace(/\.?0+$/,""):S.toFixed(8).replace(/\.?0+$/,"")},m=k=>{const S=parseFloat(k);return S>=1e3?S.toFixed(2).replace(/\.?0+$/,""):S>=100?S.toFixed(3).replace(/\.?0+$/,""):S>=1?S.toFixed(4).replace(/\.?0+$/,""):S.toFixed(6).replace(/\.?0+$/,"")},C=(k,S)=>{const T=parseFloat(k)*parseFloat(S);return T>=1e3?T.toFixed(2).replace(/\.?0+$/,""):T>=100?T.toFixed(3).replace(/\.?0+$/,""):T>=1?T.toFixed(4).replace(/\.?0+$/,""):T.toFixed(6).replace(/\.?0+$/,"")},b=()=>{const k=r();if(!k)return 0;const S=[...k.bids.map(([T,I])=>parseFloat(I)),...k.asks.map(([T,I])=>parseFloat(I))];return Math.max(...S)},_=k=>{const S=b();if(S===0)return"0%";const T=parseFloat(k)/S*100;return`${Math.min(T,100)}%`};return(()=>{var k=UI(),S=k.firstChild;return S.firstChild,N(S,oe(tt,{get when(){return e.currentTicker},get children(){var T=NI();return N(T,()=>{var I;return(I=e.currentTicker)==null?void 0:I.ticker}),T}}),null),N(k,oe(tt,{get when(){return!e.currentTicker},get children(){return zI()}}),null),N(k,oe(tt,{get when(){return n()},get children(){return BI()}}),null),N(k,oe(tt,{get when(){return o()},get children(){var T=VI(),I=T.firstChild;return N(I,o),T}}),null),N(k,oe(tt,{get when(){return!n()&&!o()&&r()&&e.currentTicker},get children(){var T=WI(),I=T.firstChild,P=I.nextSibling,L=P.firstChild,z=P.nextSibling,R=z.nextSibling,V=R.firstChild;return N(L,oe(li,{get each(){var $;return($=r())==null?void 0:$.asks.slice(0,8).sort((W,te)=>parseFloat(te[0])-parseFloat(W[0]))},children:([$,W])=>(()=>{var te=HI(),ue=te.firstChild,Y=ue.nextSibling,Z=Y.nextSibling,q=Z.nextSibling;return N(Y,()=>m(W)),N(Z,()=>v($)),N(q,()=>C($,W)),$e(G=>(G=_(W))!=null?ue.style.setProperty("width",G):ue.style.removeProperty("width")),te})()})),N(z,oe(tt,{get when(){var $;return _e(()=>{var W;return!!((W=r())!=null&&W.asks.length)})()&&(($=r())==null?void 0:$.bids.length)},get children(){var $=$I(),W=$.firstChild;return N(W,()=>v((parseFloat(r().asks[0][0])-parseFloat(r().bids[0][0])).toString())),$}})),N(V,oe(li,{get each(){var $;return($=r())==null?void 0:$.bids.slice(0,8).sort((W,te)=>parseFloat(te[0])-parseFloat(W[0]))},children:([$,W])=>(()=>{var te=YI(),ue=te.firstChild,Y=ue.nextSibling,Z=Y.nextSibling,q=Z.nextSibling;return N(Y,()=>m(W)),N(Z,()=>v($)),N(q,()=>C($,W)),$e(G=>(G=_(W))!=null?ue.style.setProperty("width",G):ue.style.removeProperty("width")),te})()})),T}}),null),k})()};var ii=(e=>(e.ONE_X="1x",e.TWO_X="0.5x",e.THREE_X="0.3x",e.FIVE_X="0.2x",e.TEN_X="0.1x",e))(ii||{});function jI(e,r){switch(e){case ii.ONE_X:return A("1 upd per 1 sec",r);case ii.TWO_X:return A("1 upd per 2 sec",r);case ii.THREE_X:return A("1 upd per 3 sec",r);case ii.FIVE_X:return A("1 upd per 5 sec",r);case ii.TEN_X:return A("1 upd per 10 sec",r)}return e}function GI(e){return[{key:ii.ONE_X,text:A("1 upd per 1 sec",e)},{key:ii.TWO_X,text:A("1 upd per 2 sec",e)},{key:ii.THREE_X,text:A("1 upd per 3 sec",e)},{key:ii.FIVE_X,text:A("1 upd per 5 sec",e)},{key:ii.TEN_X,text:A("1 upd per 10 sec",e)}]}function KI(e){const r={[ii.ONE_X]:1e3,[ii.TWO_X]:2e3,[ii.THREE_X]:3e3,[ii.FIVE_X]:5e3,[ii.TEN_X]:1e4};return e in r?r[e]:(console.error(`Invalid replay speed key: ${e}`),0)}var QI=re("<div class=chartspire-ui-alert-container><div class=alert><div class=messagebox><p>");function ZI(e){const r="Select starting candle by clicking on candle";return(()=>{var t=QI(),n=t.firstChild,i=n.firstChild,o=i.firstChild;return N(o,()=>e.message!==""?e.message:r),t})()}const qI=e=>{const[r,t]=pe(e.replaySpeed),n=_e(()=>GI(e.locale)),i=`Replay ${e.chartId}`,o=()=>{e.replayCandle!=null&&(e.onPause!=null&&e.onPause(!1),e.onPlay!=null&&(e.onPlay(!0),e.setReplaySpeed(r())))},s=()=>{e.onPause!=null&&e.onPause(!0),e.onPlay!=null&&e.onPlay(!1)},u=()=>{e.onClose!=null&&e.onClose(),console.warn("handle close: replay closed")},d=()=>{e.skipReplay!=null&&e.skipReplay(!0)};return pt(()=>{e.setReplaySpeed(r())}),oe(tt,{get when(){return e.isActive},get children(){return oe(tt,{get when(){return e.replayModalVisible},get children(){return[oe(tt,{get when(){return e.isAlertVisible},get children(){return oe(ZI,{get message(){return e.alertMessage}})}}),oe(wM,{title:i,width:380,onClose:u,get isPLaying(){return e.isPlaying},get buttons(){return[e.isPlaying()?{children:"Pause",onClick:()=>{s()}}:{children:"Play",onClick:()=>{o()}},{children:">>",onClick:()=>{d()}}]},get children(){return oe(S1,{style:{width:"100%"},get value(){return r().key},onSelected:h=>{t(h)},get dataSource(){return n()}})}})]}})}})};var JI=re('<svg viewBox="0 0 1024 1024"class=icon stroke-width=10><path d="M512 0L627.2 384H1024L748.8 640L864 1024L512 768L160 1024L275.2 640L0 384H396.8L512 0z">'),eL=re("<div class=indicator-item><li class=row>"),R2=re("<li class=title>");const tL=e=>(()=>{var r=JI();return Oi(r,"click",e.onClick),$e(t=>{var n=e.selected?"yellow":"none",i=e.selected?"yellow":"#76808F";return n!==t.e&&Ge(r,"fill",t.e=n),i!==t.t&&Ge(r,"stroke",t.t=i),t},{e:void 0,t:void 0}),r})(),rL=e=>(()=>{var r=eL(),t=r.firstChild;return N(r,oe(tL,{get selected(){return e.isSelected},get onClick(){return e.onStarClick}}),t),Oi(t,"click",e.onClick),N(t,oe(rM,{get checked(){return e.isChecked},get label(){return A(e.name.toLowerCase(),e.locale)}})),r})(),nL=e=>{const[r,t]=pe(""),n=()=>{const v=r().toLowerCase();return[...g2().map(m=>m.name)].filter(m=>A(m.toLowerCase(),e.locale).toLowerCase().includes(v)).sort((m,C)=>{const b=A(m.toLowerCase(),e.locale).toLowerCase(),_=A(C.toLowerCase(),e.locale).toLowerCase();return b.localeCompare(_)})},i=localStorage.getItem("chartspire-favIndicators"),o=i?JSON.parse(i):[],[s,u]=pe(o),d=()=>s().filter(v=>e.mainIndicators().includes(v)||v in e.subIndicators()||[...g2().map(m=>m.name)].includes(v)).sort((v,m)=>{const C=A(v.toLowerCase(),e.locale).toLowerCase(),b=A(m.toLowerCase(),e.locale).toLowerCase();return C.localeCompare(b)}),h=v=>{u(m=>{const C=m.includes(v),b=C?m.filter(_=>_!==v):[...m,v];return e.mainIndicators().includes(v)?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!C}):v in e.subIndicators()&&(e.subIndicators()[v]||e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!C})),localStorage.setItem("chartspire-favIndicators",JSON.stringify(b)),b})},f=v=>{const m=e.mainIndicators().includes(v),C=v in e.subIndicators(),b=m||C,_=d().includes(v);return oe(rL,{name:v,isSelected:_,isChecked:b,onClick:()=>{m?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!b}):C?e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!b}):dp.includes(v)?e.onMainIndicatorChange({name:v,paneId:"candle_pane",added:!b}):y1.includes(v)&&e.onSubIndicatorChange({name:v,paneId:e.subIndicators()[v]??"",added:!b})},onStarClick:()=>h(v),get locale(){return e.locale}})};return oe(Bl,{get title(){return A("indicator",e.locale)},width:600,contentHeight:"90%",get onClose(){return e.onClose},get children(){return[oe(Dl,{style:{width:"100%"},get value(){return r()},onInput:v=>t(v.target.value)}),oe(u5,{class:"chartspire-ui-indicator-modal-list",get children(){return[_e(()=>_e(()=>d().length>0)()&&(()=>{var v=R2();return N(v,()=>A("favourites",e.locale)),v})()),_e(()=>d().map(f)),(()=>{var v=R2();return N(v,()=>A("Indicators",e.locale)),v})(),_e(()=>n().map(f))]}})]}})};_r(["click"]);const iL=e=>(e.widget==null&&console.error("widget is null"),oe(tt,{get when(){return e.indicatorModalVisible},get children(){return oe(nL,{get locale(){return e.locale},get mainIndicators(){return e.mainIndicators},get subIndicators(){return e.subIndicators},onClose:()=>{e.setIndicatorModalVisible(!1)},onMainIndicatorChange:r=>{var t;const n=[...e.mainIndicators()];r.added?(e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&mp(e.widget,r.name,!0,!0,{id:"candle_pane"}),n.push(r.name)):((t=e.widget)==null||t.removeIndicator({paneId:"candle_pane",name:r.name}),n.splice(n.indexOf(r.name),1),e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(e.widget).saveIndicators()),e.setMainIndicators(n)},onSubIndicatorChange:r=>{var t;const n={...e.subIndicators()};if(r.added){const i=mp(e.widget,r.name,!0);i&&(n[r.name]=i)}else(t=e.widget)==null||t.removeIndicator({name:r.name}),delete n[r.name],e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(e.widget).saveIndicators();e.setSubIndicators(n)}})}}));var U=(e=>(e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.TWO_VERTICAL=21]="TWO_VERTICAL",e[e.THREE=3]="THREE",e[e.THREE_VERTICAL=31]="THREE_VERTICAL",e[e.THREE_MIXED=32]="THREE_MIXED",e[e.THREE_MIXED_REVERSE=33]="THREE_MIXED_REVERSE",e[e.THREE_MIXED_BOTTOM=34]="THREE_MIXED_BOTTOM",e[e.THREE_MIXED_TOP=35]="THREE_MIXED_TOP",e[e.FOUR=4]="FOUR",e[e.FOUR_VERTICAL=41]="FOUR_VERTICAL",e[e.FOUR_HORIZONTAL=42]="FOUR_HORIZONTAL",e[e.FOUR_MIXED=43]="FOUR_MIXED",e[e.FOUR_MIXED_REVERSE=44]="FOUR_MIXED_REVERSE",e[e.FOUR_MIXED_TOP=45]="FOUR_MIXED_TOP",e[e.FOUR_MIXED_BOTTOM=46]="FOUR_MIXED_BOTTOM",e[e.FIVE_VERTICAL=51]="FIVE_VERTICAL",e[e.FIVE_HORIZONTAL=52]="FIVE_HORIZONTAL",e[e.FIVE_MIXED=53]="FIVE_MIXED",e[e.FIVE_MIXED_REVERSE=54]="FIVE_MIXED_REVERSE",e[e.FIVE_MIXED_TOP=55]="FIVE_MIXED_TOP",e[e.SIX=6]="SIX",e[e.SIX_HORIZONTAL=62]="SIX_HORIZONTAL",e[e.SIX_VERTICAL=61]="SIX_VERTICAL",e[e.SIX_MIXED=63]="SIX_MIXED",e[e.SEVEN_VERTICAL=71]="SEVEN_VERTICAL",e[e.SEVEN_HORIZONTAL=72]="SEVEN_HORIZONTAL",e[e.EIGHT=8]="EIGHT",e[e.EIGHT_VERTICAL=81]="EIGHT_VERTICAL",e[e.EIGHT_HORIZONTAL=82]="EIGHT_HORIZONTAL",e[e.NINE=9]="NINE",e[e.NINE_VERTICAL=91]="NINE_VERTICAL",e[e.NINE_HORIZONTAL=92]="NINE_HORIZONTAL",e[e.TEN=10]="TEN",e[e.TEN_VERTICAL=101]="TEN_VERTICAL",e[e.TEN_HORIZONTAL=102]="TEN_HORIZONTAL",e[e.TWELVE=12]="TWELVE",e[e.TWELVE_VERTICAL=121]="TWELVE_VERTICAL",e[e.TWELVE_HORIZONTAL=122]="TWELVE_HORIZONTAL",e[e.TWELVE_GRID=123]="TWELVE_GRID",e[e.FOURTEEN=14]="FOURTEEN",e[e.SIXTEEN=16]="SIXTEEN",e))(U||{});let Sa=!1;const Ma=new Set;let Xn=null;const qg=()=>{console.log("Resetting mounted charts tracking"),Ma.clear(),Ma.add(1)},Q5=()=>{document.visibilityState==="visible"&&qg()};document.addEventListener("visibilitychange",Q5);const aL=()=>{console.log("Cleaning up multiChart listeners"),document.removeEventListener("visibilitychange",Q5),Xn&&(clearTimeout(Xn),Xn=null),Sa=!1,Ma.clear()},oL=(e,r,t,n)=>{Sa=!0,Xn&&(console.log("[DEBUG] Clearing existing safety timeout"),clearTimeout(Xn),Xn=null),Xn=setTimeout(()=>{Sa&&(console.log("[SAFETY] Resetting stuck isUpdating flag"),Sa=!1),Xn=null},(Math.abs(r-e)+1)*t+1e3);const i=o=>{if(e<r){if(o<=r){if(Ma.has(o)?console.log(`Chart ${o} already mounted, skipping`):(console.log(`Mounting chart ${o}`),Ma.add(o),Sp(o===r&&n&&n!==r?n:o)),o<r)setTimeout(()=>{i(o+1)},t);else if(Xn&&(clearTimeout(Xn),Xn=null),Sa=!1,o===r){Ma.clear();for(let s=1;s<=r;s++)Ma.add(s)}}}else if(o>=r){if(Sp(o===r&&n&&n!==r?n:o),o>r)setTimeout(()=>{i(o-1)},t);else if(Xn&&(clearTimeout(Xn),Xn=null),Sa=!1,o===r){Ma.clear();for(let s=1;s<=r;s++)Ma.add(s)}}};i(e<r?e:e-1)},O2=e=>{switch(e){case 1:return 1;case 2:return 2;case 21:return 2;case 3:return 3;case 31:return 3;case 32:return 3;case 33:return 3;case 34:return 3;case 35:return 3;case 4:return 4;case 41:return 4;case 42:return 4;case 43:return 4;case 44:return 4;case 45:return 4;case 46:return 4;case 51:return 5;case 52:return 5;case 53:return 5;case 54:return 5;case 55:return 5;case 6:return 6;case 62:return 6;case 61:return 6;case 63:return 6;case 71:return 7;case 72:return 7;case 8:return 8;case 81:return 8;case 82:return 8;case 9:return 9;case 91:return 9;case 92:return 9;case 10:return 10;case 101:return 10;case 102:return 10;case 12:return 12;case 121:return 12;case 122:return 12;case 123:return 12;case 14:return 14;case 16:return 16;default:return e}},lL=(e,r)=>{console.warn("Initial delay",r);const t=C0();if(console.log(`[DEBUG] onMultiChartClick called: value=${e}, currentMultiChart=${t}, isUpdating=${Sa}`),Ma.has(2)&&t===1&&(console.log("Invalid state detected - resetting chart tracking"),qg()),e===t){console.log(`Already in layout ${e}, ignoring click`);return}Sa&&(console.log("[DEBUG] Forcing reset of isUpdating flag to allow new transition"),Sa=!1),Xn&&(console.log("[DEBUG] Clearing existing safety timeout from previous operation"),clearTimeout(Xn),Xn=null),console.log(`[DEBUG] Proceeding with layout switch from ${t} to ${e}`);const n=O2(t),i=O2(e);console.log(`[DEBUG] Starting switch: currentEffectiveCount=${n}, targetEffectiveCount=${i}`),n===i?(console.log(`[DEBUG] Same chart count detected (${n}), using direct switch`),console.log("[DEBUG] Setting isUpdating=true for direct switch"),Sa=!0,setTimeout(()=>{console.log(`[DEBUG] Executing direct switch to layout ${e}`),Sp(e),console.log("[DEBUG] Setting isUpdating=false after direct switch"),Sa=!1,console.log(`[DEBUG] Direct switch completed to layout ${e}`),Ma.clear();for(let o=1;o<=i;o++)Ma.add(o);console.log(`[DEBUG] Mounted charts reset for ${i} charts`)},r)):(Sa=!0,oL(n,i,r,e))},o1=class Ac{constructor(){Re(this,"activeCharts",new Map)}static getInstance(){return Ac.instance}static setEnabled(r){Ac.enabled=r}static isEnabled(){return Ac.enabled}static setTimeSyncEnabled(r){Ac.timeSyncEnabled=r}static isTimeSyncEnabled(){return Ac.timeSyncEnabled}registerChart(r,t,n,i){this.activeCharts.set(r,{chart:t,ticker:n,type:i})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n){const i=this.activeCharts.get(r);i&&(i.ticker=t,i.type=n)}updateChartStyles(r,t){const n=this.activeCharts.get(r);n&&n.chart.setStyles(t)}hasSameTicker(r,t){const n=this.activeCharts.get(r),i=this.activeCharts.get(t);if(!n||!i||!n.ticker||!i.ticker)return!1;const o=n.ticker===i.ticker;return n.type===void 0&&i.type===void 0?o:o&&n.type===i.type}configureCrosshair(r,t){var n;try{const i=r.getStyles(),o=JSON.parse(JSON.stringify(i));(n=o==null?void 0:o.crosshair)!=null&&n.vertical&&(t?(o.crosshair.horizontal.show=!0,o.crosshair.horizontal.line.show=!0):(o.crosshair.horizontal.show=!1,o.crosshair.horizontal.line.show=!1),r.setStyles(o))}catch(i){console.error("Error configuring crosshair:",i)}}resetCrosshairVisibility(r){try{const t=this.activeCharts.get(r);if(!t)return;const n={crosshair:{show:!0,horizontal:{show:!0,line:{show:!0}},vertical:{show:!0,line:{show:!0}}}};t.chart.setStyles(n);const i=t.chart.getStyles();if(i){const o=JSON.parse(JSON.stringify(i));o.crosshair&&(o.crosshair.show=!0,o.crosshair.vertical&&(o.crosshair.vertical.show=!0,o.crosshair.vertical.line.show=!0),o.crosshair.horizontal&&(o.crosshair.horizontal.show=!0,o.crosshair.horizontal.line.show=!0),t.chart.setStyles(o))}}catch(t){console.error("Error resetting crosshair visibility:",t)}}getSafeVisibleIndices(r,t){const n=typeof r.realFrom=="number"?r.realFrom:r.from,i=typeof r.realTo=="number"?r.realTo:r.to,o=Math.max(0,Math.min(n,t-1)),s=Math.max(0,Math.min(i,t-1));return{safeFromIndex:o,safeToIndex:s}}findVisibleTimestamp(r,t,n){try{const i=r.getDataList();if(!i||i.length===0)return null;const o=r.getVisibleRange();if(!o)return null;const{safeFromIndex:s,safeToIndex:u}=this.getSafeVisibleIndices(o,i.length);if(s>u)return null;const d=i[s].timestamp,h=i[u].timestamp;if(t<=d)return d;if(t>=h)return h;for(let b=s;b<=u;b++)if(i[b].timestamp===t)return i[b].timestamp;const f=h-d;if(f<=0)return d;const v=(t-d)/f,m=Math.floor(s+v*(u-s)),C=Math.max(s,Math.min(u,m));return i[C].timestamp}catch(i){return console.error("Error finding visible timestamp:",i),null}}checkTimestampStatus(r,t){try{const n=r.getDataList();if(!n||n.length===0)return{exists:!1,dataIndex:-1,isVisible:!1};const i=n.findIndex(h=>h.timestamp===t);if(i===-1)return{exists:!1,dataIndex:-1,isVisible:!1};const o=r.getVisibleRange();if(!o)return{exists:!0,dataIndex:i,isVisible:!1};const{safeFromIndex:s,safeToIndex:u}=this.getSafeVisibleIndices(o,n.length),d=i>=s&&i<=u;return{exists:!0,dataIndex:i,isVisible:d}}catch(n){return console.error("Error checking timestamp status:",n),{exists:!1,dataIndex:-1,isVisible:!1}}}clearCrosshair(r,t){try{r.executeAction("onCrosshairChange",{paneId:t,x:void 0,y:void 0})}catch(n){console.error("Error clearing crosshair:",n)}}extractPriceValue(r,t){var n,i;if(!(!t||!r.paneId)){if(r.y!==void 0)try{const o=t.convertFromPixel([{y:r.y}],{paneId:r.paneId});if(o&&Array.isArray(o)&&((n=o[0])==null?void 0:n.value)!==void 0)return o[0].value}catch(o){console.error("Error converting Y to price, trying fallback",o)}return(i=r.kLineData)==null?void 0:i.close}}showCrosshair(r,t,n,i,o,s){try{const u=r.getDom(n);if(!u)return!1;const d=u.getBoundingClientRect(),h=i!==void 0?r.convertToPixel({timestamp:t,value:i},{paneId:n}):r.convertToPixel({timestamp:t},{paneId:n});if(!h)return!1;const f=Array.isArray(h)?h[0]:h;if(typeof(f==null?void 0:f.x)!="number")return!1;let v;return typeof(f==null?void 0:f.y)=="number"?v=f.y:s!==void 0&&s>=0&&s<=1?v=Math.floor(d.height*s):o!==void 0?v=o:v=Math.floor(d.height/2),v=Math.max(0,Math.min(d.height,v)),r.executeAction("onCrosshairChange",{paneId:n,x:f.x,y:v}),!0}catch(u){return console.error("Error showing crosshair:",u),!1}}calculateYPercentage(r,t,n){if(n===void 0||!r)return;const i=r.getDom(t);if(!i)return;const o=i.getBoundingClientRect();return o.height>0?n/o.height:void 0}syncCrosshair(r,t){if(!Ac.enabled||!t||!t.paneId||t.timestamp===void 0||this.activeCharts.size<=1)return;const n=t.timestamp,i=t.paneId,o=this.activeCharts.get(r);if(!o)return;const s=o.chart,u=this.extractPriceValue(t,s),d=this.calculateYPercentage(s,i,t.y);this.activeCharts.forEach((h,f)=>{if(f===r)return;const v=h.chart;try{const m=this.hasSameTicker(r,f);this.configureCrosshair(v,m);const C=this.checkTimestampStatus(v,n);let b=!1;if(C.exists&&C.isVisible&&(b=this.showCrosshair(v,n,i,u,t.y,d)),!b){const _=this.findVisibleTimestamp(v,n,i);_&&(b=this.showCrosshair(v,_,i,u,t.y,d))}b||this.clearCrosshair(v,i)}catch(m){console.error(`Error syncing chart ${f}:`,m)}})}};Re(o1,"instance",new o1),Re(o1,"enabled",!1),Re(o1,"timeSyncEnabled",!1);let Jg=o1;const ev=()=>Jg.getInstance(),sL=e=>{Jg.setEnabled(e)},cL=()=>Jg.isEnabled(),tp=class l1{constructor(){Re(this,"activeCharts",new Map)}static getInstance(){return l1.instance}static setEnabled(r){l1.enabled=r}static isEnabled(){return l1.enabled}registerChart(r,t,n,i){this.activeCharts.set(r,{chart:t,ticker:n,type:i})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n){const i=this.activeCharts.get(r);i&&(i.ticker=t,i.type=n)}findClosestTimestamp(r,t){try{const n=r.getDataList();if(!n||n.length===0)return null;let i=0,o=n.length-1,s=n[0].timestamp,u=Math.abs(n[0].timestamp-t);for(;i<=o;){const h=Math.floor((i+o)/2),f=n[h].timestamp,v=Math.abs(f-t);if(v<u&&(u=v,s=f),f===t)return f;f<t?i=h+1:o=h-1}const d=Math.round(u/(1e3*60));return s}catch(n){return console.error("Error finding closest timestamp:",n),null}}isTimestampVisible(r,t){try{const n=r.getVisibleRange();if(!n)return!1;const i=r.getDataList();if(!i||i.length===0)return!1;const o=Math.max(0,Math.min(n.from||0,i.length-1)),s=Math.max(0,Math.min(n.to||i.length-1,i.length-1));if(o>s)return!1;const u=i[o].timestamp,d=i[s].timestamp,h=t>=u&&t<=d;if(!h){const f=this.findClosestTimestamp(r,t);if(f)return f>=u&&f<=d}return h}catch(n){return console.error("Error checking timestamp visibility:",n),!1}}scrollToTimestamp(r,t){try{const n=r.getVisibleRange();if(!n)return r.scrollToTimestamp(t),!0;const i=r.getDataList();if(!i||i.length===0)return!1;const o=Math.max(0,Math.min(n.from||0,i.length-1)),s=Math.max(0,Math.min(n.to||i.length-1,i.length-1))-o+1;let u=i.findIndex(f=>f.timestamp===t);if(u===-1){let f=0,v=Math.abs(i[0].timestamp-t);for(let m=1;m<i.length;m++){const C=Math.abs(i[m].timestamp-t);C<v&&(v=C,f=m)}u=f}const d=Math.min(u+s-1,i.length-1),h=i[d].timestamp;return r.scrollToTimestamp(h),!0}catch(n){return console.error("Error scrolling to timestamp:",n),!1}}syncTime(r,t){!l1.enabled||this.activeCharts.size<=1||!this.activeCharts.get(r)||this.activeCharts.forEach((n,i)=>{if(i===r)return;const o=n.chart;try{const s=this.findClosestTimestamp(o,t);if(!s)return;if(s!==t){const d=Math.abs(s-t)}if(this.isTimestampVisible(o,s))return;const u=this.scrollToTimestamp(o,s)}catch(s){console.error(`Error syncing chart ${i}:`,s)}})}};Re(tp,"instance",new tp),Re(tp,"enabled",!1);let tv=tp;const Z5=()=>tv.getInstance(),uL=e=>{tv.setEnabled(e)},dL=()=>tv.isEnabled(),rp=class m0{constructor(){Re(this,"activeCharts",new Map)}static getInstance(){return m0.instance}static setEnabled(r){m0.enabled=r}static isEnabled(){return m0.enabled}registerChart(r,t,n,i,o,s){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o,onTickerChange:s})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.ticker=t,o.type=n,i!==void 0&&(o.interval=i))}updateTickerChangeCallback(r,t){const n=this.activeCharts.get(r);n&&(n.onTickerChange=t)}syncAllToActiveTicker(r){if(!m0.enabled||this.activeCharts.size<=1)return;const t=this.activeCharts.get(r);if(!t||!t.ticker)return;const{ticker:n,type:i}=t;this.activeCharts.forEach((o,s)=>{if(s!==r&&!(o.ticker===n&&o.type===i))try{o.ticker=n,o.type=i,o.onTickerChange&&o.onTickerChange(n,i)}catch(u){console.error(`Error updating ticker for chart ${s}:`,u)}})}onTickerChange(r,t,n){this.updateChartTicker(r,t,n),m0.enabled&&this.syncAllToActiveTicker(r)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartTicker(r){const t=this.activeCharts.get(r);if(t)return{ticker:t.ticker,type:t.type,interval:t.interval}}};Re(rp,"instance",new rp),Re(rp,"enabled",!1);let rv=rp;const nv=()=>rv.getInstance(),hL=e=>{rv.setEnabled(e)},pL=()=>rv.isEnabled(),np=class y0{constructor(){Re(this,"activeCharts",new Map)}static getInstance(){return y0.instance}static setEnabled(r){y0.enabled=r}static isEnabled(){return y0.enabled}registerChart(r,t,n,i,o,s){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o,onIntervalChange:s})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartInterval(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.interval=t,n!==void 0&&(o.ticker=n),i!==void 0&&(o.type=i))}updateIntervalChangeCallback(r,t){const n=this.activeCharts.get(r);n&&(n.onIntervalChange=t)}syncAllToActiveInterval(r){if(!y0.enabled||this.activeCharts.size<=1)return;const t=this.activeCharts.get(r);if(!t||!t.interval)return;const{interval:n}=t;this.activeCharts.forEach((i,o)=>{if(o!==r&&!(i.interval&&i.interval.multiplier===n.multiplier&&i.interval.timespan===n.timespan))try{i.interval=n,i.onIntervalChange&&i.onIntervalChange(n)}catch(s){console.error(`Error updating interval for chart ${o}:`,s)}})}onIntervalChange(r,t){this.updateChartInterval(r,t),y0.enabled&&this.syncAllToActiveInterval(r)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartInterval(r){const t=this.activeCharts.get(r);if(t)return{interval:t.interval,ticker:t.ticker,type:t.type}}};Re(np,"instance",new np),Re(np,"enabled",!1);let iv=np;const av=()=>iv.getInstance(),fL=e=>{iv.setEnabled(e)},gL=()=>iv.isEnabled(),ip=class s1{constructor(){Re(this,"activeCharts",new Map),Re(this,"syncingOverlays",new Set)}static getInstance(){return s1.instance}static setEnabled(r){s1.enabled=r}static isEnabled(){return s1.enabled}registerChart(r,t,n,i,o){this.activeCharts.set(r,{chart:t,ticker:n,type:i,interval:o})}unregisterChart(r){this.activeCharts.has(r)&&this.activeCharts.delete(r)}updateChartTicker(r,t,n,i){const o=this.activeCharts.get(r);o&&(o.ticker=t,o.type=n,i!==void 0&&(o.interval=i))}updateChartInterval(r,t){const n=this.activeCharts.get(r);n&&(n.interval=t.text||`${t.multiplier}${t.timespan}`)}hasSameTicker(r,t){const n=this.activeCharts.get(r),i=this.activeCharts.get(t);if(!n||!i||!n.ticker||!i.ticker)return!1;const o=n.ticker===i.ticker;return n.type===void 0&&i.type===void 0?o:o&&n.type===i.type}generateOverlayId(r){if(r.groupId)return`${r.name}_${r.groupId}`;const t=(r.points||[]).map(n=>`${n.timestamp}_${n.value}`).join("|");return`${r.name}_${t}_${r.extendData?JSON.stringify(r.extendData):""}`}onOverlayCreated(r,t){this.syncDrawing(r,t,"create")}onOverlayUpdated(r,t){this.syncDrawing(r,t,"update")}onOverlayRemoved(r,t){this.syncDrawing(r,t,"remove")}syncDrawing(r,t,n){if(!s1.enabled||this.activeCharts.size<=1)return;const i=this.generateOverlayId(t);if(!this.syncingOverlays.has(i)){this.syncingOverlays.add(i);try{if(!this.activeCharts.get(r))return;this.activeCharts.forEach((o,s)=>{if(s!==r)try{if(!this.hasSameTicker(r,s))return;const u=o.chart;switch(n){case"create":this.createOverlayOnChart(u,t,s);break;case"update":this.updateOverlayOnChart(u,t,s);break;case"remove":this.removeOverlayFromChart(u,t,s);break}}catch(u){console.error(`Error syncing drawing to chart ${s}:`,u)}})}finally{setTimeout(()=>{this.syncingOverlays.delete(i)},100)}}}createOverlayOnChart(r,t,n){try{const i={...t,points:t.points?[...t.points]:[],extendData:t.extendData?JSON.parse(JSON.stringify(t.extendData)):void 0};delete i.id,r.createOverlay(i)}catch(i){console.error(`Error creating overlay on chart ${n}:`,i)}}updateOverlayOnChart(r,t,n){try{const i=r.getOverlays(),o=[];i&&Array.isArray(i)&&i.forEach(s=>{const u=s.name===t.name,d=t.groupId&&s.groupId===t.groupId;(t.groupId&&d&&u||!t.groupId&&u&&this.overlaysAreSimilarForUpdate(s,t))&&o.push(s)}),o.forEach(s=>{s.id&&r.removeOverlay({id:s.id})}),this.createOverlayOnChart(r,t,n)}catch(i){console.error(`Error updating overlay on chart ${n}:`,i)}}removeOverlayFromChart(r,t,n){try{const i=r.getOverlays(),o=[];i&&Array.isArray(i)&&i.forEach(s=>{s.name===t.name&&this.overlaysAreSimilar(s,t)&&o.push(s)}),o.forEach(s=>{s.id&&r.removeOverlay({id:s.id})})}catch(i){console.error(`Error removing overlay from chart ${n}:`,i)}}overlaysAreSimilar(r,t){if(r.name!==t.name)return!1;if(r.points&&t.points){if(r.points.length!==t.points.length)return!1;for(let n=0;n<r.points.length;n++){const i=r.points[n],o=t.points[n];if(i.timestamp!==o.timestamp)return!1;if(i.value!==void 0&&o.value!==void 0){const s=Math.abs(i.value-o.value),u=Math.max(i.value,o.value)*.001;if(s>u)return!1}}}return!0}overlaysAreSimilarForUpdate(r,t){return!(r.name!==t.name||r.points&&t.points&&r.points.length!==t.points.length)}getRegisteredChartIds(){return Array.from(this.activeCharts.keys())}getChartTicker(r){const t=this.activeCharts.get(r);if(t)return{ticker:t.ticker,type:t.type,interval:t.interval}}};Re(ip,"instance",new ip),Re(ip,"enabled",!1);let ov=ip;const _1=()=>ov.getInstance(),vL=e=>{ov.setEnabled(e)},c1=()=>ov.isEnabled();var mL=re('<div class=chartspire-ui-svg-container><div class=chart-layouts><div class=item><span>1</span><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><rect width=41 height=40 fill=none stroke=currentColor rx=4 transform="translate(.5 .5)"></rect></svg></div><div class="item two-chart-row"><span>2</span><div class=two-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path></g></svg></div></div><div class="item three-chart-row"><span>3</span><div class=three-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M13 0v40"></path><path d="M28 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 28h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 20h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 20h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M20.5 0v20"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M20.5 20v20"></path></g></svg></div></div><div class="item four-chart-row"><span>4</span><div class=four-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M20 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 10h41"></path><path d="M0 20h41"></path><path d="M0 30h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M10 0v40"></path><path d="M20 0v40"></path><path d="M30 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 13h20.5"></path><path d="M20.5 27h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 13h20.5"></path><path d="M0 27h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M13.5 20v20"></path><path d="M27 20v20"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M13.5 0v20"></path><path d="M27 0v20"></path></g></svg></div></div><div class="item five-chart-row"><span>5</span><div class=five-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 8h41"></path><path d="M0 16h41"></path><path d="M0 24h41"></path><path d="M0 32h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M8 0v40"></path><path d="M16 0v40"></path><path d="M24 0v40"></path><path d="M32 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M20.5 10h20.5"></path><path d="M20.5 20h20.5"></path><path d="M20.5 30h20.5"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M20.5 0v40"></path><path d="M0 10h20.5"></path><path d="M0 20h20.5"></path><path d="M0 30h20.5"></path></g></svg></div></div><div class="item six-chart-row"><span>6</span><div class=six-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M13 0v41M27 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M7 0v40"></path><path d="M14 0v40"></path><path d="M21 0v40"></path><path d="M28 0v40"></path><path d="M35 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 7h41"></path><path d="M0 14h41"></path><path d="M0 21h41"></path><path d="M0 28h41"></path><path d="M0 35h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 27h41"></path><path d="M20 0v40"></path></g></svg></div></div><div class="item seven-chart-row"><span>7</span><div class=seven-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 5.7h41"></path><path d="M0 11.4h41"></path><path d="M0 17.1h41"></path><path d="M0 22.8h41"></path><path d="M0 28.5h41"></path><path d="M0 34.2h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M6 0v40"></path><path d="M12 0v40"></path><path d="M18 0v40"></path><path d="M24 0v40"></path><path d="M30 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item eight-chart-row"><span>8</span><div class=eight-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M10 0v41M20 0v41M30 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 5h41"></path><path d="M0 10h41"></path><path d="M0 15h41"></path><path d="M0 20h41"></path><path d="M0 25h41"></path><path d="M0 30h41"></path><path d="M0 35h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M5 0v40"></path><path d="M10 0v40"></path><path d="M15 0v40"></path><path d="M20 0v40"></path><path d="M25 0v40"></path><path d="M30 0v40"></path><path d="M35 0v40"></path></g></svg></div></div><div class="item nine-chart-row"><span>9</span><div class=nine-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 13h41"></path><path d="M0 27h41"></path><path d="M13 0v40"></path><path d="M27 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 4.4h41"></path><path d="M0 8.8h41"></path><path d="M0 13.2h41"></path><path d="M0 17.6h41"></path><path d="M0 22h41"></path><path d="M0 26.4h41"></path><path d="M0 30.8h41"></path><path d="M0 35.2h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M4.5 0v40"></path><path d="M9 0v40"></path><path d="M13.5 0v40"></path><path d="M18 0v40"></path><path d="M22.5 0v40"></path><path d="M27 0v40"></path><path d="M31.5 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item ten-chart-row"><span>10</span><div class=ten-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M8 0v41M16 0v41M24 0v41M32 0v41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 4h41"></path><path d="M0 8h41"></path><path d="M0 12h41"></path><path d="M0 16h41"></path><path d="M0 20h41"></path><path d="M0 24h41"></path><path d="M0 28h41"></path><path d="M0 32h41"></path><path d="M0 36h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M4 0v40"></path><path d="M8 0v40"></path><path d="M12 0v40"></path><path d="M16 0v40"></path><path d="M20 0v40"></path><path d="M24 0v40"></path><path d="M28 0v40"></path><path d="M32 0v40"></path><path d="M36 0v40"></path></g></svg></div></div><div class="item twelve-chart-row"><span>12</span><div class=twelve-chart-options><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41"></path><path d="M6.8 0v40"></path><path d="M13.6 0v40"></path><path d="M20.4 0v40"></path><path d="M27.2 0v40"></path><path d="M34 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 10h41"></path><path d="M0 20h41"></path><path d="M0 30h41"></path><path d="M13 0v40"></path><path d="M27 0v40"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 3.3h41"></path><path d="M0 6.6h41"></path><path d="M0 10h41"></path><path d="M0 13.3h41"></path><path d="M0 16.6h41"></path><path d="M0 20h41"></path><path d="M0 23.3h41"></path><path d="M0 26.6h41"></path><path d="M0 30h41"></path><path d="M0 33.3h41"></path><path d="M0 36.6h41"></path></g></svg><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M3.4 0v40"></path><path d="M6.8 0v40"></path><path d="M10.2 0v40"></path><path d="M13.6 0v40"></path><path d="M17 0v40"></path><path d="M20.4 0v40"></path><path d="M23.8 0v40"></path><path d="M27.2 0v40"></path><path d="M30.6 0v40"></path><path d="M34 0v40"></path><path d="M37.4 0v40"></path></g></svg></div></div><div class=item><span>14</span><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M6 0v41M12 0v41M18 0v41M24 0v41M30 0v41M36 0v41"></path></g></svg></div><div class=item><span>16</span><svg xmlns=http://www.w3.org/2000/svg width=42 height=41><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=41 height=40 rx=2></rect><path d="M0 20h41M5 0v41M10 0v41M15 0v41M20 0v41M25 0v41M30 0v41M35 0v41"></path></g></svg></div></div><div class=sync-controls><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark></span></label><label class=checkbox-container><span></span><input type=checkbox><span class=checkmark>');const yL=e=>{const[r,t]=pe(cL()),[n,i]=pe(dL()),[o,s]=pe(pL()),[u,d]=pe(gL()),[h,f]=pe(c1()),v=T=>{e.onConfirm!=null&&e.onConfirm(T,fy),e.onClose!=null&&e.onClose()},m=T=>(T===U.TWO_VERTICAL?2:T===U.THREE_VERTICAL||T===U.THREE_MIXED||T===U.THREE_MIXED_REVERSE||T===U.THREE_MIXED_BOTTOM||T===U.THREE_MIXED_TOP?3:T===U.FOUR_VERTICAL||T===U.FOUR_HORIZONTAL||T===U.FOUR_MIXED||T===U.FOUR_MIXED_REVERSE||T===U.FOUR_MIXED_TOP||T===U.FOUR_MIXED_BOTTOM?4:T===U.FIVE_VERTICAL||T===U.FIVE_HORIZONTAL||T===U.FIVE_MIXED||T===U.FIVE_MIXED_REVERSE||T===U.FIVE_MIXED_TOP?5:T===U.SIX_HORIZONTAL||T===U.SIX_VERTICAL||T===U.SIX_MIXED?6:T===U.SEVEN_HORIZONTAL||T===U.SEVEN_VERTICAL?7:T===U.EIGHT||T===U.EIGHT_VERTICAL||T===U.EIGHT_HORIZONTAL?8:T===U.NINE||T===U.NINE_VERTICAL||T===U.NINE_HORIZONTAL?9:T===U.TEN||T===U.TEN_VERTICAL||T===U.TEN_HORIZONTAL?10:T===U.TWELVE||T===U.TWELVE_VERTICAL||T===U.TWELVE_HORIZONTAL||T===U.TWELVE_GRID?12:T)<=e.maxMultiChart,C=T=>{const I=T.target.checked;t(I),sL(I)},b=T=>{const I=T.target.checked;i(I),uL(I)},_=T=>{const I=T.target.checked;s(I),hL(I)},k=T=>{const I=T.target.checked;d(I),fL(I)},S=T=>{const I=T.target.checked;f(I),vL(I)};return oe(Bl,{get title(){return A("multichart",e.locale)},width:500,padding:"20px 35px",get onClose(){return e.onClose},get children(){var T=mL(),I=T.firstChild,P=I.firstChild,L=P.firstChild,z=L.nextSibling,R=P.nextSibling,V=R.firstChild,$=V.nextSibling,W=$.firstChild,te=W.nextSibling,ue=R.nextSibling,Y=ue.firstChild,Z=Y.nextSibling,q=Z.firstChild,G=q.nextSibling,K=G.nextSibling,X=K.nextSibling,J=X.nextSibling,ee=J.nextSibling,H=ue.nextSibling,ie=H.firstChild,xe=ie.nextSibling,Le=xe.firstChild,Pe=Le.nextSibling,be=Pe.nextSibling,He=be.nextSibling,Ae=He.nextSibling,Ne=Ae.nextSibling,ve=Ne.nextSibling,Te=H.nextSibling,Oe=Te.firstChild,Ze=Oe.nextSibling,Me=Ze.firstChild,nt=Me.nextSibling,lt=nt.nextSibling,Be=lt.nextSibling,yt=Te.nextSibling,Bt=yt.firstChild,Ot=Bt.nextSibling,st=Ot.firstChild,lr=st.nextSibling,Wr=lr.nextSibling,Ur=Wr.nextSibling,ar=yt.nextSibling,Tt=ar.firstChild,Ut=Tt.nextSibling,Kt=Ut.firstChild,zr=Kt.nextSibling,or=ar.nextSibling,Tr=or.firstChild,Mt=Tr.nextSibling,Ve=Mt.firstChild,bt=Ve.nextSibling,xt=bt.nextSibling,wt=or.nextSibling,Ct=wt.firstChild,Wt=Ct.nextSibling,Ht=Wt.firstChild,ur=Ht.nextSibling,At=ur.nextSibling,ft=wt.nextSibling,Ir=ft.firstChild,vr=Ir.nextSibling,Lr=vr.firstChild,fn=Lr.nextSibling,Dt=fn.nextSibling,Pr=ft.nextSibling,Et=Pr.firstChild,Ar=Et.nextSibling,xr=Ar.firstChild,pr=xr.nextSibling,Jr=pr.nextSibling,Hr=Jr.nextSibling,en=Pr.nextSibling,gn=en.firstChild,Mn=gn.nextSibling,Ni=en.nextSibling,na=Ni.firstChild,so=na.nextSibling,zi=I.nextSibling,co=zi.firstChild,Xo=co.firstChild,uo=Xo.nextSibling,jo=co.nextSibling,Go=jo.firstChild,Ds=Go.nextSibling,Fs=jo.nextSibling,Ko=Fs.firstChild,Nc=Ko.nextSibling,mr=Fs.nextSibling,zc=mr.firstChild,Vl=zc.nextSibling,Bc=mr.nextSibling,ho=Bc.firstChild,Rs=ho.nextSibling;return z.$$click=()=>{v(U.ONE)},W.$$click=()=>{v(U.TWO)},te.$$click=()=>{v(U.TWO_VERTICAL)},q.$$click=()=>{v(U.THREE)},G.$$click=()=>{v(U.THREE_VERTICAL)},K.$$click=()=>{v(U.THREE_MIXED)},X.$$click=()=>{v(U.THREE_MIXED_REVERSE)},J.$$click=()=>{v(U.THREE_MIXED_BOTTOM)},ee.$$click=()=>{v(U.THREE_MIXED_TOP)},Le.$$click=()=>{v(U.FOUR)},Pe.$$click=()=>{v(U.FOUR_VERTICAL)},be.$$click=()=>{v(U.FOUR_HORIZONTAL)},He.$$click=()=>{v(U.FOUR_MIXED)},Ae.$$click=()=>{v(U.FOUR_MIXED_REVERSE)},Ne.$$click=()=>{v(U.FOUR_MIXED_TOP)},ve.$$click=()=>{v(U.FOUR_MIXED_BOTTOM)},Me.$$click=()=>{v(U.FIVE_VERTICAL)},nt.$$click=()=>{v(U.FIVE_HORIZONTAL)},lt.$$click=()=>{v(U.FIVE_MIXED)},Be.$$click=()=>{v(U.FIVE_MIXED_REVERSE)},st.$$click=()=>{v(U.SIX)},lr.$$click=()=>{v(U.SIX_HORIZONTAL)},Wr.$$click=()=>{v(U.SIX_VERTICAL)},Ur.$$click=()=>{v(U.SIX_MIXED)},Kt.$$click=()=>{v(U.SEVEN_VERTICAL)},zr.$$click=()=>{v(U.SEVEN_HORIZONTAL)},Ve.$$click=()=>{v(U.EIGHT)},bt.$$click=()=>{v(U.EIGHT_VERTICAL)},xt.$$click=()=>{v(U.EIGHT_HORIZONTAL)},Ht.$$click=()=>{v(U.NINE)},ur.$$click=()=>{v(U.NINE_VERTICAL)},At.$$click=()=>{v(U.NINE_HORIZONTAL)},Lr.$$click=()=>{v(U.TEN)},fn.$$click=()=>{v(U.TEN_VERTICAL)},Dt.$$click=()=>{v(U.TEN_HORIZONTAL)},xr.$$click=()=>{v(U.TWELVE_GRID)},pr.$$click=()=>{v(U.TWELVE)},Jr.$$click=()=>{v(U.TWELVE_VERTICAL)},Hr.$$click=()=>{v(U.TWELVE_HORIZONTAL)},Mn.$$click=()=>{v(U.FOURTEEN)},so.$$click=()=>{v(U.SIXTEEN)},N(Xo,()=>A("enable_crosshair_sync",e.locale)),uo.addEventListener("change",C),N(Go,()=>A("enable_time_sync",e.locale)),Ds.addEventListener("change",b),N(Ko,()=>A("enable_ticker_sync",e.locale)),Nc.addEventListener("change",_),N(zc,()=>A("enable_interval_sync",e.locale)),Vl.addEventListener("change",k),N(ho,()=>A("enable_drawing_sync",e.locale)),Rs.addEventListener("change",S),$e(ze=>{var Qo=m(U.ONE)?"active":"inactive",ci=m(U.TWO)?"active":"inactive",Vc=m(U.TWO_VERTICAL)?"active":"inactive",Kn=m(U.THREE)?"active":"inactive",Os=m(U.THREE_VERTICAL)?"active":"inactive",Ns=m(U.THREE_MIXED)?"active":"inactive",zs=m(U.THREE_MIXED_REVERSE)?"active":"inactive",Da=m(U.THREE_MIXED_BOTTOM)?"active":"inactive",Zo=m(U.THREE_MIXED_TOP)?"active":"inactive",Fa=m(U.FOUR)?"active":"inactive",ia=m(U.FOUR_VERTICAL)?"active":"inactive",Bs=m(U.FOUR_HORIZONTAL)?"active":"inactive",$c=m(U.FOUR_MIXED)?"active":"inactive",qo=m(U.FOUR_MIXED_REVERSE)?"active":"inactive",$l=m(U.FOUR_MIXED_TOP)?"active":"inactive",po=m(U.FOUR_MIXED_BOTTOM)?"active":"inactive",fo=m(U.FIVE_VERTICAL)?"active":"inactive",Vs=m(U.FIVE_HORIZONTAL)?"active":"inactive",go=m(U.FIVE_MIXED)?"active":"inactive",Qt=m(U.FIVE_MIXED_REVERSE)?"active":"inactive",aa=m(U.SIX)?"active":"inactive",Wl=m(U.SIX_HORIZONTAL)?"active":"inactive",Jo=m(U.SIX_VERTICAL)?"active":"inactive",$s=m(U.SIX_MIXED)?"active":"inactive",Ul=m(U.SEVEN_VERTICAL)?"active":"inactive",Hl=m(U.SEVEN_HORIZONTAL)?"active":"inactive",el=m(U.EIGHT)?"active":"inactive",vo=m(U.EIGHT_VERTICAL)?"active":"inactive",Bi=m(U.EIGHT_HORIZONTAL)?"active":"inactive",Vi=m(U.NINE)?"active":"inactive",$i=m(U.NINE_VERTICAL)?"active":"inactive",Ra=m(U.NINE_HORIZONTAL)?"active":"inactive",mo=m(U.TEN)?"active":"inactive",Wi=m(U.TEN_VERTICAL)?"active":"inactive",Wc=m(U.TEN_HORIZONTAL)?"active":"inactive",Ws=m(U.TWELVE_GRID)?"active":"inactive",oa=m(U.TWELVE)?"active":"inactive",Uc=m(U.TWELVE_VERTICAL)?"active":"inactive",Us=m(U.TWELVE_HORIZONTAL)?"active":"inactive",tl=m(U.FOURTEEN)?"active":"inactive",Hs=m(U.SIXTEEN)?"active":"inactive";return Qo!==ze.e&&Ge(z,"class",ze.e=Qo),ci!==ze.t&&Ge(W,"class",ze.t=ci),Vc!==ze.a&&Ge(te,"class",ze.a=Vc),Kn!==ze.o&&Ge(q,"class",ze.o=Kn),Os!==ze.i&&Ge(G,"class",ze.i=Os),Ns!==ze.n&&Ge(K,"class",ze.n=Ns),zs!==ze.s&&Ge(X,"class",ze.s=zs),Da!==ze.h&&Ge(J,"class",ze.h=Da),Zo!==ze.r&&Ge(ee,"class",ze.r=Zo),Fa!==ze.d&&Ge(Le,"class",ze.d=Fa),ia!==ze.l&&Ge(Pe,"class",ze.l=ia),Bs!==ze.u&&Ge(be,"class",ze.u=Bs),$c!==ze.c&&Ge(He,"class",ze.c=$c),qo!==ze.w&&Ge(Ae,"class",ze.w=qo),$l!==ze.m&&Ge(Ne,"class",ze.m=$l),po!==ze.f&&Ge(ve,"class",ze.f=po),fo!==ze.y&&Ge(Me,"class",ze.y=fo),Vs!==ze.g&&Ge(nt,"class",ze.g=Vs),go!==ze.p&&Ge(lt,"class",ze.p=go),Qt!==ze.b&&Ge(Be,"class",ze.b=Qt),aa!==ze.T&&Ge(st,"class",ze.T=aa),Wl!==ze.A&&Ge(lr,"class",ze.A=Wl),Jo!==ze.O&&Ge(Wr,"class",ze.O=Jo),$s!==ze.I&&Ge(Ur,"class",ze.I=$s),Ul!==ze.S&&Ge(Kt,"class",ze.S=Ul),Hl!==ze.W&&Ge(zr,"class",ze.W=Hl),el!==ze.C&&Ge(Ve,"class",ze.C=el),vo!==ze.B&&Ge(bt,"class",ze.B=vo),Bi!==ze.v&&Ge(xt,"class",ze.v=Bi),Vi!==ze.k&&Ge(Ht,"class",ze.k=Vi),$i!==ze.x&&Ge(ur,"class",ze.x=$i),Ra!==ze.j&&Ge(At,"class",ze.j=Ra),mo!==ze.q&&Ge(Lr,"class",ze.q=mo),Wi!==ze.z&&Ge(fn,"class",ze.z=Wi),Wc!==ze.P&&Ge(Dt,"class",ze.P=Wc),Ws!==ze.H&&Ge(xr,"class",ze.H=Ws),oa!==ze.F&&Ge(pr,"class",ze.F=oa),Uc!==ze.M&&Ge(Jr,"class",ze.M=Uc),Us!==ze.D&&Ge(Hr,"class",ze.D=Us),tl!==ze.R&&Ge(Mn,"class",ze.R=tl),Hs!==ze.E&&Ge(so,"class",ze.E=Hs),ze},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0,S:void 0,W:void 0,C:void 0,B:void 0,v:void 0,k:void 0,x:void 0,j:void 0,q:void 0,z:void 0,P:void 0,H:void 0,F:void 0,M:void 0,D:void 0,R:void 0,E:void 0}),$e(()=>uo.checked=r()),$e(()=>Ds.checked=n()),$e(()=>Nc.checked=o()),$e(()=>Vl.checked=u()),$e(()=>Rs.checked=h()),T}})};_r(["click"]);const xL=e=>oe(yL,{get multiChart(){return e.multiChart},get maxMultiChart(){return e.maxMultiCharts},get onConfirm(){return e.onMultiChartClick},onClose:()=>{e.setMultiChartModalVisible(!1)},get locale(){return e.locale}});var CL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M12.41465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L12.41465,12C12.20873,12.5826,11.65311,13,11,13C10.34689,13,9.79127,12.5826,9.58535,12L3.5,12C3.223857,12,3,11.77614,3,11.5C3,11.22386,3.223857,11,3.5,11L9.58535,11C9.79127,10.417404,10.34689,10,11,10C11.65311,10,12.20873,10.417404,12.41465,11Z stroke-opacity=0 stroke=none>');const bL=()=>CL();var wL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,11L11.08535,11C11.29127,10.417404,11.84689,10,12.5,10C13.15311,10,13.70873,10.417404,13.91465,11L18.5,11C18.7761,11,19,11.22386,19,11.5C19,11.77614,18.7761,12,18.5,12L13.91465,12C13.70873,12.5826,13.15311,13,12.5,13C11.84689,13,11.29127,12.5826,11.08535,12L6.91465,12C6.70873,12.5826,6.15311,13,5.5,13C4.671573,13,4,12.32843,4,11.5C4,10.671573,4.671573,10,5.5,10C6.15311,10,6.70873,10.417404,6.91465,11Z stroke-opacity=0 stroke=none>');const _L=()=>wL();var kL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,12.5C6.70873,13.0826,6.15311,13.5,5.5,13.5C4.671573,13.5,4,12.82843,4,12C4,11.171573,4.671573,10.5,5.5,10.5C6.15311,10.5,6.70873,10.917404,6.91465,11.5L16.0853,11.5C16.2913,10.917404,16.846899999999998,10.5,17.5,10.5C18.328400000000002,10.5,19,11.171573,19,12C19,12.82843,18.328400000000002,13.5,17.5,13.5C16.846899999999998,13.5,16.2913,13.0826,16.0853,12.5L6.91465,12.5Z stroke-opacity=0 stroke=none>');const SL=()=>kL();var ML=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11,12.41465L11,18.5C11,18.7761,11.22386,19,11.5,19C11.77614,19,12,18.7761,12,18.5L12,12.41465C12.5826,12.20873,13,11.65311,13,11C13,10.34689,12.5826,9.79127,12,9.58535L12,3.5C12,3.223857,11.77614,3,11.5,3C11.22386,3,11,3.223857,11,3.5L11,9.58535C10.417404,9.79127,10,10.34689,10,11C10,11.65311,10.417404,12.20873,11,12.41465Z stroke-opacity=0 stroke=none>');const EL=()=>ML();var TL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.66558837890625,19C10.83716137890625,19,10.16558837890625,18.328400000000002,10.16558837890625,17.5C10.16558837890625,16.846899999999998,10.58298437890625,16.2913,11.16557337890625,16.0854L11.16557337890625,11.91464C10.58298437890625,11.70872,10.16558837890625,11.1531,10.16558837890625,10.5C10.16558837890625,9.8469,10.58298437890625,9.29128,11.16557337890625,9.08536L11.16557337890625,4.5C11.16557337890625,4.223857,11.38942837890625,4,11.66556837890625,4C11.94171837890625,4,12.16556837890625,4.223857,12.16556837890625,4.5L12.16556837890625,9.08535C12.74817837890625,9.291260000000001,13.16558837890625,9.846879999999999,13.16558837890625,10.5C13.16558837890625,11.153120000000001,12.74817837890625,11.708739999999999,12.16556837890625,11.91465L12.16556837890625,16.0854C12.74817837890625,16.2913,13.16558837890625,16.846899999999998,13.16558837890625,17.5C13.16558837890625,18.328400000000002,12.49401837890625,19,11.66558837890625,19Z stroke-opacity=0 stroke=none>');const IL=()=>TL();var LL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.165603637695312,6.91465C11.748203637695312,6.70873,12.165603637695312,6.15311,12.165603637695312,5.5C12.165603637695312,4.671573,11.494033637695313,4,10.665603637695312,4C9.837176637695313,4,9.165603637695312,4.671573,9.165603637695312,5.5C9.165603637695312,6.15311,9.583007637695312,6.70873,10.165603637695312,6.91465L10.165603637695312,16.0854C9.583007637695312,16.2913,9.165603637695312,16.846899999999998,9.165603637695312,17.5C9.165603637695312,18.328400000000002,9.837176637695313,19,10.665603637695312,19C11.494033637695313,19,12.165603637695312,18.328400000000002,12.165603637695312,17.5C12.165603637695312,16.846899999999998,11.748203637695312,16.2913,11.165603637695312,16.0854L11.165603637695312,6.91465Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const PL=()=>LL();var AL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.146447,15.753C4.9511845,15.9483,4.9511845,16.2649,5.146447,16.4602C5.341709,16.6554,5.658291,16.6554,5.853554,16.4602L8.156600000000001,14.15711C8.352409999999999,14.25082,8.57173,14.3033,8.8033,14.3033C9.631730000000001,14.3033,10.3033,13.63172,10.3033,12.80329C10.3033,12.57172,10.250820000000001,12.352409999999999,10.157119999999999,12.15659L12.156600000000001,10.15711C12.352409999999999,10.250820000000001,12.571729999999999,10.30329,12.8033,10.30329C13.63173,10.30329,14.3033,9.63172,14.3033,8.80329C14.3033,8.57172,14.25082,8.352409999999999,14.15712,8.15659L16.4602,5.853553C16.6554,5.658291,16.6554,5.341709,16.4602,5.146447C16.2649,4.9511843,15.9483,4.9511843,15.753,5.146447L13.45001,7.449479999999999C13.25419,7.35577,13.03487,7.3032900000000005,12.8033,7.3032900000000005C11.97487,7.3032900000000005,11.3033,7.97487,11.3033,8.80329C11.3033,9.03487,11.35578,9.254190000000001,11.44949,9.450009999999999L9.450009999999999,11.449480000000001C9.254190000000001,11.35577,9.03487,11.30329,8.8033,11.30329C7.97487,11.30329,7.3033,11.97487,7.3033,12.80329C7.3033,13.03487,7.35578,13.25419,7.44949,13.45001L5.146447,15.753Z stroke-opacity=0 stroke=none>');const DL=()=>AL();var FL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M7.573332939453125,14.54567903564453C7.667042939453125,14.741499035644532,7.719512939453125,14.960809035644532,7.719512939453125,15.19239903564453C7.719512939453125,16.02079903564453,7.047942939453125,16.69239903564453,6.219512939453125,16.69239903564453C5.391085939453125,16.69239903564453,4.719512939453125,16.02079903564453,4.719512939453125,15.19239903564453C4.719512939453125,14.36394903564453,5.391085939453125,13.692379035644532,6.219512939453125,13.692379035644532C6.451092939453125,13.692379035644532,6.670412939453125,13.74485903564453,6.866232939453125,13.83856903564453L9.865702939453126,10.83909903564453C9.771992939453124,10.643279035644532,9.719512939453125,10.42395903564453,9.719512939453125,10.192379035644532C9.719512939453125,9.36394903564453,10.391082939453124,8.692379035644532,11.219512939453125,8.692379035644532C11.451092939453126,8.692379035644532,11.670412939453126,8.74485903564453,11.866232939453125,8.838569035644532L15.462112939453124,5.242645035644531C15.657412939453126,5.047383335644532,15.974012939453125,5.047383335644532,16.169212939453125,5.242645035644531C16.364512939453125,5.437907035644531,16.364512939453125,5.754489035644531,16.169212939453125,5.949752035644531L12.573332939453124,9.545679035644532C12.667042939453125,9.74149903564453,12.719512939453125,9.96080903564453,12.719512939453125,10.192379035644532C12.719512939453125,11.020809035644533,12.047942939453126,11.692379035644532,11.219512939453125,11.692379035644532C10.987942939453125,11.692379035644532,10.768632939453125,11.639909035644532,10.572812939453126,11.54619903564453L7.573332939453125,14.54567903564453Z stroke-opacity=0 stroke=none>');const RL=()=>FL();var OL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M15.719512939453125,8.461776733398438C16.547912939453127,8.461776733398438,17.219512939453125,7.7902067333984375,17.219512939453125,6.9617767333984375C17.219512939453125,6.133349733398438,16.547912939453127,5.4617767333984375,15.719512939453125,5.4617767333984375C14.891082939453124,5.4617767333984375,14.219512939453125,6.133349733398438,14.219512939453125,6.9617767333984375C14.219512939453125,7.193346733398437,14.271992939453124,7.412666733398438,14.365692939453124,7.608486733398438L7.366222939453126,14.607956733398437C7.170402939453125,14.514256733398437,6.951082939453125,14.461776733398438,6.719512939453125,14.461776733398438C5.891085939453125,14.461776733398438,5.219512939453125,15.133346733398437,5.219512939453125,15.961776733398438C5.219512939453125,16.79017673339844,5.891085939453125,17.461776733398438,6.719512939453125,17.461776733398438C7.547942939453125,17.461776733398438,8.219512939453125,16.79017673339844,8.219512939453125,15.961776733398438C8.219512939453125,15.730176733398437,8.167032939453126,15.510876733398437,8.073322939453124,15.315066733398437L15.072802939453124,8.315586733398437C15.268612939453124,8.409296733398438,15.487912939453125,8.461776733398438,15.719512939453125,8.461776733398438Z stroke-opacity=0 stroke=none>');const NL=()=>OL();var zL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M17.0643,7.033864912109375L18,3.585784912109375L14.5078,4.509695912109375L15.3537,5.344934912109375L6.02026,14.560584912109375C5.87635,14.517484912109374,5.72366,14.494284912109375,5.5655,14.494284912109375C4.7009,14.494284912109375,4,15.186384912109375,4,16.040084912109375C4,16.893784912109375,4.7009,17.585784912109375,5.5655,17.585784912109375C6.43011,17.585784912109375,7.13101,16.893784912109375,7.13101,16.040084912109375C7.13101,15.722284912109375,7.03392,15.426984912109376,6.86744,15.181384912109374L16.0917,6.073604912109375L17.0643,7.033864912109375Z stroke-opacity=0 stroke=none>');const BL=()=>zL();var VL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M6.91465,13.00505L18.5,13.00505C18.7761,13.00505,19,13.228909999999999,19,13.50505C19,13.781189999999999,18.7761,14.00505,18.5,14.00505L6.91465,14.00505C6.70873,14.58765,6.15311,15.00505,5.5,15.00505C4.671573,15.00505,4,14.33348,4,13.50505C4,12.67662,4.671573,12.00505,5.5,12.00505C6.15311,12.00505,6.70873,12.422450000000001,6.91465,13.00505ZM7.81404,11.625L10.48591,11.625L10.48591,10.90625L9.65193,10.90625L9.65193,7.125L8.997630000000001,7.125C8.71443,7.306641,8.415600000000001,7.419922,7.96443,7.498047L7.96443,8.05078L8.77497,8.05078L8.77497,10.90625L7.81404,10.90625L7.81404,11.625ZM11.081620000000001,11.625L14.0562,11.625L14.0562,10.88281L13.09724,10.88281C12.8863,10.88281,12.59333,10.90625,12.36482,10.93555C13.17537,10.11328,13.84724,9.2207,13.84724,8.39062C13.84724,7.541016,13.28865,7,12.4488,7C11.84333,7,11.446850000000001,7.234375,11.03279,7.679688L11.52497,8.16797C11.747630000000001,7.914062,12.0113,7.697266,12.33552,7.697266C12.7613,7.697266,13.00154,7.982422,13.00154,8.43359C13.00154,9.14648,12.29255,10.00781,11.081620000000001,11.11523L11.081620000000001,11.625ZM15.9605,11.75C16.8121,11.75,17.526899999999998,11.2832,17.526899999999998,10.4375C17.526899999999998,9.82031,17.142200000000003,9.43945,16.6441,9.30078L16.6441,9.27148C17.1129,9.08594,17.3824,8.7207,17.3824,8.21289C17.3824,7.421875,16.8004,7,15.9429,7C15.4215,7,14.9957,7.210938,14.6109,7.541016L15.066,8.11133C15.3258,7.849609,15.5836,7.697266,15.9019,7.697266C16.2789,7.697266,16.4957,7.914062,16.4957,8.28125C16.4957,8.70898,16.2301,9,15.4215,9L15.4215,9.63672C16.3804,9.63672,16.6383,9.91992,16.6383,10.38086C16.6383,10.79688,16.3336,11.03125,15.8824,11.03125C15.4742,11.03125,15.1578,10.82227,14.8922,10.55078L14.4781,11.13281C14.7906,11.486329999999999,15.2652,11.75,15.9605,11.75Z stroke-opacity=0 stroke=none>');const $L=()=>VL();var WL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3.146447,14.178126025390625C2.9511847,13.982826025390626,2.9511847,13.666226025390625,3.146447,13.470926025390625L7.39146,9.225966025390626C7.35417,9.095106025390624,7.33421,8.956946025390625,7.33421,8.814116025390625C7.33421,7.985696025390625,8.00578,7.314116025390625,8.834209999999999,7.314116025390625C8.97703,7.314116025390625,9.11519,7.334086025390625,9.24605,7.371366025390625L13.753,2.864373025390625C13.9483,2.669110325390625,14.2649,2.669110325390625,14.4602,2.864373025390625C14.6554,3.059635025390625,14.6554,3.376217025390625,14.4602,3.571479025390625L10.06916,7.962476025390625C10.23631,8.204386025390626,10.334209999999999,8.497826025390625,10.334209999999999,8.814116025390625C10.334209999999999,9.642546025390626,9.66264,10.314116025390625,8.834209999999999,10.314116025390625C8.51791,10.314116025390625,8.22448,10.216226025390625,7.98256,10.049076025390626L3.853554,14.178126025390625C3.658291,14.373326025390625,3.341709,14.373326025390625,3.146447,14.178126025390625ZM7.67736,19.188526025390626C7.4821,18.993226025390626,7.4821,18.676626025390625,7.67736,18.481426025390626L9.9804,16.178326025390625C9.88669,15.982526025390625,9.834209999999999,15.763226025390624,9.834209999999999,15.531626025390626C9.834209999999999,14.703226025390626,10.50578,14.031626025390626,11.33421,14.031626025390626C11.56579,14.031626025390626,11.78511,14.084126025390624,11.98093,14.177826025390624L13.9804,12.178356025390626C13.8867,11.982536025390624,13.8342,11.763216025390625,13.8342,11.531636025390625C13.8342,10.703206025390624,14.5058,10.031636025390625,15.3342,10.031636025390625C15.5658,10.031636025390625,15.7851,10.084116025390625,15.9809,10.177826025390626L18.284,7.874796025390625C18.4792,7.679536025390625,18.7958,7.679536025390625,18.9911,7.874796025390625C19.1863,8.070056025390624,19.1863,8.386636025390626,18.9911,8.581906025390625L16.688000000000002,10.884936025390624C16.7817,11.080756025390626,16.8342,11.300066025390626,16.8342,11.531636025390625C16.8342,12.360066025390624,16.162599999999998,13.031626025390626,15.3342,13.031626025390626C15.1026,13.031626025390626,14.8833,12.979126025390626,14.6875,12.885426025390625L12.68803,14.884926025390625C12.78174,15.080726025390625,12.83421,15.300026025390626,12.83421,15.531626025390626C12.83421,16.360026025390624,12.16264,17.031626025390626,11.33421,17.031626025390626C11.10264,17.031626025390626,10.88333,16.979126025390627,10.68751,16.885426025390625L8.38446,19.188526025390626C8.1892,19.383726025390626,7.87262,19.383726025390626,7.67736,19.188526025390626Z stroke-opacity=0 stroke=none>');const UL=()=>WL();var HL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3.3367688759765626,12.63173C3.5320318759765623,12.82699,3.8486138759765627,12.82699,4.043876875976562,12.63173L11.822052875976562,4.853553C12.017312875976563,4.658291,12.017312875976563,4.341708,11.822052875976562,4.146446C11.626792875976562,3.9511843,11.310202875976563,3.9511843,11.114942875976563,4.146446L3.3367688759765626,11.92462C3.1415071759765625,12.11988,3.1415071759765625,12.43647,3.3367688759765626,12.63173ZM5.001492875976562,17.0351C4.806232875976562,16.8399,4.806232875976562,16.5233,5.001492875976562,16.328L7.304532875976562,14.025C7.210822875976563,13.82916,7.158352875976563,13.60984,7.158352875976563,13.37827C7.158352875976563,12.54984,7.829922875976562,11.87827,8.658352875976561,11.87827C8.889922875976563,11.87827,9.109232875976563,11.93075,9.305052875976562,12.02446L11.304532875976562,10.02498C11.210822875976563,9.82916,11.158352875976561,9.60984,11.158352875976561,9.37827C11.158352875976561,8.54984,11.829922875976562,7.8782700000000006,12.658352875976563,7.8782700000000006C12.889922875976563,7.8782700000000006,13.109232875976563,7.93075,13.305022875976562,8.024460000000001L15.608122875976562,5.72142C15.803322875976562,5.5261499999999995,16.119922875976563,5.5261499999999995,16.315222875976563,5.72142C16.510422875976563,5.9166799999999995,16.510422875976563,6.23326,16.315222875976563,6.42852L14.012122875976562,8.73156C14.105822875976562,8.92738,14.158322875976562,9.1467,14.158322875976562,9.37827C14.158322875976562,10.2067,13.486822875976562,10.87827,12.658352875976563,10.87827C12.426772875976562,10.87827,12.207452875976562,10.82579,12.011642875976563,10.73209L10.012162875976562,12.73156C10.105872875976562,12.92738,10.158352875976561,13.1467,10.158352875976561,13.37827C10.158352875976561,14.2067,9.486772875976563,14.8783,8.658352875976561,14.8783C8.426772875976562,14.8783,8.207452875976562,14.8258,8.011642875976563,14.7321L5.708602875976562,17.0351C5.513342875976562,17.2304,5.196752875976562,17.2304,5.001492875976562,17.0351ZM10.415712875976563,18.328C10.220452875976562,18.5233,9.903862875976563,18.5233,9.708602875976563,18.328C9.513342875976562,18.1328,9.513342875976562,17.816200000000002,9.708602875976563,17.6209L12.304532875976562,15.025C12.210822875976563,14.8292,12.158352875976563,14.6098,12.158352875976563,14.3783C12.158352875976563,13.54984,12.829922875976562,12.87827,13.658322875976562,12.87827C13.889922875976563,12.87827,14.109222875976563,12.93075,14.305022875976562,13.02446L17.486822875976564,9.84274C17.682022875976564,9.64747,17.99862287597656,9.64747,18.19392287597656,9.84274C18.38912287597656,10.038,18.38912287597656,10.35458,18.19392287597656,10.54984L15.012122875976562,13.73156C15.105822875976562,13.92738,15.158322875976562,14.1467,15.158322875976562,14.3783C15.158322875976562,15.2067,14.486822875976562,15.8783,13.658322875976562,15.8783C13.426822875976562,15.8783,13.207422875976562,15.8258,13.011642875976563,15.7321L10.415712875976563,18.328Z stroke-opacity=0 stroke=none>');const YL=()=>HL();var XL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M13.1889,6C12.98303,6.582599999999999,12.42741,7,11.7743,7C11.12119,7,10.565570000000001,6.582599999999999,10.35965,6L3.5,6C3.223857,6,3,5.77614,3,5.5C3,5.22386,3.223857,5,3.5,5L10.35965,5C10.565570000000001,4.417404,11.12119,4,11.7743,4C12.42741,4,12.98303,4.417404,13.1889,5L18.5,5C18.7761,5,19,5.22386,19,5.5C19,5.77614,18.7761,6,18.5,6L13.1889,6ZM3,8.5C3,8.22386,3.223857,8,3.5,8L18.5,8C18.7761,8,19,8.22386,19,8.5C19,8.77614,18.7761,9,18.5,9L3.5,9C3.223857,9,3,8.77614,3,8.5ZM3.278549,11.5C3.278549,11.22386,3.502407,11,3.778549,11L18.7785,11C19.0547,11,19.2785,11.22386,19.2785,11.5C19.2785,11.77614,19.0547,12,18.7785,12L3.778549,12C3.502407,12,3.278549,11.77614,3.278549,11.5ZM3.139267,14.5C3.139267,14.2239,3.363124,14,3.6392670000000003,14L18.6393,14C18.915399999999998,14,19.1393,14.2239,19.1393,14.5C19.1393,14.7761,18.915399999999998,15,18.6393,15L3.6392670000000003,15C3.363124,15,3.139267,14.7761,3.139267,14.5ZM13.1889,18C12.98303,18.5826,12.42741,19,11.7743,19C11.12119,19,10.565570000000001,18.5826,10.35965,18L3.778549,18C3.502407,18,3.278549,17.7761,3.278549,17.5C3.278549,17.2239,3.502407,17,3.778549,17L10.35965,17C10.565570000000001,16.4174,11.12119,16,11.7743,16C12.42741,16,12.98303,16.4174,13.1889,17L18.7785,17C19.0547,17,19.2785,17.2239,19.2785,17.5C19.2785,17.7761,19.0547,18,18.7785,18L13.1889,18Z stroke-opacity=0 stroke=none>');const jL=()=>XL();var GL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M4.91465,6C4.70873,6.582599999999999,4.15311,7,3.5,7C2.671573,7,2,6.32843,2,5.5C2,4.671573,2.671573,4,3.5,4C4.15311,4,4.70873,4.417404,4.91465,5L18.2257,5C18.5018,5,18.7257,5.22386,18.7257,5.5C18.7257,5.77614,18.5018,6,18.2257,6L4.91465,6ZM2.7257,8.5C2.7257,8.22386,2.949558,8,3.2257,8L18.2257,8C18.5018,8,18.7257,8.22386,18.7257,8.5C18.7257,8.77614,18.5018,9,18.2257,9L3.2257,9C2.949558,9,2.7257,8.77614,2.7257,8.5ZM3.00425,11.5C3.00425,11.22386,3.22811,11,3.50425,11L18.5042,11C18.7804,11,19.0042,11.22386,19.0042,11.5C19.0042,11.77614,18.7804,12,18.5042,12L3.50425,12C3.22811,12,3.00425,11.77614,3.00425,11.5ZM2.864967,14.5C2.864967,14.2239,3.08882,14,3.36497,14L18.365,14C18.6411,14,18.865,14.2239,18.865,14.5C18.865,14.7761,18.6411,15,18.365,15L3.36497,15C3.08882,15,2.864967,14.7761,2.864967,14.5ZM20,17.5C20,18.328400000000002,19.3284,19,18.5,19C17.846899999999998,19,17.2913,18.5826,17.0854,18L3.50425,18C3.22811,18,3.00425,17.7761,3.00425,17.5C3.00425,17.2239,3.22811,17,3.50425,17L17.0854,17C17.2913,16.4174,17.846899999999998,16,18.5,16C19.3284,16,20,16.671599999999998,20,17.5Z stroke-opacity=0 stroke=none>');const KL=()=>GL();var QL=re('<svg class=icon-overlay viewBox="0 0 22 22"><ellipse cx=10.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=17.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=10.5 cy=11.5 rx=7 ry=7 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1></ellipse><ellipse cx=10.5 cy=11.5 rx=5 ry=5 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1></ellipse><ellipse cx=10.5 cy=11.5 rx=3 ry=3 fill-opacity=0 stroke-opacity=1 fill=none stroke-width=1>');const ZL=()=>QL();var qL=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M3,7.32468C5.90649,3.3893050000000002,11.49833,2.81306,14.6674,6.31944C14.9056,6.1554199999999994,15.192,6.05979,15.5,6.05979C15.845,6.05979,16.1628,6.17974,16.4162,6.381349999999999L18.4509,4.23827L19,4.816615L16.8945,7.03429C16.962600000000002,7.21075,17,7.40319,17,7.60463C17,8.45782,16.328400000000002,9.14947,15.5,9.14947C14.6716,9.14947,14,8.45782,14,7.60463C14,7.36402,14.0534,7.13625,14.1487,6.93322C11.32695,3.748365,6.25159,4.253956,3.612785,7.82695L3,7.32468ZM14.09,15.4717C15.7427,13.78985,16.244500000000002,11.524740000000001,15.5633,9.30134L15.5618,9.30134L16.3012,9.0502C17.072400000000002,11.56646,16.497700000000002,14.158,14.6282,16.0599C12.28737,18.442,8.62386,18.6988,6.41348,16.4501C4.5526,14.5572,4.52076,11.19671,6.36766,9.3177C7.89069,7.76754,10.07544,7.706189999999999,11.56741,9.22363C11.95453,9.61742,12.24817,10.08363,12.43369,10.57677L14.1451,8.77421L14.6942,9.35256L12.64982,11.50582C12.65827,11.59712,12.66295,11.68839,12.66378,11.77936C12.87398,12.04523,13,12.38451,13,12.7541C13,13.60729,12.32843,14.2989,11.5,14.2989C10.67157,14.2989,10,13.60729,10,12.7541C10,11.90091,10.67157,11.20926,11.5,11.20926C11.60387,11.20926,11.70528,11.220130000000001,11.8032,11.240829999999999L11.81763,11.22564C11.69858,10.71874,11.42858,10.21929,11.0284,9.81179C9.844000000000001,8.60765,8.136890000000001,8.65592,6.90822,9.90586C5.37975,11.460930000000001,5.40693,14.288,6.95404,15.8619C8.84598,17.7867,12.03496,17.5626,14.09,15.4717Z stroke-opacity=0 stroke=none>');const JL=()=>qL();var eP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M4,17.0854L4,3.5C4,3.223858,4.22386,3,4.5,3C4.77614,3,5,3.223858,5,3.5L5,10L7.57584,10L9.8127,4.46359C9.91614,4.20756,10.20756,4.08386,10.46359,4.1873000000000005C10.71963,4.29075,10.84333,4.58216,10.73988,4.8382000000000005L8.65438,10L11.08535,10C11.29127,9.4174,11.84689,9,12.5,9C12.65154,9,12.79784,9.02247,12.93573,9.06427L16.6464,5.35355C16.8417,5.15829,17.1583,5.15829,17.3536,5.35355C17.5488,5.54882,17.5488,5.8654,17.3536,6.06066L13.7475,9.66675C13.907,9.90508,14,10.19168,14,10.5C14,11.15311,13.5826,11.70873,13,11.91465L13,14.3638L18.3714,12.1936C18.6274,12.09015,18.918799999999997,12.21385,19.0222,12.46989C19.1257,12.72592,19.002,13.0173,18.746000000000002,13.1208L13,15.4423L13,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854ZM6.3729499999999994,17.0413L12,14.7678L12,11.91465C11.88136,11.87271,11.76956,11.81627,11.66675,11.74746L6.3729499999999994,17.0413ZM12,15.8463L6.6694700000000005,18L12,18L12,15.8463ZM6.38629,15.6137L8.250350000000001,11L11,11L6.38629,15.6137ZM5,11L7.17182,11L5,16.3754L5,11Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const tP=()=>eP();var rP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M17,4.5C17,5.32843,16.328400000000002,6,15.5,6C15.0931,6,14.7241,5.83802,14.4539,5.57503L5.98992,8.32515C5.99658,8.38251,6,8.440850000000001,6,8.5C6,9.15311,5.582599999999999,9.70873,5,9.91465L5,11.08535C5.42621,11.236,5.763999999999999,11.57379,5.91465,12L19.5,12C19.7761,12,20,12.22386,20,12.5C20,12.77614,19.7761,13,19.5,13L5.91465,13C5.70873,13.5826,5.15311,14,4.5,14C3.671573,14,3,13.3284,3,12.5C3,11.84689,3.417404,11.29127,4,11.08535L4,9.91465C3.417404,9.70873,3,9.15311,3,8.5C3,7.67157,3.671573,7,4.5,7C4.90411,7,5.2709,7.15981,5.5406200000000005,7.41967L14.0093,4.66802C14.0032,4.6128599999999995,14,4.5568,14,4.5C14,3.671573,14.6716,3,15.5,3C16.328400000000002,3,17,3.671573,17,4.5ZM4,15.5C4,15.2239,4.22386,15,4.5,15L19.5,15C19.7761,15,20,15.2239,20,15.5C20,15.7761,19.7761,16,19.5,16L4.5,16C4.22386,16,4,15.7761,4,15.5ZM4,18.5C4,18.2239,4.22386,18,4.5,18L19.5,18C19.7761,18,20,18.2239,20,18.5C20,18.7761,19.7761,19,19.5,19L4.5,19C4.22386,19,4,18.7761,4,18.5Z stroke-opacity=0 stroke=none>');const nP=()=>rP();var iP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M20,3.5C20,4.15311,19.5826,4.70873,19,4.91465L19,18.5C19,18.7761,18.7761,19,18.5,19L4.91465,19C4.70873,19.5826,4.15311,20,3.5,20C2.671573,20,2,19.3284,2,18.5C2,17.846899999999998,2.417404,17.2913,3,17.0854L3,3.5C3,3.22386,3.22386,3,3.5,3L17.0854,3C17.2913,2.417404,17.846899999999998,2,18.5,2C19.3284,2,20,2.671573,20,3.5ZM17.0854,4C17.236,4.42621,17.5738,4.763999999999999,18,4.91465L18,8L14,8L14,4L17.0854,4ZM13,4L13,8L9,8L9,4L13,4ZM13,9L9,9L9,13L13,13L13,9ZM13,14L9,14L9,18L13,18L13,14ZM14,18L14,14L18,14L18,18L14,18ZM18,13L14,13L14,9L18,9L18,13ZM4.91465,18C4.763999999999999,17.5738,4.42621,17.236,4,17.0854L4,14L8,14L8,18L4.91465,18ZM4,8L4,4L8,4L8,8L4,8ZM8,9L8,13L4,13L4,9L8,9Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const aP=()=>iP();var oP=re('<svg class=icon-overlay viewBox="0 0 22 22"><ellipse cx=10.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=17.5 cy=11.5 rx=1.5 ry=1.5 stroke-opacity=0 stroke=none></ellipse><ellipse cx=10.5 cy=11.5 rx=7 ry=7 fill-opacity=0 fill=none stroke-opacity=1 stroke-width=1>');const lP=()=>oP();var sP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11.57625,6.9981C11.55099,6.999359999999999,11.52557,7,11.5,7C11.34,7,11.18584,6.97495,11.04125,6.9285499999999995L5.55401,16.4327C5.713760000000001,16.5905,5.83826,16.7839,5.91465,17L16.0854,17C16.2187,16.622700000000002,16.4987,16.314700000000002,16.8569,16.1445L11.57625,6.9981ZM12.50759,6.611219999999999C12.81005,6.336790000000001,13,5.94058,13,5.5C13,4.671573,12.32843,4,11.5,4C10.67157,4,10,4.671573,10,5.5C10,5.80059,10.08841,6.08052,10.24066,6.31522L4.64514,16.0069C4.59738,16.002299999999998,4.54896,16,4.5,16C3.671573,16,3,16.671599999999998,3,17.5C3,18.328400000000002,3.671573,19,4.5,19C5.15311,19,5.70873,18.5826,5.91465,18L16.0854,18C16.2913,18.5826,16.846899999999998,19,17.5,19C18.328400000000002,19,19,18.328400000000002,19,17.5C19,16.8365,18.5691,16.2735,17.971899999999998,16.075699999999998L12.50759,6.611219999999999Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const cP=()=>sP();var uP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M19,4.5C19,5.15311,18.5826,5.70873,18,5.91465L18,18.5C18,18.7761,17.7761,19,17.5,19L5.91465,19C5.70873,19.5826,5.15311,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.846899999999998,3.417404,17.2913,4,17.0854L4,4.5C4,4.22386,4.22386,4,4.5,4L16.0854,4C16.2913,3.417404,16.846899999999998,3,17.5,3C18.328400000000002,3,19,3.671573,19,4.5ZM5,5L16.0854,5C16.236,5.42621,16.5738,5.763999999999999,17,5.91465L17,18L5.91465,18C5.763999999999999,17.5738,5.42621,17.236,5,17.0854L5,5Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const dP=()=>uP();var hP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M19.6401,7.99355C20.4028,7.92291,21,7.2811900000000005,21,6.5C21,5.671573,20.3284,5,19.5,5C18.8469,5,18.2913,5.417404,18.0854,6L7.62067,6C7.34453,6,7.12067,6.22386,7.12067,6.5C7.12067,6.5479,7.12741,6.59423,7.13999,6.63809L3.2294099999999997,15.0243C2.530138,15.1517,2,15.764,2,16.5C2,17.328400000000002,2.671573,18,3.5,18C4.15311,18,4.70873,17.5826,4.91465,17L14.5963,17C14.6456,17.076,14.7162,17.1396,14.8044,17.1807C15.0546,17.2974,15.3521,17.1891,15.4688,16.9388L19.6401,7.99355ZM14.7896,16.0293L18.6551,7.739599999999999C18.3942,7.56144,18.1925,7.30307,18.0854,7L8.0746,7L4.25044,15.2009C4.55701,15.3784,4.79493,15.6613,4.91465,16L14.6207,16C14.68,16,14.7368,16.0103,14.7896,16.0293Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const pP=()=>hP();var fP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M8.134443814697265,7.494615087890625L8.764323814697265,7.494615087890625L8.764323814697265,3.414215087890625L8.310223814697267,3.414215087890625L7.294603814697266,4.005035087890625L7.289713814697266,4.634915087890625L8.134443814697265,4.149892087890625L8.134443814697265,7.494615087890625ZM18.832003814697266,6.933095087890624Q19.004603814697266,6.635245087890625,19.004603814697266,6.2543850878906255Q19.004603814697266,5.884915087890625,18.845103814697264,5.593575087890625Q18.685503814697267,5.3006050878906255,18.399103814697266,5.136225087890625Q18.114303814697266,4.9702050878906245,17.754603814697266,4.9653250878906245L18.820603814697265,3.840647087890625L18.820603814697265,3.414215087890625L16.519203814697264,3.414215087890625L16.519203814697264,3.939931087890625L18.050803814697264,3.939931087890625L16.719403814697266,5.334785087890625L17.074203814697263,5.7205350878906245Q17.254903814697265,5.484525087890625,17.619503814697268,5.484525087890625Q17.980803814697268,5.484525087890625,18.187503814697266,5.689605087890625Q18.394203814697267,5.894685087890625,18.394203814697267,6.2543850878906255Q18.394203814697267,6.604315087890625,18.187503814697266,6.822415087890625Q17.980803814697268,7.0405150878906255,17.640603814697265,7.0405150878906255Q17.334603814697267,7.0405150878906255,17.124703814697266,6.890775087890625Q16.914703814697265,6.739415087890626,16.820303814697265,6.469225087890624L16.354803814697263,6.744295087890626Q16.480103814697266,7.125155087890625,16.821903814697265,7.341625087890625Q17.165403814697264,7.559725087890625,17.640603814697265,7.559725087890625Q18.039403814697266,7.559725087890625,18.348603814697267,7.393705087890625Q18.659503814697267,7.229315087890625,18.832003814697266,6.933095087890624ZM10.000003814697266,10.634915087890626C10.000003814697266,11.024655087890626,9.851363814697265,11.379685087890625,9.607683814697266,11.646395087890625L12.168903814697266,15.171615087890626C12.275403814697265,15.147615087890625,12.386203814697266,15.134915087890626,12.500003814697266,15.134915087890626C12.596503814697266,15.134915087890626,12.690803814697265,15.144015087890624,12.782303814697265,15.161415087890624L16.108803814697268,11.196955087890625C16.038703814697264,11.023375087890624,16.000003814697266,10.833655087890625,16.000003814697266,10.634915087890626C16.000003814697266,9.806495087890625,16.671603814697264,9.134915087890626,17.500003814697266,9.134915087890626C18.328403814697264,9.134915087890626,19.000003814697266,9.806495087890625,19.000003814697266,10.634915087890626C19.000003814697266,11.463345087890625,18.328403814697264,12.134915087890626,17.500003814697266,12.134915087890626C17.239503814697265,12.134915087890626,16.994503814697268,12.068495087890625,16.781003814697264,11.951675087890624L13.654703814697266,15.677415087890624C13.870303814697266,15.937215087890625,14.000003814697266,16.270915087890625,14.000003814697266,16.634915087890626C14.000003814697266,17.463315087890624,13.328403814697266,18.134915087890626,12.500003814697266,18.134915087890626C11.671573814697265,18.134915087890626,11.000003814697266,17.463315087890624,11.000003814697266,16.634915087890626C11.000003814697266,16.284415087890626,11.120193814697265,15.962015087890626,11.321603814697266,15.706715087890625L8.715393814697265,12.119565087890624C8.645053814697267,12.129685087890625,8.573143814697266,12.134915087890626,8.500003814697266,12.134915087890626C8.162103814697264,12.134915087890626,7.8503038146972655,12.023195087890626,7.599523814697266,11.834665087890626L4.505583814697266,15.521915087890624C4.809213814697266,15.796415087890624,5.000003814697266,16.193415087890624,5.000003814697266,16.634915087890626C5.000003814697266,17.463315087890624,4.328433814697266,18.134915087890626,3.5000038146972656,18.134915087890626C2.6715768146972656,18.134915087890626,2.0000038146972656,17.463315087890624,2.0000038146972656,16.634915087890626C2.0000038146972656,15.806515087890626,2.6715768146972656,15.134915087890626,3.5000038146972656,15.134915087890626C3.508253814697266,15.134915087890626,3.5164838146972657,15.135015087890626,3.524703814697266,15.135115087890625L7.033823814697266,10.953115087890625C7.011673814697265,10.850565087890626,7.000003814697266,10.744105087890624,7.000003814697266,10.634915087890626C7.000003814697266,9.806495087890625,7.671573814697266,9.134915087890626,8.500003814697266,9.134915087890626C9.328433814697267,9.134915087890626,10.000003814697266,9.806495087890625,10.000003814697266,10.634915087890626Z stroke-opacity=0 stroke=none>');const gP=()=>fP();var vP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M8.13444,7.494615087890625L8.76432,7.494615087890625L8.76432,3.414215087890625L8.310220000000001,3.414215087890625L7.2946,4.005035087890625L7.28971,4.634915087890625L8.13444,4.149892087890625L8.13444,7.494615087890625ZM18.832,6.929835087890625Q19.0046,6.635245087890625,19.0046,6.2543850878906255Q19.0046,5.889805087890625,18.8451,5.5952050878906245Q18.6855,5.3006050878906255,18.3975,5.132965087890625Q18.1094,4.9653250878906245,17.7399,4.9653250878906245Q17.435499999999998,4.9653250878906245,17.1556,5.149245087890625L17.2793,3.939931087890625L18.8304,3.939931087890625L18.8304,3.414215087890625L16.7406,3.414215087890625L16.5094,5.665195087890625L17.0156,5.795405087890625Q17.095399999999998,5.655425087890626,17.2516,5.570795087890625Q17.4095,5.484525087890625,17.6357,5.484525087890625Q17.9694,5.484525087890625,18.1842,5.697745087890625Q18.4007,5.909335087890625,18.4007,6.2543850878906255Q18.4007,6.604315087890625,18.1842,6.822415087890625Q17.9694,7.0405150878906255,17.6292,7.0405150878906255Q17.3298,7.0405150878906255,17.119799999999998,6.890775087890625Q16.9098,6.739415087890626,16.825200000000002,6.474115087890625L16.3597,6.749175087890626Q16.470399999999998,7.110505087890624,16.807299999999998,7.335115087890625Q17.144199999999998,7.559725087890625,17.6292,7.559725087890625Q18.0296,7.559725087890625,18.3438,7.392075087890625Q18.6595,7.224435087890625,18.832,6.929835087890625ZM10,10.634915087890626C10,11.024655087890626,9.85136,11.379685087890625,9.60768,11.646395087890625L12.1689,15.171615087890626C12.2754,15.147615087890625,12.3862,15.134915087890626,12.5,15.134915087890626C12.5965,15.134915087890626,12.6908,15.144015087890624,12.7823,15.161415087890624L16.108800000000002,11.196955087890625C16.0387,11.023375087890624,16,10.833655087890625,16,10.634915087890626C16,9.806495087890625,16.671599999999998,9.134915087890626,17.5,9.134915087890626C18.3284,9.134915087890626,19,9.806495087890625,19,10.634915087890626C19,11.463345087890625,18.3284,12.134915087890626,17.5,12.134915087890626C17.2395,12.134915087890626,16.994500000000002,12.068505087890625,16.781,11.951675087890624L13.6547,15.677415087890624C13.8703,15.937215087890625,14,16.270915087890625,14,16.634915087890626C14,17.463315087890624,13.3284,18.134915087890626,12.5,18.134915087890626C11.67157,18.134915087890626,11,17.463315087890624,11,16.634915087890626C11,16.284415087890626,11.12019,15.962015087890626,11.3216,15.706715087890625L8.71539,12.119565087890624C8.645050000000001,12.129685087890625,8.57314,12.134915087890626,8.5,12.134915087890626C8.162099999999999,12.134915087890626,7.8503,12.023195087890626,7.59952,11.834665087890626L4.50558,15.521915087890624C4.80921,15.796415087890624,5,16.193415087890624,5,16.634915087890626C5,17.463315087890624,4.32843,18.134915087890626,3.5,18.134915087890626C2.671573,18.134915087890626,2,17.463315087890624,2,16.634915087890626C2,15.806515087890626,2.671573,15.134915087890626,3.5,15.134915087890626C3.5082500000000003,15.134915087890626,3.51648,15.135015087890626,3.5247,15.135115087890625L7.03382,10.953115087890625C7.01167,10.850565087890626,7,10.744105087890624,7,10.634915087890626C7,9.806495087890625,7.67157,9.134915087890626,8.5,9.134915087890626C9.32843,9.134915087890626,10,9.806495087890625,10,10.634915087890626Z stroke-opacity=0 stroke=none>');const mP=()=>vP();var yP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M18.8532,7.020985087890625Q19.0257,6.734525087890625,19.0257,6.369945087890625Q19.0257,6.020005087890625,18.8499,5.754705087890625Q18.6758,5.489415087890626,18.3649,5.339675087890625Q18.5944,5.209465087890625,18.7214,4.994615087890625Q18.8499,4.779775087890625,18.8499,4.5193550878906255Q18.8499,4.2003480878906245,18.7002,3.951324087890625Q18.5505,3.700673087890625,18.277,3.557444087890625Q18.0052,3.414215087890625,17.6455,3.414215087890625Q17.285800000000002,3.414215087890625,17.0107,3.557444087890625Q16.7357,3.700673087890625,16.5843,3.951324087890625Q16.4346,4.2003480878906245,16.4346,4.5193550878906255Q16.4346,4.779775087890625,16.561500000000002,4.994615087890625Q16.6901,5.209465087890625,16.919600000000003,5.339675087890625Q16.6055,5.489415087890626,16.4297,5.757965087890625Q16.255499999999998,6.024895087890625,16.255499999999998,6.369945087890625Q16.255499999999998,6.734525087890625,16.4297,7.020985087890625Q16.6055,7.305815087890625,16.919600000000003,7.465325087890625Q17.2354,7.624825087890625,17.6455,7.624825087890625Q18.0557,7.624825087890625,18.3682,7.465325087890625Q18.6807,7.305815087890625,18.8532,7.020985087890625ZM8.76432,7.559725087890625L8.13444,7.559725087890625L8.13444,4.214996087890625L7.28971,4.700025087890625L7.2946,4.070139087890625L8.310220000000001,3.479319087890625L8.76432,3.479319087890625L8.76432,7.559725087890625ZM17.1816,4.955555087890625Q17.0042,4.784655087890625,17.0042,4.5095950878906255Q17.0042,4.229645087890625,17.18,4.057119087890625Q17.355800000000002,3.884592087890625,17.6455,3.884592087890625Q17.935200000000002,3.884592087890625,18.1077,4.057119087890625Q18.2803,4.229645087890625,18.2803,4.5095950878906255Q18.2803,4.784655087890625,18.1045,4.955555087890625Q17.930300000000003,5.124825087890625,17.6455,5.124825087890625Q17.3607,5.124825087890625,17.1816,4.955555087890625ZM18.2217,5.7953950878906255Q18.4398,6.005365087890625,18.4398,6.3552950878906245Q18.4398,6.705235087890625,18.2217,6.915195087890625Q18.0052,7.125155087890625,17.6455,7.125155087890625Q17.285800000000002,7.125155087890625,17.067700000000002,6.915195087890625Q16.849600000000002,6.705235087890625,16.849600000000002,6.3552950878906245Q16.849600000000002,6.005365087890625,17.064500000000002,5.7953950878906255Q17.2793,5.585435087890625,17.6455,5.585435087890625Q18.0052,5.585435087890625,18.2217,5.7953950878906255ZM9.60768,11.711495087890626C9.85136,11.444785087890626,10,11.089765087890626,10,10.700025087890625C10,9.871595087890626,9.32843,9.200025087890625,8.5,9.200025087890625C7.67157,9.200025087890625,7,9.871595087890626,7,10.700025087890625C7,10.809205087890625,7.01167,10.915665087890625,7.03382,11.018215087890624L3.5247,15.200215087890625C3.51648,15.200115087890625,3.5082500000000003,15.200015087890625,3.5,15.200015087890625C2.671573,15.200015087890625,2,15.871615087890625,2,16.700015087890627C2,17.528415087890625,2.671573,18.200015087890627,3.5,18.200015087890627C4.32843,18.200015087890627,5,17.528415087890625,5,16.700015087890627C5,16.258515087890625,4.80921,15.861515087890625,4.50558,15.587015087890626L7.59952,11.899765087890625C7.8503,12.088295087890625,8.162099999999999,12.200025087890625,8.5,12.200025087890625C8.57314,12.200025087890625,8.645050000000001,12.194785087890626,8.71539,12.184675087890625L11.3216,15.771815087890625C11.12019,16.027215087890625,11,16.349515087890623,11,16.700015087890627C11,17.528415087890625,11.67157,18.200015087890627,12.5,18.200015087890627C13.3284,18.200015087890627,14,17.528415087890625,14,16.700015087890627C14,16.336015087890623,13.8703,16.002315087890626,13.6547,15.742515087890625L16.781,12.016775087890625C16.994500000000002,12.133605087890626,17.2395,12.200025087890625,17.5,12.200025087890625C18.3284,12.200025087890625,19,11.528445087890624,19,10.700025087890625C19,9.871595087890626,18.3284,9.200025087890625,17.5,9.200025087890625C16.671599999999998,9.200025087890625,16,9.871595087890626,16,10.700025087890625C16,10.898765087890624,16.0387,11.088475087890625,16.108800000000002,11.262055087890625L12.7823,15.226515087890625C12.6908,15.209115087890625,12.5965,15.200015087890625,12.5,15.200015087890625C12.3862,15.200015087890625,12.2754,15.212715087890626,12.1689,15.236715087890625L9.60768,11.711495087890626Z stroke-opacity=0 stroke=none>');const xP=()=>yP();var CP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M9.474616630859375,7.494615087890625L8.844736630859375,7.494615087890625L8.844736630859375,4.149892087890625L8.000006630859374,4.634915087890625L8.004896630859374,4.005035087890625L9.020516630859376,3.414215087890625L9.474616630859375,3.414215087890625L9.474616630859375,7.494615087890625ZM18.529296630859378,4.8318550878906255Q18.307996630859375,5.028795087890625,18.122396630859377,5.385245087890625Q17.868496630859376,5.019035087890625,17.629196630859376,4.8269750878906255Q17.389996630859375,4.634915087890625,17.168596630859376,4.634915087890625Q16.794296630859375,4.634915087890625,16.522496630859376,4.976715087890625Q16.252296630859377,5.3168850878906255,16.252296630859377,5.7856350878906255Q16.252296630859377,6.218575087890625,16.502896630859375,6.521315087890625Q16.755196630859373,6.822415087890625,17.114896630859377,6.822415087890625Q17.368796630859375,6.822415087890625,17.588596630859374,6.625475087890624Q17.809896630859377,6.428535087890625,17.998696630859374,6.0688350878906245Q18.249396630859373,6.439935087890625,18.488596630859377,6.631985087890625Q18.727896630859377,6.822415087890625,18.952496630859375,6.822415087890625Q19.326796630859373,6.822415087890625,19.596996630859376,6.482245087890625Q19.868796630859375,6.140455087890626,19.868796630859375,5.671705087890626Q19.868796630859375,5.238755087890625,19.618196630859376,4.937655087890625Q19.367496630859375,4.634915087890625,19.006196630859375,4.634915087890625Q18.750696630859377,4.634915087890625,18.529296630859378,4.8318550878906255ZM18.337296630859377,5.674955087890625L18.278696630859375,5.596835087890625Q18.449596630859375,5.272935087890625,18.622096630859374,5.1101750878906245Q18.794596630859374,4.947415087890625,18.967096630859373,4.947415087890625Q19.194996630859375,4.947415087890625,19.346396630859374,5.1345950878906255Q19.497696630859377,5.320135087890625,19.497696630859377,5.598455087890625Q19.497696630859377,5.8914250878906245,19.360996630859376,6.096505087890625Q19.224296630859374,6.301585087890626,19.027396630859375,6.301585087890626Q18.915096630859374,6.301585087890626,18.742496630859375,6.146965087890624Q18.569996630859375,5.992335087890625,18.337296630859377,5.674955087890625ZM17.785496630859377,5.779125087890625L17.842496630859372,5.857245087890625Q17.668296630859373,6.186025087890625,17.495796630859374,6.348785087890625Q17.324896630859374,6.509915087890625,17.153996630859375,6.509915087890625Q16.926096630859377,6.509915087890625,16.774796630859377,6.324375087890624Q16.623396630859375,6.137195087890625,16.623396630859375,5.858875087890625Q16.623396630859375,5.565905087890625,16.761696630859376,5.360825087890625Q16.900096630859373,5.1557550878906255,17.095396630859376,5.1557550878906255Q17.228896630859374,5.1557550878906255,17.365596630859375,5.2778250878906245Q17.502296630859377,5.399895087890625,17.785496630859377,5.779125087890625ZM10.710296630859375,10.634915087890626C10.710296630859375,11.024655087890626,10.561656630859375,11.379685087890625,10.317976630859375,11.646395087890625L12.879196630859376,15.171615087890626C12.985696630859374,15.147615087890625,13.096496630859376,15.134915087890626,13.210296630859375,15.134915087890626C13.306796630859376,15.134915087890626,13.401096630859374,15.144015087890624,13.492596630859374,15.161415087890624L16.819096630859377,11.196955087890625C16.748996630859374,11.023375087890624,16.710296630859375,10.833655087890625,16.710296630859375,10.634915087890626C16.710296630859375,9.806495087890625,17.381896630859373,9.134915087890626,18.210296630859375,9.134915087890626C19.038696630859373,9.134915087890626,19.710296630859375,9.806495087890625,19.710296630859375,10.634915087890626C19.710296630859375,11.463345087890625,19.038696630859373,12.134915087890626,18.210296630859375,12.134915087890626C17.949796630859375,12.134915087890626,17.704796630859377,12.068505087890625,17.491296630859374,11.951675087890624L14.364996630859375,15.677415087890624C14.580596630859375,15.937215087890625,14.710296630859375,16.270915087890625,14.710296630859375,16.634915087890626C14.710296630859375,17.463315087890624,14.038696630859375,18.134915087890626,13.210296630859375,18.134915087890626C12.381866630859374,18.134915087890626,11.710296630859375,17.463315087890624,11.710296630859375,16.634915087890626C11.710296630859375,16.284415087890626,11.830486630859374,15.962015087890626,12.031896630859375,15.706715087890625L9.425686630859374,12.119565087890624C9.355346630859376,12.129685087890625,9.283436630859375,12.134915087890626,9.210296630859375,12.134915087890626C8.872396630859374,12.134915087890626,8.560596630859376,12.023195087890626,8.309816630859375,11.834665087890626L5.215876630859375,15.521915087890624C5.519506630859375,15.796415087890624,5.710296630859375,16.193415087890624,5.710296630859375,16.634915087890626C5.710296630859375,17.463315087890624,5.038726630859375,18.134915087890626,4.210296630859375,18.134915087890626C3.381869630859375,18.134915087890626,2.710296630859375,17.463315087890624,2.710296630859375,16.634915087890626C2.710296630859375,15.806515087890626,3.381869630859375,15.134915087890626,4.210296630859375,15.134915087890626C4.218546630859375,15.134915087890626,4.226776630859375,15.135015087890626,4.234996630859375,15.135115087890625L7.744116630859375,10.953115087890625C7.721966630859375,10.850565087890626,7.710296630859375,10.744105087890624,7.710296630859375,10.634915087890626C7.710296630859375,9.806495087890625,8.381866630859374,9.134915087890626,9.210296630859375,9.134915087890626C10.038726630859376,9.134915087890626,10.710296630859375,9.806495087890625,10.710296630859375,10.634915087890626Z stroke-opacity=0 stroke=none>');const bP=()=>CP();var wP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M21,5.5C21,6.32843,20.3284,7,19.5,7C19.4136,7,19.3289,6.99269,19.2465,6.97866L15.6257,15.5086C15.8587,15.7729,16,16.119999999999997,16,16.5C16,17.328400000000002,15.3284,18,14.5,18C13.8469,18,13.2913,17.5826,13.0854,17L3.91465,17C3.70873,17.5826,3.15311,18,2.5,18C1.671573,18,1,17.328400000000002,1,16.5C1,15.6716,1.671573,15,2.5,15C2.5840199999999998,15,2.66643,15.0069,2.74668,15.0202L6.36934,6.48574C6.13933,6.22213,6,5.87733,6,5.5C6,4.671573,6.67157,4,7.5,4C8.15311,4,8.70873,4.417404,8.91465,5L18.0854,5C18.2913,4.417404,18.8469,4,19.5,4C20.3284,4,21,4.671573,21,5.5ZM18.0854,6L8.91465,6C8.892579999999999,6.06243,8.8665,6.12296,8.83672,6.18128L13.9814,15.0921C14.143,15.0325,14.3177,15,14.5,15C14.584,15,14.6664,15.0069,14.7467,15.0202L18.3693,6.48574C18.2462,6.3446,18.149,6.1802,18.0854,6ZM13.2036,15.745L8.0861,6.8811800000000005C7.90605,6.95768,7.70797,7,7.5,7C7.41359,7,7.32888,6.99269,7.24647,6.97866L3.62571,15.5086C3.7512,15.651,3.8501,15.8174,3.91465,16L13.0854,16C13.1169,15.9108,13.1566,15.8255,13.2036,15.745Z stroke-opacity=0 stroke=none>');const _P=()=>wP();var kP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.92159,5.93994C6.04014,5.90529,6.152620000000001,5.85639,6.25704,5.79523L9.12729,9.89437C9.045449999999999,10.07959,9,10.28449,9,10.5C9,10.79522,9.08529,11.07053,9.232569999999999,11.30262L4.97573,16.7511L5.92159,5.93994ZM4.92259,5.8848400000000005C4.38078,5.658659999999999,4,5.1238,4,4.5C4,3.671573,4.67157,3,5.5,3C6.2157,3,6.81433,3.50124,6.96399,4.17183L15.1309,4.88634C15.3654,4.36387,15.8902,4,16.5,4C17.328400000000002,4,18,4.67157,18,5.5C18,6.08983,17.659599999999998,6.60015,17.1645,6.84518L18.4264,14.0018C18.4508,14.0006,18.4753,14,18.5,14C19.3284,14,20,14.6716,20,15.5C20,16.328400000000002,19.3284,17,18.5,17C17.932499999999997,17,17.4386,16.6849,17.183799999999998,16.22L5.99686,18.5979C5.946429999999999,19.3807,5.29554,20,4.5,20C3.671573,20,3,19.3284,3,18.5C3,17.869300000000003,3.389292,17.3295,3.94071,17.1077L4.92259,5.8848400000000005ZM5.72452,17.6334C5.69799,17.596,5.6698,17.5599,5.64004,17.525100000000002L10.01843,11.92103C10.16958,11.97223,10.33155,12,10.5,12C10.80059,12,11.08052,11.91158,11.31522,11.75934L17.0606,15.0765C17.0457,15.1271,17.0335,15.1789,17.023899999999998,15.2317L5.72452,17.6334ZM11.92855,10.95875L17.4349,14.1379L16.1699,6.96356C15.9874,6.92257,15.8174,6.8483,15.6667,6.74746L11.99771,10.4165C11.99923,10.44414,12,10.47198,12,10.5C12,10.66,11.97495,10.814160000000001,11.92855,10.95875ZM10.5,9C10.259830000000001,9,10.03285,9.05644,9.83159,9.15679L7.04919,5.1831L15.0493,5.88302C15.054,5.90072,15.059,5.91829,15.0643,5.9357299999999995L11.56066,9.43934C11.28921,9.16789,10.91421,9,10.5,9Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const SP=()=>kP();var MP=re('<svg viewBox="0 0 22 22"><path d=M4.727219638671875,8.007996215820313L9.973849638671876,2.7629472158203123C10.167279638671875,2.5696791158203123,10.480729638671875,2.5696791158203123,10.674169638671875,2.7629472158203123L13.223329638671874,5.311756215820313C13.416929638671874,5.505236215820313,13.416929638671874,5.8189862158203125,13.223329638671874,6.012466215820313L7.977129638671875,11.257906215820313C7.379859638671875,11.855176215820313,7.407609638671875,12.909396215820312,8.033809638671876,13.535596215820313C8.660409638671876,14.162596215820313,9.713849638671874,14.189996215820312,10.311129638671876,13.591896215820313L15.556929638671875,8.346066215820311C15.750429638671875,8.152526215820313,16.064229638671875,8.152526215820313,16.257629638671872,8.346066215820311L18.806529638671876,10.895266215820312C19.000029638671876,11.088746215820313,19.000029638671876,11.402496215820312,18.806529638671876,11.595976215820313L13.560629638671875,16.841796215820313C11.165619638671876,19.237196215820312,7.197149638671875,19.19919621582031,4.783499638671875,16.785496215820313C2.3698426386718747,14.371896215820312,2.331397638671875,10.403416215820313,4.727219638671875,8.007996215820313ZM12.172299638671875,5.662106215820312L10.323809638671875,3.8136162158203124L5.4287196386718755,8.709096215820313C3.422893638671875,10.714536215820312,3.4549956386718748,14.055196215820313,5.484999638671875,16.08479621582031C7.514609638671875,18.114796215820313,10.855289638671875,18.146496215820314,12.860719638671876,16.141096215820312L15.465629638671874,13.535796215820312L14.090929638671875,12.160756215820312L14.791629638671875,11.460436215820312L16.166229638671876,12.834996215820313L17.755829638671877,11.245226215820313L15.907729638671874,9.396736215820312L11.011839638671875,14.292596215820312C10.042809638671875,15.262396215820312,8.418249638671874,15.243796215820312,7.406019638671875,14.306496215820312L7.333099638671875,14.236296215820312C6.327599638671876,13.230796215820313,6.284009638671876,11.550396215820312,7.276419638671875,10.557586215820312L9.882199638671874,7.952026215820313L8.501079638671875,6.570906215820313L9.201789638671876,5.870186215820313L10.582939638671874,7.251336215820312L12.172299638671875,5.662106215820312Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const EP=e=>(()=>{var r=MP();return Ge(r,"class",`icon-overlay ${e??""}`),r})();var TP=re('<svg viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_615><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_615)><path d=M19.672,3.0673368C19.4417,2.9354008,19.1463,3.00292252,18.9994,3.2210900000000002L17.4588,5.50622L16.743299999999998,3.781253L13.9915,7.4662L13.9618,7.51108C13.8339,7.72862,13.8936,8.005659999999999,14.1004,8.15391L14.1462,8.183430000000001C14.3683,8.308720000000001,14.6511,8.25001,14.8022,8.047229999999999L16.4907,5.78571L17.246299999999998,7.60713L19.8374,3.7635389999999997L19.8651,3.717088C19.9871,3.484615,19.9023,3.199273,19.672,3.0673368ZM4.79974,8.462530000000001L10.117740000000001,3.252975C10.31381,3.0610145,10.63152,3.0610145,10.82759,3.252975L13.4115,5.78453C13.6076,5.976710000000001,13.6076,6.28833,13.4115,6.4805L8.093869999999999,11.69045C7.48847,12.28368,7.51659,13.3308,8.151309999999999,13.9528C8.786439999999999,14.5755,9.85421,14.6027,10.45961,14.0087L15.7768,8.79831C15.9729,8.60609,16.2909,8.60609,16.487099999999998,8.79831L19.0705,11.33026C19.2667,11.52244,19.2667,11.83406,19.0705,12.02623L13.7533,17.2366C11.32572,19.6158,7.30328,19.578,4.85679,17.1807C2.410298,14.7834,2.371331,10.84174,4.79974,8.462530000000001ZM12.3461,6.1325199999999995L10.47246,4.29654L5.51079,9.15889C3.477674,11.15076,3.510214,14.4688,5.56784,16.4847C7.62506,18.500999999999998,11.01117,18.5325,13.0439,16.540599999999998L15.6842,13.9529L14.2908,12.58718L15.0011,11.89161L16.394399999999997,13.2569L18.0056,11.67786L16.1323,9.84188L11.16985,14.7046C10.18764,15.6679,8.540980000000001,15.6494,7.51498,14.7184L7.44107,14.6487C6.4219,13.65,6.37771,11.98096,7.38362,10.994869999999999L10.02485,8.40693L8.624939999999999,7.03516L9.335180000000001,6.33919L10.73512,7.71099L12.3461,6.1325199999999995Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const IP=e=>(()=>{var r=TP();return Ge(r,"class",`icon-overlay ${e??""}`),r})();var LP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M11,17C5.80945,17,3.667717,12.85,3.113386,11.575C2.9622047,11.2,2.9622047,10.8,3.113386,10.425C3.667717,9.15,5.80945,5,11,5C16.165399999999998,5,18.3323,9.15,18.8866,10.425C19.0378,10.8,19.0378,11.2,18.8866,11.575C18.3323,12.85,16.165399999999998,17,11,17ZM4.04567,10.8C3.995276,10.925,3.995276,11.05,4.04567,11.175C4.52441,12.325,6.43937,16,11,16C15.5606,16,17.4756,12.325,17.9543,11.2C18.0047,11.075,18.0047,10.95,17.9543,10.825C17.4756,9.675,15.5606,6,11,6C6.43937,6,4.52441,9.675,4.04567,10.8ZM11,13.5C9.61417,13.5,8.480319999999999,12.375,8.480319999999999,11C8.480319999999999,9.625,9.61417,8.5,11,8.5C12.38583,8.5,13.5197,9.625,13.5197,11C13.5197,12.375,12.38583,13.5,11,13.5ZM11,9.5C10.1685,9.5,9.48819,10.175,9.48819,11C9.48819,11.825,10.1685,12.5,11,12.5C11.8315,12.5,12.51181,11.825,12.51181,11C12.51181,10.175,11.8315,9.5,11,9.5Z stroke-opacity=0 fill-opacity=1>');const PP=()=>LP();var AP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M5.80417,14.9887L4.62563,16.167299999999997C4.43037,16.3625,4.43037,16.6791,4.62563,16.8744C4.82089,17.0696,5.13748,17.0696,5.332739999999999,16.8744L6.62638,15.5807C7.75595,16.290100000000002,9.19328,16.7929,11,16.7929C16.165399999999998,16.7929,18.3323,12.64289,18.8866,11.36789C19.0378,10.99289,19.0378,10.59289,18.8866,10.21789C18.5549,9.45486,17.6456,7.66212,15.8617,6.34545L17.3536,4.853553C17.5488,4.658291,17.5488,4.341709,17.3536,4.146447C17.1583,3.9511845,16.8417,3.9511845,16.6464,4.146447L15.0014,5.7915399999999995C13.9314,5.1969,12.61166,4.792893,11,4.792893C5.80945,4.792893,3.667717,8.94289,3.113386,10.21789C2.9622049,10.59289,2.9622049,10.99289,3.113386,11.36789C3.424435,12.08333,4.2353000000000005,13.70399,5.80417,14.9887ZM7.36012,14.847C8.32327,15.4074,9.52286,15.7929,11,15.7929C15.5606,15.7929,17.4756,12.11789,17.9543,10.99289C18.0047,10.86789,18.0047,10.74289,17.9543,10.61789C17.659,9.90846,16.8171,8.23812,15.1447,7.06241L12.96929,9.23782C13.3134,9.66543,13.5197,10.20642,13.5197,10.79289C13.5197,12.16789,12.38583,13.29289,11,13.29289C10.41596,13.29289,9.87667,13.09308,9.44815,12.75896L7.36012,14.847ZM8.794609999999999,11.99829L6.520099999999999,14.2728C5.06905,13.12119,4.32057,11.628250000000001,4.04567,10.96789C3.995275,10.84289,3.995275,10.71789,4.04567,10.59289C4.52441,9.46789,6.43937,5.79289,11,5.79289C12.28868,5.79289,13.3661,6.086320000000001,14.2596,6.53329L12.19759,8.5953C11.84086,8.40257,11.43271,8.29289,11,8.29289C9.61417,8.29289,8.480319999999999,9.41789,8.480319999999999,10.79289C8.480319999999999,11.22918,8.594470000000001,11.64029,8.794609999999999,11.99829ZM10.16528,12.04183C10.404869999999999,12.20032,10.692070000000001,12.29289,11,12.29289C11.8315,12.29289,12.51181,11.61789,12.51181,10.79289C12.51181,10.48318,12.41593,10.194600000000001,12.25216,9.95494L10.16528,12.04183ZM11.43602,9.35687L9.55616,11.236740000000001C9.512,11.09633,9.48819,10.94724,9.48819,10.79289C9.48819,9.96789,10.1685,9.29289,11,9.29289C11.15142,9.29289,11.29782,9.31528,11.43602,9.35687Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const DP=()=>AP();var FP=re('<svg class=icon-overlay viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_625><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_625)><path d=M14.5385,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807692,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.88462,4,14.5385,5.61538,14.5385,7.576919999999999L14.5385,9.76923ZM10.88461,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923L13.38462,9.76923L13.38462,7.576919999999999C13.38462,6.23077,12.26923,5.15385,10.88461,5.15385ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.038450000000001,12.07692,11.307680000000001,12.34615,11.307680000000001,12.65385L11.307680000000001,14.5769C11.307680000000001,14.8846,11.038450000000001,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const RP=()=>FP();var OP=re('<svg class=icon-overlay viewBox="0 0 22 22"><defs><clipPath id=master_svg0_151_620><rect x=0 y=0 width=22 height=22 rx=0></rect></clipPath></defs><g clip-path=url(#master_svg0_151_620)><path d=M8.38461,9.76923L15.6538,9.76923C16.6538,9.76923,17.4615,10.576920000000001,17.4615,11.576920000000001L17.4615,17.1923C17.4615,18.1923,16.6538,19,15.6538,19L5.80769,19C4.807692,19,4,18.1923,4,17.1923L4,11.576920000000001C4,10.576920000000001,4.807693,9.76923,5.80769,9.76923L7.23077,9.76923L7.23077,7.576919999999999C7.23077,5.61538,8.88462,4,10.88462,4C12.46154,4,13.84615,4.961539,14.3462,6.423080000000001C14.4615,6.73077,14.3077,7.038460000000001,14,7.15385C13.69231,7.26923,13.38461,7.11538,13.26923,6.80769C12.92308,5.80769,11.96154,5.15385,10.88462,5.15385C9.5,5.15385,8.38461,6.23077,8.38461,7.576919999999999L8.38461,9.76923ZM15.6538,17.8462C16,17.8462,16.3077,17.5385,16.3077,17.1923L16.3077,11.576920000000001C16.3077,11.23077,16,10.923079999999999,15.6538,10.923079999999999L5.80769,10.923079999999999C5.46154,10.923079999999999,5.15385,11.23077,5.15385,11.576920000000001L5.15385,17.1923C5.15385,17.5385,5.46154,17.8462,5.80769,17.8462L15.6538,17.8462ZM10.153839999999999,12.65385C10.153839999999999,12.34615,10.42307,12.07692,10.73076,12.07692C11.03846,12.07692,11.307690000000001,12.34615,11.307690000000001,12.65385L11.307690000000001,14.5769C11.307690000000001,14.8846,11.03846,15.1538,10.73076,15.1538C10.42307,15.1538,10.153839999999999,14.8846,10.153839999999999,14.5769L10.153839999999999,12.65385Z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const NP=()=>OP();var zP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=M16.966900000000003,8.67144C16.6669,8.67144,16.4247,8.91558,16.4247,9.21802L16.4247,16.631500000000003C16.4247,17.322,16.007199999999997,17.9068,15.5139,17.9068L13.93072,17.9068L13.93072,9.2162C13.93072,8.91741,13.68675,8.67144,13.38855,8.67144C13.09036,8.67144,12.84639,8.91741,12.84639,9.21802L12.84639,17.9068L10.151810000000001,17.9068L10.151810000000001,9.21802C10.151810000000001,8.91741,9.90783,8.67144,9.609639999999999,8.67144C9.31145,8.67144,9.06747,8.91741,9.06747,9.219850000000001L9.06747,17.9068L7.48614,17.9068C6.99277,17.9068,6.5753,17.322,6.5753,16.631500000000003L6.5753,9.21802C6.5753,8.91558,6.333130000000001,8.67144,6.03313,8.67144C5.73313,8.67144,5.49096,8.91558,5.49096,9.21802L5.49096,16.631500000000003C5.49096,17.9378,6.385540000000001,19,7.48614,19L15.512,19C16.6127,19,17.509,17.9378,17.509,16.631500000000003L17.509,9.21802C17.509,8.91558,17.2669,8.67144,16.966900000000003,8.67144ZM18.4578,6.21183L4.542169,6.21183C4.243976,6.21183,4,6.45779,4,6.75841C4,7.05903,4.243976,7.30499,4.542169,7.30499L18.4578,7.30499C18.756,7.30499,19,7.05903,19,6.75841C19,6.45779,18.756,6.21183,18.4578,6.21183ZM8.68072,5.10045L14.3193,5.10045C14.6175,5.10045,14.8614,4.852666,14.8614,4.550225C14.8614,4.247783,14.6175,4,14.3193,4L8.68072,4C8.38253,4,8.13855,4.247783,8.13855,4.550225C8.13855,4.852666,8.38253,5.10045,8.68072,5.10045Z stroke-opacity=0 fill-opacity=1>');const BP=()=>zP();var VP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d=m15.57,0.2l-15.37,15.37l6.33,6.33l15.37,-15.37l-6.33,-6.33zm-13.56,15.37l0.89,-0.89l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.92,-0.92l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.89,-0.89l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.92,-0.92l0.9,0.9l0.9,-0.9l-0.9,-0.9l0.9,-0.9l1.81,1.81l0.9,-0.9l-1.81,-1.81l0.91,-0.91l4.52,4.52l-13.56,13.56l-4.52,-4.52z stroke-opacity=0 fill-rule=evenodd fill-opacity=1>');const $P=()=>VP();var WP=re('<svg width=30 height=40 fill=currentColor stroke=currentColor stroke-width=0.06 stroke-linecap=round fill-rule=evenodd clip-rule=evenodd shape-rendering=geometricPrecision text-rendering=geometricPrecision viewBox="0 0 1.45 1.63"><circle transform="matrix(-1.01724 -0.370788 0.370788 -1.01724 0.140283 1.49275)"r=0.13></circle><line fill=transparent x1=0.15 y1=1.49 x2=1.31 y2=1.49></line><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.140293 0.140278)"r=0.13></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.140293 0.945028)"r=0.13></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 1.3066 0.945028)"r=0.13></circle><line fill=transparent x1=1.31 y1=0.14 x2=0.15 y2=0.14></line><line fill=transparent x1=1.31 y1=0.95 x2=0.15 y2=0.95></line><line fill=transparent x1=0.65 y1=1.11 x2=0.65 y2=0.53></line><path fill=transparent d="M0.8 0.42l-0.11 -0.17c-0.02,-0.03 -0.05,-0.03 -0.08,0l-0.11 0.17c-0.02,0.04 -0.02,0.09 0,0.13 0.15,0 0.15,0 0.3,0 0.02,-0.04 0.02,-0.09 0,-0.13z"></path><path fill=transparent d="M0.8 1.21l-0.11 0.17c-0.02,0.04 -0.05,0.03 -0.08,0l-0.11 -0.17c-0.02,-0.04 -0.02,-0.09 0,-0.13 0.15,0 0.15,0 0.3,0 0.02,0.04 0.02,0.09 0,0.13z">');const UP=()=>WP();var HP=re('<svg width=30 height=40 fill=currentColor stroke=currentColor stroke-width=0.06 stroke-linecap=round fill-rule=evenodd clip-rule=evenodd shape-rendering=geometricPrecision text-rendering=geometricPrecision viewBox="0 0 1.71 1.93"><circle transform="matrix(-1.01724 -0.370788 0.370788 -1.01724 0.165745 1.76369)"r=0.15></circle><line fill=none x1=0.18 y1=1.76 x2=1.54 y2=1.76></line><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.165756 0.165739)"r=0.15></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 0.165756 0.788812)"r=0.15></circle><circle transform="matrix(1.01724 0.370788 -0.370788 1.01724 1.54375 0.788812)"r=0.15></circle><line fill=none x1=1.54 y1=0.17 x2=0.18 y2=0.17></line><line fill=none x1=1.54 y1=0.79 x2=0.18 y2=0.79></line><line fill=none x1=0.77 y1=1.31 x2=0.77 y2=0.63></line><path fill=transparent d="M0.95 0.5l-0.13 -0.2c-0.03,-0.04 -0.07,-0.04 -0.09,0l-0.13 0.2c-0.03,0.04 -0.03,0.11 0,0.15 0.16,0 0.17,0 0.35,0 0.02,-0.04 0.02,-0.11 0,-0.15z"></path><path fill=transparent d="M0.95 1.43l-0.13 0.2c-0.03,0.04 -0.07,0.04 -0.09,0l-0.13 -0.2c-0.03,-0.04 -0.03,-0.11 0,-0.15 0.16,0 0.17,0 0.35,0 0.02,0.04 0.02,0.11 0,0.15z">');const YP=()=>HP();var XP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d="M6 4V18M4 18H8M10 7V4H2V7M17 4V18M17 4L14 7M17 4L20 7M17 18L14 15M17 18L20 15"stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round>');const jP=()=>XP();var GP=re('<svg class=icon-overlay viewBox="0 0 22 22"><path d="M11 2V11M8 11H14M19 5V2H3V5M3 17H19M3 17L6 20M3 17L6 14M19 17L16 20M19 17L16 14"stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round>');const KP=()=>GP(),QP={horizontalStraightLine:bL,horizontalRayLine:_L,horizontalSegment:SL,verticalStraightLine:EL,verticalRayLine:IL,verticalSegment:PL,straightLine:DL,rayLine:RL,segment:NL,arrow:BL,priceLine:$L,priceChannelLine:UL,parallelStraightLine:YL,fibonacciLine:jL,fibonacciSegment:KL,fibonacciCircle:ZL,fibonacciSpiral:JL,fibonacciSpeedResistanceFan:tP,fibonacciExtension:nP,gannBox:aP,circle:lP,triangle:cP,rect:dP,parallelogram:pP,threeWaves:gP,fiveWaves:mP,eightWaves:xP,anyWaves:bP,abcd:_P,xabcd:SP,weak_magnet:EP,strong_magnet:IP,lock:RP,unlock:NP,visible:PP,invisible:DP,remove:BP,ruler:$P,longPosition:UP,shortPosition:YP,simpleAnnotation:jP,simpleTag:KP};function ZP(e){return[{key:"horizontalStraightLine",text:A("horizontal_straight_line",e)},{key:"horizontalRayLine",text:A("horizontal_ray_line",e)},{key:"horizontalSegment",text:A("horizontal_segment",e)},{key:"verticalStraightLine",text:A("vertical_straight_line",e)},{key:"verticalRayLine",text:A("vertical_ray_line",e)},{key:"verticalSegment",text:A("vertical_segment",e)},{key:"straightLine",text:A("straight_line",e)},{key:"rayLine",text:A("ray_line",e)},{key:"segment",text:A("segment",e)},{key:"arrow",text:A("arrow",e)},{key:"priceLine",text:A("price_line",e)}]}function qP(e){return[{key:"priceChannelLine",text:A("price_channel_line",e)},{key:"parallelStraightLine",text:A("parallel_straight_line",e)}]}function JP(e){return[{key:"circle",text:A("circle",e)},{key:"rect",text:A("rect",e)},{key:"parallelogram",text:A("parallelogram",e)},{key:"triangle",text:A("triangle",e)}]}function eA(e){return[{key:"fibonacciLine",text:A("fibonacci_line",e)},{key:"fibonacciSegment",text:A("fibonacci_segment",e)},{key:"fibonacciCircle",text:A("fibonacci_circle",e)},{key:"fibonacciSpiral",text:A("fibonacci_spiral",e)},{key:"fibonacciSpeedResistanceFan",text:A("fibonacci_speed_resistance_fan",e)},{key:"fibonacciExtension",text:A("fibonacci_extension",e)},{key:"gannBox",text:A("gann_box",e)}]}function tA(e){return[{key:"xabcd",text:A("xabcd",e)},{key:"abcd",text:A("abcd",e)},{key:"threeWaves",text:A("three_waves",e)},{key:"fiveWaves",text:A("five_waves",e)},{key:"eightWaves",text:A("eight_waves",e)},{key:"anyWaves",text:A("any_waves",e)}]}function rA(e){return[{key:"weak_magnet",text:A("weak_magnet",e)},{key:"strong_magnet",text:A("strong_magnet",e)}]}function nA(e){return[{key:"ruler",text:A("ruler",e)}]}function iA(e){return[{key:"longPosition",text:A("long_position",e)},{key:"shortPosition",text:A("short_position",e)}]}function aA(e){return[{key:"simpleAnnotation",text:A("simpleAnnotation",e)},{key:"simpleTag",text:A("simpleTag",e)}]}const _a=e=>QP[e.name](e.class),N2={createPointFigures:({bounding:e,coordinates:r})=>({type:"line",attrs:{coordinates:[{x:0,y:r[0].y},{x:e.width,y:r[0].y}]},ignoreEvent:!1}),createYAxisFigures:({overlay:e,coordinates:r,bounding:t,yAxis:n})=>{var i;const o=(n==null?void 0:n.isFromZero())??!1;let s="left",u=0;o?(s="left",u=0):(s="right",u=t.width);let d="";return e.extendData!=null&&(typeof e.extendData!="function"?d=e.extendData??"":d=e.extendData(e)),d===""&&typeof((i=e.points[0])==null?void 0:i.value)=="number"&&(d=e.points[0].value.toString()),{type:"text",attrs:{x:u,y:r[0].y,text:d,align:s,baseline:"middle"}}}},oA={createPointFigures:({overlay:e,coordinates:r})=>{let t="";e.extendData&&(t=typeof e.extendData=="function"?e.extendData(e):e.extendData||"");const n=r[0].x,i=r[0].y-6,o=i-50,s=o-5;return[{type:"line",attrs:{coordinates:[{x:n,y:i},{x:n,y:o}]},ignoreEvent:!1},{type:"polygon",attrs:{coordinates:[{x:n,y:o},{x:n-4,y:s},{x:n+4,y:s}]},ignoreEvent:!1},{type:"text",attrs:{x:n,y:s,text:t,align:"center",baseline:"bottom"},ignoreEvent:!1}]}};function f1(e){if(e.name==="simpleTag"||e.name==="simpleAnnotation"){e.createPointFigures||(e.name==="simpleTag"?(e.createPointFigures=N2.createPointFigures,e.createYAxisFigures=N2.createYAxisFigures):e.name==="simpleAnnotation"&&(e.createPointFigures=oA.createPointFigures));const r=e.createPointFigures;e.createPointFigures=t=>{if(r){const n=r(t);if(Array.isArray(n))return n.map(i=>({...i,ignoreEvent:!1}));if(n)return{...n,ignoreEvent:!1}}return[]}}}const g1=(e,r,t)=>({x:r,y:t});var lA=re('<div class=chartspire-ui-drawing-bar><span class=split-line></span><span class=split-line></span><div class=item tabindex=0><span style=width:32px;height:32px></span><div class=icon-arrow><svg viewBox="0 0 4 6"><path d=M1.07298,0.159458C0.827521,-0.0531526,0.429553,-0.0531526,0.184094,0.159458C-0.0613648,0.372068,-0.0613648,0.716778,0.184094,0.929388L2.61275,3.03303L0.260362,5.07061C0.0149035,5.28322,0.0149035,5.62793,0.260362,5.84054C0.505822,6.05315,0.903789,6.05315,1.14925,5.84054L3.81591,3.53075C4.01812,3.3556,4.05374,3.0908,3.92279,2.88406C3.93219,2.73496,3.87113,2.58315,3.73964,2.46925L1.07298,0.159458Z stroke=none stroke-opacity=0></path></svg></div></div><div class=item><span style=width:32px;height:32px></span></div><div class=item><span style=width:32px;height:32px></span></div><span class=split-line></span><div class=item><span style=width:32px;height:32px>'),z2=re("<div class=item tabindex=0><span style=width:32px;height:32px>"),B2=re('<div class=icon-arrow><svg viewBox="0 0 4 6"><path d=M1.07298,0.159458C0.827521,-0.0531526,0.429553,-0.0531526,0.184094,0.159458C-0.0613648,0.372068,-0.0613648,0.716778,0.184094,0.929388L2.61275,3.03303L0.260362,5.07061C0.0149035,5.28322,0.0149035,5.62793,0.260362,5.84054C0.505822,6.05315,0.903789,6.05315,1.14925,5.84054L3.81591,3.53075C4.01812,3.3556,4.05374,3.0908,3.92279,2.88406C3.93219,2.73496,3.87113,2.58315,3.73964,2.46925L1.07298,0.159458Z stroke=none stroke-opacity=0>'),sA=re("<div class=chartspire-ui-drawing-bar-dropdowns><div class=dropdown-list>"),cA=re('<li style="cursor:pointer;display:flex;align-items:center;padding:8px 12px;user-select:none;"><div class=icon-overlay style=pointer-events:none;></div><span style=pointer-events:none;>');const tg="drawing_tools",uA=e=>{const[r,t]=pe("horizontalStraightLine"),[n,i]=pe("priceChannelLine"),[o,s]=pe("circle"),[u,d]=pe("fibonacciLine"),[h,f]=pe("xabcd"),[v,m]=pe("ruler"),[C,b]=pe("longPosition"),[_,k]=pe("simpleAnnotation"),[S,T]=pe("weak_magnet"),[I,P]=pe("normal"),[L,z]=pe(!1),[R,V]=pe(!0),[$,W]=pe(""),[te,ue]=pe({top:0,item:null});let Y={};const Z=_e(()=>[{key:"singleLine",icon:r(),list:ZP(e.locale),setter:t},{key:"moreLine",icon:n(),list:qP(e.locale),setter:i},{key:"polygon",icon:o(),list:JP(e.locale),setter:s},{key:"fibonacci",icon:u(),list:eA(e.locale),setter:d},{key:"wave",icon:h(),list:tA(e.locale),setter:f},{key:"ruler",icon:v(),list:nA(e.locale),setter:m}]),q=_e(()=>[{key:"simpleAnnotation",icon:_(),list:aA(e.locale),setter:k},{key:"longPosition",icon:C(),list:iA(e.locale),setter:b}]),G=_e(()=>rA(e.locale)),K=_e(()=>{const ee=$();return ee?ee==="mode"?{key:"mode",list:G(),setter:T}:[...Z(),...q()].find(H=>H.key===ee):null}),X=ee=>{var H;const ie=Y[ee];if(!ie)return;const xe=ie.getBoundingClientRect(),Le=(H=ie.closest(".chartspire-ui-drawing-bar"))==null?void 0:H.getBoundingClientRect();if(Le){const Pe=xe.top-Le.top;ue({top:Pe,item:K()})}};pt(()=>{const ee=$();ee&&Y[ee]&&X(ee)});const J=ee=>{ee===$()?W(""):(W(ee),setTimeout(()=>X(ee),10))};return[(()=>{var ee=lA(),H=ee.firstChild,ie=H.nextSibling,xe=ie.nextSibling,Le=xe.firstChild,Pe=Le.nextSibling,be=Pe.firstChild,He=xe.nextSibling,Ae=He.firstChild,Ne=He.nextSibling,ve=Ne.firstChild,Te=Ne.nextSibling,Oe=Te.nextSibling,Ze=Oe.firstChild;return N(ee,()=>Z().map(Me=>(()=>{var nt=z2(),lt=nt.firstChild;return nt.addEventListener("blur",()=>{W("")}),ra(Be=>Y[Me.key]=Be,nt),lt.$$click=()=>{e.onDrawingItemClick({onDrawEnd:function(Be){return e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(Be.chart).saveOverlay(Be.overlay),(Be.overlay.name==="simpleTag"||Be.overlay.name==="simpleAnnotation")&&f1(Be.overlay),!0},onRightClick:function(Be){var yt;const Bt=Be.x||0,Ot=Be.y||0,st=g1(e.widget,Bt,Ot);return e.setOverlayMousePosition(st),e.setOverlaySettingVisible(!0),e.setOverlayStyles(Be.overlay),(yt=Be.preventDefault)==null||yt.call(Be),!0},onPressedMoveEnd:function(Be){return!0},groupId:tg,name:Me.icon,visible:R(),lock:L(),mode:I()})},N(lt,oe(_a,{get name(){return Me.icon}})),N(nt,(()=>{var Be=_e(()=>Me.list.length>1);return()=>Be()&&(()=>{var yt=B2(),Bt=yt.firstChild;return yt.$$click=()=>J(Me.key),$e(()=>Ge(Bt,"class",Me.key===$()?"rotate":"")),yt})()})(),null),nt})()),H),N(ee,()=>q().map(Me=>(()=>{var nt=z2(),lt=nt.firstChild;return nt.addEventListener("blur",()=>{W("")}),ra(Be=>Y[Me.key]=Be,nt),lt.$$click=()=>{e.onDrawingItemClick({onDrawEnd:function(Be){return e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(Be.chart).saveOverlay(Be.overlay),(Be.overlay.name==="simpleTag"||Be.overlay.name==="simpleAnnotation")&&f1(Be.overlay),!0},onRightClick:function(Be){var yt;const Bt=Be.x||0,Ot=Be.y||0,st=g1(e.widget,Bt,Ot);return e.setOverlayMousePosition(st),e.setOverlaySettingVisible(!0),e.setOverlayStyles(Be.overlay),(yt=Be.preventDefault)==null||yt.call(Be),!0},onPressedMoveEnd:function(Be){return!0},groupId:tg,name:Me.icon,visible:R(),lock:L(),mode:I()})},N(lt,oe(_a,{get name(){return Me.icon}})),N(nt,(()=>{var Be=_e(()=>Me.list.length>1);return()=>Be()&&(()=>{var yt=B2(),Bt=yt.firstChild;return yt.$$click=()=>J(Me.key),$e(()=>Ge(Bt,"class",Me.key===$()?"rotate":"")),yt})()})(),null),nt})()),ie),xe.addEventListener("blur",()=>{W("")}),ra(Me=>Y.mode=Me,xe),Le.$$click=()=>{let Me=S();I()!=="normal"&&(Me="normal"),P(Me),e.onModeChange(Me)},N(Le,(()=>{var Me=_e(()=>S()==="weak_magnet");return()=>Me()?_e(()=>I()==="weak_magnet")()?oe(_a,{name:"weak_magnet",class:"selected"}):oe(_a,{name:"weak_magnet"}):_e(()=>I()==="strong_magnet")()?oe(_a,{name:"strong_magnet",class:"selected"}):oe(_a,{name:"strong_magnet"})})()),Pe.$$click=()=>J("mode"),Ae.$$click=()=>{const Me=!L();z(Me),e.onLockChange(Me)},N(Ae,(()=>{var Me=_e(()=>!!L());return()=>Me()?oe(_a,{name:"lock"}):oe(_a,{name:"unlock"})})()),ve.$$click=()=>{const Me=!R();V(Me),e.onVisibleChange(Me)},N(ve,(()=>{var Me=_e(()=>!!R());return()=>Me()?oe(_a,{name:"visible"}):oe(_a,{name:"invisible"})})()),Ze.$$click=()=>{e.onRemoveClick(tg)},N(Ze,oe(_a,{name:"remove"})),$e(()=>Ge(be,"class",$()==="mode"?"rotate":"")),ee})(),_e(()=>_e(()=>!!($()&&K()))()&&(()=>{var ee=sA(),H=ee.firstChild;return H.$$click=ie=>{ie.stopPropagation()},N(H,()=>{var ie;return(ie=K())==null?void 0:ie.list.map((xe,Le)=>(()=>{var Pe=cA(),be=Pe.firstChild,He=be.nextSibling;return Pe.$$mousedown=Ae=>{var Ne;Ae.preventDefault(),Ae.stopPropagation(),$()==="mode"?(T(xe.key),P(xe.key),e.onModeChange(xe.key)):((Ne=K())==null||Ne.setter(xe.key),e.onDrawingItemClick({onDrawEnd:function(ve){return e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(ve.chart).saveOverlay(ve.overlay),(ve.overlay.name==="simpleTag"||ve.overlay.name==="simpleAnnotation")&&f1(ve.overlay),!0},onRightClick:function(ve){var Te;const Oe=ve.x||0,Ze=ve.y||0,Me=g1(e.widget,Oe,Ze);return e.setOverlayMousePosition(Me),e.setOverlaySettingVisible(!0),e.setOverlayStyles(ve.overlay),(Te=ve.preventDefault)==null||Te.call(ve),!0},onPressedMoveEnd:function(){return!0},name:xe.key,lock:L(),mode:I()})),W("")},N(be,oe(_a,{get name(){return xe.key}})),N(He,()=>xe.text),Pe})())}),$e(ie=>La(H,`top: ${te().top}px`,ie)),ee})())]};_r(["click","mousedown"]);const dA=e=>{const[r,t]=pe(e.timezone),n=_e(()=>OS(e.locale));return oe(Bl,{get title(){return A("timezone",e.locale)},width:320,height:"200px",contentHeight:10,buttonContainerPadding:"20px 30px 20px",get buttons(){return[{children:A("confirm",e.locale),onClick:()=>{e.onConfirm(r()),e.onClose()}}]},get onClose(){return e.onClose},get children(){return oe(S1,{style:{width:"100%","margin-top":"20px"},get value(){return r().text},onSelected:i=>{t(i)},get dataSource(){return n()}})}})};var hA=re("<img style=width:500px;margin-top:20px>");const pA=e=>oe(Bl,{get title(){return A("screenshot",e.locale)},width:540,get buttons(){return[{type:"confirm",children:A("save",e.locale),onClick:()=>{const r=document.createElement("a");r.download="screenshot",r.href=e.url,document.body.appendChild(r),r.click(),r.remove()}}]},get onClose(){return e.onClose},get children(){var r=hA();return $e(()=>Ge(r,"src",e.url)),r}}),fA={AO:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:5},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:34}],BIAS:[{paramNameKey:"BIAS1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"BIAS2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"BIAS3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"BIAS4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"BIAS5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],BOLL:[{paramNameKey:"period",type:"number",precision:0,min:1,default:20},{paramNameKey:"standard_deviation",type:"number",precision:2,min:1,default:2}],BRAR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:26}],BBI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:3},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_4",type:"number",precision:0,min:1,default:24}],CCI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:20}],CR:[{paramNameKey:"cr",type:"number",precision:0,min:1,default:26},{paramNameKey:"ma1",type:"number",precision:0,min:1,default:10},{paramNameKey:"ma2",type:"number",precision:0,min:1,default:20},{paramNameKey:"ma3",type:"number",precision:0,min:1,default:40},{paramNameKey:"ma4",type:"number",precision:0,min:1,default:60}],EMV:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:10},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:50},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:10}],DMI:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:14},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],DMA:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:10},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:50},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:10}],EMA:[{paramNameKey:"EMA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"EMA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"EMA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"EMA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"EMA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],MTM:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],MA:[{paramNameKey:"MA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"MA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"MA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"MA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"MA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],MACD:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:26},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:9}],OBV:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:30}],PVT:[],PSY:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],ROC:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],RSI:[{paramNameKey:"RSI1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"RSI2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"RSI3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"RSI4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"RSI5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],SMA:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:2}],KDJ:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:9},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:3},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:3}],SAR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:2,upColor:"#FF7F50",downColor:"#A020F0"},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:2,upColor:"#FF7F50",downColor:"#A020F0"},{paramNameKey:"Params_3",type:"number",precision:0,min:1,default:20,upColor:"#FF7F50",downColor:"#A020F0"}],TRIX:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:12},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:9}],VOL:[{paramNameKey:"MA1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"MA2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"MA3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"MA4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"MA5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],VR:[{paramNameKey:"Params_1",type:"number",precision:0,min:1,default:26},{paramNameKey:"Params_2",type:"number",precision:0,min:1,default:6}],WR:[{paramNameKey:"WR1",type:"number",precision:0,min:1,styleKey:"lines[0].color-palette"},{paramNameKey:"WR2",type:"number",precision:0,min:1,styleKey:"lines[1].color-palette"},{paramNameKey:"WR3",type:"number",precision:0,min:1,styleKey:"lines[2].color-palette"},{paramNameKey:"WR4",type:"number",precision:0,min:1,styleKey:"lines[3].color-palette"},{paramNameKey:"WR5",type:"number",precision:0,min:1,styleKey:"lines[4].color-palette"}],WEMA:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],"Volume Profile Fixed Range":[{paramNameKey:"Value area (range 0-1)",type:"number",precision:0,min:0,max:1,default:.7}],"Force Index":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:13}],"Ichimoku Cloud":[{paramNameKey:"Conversion Period",type:"number",precision:0,min:1,default:9},{paramNameKey:"Base Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Span Period",type:"number",precision:0,min:1,default:52},{paramNameKey:"Displacement",type:"number",precision:0,min:1,default:26},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],ATR:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],ADX:[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14},{paramNameKey:"Adxr Period",type:"number",precision:0,min:1,default:6}],ADXR:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],PDI:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],MDI:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],TR:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],WS:[{paramNameKey:"Param",type:"number",precision:0,min:1,default:14}],"Chaikin Oscillator":[{paramNameKey:"Short Period",type:"number",precision:0,min:1,default:3},{paramNameKey:"Long Period",type:"number",precision:0,min:1,default:10}],"Percentage Price Oscillator":[{paramNameKey:"Fast Period",type:"number",precision:0,min:1,default:12},{paramNameKey:"Slow Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Signal Period",type:"number",precision:0,min:1,default:9}],"Percentage Volume Oscillator":[{paramNameKey:"Short Period",type:"number",precision:0,min:1,default:12},{paramNameKey:"Long Period",type:"number",precision:0,min:1,default:26},{paramNameKey:"Signal Period",type:"number",precision:0,min:1,default:9}],Qstick:[{paramNameKey:"period",type:"number",precision:0,min:1,default:20}],"Absolute Price Oscillator":[{paramNameKey:"Fast Period",type:"number",precision:0,min:1,default:14},{paramNameKey:"Slow Period",type:"number",precision:0,min:1,default:30}],Aroon:[{paramNameKey:"Length",type:"number",precision:0,min:1,default:14}],"Balance of Power":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20}],"Double Exponential Moving Average":[{paramNameKey:"EMA1 Period",type:"number",precision:0,min:1,default:10},{paramNameKey:"EMA2 Period",type:"number",precision:0,min:1,default:16}],"Envelope (EMA)":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20},{paramNameKey:"Percentage",type:"number",precision:0,min:0,max:100,default:20},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Envelope (SMA)":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:20},{paramNameKey:"Percentage",type:"number",precision:0,min:1,default:20},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Volume Weighted Average Price":[{paramNameKey:"Anchor Period",type:"select",precision:0,options:[{value:"None",label:"None"},{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"Quarter",label:"Quarter"},{value:"Year",label:"Year"}],default:"None"},{paramNameKey:"Source",type:"select",precision:0,options:[{value:"Open",label:"Open"},{value:"High",label:"High"},{value:"Close",label:"Close"},{value:"HLC3",label:"HLC3"},{value:"HLC2",label:"HLC2"},{value:"OHLC4",label:"OHLC4"},{value:"HLCC4",label:"HLCC4"}],default:"Close"},{paramNameKey:"Offset",type:"number",precision:0,min:-100,max:100,default:0},{paramNameKey:"Bands Mode",type:"select",precision:0,options:[{value:"Standard Deviation",label:"Standard Deviation"},{value:"Percentage",label:"Percentage"},{value:"Fixed",label:"Fixed"}],default:"Standard Deviation"},{paramNameKey:"Bands Multiplier",type:"select",precision:0,options:[{value:"0.5",label:"0.5"},{value:"1",label:"1.0"},{value:"1.5",label:"1.5"},{value:"2",label:"2.0"},{value:"2.5",label:"2.5"},{value:"3",label:"3.0"}],default:"2"},{paramNameKey:"Show Bands",type:"boolean",precision:0,default:!0},{paramNameKey:"Show Shading",type:"boolean",precision:0,default:!0}],"Negative Volume Index":[{paramNameKey:"Length",type:"number",precision:0,min:1,default:5}],"Money Flow Volume":[],"Money Flow Multiplier":[],"Moving Linear Regression":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}],"Moving Least Square":[{paramNameKey:"Period",type:"number",precision:0,min:1,default:14}]};var gA=re("<div class=chartspire-ui-indicator-setting-input><span>");const kg=e=>(()=>{var r=gA(),t=r.firstChild;return N(t,()=>e.label),N(r,oe(Dl,{style:{width:"120px"},get value(){return e.value},get onChange(){return e.onChange}}),null),r})();var vA=re("<div class=chartspire-ui-indicator-setting-select><span>");const Sg=e=>(()=>{var r=vA(),t=r.firstChild;return N(t,()=>e.label),N(r,oe(S1,{style:{width:"120px"},get value(){return e.value},get dataSource(){return e.dataSource},get onSelected(){return e.onSelected}}),null),r})();var mA=re("<div class=chartspire-ui-indicator-setting-styles><span>");const Pc=e=>(()=>{var r=mA(),t=r.firstChild;return N(t,()=>e.label),N(r,oe(Qg,{style:{width:"120px"},get value(){return e.value},get onChange(){return e.onChange}}),null),r})();var yA=re("<div class=styles-container>");const jh=({index:e,locale:r,styles:t,setStyles:n,type:i})=>{const o=wn.clone(t());return(()=>{var s=yA();return N(s,(()=>{var u=_e(()=>i===u1.line);return()=>u()?[oe(Pc,{get label(){return`${A("Color",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:f.color)??"#000000"},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:f.color)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].color=d),n({...o})}}),oe(kg,{get label(){return`${A("Size",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:f.size)??1},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:f.size)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].size=d),n({...o})}}),oe(Sg,{get label(){return A("LineType",r)},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.lines)==null?void 0:h[e])==null?void 0:f.style)??"solid"},dataSource:[{key:"solid",text:"Solid"},{key:"dashed",text:"Dashed"}],onSelected:d=>{var h,f,v;(((f=(h=o==null?void 0:o.lines)==null?void 0:h[e])==null?void 0:f.style)!==void 0||((v=o==null?void 0:o.lines)==null?void 0:v[e])!==void 0)&&(o.lines[e].style=d.key),n({...o})}})]:_e(()=>i===u1.circle)()?[_e(()=>_e(()=>{var d,h,f;return((f=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:f.upColor)!==void 0})()&&oe(Pc,{get label(){return`${A("upColor",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:f.upColor)??"#000000"},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:f.upColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].upColor=d),n({...o})}})),_e(()=>_e(()=>{var d,h,f;return((f=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:f.downColor)!==void 0})()&&oe(Pc,{get label(){return`${A("downColor",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:f.downColor)??"#000000"},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:f.downColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].downColor=d),n({...o})}})),_e(()=>_e(()=>{var d,h,f;return((f=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:f.noChangeColor)!==void 0})()&&oe(Pc,{get label(){return`${A("noChangeColor",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.circles)==null?void 0:h[e])==null?void 0:f.noChangeColor)??"#000000"},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.circles)==null?void 0:h[e])==null?void 0:f.noChangeColor)!==void 0||((v=o==null?void 0:o.circles)==null?void 0:v[e])!==void 0)&&(o.circles[e].noChangeColor=d),n({...o})}}))]:_e(()=>i===u1.bar)()?[_e(()=>_e(()=>{var d,h,f;return((f=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:f.upColor)!==void 0})()&&oe(Pc,{get label(){return`${A("upColor",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:f.upColor)??"#000000"},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:f.upColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].upColor=d),n({...o})}})),_e(()=>_e(()=>{var d,h,f;return((f=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:f.downColor)!==void 0})()&&oe(Pc,{get label(){return`${A("downColor",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:f.downColor)??"#000000"},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:f.downColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].downColor=d),n({...o})}})),_e(()=>_e(()=>{var d,h,f;return((f=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:f.noChangeColor)!==void 0})()&&oe(Pc,{get label(){return`${A("noChangeColor",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.bars)==null?void 0:h[e])==null?void 0:f.noChangeColor)??"#000000"},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.bars)==null?void 0:h[e])==null?void 0:f.noChangeColor)!==void 0||((v=o==null?void 0:o.bars)==null?void 0:v[e])!==void 0)&&(o.bars[e].noChangeColor=d),n({...o})}}))]:_e(()=>i===u1.custom)()?_e(()=>_e(()=>{var d,h,f;return((f=(h=(d=t())==null?void 0:d.custom)==null?void 0:h[e])==null?void 0:f.opacity)!==void 0})()&&oe(kg,{get label(){return`${A("opacity",r)} ${e+1}`},get value(){var d,h,f;return((f=(h=(d=t())==null?void 0:d.custom)==null?void 0:h[e])==null?void 0:f.opacity)??.3},onChange:d=>{var h,f,v;(((f=(h=o==null?void 0:o.custom)==null?void 0:h[e])==null?void 0:f.opacity)!==void 0||((v=o==null?void 0:o.custom)==null?void 0:v[e])!==void 0)&&(o.custom[e].opacity=d),n({...o})}})):null})()),s})()};var xA=re("<div class=chartspire-ui-indicator-setting-modal-content>"),CA=re("<div class=chartspire-ui-indicator-setting-modal-content> <!> <!> "),bA=re("<div class=chartspire-ui-indicator-setting-modal-wrapper><div class=topbar>"),wA=re("<button>"),Gh=re("<div class=styles-container>"),u1=(e=>(e.line="line",e.circle="circle",e.bar="bar",e.custom="custom",e))(u1||{});const _A=e=>{const[r,t]=pe(wn.clone(e.params.calcParams)),[n,i]=pe(wn.clone(e.params.styles)),[o,s]=pe("params"),u=h=>fA[h],d=[{text:"Params",key:"params"},{text:"Style",key:"style"}];return oe(Bl,{get title(){return e.params.indicatorName},width:360,contentHeight:"80%",buttonContainerPadding:"30px 30px 20px",get buttons(){return[{type:"confirm",children:A("confirm",e.locale),onClick:()=>{var h;const f=u(e.params.indicatorName),v=[];(h=wn.clone(r()))==null||h.forEach((m,C)=>{!wn.isValid(m)||m===""?"default"in f[C]&&v.push(f[C].default):v.push(m)}),e.onConfirm(v,n()),e.onClose()}}]},get onClose(){return e.onClose},get children(){var h=bA(),f=h.firstChild;return N(f,oe(li,{each:d,children:v=>(()=>{var m=wA();return m.$$click=()=>s(v.key),N(m,()=>v.text),$e(()=>er(m,`${o()===v.key?"selected":""}`)),m})()})),N(h,oe(tt,{get when(){return o()==="params"},get children(){var v=xA();return N(v,()=>{var m;return(m=u(e.params.indicatorName))==null?void 0:m.map((C,b)=>C.type==="boolean"?oe(Sg,{get label(){return A(C.paramNameKey,e.locale)},get value(){var _;return(_=r()[b])!=null&&_.value?"true":"false"},dataSource:[{key:"true",text:"Yes"},{key:"false",text:"No"}],onSelected:_=>{const k=wn.clone(r());k[b]={...k[b],value:_.key==="true"},t(k)}}):C.type==="select"?oe(Sg,{get label(){return A(C.paramNameKey,e.locale)},get value(){var _;return((_=r()[b])==null?void 0:_.value)??C.default},get dataSource(){var _;return((_=C.options)==null?void 0:_.map(k=>({key:k.value,text:k.label})))??[]},onSelected:_=>{const k=wn.clone(r());k[b]={...k[b],value:_.key},t(k)}}):oe(kg,{key:b,get label(){return A(C.paramNameKey,e.locale)},get value(){var _;return((_=r()[b])==null?void 0:_.value)??""},get precision(){return C.precision},get min(){return C.min},onChange:_=>{const k=wn.clone(r());k[b]={...k[b],value:Number(_)},t(k)}}))}),v}}),null),N(h,oe(tt,{get when(){return o()==="style"},get children(){var v=CA(),m=v.firstChild,C=m.nextSibling,b=C.nextSibling,_=b.nextSibling;return _.nextSibling,N(v,()=>{var k,S;return(S=(k=e.params.styles)==null?void 0:k.lines)==null?void 0:S.map((T,I)=>(()=>{var P=Gh();return Ge(P,"key",I),N(P,oe(jh,{index:I,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"line"}})),P})())},m),N(v,()=>{var k,S;return(S=(k=e.params.styles)==null?void 0:k.circles)==null?void 0:S.map((T,I)=>(()=>{var P=Gh();return Ge(P,"key",I),N(P,oe(jh,{index:I,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"circle"}})),P})())},C),N(v,()=>{var k,S;return(S=(k=e.params.styles)==null?void 0:k.bars)==null?void 0:S.map((T,I)=>(()=>{var P=Gh();return Ge(P,"key",I),N(P,oe(jh,{index:I,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"bar"}})),P})())},_),N(v,()=>{var k,S;return(S=(k=e.params.styles)==null?void 0:k.custom)==null?void 0:S.map((T,I)=>(()=>{var P=Gh();return Ge(P,"key",I),N(P,oe(jh,{index:I,get locale(){return e.locale},styles:n,setStyles:i,get type(){return"custom"}})),P})())},null),v}}),null),h}})};_r(["click"]);var kA=re('<svg viewBox="0 0 22 22"><rect x=2 y=2 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=2 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=2 width=4 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=2 y=9 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=9 width=5 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=9 width=4 height=5 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=2 y=16 width=5 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=9 y=16 width=5 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none></rect><rect x=16 y=16 width=4 height=4 stroke-width=1 stroke-linecap=round stroke-linejoin=round fill=none>');const SA=e=>(()=>{var r=kA();return $e(()=>Ge(r,"class",e.class||"icon-overlay")),r})();var MA=re('<svg viewBox="0 0 24 24"fill=none><path d="M3 6h18M3 12h18M3 18h18M7 3v18M17 3v18"stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round></path><path d="M9 9h2M13 9h2M9 15h2M13 15h2"stroke=currentColor stroke-width=1.5 stroke-linecap=round>');const EA=e=>(()=>{var r=MA();return $e(()=>Ge(r,"class",e.class||"icon-overlay")),r})();var TA=re('<div class=item tabindex=0><span style=width:40px;height:40px><svg viewBox="0 0 22 22"><path d="M8 6.00067L21 6.00139M8 12.0007L21 12.0015M8 18.0007L21 18.0015M3.5 6H3.51M3.5 12H3.51M3.5 18H3.51M4 6C4 6.27614 3.77614 6.5 3.5 6.5C3.22386 6.5 3 6.27614 3 6C3 5.72386 3.22386 5.5 3.5 5.5C3.77614 5.5 4 5.72386 4 6ZM4 12C4 12.2761 3.77614 12.5 3.5 12.5C3.22386 12.5 3 12.2761 3 12C3 11.7239 3.22386 11.5 3.5 11.5C3.77614 11.5 4 11.7239 4 12ZM4 18C4 18.2761 3.77614 18.5 3.5 18.5C3.22386 18.5 3 18.2761 3 18C3 17.7239 3.22386 17.5 3.5 17.5C3.77614 17.5 4 17.7239 4 18Z"stroke-width=2 stroke-linecap=round stroke-linejoin=round>'),IA=re('<div class="item paper-trading-item"tabindex=0><span style=width:40px;height:40px>'),LA=re('<div class="item orderbook-item"tabindex=0><span style=width:40px;height:40px>'),PA=re("<div class=chartspire-ui-right-bar>");const AA=e=>(()=>{var r=PA();return N(r,oe(tt,{get when(){return e.isWatchListEnabled},get children(){var t=TA(),n=t.firstChild,i=n.firstChild;return t.$$click=()=>{console.log("Watchlist clicked"),e.setWatchListModalVisible!=null&&e.setWatchListModalVisible(o=>!o)},$e(()=>Ge(i,"class",`icon-overlay ${e.watchListModalVisible?"selected":""}`)),t}}),null),N(r,oe(tt,{get when(){return e.isPaperTradingEnabled},get children(){var t=IA(),n=t.firstChild;return t.$$click=()=>{console.log("Paper Trading clicked"),e.setPaperTradingModalVisible!=null&&e.setPaperTradingModalVisible(i=>!i)},N(n,oe(SA,{get class(){return`icon-overlay ${e.paperTradingModalVisible?"selected":""}`}})),t}}),null),N(r,oe(tt,{get when(){return e.isOrderBookEnabled},get children(){var t=LA(),n=t.firstChild;return t.$$click=()=>{console.log("DOM clicked"),e.setOrderBookVisible!=null&&e.setOrderBookVisible(i=>!i)},N(n,oe(EA,{get class(){return`icon-overlay ${e.orderBookModalVisible?"selected":""}`}})),t}}),null),r})();_r(["click"]);const DA=nS.map(e=>e.name),FA=e=>{const r=e.getDataList(),t=e.getIndicators(),n=new Set,i={};t.forEach(f=>{console.log(f.result),DA.includes(f.name)||Object.entries(f.result).forEach(([v,m])=>{const C=m;Object.keys(C).forEach(b=>{let _=!1;n.add(b),i[b]||(i[b]={}),i[b][v]||(i[b][v]=[]),C[b]!==void 0&&C[b]!==null&&(i[b][v].push(C[b]),_=!0),_||n.delete(b)})})});const o=["timestamp","open","high","low","close","volume",...n].join(","),s=r.map((f,v)=>{const m=Array.from(n).map(C=>i[C][v]??"").join(",");return`${f.timestamp},${f.open},${f.high},${f.low},${f.close},${f.volume??""},${m}`}).join(`
`),u=`${o}
${s}`,d=new Blob([u],{type:"text/csv"}),h=document.createElement("a");h.href=URL.createObjectURL(d),h.download="data.csv",document.body.appendChild(h),h.click(),document.body.removeChild(h)};var RA=re('<div class="item tools">'),OA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><rect width=15 height=14 fill=none stroke=currentColor rx=4 transform="translate(.5 .5)">'),NA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14">'),zA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15">'),BA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M5 0v14"></path><path d="M10 0v14">'),VA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15">'),$A=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 7h7.5">'),WA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 7h7.5">'),UA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M7.5 0v7">'),HA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M7.5 7v7">'),YA=re('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7.5h15M7.5 0v14">'),XA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 3.5h15"></path><path d="M0 7h15"></path><path d="M0 10.5h15">'),jA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M3.75 0v14"></path><path d="M7.5 0v14"></path><path d="M11.25 0v14">'),GA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 4.5h7.5"></path><path d="M7.5 9.5h7.5">'),KA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 4.5h7.5"></path><path d="M0 9.5h7.5">'),QA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M5 7v7"></path><path d="M10 7v7">'),ZA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15"></path><path d="M5 0v7"></path><path d="M10 0v7">'),qA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 2.8h15"></path><path d="M0 5.6h15"></path><path d="M0 8.4h15"></path><path d="M0 11.2h15">'),JA=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M3 0v14"></path><path d="M6 0v14"></path><path d="M9 0v14"></path><path d="M12 0v14">'),eD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M7.5 3.5h7.5"></path><path d="M7.5 7h7.5"></path><path d="M7.5 10.5h7.5">'),tD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M7.5 0v14"></path><path d="M0 3.5h7.5"></path><path d="M0 7h7.5"></path><path d="M0 10.5h7.5">'),rD=re('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M5 0v14"></path><path d="M10 0v14"></path><path d="M0 7.5h15M7.5">'),nD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M2.5 0v14"></path><path d="M5 0v14"></path><path d="M7.5 0v14"></path><path d="M10 0v14"></path><path d="M12.5 0v14">'),iD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 2.5h15"></path><path d="M0 5h15"></path><path d="M0 7.5h15"></path><path d="M0 10h15"></path><path d="M0 12.5h15">'),aD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15"></path><path d="M7.5 0v14">'),oD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 2h15"></path><path d="M0 4h15"></path><path d="M0 6h15"></path><path d="M0 8h15"></path><path d="M0 10h15"></path><path d="M0 12h15">'),lD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M2.14 0v14"></path><path d="M4.28 0v14"></path><path d="M6.42 0v14"></path><path d="M8.57 0v14"></path><path d="M10.71 0v14"></path><path d="M12.85 0v14">'),sD=re('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15M3.75 0v14M7.5 0v14M11.25 0v14">'),cD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.75h15"></path><path d="M0 3.5h15"></path><path d="M0 5.25h15"></path><path d="M0 7h15"></path><path d="M0 8.75h15"></path><path d="M0 10.5h15"></path><path d="M0 12.25h15">'),uD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.875 0v14"></path><path d="M3.75 0v14"></path><path d="M5.625 0v14"></path><path d="M7.5 0v14"></path><path d="M9.375 0v14"></path><path d="M11.25 0v14"></path><path d="M13.125 0v14">'),dD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 4.5h15"></path><path d="M0 9.5h15"></path><path d="M5 0v14"></path><path d="M10 0v14">'),hD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.5h15"></path><path d="M0 3h15"></path><path d="M0 4.5h15"></path><path d="M0 6h15"></path><path d="M0 7.5h15"></path><path d="M0 9h15"></path><path d="M0 10.5h15"></path><path d="M0 12h15">'),pD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.67 0v14"></path><path d="M3.33 0v14"></path><path d="M5 0v14"></path><path d="M6.67 0v14"></path><path d="M8.33 0v14"></path><path d="M10 0v14"></path><path d="M11.67 0v14"></path><path d="M13.33 0v14">'),fD=re('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M0 7h15M3 0v14M6 0v14M9 0v14M12 0v14">'),gD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.4h15"></path><path d="M0 2.8h15"></path><path d="M0 4.2h15"></path><path d="M0 5.6h15"></path><path d="M0 7h15"></path><path d="M0 8.4h15"></path><path d="M0 9.8h15"></path><path d="M0 11.2h15"></path><path d="M0 12.6h15">'),vD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.5 0v14"></path><path d="M3 0v14"></path><path d="M4.5 0v14"></path><path d="M6 0v14"></path><path d="M7.5 0v14"></path><path d="M9 0v14"></path><path d="M10.5 0v14"></path><path d="M12 0v14"></path><path d="M13.5 0v14">'),mD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 3.5h15"></path><path d="M0 7h15"></path><path d="M0 10.5h15"></path><path d="M5 0v14"></path><path d="M10 0v14">'),yD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 1.17h15"></path><path d="M0 2.33h15"></path><path d="M0 3.5h15"></path><path d="M0 4.67h15"></path><path d="M0 5.83h15"></path><path d="M0 7h15"></path><path d="M0 8.17h15"></path><path d="M0 9.33h15"></path><path d="M0 10.5h15"></path><path d="M0 11.67h15"></path><path d="M0 12.83h15">'),xD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M1.25 0v14"></path><path d="M2.5 0v14"></path><path d="M3.75 0v14"></path><path d="M5 0v14"></path><path d="M6.25 0v14"></path><path d="M7.5 0v14"></path><path d="M8.75 0v14"></path><path d="M10 0v14"></path><path d="M11.25 0v14"></path><path d="M12.5 0v14"></path><path d="M13.75 0v14">'),CD=re('<svg xmlns=http://www.w3.org/2000/svg width=15 height=14><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=2></rect><path d="M0 7h15"></path><path d="M2.5 0v14"></path><path d="M5 0v14"></path><path d="M7.5 0v14"></path><path d="M10 0v14"></path><path d="M12.5 0v14">'),V2=re('<svg xmlns=http://www.w3.org/2000/svg width=20 height=15><g fill=none stroke=currentColor transform="translate(.5 .5)"><rect width=15 height=14 rx=4></rect><path d="M2 0v14"></path><path d="M5 0v14"></path><path d="M12 0v14"></path><path d="M0 7.5h15M9 0v14">');const bD=e=>(()=>{var r=RA();return Oi(r,"click",e.onMultiChartClick),N(r,(()=>{var t=_e(()=>e.multiChart===U.ONE);return()=>t()&&OA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TWO);return()=>t()&&NA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TWO_VERTICAL);return()=>t()&&zA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.THREE);return()=>t()&&BA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.THREE_VERTICAL);return()=>t()&&VA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.THREE_MIXED);return()=>t()&&$A()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.THREE_MIXED_REVERSE);return()=>t()&&WA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.THREE_MIXED_BOTTOM);return()=>t()&&UA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.THREE_MIXED_TOP);return()=>t()&&HA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FOUR);return()=>t()&&YA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FOUR_VERTICAL);return()=>t()&&XA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FOUR_HORIZONTAL);return()=>t()&&jA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FOUR_MIXED);return()=>t()&&GA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FOUR_MIXED_REVERSE);return()=>t()&&KA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FOUR_MIXED_TOP);return()=>t()&&QA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FOUR_MIXED_BOTTOM);return()=>t()&&ZA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FIVE_VERTICAL);return()=>t()&&qA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FIVE_HORIZONTAL);return()=>t()&&JA()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FIVE_MIXED);return()=>t()&&eD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FIVE_MIXED_REVERSE);return()=>t()&&tD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.SIX);return()=>t()&&rD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.SIX_HORIZONTAL);return()=>t()&&nD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.SIX_VERTICAL);return()=>t()&&iD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.SIX_MIXED);return()=>t()&&aD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.SEVEN_VERTICAL);return()=>t()&&oD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.SEVEN_HORIZONTAL);return()=>t()&&lD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.EIGHT);return()=>t()&&sD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.EIGHT_VERTICAL);return()=>t()&&cD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.EIGHT_HORIZONTAL);return()=>t()&&uD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.NINE);return()=>t()&&dD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.NINE_VERTICAL);return()=>t()&&hD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.NINE_HORIZONTAL);return()=>t()&&pD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TEN);return()=>t()&&fD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TEN_VERTICAL);return()=>t()&&gD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TEN_HORIZONTAL);return()=>t()&&vD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TWELVE);return()=>t()&&mD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TWELVE_VERTICAL);return()=>t()&&yD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TWELVE_HORIZONTAL);return()=>t()&&xD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.TWELVE_GRID);return()=>t()&&CD()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.FOURTEEN);return()=>t()&&V2()})(),null),N(r,(()=>{var t=_e(()=>e.multiChart===U.SIXTEEN);return()=>t()&&V2()})(),null),r})();_r(["click"]);const As=e=>{const r=[{key:"solid",text:A("solid",e)},{key:"dashed",text:A("dashed",e)}],t=[{key:"true",text:!0},{key:"false",text:!1}],n=[{key:1,text:1},{key:2,text:2},{key:3,text:3},{key:4,text:4},{key:5,text:5},{key:6,text:6},{key:7,text:7},{key:8,text:8},{key:9,text:9},{key:10,text:10}],i=[{key:"fill",text:A("fill",e)},{key:"stroke",text:A("stroke",e)},{key:"stroke_fill",text:A("stroke_fill",e)}],o=[{key:"none",text:A("none",e)},{key:"always",text:A("always",e)},{key:"follow_cross",text:A("follow_cross",e)}],s=[{key:10,text:10},{key:11,text:11},{key:12,text:12},{key:14,text:14},{key:16,text:16},{key:18,text:18},{key:20,text:20},{key:22,text:22},{key:24,text:24}],u=[{key:"normal",text:A("Normal",e)}],d=[{key:"Helvetica Neue",text:A("Helvetica Neue",e)}];return{solid_dashed:r,size:n,fill_stroke:i,font_family:d,font_size:s,font_weight:u,none_always_followCross:o,true_false:t}},q5=e=>{const{font_family:r,font_size:t,font_weight:n,size:i,solid_dashed:o,fill_stroke:s,none_always_followCross:u}=As(e);return[{key:"candle.type",text:A("candle_type",e),component:"select",dataSource:[{key:"heikin_ashi",text:A("heikin_ashi",e)},{key:"candle_solid",text:A("candle_solid",e)},{key:"candle_stroke",text:A("candle_stroke",e)},{key:"candle_up_stroke",text:A("candle_up_stroke",e)},{key:"candle_down_stroke",text:A("candle_down_stroke",e)},{key:"ohlc",text:A("ohlc",e)},{key:"area",text:A("area",e)},{key:"renko",text:A("renko",e)}]},{key:"candle.bar.upColor",text:A("candle.bar.upColor",e),component:"color"},{key:"candle.bar.downColor",text:A("candle.bar.downColor",e),component:"color"},{key:"candle.bar.noChangeColor",text:A("candle.bar.noChangeColor",e),component:"color"},{key:"candle.bar.upBorderColor",text:A("candle.bar.upBorderColor",e),component:"color"},{key:"candle.bar.downBorderColor",text:A("candle.bar.downBorderColor",e),component:"color"},{key:"candle.bar.noChangeBorderColor",text:A("candle.bar.noChangeBorderColor",e),component:"color"},{key:"candle.bar.upWickColor",text:A("candle.bar.upWickColor",e),component:"color"},{key:"candle.bar.downWickColor",text:A("candle.bar.downWickColor",e),component:"color"},{key:"candle.bar.noChangeWickColor",text:A("candle.bar.noChangeWickColor",e),component:"color"},{key:"candle.priceMark.high.show",text:A("high_price_show",e),component:"switch"},{key:"candle.priceMark.high.color",text:A("candle.priceMark.high.color",e),component:"color"},{key:"candle.priceMark.high.textSize",text:A("candle.priceMark.high.textSize",e),component:"select",dataSource:t},{key:"candle.priceMark.high.textFamily",text:A("candle.priceMark.high.textFamily",e),component:"select",dataSource:r},{key:"candle.priceMark.high.textWeight",text:A("candle.priceMark.high.textWeight",e),component:"select",dataSource:n},{key:"candle.priceMark.low.show",text:A("low_price_show",e),component:"switch"},{key:"candle.priceMark.low.color",text:A("candle.priceMark.low.color",e),component:"color"},{key:"candle.priceMark.low.textSize",text:A("candle.priceMark.low.textSize",e),component:"select",dataSource:t},{key:"candle.priceMark.low.textFamily",text:A("candle.priceMark.low.textFamily",e),component:"select",dataSource:r},{key:"candle.priceMark.low.textWeight",text:A("candle.priceMark.low.textWeight",e),component:"select",dataSource:n},{key:"candle.priceMark.last.show",text:A("candle.priceMark.last.show",e),component:"switch"},{key:"candle.priceMark.last.upColor",text:A("candle.priceMark.last.upColor",e),component:"color"},{key:"candle.priceMark.last.downColor",text:A("candle.priceMark.last.downColor",e),component:"color"},{key:"candle.priceMark.last.noChangeColor",text:A("candle.priceMark.last.noChangeColor",e),component:"color"},{key:"candle.priceMark.last.line.show",text:A("candle.priceMark.last.line.show",e),component:"switch"},{key:"candle.priceMark.last.line.style",text:A("candle.priceMark.last.line.style",e),component:"select",dataSource:o},{key:"candle.priceMark.last.line.size",text:A("candle.priceMark.last.line.size",e),component:"select",dataSource:i},{key:"candle.priceMark.last.text.show",text:A("candle.priceMark.last.text.show",e),component:"switch"},{key:"candle.priceMark.last.text.style",text:A("candle.priceMark.last.text.style",e),component:"select",dataSource:s},{key:"candle.priceMark.last.text.size",text:A("candle.priceMark.last.text.size",e),component:"select",dataSource:t},{key:"candle.priceMark.last.text.color",text:A("candle.priceMark.last.text.color",e),component:"color"},{key:"candle.tooltip.showRule",text:A("candle.tooltip.showRule",e),component:"select",dataSource:u},{key:"candle.tooltip.showType",text:A("candle.tooltip.showType",e),component:"select",dataSource:[{key:"rect",text:A("Rect",e)},{key:"standard",text:A("Standard",e)}]},{key:"candle.tooltip.rect.position",text:A("candle.tooltip.rect.position",e),component:"select",dataSource:[{key:"fixed",text:A("Fixed",e)},{key:"pointer",text:A("Pointer",e)}]},{key:"candle.tooltip.rect.color",text:A("candle.tooltip.rect.color",e),component:"color"},{key:"candle.tooltip.rect.borderColor",text:A("candle.tooltip.rect.borderColor",e),component:"color"},{key:"candle.tooltip.text.size",text:A("candle.tooltip.text.size",e),component:"select",dataSource:t},{key:"candle.tooltip.text.weight",text:A("candle.tooltip.text.weight",e),component:"select",dataSource:n},{key:"candle.tooltip.text.color",text:A("candle.tooltip.text.color",e),component:"color"}]};var wD=re("<div class=candle-type-dropdown><div class=candle-icon-container><div class=candle-icon></div><span class=candle-type-text></span><span class=dropdown-indicator></span></div><div>"),_D=re("<div><div class=candle-icon-small></div><span>");const Kh={candle_solid:'<svg width="20" height="20" stroke="currentColor" stroke-width="0.04" viewBox="0 0 0.63 0.99"><path fill="none" d="M.52.02v.95M.11.02v.95"></path><rect x=".02" y=".16" width=".19" height=".5" rx=".02" ry=".07" fill="currentColor"></rect><rect x=".42" y=".35" width=".19" height=".5" rx=".02" ry=".07" fill="currentColor"></rect></svg>',candle_stroke:'<svg viewBox="0 0 26 26" width="28" height="28" fill="currentColor"><g transform="translate(0.5, 0.5)"><path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1zM9 4v5H7v11h2v3h1v-3h2V9h-2V4H9zm6 3h3v10h-3V7zm-7 3h3v9H8v-9z"></path></g></svg>',candle_up_stroke:`<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor">
    <g transform="translate(0.5, 0.5)">
      <!-- Right candle (filled) -->
      <path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1z" fill="currentColor"/>
      <path d="M16 6h3v10h-3V6z" fill="currentColor"/>
      
      <!-- Left candle (hollow) -->
      <path d="M9 4v5h-2v11h2v3h1v-3h2V9h-2V4h-1z" stroke="currentColor" stroke-width="0.8" fill="none"/>
    </g>
  </svg>`,candle_down_stroke:`<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor">
    <g transform="translate(0.5, 0.5)">
      <!-- Right candle (hollow) -->
      <path d="M16 3v3h-2v12h2v5h1v-5h2V6h-2V3h-1z" stroke="currentColor" stroke-width="0.8" fill="none"/>
      
      <!-- Left candle (filled) -->
      <path d="M9 4v5h-2v11h2v3h1v-3h2V9h-2V4h-1z" fill="currentColor"/>
      <path d="M8 9v9h3V9h-3z" fill="currentColor"/>
    </g>
  </svg>`,ohlc:'<svg stroke="currentColor" stroke-width="0.04" stroke-linecap="round" stroke-linejoin="round" width="18" height="20" fill="none" viewBox="0 0 0.73 1.07"><path d="M.58.02v1.03M.15.02v1.03"></path><path d="M.02.26h.13M.15.7h.12M.58.97h.13M.46.36h.12"></path></svg>',area:'<svg fill="none" stroke="currentColor" stroke-width="0.12" stroke-linejoin="round" width="20" height="20" viewBox="0 0 2.28 1.65"><path d="M.03 1.62.36.78l.38.59.36-.7.36.25.36-.89.42.74v.85z"></path></svg>',heikin_ashi:'<svg width="20" height="20" stroke-width="0.03" stroke="currentColor" viewBox="0 0 0.63 0.99"><path fill="none" d="M.52.02v.96M.11.02v.96"></path><rect fill="currentColor" x=".02" y=".48" width=".19" height=".5" rx=".02" ry=".07"></rect><rect fill="currentColor" x=".42" y=".48" width=".19" height=".5" rx=".02" ry=".07"></rect></svg>',[L0.RENKO]:'<svg viewBox="0 0 26 26" width="25" height="25" fill="currentColor"><g transform="translate(0.5, 0.5)"><path d="M12 4v6h3V4h-3zm3 6v6h3v-6h-3zm3 6v6h3v-6h-3zm-6-6H9v6h3v-6zm-3 6H6v6h3v-6zm4-11h1v4h-1V5zm-3 6h1v4h-1v-4zm-3 6h1v4H7v-4z"></path></g></svg>'},kD=e=>{const r=q5(e).find(t=>t.key==="candle.type");return!r||!r.dataSource?[{value:"candle_solid",label:A("candle_solid",e),icon:Kh.candle_solid},{value:"heikin_ashi",label:A("heikin_ashi",e),icon:Kh.heikin_ashi}]:r.dataSource.map(t=>({value:t.key,label:t.text,icon:Kh[t.key]||Kh.candle_solid}))},SD=e=>{const r=kD(e.locale),[t,n]=pe(!1),[i,o]=pe(r.find(f=>f.value===e.currentCandleType)||r[0]);pt(()=>{const f=e.currentCandleType,v=r.find(m=>m.value===f);v&&o(v)});let s;const u=f=>{f.stopPropagation();const v=!t();if(n(v),v&&s){const m=s.getBoundingClientRect(),C=s.querySelector(".candle-dropdown-options");C&&(C.style.top=`${m.bottom}px`,C.style.left=`${m.left}px`)}},d=(f,v)=>{v.stopPropagation();const m=r.find(C=>C.value===f);m&&o(m),e.onCandleTypeChange(f),n(!1)},h=f=>{s&&!s.contains(f.target)&&n(!1)};return Ia(()=>{document.addEventListener("mousedown",h)}),Gn(()=>{document.removeEventListener("mousedown",h)}),(()=>{var f=wD(),v=f.firstChild,m=v.firstChild,C=m.nextSibling,b=v.nextSibling,_=s;return typeof _=="function"?ra(_,f):s=f,v.$$click=u,N(C,()=>A("charts",e.locale)),N(b,oe(li,{each:r,children:k=>(()=>{var S=_D(),T=S.firstChild,I=T.nextSibling;return S.$$click=P=>d(k.value,P),N(I,()=>k.label),$e(P=>{var L=`candle-option ${k.value===i().value?"selected":""}`,z=k.icon;return L!==P.e&&er(S,P.e=L),z!==P.t&&(T.innerHTML=P.t=z),P},{e:void 0,t:void 0}),S})()})),$e(k=>{var S=i().icon,T=`candle-dropdown-options ${t()?"open":""}`;return S!==k.e&&(m.innerHTML=k.e=S),T!==k.t&&er(b,k.t=T),k},{e:void 0,t:void 0}),f})()};_r(["click"]);var MD=re("<img alt=ticker>"),ED=re("<div class=ticker><span>"),TD=re('<div class=chartspire-ui-top-bar><select class=select-dropdown></select><div class="item tools"><svg viewBox="0 0 20 20"><path d=M15.873,20L3.65079,20C1.5873,20,0,18.3871,0,16.2903L0,3.70968C-3.78442e-7,1.6129,1.5873,0,3.65079,0L15.873,0C17.9365,0,19.5238,1.6129,19.5238,3.70968C19.5238,4.35484,19.2063,4.51613,18.5714,4.51613C17.9365,4.51613,17.619,4.19355,17.619,3.70968C17.619,2.74194,16.8254,1.93548,15.873,1.93548L3.65079,1.93548C2.69841,1.93548,1.90476,2.74194,1.90476,3.70968L1.90476,16.2903C1.90476,17.2581,2.69841,18.0645,3.65079,18.0645L15.873,18.0645C16.8254,18.0645,17.619,17.2581,17.619,16.2903C17.619,15.8065,18.0952,15.3226,18.5714,15.3226C19.0476,15.3226,19.5238,15.8065,19.5238,16.2903C19.5238,18.2258,17.9365,20,15.873,20ZM14.9206,12.9032C14.7619,12.9032,14.4444,12.9032,14.2857,12.7419L11.2698,9.35484C10.9524,9.03226,10.9524,8.54839,11.2698,8.22581C11.5873,7.90323,12.0635,7.90323,12.381,8.22581L15.3968,11.6129C15.7143,11.9355,15.7143,12.4194,15.3968,12.7419C15.3968,12.9032,15.2381,12.9032,14.9206,12.9032ZM11.4286,13.2258C11.2698,13.2258,11.1111,13.2258,10.9524,13.0645C10.6349,12.7419,10.6349,12.4194,10.9524,12.0968L15.0794,7.74193C15.3968,7.41935,15.7143,7.41935,16.0317,7.74193C16.3492,8.06452,16.3492,8.3871,16.0317,8.70968L11.9048,13.0645C11.746,13.2258,11.5873,13.2258,11.4286,13.2258ZM10.3175,3.70968C10.6349,3.70968,11.4286,3.87097,11.4286,4.67742C11.4286,5.32258,10.4762,5.16129,10.1587,5.16129C8.73016,5.16129,8.25397,5.96774,8.09524,6.6129L7.77778,8.54839L9.36508,8.54839C9.68254,8.54839,10,8.87097,10,9.19355C10,9.51613,9.68254,9.83871,9.36508,9.83871L7.61905,9.83871L6.50794,14.8387Q6.34921,16.2903,5.39683,16.2903Q4.44444,16.2903,4.92064,14.8387L6.03175,10L4.60317,10C4.28571,10,3.96825,9.67742,3.96825,9.35484C3.96825,8.70968,4.28571,8.54839,4.60317,8.54839L6.34921,8.54839L6.8254,6.45161C7.14286,3.70968,9.52381,3.54839,10.3175,3.70968ZM18.4127,6.6129C18.5714,6.12903,18.8889,5.96774,19.3651,5.96774C19.8413,6.12903,20,6.45161,20,6.93548L18.4127,13.3871C18.254,13.871,17.9365,14.0323,17.4603,14.0323C16.9841,13.871,16.8254,13.5484,16.8254,13.0645L18.4127,6.6129Z></path></svg><span></span></div><div class="item tools"><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path fill-rule=evenodd d="M12,23 C5.92486775,23 1,18.0751322 1,12 C1,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,18.0751322 18.0751322,23 12,23 Z M12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 Z M8,17 L8,7 C8,6.21456446 8.86395093,5.73572169 9.52999894,6.1520017 L17.5299989,11.1520017 C18.156667,11.5436692 18.156667,12.4563308 17.5299989,12.8479983 L9.52999894,17.8479983 C8.86395093,18.2642783 8,17.7854355 8,17 Z M15.1132038,12 L10,8.80424764 L10,15.1957524 L15.1132038,12 Z"></path></svg><span></span></div><div></div><div class="item tools csv"><svg viewBox="0 50 500 400"><path d="M430.557,79.556H218.44c21.622,12.688,40.255,29.729,54.859,49.906h157.258 c7.196,0,13.063,5.863,13.063,13.06v238.662c0,7.199-5.866,13.064-13.063,13.064H191.894c-7.198,0-13.062-5.865-13.062-13.064 V222.173c-6.027-3.1-12.33-5.715-18.845-7.732c-3.818,11.764-12.105,21.787-23.508,27.781c-2.39,1.252-4.987,2.014-7.554,2.844 v136.119c0,34.717,28.25,62.971,62.968,62.971h238.663c34.718,0,62.969-28.254,62.969-62.971V142.522 C493.525,107.806,465.275,79.556,430.557,79.556z"></path><path id=XMLID_31_ d="M129.037,175.989c51.419,1.234,96.388,28.283,122.25,68.865c2.371,3.705,6.434,5.848,10.657,5.848 c1.152,0,2.322-0.162,3.46-0.486c5.377-1.545,9.114-6.418,9.179-12.006c0-0.504,0-1.01,0-1.51 c0-81.148-64.853-147.023-145.527-148.957V64.155c0-5.492-3.038-10.512-7.879-13.078c-2.16-1.139-4.533-1.707-6.889-1.707 c-2.94,0-5.848,0.88-8.35,2.584L5.751,120.526C2.162,122.98,0.018,127.041,0,131.394c-0.017,4.338,2.113,8.418,5.687,10.902 l100.17,69.451c2.518,1.753,5.459,2.631,8.414,2.631c2.355,0,4.696-0.553,6.857-1.676c4.855-2.549,7.909-7.6,7.909-13.092V175.989z "></path></svg></div><div class="item tools"><svg width=20 height=20 viewBox="0 0 20 20"><path d=M18.5446,9.09091C18.3333,6.61616,17.2887,4.31818,15.5751,2.63889C13.8498,0.94697,11.6197,0,9.28404,0C8.02817,0,6.81925,0.265151,5.66901,0.782828C5.65728,0.782828,5.65728,0.795454,5.64554,0.795454C5.6338,0.795454,5.6338,0.808081,5.62207,0.808081C4.53052,1.31313,3.55634,2.0202,2.71127,2.92929C1.85446,3.85101,1.18545,4.91162,0.715963,6.11111C0.246479,7.33586,0,8.64899,0,10C0,10.8712,0.105634,11.7172,0.305164,12.5379C0.305164,12.5631,0.316901,12.5884,0.328638,12.6136C0.739437,14.2298,1.51408,15.7197,2.62911,16.9571C4.07277,18.548,5.92723,19.5581,7.93427,19.8737C7.95775,19.8737,7.96948,19.8864,7.99296,19.8864C8.3216,19.9369,8.66197,19.9747,9.00235,19.9747L9.21362,19.9747C9.61268,19.9747,10.3756,19.9369,11.0094,19.697C11.1737,19.6338,11.3028,19.5076,11.3732,19.3434C11.4437,19.1793,11.4554,18.9899,11.3967,18.8131C11.3028,18.5354,11.0563,18.346,10.7864,18.346C10.716,18.346,10.6338,18.3586,10.5634,18.3838C10.0939,18.5606,9.46009,18.5859,9.20188,18.5859L9.09624,18.5859C9.20188,18.2702,9.23709,17.9167,9.15493,17.5505C9.00235,16.8939,8.50939,16.3384,7.58216,15.7955L7.19484,15.5682C6.57277,15.2146,6.23239,15.0253,6.03286,14.7348C5.83333,14.4444,5.69249,13.9899,5.51643,12.9798C5.38732,12.298,5.04695,11.7677,4.50704,11.4646C4.14319,11.2626,3.70892,11.149,3.19249,11.149C2.82864,11.149,2.42958,11.1995,2.00704,11.3005C1.79578,11.351,1.59624,11.4141,1.42019,11.4646C1.33803,10.9848,1.30282,10.4798,1.30282,9.97475C1.30282,6.93182,2.76995,4.26768,4.98826,2.72727C5,3.00505,5.05869,3.29545,5.17606,3.57323C5.48122,4.26768,6.10329,4.7096,7.01878,4.89899C7.06573,4.91162,7.10094,4.91162,7.13615,4.91162L7.1831,4.91162C7.26526,4.91162,7.57042,4.92424,7.88732,5.0505C8.3216,5.2399,8.56808,5.55555,8.65023,6.04798C8.84977,7.61364,9.07277,10.4293,8.79108,11.3384C8.76761,11.4141,8.75587,11.4899,8.75587,11.5657C8.75587,11.9444,9.0493,12.2601,9.40141,12.2601C9.57747,12.2601,9.74179,12.1843,9.85915,12.0581C9.97653,11.9318,12.6174,9.05303,13.3216,8.09343C13.4038,7.97979,13.4859,7.87878,13.5798,7.76515C13.9202,7.33586,14.2723,6.90656,14.4014,6.26262C14.554,5.56818,14.4014,4.79798,13.9437,3.85101C13.615,3.16919,13.5563,2.86616,13.5446,2.75252C13.5563,2.7399,13.5798,2.72727,13.6033,2.71464C15.6221,4.10353,17.0188,6.43939,17.2535,9.19192C17.2887,9.55808,17.5587,9.82323,17.8991,9.82323L17.9577,9.82323C18.3099,9.8106,18.5681,9.48232,18.5446,9.09091ZM3.19249,12.5631C3.48592,12.5631,3.72066,12.6136,3.89671,12.7146C4.08451,12.8283,4.19014,12.9924,4.23709,13.2702C4.43662,14.3434,4.61268,15.0631,5,15.6061C5.37559,16.1364,5.85681,16.4015,6.58451,16.8182L6.60798,16.8308C6.71362,16.8939,6.84272,16.9571,6.96009,17.0328C7.69953,17.4621,7.86385,17.7525,7.89906,17.8914C7.93427,18.0303,7.85211,18.2323,7.74648,18.4343C4.91784,17.8535,2.65258,15.6944,1.73709,12.8283C2.15962,12.702,2.71127,12.5631,3.19249,12.5631ZM12.7934,4.5202C13.4272,5.83333,13.1455,6.18687,12.5822,6.89394C12.4883,7.00758,12.3944,7.12121,12.3005,7.24747C11.9484,7.72727,11.0211,8.77525,10.2113,9.68434C10.2113,9.24242,10.1878,8.73737,10.1526,8.19444C10.0704,6.95707,9.92958,5.90909,9.92958,5.87121L9.92958,5.83333C9.75352,4.83586,9.20188,4.11616,8.3216,3.76263C7.82864,3.56061,7.37089,3.53535,7.19484,3.53535C6.73709,3.43434,6.4554,3.24495,6.33803,2.99242C6.19718,2.68939,6.29108,2.24747,6.38498,1.9697C7.28873,1.59091,8.26291,1.37626,9.28404,1.37626C10.3873,1.37626,11.4437,1.61616,12.4061,2.04545C12.3357,2.18434,12.277,2.34848,12.2535,2.5505C12.2066,3.04293,12.3709,3.64899,12.7934,4.5202Z></path><path d=M15.22299772857666,9.722223632261718C12.59389772857666,9.722223632261718,10.44600772857666,12.020201374511718,10.44600772857666,14.861111374511719C10.44600772857666,17.70202137451172,12.58215772857666,20.000021374511718,15.223007728576661,20.000021374511718C17.86384772857666,20.000021374511718,19.99999772857666,17.70202137451172,19.99999772857666,14.861111374511719C19.99999772857666,12.020201374511718,17.85211772857666,9.72222212709572,15.22299772857666,9.722223632261718ZM15.22299772857666,18.598491374511717C13.30985772857666,18.598491374511717,11.737087728576661,16.91919137451172,11.737087728576661,14.848481374511719C11.737087728576661,12.777781374511719,13.29811772857666,11.098491374511719,15.22299772857666,11.098491374511719C17.14787772857666,11.098491374511719,18.708917728576658,12.77778137451172,18.708917728576658,14.848481374511719C18.708917728576658,16.91919137451172,17.13614772857666,18.59848137451172,15.22299772857666,18.598491374511717Z></path><path d=M15.692486288146974,15.050496970825195L15.692486288146974,12.676760970825196C15.692486288146974,12.297972970825196,15.399058288146973,11.982316970825195,15.046945288146972,11.982316970825195C14.694833288146972,11.982316970825195,14.401406288146973,12.297972970825196,14.401406288146973,12.676760970825196L14.401406288146973,15.340896970825195C14.401406288146973,15.530296970825194,14.471829288146973,15.694436970825196,14.589200288146973,15.833326970825196L15.751176288146972,17.095956970825195C15.868546288146973,17.222216970825194,16.032866288146973,17.297976970825196,16.208916288146973,17.297976970825196C16.384976288146973,17.297976970825196,16.537556288146973,17.222216970825194,16.666666288146974,17.095956970825195C16.78403628814697,16.969686970825194,16.854456288146974,16.792916970825196,16.854456288146974,16.603526970825193C16.854456288146974,16.414136970825197,16.78403628814697,16.237366970825196,16.666666288146974,16.111106970825197L15.692486288146974,15.050496970825195Z></path></svg></div><div class="item tools"><svg viewBox="0 0 20 20"><path d=M19.7361,12.542L18.1916,11.2919C18.2647,10.8678,18.3025,10.4347,18.3025,10.0017C18.3025,9.56861,18.2647,9.13555,18.1916,8.71142L19.7361,7.46135C19.9743,7.26938,20.0615,6.95686,19.9554,6.6756L19.9342,6.61756C19.5074,5.49026,18.8755,4.45449,18.0549,3.53926L18.0124,3.49238C17.8096,3.26692,17.4819,3.1821,17.1848,3.28032L15.2677,3.92544C14.5603,3.3763,13.7704,2.94324,12.9168,2.63966L12.5466,0.742229C12.49,0.449802,12.2472,0.222111,11.9383,0.168536L11.8746,0.157375C10.6461,-0.0524583,9.35391,-0.0524583,8.1254,0.157375L8.06174,0.168536C7.75284,0.222111,7.50997,0.449802,7.45338,0.742229L7.08082,2.64859C6.2343,2.95217,5.44909,3.383,4.74641,3.92991L2.81522,3.28032C2.52047,3.1821,2.19036,3.26469,1.98757,3.49238L1.94513,3.53926C1.12455,4.45672,0.492609,5.49249,0.0658141,6.61756L0.0445921,6.6756C-0.0615171,6.95463,0.0257283,7.26715,0.263885,7.46135L1.82723,8.72482C1.75413,9.14448,1.71876,9.57308,1.71876,9.99944C1.71876,10.428,1.75413,10.8566,1.82723,11.2741L0.263885,12.5375C0.025729,12.7295,-0.0615164,13.042,0.0445929,13.3233L0.0658148,13.3813C0.49261,14.5064,1.12455,15.5444,1.94513,16.4596L1.98757,16.5065C2.19036,16.732,2.51812,16.8168,2.81522,16.7186L4.74641,16.069C5.44909,16.6159,6.2343,17.0489,7.08082,17.3503L7.45338,19.2567C7.50997,19.5491,7.75284,19.7768,8.06174,19.8303L8.1254,19.8415C8.74084,19.9464,9.37042,20,10,20C10.6296,20,11.2615,19.9464,11.8746,19.8415L11.9383,19.8303C12.2472,19.7768,12.49,19.5491,12.5466,19.2567L12.9168,17.3592C13.7704,17.0556,14.5603,16.6248,15.2677,16.0734L17.1848,16.7186C17.4795,16.8168,17.8096,16.7342,18.0124,16.5065L18.0549,16.4596C18.8755,15.5422,19.5074,14.5064,19.9342,13.3813L19.9554,13.3233C20.0615,13.0487,19.9743,12.7362,19.7361,12.542ZM16.5175,8.97483C16.5764,9.3119,16.6071,9.65791,16.6071,10.0039C16.6071,10.3499,16.5764,10.6959,16.5175,11.033L16.3618,11.9281L18.1233,13.3545C17.8568,13.9372,17.5196,14.4863,17.1188,14.9975L14.9305,14.2631L14.1901,14.839C13.6266,15.2765,12.9994,15.6203,12.3203,15.8614L11.4219,16.1806L10.9998,18.3459C10.3372,18.4173,9.66045,18.4173,8.9955,18.3459L8.57342,16.1761L7.6821,15.8524C7.01008,15.6114,6.38521,15.2676,5.82637,14.8323L5.08596,14.2541L2.88361,14.9953C2.48275,14.4841,2.14791,13.9327,1.8791,13.3523L3.65938,11.9125L3.50611,11.0196C3.44952,10.687,3.41887,10.3432,3.41887,10.0039C3.41887,9.66237,3.44716,9.32083,3.50611,8.98822L3.65938,8.09531L1.8791,6.6555C2.14556,6.07288,2.48275,5.52374,2.88361,5.01255L5.08596,5.75367L5.82637,5.17551C6.38521,4.74022,7.01008,4.39645,7.6821,4.15536L8.57578,3.83615L8.99786,1.66638C9.66045,1.59495,10.3372,1.59495,11.0021,1.66638L11.4242,3.83168L12.3226,4.1509C12.9994,4.39198,13.6289,4.73575,14.1925,5.17328L14.9329,5.7492L17.1211,5.01479C17.522,5.52598,17.8568,6.07734,18.1256,6.65773L16.3642,8.08416L16.5175,8.97483ZM10.0024,5.85189C7.7104,5.85189,5.85231,7.61092,5.85231,9.78068C5.85231,11.9504,7.7104,13.7095,10.0024,13.7095C12.2943,13.7095,14.1524,11.9504,14.1524,9.78068C14.1524,7.61092,12.2943,5.85189,10.0024,5.85189ZM11.8699,11.5486C11.37,12.0196,10.7074,12.2808,10.0024,12.2808C9.29732,12.2808,8.63473,12.0196,8.13483,11.5486C7.6373,11.0754,7.36142,10.4481,7.36142,9.78068C7.36142,9.11323,7.6373,8.48596,8.13483,8.01272C8.63473,7.53948,9.29732,7.28054,10.0024,7.28054C10.7074,7.28054,11.37,7.53948,11.8699,8.01272C12.3674,8.48596,12.6433,9.11323,12.6433,9.78068C12.6433,10.4481,12.3674,11.0754,11.8699,11.5486Z></path></svg></div><div class="item tools"><svg viewBox="0 0 20 20"><path d=M6.50977,1L13.4902,1C13.6406,1,13.7695,1.1104910000000001,13.7969,1.2631700000000001L14.0273,2.52277C14.1387,3.13147,14.6543,3.57143,15.2559,3.57143L17.5,3.57143C18.8809,3.57143,20,4.72254,20,6.14286L20,16.4286C20,17.8489,18.8809,19,17.5,19L2.5,19C1.11914,19,0,17.8489,0,16.4286L0,6.14286C0,4.72254,1.11914,3.57143,2.5,3.57143L4.74414,3.57143C5.3457,3.57143,5.86133,3.13147,5.97266,2.52277L6.20312,1.2631700000000001C6.23047,1.1104910000000001,6.35937,1,6.50977,1ZM15.2559,4.857139999999999C14.0547,4.857139999999999,13.0215,3.97522,12.7988,2.75982L12.7129,2.28571L7.28711,2.28571L7.20117,2.75982C6.98047,3.97522,5.94727,4.857139999999999,4.74414,4.857139999999999L2.5,4.857139999999999C1.81055,4.857139999999999,1.25,5.43371,1.25,6.14286L1.25,16.4286C1.25,17.1377,1.81055,17.7143,2.5,17.7143L17.5,17.7143C18.1895,17.7143,18.75,17.1377,18.75,16.4286L18.75,6.14286C18.75,5.43371,18.1895,4.857139999999999,17.5,4.857139999999999L15.2559,4.857139999999999ZM4.375,6.78571L3.125,6.78571C2.7793,6.78571,2.5,6.49844,2.5,6.14286C2.5,5.78728,2.7793,5.5,3.125,5.5L4.375,5.5C4.7207,5.5,5,5.78728,5,6.14286C5,6.49844,4.7207,6.78571,4.375,6.78571ZM10,6.14286C7.06641,6.14286,4.6875,8.58973,4.6875,11.6071C4.6875,14.6246,7.06641,17.0714,10,17.0714C12.9336,17.0714,15.3125,14.6246,15.3125,11.6071C15.3125,8.58973,12.9336,6.14286,10,6.14286ZM10,7.42857C11.0859,7.42857,12.1055,7.8625,12.873,8.65201C13.6406,9.44152,14.0625,10.49018,14.0625,11.6071C14.0625,12.7241,13.6406,13.7728,12.873,14.5623C12.1055,15.3518,11.0859,15.7857,10,15.7857C8.91406,15.7857,7.89453,15.3518,7.12695,14.5623C6.35937,13.7728,5.9375,12.7241,5.9375,11.6071C5.9375,10.49018,6.35938,9.44152,7.12695,8.65201C7.89453,7.8625,8.91406,7.42857,10,7.42857ZM10,9.67857C8.96484,9.67857,8.125,10.54241,8.125,11.6071C8.125,12.6719,8.96484,13.5357,10,13.5357C11.0352,13.5357,11.875,12.6719,11.875,11.6071C11.875,10.54241,11.0352,9.67857,10,9.67857ZM10,10.96429C10.3438,10.96429,10.625,11.2536,10.625,11.6071C10.625,11.9607,10.3438,12.25,10,12.25C9.65625,12.25,9.375,11.9607,9.375,11.6071C9.375,11.2536,9.65625,10.96429,10,10.96429Z></path></svg></div><div class="item tools">'),ID=re("<option>"),LD=re('<svg viewBox="0 0 20 20"><path d=M1.08108,0L0,1.079L4.18919,5.27938L2.54826,6.91715L6.9112,6.91715L6.9112,2.56262L5.28957,4.18112L1.08108,0ZM15.8108,5.27938L20,1.079L18.9189,0L14.7104,4.18112L13.0888,2.56262L13.0888,6.91715L17.4517,6.91715L15.8108,5.27938ZM4.16988,14.7014L0.07722,18.8054L1.1583,20L5.27027,15.7996L6.9112,17.4374L6.9112,13.0829L2.54826,13.0829L4.16988,14.7014ZM17.4517,13.0829L13.0888,13.0829L13.0888,17.4374L14.7297,15.7996L18.8417,20L19.9228,18.8054L15.8301,14.7013L17.4517,13.0829Z>'),PD=re('<svg viewBox="0 0 20 20"><path d=M2.93444,1.76899L7.57544,6.40999L6.38918,7.59626L1.76899,2.93444L0,4.70343L0,0L4.70343,0L2.93444,1.76899ZM6.40999,12.4037L1.76899,17.0447L0,15.2758L0,19.9792L4.70343,19.9792L2.93444,18.2102L7.57544,13.5692L6.40999,12.4037ZM15.2758,0L17.0447,1.76899L12.4037,6.40999L13.59,7.59626L18.231,2.95526L20,4.72425L20,0L15.2758,0ZM13.5692,12.4037L12.3829,13.59L17.0239,18.231L15.2549,20L19.9792,20L19.9792,15.2758L18.2102,17.0447L13.5692,12.4037Z>');const AD=e=>{const[r,t]=pe(!1),n=()=>{t(i=>!i)};return Ia(()=>{document.addEventListener("fullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("msfullscreenchange",n)}),Gn(()=>{document.removeEventListener("fullscreenchange",n),document.removeEventListener("mozfullscreenchange",n),document.removeEventListener("webkitfullscreenchange",n),document.removeEventListener("msfullscreenchange",n)}),(()=>{var i=TD(),o=i.firstChild,s=o.nextSibling,u=s.firstChild,d=u.nextSibling,h=s.nextSibling,f=h.firstChild,v=f.nextSibling,m=h.nextSibling,C=m.nextSibling,b=C.nextSibling,_=b.nextSibling,k=_.nextSibling,S=k.nextSibling;return ra(T=>{},i),N(i,oe(tt,{get when(){return e.ticker},get children(){var T=ED(),I=T.firstChild;return Oi(T,"click",e.onTickerClick),N(T,oe(tt,{get when(){return e.ticker.logo},get children(){var P=MD();return P.addEventListener("error",L=>L.currentTarget.style.display="none"),$e(()=>Ge(P,"src",e.ticker.logo)),P}}),I),N(I,()=>e.ticker.ticker??e.ticker.shortName??e.ticker.name),T}}),o),o.addEventListener("change",T=>{const I=e.periods.find(P=>P.text===T.target.value);I&&e.onPeriodChange(I)}),N(o,()=>e.periods.map(T=>(()=>{var I=ID();return N(I,()=>T.text),$e(()=>I.selected=T.text===e.period.text),$e(()=>I.value=T.text),I})())),Oi(s,"click",e.onIndicatorClick),N(d,()=>A("indicator",e.locale)),N(i,oe(SD,{get locale(){return e.locale},get currentCandleType(){return e.currentCandleType},get onCandleTypeChange(){return e.onCandleTypeChange}}),h),Oi(h,"click",e.onReplayClick),N(v,()=>A("replay",e.locale)),m.style.setProperty("flex","1"),N(i,oe(bD,{get onMultiChartClick(){return e.onMultiChartClick},get multiChart(){return e.multiChart}}),C),C.$$click=()=>{FA(e.chart)},Oi(b,"click",e.onTimezoneClick),Oi(_,"click",e.onSettingClick),Oi(k,"click",e.onScreenshotClick),S.$$click=()=>{r()||e.rootContainer},N(S,(()=>{var T=_e(()=>!!r());return()=>T()?LD():PD()})()),i})()};_r(["click"]);var DD=typeof Al=="object"&&Al&&Al.Object===Object&&Al,FD=DD,RD=FD,OD=typeof self=="object"&&self&&self.Object===Object&&self,ND=RD||OD||Function("return this")(),lv=ND,zD=lv,BD=zD.Symbol,sv=BD,$2=sv,J5=Object.prototype,VD=J5.hasOwnProperty,$D=J5.toString,i1=$2?$2.toStringTag:void 0;function WD(e){var r=VD.call(e,i1),t=e[i1];try{e[i1]=void 0;var n=!0}catch{}var i=$D.call(e);return n&&(r?e[i1]=t:delete e[i1]),i}var UD=WD,HD=Object.prototype,YD=HD.toString;function XD(e){return YD.call(e)}var jD=XD,W2=sv,GD=UD,KD=jD,QD="[object Null]",ZD="[object Undefined]",U2=W2?W2.toStringTag:void 0;function qD(e){return e==null?e===void 0?ZD:QD:U2&&U2 in Object(e)?GD(e):KD(e)}var ey=qD;function JD(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var cv=JD,eF=ey,tF=cv,rF="[object AsyncFunction]",nF="[object Function]",iF="[object GeneratorFunction]",aF="[object Proxy]";function oF(e){if(!tF(e))return!1;var r=eF(e);return r==nF||r==iF||r==rF||r==aF}var lF=oF,sF=lv,cF=sF["__core-js_shared__"],uF=cF,rg=uF,H2=function(){var e=/[^.]+$/.exec(rg&&rg.keys&&rg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function dF(e){return!!H2&&H2 in e}var hF=dF,pF=Function.prototype,fF=pF.toString;function gF(e){if(e!=null){try{return fF.call(e)}catch{}try{return e+""}catch{}}return""}var vF=gF,mF=lF,yF=hF,xF=cv,CF=vF,bF=/[\\^$.*+?()[\]{}|]/g,wF=/^\[object .+?Constructor\]$/,_F=Function.prototype,kF=Object.prototype,SF=_F.toString,MF=kF.hasOwnProperty,EF=RegExp("^"+SF.call(MF).replace(bF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TF(e){if(!xF(e)||yF(e))return!1;var r=mF(e)?EF:wF;return r.test(CF(e))}var IF=TF;function LF(e,r){return e==null?void 0:e[r]}var PF=LF,AF=IF,DF=PF;function FF(e,r){var t=DF(e,r);return AF(t)?t:void 0}var uv=FF,RF=uv,OF=function(){try{var e=RF(Object,"defineProperty");return e({},"",{}),e}catch{}}(),NF=OF,Y2=NF;function zF(e,r,t){r=="__proto__"&&Y2?Y2(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var BF=zF;function VF(e,r){return e===r||e!==e&&r!==r}var ty=VF,$F=BF,WF=ty,UF=Object.prototype,HF=UF.hasOwnProperty;function YF(e,r,t){var n=e[r];(!(HF.call(e,r)&&WF(n,t))||t===void 0&&!(r in e))&&$F(e,r,t)}var XF=YF,jF=Array.isArray,dv=jF;function GF(e){return e!=null&&typeof e=="object"}var KF=GF,QF=ey,ZF=KF,qF="[object Symbol]";function JF(e){return typeof e=="symbol"||ZF(e)&&QF(e)==qF}var hv=JF,eR=dv,tR=hv,rR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nR=/^\w*$/;function iR(e,r){if(eR(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||tR(e)?!0:nR.test(e)||!rR.test(e)||r!=null&&e in Object(r)}var aR=iR,oR=uv,lR=oR(Object,"create"),Rp=lR,X2=Rp;function sR(){this.__data__=X2?X2(null):{},this.size=0}var cR=sR;function uR(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var dR=uR,hR=Rp,pR="__lodash_hash_undefined__",fR=Object.prototype,gR=fR.hasOwnProperty;function vR(e){var r=this.__data__;if(hR){var t=r[e];return t===pR?void 0:t}return gR.call(r,e)?r[e]:void 0}var mR=vR,yR=Rp,xR=Object.prototype,CR=xR.hasOwnProperty;function bR(e){var r=this.__data__;return yR?r[e]!==void 0:CR.call(r,e)}var wR=bR,_R=Rp,kR="__lodash_hash_undefined__";function SR(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=_R&&r===void 0?kR:r,this}var MR=SR,ER=cR,TR=dR,IR=mR,LR=wR,PR=MR;function N0(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}N0.prototype.clear=ER;N0.prototype.delete=TR;N0.prototype.get=IR;N0.prototype.has=LR;N0.prototype.set=PR;var AR=N0;function DR(){this.__data__=[],this.size=0}var FR=DR,RR=ty;function OR(e,r){for(var t=e.length;t--;)if(RR(e[t][0],r))return t;return-1}var Op=OR,NR=Op,zR=Array.prototype,BR=zR.splice;function VR(e){var r=this.__data__,t=NR(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():BR.call(r,t,1),--this.size,!0}var $R=VR,WR=Op;function UR(e){var r=this.__data__,t=WR(r,e);return t<0?void 0:r[t][1]}var HR=UR,YR=Op;function XR(e){return YR(this.__data__,e)>-1}var jR=XR,GR=Op;function KR(e,r){var t=this.__data__,n=GR(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var QR=KR,ZR=FR,qR=$R,JR=HR,eO=jR,tO=QR;function z0(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}z0.prototype.clear=ZR;z0.prototype.delete=qR;z0.prototype.get=JR;z0.prototype.has=eO;z0.prototype.set=tO;var rO=z0,nO=uv,iO=lv,aO=nO(iO,"Map"),oO=aO,j2=AR,lO=rO,sO=oO;function cO(){this.size=0,this.__data__={hash:new j2,map:new(sO||lO),string:new j2}}var uO=cO;function dO(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var hO=dO,pO=hO;function fO(e,r){var t=e.__data__;return pO(r)?t[typeof r=="string"?"string":"hash"]:t.map}var Np=fO,gO=Np;function vO(e){var r=gO(this,e).delete(e);return this.size-=r?1:0,r}var mO=vO,yO=Np;function xO(e){return yO(this,e).get(e)}var CO=xO,bO=Np;function wO(e){return bO(this,e).has(e)}var _O=wO,kO=Np;function SO(e,r){var t=kO(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var MO=SO,EO=uO,TO=mO,IO=CO,LO=_O,PO=MO;function B0(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}B0.prototype.clear=EO;B0.prototype.delete=TO;B0.prototype.get=IO;B0.prototype.has=LO;B0.prototype.set=PO;var AO=B0,ry=AO,DO="Expected a function";function pv(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(DO);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return t.cache=o.set(i,s)||o,s};return t.cache=new(pv.Cache||ry),t}pv.Cache=ry;var FO=pv,RO=FO,OO=500;function NO(e){var r=RO(e,function(n){return t.size===OO&&t.clear(),n}),t=r.cache;return r}var zO=NO,BO=zO,VO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$O=/\\(\\)?/g,WO=BO(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(VO,function(t,n,i,o){r.push(i?o.replace($O,"$1"):n||t)}),r}),UO=WO;function HO(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var YO=HO,G2=sv,XO=YO,jO=dv,GO=hv,K2=G2?G2.prototype:void 0,Q2=K2?K2.toString:void 0;function ny(e){if(typeof e=="string")return e;if(jO(e))return XO(e,ny)+"";if(GO(e))return Q2?Q2.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var KO=ny,QO=KO;function ZO(e){return e==null?"":QO(e)}var qO=ZO,JO=dv,eN=aR,tN=UO,rN=qO;function nN(e,r){return JO(e)?e:eN(e,r)?[e]:tN(rN(e))}var iN=nN,aN=9007199254740991,oN=/^(?:0|[1-9]\d*)$/;function lN(e,r){var t=typeof e;return r=r??aN,!!r&&(t=="number"||t!="symbol"&&oN.test(e))&&e>-1&&e%1==0&&e<r}var sN=lN,cN=hv;function uN(e){if(typeof e=="string"||cN(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var dN=uN,hN=XF,pN=iN,fN=sN,Z2=cv,gN=dN;function vN(e,r,t,n){if(!Z2(e))return e;r=pN(r,e);for(var i=-1,o=r.length,s=o-1,u=e;u!=null&&++i<o;){var d=gN(r[i]),h=t;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=s){var f=u[d];h=n?n(f,d,u):void 0,h===void 0&&(h=Z2(f)?f:fN(r[i+1])?[]:{})}hN(u,d,h),u=u[d]}return e}var mN=vN,yN=mN;function xN(e,r,t){return e==null?e:yN(e,r,t)}var CN=xN;const Mg=$_(CN),bN=e=>{const{fill_stroke:r,font_size:t,font_weight:n,none_always_followCross:i,solid_dashed:o,size:s}=As(e);return[{key:"indicator.lastValueMark.show",text:A("indicator.lastValueMark.show",e),component:"switch"},{key:"indicator.lastValueMark.text.show",text:A("indicator.lastValueMark.text.show",e),component:"switch"},{key:"indicator.lastValueMark.text.style",text:A("indicator.lastValueMark.text.style",e),component:"select",dataSource:r},{key:"indicator.lastValueMark.text.size",text:A("indicator.lastValueMark.text.size",e),component:"select",dataSource:t},{key:"indicator.lastValueMark.text.weight",text:A("indicator.lastValueMark.text.weight",e),component:"select",dataSource:n},{key:"indicator.lastValueMark.text.color",text:A("indicator.lastValueMark.text.color",e),component:"color"},{key:"indicator.lastValueMark.text.borderStyle",text:A("indicator.lastValueMark.text.borderStyle",e),component:"select",dataSource:o},{key:"indicator.lastValueMark.text.borderColor",text:A("indicator.lastValueMark.text.borderColor",e),component:"color"},{key:"indicator.lastValueMark.text.borderSize",text:A("indicator.lastValueMark.text.borderSize",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.borderDashedValue",text:A("indicator.lastValueMark.text.borderDashedValue",e),component:"select",dataSource:o},{key:"indicator.lastValueMark.text.paddingLeft",text:A("indicator.lastValueMark.text.paddingLeft",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingTop",text:A("indicator.lastValueMark.text.paddingTop",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingRight",text:A("indicator.lastValueMark.text.paddingRight",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.paddingBottom",text:A("indicator.lastValueMark.text.paddingBottom",e),component:"select",dataSource:s},{key:"indicator.lastValueMark.text.borderRadius",text:A("indicator.lastValueMark.text.borderRadius",e),component:"select",dataSource:s},{key:"indicator.tooltip.showRule",text:A("indicator.tooltip.showRule",e),component:"select",dataSource:i},{key:"indicator.tooltip.showType",text:A("indicator.tooltip.showType",e),component:"select",dataSource:[{key:"standard",text:A("Standard",e)},{key:"rect",text:A("Rect",e)}]},{key:"indicator.tooltip.showName",text:A("indicator.tooltip.showName",e),component:"switch"},{key:"indicator.tooltip.showParams",text:A("indicator.tooltip.showParams",e),component:"switch"},{key:"indicator.tooltip.text.size",text:A("indicator.tooltip.text.size",e),component:"select",dataSource:t},{key:"indicator.tooltip.text.weight",text:A("indicator.tooltip.text.weight",e),component:"select",dataSource:n},{key:"indicator.tooltip.text.color",text:A("indicator.tooltip.text.color",e),component:"color"},{key:"indicator.tooltip.text.marginLeft",text:A("indicator.tooltip.text.marginLeft",e),component:"select",dataSource:s},{key:"indicator.tooltip.text.marginTop",text:A("indicator.tooltip.text.marginTop",e),component:"select",dataSource:s},{key:"indicator.tooltip.text.marginRight",text:A("indicator.tooltip.text.marginRight",e),component:"select",dataSource:s},{key:"indicator.tooltip.text.marginBottom",text:A("indicator.tooltip.text.marginBottom",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetTop",text:A("indicator.tooltip.offsetTop",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetLeft",text:A("indicator.tooltip.offsetLeft",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetRight",text:A("indicator.tooltip.offsetRight",e),component:"select",dataSource:s},{key:"indicator.tooltip.offsetBottom",text:A("indicator.tooltip.offsetBottom",e),component:"select",dataSource:s}]},wN=e=>{const{font_size:r,size:t,font_weight:n}=As(e);return[{key:"xAxis.show",text:A("xAxis.show",e),component:"switch"},{key:"xAxis.axisLine.show",text:A("xAxis.axisLine.show",e),component:"switch"},{key:"xAxis.axisLine.color",text:A("xAxis.axisLine.color",e),component:"color"},{key:"xAxis.axisLine.size",text:A("xAxis.axisLine.size",e),component:"select",dataSource:t},{key:"xAxis.tickText.show",text:A("xAxis.tickText.show",e),component:"switch"},{key:"xAxis.tickText.size",text:A("xAxis.tickText.size",e),component:"select",dataSource:r},{key:"xAxis.tickText.weight",text:A("xAxis.tickText.weight",e),component:"select",dataSource:n},{key:"xAxis.tickText.color",text:A("xAxis.tickText.color",e),component:"color"},{key:"xAxis.tickLine.show",text:A("xAxis.tickLine.show",e),component:"switch"},{key:"xAxis.tickLine.size",text:A("xAxis.tickLine.size",e),component:"select",dataSource:t},{key:"xAxis.tickLine.length",text:A("xAxis.tickLine.length",e),component:"select",dataSource:t},{key:"xAxis.tickLine.color",text:A("xAxis.tickLine.color",e),component:"color"}]},_N=e=>{const{size:r,font_weight:t,font_size:n}=As(e);return[{key:"yAxis.show",text:A("yAxis.show",e),component:"switch"},{key:"yAxis.axisLine.show",text:A("yAxis.axisLine.show",e),component:"switch"},{key:"yAxis.axisLine.size",text:A("yAxis.axisLine.size",e),component:"select",dataSource:r},{key:"yAxis.axisLine.color",text:A("yAxis.axisLine.color",e),component:"color"},{key:"yAxis.tickText.show",text:A("yAxis.tickText.show",e),component:"switch"},{key:"yAxis.tickText.color",text:A("yAxis.tickText.color",e),component:"color"},{key:"yAxis.tickText.size",text:A("yAxis.tickText.size",e),component:"select",dataSource:n},{key:"yAxis.tickText.weight",text:A("yAxis.tickText.weight",e),component:"select",dataSource:t},{key:"yAxis.tickText.marginStart",text:A("yAxis.tickText.marginStart",e),component:"select",dataSource:r},{key:"yAxis.tickText.marginEnd",text:A("yAxis.tickText.marginEnd",e),component:"select",dataSource:r},{key:"yAxis.tickLine.show",text:A("yAxis.tickLine.show",e),component:"switch"},{key:"yAxis.tickLine.color",text:A("yAxis.tickLine.color",e),component:"color"},{key:"yAxis.tickLine.size",text:A("yAxis.tickLine.size",e),component:"select",dataSource:r},{key:"yAxis.tickLine.length",text:A("yAxis.tickLine.length",e),component:"select",dataSource:r}]},kN=e=>{const{size:r}=As(e);return[{key:"grid.show",text:A("grid_show",e),component:"switch"},{key:"grid.horizontal.show",text:A("grid_horizontal_show",e),component:"switch"},{key:"grid.horizontal.size",text:A("grid_horizontal_size",e),component:"select",dataSource:r},{key:"grid.horizontal.color",text:A("grid_horizontal_color",e),component:"color"},{key:"grid.vertical.show",text:A("grid_vertical_show",e),component:"switch"},{key:"grid.vertical.size",text:A("grid_vertical_size",e),component:"select",dataSource:r},{key:"grid.vertical.color",text:A("grid_vertical_color",e),component:"color"}]},SN=e=>{const{solid_dashed:r,fill_stroke:t,size:n,font_size:i,font_weight:o}=As(e);return[{key:"crosshair.show",text:A("crosshair.show",e),component:"switch"},{key:"crosshair.horizontal.show",text:A("crosshair.horizontal.show",e),component:"switch"},{key:"crosshair.horizontal.line.show",text:A("crosshair.horizontal.line.show",e),component:"switch"},{key:"crosshair.horizontal.line.style",text:A("crosshair.horizontal.line.style",e),component:"select",dataSource:r},{key:"crosshair.horizontal.line.size",text:A("crosshair.horizontal.line.size",e),component:"select",dataSource:n},{key:"crosshair.horizontal.line.color",text:A("crosshair.horizontal.line.color",e),component:"color"},{key:"crosshair.horizontal.text.show",text:A("crosshair.horizontal.text.show",e),component:"switch"},{key:"crosshair.horizontal.text.style",text:A("crosshair.horizontal.text.style",e),component:"select",dataSource:t},{key:"crosshair.horizontal.text.size",text:A("crosshair.horizontal.text.size",e),component:"select",dataSource:i},{key:"crosshair.horizontal.text.weight",text:A("crosshair.horizontal.text.weight",e),component:"select",dataSource:o},{key:"crosshair.horizontal.text.color",text:A("crosshair.horizontal.text.color",e),component:"color"},{key:"crosshair.horizontal.text.backgroundColor",text:A("crosshair.horizontal.text.backgroundColor",e),component:"color"},{key:"crosshair.vertical.show",text:A("crosshair.vertical.show",e),component:"switch"},{key:"crosshair.vertical.line.show",text:A("crosshair.vertical.line.show",e),component:"switch"},{key:"crosshair.vertical.line.style",text:A("crosshair.vertical.line.style",e),component:"select",dataSource:r},{key:"crosshair.vertical.line.size",text:A("crosshair.vertical.line.size",e),component:"select",dataSource:n},{key:"crosshair.vertical.line.color",text:A("crosshair.vertical.line.color",e),component:"color"},{key:"crosshair.vertical.text.show",text:A("crosshair.vertical.text.show",e),component:"switch"},{key:"crosshair.vertical.text.style",text:A("crosshair.vertical.text.style",e),component:"select",dataSource:t},{key:"crosshair.vertical.text.size",text:A("Vertical text size",e),component:"select",dataSource:i},{key:"crosshair.vertical.text.weight",text:A("crosshair.vertical.text.weight",e),component:"select",dataSource:o},{key:"crosshair.vertical.text.color",text:A("crosshair.vertical.text.color",e),component:"color"},{key:"crosshair.vertical.text.backgroundColor",text:A("crosshair.vertical.text.backgroundColor",e),component:"color"}]},iy=e=>{const{solid_dashed:r,fill_stroke:t,size:n,font_size:i,font_weight:o,font_family:s}=As(e);return[{key:"overlay.point.color",text:A("overlay.point.color",e),component:"color"},{key:"overlay.point.borderColor",text:A("overlay.point.borderColor",e),component:"color"},{key:"overlay.point.borderSize",text:A("overlay.point.borderSize",e),component:"select",dataSource:n},{key:"overlay.point.activeColor",text:A("overlay.point.activeColor",e),component:"color"},{key:"overlay.point.activeBorderColor",text:A("overlay.point.activeBorderColor",e),component:"color"},{key:"overlay.point.activeBorderSize",text:A("overlay.point.activeBorderSize",e),component:"select",dataSource:n},{key:"overlay.point.activeRadius",text:A("overlay.point.activeRadius",e),component:"select",dataSource:n},{key:"overlay.line.style",text:A("overlay.line.style",e),component:"select",dataSource:r},{key:"overlay.line.smooth",text:A("overlay.line.smooth",e),component:"switch"},{key:"overlay.line.size",text:A("overlay.line.size",e),component:"select",dataSource:n},{key:"overlay.line.color",text:A("overlay.line.color",e),component:"color"},{key:"overlay.rect.style",text:A("overlay.rect.style",e),component:"select",dataSource:t},{key:"overlay.rect.color",text:A("overlay.rect.color",e),component:"color"},{key:"overlay.rect.borderColor",text:A("overlay.rect.borderColor",e),component:"color"},{key:"overlay.rect.borderSize",text:A("overlay.rect.borderSize",e),component:"select",dataSource:n},{key:"overlay.rect.borderRadius",text:A("overlay.rect.borderRadius",e),component:"select",dataSource:n},{key:"overlay.rect.borderStyle",text:A("overlay.rect.borderStyle",e),component:"select",dataSource:r},{key:"overlay.polygon.style",text:A("Polygon Style",e),component:"select",dataSource:t},{key:"overlay.polygon.color",text:A("overlay.polygon.color",e),component:"color"},{key:"overlay.polygon.borderColor",text:A("overlay.polygon.borderColor",e),component:"color"},{key:"overlay.polygon.borderStyle",text:A("overlay.polygon.borderStyle",e),component:"select",dataSource:r},{key:"overlay.polygon.borderSize",text:A("overlay.polygon.borderSize",e),component:"select",dataSource:n},{key:"overlay.circle.style",text:A("overlay.circle.style",e),component:"select",dataSource:t},{key:"overlay.circle.color",text:A("overlay.circle.color",e),component:"color"},{key:"overlay.circle.borderStyle",text:A("overlay.circle.borderStyle",e),component:"select",dataSource:r},{key:"overlay.circle.borderSize",text:A("overlay.circle.borderSize",e),component:"select",dataSource:n},{key:"overlay.circle.borderColor",text:A("overlay.circle.borderColor",e),component:"color"},{key:"overlay.arc.style",text:A("overlay.arc.style",e),component:"select",dataSource:r},{key:"overlay.arc.size",text:A("overlay.arc.size",e),component:"select",dataSource:n},{key:"overlay.arc.color",text:A("overlay.arc.color",e),component:"color"},{key:"overlay.text.size",text:A("overlay.text.size",e),component:"select",dataSource:i},{key:"overlay.text.weight",text:A("overlay.text.weight",e),component:"select",dataSource:o},{key:"overlay.text.color",text:A("overlay.text.color",e),component:"color"},{key:"overlay.text.style",text:A("overlay.text.style",e),component:"select",dataSource:t},{key:"overlay.text.size",text:A("overlay.text.size",e),component:"select",dataSource:i},{key:"overlay.text.family",text:A("overlay.text.family",e),component:"select",dataSource:s},{key:"overlay.text.weight",text:A("overlay.text.weight",e),component:"select",dataSource:o},{key:"overlay.text.color",text:A("overlay.text.color",e),component:"color"},{key:"overlay.text.backgroundColor",text:A("overlay.text.backgroundColor",e),component:"color"},{key:"overlay.text.borderColor",text:A("overlay.text.borderColor",e),component:"color"},{key:"overlay.text.borderSize",text:A("overlay.text.borderSize",e),component:"select",dataSource:n},{key:"overlay.text.borderStyle",text:A("overlay.text.borderStyle",e),component:"select",dataSource:r},{key:"overlay.text.borderDashedValue",text:A("overlay.text.borderDashedValue",e),component:"select",dataSource:r},{key:"overlay.text.borderRadius",text:A("overlay.text.borderRadius",e),component:"select",dataSource:n},{key:"overlay.text.paddingLeft",text:A("overlay.text.paddingLeft",e),component:"select",dataSource:n},{key:"overlay.text.paddingRight",text:A("overlay.text.paddingRight",e),component:"select",dataSource:n},{key:"overlay.text.paddingTop",text:A("overlay.text.paddingTop",e),component:"select",dataSource:n},{key:"overlay.text.paddingBottom",text:A("overlay.text.paddingBottom",e),component:"select",dataSource:n}]},MN=e=>{const r=iy(e),t={arc:[],circle:[],line:[],point:[],polygon:[],rect:[],text:[]};return r.forEach(n=>{const i=n.key.split(".")[1];t[i]||(t[i]=[]),t[i].push(n)}),t};function q2(e){const{size:r}=As(e);return[...q5(e),...bN(e),...wN(e),..._N(e),...kN(e),...SN(e),...iy(e),{key:"separator.size",text:A("separator.size",e),component:"select",dataSource:r},{key:"separator.color",text:A("separator.color",e),component:"color"},{key:"separator.fill",text:A("separator.fill",e),component:"switch"},{key:"separator.activeBackgroundColor",text:A("separator.activeBackgroundColor",e),component:"color"}]}var EN=re("<div class=chartspire-ui-setting-modal-content><div class=sidebar></div><div class=content>"),TN=re("<button>"),IN=re("<div class=component><span>");const LN=e=>{const[r,t]=pe(e.currentStyles),[n,i]=pe(q2(e.locale)),[o,s]=pe("candle");pt(()=>{i(q2(e.locale))});const u=(f,v)=>{const m={};Mg(m,f.key,v);const C=wn.clone(r());Mg(C,f.key,v),t(C),i(n().map(b=>({...b}))),e.onChange(m)},d=()=>{e.onRestoreDefault(n()),e.onClose()},h=[{text:"Candle",key:"candle"},{text:"Indicator",key:"indicator"},{text:"Grid",key:"grid"},{text:"X-axis",key:"xAxis"},{text:"Y-axis",key:"yAxis"},{text:"Separator",key:"separator"},{text:"Crosshair",key:"crosshair"},{text:"Overlay",key:"overlay"}];return oe(Bl,{get title(){return A("setting",e.locale)},width:700,contentHeight:void 0,padding:"0 10px",get buttons(){return[{children:A("restore_default",e.locale),onClick:()=>{d()}}]},get onClose(){return e.onClose},get children(){var f=EN(),v=f.firstChild,m=v.nextSibling;return N(v,()=>h.map(C=>(()=>{var b=TN();return b.$$click=()=>s(C.key),N(b,()=>C.text),$e(()=>er(b,`${o()===C.key?"selected":""}`)),b})())),N(m,oe(li,{get each(){return n().filter(C=>C.key.includes(o()))},children:C=>{let b;const _=wn.formatValue(r(),C.key);switch(C.component){case"select":{b=oe(S1,{style:{width:"120px"},get value(){return A(_,e.locale)},get dataSource(){return C.dataSource},onSelected:k=>{const S=k.key;u(C,S)}});break}case"switch":{const k=!!_;b=oe(mM,{open:k,onChange:()=>{u(C,!k)}});break}case"color":{b=oe(Qg,{style:{width:"120px"},value:_,onChange:k=>{u(C,k)}});break}}return(()=>{var k=IN(),S=k.firstChild;return N(S,()=>C.text),N(k,b,null),k})()}})),f}})};_r(["click"]);var PN=re("<div class=chartspire-ui-interval-container>"),AN=re("<span>");const DN=e=>{const[r,t]=pe(Ue.ONE_DAY),n=[Ue.ONE_DAY,Ue.FIVE_DAY,Ue.ONE_MONTH,Ue.THREE_MONTH,Ue.SIX_MONTH,Ue.ONE_YEAR,Ue.FIVE_YEAR],i=()=>{var o;const s=(o=e.widget)==null?void 0:o.getSize();let u={[Ue.ONE_DAY]:1440,[Ue.FIVE_DAY]:1440,[Ue.ONE_MONTH]:1440,[Ue.THREE_MONTH]:1440,[Ue.SIX_MONTH]:2016,[Ue.ONE_YEAR]:365,[Ue.FIVE_YEAR]:260}[r()];e.ticker.type===kt.STOCKS&&(u={[Ue.ONE_DAY]:390,[Ue.FIVE_DAY]:390,[Ue.ONE_MONTH]:273,[Ue.THREE_MONTH]:390,[Ue.SIX_MONTH]:390,[Ue.ONE_YEAR]:252,[Ue.FIVE_YEAR]:252}[r()]);const d=Math.min(Math.max(((s==null?void 0:s.width)??0)/u,1),50);e.widget.setBarSpace(d);let h={multiplier:u,timespan:dn.DAY,text:Ue.ONE_DAY};r()===Ue.ONE_DAY?h={multiplier:1,timespan:dn.MINUTE,text:Ue.ONE_MIN}:r()===Ue.FIVE_DAY?h={multiplier:5,timespan:dn.MINUTE,text:Ue.FIVE_MIN}:r()===Ue.ONE_MONTH?h={multiplier:1,timespan:dn.MINUTE,text:Ue.THIRTY_MIN}:r()===Ue.THREE_MONTH?h={multiplier:1,timespan:dn.HOUR,text:Ue.ONE_HOUR}:r()===Ue.SIX_MONTH?h={multiplier:2,timespan:dn.HOUR,text:Ue.TWO_HOUR}:r()===Ue.ONE_YEAR?h={multiplier:1,timespan:dn.DAY,text:Ue.ONE_DAY}:r()===Ue.FIVE_YEAR&&(h={multiplier:1,timespan:dn.WEEK,text:Ue.ONE_WEEK}),e.widget.setOffsetRightDistance(0),e.setInterval(h)};return(()=>{var o=PN();return N(o,()=>n.map(s=>(()=>{var u=AN();return u.$$click=()=>{console.log("interval clicked",s),t(s),i()},N(u,s),$e(()=>er(u,`interval-buttons ${s===r()?"selected":""}`)),u})())),o})()};_r(["click"]);var FN=re("<div class=chartspire-ui-layout-selector><select></select><span class=button>+</span><span class=button>-"),RN=re("<option>"),ON=re('<div class=edit-layout><span class=edit-button><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z">'),NN=re('<div class=edit-layout-form><span class=confirm-button><svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></svg></span><span class=cancel-button>X');const zN=e=>{const[r,t]=pe([]),[n,i]=pe(null),[o,s]=pe("");pt(()=>{e.allLayouts&&t([...new Set(e.allLayouts)])});const u=m=>{e.onLayoutChange(m)},d=()=>{if(r().length>=e.layoutLimit+1){alert("You can only have a maximum of "+e.layoutLimit.toString()+" layouts.");return}const m=`Layout${r().length+1}`;if(r().includes(m)){alert("A layout with this name already exists.");return}t([...r(),m]),e.setAllLayouts([...r(),m]),u(m)},h=()=>{if(e.layout===St.getInstance(e.widget).getDefaultLayout()||!window.confirm("Are you sure you want to delete this layout?"))return;St.getInstance(e.widget).removeStorage();const m=r().filter(C=>C!==e.layout);t(m),e.setAllLayouts(m),m.length>0?u(m[0]):u(""),i(null)},f=()=>{if(e.layout===St.getInstance(e.widget).getDefaultLayout())return;const m=r().find(C=>C===e.layout);m&&(i(m),s(m))},v=async()=>{if(e.layout===St.getInstance(e.widget).getDefaultLayout())return;const m=r().map(C=>C===n()?o():C);t(m),i(null),await St.getInstance(e.widget).updateLayoutName(o()),e.setAllLayouts(m),u(o())};return(()=>{var m=FN(),C=m.firstChild,b=C.nextSibling,_=b.nextSibling;return C.addEventListener("change",k=>{e.layout===St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(e.widget).removeAllOverlays();const S=k.target.value;u(S)}),N(C,oe(li,{get each(){return r()},children:k=>(()=>{var S=RN();return S.value=k,N(S,k),$e(()=>S.selected=k===e.layout),S})()})),b.$$click=d,_.$$click=h,N(m,(()=>{var k=_e(()=>!!e.layout);return()=>k()&&(()=>{var S=ON(),T=S.firstChild;return T.$$click=f,N(S,(()=>{var I=_e(()=>n()===e.layout);return()=>I()&&(()=>{var P=NN(),L=P.firstChild,z=L.nextSibling;return N(P,oe(Dl,{class:"layout-input",get value(){return o()},onChange:R=>{s(R)}}),L),L.$$click=v,z.$$click=()=>i(null),P})()})(),null),S})()})(),null),$e(()=>C.value=e.layout),m})()};_r(["click"]);const BN={builtInThemes:["Light Theme 1","Light Theme 2","Midnight Theme","Dark Theme","Dark Gray Theme","Blue Theme","Red Theme","Green Theme","Yellow Theme","Pink Theme"],customThemes:[],allowCustomThemes:!0};class VN{constructor(){Re(this,"storageKey","chartspire-custom-themes")}save(r){try{localStorage.setItem(this.storageKey,JSON.stringify(r))}catch(t){console.warn("Failed to save custom themes to localStorage:",t)}}load(){try{const r=localStorage.getItem(this.storageKey);if(r)return JSON.parse(r)}catch(r){console.warn("Failed to load custom themes from localStorage:",r)}return null}}const $N=async()=>null;class WN{constructor(r=!1){Re(this,"enableLogging"),this.enableLogging=r}log(r,...t){this.enableLogging&&console.log(r,...t)}logWarn(r,...t){this.enableLogging&&console.warn(r,...t)}save(r){this.log("[ExternalThemeStorageProvider] Saving custom themes via callback"),this.log("[ExternalThemeStorageProvider] Themes to save:",r),this.log("[ExternalThemeStorageProvider] Themes count:",r.length),this.logWarn("[ExternalThemeStorageProvider] No save callback registered, themes not saved")}load(){return this.log("[ExternalThemeStorageProvider] Load called - use loadAsync() for external storage"),null}async loadAsync(){try{this.log("[ExternalThemeStorageProvider] Loading custom themes via callback");const r=await $N();return r&&r.length>0?(this.log("[ExternalThemeStorageProvider] Custom themes loaded successfully"),r):(this.log("[ExternalThemeStorageProvider] No custom themes found"),[])}catch(r){return console.error("[ExternalThemeStorageProvider] Error loading custom themes:",r),null}}}const ay=class x0{constructor(r=!1){Re(this,"themeConfig"),Re(this,"customStyleElement",null),Re(this,"storageProvider"),Re(this,"useExternalStorage"),this.themeConfig={...BN},this.useExternalStorage=r,this.storageProvider=r?new WN:new VN,this.loadCustomThemes()}static getInstance(r=!1){return x0.instance||(x0.instance=new x0(r)),x0.instance}static async initializeAsync(r=!1){const t=x0.getInstance(r);return r&&t.isExternalStorageProvider(t.storageProvider)&&await t.loadCustomThemesAsync(),t}isUsingExternalStorage(){return this.useExternalStorage}isExternalStorageProvider(r){return"loadAsync"in r&&typeof r.loadAsync=="function"}setThemeConfig(r){this.themeConfig={...this.themeConfig,...r},this.saveCustomThemes(),this.updateCustomThemeStyles()}addCustomTheme(r){const t=this.themeConfig.customThemes.findIndex(n=>n.name===r.name);t>=0?this.themeConfig.customThemes[t]=r:this.themeConfig.customThemes.push(r),this.saveCustomThemes(),this.updateCustomThemeStyles()}removeCustomTheme(r){this.themeConfig.customThemes=this.themeConfig.customThemes.filter(t=>t.name!==r),this.saveCustomThemes(),this.updateCustomThemeStyles()}getAllThemes(){const r=this.themeConfig.customThemes.map(t=>t.displayName);return[...this.themeConfig.builtInThemes,...r]}getCustomThemes(){return this.themeConfig.customThemes}areCustomThemesAllowed(){return this.themeConfig.allowCustomThemes}isCustomTheme(r){return this.themeConfig.customThemes.some(t=>t.displayName===r||t.name===r)}getCustomTheme(r){return this.themeConfig.customThemes.find(t=>t.displayName===r||t.name===r)}loadCustomThemes(){const r=this.storageProvider.load();r&&(this.themeConfig.customThemes=r,this.updateCustomThemeStyles())}async loadCustomThemesAsync(){if(this.isExternalStorageProvider(this.storageProvider)){const r=await this.storageProvider.loadAsync();r&&(this.themeConfig.customThemes=r,this.updateCustomThemeStyles())}}saveCustomThemes(){this.storageProvider.save(this.themeConfig.customThemes)}updateCustomThemeStyles(){if(this.customStyleElement&&this.customStyleElement.remove(),this.themeConfig.customThemes.length>0){this.customStyleElement=document.createElement("style"),this.customStyleElement.id="chartspire-custom-themes";let r="";for(const t of this.themeConfig.customThemes)r+=this.generateThemeCSS(t);this.customStyleElement.textContent=r,document.head.appendChild(this.customStyleElement)}}generateThemeCSS(r){const t=r.colors;return`
.chartspire-ui[data-theme="${r.name}"] {
	--chartspire-ui-primary-color: ${t.primaryColor};
	--chartspire-ui-selected-color: ${t.selectedColor};
	--chartspire-ui-hover-background-color: ${t.hoverBackgroundColor};
	--chartspire-ui-background-color: ${t.backgroundColor};
	--chartspire-ui-popover-background-color: ${t.popoverBackgroundColor};
	--chartspire-ui-text-color: ${t.textColor};
	--chartspire-ui-text-second-color: ${t.textSecondColor};
	--chartspire-ui-border-color: ${t.borderColor};
}
`}importThemes(r){try{const t=JSON.parse(r);for(const n of t)this.addCustomTheme(n)}catch{throw new Error("Invalid theme JSON format")}}exportThemes(){return JSON.stringify(this.themeConfig.customThemes,null,2)}};Re(ay,"instance");let J2=ay;var UN=re("<div class=import-section><label></label><textarea rows=4></textarea><div class=import-buttons><button></button><button>"),HN=re("<div class=custom-themes-list><h5>"),YN=re("<div class=custom-theme-creator><div class=creator-header><h4></h4><button class=close-btn></button></div><div class=theme-form><div class=form-group><label></label><input type=text></div><div class=color-inputs></div><div class=action-buttons><button class=create-btn></button><button class=import-btn></button><button class=export-btn>"),XN=re('<div class=chartspire-ui-theme-selector><div class=theme-selector-header><svg viewBox="2 2 20 20"><path d="M12 2.75C6.89321 2.75 2.75 6.90121 2.75 12.0261C2.75 16.7885 6.32861 20.7112 10.9326 21.2412C11.395 21.2944 11.89 21.1004 12.2858 20.7036C12.6473 20.3412 12.6473 19.7528 12.2858 19.3904C11.9739 19.0776 11.6611 18.6609 11.4899 18.1872C11.3146 17.702 11.2713 17.0933 11.627 16.5276C11.9499 16.014 12.4341 15.739 12.9421 15.6053C13.4313 15.4766 13.9734 15.4693 14.494 15.5009C14.978 15.5303 15.4991 15.5978 16.0045 15.6633C16.0471 15.6689 16.0896 15.6744 16.132 15.6798C16.6889 15.7517 17.2328 15.8188 17.7581 15.8439C18.8324 15.8954 19.6599 15.76 20.2254 15.2976C20.7667 14.8552 21.25 13.9568 21.25 12.0261C21.25 6.90121 17.1068 2.75 12 2.75ZM1.25 12.0261C1.25 6.07647 6.0611 1.25 12 1.25C17.9389 1.25 22.75 6.07647 22.75 12.0261C22.75 14.1713 22.2132 15.6101 21.1748 16.459C20.1608 17.2879 18.8495 17.398 17.6863 17.3422C17.0929 17.3138 16.4934 17.239 15.9399 17.1675C15.901 17.1625 15.8625 17.1575 15.8241 17.1525C15.3046 17.0853 14.8335 17.0243 14.4032 16.9982C13.937 16.9699 13.5828 16.9878 13.3239 17.0559C13.0837 17.1191 12.968 17.2127 12.8968 17.326C12.858 17.3877 12.8307 17.4837 12.9007 17.6775C12.9749 17.8829 13.1368 18.1195 13.3478 18.3311C14.2933 19.279 14.2933 20.815 13.3478 21.7629C12.6976 22.4148 11.7682 22.8473 10.761 22.7314C5.40565 22.1148 1.25 17.5562 1.25 12.0261ZM9.585 6.24977C9.17079 6.24977 8.835 6.58556 8.835 6.99977C8.835 7.41399 9.17079 7.74977 9.585 7.74977C9.99922 7.74977 10.335 7.41399 10.335 6.99977C10.335 6.58556 9.99922 6.24977 9.585 6.24977ZM7.335 6.99977C7.335 5.75713 8.34236 4.74977 9.585 4.74977C10.8276 4.74977 11.835 5.75713 11.835 6.99977C11.835 8.24241 10.8276 9.24977 9.585 9.24977C8.34236 9.24977 7.335 8.24241 7.335 6.99977ZM14.5 6.25C14.0858 6.25 13.75 6.58579 13.75 7C13.75 7.41421 14.0858 7.75 14.5 7.75C14.9142 7.75 15.25 7.41421 15.25 7C15.25 6.58579 14.9142 6.25 14.5 6.25ZM12.25 7C12.25 5.75736 13.2574 4.75 14.5 4.75C15.7426 4.75 16.75 5.75736 16.75 7C16.75 8.24264 15.7426 9.25 14.5 9.25C13.2574 9.25 12.25 8.24264 12.25 7ZM6.5 10.75C6.08579 10.75 5.75 11.0858 5.75 11.5C5.75 11.9142 6.08579 12.25 6.5 12.25C6.91421 12.25 7.25 11.9142 7.25 11.5C7.25 11.0858 6.91421 10.75 6.5 10.75ZM4.25 11.5C4.25 10.2574 5.25736 9.25 6.5 9.25C7.74264 9.25 8.75 10.2574 8.75 11.5C8.75 12.7426 7.74264 13.75 6.5 13.75C5.25736 13.75 4.25 12.7426 4.25 11.5ZM17.5 10.75C17.0858 10.75 16.75 11.0858 16.75 11.5C16.75 11.9142 17.0858 12.25 17.5 12.25C17.9142 12.25 18.25 11.9142 18.25 11.5C18.25 11.0858 17.9142 10.75 17.5 10.75ZM15.25 11.5C15.25 10.2574 16.2574 9.25 17.5 9.25C18.7426 9.25 19.75 10.2574 19.75 11.5C19.75 12.7426 18.7426 13.75 17.5 13.75C16.2574 13.75 15.25 12.7426 15.25 11.5Z"></path></svg><select></select><button class=custom-theme-toggle>+'),jN=re("<option>"),GN=re("<div class=form-group><label><span class=field-description></span></label><div class=color-input-group><input type=color><input type=text>"),KN=re("<div class=theme-item><span class=theme-name></span><div class=theme-actions><button class=edit-btn></button><button class=delete-btn>");const QN=e=>{const[r,t]=pe([]),[n,i]=pe([]),[o,s]=pe(!1),[u,d]=pe({left:0,bottom:60}),[h,f]=pe(""),[v,m]=pe(null),[C,b]=pe({primaryColor:"#1677ff",selectedColor:"rgba(22, 119, 255, 0.15)",hoverBackgroundColor:"rgba(22, 119, 255, 0.15)",backgroundColor:"#ffffff",popoverBackgroundColor:"#ffffff",textColor:"#051441",textSecondColor:"#76808f",borderColor:"#ebedf1"}),[_,k]=pe(!1),[S,T]=pe("");localStorage.getItem(yv);const I=J2.getInstance(e.themeUseExternalStorage??!1),P=()=>{const Z=I.getAllThemes(),q=I.getCustomThemes(),G=Z.map(K=>I.isCustomTheme(K)?K:A(K,e.locale));t(G),i([...q])};Ia(async()=>{if(P(),e.themeUseExternalStorage){await new Promise(Z=>setTimeout(Z,1e3));try{await J2.initializeAsync(!0),P()}catch(Z){console.error("[ThemeSelector] Failed to initialize external theme storage: ",Z)}}});const L=Z=>{console.log("[ThemeSelector] handleThemeChange called with:",Z);let q=Z;const G=["Light Theme 1","Light Theme 2","Midnight Theme","Dark Theme","Dark Gray Theme","Blue Theme","Red Theme","Green Theme","Yellow Theme","Pink Theme"];for(const K of G)if(A(K,e.locale)===Z){q=K;break}if(I.isCustomTheme(Z)){const K=I.getCustomTheme(Z);K&&(q=K.name)}console.log("[ThemeSelector] Setting theme to:",q),e.setTheme(q)},z=[{key:"primaryColor",label:"Primary Color",description:"Main accent color for buttons and highlights"},{key:"selectedColor",label:"Selected Color",description:"Color for selected items and active states"},{key:"hoverBackgroundColor",label:"Hover Background",description:"Background color when hovering over elements"},{key:"backgroundColor",label:"Background Color",description:"Main background color of the interface"},{key:"popoverBackgroundColor",label:"Popover Background",description:"Background color for dropdowns and modals"},{key:"textColor",label:"Text Color",description:"Primary text color"},{key:"textSecondColor",label:"Secondary Text",description:"Color for secondary text and labels"},{key:"borderColor",label:"Border Color",description:"Color for borders and dividers"}],R=(Z,q)=>{b(G=>({...G,[Z]:q}))},V=()=>{if(!h().trim()){alert(A("Please enter a theme name",e.locale));return}const Z={name:h().trim(),displayName:h().trim(),colors:C()};try{I.addCustomTheme(Z),P(),$();const q=v()?A("Theme updated successfully!",e.locale):A("Theme created successfully!",e.locale);alert(q),s(!1)}catch{const q=v()?A("Failed to update theme",e.locale):A("Failed to create theme",e.locale);alert(q)}},$=()=>{f(""),m(null),b({primaryColor:"#1677ff",selectedColor:"rgba(22, 119, 255, 0.15)",hoverBackgroundColor:"rgba(22, 119, 255, 0.15)",backgroundColor:"#ffffff",popoverBackgroundColor:"#ffffff",textColor:"#051441",textSecondColor:"#76808f",borderColor:"#ebedf1"})},W=Z=>{m(Z),f(Z.displayName),b(Z.colors),s(!0)},te=()=>{try{I.importThemes(S()),T(""),k(!1),P(),alert(A("Themes imported successfully!",e.locale))}catch{alert(A("Invalid theme JSON format",e.locale))}},ue=()=>{const Z=I.exportThemes();navigator.clipboard.writeText(Z).then(()=>{alert(A("Themes exported to clipboard!",e.locale))}).catch(()=>{const q=document.createElement("textarea");q.value=Z,document.body.appendChild(q),q.select(),document.execCommand("copy"),document.body.removeChild(q),alert(A("Themes exported to clipboard!",e.locale))})},Y=Z=>{confirm(A(`Are you sure you want to delete the theme "${Z}"?`,e.locale))&&(I.removeCustomTheme(Z),P(),alert(A("Theme deleted successfully!",e.locale)))};return(()=>{var Z=XN(),q=Z.firstChild,G=q.firstChild,K=G.nextSibling,X=K.nextSibling;return K.addEventListener("change",J=>L(J.currentTarget.value)),N(K,oe(li,{get each(){return r()},children:J=>(()=>{var ee=jN();return ee.value=J,N(ee,J,null),N(ee,()=>I.isCustomTheme(J)?" (Custom)":"",null),$e(()=>ee.selected=J===e.theme),ee})()})),X.$$click=J=>{if(!o()){const ee=J.currentTarget.getBoundingClientRect();d({left:ee.left,bottom:window.innerHeight-ee.top+8})}s(!o())},N(Z,oe(tt,{get when(){return o()},get children(){var J=YN(),ee=J.firstChild,H=ee.firstChild,ie=H.nextSibling,xe=ee.nextSibling,Le=xe.firstChild,Pe=Le.firstChild,be=Pe.nextSibling,He=Le.nextSibling,Ae=He.nextSibling,Ne=Ae.firstChild,ve=Ne.nextSibling,Te=ve.nextSibling;return N(H,(()=>{var Oe=_e(()=>!!v());return()=>Oe()?A("Edit Custom Theme",e.locale):A("Create Custom Theme",e.locale)})()),ie.$$click=()=>{$(),s(!1)},N(Pe,()=>A("Theme Name",e.locale)),be.$$input=Oe=>f(Oe.currentTarget.value),N(He,oe(li,{each:z,children:Oe=>(()=>{var Ze=GN(),Me=Ze.firstChild,nt=Me.firstChild,lt=Me.nextSibling,Be=lt.firstChild,yt=Be.nextSibling;return N(Me,()=>A(Oe.label,e.locale),nt),N(nt,()=>A(Oe.description,e.locale)),Be.$$input=Bt=>R(Oe.key,Bt.currentTarget.value),yt.$$input=Bt=>R(Oe.key,Bt.currentTarget.value),$e(()=>Ge(yt,"placeholder",A("Color value (hex, rgb, rgba)",e.locale))),$e(()=>Be.value=C()[Oe.key].startsWith("rgba")?"#1677ff":C()[Oe.key]),$e(()=>yt.value=C()[Oe.key]),Ze})()})),Ne.$$click=V,N(Ne,(()=>{var Oe=_e(()=>!!v());return()=>Oe()?A("Update Theme",e.locale):A("Create Theme",e.locale)})()),ve.$$click=()=>k(!_()),N(ve,()=>A("Import",e.locale)),Te.$$click=ue,N(Te,()=>A("Export",e.locale)),N(xe,oe(tt,{get when(){return _()},get children(){var Oe=UN(),Ze=Oe.firstChild,Me=Ze.nextSibling,nt=Me.nextSibling,lt=nt.firstChild,Be=lt.nextSibling;return N(Ze,()=>A("Paste Theme JSON",e.locale)),Me.$$input=yt=>T(yt.currentTarget.value),lt.$$click=te,N(lt,()=>A("Import",e.locale)),Be.$$click=()=>k(!1),N(Be,()=>A("Cancel",e.locale)),$e(()=>Ge(Me,"placeholder",A("Paste your theme JSON here...",e.locale))),$e(()=>Me.value=S()),Oe}}),null),N(xe,oe(tt,{get when(){return n().length>0},get children(){var Oe=HN(),Ze=Oe.firstChild;return N(Ze,()=>A("Custom Themes",e.locale)),N(Oe,oe(li,{get each(){return n()},children:Me=>(()=>{var nt=KN(),lt=nt.firstChild,Be=lt.nextSibling,yt=Be.firstChild,Bt=yt.nextSibling;return N(lt,()=>Me.displayName),yt.$$click=()=>W(Me),N(yt,()=>A("Edit",e.locale)),Bt.$$click=()=>Y(Me.name),N(Bt,()=>A("Delete",e.locale)),nt})()}),null),Oe}}),null),$e(Oe=>{var Ze=`${u().left}px`,Me=`${u().bottom}px`,nt=A("Enter theme name",e.locale);return Ze!==Oe.e&&((Oe.e=Ze)!=null?J.style.setProperty("left",Ze):J.style.removeProperty("left")),Me!==Oe.t&&((Oe.t=Me)!=null?J.style.setProperty("bottom",Me):J.style.removeProperty("bottom")),nt!==Oe.a&&Ge(be,"placeholder",Oe.a=nt),Oe},{e:void 0,t:void 0,a:void 0}),$e(()=>be.value=h()),J}}),null),$e(()=>Ge(X,"title",A("Create Custom Theme",e.locale))),$e(()=>K.value=e.theme?I.isCustomTheme(e.theme)?e.theme:A(e.theme,e.locale):A("Light Theme 1",e.locale)),Z})()};_r(["click","input"]);var ZN=re("<div class=chartspire-ui-bottom-bar>");const qN=e=>(()=>{var r=ZN();return ra(t=>{},r),N(r,oe(DN,{get widget(){return e.widget},get ticker(){return e.ticker},get setInterval(){return e.setInterval}}),null),N(r,oe(zN,{get widget(){return e.widget},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get onLayoutChange(){return e.onLayoutChange},get layoutLimit(){return e.layoutLimit}}),null),N(r,oe(QN,{get widget(){return e.widget},get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}}),null),r})(),tr={color:"#1677FF",borderColor:"rgba(22, 119, 255, 0.35)",borderSize:1,radius:5,activeColor:"#1677FF",activeBorderColor:"rgba(22, 119, 255, 0.35)",activeBorderSize:3,activeRadius:5},kn={style:"fill",color:"#FFFFFF",size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderSize:0,borderRadius:2,borderColor:"#1677FF",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:"rgba(22, 119, 255)"},fv={style:"fill",color:"rgba(22, 119, 255, 0.25)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},Oc={style:"fill",color:"rgba(22, 119, 255)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},Sn={...fv,borderRadius:2,color:"rgba(22, 119, 255, 0.1)",borderColor:"#1677FF",borderSize:1,borderStyle:"solid",borderDashedValue:[2,2],paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2},gv={style:"solid",color:"#1677FF",size:1,dashedValue:[2,2]},kr={...gv,smooth:!1};function JN(){return{point:tr}}function ez(){return{line:kr,point:tr}}function tz(){return{line:kr,point:tr}}function rz(){return{line:kr,point:tr}}function nz(){return{line:kr,point:tr}}function iz(){return{line:kr,point:tr}}function az(){return{line:kr,point:tr}}function oz(){return{line:kr,point:tr}}function lz(){return{line:kr,point:tr}}function sz(){return{line:kr,point:tr}}function cz(){return{line:kr,text:kn,point:tr}}function uz(){return{line:kr,point:tr}}function dz(){return{polygon:Oc,point:tr}}function hz(){return{polygon:Oc,point:tr}}function pz(){return{circle:fv,point:tr}}function fz(){return{arc:gv,point:tr}}function gz(){return{text:kn}}function vz(){return{line:kr,rect:Sn,point:tr}}function mz(){return{line:kr,rect:Sn,point:tr}}function yz(){return{line:kr,text:kn,polygon:Oc}}function xz(){return{text:kn,line:kr,polygon:Oc}}function Cz(){return{polygon:Oc,rect:Sn,point:tr}}function bz(){return{point:tr,rect:Sn,polygon:Oc}}function wz(){return{line:kr,rect:Sn,text:kn,point:tr}}function _z(){return{line:kr,rect:Sn,text:kn,point:tr}}function kz(){return{circle:fv,rect:Sn,text:kn,point:tr}}function Sz(){return{line:kr,rect:Sn,text:kn,arc:gv,point:tr}}function Mz(){return{line:kr,rect:Sn,text:kn,point:tr}}function Ez(){return{line:kr,rect:Sn,text:kn,point:tr}}function Tz(){return{line:kr,rect:Sn,text:kn,point:tr}}function Iz(){return{line:kr,rect:Sn,text:kn,point:tr}}function Lz(){return{line:kr,rect:Sn,text:kn,point:tr}}function Pz(){return{line:kr,rect:Sn,text:kn,point:tr}}function Az(){return{line:kr,rect:Sn,text:kn,point:tr}}function Dz(){return{line:kr,rect:Sn,text:kn,point:tr}}function Fz(){return{line:kr,rect:Sn,text:kn,point:tr}}function Rz(){return{line:kr,rect:Sn,text:kn,point:tr,polygon:Oc}}function Oz(){return{rect:Sn,text:kn,point:tr}}const ng={pointStyle:()=>at.cloneDeep(JN()),horizontalStraightLineStyle:()=>at.cloneDeep(ez()),horizontalRayLineStyle:()=>at.cloneDeep(rz()),horizontalSegmentStyle:()=>at.cloneDeep(tz()),verticalStraightLineStyle:()=>at.cloneDeep(az()),verticalRayLineStyle:()=>at.cloneDeep(nz()),verticalSegmentStyle:()=>at.cloneDeep(iz()),straightLineStyle:()=>at.cloneDeep(uz()),rayLineStyle:()=>at.cloneDeep(oz()),segmentStyle:()=>at.cloneDeep(lz()),arrowStyle:()=>at.cloneDeep(sz()),priceLineStyle:()=>at.cloneDeep(cz()),rectStyle:()=>at.cloneDeep(dz()),polygonStyle:()=>at.cloneDeep(hz()),circleStyle:()=>at.cloneDeep(pz()),arcStyle:()=>at.cloneDeep(fz()),textStyle:()=>at.cloneDeep(gz()),priceChannelLineStyle:()=>at.cloneDeep(vz()),simpleTagStyle:()=>at.cloneDeep(yz()),simpleAnnotationStyle:()=>at.cloneDeep(xz()),parallelStraightLineStyle:()=>at.cloneDeep(mz()),parallelogramStyle:()=>at.cloneDeep(Cz()),triangleStyle:()=>at.cloneDeep(bz()),fibonacciSpiralStyle:()=>at.cloneDeep(Sz()),fibonacciCircleStyle:()=>at.cloneDeep(kz()),fibonacciExtensionStyle:()=>at.cloneDeep(Mz()),fibonacciLineStyle:()=>at.cloneDeep(wz()),fibonacciSegmentStyle:()=>at.cloneDeep(_z()),fibonacciSpeedResistanceFanStyle:()=>at.cloneDeep(Ez()),gannBoxStyle:()=>at.cloneDeep(Tz()),abcdStyle:()=>at.cloneDeep(Lz()),anyWavesStyle:()=>at.cloneDeep(Fz()),eightWavesStyle:()=>at.cloneDeep(Dz()),fiveWavesStyle:()=>at.cloneDeep(Az()),threeWavesStyle:()=>at.cloneDeep(Pz()),xabcdStyle:()=>at.cloneDeep(Iz()),rulerStyle:()=>at.cloneDeep(Rz()),rrStyle:()=>at.cloneDeep(Oz())};var Nz=re("<div class=overlay-type>Text"),zz=re("<div class=component><span>Label Text"),Bz=re("<div class=chartspire-ui-overlay-setting-modal-content><div class=content>"),Vz=re("<div class=overlay-type>"),$z=re("<div>"),Wz=re("<div class=component><span>");const oy=e=>{let r=e.overlay.styles?e.overlay.styles:ng[`${e.overlay.name}Style`]();(e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation")&&(r=ng[`${e.overlay.name}Style`]());const t=MN(e.locale);let n=[],i=[];r&&(n=Object.keys(t),i=Object.keys(r));const o=d=>{const[h,f,v]=d.split(".");if(r&&r[f]&&r&&r[f][v]!==void 0)return r[f][v];{const m=ng[`${e.overlay.name}Style`]();if(m&&m[f]&&m[f][v]!==void 0)return m[f][v]}},s=(d,h,f)=>{const v=d.key.split(".")[2];r[f][v]=h,(m=>{const C=at.cloneDeep(m),[b,_,k]=d.key.split("."),S=_?`${_}.${k}`:`${_}.${k}`;_?at.set(C,S,h):at.set(C,`${d.key}`,h);const T={id:e.overlay.id,styles:C};if(e.widget.overrideOverlay(T),St.getInstance(e.widget).overrideOverlay(T),e.chartId){const I=_1(),P={...e.overlay,styles:C};I.onOverlayUpdated(e.chartId,P)}return C})(r)},u=d=>{const h=typeof d=="number"?String(d):d,f={id:e.overlay.id,extendData:h};if(e.widget.overrideOverlay(f),St.getInstance(e.widget).overrideOverlay(f),e.chartId){const v=_1(),m={...e.overlay,extendData:h};v.onOverlayUpdated(e.chartId,m)}(e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation")&&f1(e.overlay)};return oe(Bl,{get title(){return`Style ${e.overlay.name}`},width:360,contentHeight:"90%",onClose:()=>{e.setOverlayVisible(!1),e.setShowOverlaySetting(!1)},get children(){var d=Bz(),h=d.firstChild;return N(h,oe(tt,{get when(){return e.overlay.name==="simpleTag"||e.overlay.name==="simpleAnnotation"},get children(){return[Nz(),(()=>{var f=zz();return f.firstChild,N(f,oe(Dl,{style:{width:"120px"},get value(){return typeof e.overlay.extendData=="string"?e.overlay.extendData:""},onChange:v=>{u(v)}}),null),f})()]}}),null),N(h,oe(li,{each:i,children:f=>{if(n.includes(f))return[(()=>{var v=Vz();return N(v,f),v})(),oe(li,{get each(){return t[f]},children:v=>{let m;const C=o(v.key);if(C!==void 0){switch(v.component){case"select":{m=oe(S1,{style:{width:"120px"},get value(){return A(C,e.locale)},get dataSource(){return v.dataSource},onSelected:b=>{const _=b.key;s(v,_,f)}});break}case"input":{m=[oe(tt,{get when(){return at.isArray(C)},get children(){var b=$z();return b.style.setProperty("width","120px"),b.style.setProperty("display","flex"),b.style.setProperty("flex-direction","row"),b.style.setProperty("align-items","center"),b.style.setProperty("vertical-align","middle"),N(b,oe(Dl,{style:{width:"50px","margin-right":"10px"},get value(){return C[0]??"4"},onChange:_=>{let k=o(v.key);k[0]=Number(_),s(v,k,f)}}),null),N(b,oe(Dl,{style:{width:"50px","margin-left":"10px"},get value(){return C[1]??"4"},onChange:_=>{let k=o(v.key);k[1]=Number(_),s(v,k,f)}}),null),b}}),oe(tt,{get when(){return!at.isArray(C)},get children(){return oe(Dl,{style:{width:"120px"},value:C??"4",onChange:b=>{let _=Number(b);s(v,_,f)}})}})];break}case"color":{m=oe(Qg,{style:{width:"120px"},value:C,onChange:b=>{s(v,b,f)}});break}}if(m)return(()=>{var b=Wz(),_=b.firstChild;return N(_,()=>v.text),N(b,m,null),b})()}}})]}}),null),d}})};var Uz=re("<div class=chartspire-ui-popup-background><div class=popup><button>Settings</button><button>Remove</button><button>Close");const Hz=e=>{const[r,t]=pe(e.overlayMousePosition),[n,i]=pe(!1),o=f=>{f.preventDefault()},s=()=>{const f=r();try{const v=e.widget.getDom("candle_pane");if(v){const m=v.getBoundingClientRect();return{x:m.left+f.x,y:m.top+f.y}}}catch(v){console.warn("Failed to get chart container bounds for popup positioning:",v)}return f},u=()=>{e.setShowOverlaySetting?(e.setShowOverlaySetting(!0),e.setOverlayVisible(!1)):(i(!0),e.setOverlayVisible(!1))},d=()=>{e.setOverlayVisible(!1)},h=()=>{e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()?St.getInstance(e.widget).deleteOverlay(e.overlay):e.widget.removeOverlay(e.overlay),d()};return(()=>{var f=Uz(),v=f.firstChild,m=v.firstChild,C=m.nextSibling,b=C.nextSibling;return f.$$contextmenu=o,v.style.setProperty("position","fixed"),v.style.setProperty("z-index","1000011"),m.$$click=u,C.$$click=h,b.$$click=d,N(f,oe(tt,{get when(){return n()&&!e.setShowOverlaySetting},get children(){return oe(oy,{get widget(){return e.widget},get locale(){return e.locale},get overlay(){return e.overlay},get setOverlayVisible(){return e.setOverlayVisible},setShowOverlaySetting:i,get chartId(){return e.chartId},onConfirm:_=>{console.log("Selected color:",_),i(!1)}})}}),null),$e(_=>{var k=`${s().y}px`,S=`${s().x}px`;return k!==_.e&&((_.e=k)!=null?v.style.setProperty("top",k):v.style.removeProperty("top")),S!==_.t&&((_.t=S)!=null?v.style.setProperty("left",S):v.style.removeProperty("left")),_},{e:void 0,t:void 0}),f})()};_r(["contextmenu","click"]);const Yz=e=>oe(tt,{get when(){return e.timezoneModalVisible},get children(){return oe(dA,{get locale(){return e.locale},get timezone(){return e.timezone},onClose:()=>{e.setTimezoneModalVisible(!1)},get onConfirm(){return e.setTimezone}})}}),Xz=e=>oe(tt,{get when(){return e.settingModalVisible()},get children(){return oe(LN,{get locale(){return e.locale},get currentStyles(){return e.widget.getStyles()},onClose:()=>{e.setSettingModalVisible(!1)},onChange:r=>{var t;(t=e.widget)==null||t.setStyles(r),e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(e.widget).saveStyles()},onRestoreDefault:r=>{const t={};r.forEach(n=>{const i=n.key;Mg(t,i,wn.formatValue(e.widgetDefaultStyles(),i))}),e.widget.setStyles(Ea($r())),e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(e.widget).saveStyles()}})}}),jz=e=>oe(tt,{get when(){return e.screenshotUrl.length>0},get children(){return oe(pA,{get locale(){return e.locale},get url(){return e.screenshotUrl},onClose:()=>{e.setScreenshotUrl("")}})}}),Gz=e=>oe(tt,{get when(){return e.indicatorSettingModalParams.visible},get children(){return oe(_A,{get locale(){return e.locale},get params(){return e.indicatorSettingModalParams},onClose:()=>{e.setIndicatorSettingModalParams({visible:!1,indicatorName:"",paneId:"",calcParams:[],styles:{}})},onConfirm:(r,t)=>{const n=e.indicatorSettingModalParams;e.widget.overrideIndicator({name:n.indicatorName,calcParams:r,styles:t})}})}}),Kz=e=>oe(tt,{get when(){return e.isActive},get children(){return oe(AD,{get chart(){return e.widget},get rootContainer(){return e.rootContainer},get locale(){return e.locale},get ticker(){return e.ticker},get spread(){return e.drawingBarVisible},get period(){return e.period},get periods(){return e.periods},get multiChart(){return e.multiChart},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get currentCandleType(){return e.currentCandleType},get onCandleTypeChange(){return e.onCandleTypeChange},onMenuClick:async()=>{try{await yS(()=>e.setDrawingBarVisible(!e.drawingBarVisible)),e.widget.resize()}catch(r){console.error(r)}},onTickerClick:()=>{e.setTickerSearchModalVisible(!e.tickerSearchModalVisible)},get onPeriodChange(){return e.setPeriod},onIndicatorClick:()=>{e.setIndicatorModalVisible(r=>!r)},onTimezoneClick:()=>{e.setTimezoneModalVisible(r=>!r)},onSettingClick:()=>{e.setSettingModalVisible(r=>!r)},onScreenshotClick:()=>{if(e.widget!=null){const r=e.widget.getConvertPictureUrl(!0,"jpeg",e.theme==="dark"?"#151517":"#ffffff");e.setScreenshotUrl(r)}},onMultiChartClick:()=>{e.setMultiChartModalVisible(r=>!r)},onReplayClick:()=>{e.setReplayModalVisible(!e.replayModalVisible)},get onLayoutChange(){return e.setLayout},get layoutLimit(){return e.layoutLimit}})}}),Qz=e=>{const r=_1();return oe(tt,{get when(){return e.drawingBarVisible&&e.isActive},get children(){return oe(uA,{get locale(){return e.locale},get widget(){return e.widget},get currentLayout(){return e.currentLayout},get setOverlaySettingVisible(){return e.setOverlaySettingVisible},get setOverlayStyles(){return e.setOverlayStyles},get setOverlayMousePosition(){return e.setOverlayMousePosition},onDrawingItemClick:t=>{const n={...t,onDrawing:function(i){return e.chartIds&&c1()&&r.onOverlayUpdated(e.chartIds,i.overlay),!1},onDrawEnd:function(i){return e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()&&St.getInstance(i.chart).saveOverlay(i.overlay),e.chartIds&&c1()&&r.onOverlayCreated(e.chartIds,i.overlay),!0},onRightClick:function(i){var o;const s=i.x||0,u=i.y||0,d=g1(e.widget,s,u);return e.setOverlayMousePosition(d),e.setOverlaySettingVisible(!0),e.setOverlayStyles(i.overlay),(o=i.preventDefault)==null||o.call(i),!0},onPressedMoving:function(i){return e.chartIds&&c1()&&r.onOverlayUpdated(e.chartIds,i.overlay),!1},onPressedMoveEnd:function(i){return e.chartIds&&c1()&&r.onOverlayUpdated(e.chartIds,i.overlay),!0}};e.widget.createOverlay(n)},onModeChange:t=>{},onLockChange:t=>{const n=e.widget.getOverlays();n&&typeof n.forEach=="function"&&n.forEach(i=>{e.widget.overrideOverlay({id:i.id,lock:t})})},onVisibleChange:t=>{const n=e.widget.getOverlays();n&&typeof n.forEach=="function"&&n.forEach(i=>{e.widget.overrideOverlay({id:i.id,visible:t})})},onRemoveClick:t=>{const n=e.widget.getOverlays(),i=[];n&&typeof n.forEach=="function"&&n.forEach(o=>{i.push(o)}),e.currentLayout!==St.getInstance(e.widget).getDefaultLayout()?St.getInstance(e.widget).removeAllOverlays(!0):n&&typeof n.forEach=="function"&&n.forEach(o=>{e.widget.removeOverlay({id:o.id})}),e.chartIds&&i.forEach(o=>{r.onOverlayRemoved(e.chartIds,o)})}})}})},Zz=(e,r)=>e===U.THREE_MIXED?r==="chart1"?"three-chart-mixed-large":"three-chart-mixed-small":e===U.THREE_MIXED_REVERSE?r==="chart3"?"three-chart-mixed-reverse-large":"three-chart-mixed-reverse-small":e===U.THREE_MIXED_BOTTOM?r==="chart3"?"three-chart-mixed-bottom-large":"three-chart-mixed-bottom-small":e===U.THREE_MIXED_TOP?r==="chart1"?"three-chart-mixed-top-large":"three-chart-mixed-top-small":e===U.FOUR_MIXED?r==="chart1"?"four-chart-mixed-large":"four-chart-mixed-small":e===U.FOUR_MIXED_REVERSE?r==="chart4"?"four-chart-mixed-reverse-large":"four-chart-mixed-reverse-small":e===U.FOUR_MIXED_TOP?r==="chart1"?"four-chart-mixed-top-large":"four-chart-mixed-top-small":e===U.FOUR_MIXED_BOTTOM?r==="chart4"?"four-chart-mixed-bottom-large":"four-chart-mixed-bottom-small":e===U.FIVE_MIXED?r==="chart1"?"five-chart-mixed-large":"five-chart-mixed-small":e===U.FIVE_MIXED_REVERSE?r==="chart5"?"five-chart-mixed-reverse-large":"five-chart-mixed-reverse-small":qz(e),qz=e=>{switch(e){case U.TWO:return"two-chart";case U.TWO_VERTICAL:return"two-chart-vertical";case U.THREE:return"three-chart";case U.THREE_VERTICAL:return"three-chart-vertical";case U.FOUR:return"four-chart";case U.FOUR_VERTICAL:return"four-chart-vertical";case U.FOUR_HORIZONTAL:return"four-chart-horizontal";case U.FIVE_VERTICAL:return"five-chart-vertical";case U.FIVE_HORIZONTAL:return"five-chart-horizontal";case U.SIX:return"six-chart";case U.SIX_HORIZONTAL:return"six-chart-horizontal";case U.SIX_VERTICAL:return"six-chart-vertical";case U.SIX_MIXED:return"six-chart-mixed";case U.SEVEN_VERTICAL:return"seven-chart-vertical";case U.SEVEN_HORIZONTAL:return"seven-chart-horizontal";case U.EIGHT:return"eight-chart";case U.EIGHT_VERTICAL:return"eight-chart-vertical";case U.EIGHT_HORIZONTAL:return"eight-chart-horizontal";case U.NINE:return"nine-chart";case U.NINE_VERTICAL:return"nine-chart-vertical";case U.NINE_HORIZONTAL:return"nine-chart-horizontal";case U.TEN:return"ten-chart";case U.TEN_VERTICAL:return"ten-chart-vertical";case U.TEN_HORIZONTAL:return"ten-chart-horizontal";case U.TWELVE:return"twelve-chart";case U.TWELVE_VERTICAL:return"twelve-chart-vertical";case U.TWELVE_HORIZONTAL:return"twelve-chart-horizontal";case U.TWELVE_GRID:return"twelve-chart-grid";case U.FOURTEEN:return"fourteen-chart";case U.SIXTEEN:return"sixteen-chart";case U.ONE:default:return"one-chart"}};var Jz=re("<div><div>");const eB=e=>{const r=()=>{e.onClick!=null&&e.onClick()},t=()=>{e.onClick!=null&&e.onClick()};return(()=>{var n=Jz(),i=n.firstChild;N(n,oe(tt,{get when(){return e.loadingVisible},get children(){return oe(c5,{})}}),i),i.$$touchend=t,i.$$click=r;var o=e.ref;return typeof o=="function"?ra(o,i):e.ref=i,$e(s=>{var u=`chartspire-ui-content ${Zz(e.multiChart,e.chartIds)}`,d=`
          chartspire-ui-widget
          ${e.chartIds}
          ${e.isActive&&e.multiChart>1?"active-chart":""}
          `,h=e.chartIds,f=e.drawingBarVisible,v=String(e.multiChart),m=e.isActive;return u!==s.e&&er(n,s.e=u),d!==s.t&&er(i,s.t=d),h!==s.a&&Ge(i,"data-chart-id",s.a=h),f!==s.o&&Ge(i,"data-drawing-bar-visible",s.o=f),v!==s.i&&Ge(i,"multichart-amount",s.i=v),m!==s.n&&Ge(i,"is-active-chart",s.n=m),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),n})()};_r(["click","touchend"]);const tB=e=>oe(tt,{get when(){return e.symbolTickerModalVisible},get children(){return oe(d5,{get locale(){return e.locale},get onTickerSelected(){return e.setTicker},onClose:()=>{e.setTickerSearchModalVisible(!1)},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed}})}});function rB(e,r,t){pt(()=>{e()&&t(!0)}),pt(()=>{r()||t(!1)})}function nB(e,r){pt(()=>{e()&&HS(r())})}function iB(e,r){pt(()=>{e()&&(r(),e()>1?C2(!0):C2(!1))})}function aB(e,r,t,n,i,o,s,u,d,h,f,v){pt(async()=>{if(t()&&i()&&e()&&r!=null){if(o([]),s({}),await St.getInstance(Je(r)).removeAllOverlays(),GS(Je(r)),t()===St.getInstance(Je(r)).getDefaultLayout())return Je(r).setStyles(Ea($r())),v&&Ea($r()).candle&&Ea($r()).candle.type&&v(Ea($r()).candle.type),null;Bg(t());const m=await St.getInstance(Je(r)).getLayoutFromStore()??v0();if(Je(r)!==null&&v){await oB(Je(r),m,v),await lB(Je(r),m,d,h,f,Je(n));const C=await St.getInstance(Je(r)).getIndicators(m);u(C.indicators)}}})}async function oB(e,r,t){const n=await St.getInstance(e).getStyles(r);n?(e.setStyles(n),t&&n.candle&&n.candle.type&&t(n.candle.type)):(e.setStyles(Ea($r())),t&&Ea($r()).candle&&Ea($r()).candle.type&&t(Ea($r()).candle.type))}async function lB(e,r,t,n,i,o){const s=await St.getInstance(e).getOverlays(r);at.forEach(s,u=>{var d,h,f;(d=St.getInstance(e))!=null&&d.isDefaultLayout()||o.ticker===((h=u==null?void 0:u.tickerInfo)==null?void 0:h.ticker)&&o.type===((f=u==null?void 0:u.tickerInfo)==null?void 0:f.type)&&(u.overlay.onDrawEnd=v=>(St.getInstance(v.chart).saveOverlay(v.overlay),!0),u.overlay.onRightClick=v=>{var m;const C=g1(e,v.x??0,v.y??0);return i(C),t(!0),n(v.overlay),(m=v.preventDefault)==null||m.call(v),!0},(u.overlay.name==="simpleTag"||u.overlay.name==="simpleAnnotation")&&f1(u.overlay),e.createOverlay(u.overlay))})}function sB(e,r,t){pt(()=>{const n=r();n!=null&&n.priceCurrency?(t.innerHTML=n.priceCurrency.toLocaleUpperCase(),t.style.display="flex"):t.style.display="none",console.log("usePriceVolumePrecisionEffect ",n)})}function cB(e,r){pt(()=>{e(),r()})}function uB(e,r){pt(()=>{e()&&r()})}function dB(e,r){pt(()=>{console.log("useLocaleEffect",r()),Je(e).setLocale(r())})}let ly=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:"America/Los_Angeles"});function hB(e){ly=new Intl.DateTimeFormat("en",{hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:e})}function pB(){return ly}function fB(e,r,t){pt(()=>{if(Je(e)==null)return;const n=r().key;hB(n),t()})}function gB(e,r,t){pt(()=>{r()&&(Je(e).setStyles(r()),t(Je(e).getStyles()))})}function vB(e,r){const t=r==="dark"?"#929AA5":"#76808F";e==null||e.setStyles({indicator:{tooltip:{features:[{id:"visible",position:"middle",marginLeft:8,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,type:"icon_font",content:{code:"",family:"icomoon"},size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"invisible",position:"middle",marginLeft:8,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,type:"icon_font",content:{code:"",family:"icomoon"},size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"setting",position:"middle",marginLeft:6,marginTop:7,marginBottom:0,marginRight:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,type:"icon_font",content:{code:"",family:"icomoon"},size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"},{id:"close",position:"middle",marginLeft:6,marginTop:7,marginRight:0,marginBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,type:"icon_font",content:{code:"",family:"icomoon"},size:14,color:t,activeColor:t,backgroundColor:"transparent",activeBackgroundColor:"rgba(22, 119, 255, 0.15)"}]}}})}function mB(e,r){pt(()=>{Je(e).setStyles(r),vB(Je(e),r)})}const ap=new Map;function yB(e){return ap.has(e)||ap.set(e,{currentCandle:null,targetInterval:{multiplier:1,timespan:"minute",text:"1m"},lastTimestamp:0,initialized:!1,lastVolume:0,isFirstDataPoint:!0}),ap.get(e)}function sy(e){ap.set(e,{currentCandle:null,targetInterval:{multiplier:1,timespan:"minute",text:"1m"},lastTimestamp:0,initialized:!1,lastVolume:0,isFirstDataPoint:!0})}function xB(e,r,t){if(!t.currentCandle)return!0;const n=new Date(t.currentCandle.timestamp),i=new Date(e);switch(r.timespan){case"minute":const o=r.multiplier,s=n.getUTCHours()*60+n.getUTCMinutes(),u=i.getUTCHours()*60+i.getUTCMinutes();return Math.floor(s/o)!==Math.floor(u/o);case"hour":const d=r.multiplier,h=n.getUTCHours(),f=i.getUTCHours(),v=Math.floor(h/d)!==Math.floor(f/d),m=n.getUTCDate()!==i.getUTCDate();return!!(v||m);case"day":return Math.floor((i.getTime()-n.getTime())/(24*60*60*1e3))>=r.multiplier;case"week":const C=k=>{const S=new Date(k.getTime());let T=S.getUTCDay();T===0&&(T=7);const I=T-1;return S.setUTCDate(S.getUTCDate()-I),S.setUTCHours(0,0,0,0),S},b=C(n),_=C(i);return b.getTime()!==_.getTime();case"month":return(i.getUTCFullYear()-n.getUTCFullYear())*12+(i.getUTCMonth()-n.getUTCMonth())>=r.multiplier;default:return console.warn(`Unknown interval: ${r.timespan}`),!0}}function cy(e,r){const t=new Date(e);t.toISOString();let n=new Date(e);switch(r.timespan){case"minute":const i=Math.floor(t.getUTCMinutes()/r.multiplier)*r.multiplier;n.setUTCMinutes(i,0,0);break;case"hour":const o=t.getUTCHours(),s=Math.floor(o/r.multiplier)*r.multiplier;n.setUTCHours(s,0,0,0);break;case"day":if(n.setUTCHours(0,0,0,0),r.multiplier>1){const h=Math.floor(t.getTime()/864e5)%r.multiplier;n.setTime(n.getTime()-h*24*60*60*1e3)}break;case"week":let u=t.getUTCDay();u===0&&(u=7);const d=u-1;if(n.setUTCDate(t.getUTCDate()-d),n.setUTCHours(0,0,0,0),r.multiplier>1){const h=new Date(Date.UTC(2e3,0,3)).getTime(),f=(Math.floor((n.getTime()-h)/6048e5)%r.multiplier+r.multiplier)%r.multiplier;f>0&&n.setTime(n.getTime()-f*6048e5)}break;case"month":if(n.setUTCDate(1),n.setUTCHours(0,0,0,0),r.multiplier>1){const h=t.getUTCMonth(),f=h%r.multiplier;n.setUTCMonth(h-f)}break;default:return e}return n.getTime()}function uy(e,r){try{const t=e.getDataList();return!t||t.length===0?(console.log(`No existing data found in chart for timestamp lookup: ${new Date(r).toISOString()}`),null):t.find(i=>i.timestamp===r)||null}catch(t){return console.error("Error finding existing candle:",t),null}}function CB(e,r,t,n){if(!n.initialized)try{const i=cy(r,t),o=uy(e,i);if(o)n.currentCandle={...o};else if(t.timespan==="week"){const s=(h=>{const f=new Date(h.getTime());let v=f.getUTCDay();return v===0&&(v=7),f.setUTCDate(f.getUTCDate()-(v-1)),f.setUTCHours(0,0,0,0),f})(new Date(r)),u=new Date(s.getTime()+7*24*60*60*1e3),d=e.getDataList();if(d&&d.length>0){const h=d.find(f=>{const v=new Date(f.timestamp).getTime();return v>=s.getTime()&&v<u.getTime()});h&&(n.currentCandle={...h,timestamp:i})}}n.initialized=!0}catch(i){console.error("Error initializing from existing data:",i),n.initialized=!0}}function em(e,r,t,n,i){if(t.timespan==="minute"&&t.multiplier===1){i?i(r):console.warn("candleAggregate called without callback for 1-minute data");return}const o=yB(n);o.targetInterval=t,o.initialized||CB(e,r.timestamp,t,o);const s=r.timestamp;o.lastTimestamp=s;const u=cy(s,t),d=r.volume||0,h=Math.max(0,d-o.lastVolume);if(o.lastVolume=d,!o.currentCandle||xB(s,t,o)){o.lastVolume=d,o.isFirstDataPoint=!0,o.currentCandle&&i&&i(o.currentCandle);const f=uy(e,u);if(f){o.currentCandle={...f},o.currentCandle.high=Math.max(f.high,r.high),o.currentCandle.low=Math.min(f.low,r.low),o.currentCandle.close=r.close;const v=f.volume||0;o.currentCandle.volume=v}else o.currentCandle={open:r.open,high:r.high,low:r.low,close:r.close,volume:d,timestamp:u};i&&i(o.currentCandle)}else if(o.currentCandle){const f=o.currentCandle;f.high=Math.max(f.high,r.high),f.low=Math.min(f.low,r.low),f.close=r.close,o.isFirstDataPoint||(f.volume=(f.volume||0)+h),i&&i(f)}o.isFirstDataPoint=!1}L0.RENKO;const dy=10,ig=new Map;function hy(e){return ig.has(e)||ig.set(e,{lastData:null,lastUpdateTime:Date.now()}),ig.get(e)}function bB(e,r,t){var n;if(!r||r.length===0)return console.warn(`No data provided for Renko chart initialization (chart ${t})`),[];try{const i=((n=e.getStyles().candle.renko)==null?void 0:n.brick.size)||dy;e.getStyles().candle.type="candle_solid";const o=[...r].sort((f,v)=>f.timestamp-v.timestamp),s=vv(o,i,4);if(s.length===0)return console.warn(`Failed to generate Renko bricks for chart ${t} - using original data`),o;const u=o.at(-1),d=kB(u,s,i,4),h=SB(d,u);if(h.length>0){const f=hy(t);f.lastData=h.at(-1),f.lastUpdateTime=Date.now()}else console.warn(`No Renko bricks generated during initialization for chart ${t}`);return h}catch(i){return console.error(`Error initializing Renko chart ${t}:`,i),r}}function wB(e,r,t,n,i,o){r.subscribeTicker(t,n,s=>{if(e)try{const u=_B(e,s,i);if(u&&u.length>0){const d=u.at(-1),h=d.shadowPrice!==void 0?Number(d.shadowPrice):d.close,f=d.close>d.open,v={...d,open:d.open,close:d.close,high:f&&h>d.close?h:d.high,low:f?d.low:h<d.close?h:d.low};o?o(v):console.warn("setupRenkoSubscription called without callback - using deprecated updateData");const m=hy(i);m.lastData=v,m.lastUpdateTime=Date.now()}else console.warn(`Failed to update Renko chart ${i} - no valid bricks`)}catch(u){console.error(`Error updating Renko chart ${i}:`,u)}},i)}function _B(e,r,t){var n;try{const i=e.getDataList();if(!i||i.length===0)return console.warn(`No existing data found for Renko chart ${t}`),[];const o=((n=e.getStyles().candle.renko)==null?void 0:n.brick.size)||dy,s=i.at(-1),u=s.close,d=r.close,h=d-u;if(Math.abs(h)>=o){const f=[...i,r],v=vv(f,o,4);return v.length===0?(console.warn(`No Renko bricks generated for chart ${t}`),i):v}else{const f={...s,shadowPrice:d};return[...i.slice(0,-1),f]}}catch(i){return console.error(`Error in updateRenkoData for chart ${t}:`,i),[]}}function vv(e,r,t){var n,i,o,s;if(!e||e.length===0)return[];let u=[],d=e[0].open;for(let h=1;h<e.length;h++){const f=e[h].timestamp,v=e[h].close,m=Number((v-d).toFixed(t));if(m>0){let C=m;for(;C>=r;){const b=Number((d+r).toFixed(t)),_={open:d,high:b,low:d,close:b,timestamp:f};(u.length===0||b!==((n=u.at(-1))==null?void 0:n.open)&&b!==((i=u.at(-1))==null?void 0:i.close))&&u.push(_),d=b,C-=r}}else if(m<0){let C=Math.abs(m);for(;C>=r;){const b=Number((d-r).toFixed(t)),_={open:d,high:d,low:b,close:b,timestamp:f};(u.length===0||b!==((o=u.at(-1))==null?void 0:o.open)&&b!==((s=u.at(-1))==null?void 0:s.close))&&u.push(_),d=b,C-=r}}}return u}function kB(e,r,t,n){var i,o,s,u,d;if(r.length===0)return vv([{open:e.open,high:e.high,low:e.low,close:e.close,timestamp:e.timestamp-6e4},e],t,n);let h=[...r],f=((i=h.at(-1))==null?void 0:i.close)||0;const v=e.timestamp;let m=e.close;const C=Number((m-f).toFixed(n));if(C>0&&C>=t){const _=Math.floor(C/t);for(let k=0;k<_;k++){const S=Number((f+t).toFixed(n)),T={open:f,high:S,low:f,close:S,timestamp:v};(h.length===0||S!==((o=h.at(-1))==null?void 0:o.open)&&S!==((s=h.at(-1))==null?void 0:s.close))&&h.push(T),f=S}}else if(C<0&&Math.abs(C)>=t){const _=Math.floor(Math.abs(C)/t);for(let k=0;k<_;k++){const S=Number((f-t).toFixed(n)),T={open:f,high:f,low:S,close:S,timestamp:v};(h.length===0||S!==((u=h.at(-1))==null?void 0:u.open)&&S!==((d=h.at(-1))==null?void 0:d.close))&&h.push(T),f=S}}const b=C-Math.floor(Math.abs(C)/t)*(C>=0?t:-t);if(b!==0&&h.length>0){const _=h.at(-1),k=Number((_.close+b).toFixed(n));_.shadowPrice=k}return h}function SB(e,r){if(e.length===0)return e;const t=[...e],n=t[t.length-1],i=r.close,o={...n,shadowPrice:i};return t[t.length-1]=o,t}L0.RENKO;const MB=10;function mv(e){return e===L0.RENKO||String(e).toLowerCase()==="renko"}const Wo={multiplier:1,timespan:"minute",text:"1m"};function EB(e,r,t,n,i,o,s,u,d,h,f){pt(v=>{var m,C;const b=to(r().type);if(h(b),n())b.unsubscribeTicker(r(),Wo,i);else if(o)console.warn("No data being retrieved");else return v!=null?(Je(u).unsubscribeTicker(v.symbol,Wo,i),(v.symbol.ticker!==r().ticker||v.period.timespan!==t().timespan||v.period.multiplier!==t().multiplier)&&sy(i)):((m=e())==null||m.setPeriod({span:t().multiplier,type:t().timespan}),(C=e())==null||C.setSymbol({ticker:r().ticker,pricePrecision:r().pricePrecision??2,volumePrecision:r().volumePrecision??0})),o=!0,d(b),py({widget:Je(e),ticker:r(),interval:t(),tickerType:r().type,candleType:f?Je(f):void 0,uuid:i,setLoadingVisible:s}).finally(()=>{o=!1}),{symbol:r(),period:t()};return v})}async function py({widget:e,ticker:r,interval:t,tickerType:n,candleType:i,uuid:o,setLoadingVisible:s}){if(!e)return;const u=to(n);s&&s(!0),console.warn("Fetching market data"),sy(o);try{const[d,h]=jS(t,new Date().getTime(),500);let f=await u.getHistoricalTimeSeries(r,t,d,h,n);if(await new Promise(v=>setTimeout(v,1e3)),e==null)return;mv(i)&&f.length>0&&(f=bB(e,f,o)),e.setDataLoader({getBars:({callback:v})=>{console.warn("getBars called, returning",f.length,"data points"),v(f)},subscribeBar:({callback:v})=>{TB(e,u,r,o,i,t,v)},unsubscribeBar:()=>{console.warn("unsubscribeBar called"),u.unsubscribeTicker(r,Wo,o)}})}catch(d){console.warn("Error fetching market data",d),e.setDataLoader({getBars:({callback:h})=>{h([])}})}finally{s&&s(!1)}}function TB(e,r,t,n,i,o,s){if(mv(i)){e.getStyles().candle.type="candle_solid",wB(e,r,t,Wo,n,s);return}r.subscribeTicker(t,Wo,u=>{s?em(e,u,o||Wo,n,s):em(e,u,o||Wo,n)},n)}const h0=new Map;class kp{constructor(r,t,n){Re(this,"chart"),Re(this,"replayCandle"),Re(this,"replaySpeed"),Re(this,"hasReplaySpeedChanged",!1),Re(this,"dataList",[]),Re(this,"currentReplayData",[]),Re(this,"isPaused",!1),Re(this,"currentCallback",null),Re(this,"currentRightList",[]),Re(this,"selectedCandleIndex",null),Re(this,"currentIndex",0),Re(this,"intervalId",null),this.chart=r,this.replayCandle=t,this.replaySpeed=n}static getInstance(r,t,n,i){var o;if(!h0.has(r)||((o=h0.get(r))==null?void 0:o.chart)==null){const s=new kp(t,n,i);h0.set(r,s)}return h0.get(r)}static destroyInstance(r){h0.has(r)&&h0.delete(r)}initializeReplayData(){var r;this.hasReplaySpeedChanged=!0,this.dataList=((r=this.chart)==null?void 0:r.getDataList())??[],this.selectedCandleIndex=this.replayCandle()}setupInitialChartState(r){var t;this.currentReplayData=[...r],(t=this.chart)==null||t.setDataLoader({getBars:({callback:n})=>{n(r)},subscribeBar:()=>{},unsubscribeBar:()=>{}})}getDataListToRightOfCandle(){try{if(!this.hasReplaySpeedChanged&&(this.initializeReplayData(),this.selectedCandleIndex!=null)){const r=this.selectedCandleIndex.dataIndex,t=this.dataList.slice(0,r+1),n=this.dataList.slice(r+1);return this.setupInitialChartState(t),n}if(this.selectedCandleIndex!==null)return this.dataList.slice(this.selectedCandleIndex.dataIndex+1)}catch(r){console.error("Error trying to get data to replay:",r)}return[]}isReplayPaused(){return this.isPaused&&this.currentIndex>0}isReplayActive(){return this.intervalId!==null}updateReplaySpeed(){try{if(!this.isReplayActive()||!this.currentCallback||this.currentRightList.length===0)return;const r=this.validateReplaySpeed();this.clearCurrentInterval(),this.createReplayInterval(this.currentRightList,this.currentCallback,r)}catch(r){console.error("Error updating replay speed:",r)}}validateReplaySpeed(){const r=Number(KI(this.replaySpeed().key));return isNaN(r)||r<=0?(console.warn("Invalid replay speed. Must be a positive number., Return set to 1x"),1e3):r}clearCurrentInterval(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}cleanupReplayState(){this.clearCurrentInterval(),this.currentCallback=null,this.currentRightList=[],this.isPaused=!1}createReplayInterval(r,t,n){this.intervalId=setInterval(()=>{try{if(this.currentIndex<r.length){const i=r[this.currentIndex];this.currentReplayData.push(i),t(i),this.currentIndex++}else this.cleanupReplayState()}catch(i){console.error("Error during replay interval:",i),this.clearCurrentInterval()}},n)}initializeFreshReplay(){if(this.currentIndex=0,this.isPaused=!1,this.selectedCandleIndex!=null){const r=this.selectedCandleIndex.dataIndex;this.currentReplayData=this.dataList.slice(0,r+1)}else this.currentReplayData=[]}prepareResumeReplay(){this.isPaused=!1}startReplay(r){var t;try{if(!Array.isArray(r)||r.length===0){console.warn("Invalid data provided for replay");return}const n=this.validateReplaySpeed();this.clearCurrentInterval(),this.isReplayPaused()?(this.prepareResumeReplay(),this.currentCallback?this.createReplayInterval(r,this.currentCallback,n):console.warn("No callback available for resume, this should not happen")):(this.initializeFreshReplay(),(t=this.chart)==null||t.setDataLoader({getBars:({callback:i})=>{console.warn("getBars called during replay, returning",this.currentReplayData.length,"data points"),i(this.currentReplayData)},subscribeBar:({callback:i})=>{this.currentCallback=i,this.createReplayInterval(r,i,n)},unsubscribeBar:()=>{this.cleanupReplayState()}})),this.currentRightList=[...r]}catch(n){console.log("Error starting replay:",n)}}pauseReplay(){try{this.intervalId!==null&&(this.clearCurrentInterval(),this.isPaused=!0)}catch(r){console.log("Error while pausing replay:",r)}}skipReplay(){try{this.pauseReplay(),this.currentReplayData=[...this.dataList],this.currentIndex=this.dataList.length,this.isPaused=!1,this.chart.setDataLoader({getBars:({callback:r})=>{r(this.dataList)}})}catch(r){console.log("Error while skipping to end:",r)}}}const IB=(e,r,t)=>{const n=()=>({key:"1x",text:jI("1x",e)}),i=W=>kp.getInstance(t,Je(o),()=>Je(_),W||(()=>Je(h))),[o,s]=pe(r),[u,d]=pe(!1),[h,f]=pe(n()),[v,m]=pe(!1),[C,b]=pe(!1),[_,k]=pe(null),[S,T]=pe(!0),[I,P]=pe(""),[L,z]=pe(!1),[R,V]=pe(!1);pt(()=>{const W=i();v()&&!C()?Je(_)!=null?(W.startReplay(W.getDataListToRightOfCandle()),V(!0),T(!1)):T(!0):(C()&&W.pauseReplay(),V(!1))}),pt(()=>{const W=h();R()&&i(()=>W).updateReplaySpeed()}),pt(()=>{u()?T(!0):(m(!1),b(!1))}),pt(()=>{L()&&(i().skipReplay(),$())});const $=()=>{k(null),d(!1),f(n()),m(!1),b(!0),T(!0),P(""),z(!1),kp.destroyInstance(t)};return{replayModalVisible:u,setReplayModalVisible:d,replaySpeed:h,setReplaySpeed:f,replayPlay:v,setReplayPlay:m,replayPaused:C,setReplayPaused:b,replayCandle:_,setReplayCandle:k,isAlertVisible:S,setIsAlertVisible:T,alertMessage:I,setAlertMessage:P,resetReplayState:$,setSkipToEnd:z,skipToEnd:L,isPlaying:R,setIsPlaying:V,setReplayWidget:s}};function LB(e){pt(()=>{e()})}const PB=L0.RENKO;function Qh(e){return String(e).toLowerCase()===PB}function AB(e,r,t,n,i,o,s,u,d,h){const[f,v]=pe(null);return pt(()=>{const m=e();if(m){const C=m.getStyles();C&&C.candle&&C.candle.type&&n(C.candle.type)}}),pt(()=>{const m=e(),C=r(),b=t();if(m==null||C==null)return;const _=f();v(b);const k={...C,candle:{...C.candle,type:b}};m.setStyles(k),m.resize();const S=Qh(b)&&!Qh(_),T=!Qh(b)&&Qh(_);(S||T)&&i&&o&&h&&m&&(console.log(`Candle type changed ${_} -> ${b}, refreshing data...`),tm(m,Je(s),Je(i),Je(o),b,h))}),pt(()=>{u()&&Je(e)&&(console.log("Renko update triggered"),tm(Je(e),Je(s),Je(i),Je(o),Je(t),h),d(!1))}),m=>{n(m);const C=e();if(C){const b=C.getStyles();b.candle.type=m,C.setStyles(b),St.getInstance(C).saveStyles()}}}function tm(e,r,t,n,i,o){r.unsubscribeTicker(t,Wo,o),py({widget:e,ticker:t,interval:n,tickerType:t.type,candleType:i,uuid:o})}const DB=(e,r,t,n)=>{pt(()=>{const i=r();if(i&&mv(e())){const o=s=>{s.preventDefault(),n({x:s.clientX,y:s.clientY}),t(!0)};i.addEventListener("contextmenu",o),Gn(()=>{i.removeEventListener("contextmenu",o)})}})};function FB(e){pt(()=>{$r()==="Dark Theme"||$r()==="Midnight Theme"||$r()==="Dark Gray Theme"||$r()==="Blue Theme"||$r()==="Red Theme"||$r()==="Green Theme"||$r()==="Yellow Theme"||$r(),Je(e).setStyles(Ea($r()))})}function RB(e,r){pt(async()=>{r()&&Je(e)&&await St.getInstance(Je(e)).removeAllOverlays()})}function OB({chart:e,chartIds:r,ticker:t,period:n,onTickerChange:i,onIntervalChange:o}){const s=ev(),u=Z5(),d=nv(),h=av(),f=_1(),v=t.ticker,m=t.type?String(t.type):void 0;s.registerChart(r,e,v,m),u.registerChart(r,e,v,m);const C=(_,k)=>{i&&i(_,k)};d.registerChart(r,e,v,m,n.timespan+n.multiplier,C);const b=_=>{o&&o(_)};return h.registerChart(r,e,v,m,n,b),f.registerChart(r,e,v,m,n.timespan+n.multiplier),{syncManager:s,timeSyncManager:u,tickerSyncManager:d,intervalSyncManager:h,drawingSyncManager:f,initialTicker:{symbol:v,type:m}}}function NB({chart:e,chartIds:r,isActiveChart:t,timeSyncManager:n}){let i=null,o=0,s={x:0,y:0},u={x:0,y:0};const d=e.getDom("candle_pane");if(!d)return()=>{};const h=(_,k)=>{if(t()){o=Date.now(),s={x:_,y:k};const S=d.getBoundingClientRect();u={x:_-S.left,y:k-S.top}}},f=(_,k)=>{var S;if(t()){const T=Date.now()-o,I=Math.sqrt(Math.pow(_-s.x,2)+Math.pow(k-s.y,2));if(T<300&&I<5){try{const P=e.convertFromPixel([u],{paneId:"candle_pane"});if(P&&Array.isArray(P)&&(S=P[0])!=null&&S.timestamp){const L=P[0].timestamp;n.syncTime(r,L)}}catch(P){console.error("[TimeSync] Error converting interaction position to timestamp:",P)}i&&clearTimeout(i),i=setTimeout(()=>{},150)}}},v=_=>{if(_.preventDefault(),_.touches.length===1){const k=_.touches[0];h(k.clientX,k.clientY)}},m=_=>{if(_.preventDefault(),_.changedTouches.length===1){const k=_.changedTouches[0];f(k.clientX,k.clientY)}},C=_=>{h(_.clientX,_.clientY)},b=_=>{f(_.clientX,_.clientY)};return d.addEventListener("mousedown",C),d.addEventListener("mouseup",b),d.addEventListener("touchstart",v,{passive:!1}),d.addEventListener("touchend",m,{passive:!1}),()=>{d.removeEventListener("mousedown",C),d.removeEventListener("mouseup",b),d.removeEventListener("touchstart",v),d.removeEventListener("touchend",m),i&&clearTimeout(i)}}function zB({chart:e,chartIds:r,isActiveChart:t,syncManager:n}){e.subscribeAction("onCrosshairChange",i=>{const o=i;if(o.paneId==="candle_pane"&&t()){if(!o.timestamp&&o.x!==void 0)try{const s=e.convertFromPixel([{x:o.x}],{paneId:o.paneId});if(s&&Array.isArray(s)&&s[0]){const u=s[0];if(u.timestamp&&(o.timestamp=u.timestamp),u.dataIndex!==void 0&&(o.dataIndex=u.dataIndex),u.dataIndex!==void 0){const d=e.getDataList();d&&d[u.dataIndex]&&(o.kLineData=d[u.dataIndex],!o.timestamp&&o.kLineData.timestamp&&(o.timestamp=o.kLineData.timestamp))}}}catch(s){console.error("Error converting x to timestamp:",s)}n.resetCrosshairVisibility(r),n.syncCrosshair(r,o)}})}function BB({ticker:e,chartIds:r,syncManager:t,timeSyncManager:n,drawingSyncManager:i,tickerSyncManager:o,initialTicker:s}){let u=s.symbol,d=s.type;pt(()=>{const h=e(),f=h.ticker,v=h.type?String(h.type):void 0;(f!==u||v!==d)&&(t.updateChartTicker(r,f,v),n.updateChartTicker(r,f,v),i.updateChartTicker(r,f,v),o.onTickerChange(r,f,v),u=f,d=v)})}function VB({period:e,chartIds:r,intervalSyncManager:t,drawingSyncManager:n,initialPeriod:i}){let o=i;pt(()=>{const s=e();(s.multiplier!==o.multiplier||s.timespan!==o.timespan)&&(t.updateChartInterval(r,s),n.updateChartInterval(r,s),t.onIntervalChange(r,s),o=s)})}function $B({ticker:e,period:r,chartIds:t,syncManager:n,timeSyncManager:i,drawingSyncManager:o,tickerSyncManager:s,intervalSyncManager:u,initialTicker:d}){BB({ticker:e,chartIds:t,syncManager:n,timeSyncManager:i,drawingSyncManager:o,tickerSyncManager:s,initialTicker:d});const h=r();VB({period:r,chartIds:t,intervalSyncManager:u,drawingSyncManager:o,initialPeriod:h})}const Eg=new Map;function WB({chart:e,period:r,ticker:t,chartIds:n,isActiveChart:i,onTickerChange:o,onIntervalChange:s}){if(!e())return;const u=e(),d=t(),h=r(),f=OB({chart:u,chartIds:n,ticker:d,period:h,onTickerChange:o,onIntervalChange:s}),v=NB({chart:u,chartIds:n,isActiveChart:i,timeSyncManager:f.timeSyncManager});Eg.set(n,v),zB({chart:u,chartIds:n,isActiveChart:i,syncManager:f.syncManager}),$B({ticker:t,period:r,chartIds:n,syncManager:f.syncManager,timeSyncManager:f.timeSyncManager,drawingSyncManager:f.drawingSyncManager,tickerSyncManager:f.tickerSyncManager,intervalSyncManager:f.intervalSyncManager,initialTicker:f.initialTicker})}function UB(e){const r=Eg.get(e);r&&(r(),Eg.delete(e)),ev().unregisterChart(e),Z5().unregisterChart(e),nv().unregisterChart(e),av().unregisterChart(e),_1().unregisterChart(e)}function HB(e,r){ev().updateChartStyles(e,r)}function YB({chartRef:e,period:r,setChart:t,timezone:n,documentResize:i}){window.addEventListener("resize",i);const o=XB(e,r);n&&n.key&&(console.log("setting timezone",n.key),o.setTimezone(n.key)),t(o);const s=o.getDom("candle_pane","yAxis"),u=document.createElement("span");return u.className="chartspire-price-unit",s==null||s.appendChild(u),{chart:o,priceUnitDom:u}}function XB(e,r){const t=m7(e,{formatter:{formatDate:n=>{const i=pB(),o=r();if(n.type==="xAxis"){const u=jB(o,n.template);return wn.formatDate(i,n.timestamp,u)}const s=GB(o);return wn.formatDate(i,n.timestamp,s)}}});if(!t)throw new Error("Failed to initialize chart");return t}function jB(e,r){switch(e.timespan){case"minute":return"HH:mm";case"hour":return"(DD) HH:mm";case"day":return e.multiplier===1?"MM-DD":"YYYY-MM-DD";case"week":return"YYYY-MM-DD";case"month":return"YYYY-MM";case"year":return"YYYY";default:return r}}function GB(e){switch(e.timespan){case"minute":return"MM-DD HH:mm";case"hour":return"YYYY-MM-DD HH:mm";case"day":case"week":return"YYYY-MM-DD";case"month":return"YYYY-MM";case"year":return"YYYY";default:return"YYYY-MM-DD HH:mm"}}async function KB({chart:e,layout:r,ticker:t,updateIndicators:n,addMainIndicatorsToChart:i}){const o=St.getInstance(e),s=await QB(o,r);await ZB(o,s,n,i);const u=await qB(o,s,e);return await JB(o,s,t,e),{savedStyles:u,layoutData:s}}async function QB(e,r){return r()===e.getDefaultLayout()?e.getDefaultLayoutData():await e.getLayoutFromStore()??e.getDefaultLayoutData()}async function ZB(e,r,t,n){const i=await e.getIndicators(r);t(i.indicators),n()}async function qB(e,r,t){const n=await e.getStyles(r);return n!=null&&t.setStyles(n),n}async function JB(e,r,t,n){const i=await e.getOverlays(r);at.forEach(i,o=>{var s;i!=null&&t().ticker===((s=o.tickerInfo)==null?void 0:s.ticker)&&t().type===o.tickerInfo.type&&n.createOverlay(o.overlay)})}function eV(e,r,t,n,i,o){t(e);const s=e.data.current.timestamp,u=new Date(s);n("Candle selected from date: "+u.toLocaleString()+" - Press play to start replay"),Bg(r),i(o)}function tV(e,r,t,n,i,o,s){const u=r.paneId,d=r.indicator,h=r.feature;if(d&&h){const f=d.name;switch(h.id){case"invisible":{e.overrideIndicator({name:f,visible:!0,paneId:u});break}case"visible":{e.overrideIndicator({name:f,visible:!1,paneId:u});break}case"setting":{const v=e.getIndicators({name:f,paneId:u});if(v&&v.length>0){const m=v[0];m&&t({visible:!0,indicatorName:f,paneId:u,calcParams:m.calcParams,styles:m.styles})}break}case"close":{if(u==="candle_pane"){const v=[...n()];e.removeIndicator({name:f,paneId:"candle_pane"}),v.splice(v.indexOf(f),1),i(v)}else{const v={...o()};e.removeIndicator({name:f,paneId:u}),delete v[f],s(v)}St.getInstance(e).saveIndicators();break}}}}function rV({chart:e,mainIndicators:r,setMainIndicators:t,subIndicators:n,setSubIndicators:i,setIndicatorSettingModalParams:o}){return s=>{tV(e,s,o,r,t,n,i)}}function nV({chart:e,layout:r,mainIndicators:t,setMainIndicators:n,subIndicators:i,setSubIndicators:o,setReplayCandle:s,setAlertMessage:u,setReplayWidget:d,setIndicatorSettingModalParams:h}){const f=rV({chart:e,mainIndicators:t,setMainIndicators:n,subIndicators:i,setSubIndicators:o,setIndicatorSettingModalParams:h});e.subscribeAction("onIndicatorTooltipFeatureClick",f),e.subscribeAction("onCandleBarClick",v=>{eV(v,r,s,u,d,e)})}async function iV({chart:e,setAllLayouts:r,layoutLimit:t}){const n=await St.getInstance(e).getNameOfAllLayouts();r(n.slice(0,t))}async function aV(e,r,t,n,i,o,s,u,d,h,f,v,m,C,b,_,k,S,T,I){const{chart:P,priceUnitDom:L}=YB({chartRef:e,period:r,setChart:n,timezone:I(),documentResize:_}),{savedStyles:z}=await KB({chart:P,layout:o,ticker:i,updateIndicators:k,addMainIndicatorsToChart:T});WB({chart:()=>P,period:r,ticker:i,chartIds:S.chartIds,isActiveChart:()=>S.isActiveChart,onTickerChange:S.onTickerChange,onIntervalChange:S.onIntervalChange}),z&&HB(S.chartIds,z),nV({chart:P,layout:o,mainIndicators:s,setMainIndicators:u,subIndicators:d,setSubIndicators:h,setReplayCandle:f,setAlertMessage:v,setReplayWidget:m,setIndicatorSettingModalParams:b}),await iV({chart:P,setAllLayouts:C,layoutLimit:S.layoutLimit}),sB(()=>P,i,L)}function oV(e){UB(e)}function rm(e,r,t,n,i){if(i){const o=i.getAttribute("data-chart-id");o&&oV(o)}if(window.removeEventListener("resize",e),r){const o={multiplier:1,timespan:"minute",text:"1m"};r.unsubscribeTicker(t,o,n)}Zm(kt.ALL)}const lV=e=>oe(tt,{get when(){return e.isActive},get children(){return oe(qN,{get widget(){return e.widget},get ticker(){return e.ticker},get setInterval(){return e.setInterval},get layout(){return e.layout},get allLayouts(){return e.allLayouts},get setAllLayouts(){return e.setAllLayouts},get layoutLimit(){return e.layoutLimit},get onLayoutChange(){return e.onLayoutChange},get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}})}}),sV=e=>{const[r,t]=pe(!1);return[oe(tt,{get when(){return e.overlayOptionsVisible},get children(){return oe(Hz,{get setOverlayVisible(){return e.setOverlayOptionsVisible},get overlay(){return e.overlayStyles},get widget(){return e.widget},get locale(){return e.locale},get currentLayout(){return e.currentLayout},get chartId(){return e.chartId},get overlayMousePosition(){return e.overlayMousePosition},setShowOverlaySetting:t})}}),oe(tt,{get when(){return r()},get children(){return oe(oy,{get widget(){return e.widget},get locale(){return e.locale},get overlay(){return e.overlayStyles},get setOverlayVisible(){return e.setOverlayOptionsVisible},setShowOverlaySetting:t,get chartId(){return e.chartId},onConfirm:n=>{console.log("Selected color:",n),t(!1)}})}})]};var cV=re("<div class=chartspire-ui-renko-setting-modal-content><div class=content><div class=setting-item><span></span></div><div class=setting-footer><button class=cancel-button></button><button class=confirm-button>");const uV=e=>{var r,t;const n=((t=(r=e.widget.getStyles().candle.renko)==null?void 0:r.brick)==null?void 0:t.size)||MB,[i,o]=pe(n.toString()),s=()=>{const d=e.widget.getStyles();d.candle.renko||(d.candle.renko={brick:{size:10}}),d.candle.renko||(d.candle.renko={brick:{size:10}});const h=Number(i());!isNaN(h)&&h>0?(d.candle.renko&&(d.candle.renko={brick:{size:h}}),e.widget.setStyles(d),St.getInstance(e.widget).saveStyles(),e.widget.resize(),e.setRenkoRefresh(!0),console.log(`Renko brick size updated to ${h}`)):console.error("Invalid brick size"),e.setShowRenkoSetting(!1),e.setRenkoPopupVisible(!1),e.onConfirm()},u=()=>{e.setShowRenkoSetting(!1)};return oe(Bl,{get title(){return A("renko_settings",e.locale)||"Renko Settings"},contentHeight:"auto",onClose:u,get children(){var d=cV(),h=d.firstChild,f=h.firstChild,v=f.firstChild,m=f.nextSibling,C=m.firstChild,b=C.nextSibling;return N(v,()=>A("brick_size",e.locale)||"Brick Size"),N(f,oe(Dl,{style:{width:"120px"},get value(){return i()},onChange:_=>o(_),min:.1}),null),C.$$click=u,N(C,()=>A("cancel",e.locale)||"Cancel"),b.$$click=s,N(b,()=>A("save",e.locale)||"Save"),d}})};_r(["click"]);var dV=re("<div class=chartspire-ui-popup-background><div class=popup><button>Brick Size Settings</button><button>Close");const hV=e=>{const[r,t]=pe(!1),n=s=>{s.preventDefault()},i=()=>{t(!0)},o=()=>{e.setRenkoPopupVisible(!1)};return(()=>{var s=dV(),u=s.firstChild,d=u.firstChild,h=d.nextSibling;return s.$$contextmenu=n,d.$$click=i,h.$$click=o,N(s,oe(tt,{get when(){return r()},get children(){return oe(uV,{get widget(){return e.widget},get locale(){return e.locale},get setRenkoPopupVisible(){return e.setRenkoPopupVisible},setShowRenkoSetting:t,get setRenkoRefresh(){return e.setRenkoRefresh},onConfirm:()=>{t(!1)}})}}),null),$e(f=>{var v=`${e.renkoMousePosition.y}px`,m=`${e.renkoMousePosition.x}px`;return v!==f.e&&((f.e=v)!=null?u.style.setProperty("top",v):u.style.removeProperty("top")),m!==f.t&&((f.t=m)!=null?u.style.setProperty("left",m):u.style.removeProperty("left")),f},{e:void 0,t:void 0}),s})()};_r(["contextmenu","click"]);var pV=re('<i class="icon-close chartspire-ui-load-icon">');const[nm,ag]=pe([]),og=new Set,[Zh,fV]=pe("en-US"),[gV,im]=pe(!1),[p0,lg]=pe({key:"America/New_York",text:xg("America/New_York","en-US")}),vV=e=>{og.has(e.chartIds)?console.warn(`Chart ${e.chartIds} is being mounted again, this may cause issues`):(console.log(`Mounting chart ${e.chartIds} for the first time`),og.add(e.chartIds));const r=Math.random().toString(36).slice(2,11),t={id:e.chartIds};let n=!1,i;const[o,s]=pe(null),[u,d]=pe(Vr.getDefaultDataFeed()),[h,f]=pe(Vr.getDefaultDataFeed()),[v,m]=pe(!1),[C,b]=pe(e.styles),[_,k]=pe(),[S,T]=pe("candle_solid"),[I,P]=pe(e.interval),[L,z]=pe(!1),[R,V]=pe(!1),[$,W]=pe([...e.mainIndicators]),[te,ue]=pe({}),[Y,Z]=pe({visible:!1,indicatorName:"",paneId:"",calcParams:[],styles:{}}),[q,G]=pe(!1),[K,X]=pe(""),[J,ee]=pe(e.drawingBarVisible),[H,ie]=pe(!1),[xe,Le]=pe(e.ticker),[Pe,be]=pe(St.getInstance(Je(o)).getDefaultLayout()),[He,Ae]=pe(!1),[Ne,ve]=pe(!1),[Te,Oe]=pe({x:0,y:0}),[Ze,Me]=pe(null),[nt,lt]=pe(!1),[Be,yt]=pe({x:0,y:0}),[Bt,Ot]=pe(!1),st=()=>{o().resize()};function lr(At){if(At&&At.length>0){W([]),ue({});const ft=aS(At),Ir=oS(At);W(ft);const vr={};Ir.forEach(Lr=>{if(Je(o)!=null){const fn=mp(Je(o),Lr,!1,!0);fn&&(vr[Lr]=fn)}}),ue(vr)}}function Wr(){$().forEach(At=>{Je(o)!=null&&Je(o).getIndicators({paneId:"candle_pane",name:At}).length===0&&mp(Je(o),At,!1,!0,{id:"candle_pane"})})}Ia(()=>{const At={destroy:()=>{console.log("MainUI destroy called for chart:",e.chartIds),rm(st,u(),xe(),r,i)},setStyles:ft=>{setTimeout(()=>{o().setStyles(ft),BS(ft)},50)},getStyles:()=>{const ft=o();return ft?ft.getStyles():{}},setLocale:ft=>{var Ir;fV(ft),(Ir=o())==null||Ir.setLocale(ft),lg({key:p0().key,text:xg(p0().key,ft)})},getLocale:()=>Zh(),setTimezone:ft=>{lg({key:ft,text:xg(ft,Zh())})},getTimezone:()=>p0().key,setTicker:(ft,Ir)=>{var vr;(vr=u())==null||vr.unsubscribeTicker(xe(),Wo,r),d(Ir),Le(ft)},getTicker:()=>xe(),setInterval:ft=>{var Ir;(Ir=u())==null||Ir.unsubscribeTicker(xe(),Wo,r),P(ft)},getInterval:()=>I(),getMultiCharts:()=>e.multiChartLimit,getUnderlyingChart:()=>o()};e.ref(At)});const{replayModalVisible:Ur,setReplayModalVisible:ar,replaySpeed:Tt,setReplaySpeed:Ut,setReplayPlay:Kt,setReplayPaused:zr,replayCandle:or,setReplayCandle:Tr,isAlertVisible:Mt,alertMessage:Ve,setAlertMessage:bt,resetReplayState:xt,setSkipToEnd:wt,isPlaying:Ct,setReplayWidget:Wt}=IB(e.locale,o(),t),Ht=AB(o,_,S,T,xe,I,u,Bt,Ot,r);Ia(async()=>{await aV(i,I,o,s,xe,Pe,$,W,te,ue,Tr,bt,Wt,ag,Z,st,lr,e,Wr,p0)}),Gn(()=>{rm(st,u(),xe(),r,i),console.log(`Removing chart ${e.chartIds} from mounted charts tracking`),og.delete(e.chartIds)}),EB(o,xe,I,Ur,r,n,ie,h,f,d,S),mB(o,e.theme),dB(o,Zh),fB(o,p0,st),gB(o,C,k),iB(()=>e.multiChartLimit,st),cB(()=>e.resizeChart,st),uB(()=>e.rightBarExpandedViewVisible,st),nB(()=>e.isActiveChart,xe),rB(Pe,()=>e.isActiveChart,Ae),aB(()=>e.isActiveChart,o,Pe,xe,He,W,ue,lr,ve,Me,Oe,T),LB(Wr),DB(()=>S(),()=>i,lt,yt),FB(o),RB(o,xe);const ur=At=>{i=At};return[pV(),oe(sV,{get overlayOptionsVisible(){return Ne()},setOverlayOptionsVisible:ve,get overlayStyles(){return Ze()},get widget(){return o()},get locale(){return e.locale},get currentLayout(){return Pe()},get chartId(){return e.chartIds},get overlayMousePosition(){return Te()}}),oe(tt,{get when(){return nt()},get children(){return oe(hV,{get widget(){return o()},setRenkoPopupVisible:lt,get locale(){return Zh()},get renkoMousePosition(){return Be()},setRenkoRefresh:Ot})}}),oe(tB,{get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},setTicker:Le,get symbolTickerModalVisible(){return L()},setTickerSearchModalVisible:z,get locale(){return e.locale}}),oe(iL,{mainIndicators:$,setMainIndicators:W,subIndicators:te,setSubIndicators:ue,get indicatorModalVisible(){return R()},setIndicatorModalVisible:V,get widget(){return o()},get locale(){return e.locale},get currentLayout(){return Pe()}}),oe(tt,{get when(){return v()},get children(){return oe(xL,{get multiChart(){return e.multiChartLimit},get maxMultiCharts(){return e.maxMultiCharts},get onMultiChartClick(){return e.onMultiChartClick},setMultiChartModalVisible:m,get locale(){return e.locale}})}}),oe(qI,{get locale(){return e.locale},get replaySpeed(){return Tt()},setReplaySpeed:Ut,get replayCandle(){return or()},onPlay:Kt,onPause:zr,onClose:xt,skipReplay:wt,isPlaying:Ct,get chartId(){return e.chartIds},get isAlertVisible(){return Mt()},get alertMessage(){return Ve()},get replayModalVisible(){return Ur()},get isActive(){return e.isActiveChart}}),oe(Yz,{get timezone(){return p0()},setTimezone:lg,get timezoneModalVisible(){return gV()},setTimezoneModalVisible:im,get locale(){return e.locale}}),oe(Xz,{settingModalVisible:q,setSettingModalVisible:G,get widget(){return o()},widgetDefaultStyles:_,get locale(){return e.locale},get currentLayout(){return Pe()}}),oe(jz,{get screenshotUrl(){return K()},setScreenshotUrl:X,get locale(){return e.locale}}),oe(Gz,{get locale(){return e.locale},get widget(){return o()},get indicatorSettingModalParams(){return Y()},setIndicatorSettingModalParams:Z}),oe(Kz,{get rootContainer(){return e.rootContainer},get locale(){return e.locale},get ticker(){return xe()},get spread(){return J()},get period(){return I()},setPeriod:P,get periods(){return e.periods},get multiChart(){return e.multiChartLimit},get widget(){return o()},get theme(){return e.theme},get isActive(){return e.isActiveChart},setIndicatorModalVisible:V,setMultiChartModalVisible:m,get replayModalVisible(){return Ur()},setReplayModalVisible:ar,setSettingModalVisible:G,setScreenshotUrl:X,setTimezoneModalVisible:im,get tickerSearchModalVisible(){return L()},setTickerSearchModalVisible:z,get drawingBarVisible(){return J()},setDrawingBarVisible:ee,get layout(){return Pe()},setLayout:be,get allLayouts(){return nm()},setAllLayouts:ag,get layoutLimit(){return e.layoutLimit},get currentCandleType(){return S()},onCandleTypeChange:Ht}),oe(Qz,{get isActive(){return e.isActiveChart},get locale(){return e.locale},get drawingBarVisible(){return J()},get widget(){return o()},get currentLayout(){return Pe()},setOverlaySettingVisible:ve,setOverlayStyles:Me,setOverlayMousePosition:Oe,get chartIds(){return e.chartIds}}),oe(lV,{get isActive(){return e.isActiveChart},get widget(){return o()},get ticker(){return xe()},setInterval:P,get layout(){return Pe()},get allLayouts(){return nm()},setAllLayouts:ag,get layoutLimit(){return e.layoutLimit},onLayoutChange:be,get theme(){return e.theme},get setTheme(){return e.setTheme},get locale(){return e.locale},get themeUseExternalStorage(){return e.themeUseExternalStorage}}),oe(eB,{ref:ur,get chartIds(){return e.chartIds},get multiChart(){return e.multiChartLimit},get isActive(){return e.isActiveChart},get loadingVisible(){return H()},get drawingBarVisible(){return J()},get onClick(){return e.onClick}})]};function mV(e,r,t){const[n,i]=pe(e.ticker),[o,s]=pe(r.reduce((u,d)=>(u[d]=e.ticker,u),{}));return pt(()=>{const u=Je(t);u!=null&&s(d=>({...d,[u]:n()}))}),[n,i,o,s]}function yV(e,r,t){pt(()=>{const n=e.slice(0,r());t(n[0])})}function xV(e,r){pt(()=>{e==null||e.setAttribute("data-theme",r()),localStorage.setItem(yv,r())})}var CV=re('<div class="modal-panel watchlist-panel">'),bV=re('<div class="modal-panel paper-trading-panel">'),wV=re('<div class="modal-panel dom-panel">'),_V=re('<div class="split-handle first-split-handle"><div class=split-handle-indicator>'),kV=re("<div>"),SV=re("<div class=chartspire-ui-right-bar-extended-view><div class=resizable-handle>");const MV=e=>{const[r,t]=pe(parseInt(getComputedStyle(document.documentElement).getPropertyValue("--right-bar-extended-view-width"),10)),[n,i]=pe(0),[o,s]=pe(50),[u,d]=pe(75);let h,f,v,m,C=0,b=0;const _=_e(()=>{const G=[];return e.watchListModalVisible&&G.push("watchlist"),e.paperTradingModalVisible&&G.push("papertrading"),e.domModalVisible&&G.push("dom"),G}),k=_e(()=>_().length),S=_e(()=>k()===2),T=G=>{const K=_(),X=K.indexOf(G);return K.length===1?"100%":K.length===2?X===0?`${o()}%`:`${100-o()}%`:"100%"};pt(()=>{if(e.chart&&e.paperTradingModalVisible&&e.currentTicker){const G=()=>{try{const X=e.chart.getDataList();if(X&&X.length>0){const J=X[X.length-1];i(J.close||0)}}catch(X){console.error("Error getting current price from chart:",X)}};G();const K=setInterval(G,1e3);return()=>{clearInterval(K)}}});const I=G=>{h=G.clientX,f=r(),document.addEventListener("mousemove",P),document.addEventListener("mouseup",L)},P=G=>{const K=f-(G.clientX-h);t(K),document.documentElement.style.setProperty("--right-bar-extended-view-width",`${K}px`),e.resizeChart(X=>!X)},L=()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",L)},z=G=>{G.preventDefault(),G.stopPropagation(),v=G.clientY,m=o(),document.addEventListener("mousemove",R),document.addEventListener("mouseup",V)},R=G=>{const K=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!K)return;const X=K.getBoundingClientRect(),J=(G.clientY-v)/X.height*100;let ee=m+J;ee=Math.max(20,Math.min(80,ee)),s(ee)},V=()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",V)},$=G=>{G.preventDefault(),G.stopPropagation();const K=G.touches[0];K&&(v=K.clientY,m=o(),document.addEventListener("touchmove",W,{passive:!1}),document.addEventListener("touchend",te))},W=G=>{G.preventDefault();const K=G.touches[0];if(!K)return;const X=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!X)return;const J=X.getBoundingClientRect(),ee=(K.clientY-v)/J.height*100;let H=m+ee;H=Math.max(20,Math.min(80,H)),s(H)},te=()=>{document.removeEventListener("touchmove",W),document.removeEventListener("touchend",te)},ue=G=>{const K=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!K)return;const X=K.getBoundingClientRect(),J=(G.clientY-C)/X.height*100;let ee=b+J;const H=o()+15;ee=Math.max(H,Math.min(95,ee)),d(ee)},Y=()=>{document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",Y)},Z=G=>{G.preventDefault();const K=G.touches[0];if(!K)return;const X=document.querySelector(".chartspire-ui-right-bar-extended-view .modal-container");if(!X)return;const J=X.getBoundingClientRect(),ee=(K.clientY-C)/J.height*100;let H=b+ee;const ie=o()+15;H=Math.max(ie,Math.min(95,H)),d(H)},q=()=>{document.removeEventListener("touchmove",Z),document.removeEventListener("touchend",q)};return Gn(()=>{console.log("Cleaning up right bar extended view modal"),document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",L),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",V),document.removeEventListener("touchmove",W),document.removeEventListener("touchend",te),document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",Y),document.removeEventListener("touchmove",Z),document.removeEventListener("touchend",q)}),(()=>{var G=SV(),K=G.firstChild;return K.$$mousedown=I,N(G,oe(tt,{get when(){return k()>0},get children(){var X=kV();return N(X,oe(tt,{get when(){return e.watchListModalVisible},get children(){var J=CV();return N(J,oe(iE,{get locale(){return e.locale},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get watchListLimit(){return e.watchListLimit},get subscribedTickersURL(){return e.subscribedTickersURL},get setTicker(){return e.setTicker},get useExternalWatchListStorage(){return e.useExternalWatchListStorage}})),$e(ee=>(ee=T("watchlist"))!=null?J.style.setProperty("height",ee):J.style.removeProperty("height")),J}}),null),N(X,oe(tt,{get when(){return e.paperTradingModalVisible},get children(){var J=bV();return N(J,oe(OI,{get ticker(){return e.currentTicker||{ticker:"",type:null}},get currentPrice(){return n()},get locale(){return e.locale},get dataFeeds(){return new Map([[kt.STOCKS.toString(),e.stockDataFeed],[kt.CRYPTO.toString(),e.cryptoDataFeed],[kt.FOREX.toString(),e.forexDataFeed],[kt.FUTURES.toString(),e.futuresDataFeed]].filter(([ee,H])=>H!==null))},get priceTrackingConfig(){return{updateInterval:e.priceTrackingInterval,enableLogging:e.priceTrackingLogging}},get paperTradingUseExternalStorage(){return e.useExternalPaperTradingStorage},get paperTradingMaxTrades(){return e.paperTradingMaxTrades}})),$e(ee=>(ee=T("papertrading"))!=null?J.style.setProperty("height",ee):J.style.removeProperty("height")),J}}),null),N(X,oe(tt,{get when(){return e.domModalVisible},get children(){var J=wV();return N(J,oe(XI,{get locale(){return e.locale},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get currentTicker(){return e.currentTicker}})),$e(ee=>(ee=T("dom"))!=null?J.style.setProperty("height",ee):J.style.removeProperty("height")),J}}),null),N(X,oe(tt,{get when(){return S()},get children(){var J=_V();return J.$$touchstart=$,J.$$mousedown=z,$e(ee=>(ee=`${o()}%`)!=null?J.style.setProperty("top",ee):J.style.removeProperty("top")),J}}),null),$e(()=>er(X,`modal-container ${S()?"split-view":"single-view"}`)),X}}),null),$e(X=>(X=`${r()}px`)!=null?G.style.setProperty("width",X):G.style.removeProperty("width")),G})()};_r(["mousedown","touchstart"]);const EV=2,TV=e=>{let r,t,n,i,o,s;const[u,d]=pe([]);e.isWatchListEnabled&&([r,t]=pe(!1)),e.isPaperTradingEnabled&&([n,i]=pe(!1)),e.isOrderBookEnabled&&([o,s]=pe(!1));const h=(C,b,_)=>!b||!_?null:k=>{const S=_(),T=typeof k=="function"?k(S):k;d(T?I=>{const P=I.filter(L=>L!==C);if(P.push(C),P.length>EV){const L=P.shift();if(L)switch(L){case"watchlist":t&&t(!1);break;case"papertrading":i&&i(!1);break;case"orderbook":s&&s(!1);break}}return P}:I=>I.filter(P=>P!==C)),b(T)},f=h("watchlist",t,r),v=h("papertrading",i,n),m=h("orderbook",s,o);return pt(()=>{((r==null?void 0:r())??!1)||((n==null?void 0:n())??!1)||((o==null?void 0:o())??!1)?e.setRightBarExpandedViewVisible(!0):e.setRightBarExpandedViewVisible(!1),e.resizeChart(C=>!C)}),[oe(AA,{get isWatchListEnabled(){return e.isWatchListEnabled},get isPaperTradingEnabled(){return e.isPaperTradingEnabled},get watchListModalVisible(){return r!=null?r():!1},get paperTradingModalVisible(){return n!=null?n():!1},get isOrderBookEnabled(){return e.isOrderBookEnabled},get orderBookModalVisible(){return o!=null?o():!1},setWatchListModalVisible:f,setPaperTradingModalVisible:v,setOrderBookVisible:m}),oe(tt,{get when(){return e.rightBarExpandedViewVisible()},get children(){return oe(MV,{get locale(){return e.locale},get stockDataFeed(){return e.stockDataFeed},get cryptoDataFeed(){return e.cryptoDataFeed},get forexDataFeed(){return e.forexDataFeed},get futuresDataFeed(){return e.futuresDataFeed},get watchListModalVisible(){return r!=null?r():!1},get paperTradingModalVisible(){return n!=null?n():!1},get domModalVisible(){return o!=null?o():!1},get priceTrackingInterval(){return e.paperTradingPriceTrackingInterval},get priceTrackingLogging(){return e.paperTradingPriceTrackingLogging},get useExternalPaperTradingStorage(){return e.paperTradingUseExternalStorage},get paperTradingMaxTrades(){return e.paperTradingMaxTrades},get watchListLimit(){return e.watchListLimit},get subscribedTickersURL(){return e.subscribedTickersURL??null},get setTicker(){return e.setTicker},get resizeChart(){return e.resizeChart},get useExternalWatchListStorage(){return e.watchListUseExternalStorage},get chart(){return e.chart},get currentTicker(){return e.currentTicker}})}})]},IV=e=>({[U.ONE]:1,[U.TWO]:2,[U.TWO_VERTICAL]:2,[U.THREE]:3,[U.THREE_VERTICAL]:3,[U.THREE_MIXED]:3,[U.THREE_MIXED_REVERSE]:3,[U.THREE_MIXED_BOTTOM]:3,[U.THREE_MIXED_TOP]:3,[U.FOUR]:4,[U.FOUR_VERTICAL]:4,[U.FOUR_HORIZONTAL]:4,[U.FOUR_MIXED]:4,[U.FOUR_MIXED_REVERSE]:4,[U.FOUR_MIXED_TOP]:4,[U.FOUR_MIXED_BOTTOM]:4,[U.FIVE_VERTICAL]:5,[U.FIVE_HORIZONTAL]:5,[U.FIVE_MIXED]:5,[U.FIVE_MIXED_REVERSE]:5,[U.FIVE_MIXED_TOP]:5,[U.SIX]:6,[U.SIX_HORIZONTAL]:6,[U.SIX_VERTICAL]:6,[U.SIX_MIXED]:6,[U.SEVEN_HORIZONTAL]:7,[U.SEVEN_VERTICAL]:7,[U.EIGHT]:8,[U.EIGHT_VERTICAL]:8,[U.EIGHT_HORIZONTAL]:8,[U.NINE]:9,[U.NINE_VERTICAL]:9,[U.NINE_HORIZONTAL]:9,[U.TEN]:10,[U.TEN_VERTICAL]:10,[U.TEN_HORIZONTAL]:10,[U.TWELVE]:12,[U.TWELVE_VERTICAL]:12,[U.TWELVE_HORIZONTAL]:12,[U.TWELVE_GRID]:12,[U.FOURTEEN]:14,[U.SIXTEEN]:16})[e]??e,LV=e=>({[U.ONE]:"one-charts",[U.TWO]:"two-charts",[U.TWO_VERTICAL]:"two-charts-vertical",[U.THREE]:"three-charts",[U.THREE_VERTICAL]:"three-charts-vertical",[U.THREE_MIXED]:"three-charts-mixed",[U.THREE_MIXED_REVERSE]:"three-charts-mixed-reverse",[U.THREE_MIXED_BOTTOM]:"three-charts-mixed-bottom",[U.THREE_MIXED_TOP]:"three-charts-mixed-top",[U.FOUR]:"four-charts",[U.FOUR_VERTICAL]:"four-charts-vertical",[U.FOUR_HORIZONTAL]:"four-charts-horizontal",[U.FOUR_MIXED]:"four-charts-mixed",[U.FOUR_MIXED_REVERSE]:"four-charts-mixed-reverse",[U.FOUR_MIXED_TOP]:"four-charts-mixed-top",[U.FOUR_MIXED_BOTTOM]:"four-charts-mixed-bottom",[U.FIVE_VERTICAL]:"five-charts-vertical",[U.FIVE_HORIZONTAL]:"five-charts-horizontal",[U.FIVE_MIXED]:"five-charts-mixed",[U.FIVE_MIXED_REVERSE]:"five-charts-mixed-reverse",[U.FIVE_MIXED_TOP]:"five-charts-mixed-top",[U.SIX]:"six-charts",[U.SIX_HORIZONTAL]:"six-charts-horizontal",[U.SIX_VERTICAL]:"six-charts-vertical",[U.SIX_MIXED]:"six-charts-mixed",[U.SEVEN_HORIZONTAL]:"seven-charts-horizontal",[U.SEVEN_VERTICAL]:"seven-charts-vertical",[U.EIGHT]:"eight-charts",[U.EIGHT_VERTICAL]:"eight-charts-vertical",[U.EIGHT_HORIZONTAL]:"eight-charts-horizontal",[U.NINE]:"nine-charts",[U.NINE_VERTICAL]:"nine-charts-vertical",[U.NINE_HORIZONTAL]:"nine-charts-horizontal",[U.TEN]:"ten-charts",[U.TEN_VERTICAL]:"ten-charts-vertical",[U.TEN_HORIZONTAL]:"ten-charts-horizontal",[U.TWELVE]:"twelve-charts",[U.TWELVE_VERTICAL]:"twelve-charts-vertical",[U.TWELVE_HORIZONTAL]:"twelve-charts-horizontal",[U.TWELVE_GRID]:"twelve-charts-grid",[U.FOURTEEN]:"fourteen-charts",[U.SIXTEEN]:"sixteen-charts"})[e]??"one-charts";var PV=re("<div class=chartspire><div>");let op=!0;const[C0,Sp]=pe(1);let fy=250;const yv="chartspire-theme";let ka="en-US";const AV=localStorage.getItem(yv)??A("Light Theme 1",ka),[$r,am]=pe(AV),[eo,om]=pe("chart1");class DV{constructor(r){Re(this,"_rootContainer",null),Re(this,"_container"),Re(this,"_chartApi",null),Re(this,"_chartComponentApis",{}),Re(this,"_dispose"),Re(this,"_allChartIds",[]),Re(this,"_visibleChartIds",()=>[]);var t,n;if(r.theme&&am(r.theme),ka=r.locale??"en-US",wn.isString(r.container)){if(this._container=document.getElementById(r.container),this._container==null)throw new Error("Container is null")}else this._container=r.container;qg(),this._rootContainer=document.createElement("div"),this._rootContainer.className="chartspire-root-container",(t=this._container)==null||t.appendChild(this._rootContainer),this._container.classList.add("chartspire-ui"),(n=this._container)==null||n.setAttribute("data-theme",$r()),r.fontFamily?(this._container.style.setProperty("--chartspire-ui-font-family",r.fontFamily),console.log("ChartSpire: Font family set to:",r.fontFamily),console.log("ChartSpire: CSS custom property value:",this._container.style.getPropertyValue("--chartspire-ui-font-family"))):this._container.style.setProperty("--chartspire-ui-font-family",'Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'),xV(this._container,$r),_M(r),op=r.layoutUseExternalStorage??!1,fy=r.multiChartDelay??500,this._dispose=w0(i=>{let o=r.multiChartLimit??U.SIXTEEN;(o<1||o>16)&&(o=U.SIXTEEN,console.warn("Invalid multiChartLimit value. It must be between 1 and 16. Defaulting to 16."));const s=["chart1","chart2","chart3","chart4","chart5","chart6","chart7","chart8","chart9","chart10","chart11","chart12","chart13","chart14","chart15","chart16"].slice(0,o);this._allChartIds=s,Sp(U.ONE);const u=_e(()=>{const S=C0(),T=IV(S);return s.slice(0,T)});this._visibleChartIds=u;const[d,h]=pe(!1),[f,v]=pe(!1);let[m,C]=pe(r.ticker),[b,_]=pe({});r.watchlistEnabled===!0&&([m,C,b,_]=mV(r,s,eo)),yV(s,C0,eo);const k=S=>{om(S)};return PS(()=>{const S=this;return(()=>{var T=PV(),I=T.firstChild;return ra(P=>S._rootContainer=P,T),N(I,oe(li,{get each(){return u()},children:(P,L)=>oe(vV,{ref:z=>{if(S._chartApi=z,(z==null?void 0:z.destroy)!=null){S._chartComponentApis[P]={onCleanUp:z.destroy,chart:z,underlyingChart:null};const R=()=>{var V;const $=(V=z.getUnderlyingChart)==null?void 0:V.call(z);$?S._chartComponentApis[P].underlyingChart=$:setTimeout(R,100)};R()}},get rootContainer(){return S._rootContainer},get styles(){return r.styles??{}},watermark:"options.watermark ?? (Logo as Node)",get locale(){return r.locale??"en-US"},get drawingBarVisible(){return r.drawingBarVisible??!0},get ticker(){var z;return((z=b())==null?void 0:z[P])??r.ticker},get interval(){return r.interval},get periods(){return r.periods??[{multiplier:1,timespan:dn.MINUTE,text:Ue.ONE_MIN},{multiplier:3,timespan:dn.MINUTE,text:Ue.THREE_MIN},{multiplier:5,timespan:dn.MINUTE,text:Ue.FIVE_MIN},{multiplier:15,timespan:dn.MINUTE,text:Ue.FIFTEEN_MIN},{multiplier:30,timespan:dn.MINUTE,text:Ue.THIRTY_MIN},{multiplier:1,timespan:dn.HOUR,text:Ue.ONE_HOUR},{multiplier:2,timespan:dn.HOUR,text:Ue.TWO_HOUR},{multiplier:4,timespan:dn.HOUR,text:Ue.FOUR_HOUR},{multiplier:1,timespan:dn.DAY,text:Ue.ONE_DAY},{multiplier:1,timespan:dn.WEEK,text:Ue.ONE_WEEK},{multiplier:1,timespan:dn.MONTH,text:Ue.ONE_MONTH}]},get timezone(){return r.timezone??"UTC"},get mainIndicators(){return r.mainIndicators??[]},get subIndicators(){return r.subIndicators??[]},maxMultiCharts:o,get defaultDataFeed(){return Vr.getDefaultDataFeed()},get stockDataFeed(){return r.stockDataFeed??null},get cryptoDataFeed(){return r.cryptoDataFeed??null},get forexDataFeed(){return r.forexDataFeed??null},get futuresDataFeed(){return r.futuresDataFeed??null},get layoutLimit(){return r.layoutLimit??20},get themeUseExternalStorage(){return r.themeUseExternalStorage??!1},onClick:()=>{k(P)},get isActiveChart(){return eo()===P},get multiChartLimit(){return C0()},onMultiChartClick:lL,chartIds:P,get theme(){return $r()},setTheme:am,onTickerChange:(z,R)=>{console.log(`[ChartSpire] Handling ticker change for chart ${P}: ${z}:${R}`);let V=Vr.getDefaultDataFeed();if(R)switch(R){case"stock":V=r.stockDataFeed??Vr.getDefaultDataFeed();break;case"crypto":V=r.cryptoDataFeed??Vr.getDefaultDataFeed();break;case"forex":V=r.forexDataFeed??Vr.getDefaultDataFeed();break;case"futures":V=r.futuresDataFeed??Vr.getDefaultDataFeed();break;default:V=Vr.getDefaultDataFeed()}const $={ticker:z,type:R||"stock"};S.setTicker($,P,V)},onIntervalChange:z=>{console.log(`[ChartSpire] Handling interval change for chart ${P}: ${z.text}`),S.setInterval(z,P)},get rightBarExpandedViewVisible(){return d()},get resizeChart(){return f()}})})),N(T,oe(TV,{get isWatchListEnabled(){return r.watchlistEnabled??!1},get isPaperTradingEnabled(){return r.paperTradingEnabled??!1},get isOrderBookEnabled(){return r.orderBookEnabled??!1},get paperTradingPriceTrackingInterval(){return r.paperTradingPriceTrackingInterval},get paperTradingPriceTrackingLogging(){return r.paperTradingPriceTrackingLogging},get paperTradingUseExternalStorage(){return r.paperTradingUseExternalStorage??!1},get paperTradingMaxTrades(){return r.paperTradingMaxTrades},get subscribedTickersURL(){return r.subscribedTickersURL??null},get watchListLimit(){return r.watchListLimit??50},get watchListUseExternalStorage(){return r.watchListUseExternalStorage??!1},setTicker:C,rightBarExpandedViewVisible:d,setRightBarExpandedViewVisible:h,get locale(){return r.locale??"en-US"},get stockDataFeed(){return r.stockDataFeed??null},get cryptoDataFeed(){return r.cryptoDataFeed??null},get forexDataFeed(){return r.forexDataFeed??null},get futuresDataFeed(){return r.futuresDataFeed??null},resizeChart:v,get chart(){var P;return((P=S._chartComponentApis[eo()])==null?void 0:P.underlyingChart)||null},get currentTicker(){return _e(()=>{var P;return!!((P=S._chartComponentApis[eo()])!=null&&P.chart)})()&&S._chartComponentApis[eo()].chart.getTicker(eo())||void 0}}),null),$e(P=>{var L=`chartspire-ui-parent-flex ${LV(C0())}`,z=d();return L!==P.e&&er(I,P.e=L),z!==P.t&&Ge(I,"right-bar-extended-view-visible",P.t=z),P},{e:void 0,t:void 0}),T})()},this._container),i})}setTheme(r){var t;const n=[A("Light Theme 1",ka),A("Light Theme 2",ka),A("Midnight Theme",ka),A("Dark Theme",ka),A("Dark Gray Theme",ka),A("Blue Theme",ka),A("Red Theme",ka),A("Green Theme",ka),A("Yellow Theme",ka),A("Pink Theme",ka)];if(!n.includes(r)){console.error("Invalid theme: ",r," should be one of: ",n);return}(t=this._container)==null||t.setAttribute("data-theme",r)}getTheme(){return $r()}setStyles(r){Object.values(this._chartComponentApis).forEach(t=>{console.log("setting styles",r),t.chart.setStyles(r)})}getStyles(){return this._chartComponentApis[eo()].chart.getStyles()}setLocale(r){Object.values(this._chartComponentApis).forEach(t=>{console.log("setting locale",r),t.chart.setLocale(r)})}getLocale(){var r;return((r=this._chartApi)==null?void 0:r.getLocale())??"en-US"}setFontFamily(r){this._container&&(this._container.style.setProperty("--chartspire-ui-font-family",r),console.log("ChartSpire: Font family updated to:",r),console.log("ChartSpire: CSS custom property value:",this._container.style.getPropertyValue("--chartspire-ui-font-family")))}getFontFamily(){return this._container&&this._container.style.getPropertyValue("--chartspire-ui-font-family")||'Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'}setTimezone(r){Object.values(this._chartComponentApis).forEach(t=>{t.chart.setTimezone(r)})}getTimezone(){var r;return((r=this._chartApi)==null?void 0:r.getTimezone())??"America/New_York"}setTicker(r,t,n){if(this._chartComponentApis[t]==null){console.error("Chart not found: ",t);return}if(n==null){console.error("Data feed is null");return}this._chartComponentApis[t].chart.setTicker(r,t,n)}getTicker(r){return this._chartComponentApis[r]==null?(console.error("Chart not found: ",r),null):this._chartComponentApis[r].chart.getTicker(r)}setInterval(r,t){if(this._chartComponentApis[t]==null){console.error("Chart not found: ",t);return}this._chartComponentApis[t].chart.setInterval(r,t)}getInterval(r){return this._chartComponentApis[r]==null?(console.error("Chart not found: ",r),null):this._chartComponentApis[r].chart.getInterval(r)}getActiveChart(){return this._chartApi}getChart(r){return this._chartComponentApis[r]==null?(console.error("Chart not found"),null):this._chartComponentApis[r].chart}isActiveChart(r){return eo()===r}setActiveChart(r){if(this._chartComponentApis[r]==null){console.error("Chart not found: ",r);return}om(r)}getMultiChart(){return C0()}getAllChartIds(){return[...this._allChartIds]}getVisibleChartIds(){return[...this._visibleChartIds()]}destroy(){console.log("Destroying chart");const r=Object.keys(this._chartComponentApis).length;console.log(`Destroying ${r} charts`),Object.entries(this._chartComponentApis).forEach(([t,n])=>{n.onCleanUp()}),this._dispose(),aL(),this._container.classList.remove("chartspire-ui"),this._container.removeAttribute("data-theme"),this._container.innerHTML="",this._container=null,this._chartApi=null,this._chartComponentApis={}}syncAllTickersToActiveChart(){nv().syncAllToActiveTicker(eo())}syncAllIntervalsToActiveChart(){av().syncAllToActiveInterval(eo())}}Ng.forEach(e=>{mm(e)});K_.forEach(e=>{a8(e)});const FV=()=>{const e=d1.useRef(null),r=d1.useRef(null);return d1.useEffect(()=>{if(e.current){const t={container:e.current,locale:"en-US",ticker:{exchange:"binance",market:"Crypto",name:"Bitcoin",shortName:"BTCUSDT",ticker:"BTCUSDT",priceCurrency:"usd",type:kt.CRYPTO},interval:{multiplier:1,timespan:"week",text:"W"},watchlistEnabled:!0,watchListUseExternalStorage:!1,defaultDataFeed:new pg,cryptoDataFeed:new pg,layoutUseExternalStorage:!1,layoutLimit:10,paperTradingEnabled:!0,paperTradingUseExternalStorage:!1,paperTradingPriceTrackingInterval:3e4,paperTradingMaxTrades:100,multiChartLimit:16,themeUseExternalStorage:!1};r.current=new DV(t)}return()=>{r.current&&(console.warn("chartRef.current.destroy() called in ChartSpireReact.tsx useEffect cleanup function"),r.current.destroy(),r.current=null)}},[]),Ss.jsx("div",{id:"container",ref:e})},lm={statusBar:{backgroundColor:"#ff6b6b",color:"white",padding:"8px 16px",textAlign:"center",fontWeight:"bold",fontSize:"14px",position:"absolute",top:0,left:0,right:0,zIndex:1000020,width:"100%",boxSizing:"border-box"},closeButton:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"18px",padding:"2px 6px"}};function RV(){const[e,r]=d1.useState(!0);return Ss.jsxs(Ss.Fragment,{children:[e&&Ss.jsxs("div",{style:lm.statusBar,children:[" Alpha v1.0.0-alpha12: Data from Binance API. This is a pre-release version for testing purposes only.",Ss.jsx("button",{style:lm.closeButton,onClick:()=>r(!1),title:"Hide status bar",children:""})]}),Ss.jsx(FV,{})]})}X3.createRoot(document.getElementById("root")).render(Ss.jsx(d1.StrictMode,{children:Ss.jsx(RV,{})}));
